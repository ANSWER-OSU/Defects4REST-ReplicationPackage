<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>166</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/166</ISSUEURL>
  <TITLE>Comment endpoint throws fatal error for invalid comments</TITLE>
  <DESCRIPTION>Trying to grab a non-existent comment from a post like so: http://local.trunk.dev/wp-json/posts/3184/comments/2 This error is thrown: ``` &lt;br /&gt; &lt;b&gt;Fatal error&lt;/b&gt;: Call to a member function format() on a non-object in &lt;b&gt;/srv/www/trunk/wp-content/plugins/wp-api/lib/class-wp-json-posts.php&lt;/b&gt; on line &lt;b&gt;1018&lt;/b&gt;&lt;br /&gt; ```</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #154 from WP-API/ensure-response Add json_ensure_response function to ensure either a WP_JSON_ResponseInterface or a WP_Error object is returned. Fixes #151.</MESSAGE>
    <SHA>c0f8ae38e4a16b1301b0b12c9bf82ddba765216b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Return WP_Error in get_comment for invalid comments - resolves #166</MESSAGE>
      <SHA>ef79d939a94d1586683b2aecb4513aa47b02b2ed</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-posts.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #171 from tlovett1/bugfix/fatal-error-on-invalid-comment Return WP_Error in get_comment for invalid comments - resolves #166</MESSAGE>
      <SHA>0113bf4ae2061279da5bbe1358ee85c0cceb4e75</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-posts.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Return WP_Error in get_comment for invalid comments - resolves #166</MESSAGE>
      <SHA>72e961d2c21915f40447d5901ae94d51b3eb1c0e</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-posts.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #171 from tlovett1/bugfix/fatal-error-on-invalid-comment Return WP_Error in get_comment for invalid comments - resolves #166</MESSAGE>
      <SHA>266ced8931422a285ede9934c7d598a4c2218e7b</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-posts.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
