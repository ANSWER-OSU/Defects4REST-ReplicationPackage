<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>67</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/67</ISSUEURL>
  <TITLE>Expose $post_id inside 'json_prepare_meta' filter in WP_JSON_Posts</TITLE>
  <DESCRIPTION>I need to alter the output of some custom fields in the json object. This is easy with 'json_prepare_meta' filter: https://github.com/WP-API/WP-API/blob/master/lib/class-wp-json-posts.php#L629 The problem that in order to do so I figured out I really need to know $post_id Inside that filter I only have access to $custom_fields, which holds the result of get_post_meta() and that's it. It would be nice if besides $custom_fields one could access also to $post_id while filtering the post meta, just like one can while filtering prepare_post function.</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>89</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #127 from WP-API/move-testhelper Move the test helper to a subdirectory</MESSAGE>
    <SHA>36f3f134d552bdebab092f8f4bfcaff57ee8a6cd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Include post ID with json_prepare_meta filter Props @kuching. Fixes #67.</MESSAGE>
      <SHA>11a2f942beeb8cbb50c5b70e6a15f0d404e0817b</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-posts.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Include post ID with json_prepare_meta filter Props @kuching. Fixes #67.</MESSAGE>
      <SHA>1fc0eb3e229d80acc6e4837361385f5daad38e09</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-posts.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
