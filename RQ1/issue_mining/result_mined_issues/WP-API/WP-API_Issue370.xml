<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>370</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/370</ISSUEURL>
  <TITLE>Add ability to get status as different header (support HTTP envelope)</TITLE>
  <DESCRIPTION>Browsers always follow 3xx redirects, and it's not possible to intercept requests between sending the first and any redirects. This causes an issue with in-browser OAuth, as requests must be signed and the signature includes the path. We should add the ability to get the header back as e.g. `X-WP-Status` instead, and always return 200.</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>130</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #473 from tlovett1/feature/admin-js Register client js in admin.</MESSAGE>
    <SHA>fc2da56b55441d70e50e8c7197c642d9d8e7f704</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>WP-API/WP-API#370 - Remove 302 http redirection for avoid problems with CORS restriction &quot;The request was redirected to 'http://xxxxx.com/wp-json/users/1', which is disallowed for cross-origin requests that require preflight.&quot;</MESSAGE>
      <SHA>d8703c529ddd5040b4bc3474eb93fcd516a8145c</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-users.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Added HTTP envelope to fix #370</MESSAGE>
      <SHA>cd2879d3bf5eb51000c6115ced99baa4b091a709</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-server.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>WP-API/WP-API#370 - Remove 302 http redirection for avoid problems with CORS restriction &quot;The request was redirected to 'http://xxxxx.com/wp-json/users/1', which is disallowed for cross-origin requests that require preflight.&quot;</MESSAGE>
      <SHA>fcaa081ae80be2455bab55d2aeeede138c0a28b2</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-users.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>WP-API/WP-API#370 - Remove 302 http redirection for avoid problems with CORS restriction &quot;The request was redirected to 'http://xxxxx.com/wp-json/users/1', which is disallowed for cross-origin requests that require preflight.&quot;</MESSAGE>
      <SHA>c819763d6fc254081fe94a4cea8fcf7e9f8636c4</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-users.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
