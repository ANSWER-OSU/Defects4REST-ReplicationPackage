<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>585</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/585</ISSUEURL>
  <TITLE>Use ID instead of email address to get user's avatar</TITLE>
  <DESCRIPTION>Can we change the `json_get_avatar_url()` function to accept `$email_or_id` the same way `get_avatar()` works and then use the user's ID to get the avatar in `prepare_user()`? I have a use case (I'm assuming others would as well) where some users don't have an email address because they were created from a twitter account. Because we're passing the email address instead of the ID, I have no way to detect what user is requesting an avatar in the `get_avatar` filter. https://github.com/WP-API/WP-API/blob/develop/lib/class-wp-json-users.php#L282</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>79</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #570 from WP-API/two-response-hypermedia Add hypermedia functionality to the response</MESSAGE>
    <SHA>5d0e51c28b49d85d8ffef2f2cbeb0232d94dc9ef</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Change param name for json_get_avatar_url() to $id_or_email #585</MESSAGE>
      <SHA>bafa6745e05183255a23235ac8aae629534d38fe</SHA>
      <PATCHEDFILES>
        <FILE>plugin.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Pass $user-&gt;ID to json_get_avatar_url() #585</MESSAGE>
      <SHA>0c15e038a3b748216e3c21b787efe9e959bf0d8d</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-users.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Change param name for json_get_avatar_url() to $id_or_email &amp; user ID in user controller when calling this function. #585</MESSAGE>
      <SHA>9f26854e7ed91e8977c83aa3cc1445deb780b573</SHA>
      <PATCHEDFILES>
        <FILE>lib/class-wp-json-users-controller.php</FILE>
        <FILE>lib/class-wp-json-users.php</FILE>
        <FILE>plugin.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
