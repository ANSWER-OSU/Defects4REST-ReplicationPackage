<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1859</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/1859</ISSUEURL>
  <TITLE>ModelImageService - Error creating thumbnail</TITLE>
  <DESCRIPTION>Version: 6.5.0 &gt; I'm getting the following exception when modeler creating a thumbnail upon saving the BPMN diagram. Is it a known issue and/or a bug? ```2019-07-26 00:22:36.549 ERROR 1 --- [nio-8080-exec-8] o.f.u.m.s.ModelImageService : Error creating thumbnail image 04019394-9f46-11e9-b69a-0242c0a81003 2019-07-26T00:22:36.562306377Z java.lang.NullPointerException: null at sun.awt.FontConfiguration.getVersion(Unknown Source) ~[?:1.8.0_212] at sun.awt.FontConfiguration.readFontConfigFile(Unknown Source) ~[?:1.8.0_212] at sun.awt.FontConfiguration.init(Unknown Source) ~[?:1.8.0_212] at sun.awt.X11FontManager.createFontConfiguration(Unknown Source) ~[?:1.8.0_212] at sun.font.SunFontManager$2.run(Unknown Source) ~[?:1.8.0_212] at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_212] at sun.font.SunFontManager.&lt;init&gt;(Unknown Source) ~[?:1.8.0_212] at sun.awt.FcFontManager.&lt;init&gt;(Unknown Source) ~[?:1.8.0_212] at sun.awt.X11FontManager.&lt;init&gt;(Unknown Source) ~[?:1.8.0_212] at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_212] at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_212] at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[?:1.8.0_212] at java.lang.reflect.Constructor.newInstance(Unknown Source) ~[?:1.8.0_212] at java.lang.Class.newInstance(Unknown Source) ~[?:1.8.0_212] at sun.font.FontManagerFactory$1.run(Unknown Source) ~[?:1.8.0_212] at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_212] at sun.font.FontManagerFactory.getInstance(Unknown Source) ~[?:1.8.0_212] at sun.font.SunFontManager.getInstance(Unknown Source) ~[?:1.8.0_212] at sun.font.FontDesignMetrics.getMetrics(Unknown Source) ~[?:1.8.0_212] at sun.java2d.SunGraphics2D.getFontMetrics(Unknown Source) ~[?:1.8.0_212] at org.flowable.image.impl.DefaultProcessDiagramCanvas.initialize(DefaultProcessDiagramCanvas.java:219) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.image.impl.DefaultProcessDiagramCanvas.&lt;init&gt;(DefaultProcessDiagramCanvas.java:178) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.image.impl.DefaultProcessDiagramGenerator.initProcessDiagramCanvas(DefaultProcessDiagramGenerator.java:1041) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.image.impl.DefaultProcessDiagramGenerator.generateProcessDiagram(DefaultProcessDiagramGenerator.java:574) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.image.impl.DefaultProcessDiagramGenerator.generateImage(DefaultProcessDiagramGenerator.java:553) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.image.impl.DefaultProcessDiagramGenerator.generateImage(DefaultProcessDiagramGenerator.java:560) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.image.impl.DefaultProcessDiagramGenerator.generatePngImage(DefaultProcessDiagramGenerator.java:565) ~[flowable-image-generator-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.ui.modeler.util.ImageGenerator.createImage(ImageGenerator.java:39) ~[flowable-ui-modeler-logic-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.ui.modeler.service.ModelImageService.generateThumbnailImage(ModelImageService.java:70) ~[flowable-ui-modeler-logic-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.flowable.ui.modeler.service.ModelImageService$$FastClassBySpringCGLIB$$6d09a974.invoke(&lt;generated&gt;) ~[flowable-ui-modeler-logic-6.5.0-SNAPSHOT.jar:6.5.0-SNAPSHOT] at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE] at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]```</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>updated Docker all-in-one build script to latest version</MESSAGE>
    <SHA>9db62eeec4a1aee228d67b60c0c7d1542a38520e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#1859 - Add fonts to docker image</MESSAGE>
      <SHA>c994061392936d0a532c3f856d725169e8b2c46a</SHA>
      <PATCHEDFILES>
        <FILE>docker/all-in-one/Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1859 - Add fonts to docker image</MESSAGE>
      <SHA>b70e9864665537438d3ddee4d860e87c362f439d</SHA>
      <PATCHEDFILES>
        <FILE>docker/all-in-one/Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1859 - Add fonts to docker image</MESSAGE>
      <SHA>fdc4f8a6f2989ca4d2676f59b5f7fde298cf0378</SHA>
      <PATCHEDFILES>
        <FILE>docker/all-in-one/Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1859 - Add fonts to docker image</MESSAGE>
      <SHA>8d17399afbdaa730a93250384dc4691a719d9e88</SHA>
      <PATCHEDFILES>
        <FILE>docker/all-in-one/Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1859 - Add fonts to docker image</MESSAGE>
      <SHA>0d449e4417d33cd498695d21c8195b337c046ce6</SHA>
      <PATCHEDFILES>
        <FILE>docker/all-in-one/Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1859 - Add fonts to docker image</MESSAGE>
      <SHA>4950fa27ee4a1c71a623872888ade5a67a19fdac</SHA>
      <PATCHEDFILES>
        <FILE>docker/all-in-one/Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
