<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>26</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/26</ISSUEURL>
  <TITLE>IdentityService does not correctly create membership when used in TaskListener::notify()</TITLE>
  <DESCRIPTION>This is my first issue report on github. I hope the description contains enough details and is structured in a way to add value to your project. I have recently migrated a project from activiti 6.0.0.Beta2 to 6.0.0.Beta3. The new version breaks a functionality which is using the _IdentityService_ to create groups and group memberships from within the _notify(DelegateTask delegateTask)_ function of a _TaskListener_. The attached test project ([reproduce-issue.tar.gz](https://github.com/flowable/flowable-engine/files/550498/reproduce-issue.tar.gz)) reproduces the issue. The test project: - is a spring-boot project integrating activiti 6.0.0.Beta4 with a H2 database. - contains a test class showing that using the _IdentityService_ directly to create a group and group memberships **is working as expected**. - contains a test class showing that creating a group and group memberships through a _TaskListener::notify(DelegateTask delegateTask)_ **does not persist all group members**. - can be executed with &quot;mvn clean verify&quot; It seems to me that, if calling IdentityService::createMembership(), only the last member is persisted in the failing scenario.</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Core engine transaction refactoring: javadocs for new classes</MESSAGE>
    <SHA>c44bb5c746539414ffd08f653b3afee944304fed</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Core engine transaction refactoring: additional tests for Spring (incl tests from https://github.com/flowable/flowable-engine/issues/26)</MESSAGE>
      <SHA>8dccb0c588acb47b324a914e05da22d12f282b19</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/cfg/IdmEngineConfigurator.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/activiti/engine/test/api/identity/IdmTransactionsTest.java</FILE>
        <FILE>modules/flowable-engine/src/test/resources/org/activiti/engine/test/api/identity/IdmTransactionsTest.testMultipleIdmCallsInDelegate.bpmn20.xml</FILE>
        <FILE>modules/flowable-spring/src/test/java/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.java</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest-context.xml</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testCommitOnNoException.bpmn</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testCreateMembershipsInTaskListener.bpmn20.xml</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testMultipleIdmCallsInDelegate.bpmn20.xml</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testTransactionRolledBackOnException.bpmn</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Proper transaction management for Idm/Form/Dmn (#35) * Core engine: proposal: refactoring transactions such that transactions span over process engine + idm (form/dmn would follow same pattern) * Core engine: cont. proposal: introduced TransactionContextAwareDataSource to cleanup code. * Move TransactionContextAwareTransactionFactory to common-engine (will be used by idm/form/dmn) * Core engine transaction refactoring: work in progress: introducing a ContextAwareJdbcTransaction that will close the transaction (so the DbSqlSession is clean again, and in Spring env no threadlocal is used) * Always open Core engine transaction refactoring: always open DbSqlSession when using StandaloneMyBatisContext. This way, the jdbc connection is always closed. By using the ContextAwareJdbcTransaction instead of the JdbcTransaction in Mybatis, the connection is stored on a threadlocal and reused for the idm engine (still need to do dmn + form). The benefit of this approach vs the previous commits is that in Spring, there is no need for any of these threadlocals anymore. * Core engine transaction refactoring: javadocs for new classes * Core engine transaction refactoring: additional tests for Spring (incl tests from https://github.com/flowable/flowable-engine/issues/26) * Core engine transaction refactoring: apply similar changes to dmn and form engine. * Core engine transaction refactoring: apply similar changes to dmn and form engine part 2 + fixes for bugs found when running ui's</MESSAGE>
      <SHA>2fe39a9816e375475f4e3c5b3bbf9be05a334b6f</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-admin/src/main/java/org/activiti/filter/FlowableCookieFilter.java</FILE>
        <FILE>modules/flowable-dmn-engine-configurator/src/main/java/org/activiti/dmn/engine/configurator/DmnEngineConfigurator.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/AbstractEngineConfiguration.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/impl/transaction/ConnectionHolder.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/impl/transaction/ContextAwareJdbcTransaction.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/impl/transaction/ContextAwareJdbcTransactionFactory.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/impl/transaction/TransactionContextAwareDataSource.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/impl/transaction/TransactionContextAwareTransactionFactory.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/activiti/engine/impl/transaction/TransactionContextHolder.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/DefaultCandidateManager.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/ProcessEngineImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/SchemaOperationProcessEngineClose.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/SchemaOperationsProcessEngineBuild.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/TaskQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/cfg/IdmEngineConfigurator.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/cfg/ProcessEngineConfigurationImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/cfg/multitenant/MultiSchemaMultiTenantProcessEngineConfiguration.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/cfg/standalone/StandaloneMybatisTransactionContext.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/context/Context.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/db/DbSqlSession.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/db/DbSqlSessionFactory.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/interceptor/TransactionContextInterceptor.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/persistence/entity/TableDataManagerImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/test/AbstractActivitiTestCase.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/activiti/engine/impl/test/ResourceActivitiTestCase.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/activiti/engine/test/api/identity/IdmTransactionsTest.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/activiti/engine/test/api/task/TaskQueryTest.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/activiti/engine/test/bpmn/servicetask/CreateUserAndMembershipTestDelegate.java</FILE>
        <FILE>modules/flowable-engine/src/test/resources/org/activiti/engine/test/api/identity/IdmTransactionsTest.testCommitOnNoException.bpmn</FILE>
        <FILE>modules/flowable-engine/src/test/resources/org/activiti/engine/test/api/identity/IdmTransactionsTest.testMultipleIdmCallsInDelegate.bpmn20.xml</FILE>
        <FILE>modules/flowable-engine/src/test/resources/org/activiti/engine/test/api/identity/IdmTransactionsTest.testTransactionRolledBackOnException.bpmn</FILE>
        <FILE>modules/flowable-form-api/src/main/java/org/activiti/form/api/FormService.java</FILE>
        <FILE>modules/flowable-form-engine-configurator/src/main/java/org/activiti/form/engine/configurator/FormEngineConfigurator.java</FILE>
        <FILE>modules/flowable-form-engine/src/main/java/org/activiti/form/engine/impl/FormServiceImpl.java</FILE>
        <FILE>modules/flowable-form-engine/src/main/resources/org/activiti/form/db/mapping/entity/FormDefinition.xml</FILE>
        <FILE>modules/flowable-idm-engine/src/main/java/org/activiti/idm/engine/IdmEngineConfiguration.java</FILE>
        <FILE>modules/flowable-idm-engine/src/main/java/org/activiti/idm/engine/impl/context/Context.java</FILE>
        <FILE>modules/flowable-idm-engine/src/main/java/org/activiti/idm/engine/impl/db/DbSqlSession.java</FILE>
        <FILE>modules/flowable-idm-engine/src/main/java/org/activiti/idm/engine/impl/interceptor/TransactionContextInterceptor.java</FILE>
        <FILE>modules/flowable-idm-engine/src/main/java/org/activiti/idm/engine/impl/persistence/entity/TableDataManagerImpl.java</FILE>
        <FILE>modules/flowable-idm-engine/src/main/resources/org/activiti/idm/db/mapping/common.xml</FILE>
        <FILE>modules/flowable-spring/src/test/java/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.java</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest-context.xml</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testCommitOnNoException.bpmn</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testCreateMembershipsInTaskListener.bpmn20.xml</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testMultipleIdmCallsInDelegate.bpmn20.xml</FILE>
        <FILE>modules/flowable-spring/src/test/resources/org/activiti/spring/test/transaction/SpringIdmTransactionsTest.testTransactionRolledBackOnException.bpmn</FILE>
        <FILE>modules/flowable-ui-idm/start-idm.sh</FILE>
        <FILE>modules/flowable-ui-modeler/flowable-ui-modeler-conf/src/main/java/org/activiti/app/filter/FlowableCookieFilter.java</FILE>
        <FILE>modules/flowable-ui-modeler/start-modeler.sh</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-app/src/main/resources/log4j.properties</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-conf/src/main/java/org/activiti/app/conf/ActivitiEngineConfiguration.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-conf/src/main/java/org/activiti/app/filter/FlowableCookieFilter.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiAppDefinitionService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiCommentService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiProcessDefinitionService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiProcessInstanceQueryService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiProcessInstanceService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiTaskActionService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiTaskFormService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiTaskQueryService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/ActivitiTaskService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/DeploymentServiceImpl.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/PermissionService.java</FILE>
        <FILE>modules/flowable-ui-task/flowable-ui-task-logic/src/main/java/org/activiti/app/service/runtime/RelatedContentService.java</FILE>
        <FILE>scripts/start-ui.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #26 from Activiti/master Sync the fork</MESSAGE>
      <SHA>eeb006102d41605bbc12f78d0d0bad86926452aa</SHA>
      <PATCHEDFILES>
        <FILE>distro/build.xml</FILE>
        <FILE>distro/src/notice.txt</FILE>
        <FILE>distro/src/readme.html</FILE>
        <FILE>modules/activiti-bpmn-converter/pom.xml</FILE>
        <FILE>modules/activiti-bpmn-converter/src/main/java/org/activiti/bpmn/converter/ServiceTaskXMLConverter.java</FILE>
        <FILE>modules/activiti-bpmn-converter/src/main/java/org/activiti/bpmn/converter/UserTaskXMLConverter.java</FILE>
        <FILE>modules/activiti-bpmn-converter/src/main/java/org/activiti/bpmn/converter/export/ActivitiListenerExport.java</FILE>
        <FILE>modules/activiti-bpmn-layout/pom.xml</FILE>
        <FILE>modules/activiti-bpmn-model/pom.xml</FILE>
        <FILE>modules/activiti-bpmn-model/src/main/java/org/activiti/bpmn/model/SendTask.java</FILE>
        <FILE>modules/activiti-bpmn-model/src/main/java/org/activiti/bpmn/model/ServiceTask.java</FILE>
        <FILE>modules/activiti-bpmn-model/src/main/java/org/activiti/bpmn/model/TaskWithFieldExtensions.java</FILE>
        <FILE>modules/activiti-camel/pom.xml</FILE>
        <FILE>modules/activiti-cdi/pom.xml</FILE>
        <FILE>modules/activiti-common-rest/pom.xml</FILE>
        <FILE>modules/activiti-crystalball/pom.xml</FILE>
        <FILE>modules/activiti-cxf/pom.xml</FILE>
        <FILE>modules/activiti-diagram-rest/pom.xml</FILE>
        <FILE>modules/activiti-engine/pom.xml</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/RuntimeService.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/TaskService.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/delegate/DelegateHelper.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/delegate/event/impl/ActivitiEventSupport.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/history/HistoricProcessInstance.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/history/HistoricProcessInstanceQuery.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/history/HistoricVariableInstanceQuery.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/AbstractNativeQuery.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/AbstractVariableQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/ExecutionQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/HistoricProcessInstanceQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/HistoricProcessInstanceQueryProperty.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/HistoricVariableInstanceQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/ProcessDefinitionQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/ProcessInstanceHistoryLogQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/ProcessInstanceQueryImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/RuntimeServiceImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/TaskServiceImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/AbstractAsyncJobExecutor.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/AcquireAsyncJobsDueRunnable.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/AcquireTimerJobsRunnable.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/DefaultAsyncJobExecutor.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/DefaultExecuteAsyncRunnableFactory.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/ExecuteAsyncRunnable.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/multitenant/ExecutorPerTenantAsyncExecutor.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/multitenant/SharedExecutorServiceAsyncExecutor.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/asyncexecutor/multitenant/TenantAwareAsyncExecutor.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/behavior/BoundaryEventActivityBehavior.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/behavior/ServiceTaskDelegateExpressionActivityBehavior.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/behavior/TerminateEndEventActivityBehavior.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/behavior/UserTaskActivityBehavior.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/deployer/BpmnDeployer.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/helper/ClassDelegate.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/helper/DelegateExpressionActivitiEventListener.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/helper/DelegateExpressionUtil.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/helper/ErrorPropagation.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/parser/factory/DefaultActivityBehaviorFactory.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/parser/handler/SignalEventDefinitionParseHandler.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/parser/handler/StartEventParseHandler.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/bpmn/parser/handler/TimerEventDefinitionParseHandler.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/cfg/DelegateExpressionFieldInjectionMode.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/cfg/ProcessEngineConfigurationImpl.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/cmd/GetExecutionsVariablesCmd.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/cmd/GetTasksLocalVariablesCmd.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/cmd/JobRetryCmd.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/db/DbSqlSession.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/history/DefaultHistoryManager.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/history/HistoryManager.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/history/handler/StartEventEndHandler.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/jobexecutor/TimerEventHandler.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/jobexecutor/TimerStartEventJobHandler.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/persistence/entity/ExecutionEntity.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/persistence/entity/HistoricProcessInstanceEntity.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/persistence/entity/HistoricScopeInstanceEntity.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/persistence/entity/TimerEntity.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/persistence/entity/VariableInstanceEntityManager.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/impl/test/AbstractActivitiTestCase.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/runtime/ExecutionQuery.java</FILE>
        <FILE>modules/activiti-engine/src/main/java/org/activiti/engine/runtime/ProcessInstanceQuery.java</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/EventSubscription.xml</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/Execution.xml</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/HistoricProcessInstance.xml</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/HistoricTaskInstance.xml</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/HistoricVariableInstance.xml</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/Task.xml</FILE>
        <FILE>modules/activiti-engine/src/main/resources/org/activiti/db/mapping/entity/VariableInstance.xml</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/event/TaskEventsTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/event/TestActivitiEntityEventTaskListener.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/history/HistoricProcessInstanceAndVariablesQueryTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/history/HistoricProcessInstanceQueryVersionTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/history/HistoricTaskAndVariablesQueryTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/history/HistoryServiceTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/history/NonCascadeDeleteTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/runtime/ExecutionAndProcessInstanceQueryVersionTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/runtime/ExecutionQueryTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/runtime/ProcessInstanceAndVariablesQueryTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/runtime/ProcessInstanceQueryTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/runtime/RuntimeVariablesTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/task/TaskAndVariablesQueryTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/api/task/TaskVariablesTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/deployment/MessageEventsAndNewVersionDeploymentsWithTenantIdTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/event/end/TerminateEndEventTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/event/error/BoundaryErrorEventTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/event/signal/SignalEventTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/event/timer/BoundaryTimerEventTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/event/timer/StartTimerEventTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/multiinstance/MultiInstanceTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/bpmn/subprocess/SubProcessTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/engine/test/history/HistoricVariableInstanceTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/standalone/jpa/HistoricJPAVariableTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/java/org/activiti/standalone/validation/DefaultProcessValidatorTest.java</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/event/TaskEventsTest.testEventFiring.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/oneTaskProcess.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/runtime/RuntimeVariablesTest.testGetVariablesByExecutionIds.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/runtime/concurrentExecution.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/runtime/oneTaskProcess.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/runtime/oneTaskProcess2.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/runtime/variableScope.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/api/task/TaskVariablesTest.testGetVariablesLocalByTaskIds.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/bpmn/event/signal/SignalEventTest.testMultipleSignalStartEvents.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/bpmn/event/timer/BoundaryTimerEventTest.testRepeatTimerDuration.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/bpmn/event/timer/StartTimerEventTest.testMultipleStartEvents.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/engine/test/bpmn/multiinstance/MultiInstanceTest.testEndTimeOnMiSubprocess.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/standalone/jpa/HistoricJPAVariableTest.testGetJPAEntityAsHistoricLog.bpmn20.xml</FILE>
        <FILE>modules/activiti-engine/src/test/resources/org/activiti/standalone/jpa/HistoricJPAVariableTest.testGetJPAEntityAsHistoricVariable.bpmn20.xml</FILE>
        <FILE>modules/activiti-explorer/pom.xml</FILE>
        <FILE>modules/activiti-explorer/src/main/java/org/activiti/explorer/Messages.java</FILE>
        <FILE>modules/activiti-explorer/src/main/java/org/activiti/explorer/ui/login/ExplorerLoginForm.java</FILE>
        <FILE>modules/activiti-explorer/src/main/java/org/activiti/explorer/ui/reports/ReportDetailPanel.java</FILE>
        <FILE>modules/activiti-explorer/src/main/resources/messages.properties</FILE>
        <FILE>modules/activiti-hazelcast-async-executor/pom.xml</FILE>
        <FILE>modules/activiti-image-generator/pom.xml</FILE>
        <FILE>modules/activiti-jmx/pom.xml</FILE>
        <FILE>modules/activiti-json-converter/pom.xml</FILE>
        <FILE>modules/activiti-ldap/pom.xml</FILE>
        <FILE>modules/activiti-modeler/pom.xml</FILE>
        <FILE>modules/activiti-mule/pom.xml</FILE>
        <FILE>modules/activiti-osgi/pom.xml</FILE>
        <FILE>modules/activiti-osgi/src/test/java/org/activiti/osgi/blueprint/BlueprintBasicTest.java</FILE>
        <FILE>modules/activiti-process-validation/pom.xml</FILE>
        <FILE>modules/activiti-process-validation/src/main/java/org/activiti/validation/validator/impl/ExternalInvocationTaskValidator.java</FILE>
        <FILE>modules/activiti-process-validation/src/main/java/org/activiti/validation/validator/impl/StartEventValidator.java</FILE>
        <FILE>modules/activiti-rest/pom.xml</FILE>
        <FILE>modules/activiti-rest/src/test/java/org/activiti/rest/service/api/runtime/TaskResourceTest.java</FILE>
        <FILE>modules/activiti-rest/src/test/resources/org/activiti/rest/service/api/runtime/TaskResourceTest.testReclaimTask.bpmn20.xml</FILE>
        <FILE>modules/activiti-simple-workflow-alfresco/pom.xml</FILE>
        <FILE>modules/activiti-simple-workflow-alfresco/src/main/java/org/activiti/workflow/simple/alfresco/conversion/AlfrescoConversionConstants.java</FILE>
        <FILE>modules/activiti-simple-workflow/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-actuator/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-basic/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-custom-mybatis-mapper/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-integration/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-jpa/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-rest-api-security/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-rest-api/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-samples/spring-boot-sample-security/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/activiti-spring-boot-starter-actuator/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/activiti-spring-boot-starter-basic/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/activiti-spring-boot-starter-integration/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/activiti-spring-boot-starter-jpa/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/activiti-spring-boot-starter-rest-api/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/activiti-spring-boot-starter-security/pom.xml</FILE>
        <FILE>modules/activiti-spring-boot/spring-boot-starters/pom.xml</FILE>
        <FILE>modules/activiti-spring/pom.xml</FILE>
        <FILE>modules/activiti-spring/src/main/java/org/activiti/spring/SpringConfigurationHelper.java</FILE>
        <FILE>modules/activiti-spring/src/test/java/org/activiti/spring/test/fieldinjection/PrototypeDelegateExpressionBean.java</FILE>
        <FILE>modules/activiti-spring/src/test/java/org/activiti/spring/test/fieldinjection/ServiceTaskFieldInjectionTest.java</FILE>
        <FILE>modules/activiti-spring/src/test/java/org/activiti/spring/test/fieldinjection/SingletonDelegateExpressionBean.java</FILE>
        <FILE>modules/activiti-spring/src/test/resources/org/activiti/spring/test/fieldinjection/ServiceTaskFieldInjectionTest.testDelegateExpressionWithPrototypeBean.bpmn20.xml</FILE>
        <FILE>modules/activiti-spring/src/test/resources/org/activiti/spring/test/fieldinjection/ServiceTaskFieldInjectionTest.testDelegateExpressionWithSingletonBean.bpmn20.xml</FILE>
        <FILE>modules/activiti-spring/src/test/resources/org/activiti/spring/test/fieldinjection/fieldInjectionSpringTest-context.xml</FILE>
        <FILE>modules/activiti-spring/src/test/resources/org/activiti/spring/test/servicetask/servicetaskSpringTest-context.xml</FILE>
        <FILE>modules/activiti-webapp-explorer2/pom.xml</FILE>
        <FILE>modules/activiti-webapp-rest2/pom.xml</FILE>
        <FILE>pom.xml</FILE>
        <FILE>qa/dbclean/pom.xml</FILE>
        <FILE>qa/upgrade/pom.xml</FILE>
        <FILE>tooling/archetypes/activiti-archetype-unittest/pom.xml</FILE>
        <FILE>tooling/archetypes/activiti-archetype-unittest/src/main/resources/archetype-resources/pom.xml</FILE>
        <FILE>tooling/archetypes/pom.xml</FILE>
        <FILE>userguide/src/en/ch07b-BPMN-Constructs.adoc</FILE>
        <FILE>userguide/src/en/ch19-tooling.adoc</FILE>
        <FILE>userguide/src/en/index.adoc</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
