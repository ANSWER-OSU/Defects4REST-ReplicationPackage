<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2417</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/2417</ISSUEURL>
  <TITLE>Bug: The server closed the connection</TITLE>
  <DESCRIPTION>Node: **v12.22.12** Arch: **x64** Platform: **linux** Docker: **true** Database: **mysql2** ProjectOnRootDB: **false** RootDB: **mysql2** PackageVersion: **0.91.10** NocoDB used as docker : true NocoDB version : 0.91.10 Database used in NC_DB URL : mysql Project was created by clicking : New Project by connecting to external database Database on which spreadsheet is created : mysql OS on which NocoDB is running : Centos 7.4 Node.js version if running as node : Database version : 5.7 **Steps To Reproduce** 1. remote connections accessing databases，use docker run command docker run -d --name=nocodb --restart always -v nocodb:/usr/app/data \ -e NC_DB=&quot;mysql2://remote host:port?u=noco&amp;p=password&amp;d=noco_db&quot; \ nocodb/nocodb:latest 2. visit localhost successfully。 3. page not closed，idle for about 2 hours，then add table andimport csv error。 ``` GET /api/v1/db/meta/nocodb/info 400 104 - 8.242 ms R :: Error: select * from `nc_models_v2` where `project_id` = 'p_bb896rlmj2ron9' and `base_id` = 'ds_4yzk0quzj8cyp3' order by `order` asc - Can't add new command when connection is in closed state ``` **Expected Behavior** Problem solving after restart docker Database provided by DBA I don't know whether it is a database configuration problem or a code problem **Screenshots** ![add bug](https://user-images.githubusercontent.com/42569476/174305728-33fa1a0c-298c-4911-8745-072ef9b18af7.png) ![bug](https://user-images.githubusercontent.com/42569476/174305734-b0096e8c-8225-49f6-b537-59784c81b748.png) If applicable, add screenshots to help explain your problem. Join our discord : https://discord.gg/5RgZmkW for realtime help.</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>244</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(nc-gui): remove image cropeer restriction and after submit form message alignment</MESSAGE>
    <SHA>3b8ceeb9c8d431a53b54d451739e884ae19f021b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>eb278338c9c723344d98f26569f4cfb0be8eea7c</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>1cca809306e3c28ac41d94f10aa41e5430db753d</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>7f8bdd3aab63555ca486ebbc94590a5cfd662c35</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>7214dd6b5432a956e23c5e2d4a1192eae4518e5f</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>392e385aeb08fbdac3f051b74587da9a612b8be1</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>345888cc41ebcfc0f78abc1bed07f9f1058fbdaa</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): PR review changes #2417</MESSAGE>
      <SHA>776454cc4e3aab8b1675a961a0743e6d09e74c88</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cell/RichText/SelectedBubbleMenu.vue</FILE>
        <FILE>packages/nc-gui/components/project/AllTables.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/form/LimitOptions.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
