<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5105</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/5105</ISSUEURL>
  <TITLE>Feature: Rename Table CamelCase (Alias) only!</TITLE>
  <DESCRIPTION>### Please confirm if feature request does NOT exists already ? - [X] I confirm there is no existing issue for this ### Describe the usecase for the feature A relatively small feature that can also be implemented quickly. I want to be able to rename a table alias even if it's just CamalCase changes. ### Suggested Solution Here is a git diff: ```javascript diff --git a/packages/nocodb/src/lib/meta/api/tableApis.ts b/packages/nocodb/src/lib/meta/api/tableApis.ts index 67019bc5c..69b5b7bbe 100644 --- a/packages/nocodb/src/lib/meta/api/tableApis.ts +++ b/packages/nocodb/src/lib/meta/api/tableApis.ts @@ -266,15 +266,11 @@ export async function tableUpdate(req: Request&lt;any, any&gt;, res) { ); } - if ( - !(await Model.checkTitleAvailable({ - table_name: req.body.table_name, - project_id: project.id, - base_id: base.id, - })) - ) { - NcError.badRequest('Duplicate table name'); - } + const schould_rename = await Model.checkTitleAvailable({ + table_name: req.body.table_name, + project_id: project.id, + base_id: base.id, + }); if (!req.body.title) { req.body.title = getTableNameAlias( @@ -317,11 +313,13 @@ export async function tableUpdate(req: Request&lt;any, any&gt;, res) { req.body.table_name ); - await sqlMgr.sqlOpPlus(base, 'tableRename', { - ...req.body, - tn: req.body.table_name, - tn_old: model.table_name, - }); + if (schould_rename) { + await sqlMgr.sqlOpPlus(base, 'tableRename', { + ...req.body, + tn: req.body.table_name, + tn_old: model.table_name, + }); + } Tele.emit('evt', { evt_type: 'table:updated' }); diff --git a/packages/nocodb/src/lib/models/Model.ts b/packages/nocodb/src/lib/models/Model.ts index 3708b2e38..07da90980 100644 --- a/packages/nocodb/src/lib/models/Model.ts +++ b/packages/nocodb/src/lib/models/Model.ts @@ -752,16 +752,20 @@ export default class Model implements TableType { }: { title; project_id; base_id; exclude_id? }, ncMeta = Noco.ncMeta ) { - return !(await ncMeta.metaGet2( - project_id, - base_id, - MetaTable.MODELS, - { - title, - }, - null, - exclude_id &amp;&amp; { id: { neq: exclude_id } } - )); + return ( + ( + await ncMeta.metaGet2( + project_id, + base_id, + MetaTable.MODELS, + { + title, + }, + null, + exclude_id &amp;&amp; { id: { neq: exclude_id } } + ) + ).title || undefined == title + ); } async getAliasColObjMap() { ``` ### Additional Context You can see the Diff also here: https://github.com/semmjon/nocodb/commit/a5c4b49d9af081c1fb24ae07f9721eb9bae05b16?diff=unified</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>260</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #5123 from nocodb/l10n_develop_2 New Crowdin updates</MESSAGE>
    <SHA>3181a5778e7765bb9007ef5a885d3e85c716fd41</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>PRÂ´s for: - https://github.com/nocodb/nocodb/issues/5105 - https://github.com/nocodb/nocodb/issues/5103</MESSAGE>
      <SHA>98f70eca97bb45be9681bd06442a5b58b7ac0cda</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useProject.ts</FILE>
        <FILE>packages/nc-gui/pages/[projectType]/[projectId]/index/index/index.vue</FILE>
        <FILE>packages/nocodb/src/lib/meta/api/tableApis.ts</FILE>
        <FILE>packages/nocodb/src/lib/models/Model.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
