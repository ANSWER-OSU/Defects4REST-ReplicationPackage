<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7851</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/7851</ISSUEURL>
  <TITLE>Bug: Image display issue</TITLE>
  <DESCRIPTION>### Please confirm if bug report does NOT exist already ? - [X] I confirm there is no existing issue for this ### Steps to reproduce ? * Create a table where the records (rows) include an &quot;Attachment&quot; field, and populate the attachments with images (preferably of varying aspect ratios, but simple square images will do) * Create a gallery view for the table and assign the attachment images as the &quot;cover image&quot; for the gallery * Observe that, since all cover images are scaled to fit 100% width of their gallery &quot;cards&quot;, images with a height:width aspect ratio larger than the predetermined aspect ratio of the &quot;cover image&quot; display box (which is approx approx 0.8:1) are undesirably cropped * A good example of this problem would be a gallery view of book jacket artworks, which traditionally have a substantially portrait aspect ratio, so are currently zoomed/cropped in display so as to make many title/author details unreadable ### Desired Behavior * &quot;Cover images&quot; in gallery view should display the whole picture assigned to be view, regardless of original image aspect ratio, without cropping the image * For images with a heigh:width aspect ratio greater than the approx 0.8:1 aspect ratio of the display box, this would mean fitting the content based on a 100% height fit, instead of a 100% width fit * This issue appears to have previously been address with a perfectly workable solution (based on the screenshots shown) in fix #4137 - however this fix does not seem to be present in recent versions of nocod ### Project Details Node: **v18.17.1** Arch: **x64** Platform: **linux** Docker: **true** RootDB: **sqlite3** PackageVersion: **0.202.5** ### Attachments _No response_</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(nc-gui): allow upload same file next time</MESSAGE>
    <SHA>3e085edc9cc558d5aa6b1361312214d1e1ad581b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix(nc-gui): gallery image display issue nocodb/nocodb/issues/7851</MESSAGE>
      <SHA>c7f8ae8efe73f1eb7317f513f059eaff3dbadec8</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/smartsheet/Gallery.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): gallery image display issue nocodb/nocodb/issues/7851</MESSAGE>
      <SHA>7950b77896ebcd453f4922d20c43189868bd0bfc</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/smartsheet/Gallery.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): gallery image display issue nocodb/nocodb/issues/7851</MESSAGE>
      <SHA>0b269662d5c24baaee20d0ecabaf5f746932b9cb</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/smartsheet/Gallery.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): gallery image display issue nocodb/nocodb/issues/7851</MESSAGE>
      <SHA>e79ad362767f85289828d04a01647a80cf573d88</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/smartsheet/Gallery.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): gallery image display issue nocodb/nocodb/issues/7851</MESSAGE>
      <SHA>42b540e56285e741f718bc1107bd3f852f5aa2d4</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/smartsheet/Gallery.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Nc feat/survey form v2 (#7843) * fix(nc-gui): survey form v2 setup * fix(nc-gui): survey form ui updated * fix(nc-gui): survery form ui changes for oss * chore(nc-gui): lint * chore(nc-gui): lint * chore(nc-gui): revert unrelated changes * test(nc-gui): update pw test of survey form * fix(nc-gui): update survey form according to new design * fix(nc-gui): add survey form slide animation * fix(nc-gui): hide survey form pagination in first slide * fix(nc-gui): optimize shared form for mobile screen * chore(nc-gui): lint * fix(nc-gui): pw test fail issue * fix(nc-gui): some of the pr review changes * fix(nc-gui): add placeholder for datetime related fields * fix(nc-gui): allow upload same file next time * fix(nc-gui): gallery image display issue nocodb/nocodb/issues/7851 * chore(nc-gui): lint * fix(nc-gui): survey form ui changes for oss * fix(nc-gui): use i18n for survey form * fix(nc-gui): use keydown space for date, datetime fields to open modal in survey form</MESSAGE>
      <SHA>2cd0a1c74a172e114b07bbbfd2caee81d6620b19</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/assets/nc-icons/arrow-left.svg</FILE>
        <FILE>packages/nc-gui/assets/nc-icons/arrow-right.svg</FILE>
        <FILE>packages/nc-gui/assets/nc-icons/circle-check.svg</FILE>
        <FILE>packages/nc-gui/components/cell/Checkbox.vue</FILE>
        <FILE>packages/nc-gui/components/cell/DatePicker.vue</FILE>
        <FILE>packages/nc-gui/components/cell/DateTimePicker.vue</FILE>
        <FILE>packages/nc-gui/components/cell/TimePicker.vue</FILE>
        <FILE>packages/nc-gui/components/cell/YearPicker.vue</FILE>
        <FILE>packages/nc-gui/components/cell/attachment/index.vue</FILE>
        <FILE>packages/nc-gui/components/cell/attachment/utils.ts</FILE>
        <FILE>packages/nc-gui/components/dashboard/TreeView/TableNode.vue</FILE>
        <FILE>packages/nc-gui/components/nc/Badge.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/Form.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/Gallery.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/calendar/DayView/DateField.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/calendar/DayView/DateTimeField.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/calendar/MonthView.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/calendar/SideMenu.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/calendar/WeekView/DateField.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/calendar/WeekView/DateTimeField.vue</FILE>
        <FILE>packages/nc-gui/composables/useSharedFormViewStore.ts</FILE>
        <FILE>packages/nc-gui/lang/en.json</FILE>
        <FILE>packages/nc-gui/pages/index/[typeOrId]/form/[viewId]/index.vue</FILE>
        <FILE>packages/nc-gui/pages/index/[typeOrId]/form/[viewId]/index/index.vue</FILE>
        <FILE>packages/nc-gui/pages/index/[typeOrId]/form/[viewId]/index/survey.vue</FILE>
        <FILE>packages/nc-gui/utils/iconUtils.ts</FILE>
        <FILE>tests/playwright/pages/Dashboard/SurveyForm/index.ts</FILE>
        <FILE>tests/playwright/tests/db/views/viewFormShareSurvey.spec.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
