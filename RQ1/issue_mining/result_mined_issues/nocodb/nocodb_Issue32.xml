<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>32</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/32</ISSUEURL>
  <TITLE>Getting xmysql to work on AWS lambda</TITLE>
  <DESCRIPTION>I was able to get xmysql to work on AWS lambda. This is just some docs on the process to help others. Typescript code for index.ts: ```typescript import * as bodyParser from 'body-parser'; import * as express from 'express'; const serverless = require('serverless-http'); import * as cors from 'cors'; import { APIGatewayEvent, Context } from 'aws-lambda'; import * as config from './util/env-config'; import { NextFunction, Request, Response } from 'express'; import { AutoBeheerderError } from './util/autobeheerder-error'; const mysql = require('mysql'); const Xapi = require('./node_modules/xmysql/lib/xapi.js'); const morgan = require('morgan'); const app = express(); let onXapiInitialized = new Promise&lt;void&gt;((resolve, reject) =&gt; { try { // /**************** START : setup express ****************/ app.use(morgan('tiny')); app.use(cors()); app.use(bodyParser.json()); app.use(bodyParser.urlencoded({ extended: true })); // /**************** END : setup express ****************/ app.use((req: Request, res: Response, next: NextFunction) =&gt; { // You can add authentication here console.log('got request for: ' + req.url, req); next(); }); let mysqlConfig = { host: config.envConfig.mysql.host, port: 3306, database: config.envConfig.mysql.database, user: config.envConfig.mysql.user, password: config.envConfig.mysql.password, apiPrefix: '/', ipAddress: 'localhost', portNumber: 3000, ignoreTables: [], storageFolder: __dirname }; let mysqlPool = mysql.createPool(mysqlConfig); let xapi = new Xapi(mysqlConfig, mysqlPool, app); xapi.init(async (err: any, results: any) =&gt; { app.listen(3000); resolve(); }); } catch (err) { reject(err); } }); export function handler(event: APIGatewayEvent, context: Context, callback: Function) { onXapiInitialized.then(() =&gt; { serverless(app)(event, context, callback); }); } ``` AWS setup notes: * The deploy uses serverless: https://serverless.com/framework/docs/getting-started/ * The lambda function is accessed through API Gateway and access the RDS (mysql) database ** Make sure you deploy your API Gateway setup otherwise it won't be accessible. * The security setup: ** You need to put your lambda in a VPC ** The lambda role needs access to the VPC ** The RDS server has to be inside the VPC as well Performance: * Requests to the API Gateway resolve in ~ 90ms</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #31 from nocodb/feat/cowriter wip(cowriter): auto complete</MESSAGE>
    <SHA>4c9f435d3ec61ea3908d2986e015a3f56efebc30</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #32 from nocodb/feat/cowriter wip(cowriter): implementation</MESSAGE>
      <SHA>6d9261dd028a417e32040a36c64f87ac4df73d87</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/components/cowriter/ApiSnippet.vue</FILE>
        <FILE>packages/nc-gui/components/cowriter/CowriterList.vue</FILE>
        <FILE>packages/nc-gui/components/cowriter/CreateColumnUsingAIDlg.vue</FILE>
        <FILE>packages/nc-gui/components/cowriter/Form.vue</FILE>
        <FILE>packages/nc-gui/components/cowriter/Header.vue</FILE>
        <FILE>packages/nc-gui/components/cowriter/Input.vue</FILE>
        <FILE>packages/nc-gui/components/cowriter/Prompt.vue</FILE>
        <FILE>packages/nc-gui/components/smartsheet/ApiSnippet.vue</FILE>
        <FILE>packages/nc-gui/composables/useCowriterStore.ts</FILE>
        <FILE>packages/nc-gui/layouts/cowriter.vue</FILE>
        <FILE>packages/nc-gui/utils/NcAutocompleteTree.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
