<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>16652</ISSUENO>
  <ISSUEURL>https://github.com/TryGhost/Ghost/issues/16652</ISSUEURL>
  <TITLE>Card assets files aren't generated by Ghost when using the `include` keyword</TITLE>
  <DESCRIPTION>### Issue Summary According to the [CardAssetService file](https://github.com/TryGhost/Ghost/blob/main/ghost/core/core/frontend/services/card-assets/service.js#L33-L38), a theme developer could specify the list of assets files (JavaScript and CSS) they want Ghost to be generate. I don't know if I'm the only one having this bug, but when I add the `card_assets.include` keyword in my `package.json` file, the `cards.min.css` and `cards.min.js` files aren't generated by Ghost. ```json { &quot;config&quot;: { &quot;card_assets&quot;: { &quot;include&quot;: [ &quot;audio&quot;, &quot;header&quot; ] } } ``` And I tried to debug and see the generated globs [here](https://github.com/TryGhost/Ghost/blob/main/ghost/core/core/frontend/services/card-assets/service.js#L104), but I haven't been able to see any relevant debug logs. Maybe I'm doing something wrong with my debug configuration? Here is my `docker-compose` file with the `DEBUG` variable set to `card-assets`. ```yaml version: '3.8' services: ghost: container_name: &quot;ghost&quot; environment: NODE_ENV: 'development' server__port: 2368 url: 'http://localhost:2368' DEBUG: 'card-assets' image: ghost:5.43.0-alpine ports: - &quot;2368:2368&quot; volumes: - './.content/config.production.json:/var/lib/ghost/config.production.json' - './.content/data:/var/lib/ghost/content/data' - './.content/images:/var/lib/ghost/content/images' - './.content/logs:/var/lib/ghost/content/logs' - './.content/settings:/var/lib/ghost/content/settings' - './:/var/lib/ghost/content/themes/casper' ``` Here are some screenshots: **With `exclude` (working as expected):** ![image](https://user-images.githubusercontent.com/7907713/232500014-2df20a25-37ac-42f0-bf92-44143d305caa.png) **With `include` (not working):** ![image](https://user-images.githubusercontent.com/7907713/232500251-6fe8c344-16e8-4d0b-a892-cec1b2aa72eb.png) ### Steps to Reproduce 1. Specify the `card_assets.include` keyword in your theme `package.json`. ```json { &quot;config&quot;: { &quot;card_assets&quot;: { &quot;include&quot;: [ &quot;audio&quot;, &quot;header&quot; ] } } ``` 2. Restart Ghost 3. Open your website and check if the `cards.min.css` and `cards.min.js` files were generated and included by Ghost. ### Ghost Version 5.43.0 ### Node.js Version v18.15.0 ### How did you install Ghost? Docker ### Database type SQLite3 ### Browser &amp; OS version _No response_ ### Relevant log / error output _No response_ ### Code of Conduct - [X] I agree to be friendly and polite to people in this repository</DESCRIPTION>
  <REPONAME>Ghost</REPONAME>
  <TIMEDIFFERENCEDAYS>23</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[FIX] Card assets files generated on include keyword issue fixed closes - 16652 How - In the case of include keyword if we need @ keyword before '(' according to the globrex package used in tiny-glob used here. I've changed it and tested it and its working fine now.</MESSAGE>
    <SHA>7319bfe56e202378ad1233731cacd00a40974d9a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[UPDATE] Test cases updated for card-assets.test.js [ADD] Test case added in @tryghost/minifier - minifier.test.js Closes - #16652</MESSAGE>
      <SHA>5c37b6df9cd86d0b937b1a18b6761221fa5de5c1</SHA>
      <PATCHEDFILES>
        <FILE>ghost/core/test/unit/frontend/services/card-assets.test.js</FILE>
        <FILE>ghost/minifier/test/minifier.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
