<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>211</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/211</ISSUEURL>
  <TITLE>ShippingService GetDimensions - cube root method should also apply to associated products</TITLE>
  <DESCRIPTION>The below in dealing with associated products will suffer from same problem as the other non-cube root method in volume calculation. Both the addition (+) of the additional product dimensions in GetDimensions, as well as the GetAssociatedProductDimensions method itself. I think GetVolume and GetAssociatedProductVolume methods would be useful. ``` public virtual void GetDimensions(IList&lt;GetShippingOptionRequest.PackageItem&gt; packageItems, ``` ... ``` if (_shippingSettings.UseCubeRootMethod) ``` ... ``` GetAssociatedProductDimensions(shoppingCartItem, out associatedProductsWidth, out associatedProductsLength, out associatedProductsHeight); var productWidth = product.Width + associatedProductsWidth; var productLength = product.Length + associatedProductsLength; var productHeight = product.Height + associatedProductsHeight; public virtual void GetAssociatedProductDimensions(ShoppingCartItem shoppingCartItem, ``` ... ``` foreach (var attributeValue in attributeValues) ``` ... ``` width += associatedProduct.Width*attributeValue.Quantity; length += associatedProduct.Length * attributeValue.Quantity; height += associatedProduct.Height*attributeValue.Quantity; ``` Source: http://www.nopcommerce.com/boards/t/33728/shippingservice-getdimensions-cube-root-method-should-also-apply-to-associated-products.aspx [AM] Should we summarize associated product dimensions? Maybe a store owner already entered the main product dimensions including associated ones? We should make it configurable</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>368</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #2037 from kwestground/develop Update installation.sv.xml</MESSAGE>
    <SHA>222d4440e7d1300d071cd2b02ea74e62d3c514af</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#211 Apply cube root method to associated products</MESSAGE>
      <SHA>85c046ac59b333c689ff24f0f0bdcb11ddda903e</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Shipping/ShippingSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Shipping/ShippingService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Settings/ShippingSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Setting/Shipping.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Shipping/CalculateDimensionsTests.cs</FILE>
        <FILE>upgradescripts/3.80-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
