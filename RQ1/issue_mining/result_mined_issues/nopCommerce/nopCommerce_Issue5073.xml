<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5073</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5073</ISSUEURL>
  <TITLE>Apply 'LowStockActivity' to product with combinations (out of stock)</TITLE>
  <DESCRIPTION>nopCommerce version: 4.30+ Steps to reproduce the problem: - Go to the any product in admin - Create the attribute combination with stock (if needed) - Set 'ManageInventoryMethod' to 'ManageStockByAttributes' - Check 'AllowAddingOnlyExistingAttributeCombinations' - Save the product - Add the product with the combination(s) in the cart so that the stock by the all combinations was 0 after as the order will be placed. - Place order - Go to the product page in public. the 'LowStockActivity' (unpublished or disable add to cart button) is not applied. We should apply the 'LowStockActivity' in the [AdjustInventory(...)](https://github.com/nopSolutions/nopCommerce/blob/7d710a6100c4fb991d422e8fc5d3c9787f926b9a/src/Libraries/Nop.Services/Catalog/ProductService.cs#L1311) method if 'ManageInventoryMethod' = 'ManageStockByAttributes' , 'AllowAddingOnlyExistingAttributeCombinations' = true and the stock by the all combinations &lt;= MinStockQuantity</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>26</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#5091 Fixed decimal serialization error for inline table editing</MESSAGE>
    <SHA>bbcd7d886bf0c3d874bff3f15355bf9baf8fb907</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5073 Fix applying 'LowStockActivity' to product with combinations</MESSAGE>
      <SHA>5e796b2ee88cc175abe700b6e5883c82f56910e8</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Product/_CreateOrUpdate.Inventory.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
