<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6153</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6153</ISSUEURL>
  <TITLE>Move customer fields from GenericAttribute table to Customer table. Prepare the upgrade scripts.</TITLE>
  <DESCRIPTION>nopCommerce version: develop In continuation of #4601. We should prepare the SQL scripts (for each supported db provider) for the upgrade. It will be needed for users who will update db manually, without migration (for example, if there are many records in the `Customer` and `GenericAttribute` tables).</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>33</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#6089 Fixed some controller actions that are not consistent with PRG pattern(#6094)</MESSAGE>
    <SHA>70a4aa029622f00caaff956f2a86030054390e69</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6153 upgrade script added to move customer fields from GenericAttribute table to Customer table</MESSAGE>
      <SHA>b0f4eaeb8e8219f975c163a2d24f96afc51f3f2e</SHA>
      <PATCHEDFILES>
        <FILE>upgradescripts/4.50-4.60/customer_data_migrate.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6153 Added missed FKs in to upgrade script</MESSAGE>
      <SHA>4bdd9a96b12bd51f4eb3b97d3ecdbf79fe2a7e66</SHA>
      <PATCHEDFILES>
        <FILE>upgradescripts/4.50-4.60/customer_data_migrate.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6153 Removed [dbo] schema specification from upgrade script</MESSAGE>
      <SHA>d8aa2288af19395012fdf6c772f0777426ac6bef</SHA>
      <PATCHEDFILES>
        <FILE>upgradescripts/4.50-4.60/customer_data_migrate.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6153 Added scripts to move customer fields from GenericAttribute table to Customer table for MySql and PostgreSql</MESSAGE>
      <SHA>c530a482f6e1fba4f718c36c5b627210e3918494</SHA>
      <PATCHEDFILES>
        <FILE>upgradescripts/4.50-4.60/customer_data_migrate.sql</FILE>
        <FILE>upgradescripts/4.50-4.60/mssql_customer_data_migrate.sql</FILE>
        <FILE>upgradescripts/4.50-4.60/mysql_customer_data_migrate.sql</FILE>
        <FILE>upgradescripts/4.50-4.60/postgres_customer_data_migrate.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6153 Add readme file</MESSAGE>
      <SHA>eb2ca3d4879525783dfb3b8205d1a4d4032c2a6d</SHA>
      <PATCHEDFILES>
        <FILE>upgradescripts/4.50-4.60/Readme.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
