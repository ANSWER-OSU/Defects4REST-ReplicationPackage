<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6040</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6040</ISSUEURL>
  <TITLE>Products that are still in stock are incorrectly unpublished</TITLE>
  <DESCRIPTION>nopCommerce version: 4.4 (bug-fix branch) Steps to reproduce the problem: Add a product with a stock of 8. Set minimum stock to 0. Confirm an order, the product is unpublished, even though there are now 7 in stock. I've isolated the problem to the `ApplyLowStockActivityAsync`, and my changes fix my issue. Pull request to follow, feedback welcome, I may have misunderstood something.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Ensure npm files not copied</MESSAGE>
    <SHA>d23a85992ca05b6d0edbfc824f1e45a8fd73b2dd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6040 Fix incorrect logic for unpublishing of products</MESSAGE>
      <SHA>3cdfd4cbdf8361d5195893c17b526c4ab1d4ec20</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6040 Fix incorrect logic for unpublishing of products</MESSAGE>
      <SHA>a755936e7c119c232ca1cb4df154b4172767f08c</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6040 Fix incorrect logic for unpublishing of products</MESSAGE>
      <SHA>0876c78c02c50a62d426282d04de01c6bd36c16a</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6040 Fixed problem with incorrectly unpublishing of products</MESSAGE>
      <SHA>18e59f98dea8e86b2a24915a5687bffd843acd06</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
