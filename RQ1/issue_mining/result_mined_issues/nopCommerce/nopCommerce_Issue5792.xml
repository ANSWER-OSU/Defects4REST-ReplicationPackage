<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5792</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5792</ISSUEURL>
  <TITLE>Timeouts in Admin Dashboard's BestsellersBriefReports</TITLE>
  <DESCRIPTION>nopCommerce version: 4.40 &gt; I'm getting the following 4 timeouts every single time we visit the Admin Dashboard, they are all related to the Best Sellers Brief Reports bits at the bottom of the Admin Dashboard: &gt; &gt; 4 x Admin Dashboard Errors in Log : &gt; `Timeout expired. The timeout period elapsed prior to completion of the operation or the server is not responding.` &gt; &gt; When I go to BestSeller Reports, and I leave the fields as they are, with dates Start and End empty, the same error occurs. However, if I put a date in the Start Date, example, January 1, 2014, and leave the End Date empty, the Best Seller is Generated without issues (2014 is the year of the first sale for this site). We should check what causes timeouts. Source and more details: https://www.nopcommerce.com/boards/topic/91588/nop-4404-timeouts-in-admin-dashboards-bestsellersbriefreports Also, we could consider adding a new setting to configure a period (e.g. month or week) for these reports as suggested [here](https://www.nopcommerce.com/boards/topic/91588/nop-4404-timeouts-in-admin-dashboards-bestsellersbriefreports#287313).</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>189</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#4601 Some code refactoring</MESSAGE>
    <SHA>d0fcc25a766ea3c70c1c0e9e0ab4ca7c4bd72f0f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5792 optimized Bestsellers reports</MESSAGE>
      <SHA>dc6b47ba297d0a4b1a46b7dae993263f2f96c57f</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/BestsellersReportLine.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/OrderReportService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Factories/OrderModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Factories/ReportModelFactory.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
