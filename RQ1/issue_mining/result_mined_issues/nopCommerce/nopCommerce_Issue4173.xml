<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4173</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4173</ISSUEURL>
  <TITLE>reCaptcha on passwordrecovery Does not Display on Failed Submit</TITLE>
  <DESCRIPTION>nopCommerce version: 4.20 Steps to reproduce the problem: Visit /passwordrecovery with reCaptcha enabled leave reCaptcha unmarked. View will return with the submitted information and error but the reCaptcha iFrame will not be displayed and the form will continue fail on subsequent submission. Solution: I am generating a pull request. Setting the PasswordRecoveryModel.DisplayCaptcha = True when the ModelState.AddModelError is called after !captchaValid is hit. Notes: Other pages that use reCaptcha use their modelFactory on the error view return and it would flag the reCaptcha being enabled..</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>22</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #4161 from bentolila/develop Update to top menu navigation to respect the DisplayOrder property</MESSAGE>
    <SHA>a8428c60f739d0f27ad192c614de61dfe2afa366</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4173 Redisplay recaptcha on password recovery page</MESSAGE>
      <SHA>9dd5da2e2d7c5e9e3fc7952c9ed965287c9b34c5</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Controllers/CustomerController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CustomerModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/ICustomerModelFactory.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
