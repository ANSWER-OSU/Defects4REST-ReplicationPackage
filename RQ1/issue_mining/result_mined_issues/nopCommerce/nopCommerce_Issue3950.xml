<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3950</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3950</ISSUEURL>
  <TITLE>Do not allow to delete product attributes when they are used in existing combinations</TITLE>
  <DESCRIPTION>nopCommerce version: 4.20 Steps to reproduce the problem: 1) Add two product attributes ``` * Color with values: Yellow, Blue * Ram with values: 1GB, 2GB ``` ![Screen Shot 2019-06-13 at 13 26 45](https://user-images.githubusercontent.com/6512556/59429137-66986e80-8ddf-11e9-968d-7c53be58e843.png) 2) Generate all possible combinations ![Screen Shot 2019-06-13 at 13 26 57](https://user-images.githubusercontent.com/6512556/59429163-74e68a80-8ddf-11e9-9537-d55cc153c2fe.png) 3) Remove attribute RAM ![Screen Shot 2019-06-13 at 13 28 03](https://user-images.githubusercontent.com/6512556/59429230-a2333880-8ddf-11e9-8502-5b7d798aa224.png) 4) You are left with duplicate attribute combinations ![Screen Shot 2019-06-13 at 13 27 11](https://user-images.githubusercontent.com/6512556/59429198-9182c280-8ddf-11e9-94b9-a45174d9908c.png) Not sure if you classify this as a bug. But doesn't seem right to me, so thats why I am reporting it Andrei M - Let's display some warning (e.g. &quot;This product attribute is used in some products. It's highly recommended to update appropriate product details pages first&quot;) with confirmation when deleting such product attribute. It'll be enough</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>609</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#4343 More user-friendly way to remove cart items</MESSAGE>
    <SHA>2968bd8557522b887935a81da233291c0dfe0a9b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3950 Do not delete attributes into exists combinations</MESSAGE>
      <SHA>e5c9e8174b6e9daa5294be86154a9b1527e7ac75</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo440/LocalizationMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ProductController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
