<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5481</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5481</ISSUEURL>
  <TITLE>Gets an error when adding a new discount requirement type with not selected customer role</TITLE>
  <DESCRIPTION>nopCommerce version: 4.40 BETA Steps to reproduce the problem: 1. Go to the discount edit page 2. Add a new requirement with the &quot;Must be assigned to customer role&quot; type 3. Click Save when customer role is not selected ![179884352c](https://user-images.githubusercontent.com/16681184/109557849-adfdeb80-7ae9-11eb-93a5-08000da243f1.jpg)</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Prevented possible problems with scheduled task url. This problem existed when the store URL has been saved without the slash at the end</MESSAGE>
    <SHA>1eeeee6fb506219c148890dd699ab5979edee1c6</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5481 Changed response type, when the configuration has an error</MESSAGE>
      <SHA>dc30d2c2a9468142bf55a595660e88eacfb09c4a</SHA>
      <PATCHEDFILES>
        <FILE>src/Plugins/Nop.Plugin.DiscountRules.CustomerRoles/Controllers/DiscountRulesCustomerRolesController.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.DiscountRules.CustomerRoles/Views/Configure.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
