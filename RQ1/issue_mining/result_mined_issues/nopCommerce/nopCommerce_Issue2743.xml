<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2743</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/2743</ISSUEURL>
  <TITLE>&quot;Form value count limit 1024 exceeded&quot; errors</TITLE>
  <DESCRIPTION>I am new to nopCommerce. I downloaded and installed version 4.0 nopCommerce. While in configuration, under payment restrictions, I attempted to restrict all payment methods in all countries except US. When I clicked save, the system crashed and gave me the below error exception in 2017 Visual Studio Community. The error occurred in the ApplicationBuilderExtensions.cs Line: 81 The error message: System.IO.InvalidDataException: 'Form value count limit 1024 exceeded.' System.IO.InvalidDataException occurred HResult=0x80131501 Message=Form value count limit 1024 exceeded. Source=Nop.Web.Framework StackTrace: at Nop.Web.Framework.Infrastructure.Extensions.ApplicationBuilderExtensions.&lt;&gt;c.&lt;UseNopExceptionHandler&gt;b__1_1(HttpContext context) in C:\Users\jimth_000\Source\repos\NopCommerce\Presentation\Nop.Web.Framework\Infrastructure\Extensions\ApplicationBuilderExtensions.cs:line 81 at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.&lt;Invoke&gt;d__6.MoveNext() I tried checking off one column at a time. The error occurs after 4 columns are saved. Even after restarting the application this occurs. I have also uninstalled and reinstalled the application several times and this error still occurs. Can anyone please provide some guidance on why this happens and how to prevent this? Source: https://www.nopcommerce.com/boards/t/49611/version-40-error-on-payment-restrictions-configuration.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>204</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Made loading of assemblies consistent</MESSAGE>
    <SHA>e9a0cc5f440069564d08c4c14eea6b20567f4a46</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2743 Added filter that specified form size limits</MESSAGE>
      <SHA>907682176cb6cc67bbfd424278784f650d591a75</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Mvc/Filters/RequestFormSizeLimitAttribute.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/PaymentController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#2743 Added filter that specified form size limits</MESSAGE>
      <SHA>01000e674f254ef8a336571354ec610d29adbe07</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/PaymentController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
