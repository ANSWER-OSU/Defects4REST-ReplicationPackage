<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5290</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5290</ISSUEURL>
  <TITLE>Don't use GetService directly on the service provider and use our EngineContext.Resolve instead</TITLE>
  <DESCRIPTION>nopCommerce version: develop We should use `EngineContext.Resolve()` method instead of `GetService()` and `GetRequiredService()` for consistency and properly using of lifetime scopes. As continuation of #4196</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>29</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#4468 Email friend Wishlist page - use textarea for personal message instead of input</MESSAGE>
    <SHA>94e58d96ada91b1c220b62101fe7bce3a69a0a66</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5290 Don't use GetService directly on the service provider and use our EngineContext.Resolve instead</MESSAGE>
      <SHA>696c51273e3d6355257b1f7afe22080034793015</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Infrastructure/IEngine.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Infrastructure/NopEngine.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Authentication/AuthenticationMiddleware.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ImportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Tasks/TaskThread.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Controllers/BaseController.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Themes/ThemeableViewLocationExpander.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
