<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4725</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4725</ISSUEURL>
  <TITLE>Allow NopSelectTagHelper to work with string values</TITLE>
  <DESCRIPTION>_The model item passed into the ViewDataDictionary is of type 'System.String[]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.List`1[System.Int32]'.'_ At the moment a model property of type `List&lt;string&gt;` cannot be bound to MultiSelect.cshtml because the view is expecting a model of type `List&lt;int&gt;`. Removing `&quot;@model List&lt;int&gt;&quot;` form line 1 of MultiSelect.cshtml will allow using `&lt;nop-select/&gt;` with a string collection. I expect no other change is required because in the context of using `List&lt;string&gt;` as the datasource you would not expect a value of &quot;0&quot;, so the javascript code in the MultiSelect.cshtml can remain as it is and will apply only to those situations where values are numeric. This way it retains backwards compatibility with the current functionality. The only unforeseen case would be when using a `List&lt;string&gt;` where one of the values is 0, but that does not impact anything that currently exists. There is no functionality in the framework or in any existing plugin that would be impacted because `List&lt;string&gt;` collections are not currently allowed. For consistency, consider changing the javascript to such that it also accounts for empty string values, not only for &quot;0&quot; The second potential impact of making this change is that it would allow any property into the view, not only `List&lt;int&gt;, List&lt;string&gt;`. One way to handle that might be to simply check it in Nop.Web.Framework.TagHelpers.Admin.NopSelectTagHelper along with if(multiple) ``` if (multiple) { selectList = _htmlHelper.Editor(tagName, &quot;MultiSelect&quot;, new {htmlAttributes, SelectList = Items}); } ``` That is starting to look ugly so, the cleaner solution to this would be to duplicate MultiSelect.cshtml into MultiSelectString.cshtml and use it when the property type is `collection&lt;string&gt;` while allowing everything else to flow into MultiSelect.cshtml just like it currently does.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>480</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#5308 Added support HtmlPrefix for LocalizedEditor</MESSAGE>
    <SHA>51b78554ad71e6d50eaae06a85cb4a28ab788dc1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4725 Added new editor template for List&lt;string&gt; in NopSelectTagHelper</MESSAGE>
      <SHA>50f47a66fec2512f3496e39f917d2db431492687</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/TagHelpers/Admin/NopSelectTagHelper.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/OrderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Shared/EditorTemplates/MultiSelectString.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
