<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1763</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/1763</ISSUEURL>
  <TITLE>Refactoring. Simplify test code</TITLE>
  <DESCRIPTION>Add function ``` public static T PropertiesShouldEqual&lt;T&gt;(this T actual, T expected, params string[] filters) { foreach (var propertyInfo in typeof(T).GetProperties()) { if(filters.Any(f=&gt; f == propertyInfo.Name)) continue; Assert.AreEqual(propertyInfo.GetValue(actual), propertyInfo.GetValue(expected), string.Format(&quot;The property \&quot;{0}.{1}\&quot; of these objects is not equal&quot;, typeof(T).Name, propertyInfo.Name)); } return actual; } ``` and cange the code ``` [Test] public void Can_save_and_load_blogPost() { var blogPost = TestsData.GetBlogPost; var fromDb = SaveAndLoadEntity(blogPost); fromDb.ShouldNotBeNull(); fromDb.Title.ShouldEqual(&quot;Title 1&quot;); fromDb.Body.ShouldEqual(&quot;Body 1&quot;); fromDb.BodyOverview.ShouldEqual(&quot;BodyOverview 1&quot;); fromDb.AllowComments.ShouldEqual(true); fromDb.CommentCount.ShouldEqual(1); fromDb.Tags.ShouldEqual(&quot;Tags 1&quot;); fromDb.StartDateUtc.ShouldEqual(new DateTime(2010, 01, 01)); fromDb.EndDateUtc.ShouldEqual(new DateTime(2010, 01, 02)); fromDb.CreatedOnUtc.ShouldEqual(new DateTime(2010, 01, 03)); fromDb.MetaTitle.ShouldEqual(&quot;MetaTitle 1&quot;); fromDb.MetaDescription.ShouldEqual(&quot;MetaDescription 1&quot;); fromDb.MetaKeywords.ShouldEqual(&quot;MetaKeywords 1&quot;); fromDb.LimitedToStores.ShouldEqual(true); fromDb.Language.ShouldNotBeNull(); fromDb.Language.Name.ShouldEqual(&quot;English&quot;); } ``` to ``` [Test] public void Can_save_and_load_blogPost() { var blogPost = TestsData.GetBlogPost; var fromDb = SaveAndLoadEntity(blogPost); fromDb.ShouldNotBeNull(); fromDb.PropertiesShouldEqual(blogPost, &quot;Language&quot;); fromDb.Language.ShouldNotBeNull(); fromDb.Language.PropertiesShouldEqual(blogPost.Language); } ```</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>169</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#2005 Forgot to commit a file</MESSAGE>
    <SHA>6bdd58277ae9cc0b6a249ec3b012df19a1b1f69d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#1763 Refactoring. Simplify test code</MESSAGE>
      <SHA>2cd771cd48c601200f5e9566615864f73b3d9d36</SHA>
      <PATCHEDFILES>
        <FILE>src/Tests/Nop.Data.Tests/Affiliates/AffiliatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Blogs/BlogPostPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/BackInStockSubscriptionPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/CategoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/CategoryTemplatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ManufacturerPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ManufacturerTemplatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/PredefinedProductAttributeValuePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductAttributeCombinationPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductAttributeMappingPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductAttributeValuePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductCategoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductManufacturerPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductPicturePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductSpecificationAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductTagPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductTemplatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductWarehouseInventoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/SpecificationAttributeOptionPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/SpecificationAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/TierPricePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Common/AddressAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Common/AddressAttributeValuePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Common/AddressPeristenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Common/GenericAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Common/SearchTermPeristenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Configuration/SettingPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/CustomerAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/CustomerAttributeValuePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/CustomerPasswordPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/CustomerPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/CustomerRolePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/ExternalAuthenticationRecordPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Customers/RewardPointsHistoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Directory/CountryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Directory/CurrencyPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Directory/MeasureDimensionPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Directory/MeasureWeightPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Directory/StateProvincePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Discounts/DiscountPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Discounts/DiscountRequirementPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Discounts/DiscountUsageHistoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Forums/ForumGroupPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Forums/ForumPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Forums/ForumPostPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Forums/ForumSubscriptionPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Forums/ForumTopicPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Forums/PrivateMessagePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Localization/LanguagePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Localization/LocaleStringResourcePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Localization/LocalizedPropertyPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Logging/ActivityLogPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Logging/LogPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Media/DownloadPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Media/PicturePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Messages/CampaignPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Messages/EmailAccountPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Messages/MessageTemplatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Messages/NewsLetterSubscriptionPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Messages/QueuedEmailPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/News/NewsPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Nop.Data.Tests.csproj</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/CheckoutAttributePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/CheckoutAttributeValuePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/GiftCardPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/GiftCardUsageHistoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/OrderItemPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/OrderNotePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/OrderPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/RecurringPaymentHistoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/RecurringPaymentPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/ReturnRequestActionPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/ReturnRequestPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/ReturnRequestReasonPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/RewardPointHistoryTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/ShoppingCartItemPeristenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/PersistenceTest.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Polls/PollPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Security/AclRecordPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Security/PermissionRecordPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Seo/UrlRecordPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Shipping/DeliveryDatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Shipping/ProductAvailabilityRangePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Shipping/ShipmentItemPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Shipping/ShipmentPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Shipping/ShippingMethodPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Shipping/WarehousePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Stores/StoreMappingPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Stores/StorePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Tasks/ScheduleTaskPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Tax/TaxCategoryPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/TestHelper.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Topics/TopicPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Topics/TopicTemplatePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Vendors/VendorNotePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Vendors/VendorPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Tests.csproj</FILE>
        <FILE>src/Tests/Nop.Tests/TestExtensions.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
