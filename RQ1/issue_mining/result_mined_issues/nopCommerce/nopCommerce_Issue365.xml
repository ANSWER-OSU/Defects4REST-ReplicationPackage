<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>365</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/365</ISSUEURL>
  <TITLE>Tier prices with start/end dates (remove special prices)</TITLE>
  <DESCRIPTION>Very often TierPrice works only during special period (like SpecialPrice). It would be nice to add Start and End dates in TierPrice entity, I think. This feature will replace &quot;special price&quot; functionality (it should be dropped - no upgrade migration needed). Then do not forget to update appropriate logic in &quot;SearchProducts&quot; methods - both code (SQL Compact) and a stored procedure Forum source: http://www.nopcommerce.com/boards/t/16484/feature-request-tierprice-with-dates.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>302</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Updated third-party libraries to the latest version</MESSAGE>
    <SHA>ce48ef0546076a36db1ea1487add5fb2dfb4108a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#365 Add start end dates to tier prices</MESSAGE>
      <SHA>7112d0c8c6186e574970671d5ddbe4bca32e11e2</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/Product.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/ProductEditorSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/TierPrice.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Mapping/Catalog/ProductMap.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Mapping/Catalog/TierPriceMap.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/CopyProductService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/PriceCalculationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductExtensions.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/TierPriceExtensions.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ImportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/ProductController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Catalog/ProductModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Settings/ProductEditorSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Nop.Admin.csproj</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Product/TierPriceCreatePopup.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Product/TierPriceEditPopup.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Product/_CreateOrUpdate.Info.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Product/_CreateOrUpdateTierPrice.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Product/_ProductEditorSettingsModal.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Install/SqlServer.StoredProcedures.sql</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ProductController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Extensions/ControllerExtensions.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/ProductPersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Catalog/TierPricePersistenceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Catalog/PriceCalculationServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Catalog/TierPriceExtensionTests.cs</FILE>
        <FILE>upgradescripts/3.80-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#365 Properly calculating a minimum price. And method renaming</MESSAGE>
      <SHA>95dd64ec3aee16513b72c764f238128082532ea0</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/PriceCalculationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/ProductExtensions.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Extensions/ControllerExtensions.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#365 Fixed failed unit test</MESSAGE>
      <SHA>6193ca8081b52dda1a8b2171d8ec64832e4ba703</SHA>
      <PATCHEDFILES>
        <FILE>src/Tests/Nop.Services.Tests/Catalog/TierPriceExtensionTests.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
