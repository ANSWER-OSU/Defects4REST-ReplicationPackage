<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7126</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/7126</ISSUEURL>
  <TITLE>Product reviews</TITLE>
  <DESCRIPTION>nopCommerce version: 4.70 (develop) Last month I spent some time inspecting the current changes in nopCommerce 4.70 and found a couple of issues with the new Product Reviews functionality. If anonymous users are not allowed to add product reviews, by default the message &quot;Only Registered Users Can Write Reviews&quot; is not visible. The form fields in the Write Review form are disabled though, so you can't type anything but you don't know why. The message goes visible only if you click the &quot;Submit Review&quot; button, but that doesn't make any sense since you can't type and there is nothing to submit. The message should be always visible to notify the users why they can't post reviews. If the setting &quot;Allow customer reviews&quot; is disabled for a product, the Write Review form is still visible on the Product Details page for that product, so you can type your review and click the &quot;Submit Review&quot; button, and after that you are redirected to the Home Page without any notification or error message. Either the review form should not be available at all, or there should be a notification that notifies the users why posting reviews is not possible. The third issue I found is rather a &quot;cosmetic&quot; one - the &quot;page&quot; type of classnames (&quot;page&quot; &amp; &quot;product-reviews-page&quot;), and also the &quot;page-body&quot; element, are no longer needed in the product reviews section as it is no longer a dedicated page in 4.70. Now it's just a section added to Product Details pages so it will be more clean if the classname is changed to &quot;product-reviews&quot; and the page-body element is removed. (If you keep the outdated classnames as they are it could lead to css conflicts in some themes where there is global css code that is targeting all dedicated pages) Source: https://www.nopcommerce.com/en/boards/topic/98881/a-couple-of-issues-with-product-reviews-in-nopcommerce-470</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>17</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#7053 Added setting to log honeypot detection entries</MESSAGE>
    <SHA>f8e425ab14ae4153242d0d71971f6b148d3d71a0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#7126 Minor refactoring of product reviews</MESSAGE>
      <SHA>587ff2e7844ad668d44df2cca21d9944ac54cbb2</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Factories/ProductModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Models/Catalog/ProductReviewModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/css/styles.css</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/css/styles.rtl.css</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Product/ProductTemplate.Grouped.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Product/ProductTemplate.Simple.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Product/_ProductReviewOverview.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Product/_ProductReviews.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
