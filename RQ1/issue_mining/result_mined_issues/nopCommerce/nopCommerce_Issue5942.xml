<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5942</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5942</ISSUEURL>
  <TITLE>LanguageResources installed from Plugins are saved incorectly cased</TITLE>
  <DESCRIPTION>nopCommerce version: 4.40.4 Steps to reproduce the problem: * Install a plugin with the following in it's Install() method (Make sure you pass a dictionary): ```c# await _localizationService.AddLocaleResourceAsync(new Dictionary&lt;string, string&gt; { [&quot;Plugins.Shipping.FixedByWeightByTotal.AddRecord&quot;] = &quot;Add record&quot;, } ``` * After the installation, have a look at your db, and you will see in the table `LocaleStringResource` a `ResourceName` with the following casing: `Plugins.Shipping.FixedByWeightByTotal.AddRecord` * If you try to access this value from the NopBackend, Nop will try to access the resource name in lowercase, but will be unable to find it, because of wrong casing. This is one way I was trying to access it: ```html &lt;nop-label asp-for=&quot;AddRecord&quot; /&gt; ``` Expected: All language tokens are lowercase before insertion into database. Problem: The problem is probably around here: https://github.com/nopSolutions/nopCommerce/blob/develop/src/Libraries/Nop.Services/Localization/LocalizationService.cs#L733-L754 Note: Can also be tested with installing the FixedByWeightByTotal plugin into a fresh nop4.40.4 DB.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>8</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#5925 Removed instruction to create empty datasettings.json file in docker</MESSAGE>
    <SHA>b5b9e5e4fb922918ffb048c6e4131c8611072505</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5942 Fixed problem on save the name of the LanguageResources in incorrect case</MESSAGE>
      <SHA>640f6502611c1451d2307f6a3278e3390f40904e</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Localization/LocalizationService.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo450/LocalizationMigration.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#5942, #5960 Removed unnecessary code of updating all locales</MESSAGE>
      <SHA>6f8f71a4f316381c662fb684d614de070ca5b778</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo450/LocalizationMigration.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
