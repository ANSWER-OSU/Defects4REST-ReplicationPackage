<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4880</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4880</ISSUEURL>
  <TITLE>Create option to enable/disable ServeUnknownFileTypes</TITLE>
  <DESCRIPTION>nopCommerce version: 4.2, 4.3+ Steps to reproduce the problem: We require the ability to serve files with no extension because we are using LetsEncrypt Http authentication (https://letsencrypt.org/docs/challenge-types/) and the file created - that must be uploaded to the server - does not contain a file extension. Typically the path will look something like this: `http://nop43.com/.well-known/acme-challenge/mGCczU2GeRLcMKnxwFx0v64K3JRx-TgsxAzQo_s5ayk` Unfortunately NopCommerce (understandably) doesn't not set the ServeUnknownFileTypes value in ApplicationBuilderExtensions and does not appear to provide a way to override this option. I have been able to work around the issue by creating a plugin that implements `INopStartup` and does ``` public void Configure(IApplicationBuilder application) { application.UseStaticFiles(new StaticFileOptions { ServeUnknownFileTypes = true }); } ``` but I am not 100% sure if this doesn't break anything (is application.UseStaticFiles() cumulative, I believe it is?), further it would be nice to be able to temporarily toggle this value ideally without the use of a plugin.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>406</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-5774-Incorrect-search-order-results' into develop</MESSAGE>
    <SHA>89daf748cd6f6d6484014003bd6176046038ff30</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4880 Added the ability to serve static files with an unrecognized content type</MESSAGE>
      <SHA>f3775713cf4c22396da11886410aa1e7726526f7</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>src/Libraries/Nop.Core/Configuration/CommonConfig.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/Extensions/ApplicationBuilderExtensions.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo450/LocalizationMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/CommonConfigModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/_AppSettings.Common.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/wwwroot/.well-known/Index.htm</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#4880 Added UnknownFile directory to check write permission</MESSAGE>
      <SHA>51034c3e4386d09f81908bee2ae92be34da79a1e</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Security/FilePermissionHelper.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
