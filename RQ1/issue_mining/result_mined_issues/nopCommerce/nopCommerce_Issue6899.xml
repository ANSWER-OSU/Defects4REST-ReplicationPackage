<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6899</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6899</ISSUEURL>
  <TITLE>Add a setting to add &quot;NOLOCK&quot; to all &quot;SELECT&quot;</TITLE>
  <DESCRIPTION>Let's add a setting to appsettings.json file indicating whether linq2db should add &quot;NOLOCK&quot; to all &quot;SELECT&quot;. Let's name this setting &quot;UseNolock&quot; (disabled by default) For example, src/Libraries/Nop.Data/DataProviders/MsSqlDataProvider.cs: ``` public override IQueryable&lt;TEntity&gt; GetTable&lt;TEntity&gt;() { return new DataContext(LinqToDbDataProvider, GetCurrentConnectionString()) { MappingSchema = GetMappingSchema(), CommandTimeout = DataSettingsManager.GetSqlCommandTimeout() } .GetTable&lt;TEntity&gt;().AsSqlServer().WithNoLock(); } ```</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>41</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#6894 Deleted outdated &quot;BundledFilesCacheTime&quot; setting</MESSAGE>
    <SHA>b99203e180bfd3ba667525a94fe0d357c0d13b6f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6899 Added a setting to add &quot;NOLOCK&quot;</MESSAGE>
      <SHA>bbd4e73c037a21634483ae9245c16d5f49fa4a66</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Data/Configuration/DataConfig.cs</FILE>
        <FILE>src/Libraries/Nop.Data/DataProviders/MsSqlDataProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Data/DataSettingsManager.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo470/AppSettingsMigration.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#6899 Added UI to manage the WithNoLock setting in the App settings</MESSAGE>
      <SHA>999a3677e07739bef236a3b1d2cda62ed0e1ab37</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Data/DataProviders/MsSqlDataProvider.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo470/LocalizationMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/DataConfigModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/_AppSettings.Data.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
