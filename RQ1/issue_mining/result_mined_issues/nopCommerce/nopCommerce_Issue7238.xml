<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7238</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/7238</ISSUEURL>
  <TITLE>MemoryCacheManager.GetAsync method can cache null value</TITLE>
  <DESCRIPTION>nopCommerce version: 4.70 We have always avoided caching null values since they usually arise due to errors. But, in the course of optimizing the work of caching in memory, we missed this point for the GetAsync method in the signature `Task&lt;T&gt; GetAsync&lt;T&gt;(CacheKey key, Func&lt;Task&lt;T&gt;&gt; acquire)` moreover, this method is in the signature `Task&lt;T&gt; GetAsync&lt;T&gt;(CacheKey key, Func&lt;T&gt; acquire)` provided that acquire returns the null, it will generally cause a NullReferenceException, which is not at all predictable example: https://www.nopcommerce.com/en/boards/topic/99319/issue-with-product-pagination-and-price-display-in-nopcommerce-470</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Update Date.cshtml fix #7234</MESSAGE>
    <SHA>914e0b9d1f413acee9f2fc931b9edf88e3be2427</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#7238 Fixed problem with caching null value</MESSAGE>
      <SHA>1fde7a3003a8eea32054168360149898698f4115</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Caching/MemoryCacheManager.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Core.Tests/Caching/MemoryCacheManagerTests.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
