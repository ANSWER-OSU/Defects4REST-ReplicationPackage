<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2897</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/2897</ISSUEURL>
  <TITLE>Performance optimization on ProductLoadAllPaged procedure</TITLE>
  <DESCRIPTION>nopCommerce version: 4.10 Sometimes executing of this procedure takes too much time. We have to optimize it. First of all let's change &quot;left join&quot; to &quot;inner join&quot; in the following code: ``` IF @CategoryIdsCount &gt; 0 BEGIN SET @sql = @sql + ' LEFT JOIN Product_Category_Mapping pcm with (NOLOCK) ON p.Id = pcm.ProductId' END IF @ManufacturerId &gt; 0 BEGIN SET @sql = @sql + ' LEFT JOIN Product_Manufacturer_Mapping pmm with (NOLOCK) ON p.Id = pmm.ProductId' END ``` Then let's investigate other ways to boost performance</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>17</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Updated third-party libarries to the latest version</MESSAGE>
    <SHA>d4fa86682d19a4402c1ac5ae148bfabd7f277519</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2897 Performance optimization on ProductLoadAllPaged procedure. Changed the &quot;left connection&quot; to &quot;internal connection&quot;, because the left join does not make sense and work quote slowly</MESSAGE>
      <SHA>61f9db788078cdf76823c33ee03250a40d9719d1</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/App_Data/Install/SqlServer.StoredProcedures.sql</FILE>
        <FILE>upgradescripts/4.00-4.10 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
