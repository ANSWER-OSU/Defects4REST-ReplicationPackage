<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>363</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/363</ISSUEURL>
  <TITLE>Customer notification for failed payments for recurring products</TITLE>
  <DESCRIPTION>If a customer's credit card is declined on the payment gateway side how does nop show this to the customer? There is no Failed PaymentStatus for orders so do they just stay in Pending status forever? How does the customer update his credit card information and re-submit the same order in this instance? Example: Customer John Smith has a recurring monthly product. His initial and second payment succeeded on the payment gateway however on the third payment the card was declined. How would nop alert the customer to this fact and how would the customer then be able to enter a new card and re-submit that particular order? Forum source: http://www.nopcommerce.com/boards/t/19196/failed-payments-for-recurring-products.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>374</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-1719-choose-language-flag-using-dropdownlist' into develop</MESSAGE>
    <SHA>3e03ebb4afd6cacdb9d2d7edcae365be4670434c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#363 Customer notification for failed recurring payment</MESSAGE>
      <SHA>ad933258a3ee079ffd85fa6605b6c853fd0fdd8d</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Messages/MessageTemplateSystemNames.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/RecurringPayment.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Payments/PaymentSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/IWorkflowMessageService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTemplateExtensions.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/WorkflowMessageService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/IOrderProcessingService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/OrderProcessingService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Payments/ProcessPaymentResult.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.Manual/ManualPaymentProcessor.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.PayPalDirect/Controllers/PaymentPayPalDirectController.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.PayPalDirect/Description.txt</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.PayPalStandard/Controllers/PaymentPayPalStandardController.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.PayPalStandard/Description.txt</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/RecurringPaymentController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Orders/RecurringPaymentModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/RecurringPayment/_CreateOrUpdate.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/OrderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/OrderModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Models/Order/CustomerOrderListModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Nop.Web.csproj</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/css/styles.css</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/css/styles.rtl.css</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/images/retry.png</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Order/CustomerOrders.cshtml</FILE>
        <FILE>upgradescripts/3.80-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
