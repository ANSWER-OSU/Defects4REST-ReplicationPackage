<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3915</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3915</ISSUEURL>
  <TITLE>Can't upload ZIP file with plugin and subfolders</TITLE>
  <DESCRIPTION>Can't upload ZIP file with plugin and subfolders in nop 4.20. Plugin in this ZIP file has subfolder **Resources** ZIP has entry '4.20/FoxNetSoft.StripeDirect/Resources/' Pay attention to &quot;/&quot; at the end of the file. Nopcommerce creates empty file **Resources** instead of creating folder **Resources** This line of code has error. `var filePath = _fileProvider.Combine(pathToUpload, fileName.Replace(&quot;/&quot;, &quot;\\&quot;));` Source: https://www.nopcommerce.com/boards/t/66148/cant-upload-zip-file-with-plugin-and-subfolders-in-nop-420.aspx See also: https://www.nopcommerce.com/boards/t/67289/uploading-plugin-420-and-a-directory-is-exctract-as-a-file.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#3907 Fixed locale's name product reviews page</MESSAGE>
    <SHA>2db68aaed43dfdfccbeb3dab33a8eb8cd85a5a8d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3915 Fixed problem uploading ZIP file of plugin with subfolders</MESSAGE>
      <SHA>7e76608527f59942b920f2c4e58f9bbd4004c917</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Plugins/UploadService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
