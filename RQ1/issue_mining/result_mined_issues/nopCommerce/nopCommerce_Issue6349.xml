<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6349</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6349</ISSUEURL>
  <TITLE>Sitemap.xml number of elements can go over 50,000 threshold</TITLE>
  <DESCRIPTION>nopCommerce version: 4.50.3 Steps to reproduce the problem: 1. Site has to have more than one language available 2. Number of pages to list in sitemap.xml should be between 25,000 and 50,000. 3. Download sitemap.xml, there will be over 50,000 of urls in it. I presume, it was introduced in this commit: c0c8a117b8add3f5c691e62b4e7c73df41ab2a45 In this commit it was changed so localized URLs are added each independently, however paging logic still counts each url group as one. Also it would be nice to take into account size of the resulting file. With multiple languages, even properly paged sitemaps can easily go over 50MB.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>90</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>PayPalCommerce plugin. Suppress redundant exception.</MESSAGE>
    <SHA>5072ab7c2eb5de32a23355505383b16f0c9f63e7</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6349 Fixed number of Sitemap.xml elements</MESSAGE>
      <SHA>84bf1f0b6880d8e8664ad4aa517493294abde52d</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Seo/SitemapGenerator.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
