<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6956</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6956</ISSUEURL>
  <TITLE>Send email to a store owner about GDPR delete requests</TITLE>
  <DESCRIPTION>nopCommerce version: 4.60.x Steps to reproduce the problem: 1. Enable GDPR in the backend 2. Register as a new user 3. Request account deletion 4. Go to the QueuedEmails, see that there is no emails in there. Living and working in Germany constantly exposes us to GDPR. Recently we had a customer try out the GDPR deletion of customers. Our customer expected that the user would be instantly deleted and be unable to login to the store instantly. We were able to explain our customer that this might not be the right behavior, because of open, unpaid orders in example. After that explanation, we and the customer, understand that manual review of the GDPR deletion requests is required. After checking the code we found out, that there is no email send out to the store owner when somebody requests their deletion. At this point, it's only possible to identify if a user wants to be deleted by accidentally visiting the GDPR log page in the backend. As there can also be many other GDPR logs in this table, beside customer deletion requests, it is then required to search for a special text to identify users that need to be reviewed and eventually deleted. This is a time consuming and error prone setup. Additionally GDPR requires us to process the deletion requests in a timely manner. That's why we would expect that the store owner receives an deletion request email, so he can take immediate action.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch '4.60-bug-fixes' into develop</MESSAGE>
    <SHA>c1f379fa7a29a9e6295040b8160ecbb085558f4a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6956 Added notification to store owner when customer request to delete account</MESSAGE>
      <SHA>3075b1aa5a30b9fbd446fd7e28daf37550ef8836</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Messages/MessageTemplateSystemNames.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Migrations/UpgradeTo470/DataMigration.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/InstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/IWorkflowMessageService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/WorkflowMessageService.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo470/LocalizationMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CustomerController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
