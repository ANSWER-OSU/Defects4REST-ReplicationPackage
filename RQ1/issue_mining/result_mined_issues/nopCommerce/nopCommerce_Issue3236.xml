<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3236</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3236</ISSUEURL>
  <TITLE>Proper sitemap.xml</TITLE>
  <DESCRIPTION>There seems to be some confusion as to what belongs in a sitemap.xml file, and how it relates to the sitemap page. A url should be in the sitemap.xml file if is is a good page for a someone like google to return in response to a search. So, pages like blog posts, product pages and topic pages are high on this list. Index pages like a category page, product tag list etc are less useful here. Other pages like the contact us page shouldn't really be included in the sitemap.xml file, as they're not a good result for a search engine to return. The sitemap page has no relationship to the sitemap.xml file. The sitemap page is for customers to find pages on your site. The sitemap.xml file is for search engines to know what pages are useful and which are not. Two different purposes. So, two changes are needed and long overdue. First, which urls are included in the sitemap.xml file should not be controlled in any way by the same settings as the sitemap page. Most people don't want products on the sitemap page, but they should be included in the sitemap.xml. file. Second change I've asked for multiple times: put the blog posts into the sitemap.xml file. I've been asking since 3.20 and it's still not done.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>717</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Further chenge of rules naming conventions in editorconfig</MESSAGE>
    <SHA>fbc494f1c8b5d9a5a87381dd1964afabc38c62d0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3236 Sitemap settings</MESSAGE>
      <SHA>94380746eafb95a43b6ca98310843d8ce47ccb24</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Blogs/BlogPost.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Common/CommonSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Common/SitemapSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Seo/SitemapGenerator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Factories/SettingModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Blogs/BlogPostModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/GeneralCommonSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/SitemapSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/StoreInformationSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Blog/_CreateOrUpdate.Info.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/GeneralCommon.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CommonController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CommonModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Infrastructure/Cache/ModelCacheEventConsumer.cs</FILE>
        <FILE>upgradescripts/4.10-4.20 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#3236 SitemapXml settings</MESSAGE>
      <SHA>ef0df2ab094db30e8b2fb5ac22c710746b7ce91d</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Common/CommonSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Common/SitemapXmlSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Seo/SitemapGenerator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/GeneralCommon.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CommonController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CommonModelFactory.cs</FILE>
        <FILE>upgradescripts/4.10-4.20 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#3236 Further changes for new sitemap settings</MESSAGE>
      <SHA>6625a2257a0e3e091772af3860da1ecdd1004b1c</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Seo/SitemapGenerator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Factories/SettingModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/GeneralCommon.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CommonController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CommonModelFactory.cs</FILE>
        <FILE>upgradescripts/4.10-4.20 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#3236 Further changes for new sitemap settings</MESSAGE>
      <SHA>ccf668d353b32af793684fab24145f8dcc4925c8</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/GeneralCommon.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/_GeneralCommon.Sitemap.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#3236 Properly include blog posts and news in the sitemap</MESSAGE>
      <SHA>4312ca7b2748da471dd07fc047d2fd57632e3eb9</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Seo/SitemapGenerator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CommonModelFactory.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#3236 Properly include blog posts and news in the sitemap</MESSAGE>
      <SHA>5bd8dc8b8fa684a097c155ce6cf7ad4e0ab0c51d</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Seo/SitemapGenerator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CommonModelFactory.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
