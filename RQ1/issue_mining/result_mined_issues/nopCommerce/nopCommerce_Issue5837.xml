<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5837</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5837</ISSUEURL>
  <TITLE>Improve GetRouteName method</TITLE>
  <DESCRIPTION>nopCommerce version: develop In [PageRenderingEvent](https://github.com/nopSolutions/nopCommerce/blob/develop/src/Presentation/Nop.Web.Framework/Events/PageRenderingEvent.cs#L47) we use `RouteNameMetadata` to get route name, it won't work if the route is generic (e.g. for product details page, category page, topic page, etc), need to handle such cases. See sample [here](https://github.com/nopSolutions/IPQualityScore-plugin-for-nopcommerce/blob/nopCommerce-4.30/Nop.Plugin.Misc.IPQualityScore/Services/IPQualityScoreService.cs#L463). It will also be valuable to use identical action and route names for such generic routes.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>61</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-3101-not-use-the-IEngine.Resolve()-method' into develop # Conflicts: # src/Libraries/Nop.Services/Html/BBCodeHelper.cs # src/Libraries/Nop.Services/Html/CodeFormatter/CodeFormatHelper.cs</MESSAGE>
    <SHA>e23ce25943e011e10d8156f12817fa0f77eca1dc</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5837 Change PageRenderingEvent.GetRouteName method</MESSAGE>
      <SHA>67409e49a4ddf07b04a577b527b87c195889b8c5</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Events/PageRenderingEvent.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
