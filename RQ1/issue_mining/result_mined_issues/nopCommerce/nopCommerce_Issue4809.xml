<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4809</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4809</ISSUEURL>
  <TITLE>Allow skipping migrations outside of plugin upgrading process</TITLE>
  <DESCRIPTION>nopCommerce version: 4.30 The current implementation of the migration manager automatically scans for all the assemblies, including plugin assemblies, and try to run any migration that it could find. This poses a problem if a plugin wants to have a custom migration process using FluentMigrator instead of relying on the default Nop migrator. For example, during the plugin startup (**INopStartup**), one can build a custom FluentMigrator service with custom runner settings (custom version table for migration tracking instead of using the default one, etc...) and try to apply any migrations from that service instead. However, because of the automatically scan-in that Nop performs during plugin initialization, those migrations are automatically loaded and Nop would try to apply them again despite they have been successfully applied before. At the moment, Nop only skips the migrations if it has **[SkipMigrationOnUpdate]** and that is only applied for plugin upgrading process. So a quick solution to this problem would be adding another attribute that would allow the migration to be skipped directly. The skipping should be applied for both up and down migration process. Furthermore, it would be better if Nop allows specifying custom migration tracking table within the plugin configuration process and only use the default tracking if that version table is not found, or somehow allows plugin to specify custom migrator runner settings instead.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>32</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch '4.30-bug-fixes' into develop</MESSAGE>
    <SHA>11b92f52a41158434a8380ee5f05882664089f90</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4809 Added attribute to skip migration</MESSAGE>
      <SHA>5e182a9b349055b8f61c6141ae09f9cb8673816a</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Data/Migrations/MigrationManager.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Migrations/SkipMigrationAttribute.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
