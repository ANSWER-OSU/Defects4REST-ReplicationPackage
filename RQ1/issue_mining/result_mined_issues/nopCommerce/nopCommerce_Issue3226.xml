<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3226</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3226</ISSUEURL>
  <TITLE>Don't allow to save empty download object (product details page)</TITLE>
  <DESCRIPTION>I think it shouldn't be possible to save empty url object. If somebody save changes, then change to &quot;Upload a file&quot; view and click the &quot;Download uploaded file&quot; button, he will get internal error. Maybe it will be better to validate if that field is empty or not? Steps: 1. Open product 2. Go to Downloadable product 3. Change to &quot;Use download URL&quot; 4. Save empty record 5. Save changes in product 6. Go back to Downloadable product section, change back to &quot;Upload file&quot; 7. Click the &quot;Download uploaded file&quot; button Source: https://www.nopcommerce.com/boards/t/54967/possibility-to-save-empty-download-object.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>25</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#3228 Added filtering by shop id for generating sitemap</MESSAGE>
    <SHA>3a81226e87d129c0904be2aea73410544ad8ebf9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3226 Fixed problem when allowed to save empty download object</MESSAGE>
      <SHA>1a94d0658a451761b954ec72d9302cd78a0e4ffc</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/DownloadController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Shared/EditorTemplates/Download.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
