<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1377</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/1377</ISSUEURL>
  <TITLE>Users should re-validate the new email address after editing if &quot;Registration method&quot; is &quot;Email validation&quot;</TITLE>
  <DESCRIPTION>Users should re-validate the new email address after editing if &quot;Registration method&quot; is &quot;Email validation&quot;. Let's implement it somehow similar to &quot;Password recovery&quot; (link valid period, etc) We should also display a customer should old and new email (e.g. not validated, etc) Ensure that it cannot be validated if somebody registered during this period</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>227</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#1931 Refactoring of registration of TypeConverter</MESSAGE>
    <SHA>abdc4a6d99e77900c8080f645739e045fd311ae9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#1377 Customers should re-validate the new email address after editing (if &quot;Registration method&quot; is set to &quot;Email validation&quot;)</MESSAGE>
      <SHA>66e9261669c921467be62c39b5bd755857773881</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Customers/Customer.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Customers/SystemCustomerAttributeNames.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Mapping/Customers/CustomerMap.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Customers/CustomerRegistrationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Customers/ICustomerRegistrationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/IWorkflowMessageService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/WorkflowMessageService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/CustomerController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CustomerController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CustomerModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Infrastructure/RouteProvider.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Models/Customer/CustomerInfoModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Models/Customer/EmailRevalidationModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Nop.Web.csproj</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/css/styles.css</FILE>
        <FILE>src/Presentation/Nop.Web/Themes/DefaultClean/Content/css/styles.rtl.css</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Customer/EmailRevalidation.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Views/Customer/Info.cshtml</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Customers/CustomerRegistrationServiceTests.cs</FILE>
        <FILE>upgradescripts/3.80-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
