<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>24</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/24</ISSUEURL>
  <TITLE>Return item request should generate RMA#</TITLE>
  <DESCRIPTION>Currently as soon as an order it completed - a &quot;Return Item&quot; button is visible again every order. When any customer requests for any kind of return - It gives numbers RMA#1 or RMA#2 like this: http://img337.imageshack.us/img337/777/returnrma.jpg Majority of store owners who have a return policy for their products provides the customer and RMA# that needs to be mentioned on the return package. I think current pattern of return in nopCommerce project is good but still make 1 step manual which is providing RMA# to the customer. It would be great if unique RMA# is generated for each return request like this: http://img130.imageshack.us/img130/2205/returnrmanew.jpg - Hence store owner just have to reply or update the status of the return request and customer will already have his/her unique RMA#. Few Important Points: The RMA# needs to be unique for each return request. This feature should be configurable in admin section It would be great if - In the admin section the store owner is able to configure the RMA# settings like: RMA# Gereneration: Dropdown menu (Values: Alphabet or Numbers or Both) Define Length of RMA# : TEXTBOX (Store owner can define the length of RMA# that will be automatically generated) Source: http://www.nopcommerce.com/boards/t/8386/return-item-request-should-generate-rma.aspx#34280</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>159</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge with #1357</MESSAGE>
    <SHA>d1ab5db4d174ed1b4b6c2dd25d272ea8b2e28fa9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Return item request should generate RMA #24</MESSAGE>
      <SHA>c90f07e4924c35e00dc3e4a2914e15d41c6814f2</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/OrderSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/ReturnRequest.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Nop.Services.csproj</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/CustomNumberFormatter.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/ICustomNumberFormatter.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/DependencyRegistrar.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/OrderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/ReturnRequestController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Orders/OrderModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Orders/ReturnRequestModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Settings/OrderSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Order/_OrderDetails.Products.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/ReturnRequest/List.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/ReturnRequest/_CreateOrUpdate.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Setting/Order.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Install/create_required_data.sql</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ReturnRequestController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Models/Order/CustomerReturnRequestsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Views/ReturnRequest/CustomerReturnRequests.cshtml</FILE>
        <FILE>upgradescripts/3.70-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge with #24</MESSAGE>
      <SHA>ef67ee1267c8515bbe73c7c4e9645b995f1f76f6</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/OrderSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/ReturnRequest.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Nop.Services.csproj</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/CustomNumberFormatter.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/ICustomNumberFormatter.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/DependencyRegistrar.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/OrderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/ReturnRequestController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Orders/OrderModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Orders/ReturnRequestModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Settings/OrderSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Order/_OrderDetails.Products.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/ReturnRequest/List.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/ReturnRequest/_CreateOrUpdate.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Setting/Order.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Install/create_required_data.sql</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ReturnRequestController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Models/Order/CustomerReturnRequestsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Views/ReturnRequest/CustomerReturnRequests.cshtml</FILE>
        <FILE>upgradescripts/3.70-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#24 Further changes on RMA. Set</MESSAGE>
      <SHA>bd883be9ab09a358de35a7505fb8c26f10305027</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Orders/ReturnRequest.cs</FILE>
        <FILE>src/Tests/Nop.Data.Tests/Orders/ReturnRequestPersistenceTests.cs</FILE>
        <FILE>upgradescripts/3.70-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
