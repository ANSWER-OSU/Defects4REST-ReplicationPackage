<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2956</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/2956</ISSUEURL>
  <TITLE>Many long-lived deprecation warnings</TITLE>
  <DESCRIPTION>For example, in dspace-api, which produces a river of warnings that overflows a reasonably-sized terminal scroll buffer. This makes it difficult to see other issues. DSpace is subjected to code that may not be receiving enough attention. Some of these warnings date back at least as far as DSpace 4.0.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>88</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix broken test by catching an unexpected exception. There must be an unchecked exception bubbling up through SolrServiceImpl#search. Catching Exception (as before this PR) fixes the test failure.</MESSAGE>
    <SHA>ff0247442377e24dbec08e14fb201a2da8bbc31d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Replace deprecated constructors of boxed primitive types. [#2956]</MESSAGE>
      <SHA>d5d3b55457385cf4820a420d8065ea2376545fdd</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/discovery/FacetYearRange.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/discovery/SolrServiceMetadataBrowseIndexingPlugin.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/discovery/indexobject/ItemIndexFactoryImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/disseminate/CitationDocumentServiceImpl.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace deprecated Class.newInstance(). [#2956]</MESSAGE>
      <SHA>0ade9e9978a1041aac62154048b18593fbb132c2</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/itemupdate/ActionManager.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/authority/AuthorityTypes.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/packager/AbstractMETSDisseminator.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/event/ConsumerProfile.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix anything that is documented @deprecated but not annotated @Deprecated. [#2956]</MESSAGE>
      <SHA>259bd4bcdde04841c11ccc3c99ac6a80f9fc1162</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/browse/BrowseInfo.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/crosswalk/CreativeCommonsTextStreamDisseminationCrosswalk.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/core/Constants.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/service/GroupService.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/license/service/CreativeCommonsService.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace various deprecated PDFBox methods. [#2956]</MESSAGE>
      <SHA>22dcbf548122af7a30d671229c8233decc9c8584</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/disseminate/CitationDocumentServiceImpl.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Remove long-deprecated un-localized methods from LocationUtils. [#2956]</MESSAGE>
      <SHA>5838cfd9c7719209bca18e4441b9b3abe78da7f1</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/util/LocationUtils.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/util/TestLocationUtils.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Remove deprecated setMetadata of CommunityService, CollectionService #2956 This introduces a new class: a holder for metadata field names.</MESSAGE>
      <SHA>65690892281998171b8e0bddf5ac285143c34de7</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/administer/StructBuilder.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Collection.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/CollectionServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/CommunityServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/DSpaceObjectServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/MetadataFieldName.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/crosswalk/XSLTIngestionCrosswalk.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/packager/PackageUtils.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/service/CollectionService.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/service/CommunityService.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/service/DSpaceObjectService.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/CollectionTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/CommunityTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/identifier/DOIIdentifierProviderTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/identifier/EZIDIdentifierProviderTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Found a few more deprecated PosixParser, GnuParser, OptionBuilder. #2956</MESSAGE>
      <SHA>7f53ab6bef38dfa0df4ab2e225069ce9d8c07053</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/itemupdate/ItemUpdate.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/checker/DailyReportEmailer.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/MetadataFieldName.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/EPersonCLITool.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/rdf/RDFizer.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/MetadataFieldNameTest.java</FILE>
        <FILE>dspace-oai/src/main/java/org/dspace/xoai/app/XOAI.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace deprecated org.apache.http.impl.client.DefaultHttpClient [#2956]</MESSAGE>
      <SHA>d77f6eef25d6bacf4092cc5ecef5adb45e43b4aa</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/util/WebAppServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/ctask/general/MetadataWebService.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/ctask/general/MicrosoftTranslator.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/external/provider/impl/LCNameDataProvider.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/external/provider/impl/SherpaJournalDataProvider.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/external/provider/impl/SherpaPublisherDataProvider.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/identifier/doi/DataCiteConnector.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/identifier/ezid/EZIDRequest.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/SolrLoggerServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/submit/lookup/CiNiiService.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/submit/lookup/CrossRefService.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/MetadataFieldNameTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace miscellaneous rarely-used deprecateds. [#2956]</MESSAGE>
      <SHA>3e7ac5d935b6fb7a3fa4ca9aac7368948921a709</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/content/packager/METSManifest.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/core/HibernateDBConnection.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/GroupServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/external/provider/impl/OrcidV2AuthorDataProvider.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/identifier/DOIIdentifierProvider.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/SolrLoggerServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/content/StatisticsDataWorkflow.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace deprecated setMetadata() that uses removed field names. #2956 Once upon a time, DSOs had dedicated fields for some metadata. These were moved into the Metadatavalue table long ago, but there were still methods which used the old field names instead of proper MetadataField triplets.</MESSAGE>
      <SHA>e94911ba1909771baa9d700c4e5f591906014269</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/authenticate/LDAPAuthentication.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/authenticate/ShibAuthentication.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Collection.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Community.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/MetadataSchemaEnum.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/EPersonCLITool.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/EPersonServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/service/EPersonService.java</FILE>
        <FILE>dspace-rest/src/main/java/org/dspace/rest/CollectionsResource.java</FILE>
        <FILE>dspace-rest/src/main/java/org/dspace/rest/CommunitiesResource.java</FILE>
        <FILE>dspace-rest/src/main/java/org/dspace/rest/common/Collection.java</FILE>
        <FILE>dspace-rest/src/main/java/org/dspace/rest/common/Community.java</FILE>
        <FILE>dspace/config/modules/authentication-shibboleth.cfg</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace deprecated icu4j Normalizer with Normalizer2. #2956</MESSAGE>
      <SHA>6d0c57fa3eebe65c231f79a1b3639a4043801cf5</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/text/filter/DecomposeDiactritics.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace Class.getInstance(). #2956</MESSAGE>
      <SHA>7d64bb6f7181f40b952d942383ad50156392f318</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/itemupdate/ItemUpdate.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/util/DSpaceWebappListener.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/browse/ItemCountDAOFactory.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/core/LegacyPluginServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/service/EPersonService.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace deprecated JUnit and Mockito statics. #2956</MESSAGE>
      <SHA>87cfac01d4715405e3a77145b0633b81b13cb55a</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/test/java/org/dspace/app/bulkedit/DSpaceCSVTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/AbstractDSpaceObjectTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/BitstreamFormatTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/BitstreamTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/BundleTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/CollectionTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/CommunityTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/DCDateTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/DCLanguageTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/DCPersonNameTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/DCSeriesNumberTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/FormatIdentifierTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/ITCommunityCollection.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/ITMetadata.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/InstallItemTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/ItemTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/LicenseUtilsTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/MetadataFieldTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/MetadataSchemaTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/MetadataValueTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/RelationshipMetadataServiceTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/RelationshipServiceImplPlaceTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/RelationshipTypeTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/SiteTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/SupervisedItemTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/VersioningTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/WorkspaceItemTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/packager/ITDSpaceAIP.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/packager/PackageUtilsTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/core/ContextTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/eperson/GroupTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/scripts/DSpaceCommandLineParameterTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/FailedOpenURLTrackerServiceImplTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/ITIrusExportUsageEventListener.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/processor/BitstreamEventProcessorTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/processor/ExportEventProcessorTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/processor/ItemEventProcessorTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/service/OpenUrlServiceImplTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/workflowbasic/BasicWorkflowAuthorizationIT.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Satisfy Checkstyle. Small tidy-ups. #2956</MESSAGE>
      <SHA>96742fe558f3de24634603a15e00f332d7c393a0</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/test/java/org/dspace/content/RelationshipTypeTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/eperson/GroupTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/processor/BitstreamEventProcessorTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/processor/ExportEventProcessorTest.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/processor/ItemEventProcessorTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
