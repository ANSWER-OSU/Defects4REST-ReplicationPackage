<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3566</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/3566</ISSUEURL>
  <TITLE>[DS-191] metadataschemaregistry_seq is not initialized correctly under Oracle</TITLE>
  <DESCRIPTION>&lt;i&gt;Imported from JIRA &lt;a href=&quot;https://jira.lyrasis.org/browse/DS-191&quot;&gt;[DS-191]&lt;/a&gt; created by lcs&lt;/i&gt; &lt;p&gt;The first attempt to add a new metadata schema fails, because the sequence metadataschemaregistry_seq is initialized to the default of 1, while there is already a row with ID 1 (inserted in databse_schema.sql). &lt;/p&gt; &lt;p&gt;The easiest fix is probably just initializing the sequence to start with 2, as is done for epersongroup_seq. If I get the time to try it, I'll submit a patch.&lt;/p&gt;</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>132</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merged in task/dspace-cris-2023_02_x/DSC-2205 (pull request #3544) [DSC-2205] Approved-by: Stefano Maffei</MESSAGE>
    <SHA>f3dcddda70ca2d444bbc7a0d283516a8f4fe0a34</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merged in task/dspace-cris-2023_02_x/DSC-2215_item_access_conditions (pull request #3566) Task/dspace cris 2023 02 x/DSC-2215 item access conditions Approved-by: Giuseppe Digilio</MESSAGE>
      <SHA>29f0bff5e3c18f18c2a88e189551feb457fbb217</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/submit/model/AccessConditionConfiguration.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/validation/AccessConditionValidator.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/SubmissionAccessOptionConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/model/SubmissionAccessOptionRest.java</FILE>
        <FILE>dspace-server-webapp/src/test/data/dspaceFolder/config/spring/api/addon-validation-services.xml</FILE>
        <FILE>dspace-server-webapp/src/test/java/org/dspace/app/rest/WorkspaceItemRestRepositoryIT.java</FILE>
        <FILE>dspace/config/spring/api/access-conditions.xml</FILE>
        <FILE>dspace/config/spring/api/addon-validation-services.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
