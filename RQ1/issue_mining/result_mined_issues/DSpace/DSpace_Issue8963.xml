<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8963</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/8963</ISSUEURL>
  <TITLE>Cannot delete an EPerson via the commandline &quot;Groomer&quot; tool when EPerson is referenced elsewhere.</TITLE>
  <DESCRIPTION>**Describe the bug** Are the constraints for deletion of EPersons still up to date to the possibility of EPerson deletion in DSpace 7, as I thought we could delete EPersons regardless of their involvement in Items/Workspace-Items/Workflow-Items now? Those restrictions seem to be applied, when trying to delete EPersons e.g. from the Groomer Tool, but seem not to be applied when deleting the same EPerson from the Angular User Interface. `getDeleteConstraints` in `EPersonServiceImpl` lists the following restrictions: ``` public List&lt;String&gt; getDeleteConstraints(Context context, EPerson ePerson) throws SQLException { List&lt;String&gt; tableList = new ArrayList&lt;&gt;(); // check for eperson in item table Iterator&lt;Item&gt; itemsBySubmitter = itemService.findBySubmitter(context, ePerson, true); if (itemsBySubmitter.hasNext()) { tableList.add(&quot;item&quot;); } WorkspaceItemService workspaceItemService = ContentServiceFactory.getInstance().getWorkspaceItemService(); List&lt;WorkspaceItem&gt; workspaceBySubmitter = workspaceItemService.findByEPerson(context, ePerson); if (workspaceBySubmitter.size() &gt; 0) { tableList.add(&quot;workspaceitem&quot;); } ResourcePolicyService resourcePolicyService = AuthorizeServiceFactory.getInstance().getResourcePolicyService(); if (resourcePolicyService.find(context, ePerson).size() &gt; 0) { tableList.add(&quot;resourcepolicy&quot;); } WorkflowService workflowService = WorkflowServiceFactory.getInstance().getWorkflowService(); List&lt;String&gt; workflowConstraints = workflowService.getEPersonDeleteConstraints(context, ePerson); tableList.addAll(workflowConstraints); // the list of tables can be used to construct an error message // explaining to the user why the eperson cannot be deleted. return tableList; ``` **To Reproduce** Steps to reproduce the behavior: 1. Try to delete an EPerson that has one of the listed restrictions via e.g. the Groomer tool -&gt; it fails 2. Try to delete the same EPerson via the Angular UI -&gt; it succeeds **Expected behavior** Either the restrictions are valid, then the EPerson should not be deletable in both ways, or they are invalid, then they should be deletable both ways.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>33</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #9003 from DSpace/backport-8983-to-dspace-7_x [Port dspace-7_x] Remove old webui properties from dspace.cfg</MESSAGE>
    <SHA>eb7cdb1d21f60ac419d689d37759dc5780480c1e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #8963: Remove deletion constraint from Groomer</MESSAGE>
      <SHA>e07763b021c009e421b97dc5b6404c284c9de168</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/Groomer.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #9008 from MW3000/fix-8963-remove-deletion-constraint-from-groomer-tool Fix #8963: Remove deletion constraint from Groomer</MESSAGE>
      <SHA>785d07087a8379c2e91af5f75cba9b4579830d6e</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/Groomer.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #8963: Remove deletion constraint from Groomer (cherry picked from commit e07763b021c009e421b97dc5b6404c284c9de168)</MESSAGE>
      <SHA>c23bc8a33867759919fd8fce0c28118a8630427e</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/Groomer.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #9033 from DSpace/backport-9008-to-main [Port main] Fix #8963: Remove deletion constraint from Groomer</MESSAGE>
      <SHA>8ebfd25cc111b6a59cd5ba3ec63f02b771a36e20</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/eperson/Groomer.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
