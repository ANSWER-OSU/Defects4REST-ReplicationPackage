<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3217</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/3217</ISSUEURL>
  <TITLE>NPE in SherpaService constructor when running any IT</TITLE>
  <DESCRIPTION>**Describe the bug** `SherpaService#configurationService` is both injected and explicitly initialized. Apparently Spring is calling the constructor before `DSpaceServicesFactory.getInstance()` is ready, leading to an NPE. The explicit initialization should be removed. This showed up after I merged today's `main` into a patch that I'm developing. **To Reproduce** Steps to reproduce the behavior: 1. Run integration tests. **Expected behavior** Spring should succeed in creating the bean. **Note** The explicit initialization was removed in commit dd10104661ce9cf6887093674c684852c9ad167f but reappeared in fdabd643f0eb3620612aad6ba08758f3a1629275.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #3148 from atmire/w2p-76284_issue-927---non-site-admin-edit-collection-authorization-group-REST Getting 401 when Community or Collection Administrator tries to edit Collection Authorization Group</MESSAGE>
    <SHA>7b55ed8e2ca328207cc864eefdc6e41155e918e8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Proper initialization of SherpaService Bean. #3217</MESSAGE>
      <SHA>6e4b07f74684b05544adaf3f68b922006e3daafe</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/pom.xml</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/sherpa/SHERPAService.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
