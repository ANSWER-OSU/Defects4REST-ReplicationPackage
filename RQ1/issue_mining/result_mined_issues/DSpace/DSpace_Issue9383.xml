<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9383</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/9383</ISSUEURL>
  <TITLE>When answering a request for copy the email subject field will be ignored</TITLE>
  <DESCRIPTION>**Describe the bug** When you answer a request for copy, regardless whether you grant or deny the request, you are presented with a form, that has fields for a subject and a message. The subject gets ignored and the subject from the email template is used instead. I post the issue here, because the problem lies with the backend. &lt;img width=&quot;1392&quot; alt=&quot;Screenshot 2024-02-29 at 10 11 05&quot; src=&quot;https://github.com/DSpace/DSpace/assets/8408850/52a74a6d-75ff-4c8f-8057-9ca6ab32aadd&quot;&gt; I already have a fix. I will provide a pull request today or tomorrow. **To Reproduce** Steps to reproduce the behavior: 1. Request a copy of a bitstream under embargo 2. Click the link to grant or deny the request 3. Enter a custom subject line 4. Verify the email sent: the subject line provided by you in the form was ignored and the subject from the email template used instead. **Expected behavior** The subject you enter in the form should become the subject of the email you send **Related work** I have a fix. I will provide a pull request today or tomorrow.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>62</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #9380 from DSpace/backport-9363-to-dspace-7_x [Port dspace-7_x] Bump org.eclipse.jetty.http2:http2-common from 9.4.53.v20231009 to 9.4.54.v20240208</MESSAGE>
    <SHA>f46f49a3ccc44f8adede09d8835cd29015facf41</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #9383: Set email subject for request copy form</MESSAGE>
      <SHA>b36613951b0274b39e71cede8a33b9c31762d1b8</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/core/Email.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/RequestItemRepository.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #9387 from MW3000/fix-9383-email-subject-for-request-a-copy Fix #9383: Set email subject for request copy form</MESSAGE>
      <SHA>25108cb9a139796d864dc895e07db52b7e4dbfde</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/core/Email.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/RequestItemRepository.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #9383: Set email subject for request copy form (cherry picked from commit b36613951b0274b39e71cede8a33b9c31762d1b8)</MESSAGE>
      <SHA>e528ef4c4c50b27bbdc3665844692f70c8c0ffa0</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/core/Email.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/RequestItemRepository.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #9527 from DSpace/backport-9387-to-main [Port main] Fix #9383: Set email subject for request copy form</MESSAGE>
      <SHA>af4d28f665d86065ccbcd4d4f9b29b954b4dacd7</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/core/Email.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/RequestItemRepository.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
