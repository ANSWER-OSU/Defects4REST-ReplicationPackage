<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3418</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/3418</ISSUEURL>
  <TITLE>[DS-40] SubmissionController is not thread safe</TITLE>
  <DESCRIPTION>&lt;i&gt;Imported from JIRA &lt;a href=&quot;https://jira.lyrasis.org/browse/DS-40&quot;&gt;[DS-40]&lt;/a&gt; created by bollini&lt;/i&gt; &lt;p&gt;The SubmissionController servlet uses a local field to maintain request related value (currentStepConfig). Concurrent access to the servlet can change the value of the field interfering with request processing&lt;/p&gt;</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merged in task/glam7/GLAM-989 (pull request #3401) Task/glam7/GLAM-989 Approved-by: Vincenzo Mecca</MESSAGE>
    <SHA>57fbf49506ac4f65c00b5c469eb7bc25bba4c483</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merged in test/glam7/GLAM-926 (pull request #3418) Test/glam7/GLAM-926 Approved-by: Vincenzo Mecca</MESSAGE>
      <SHA>55a895b011ba091d3fc271f5a90e45c832bf77eb</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/content/enhancer/impl/RelatedEntityItemEnhancerWithFilter.java</FILE>
        <FILE>dspace-api/src/main/resources/org/dspace/storage/rdbms/sqlmigration/postgres/V7.6_2025.01.30__remove_trailing_uuid_from_virtual_metadata.sql</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/content/enhancer/consumer/ItemEnhancerConsumerIT.java</FILE>
        <FILE>dspace-server-webapp/src/test/java/org/dspace/app/rest/DiscoveryRestControllerIT.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
