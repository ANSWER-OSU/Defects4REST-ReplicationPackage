<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2958</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/2958</ISSUEURL>
  <TITLE>Mysterious linkage between config/../*.cfg and Spring dependency injection</TITLE>
  <DESCRIPTION>**Describe the bug** If there is a configuration property `foo.bar` and a Bean `some.Clazz` with `id=&quot;foo&quot;` then instantiating the Bean causes *something* to try to call `some.Clazz.setBar(String)`, even though no such property is mentioned in the ApplicationContext. The culprit is DSpaceBeanPostProcessor, which Spring calls during Bean instantiation. I asked, and nobody recalled why it does this. It may be left over from when dspace-services had the never-used ability do DI with Guice instead of Spring. **To Reproduce** Steps to reproduce the behavior: 1. create a DSpace configuration property with a dotted name like `this.that`. 1. define a Bean which has the `id` equal to the part of the DSpace property name before the first dot (e.g. `this`), and which is embodied by a class which does *not* have a property with a name equal to the part of the DSpace property *after* the first dot (e.g. `that`). Configure it for eager instantiation. Do *not* give it a `&lt;property&gt;` with that name. 1. start DSpace and you should log a failure to instantiate the bean, noting a missing setter. **Expected behavior** Spring should not complain about mysterious properties that were not defined to it. **Related work** Link to any related tickets or PRs here.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>12</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #2955 from tdonohue/minor_test_fix Minor Test fix: Ensure prior data is cleaned. Fix ordering of params in assert</MESSAGE>
    <SHA>9a0866e2673463e5f6ea0a578e3040f4fd476d1f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Remove unused, obscure, confusing injection of DSpace properties by bean post-processor. #2958</MESSAGE>
      <SHA>ced89924dbe2e9a5ba45101a35a4c85d04c31d67</SHA>
      <PATCHEDFILES>
        <FILE>dspace-services/src/main/java/org/dspace/servicemanager/DSpaceServiceManager.java</FILE>
        <FILE>dspace-services/src/main/java/org/dspace/servicemanager/spring/DSpaceBeanPostProcessor.java</FILE>
        <FILE>dspace-services/src/test/java/org/dspace/servicemanager/DSpaceServiceManagerTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
