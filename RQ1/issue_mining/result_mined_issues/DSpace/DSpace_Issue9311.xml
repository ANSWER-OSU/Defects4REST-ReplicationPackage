<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9311</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/9311</ISSUEURL>
  <TITLE>CLI dspace stats-log-converter is failing with undefined configFile</TITLE>
  <DESCRIPTION>**Describe the bug** We are currently leaving legacy DSpace 5.X in favor of DS7 with completely new infrastructures. We had some statistical stored as logs that we want to recover and ingest it on the new system. But for the tests running so far, we can execute `stats-log-converter` command on DS5, but that same exact command doesn't work for DS7. **To Reproduce** Steps to reproduce the behavior: 1. Perform a ``` /dspace/bin/dspace stats-log-converter -n -v -i dspace.2015-12-17.log-20151222 -o dspace-converted ``` An exception occurs: ``` Exception: null java.lang.NullPointerException at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:149) at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112) at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60) at org.dspace.app.statistics.LogAnalyser.readConfig(LogAnalyser.java:986) at org.dspace.app.statistics.LogAnalyser.readConfig(LogAnalyser.java:956) at org.dspace.statistics.util.ClassicDSpaceLogConverter.main(ClassicDSpaceLogConverter.java:338) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.dspace.app.launcher.ScriptLauncher.runOneCommand(ScriptLauncher.java:283) at org.dspace.app.launcher.ScriptLauncher.handleScript(ScriptLauncher.java:134) at org.dspace.app.launcher.ScriptLauncher.main(ScriptLauncher.java:99) ``` **Expected behavior** Digging a little bit, the error is related with configFile that is set as null. ``` /** * the configuration file from which to configure the analyser */ private static String configFile; ``` and this call: public static void readConfig() throws IOException { readConfig(configFile); } when configFile is undefined. The expected result was a csv file with the extracted content ready to be used with: ``` [dspace]/bin/dspace stats-log-importer ``` for ingesting log data into Solr. **Related work** [Link to any related tickets or PRs here](https://github.com/DSpace/DSpace/issues/2852)</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>315</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #9817 from IgorBaptist4/fix-stats-importer fix for #9312: properly type in field id, adjust use of getProperty and add error handling</MESSAGE>
    <SHA>6f430ad074821c4ebf1c8e4f55f9a4597b3a19f1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #9815 from IgorBaptist4/fix-stats-conveter fix for #9311: set default configFile</MESSAGE>
      <SHA>511890f39a52c0f78c0948a38290470f5748d7ef</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/statistics/LogAnalyser.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10148 from DSpace/backport-9815-to-dspace-8_x [Port dspace-8_x] fix for #9311: set default configFile</MESSAGE>
      <SHA>23cb73cb815c4ef84dc48f75dcf46c0bbc5e3202</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/statistics/LogAnalyser.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10147 from DSpace/backport-9815-to-dspace-7_x [Port dspace-7_x] fix for #9311: set default configFile</MESSAGE>
      <SHA>3fa86d43f6845f895fa7243e2fcb952b1c069b0d</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/src/main/java/org/dspace/app/statistics/LogAnalyser.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
