<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>187</ISSUENO>
  <ISSUEURL>https://github.com/NatLibFi/Annif/issues/187</ISSUEURL>
  <TITLE>Improved error handling</TITLE>
  <DESCRIPTION>There are many ways to trigger an error using Annif. These include * defining a project with missing settings (e.g. vocab is now practically mandatory) * trying to load documents before loading a vocabulary * trying to analyze documents before loading a vocabulary or training the model Some of these may also be triggered via the REST API, especially the last one. In these situations Annif should output a helpful error message instead of crashing with a traceback.</DESCRIPTION>
  <REPONAME>Annif</REPONAME>
  <TIMEDIFFERENCEDAYS>7</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>remove unused class variables</MESSAGE>
    <SHA>577819d71a1cd72b9d4738b4f2e65122a23aded2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Handle some error scenarios using a custom exception class. Part of #187</MESSAGE>
      <SHA>f15ae86a481336e27d09490e63c6ffc68fccd40b</SHA>
      <PATCHEDFILES>
        <FILE>annif/backend/fasttext.py</FILE>
        <FILE>annif/cli.py</FILE>
        <FILE>annif/exception.py</FILE>
        <FILE>annif/project.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Handle the error when no vocab has been set for a project. Part of #187</MESSAGE>
      <SHA>5a99a74ab6eef997775f4b1c532701011594a2c9</SHA>
      <PATCHEDFILES>
        <FILE>annif/cli.py</FILE>
        <FILE>annif/exception.py</FILE>
        <FILE>annif/project.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Error handling for missing vocabulary case. Part of #187</MESSAGE>
      <SHA>3f8da4b88a6c9af21567b58fe086846eebcb084c</SHA>
      <PATCHEDFILES>
        <FILE>annif/cli.py</FILE>
        <FILE>annif/project.py</FILE>
        <FILE>annif/vocab.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Handle error when tfidf similarity index doesn't exist. Part of #187</MESSAGE>
      <SHA>35615f1425532587eb6825237b2d23b06b856cf7</SHA>
      <PATCHEDFILES>
        <FILE>annif/backend/tfidf.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Catch and report exceptions in analyzedir, eval and optimize CLI commands. Part of #187</MESSAGE>
      <SHA>96fdbafe4e54d06710ad45f3db6e1b167f8cb5d3</SHA>
      <PATCHEDFILES>
        <FILE>annif/cli.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Handle errors in REST API. Part of #187</MESSAGE>
      <SHA>281082aba893c1891041099ab0ab702195e92c69</SHA>
      <PATCHEDFILES>
        <FILE>annif/rest.py</FILE>
        <FILE>swagger/annif.yaml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
