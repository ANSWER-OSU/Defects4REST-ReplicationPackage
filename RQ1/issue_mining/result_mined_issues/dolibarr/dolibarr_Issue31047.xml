<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31047</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/31047</ISSUEURL>
  <TITLE>The notes of mass emailing tool are not retrieved (Undefined array key &quot;&quot; in /comm/mailing/note.php )</TITLE>
  <DESCRIPTION>### Bug The mass emailing notes are not stored. Is possible to edit the notes and included text in the notes filed, but after record it, changing the option in dolibarr and returning to the same note, the notes field appears empty. error.log PHP Warning: Undefined array key &quot;&quot; in /public_html/comm/mailing/note.php on line 52 ### Dolibarr Version 19.0.2, 20.0.4 ### Environment PHP 8.1.29 ### Environment Database MySQL or MariaDB 10.6.19-MariaDB ### Steps to reproduce the behavior and expected behavior 1. Select in Dolibarr one emailing in the menu Tools/Emailing List 2. Edit &quot;Note&quot; of the emailing and add some content and store it 3. Select the &quot;Emailing&quot; Sheet of the emailing 4. Return to the same &quot;note&quot; sheet of the emailing selected and observe that is empty, instead with the content stored as should be error.log PHP Warning: Undefined array key &quot;&quot; in /public_html/comm/mailing/note.php on line 52 ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>227</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch '19.0' of git@github.com:Dolibarr/dolibarr.git into 20.0</MESSAGE>
    <SHA>5b20395afe83e16af92af2ff10d7841805391672</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix bug #31047 mailing.class.php do not retrieve the public and private notes Fix bug #31047 The public and private notes are stored but not retrieved in /comm/mailing/class/mailing.class.php because the fields note_public &amp; note_private are not detailed in the /comm/mailing/class/mailing.class.php class. After this commit it works like a charm.</MESSAGE>
      <SHA>1a1ce8c1c04cecf442e7f23aac00c515b7aae170</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/comm/mailing/class/mailing.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #31047 #23763 mailing.class.php do not retrieve the public and private notes (#33994) * Fix bug #31047 mailing.class.php do not retrieve the public and private notes Fix bug #31047 The public and private notes are stored but not retrieved in /comm/mailing/class/mailing.class.php because the fields note_public &amp; note_private are not detailed in the /comm/mailing/class/mailing.class.php class. After this commit it works like a charm. * Update mailing.class.php * Update mailing.class.php * Update mailing.class.php * Update mailing.class.php * Update mailing.class.php * Update mailing.class.php * Update mailing.class.php</MESSAGE>
      <SHA>35fd24e5061689eeea26e52fb569a057b5f15c53</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/comm/mailing/class/mailing.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
