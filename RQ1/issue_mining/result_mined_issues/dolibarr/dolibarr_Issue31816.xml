<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31816</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/31816</ISSUEURL>
  <TITLE>Impossible to complete installation on develop</TITLE>
  <DESCRIPTION>### Bug The step 5 of the installation is blocked : Fatal error: Uncaught TypeError: Cronjob::create(): Argument #1 ($user) must be of type User, int given, called in /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/core/modules/DolibarrModules.class.php on line 1701 and defined in /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/cron/class/cronjob.class.php:235 Stack trace: #0 /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/core/modules/DolibarrModules.class.php(1701): Cronjob-&gt;create(1) #1 /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/core/modules/DolibarrModules.class.php(570): DolibarrModules-&gt;insert_cronjobs() #2 /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/core/modules/modAgenda.class.php(615): DolibarrModules-&gt;_init(Array, '') #3 /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/core/lib/admin.lib.php(1228): modAgenda-&gt;init() #4 /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/install/step5.php(360): activateModule('modAgenda', 1) #5 {main} thrown in /Users/pragma-tech/Documents/000000 DEV/DEVELOP/dolibarr/htdocs/cron/class/cronjob.class.php on line 235 Impossible to finalise installation ### Dolibarr Version develop ### Environment PHP 8.2 ### Environment Database Mysql version 5.7.39 ### Steps to reproduce the behavior and expected behavior Install a develop dolibarr ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>NEW: use Expedition::$date_shipping property in card and list (#31701) * NEW: use Expedition::$date_shipping property in card and list * FIX: translation * FIX: PHPStan rebutal * FIX: not a great idea to copy and not edit comment * FIX: on create, expected delivery date should precede sending date * Update card.php * Update list.php * Update list.php * Update list.php --------- Co-authored-by: Laurent Destailleur &lt;eldy@destailleur.fr&gt;</MESSAGE>
    <SHA>ed6bf372cd1c989f84bdee602c98d258394d414c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>ISSUE #31816 Bug correction to finalise step 5 of installation</MESSAGE>
      <SHA>6505e959321adf45e984ebdc2570563a9660deb7</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/modules/DolibarrModules.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update DolibarrModules.class.php Issue #31816 to enable finalisation of installation on step 5</MESSAGE>
      <SHA>45171b5eefc987d9925a6834d8a3b9c914022212</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/modules/DolibarrModules.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>ISSUE #31816 (#31820) Bug correction to finalise step 5 of installation</MESSAGE>
      <SHA>e2b6762b3cde25e0ae183da0146ee8a721b5ddb0</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/modules/DolibarrModules.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>ISSUE #31816 Complement to ISSUE #31816</MESSAGE>
      <SHA>9153b5eeceb002698aa7a55c6dd8635598f50c6a</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/modules/DolibarrModules.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
