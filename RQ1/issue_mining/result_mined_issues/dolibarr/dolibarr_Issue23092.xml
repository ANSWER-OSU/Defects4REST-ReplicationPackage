<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>23092</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/23092</ISSUEURL>
  <TITLE>Bug: The &quot;Vendor SKU&quot; in a Purchase Order is erased if the VAT is refreshing.</TITLE>
  <DESCRIPTION>### Bug If you refresh the VAT in a Purchase Order the Vendor SKU is erased. ### Environment Version 17.0.0-beta ### Environment OS Windows 10 ### Environment Web server xampp ### Environment PHP PHP 8.1.10 ### Environment Database mariaDB ### Environment URL(s) _No response_ ### Expected and actual behavior The Vendor SKU must keep in the line. ### Steps to reproduce the behavior 1. Create a Purchase Order 2. Add a Product with a Vendor SKU, so looks like this ![image](https://user-images.githubusercontent.com/78662388/205461662-130aede5-7113-4375-8155-5d5782e7fba8.png) 3. Change the VAT like this ![image](https://user-images.githubusercontent.com/78662388/205461686-8c931181-a05f-47fc-87fc-58fca74768d9.png) 4. Now the Vendor SKU is erased ![image](https://user-images.githubusercontent.com/78662388/205461703-3bbd03ea-1421-4278-8ee3-0699f2065995.png) ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix color for supplier invoice stats</MESSAGE>
    <SHA>cabbfc19acc59fb4d7de872157730dcf5c3ea7f8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #23092 Add 'ref_supplier' on VAT updating.</MESSAGE>
      <SHA>1d39a1e1e9423875d95c56f50242694f1c71e2c5</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/fourn/commande/card.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #23093 from Humml87/develop_Fix_#23092_VAT_all_Lines Fix #23092 Add 'ref_supplier' on VAT updating.</MESSAGE>
      <SHA>d0bff41358035091106830a3b7dbbdbfab21b7e3</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/fourn/commande/card.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
