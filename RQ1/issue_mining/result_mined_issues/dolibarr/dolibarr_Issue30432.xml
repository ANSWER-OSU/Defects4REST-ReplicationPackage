<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>30432</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/30432</ISSUEURL>
  <TITLE>Unable to modify client_code through thirdparties rest API</TITLE>
  <DESCRIPTION>Hello, I am currently trying to modify a client_code through the Thirdparties Rest API. I have adjusted Dolibarr's Thirdparties configuration to allow custom client codes (via the Leopard Module). However, it appears that modifying the client code through the API is not allowed. Could you please explain the reasoning behind this restriction? Additionally, is there any solution to bypass this issue without having to manually modify every code? After some investigation, it seems the issue originates from the following line: https://github.com/Dolibarr/dolibarr/blame/1b5eb2de22ccee5377549a219d0448f1e3026117/htdocs/societe/class/api_thirdparties.class.php#L299 **Steps to Reproduce:** - Execute the following CURL command : curl -X PUT --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'DOLAPIKEY: key' -d '{ &quot;code_client&quot; : &quot;new code&quot; }' 'https://dolibarr-server.fr/api/index.php/thirdparties/id' - Attempt to modify the client code via the API, the Swagger UI, or the above CURL command - Observe that the API returns a 200 code without modifying the client. **Expected Behavior:** I expected to be able to update the client code through the API. **Actual Behavior:** The client code remains unchanged and the modification is blocked. Thank you very much for your assistance. Best regards, Lorenzo</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>106</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch '20.0' of git@github.com:Dolibarr/dolibarr.git into 20.0</MESSAGE>
    <SHA>8e1e980aae2134464a360c65960397c432620eb2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: thirdparty code_client and code_compta modifiable via API (#30432) make code_client and code_compta modifiable via API call ( put /thirdparties/{id} ) for existing third parties</MESSAGE>
      <SHA>b6c163e0e8b3485583d7ce9bde7c2438b0c8d11a</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/societe/class/api_thirdparties.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #30432 make thirdparty code_client and code_compta modifiable via API (#31668) * make thirdparty code_client and code_compta modifiable via API make code_client and code_compta modifiable via API call ( put /thirdparties/{id} ) for existing third parties * fix: thirdparty code_client and code_compta modifiable via API (#30432) make code_client and code_compta modifiable via API call ( put /thirdparties/{id} ) for existing third parties</MESSAGE>
      <SHA>c580e5fb5e709c013a53d626caa543feae01ae82</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/societe/class/api_thirdparties.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
