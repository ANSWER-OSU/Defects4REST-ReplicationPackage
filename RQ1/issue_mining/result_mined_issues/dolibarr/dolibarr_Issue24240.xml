<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>24240</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/24240</ISSUEURL>
  <TITLE>Dolibarr V17.0.0 PHP8 fatal error</TITLE>
  <DESCRIPTION>### Bug When I add a product on an existing recurant invoice it fail with error 500: PHP Fatal error: Uncaught TypeError: Unsupported operand types: string / int in /var/www/html/compta/facture/card-rec.php With V17.0.0 and PHP 7.3.3 no problem ### Environment Version 17.0.0 ### Environment OS linux ### Environment Web server apache ### Environment PHP 8.0 ### Environment Database mysql ### Environment URL(s) _No response_ ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix param FILTER_VALIDATE_EMAIL</MESSAGE>
    <SHA>2d0b855de7004b1c45d302175dea1e37e98b59dd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #24240 Dolibarr V17.0.0 PHP8 fatal error</MESSAGE>
      <SHA>5351fe75ac8ff2e9a0bdf1efcdf87f7421217a41</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/compta/facture/card-rec.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #24253 from simnandez/17.0 FIX #24240 Dolibarr V17.0.0 PHP8 fatal error</MESSAGE>
      <SHA>e05e57aff5ec591245ae0b3c1c763af12cafc39b</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/compta/facture/card-rec.php</FILE>
        <FILE>htdocs/product/list.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
