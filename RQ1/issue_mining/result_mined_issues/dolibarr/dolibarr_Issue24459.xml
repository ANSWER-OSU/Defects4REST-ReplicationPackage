<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>24459</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/24459</ISSUEURL>
  <TITLE>Issues with recurrent supplier invoices (llx_facture_fourn_rec related)</TITLE>
  <DESCRIPTION>### Bug I got this in dolibarr.log, likely related to Supplier invoice generation which is not generating the invoices automatically. ``` 2023-04-06 22:23:50 ERR &lt;IP&gt; DoliDBMysqli::query SQL Error query: SELECT MAX(te.title) FROM llx_facture_fourn_rec as te WHERE te.title &lt; 'Parking 38 RDP' 2023-04-06 22:23:50 ERR &lt;IP&gt; DoliDBMysqli::query SQL Error message: DB_ERROR_NOSUCHFIELD Unknown column 'te.title' in 'field list' ``` I am under the impression that the column is &quot;titre&quot;, but I did not find the source code where &quot;title&quot; is defind for this query. ### Environment Version 16.0.3 ### Environment OS _No response_ ### Environment Web server _No response_ ### Environment PHP _No response_ ### Environment Database _No response_ ### Environment URL(s) _No response_ ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>243</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Prepare 16.0.5</MESSAGE>
    <SHA>3f45699695d733e602db61ccd6daaadb7dc40654</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #24459 Issue with recurrent supplier invoice generation (due to title). Also added some code to help with debugging.</MESSAGE>
      <SHA>80c2d7a2002c22b30be065f2d380ee871e2019dd</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/class/commonobject.class.php</FILE>
        <FILE>htdocs/fourn/class/fournisseur.facture-rec.class.php</FILE>
        <FILE>htdocs/fourn/class/fournisseur.facture.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
