<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>25416</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/25416</ISSUEURL>
  <TITLE>the email subject is not replaced when an email template is applied in tickets</TITLE>
  <DESCRIPTION>### Bug Using the button SEND EMAIL in tickets module, offer the possibility to select and apply an email remplate. The email template already created in emails module setup selecting &quot;Tickets &quot; as type of template, have already defined a Subject and a content message, but only the content message is replaced and the Subject is not replaced. ### Environment Version 17.0.2 ### Environment OS Linux ### Environment Web server Apache2 ### Environment PHP 7.4.33 ### Environment Database MySQL or MariaDB 5.5.5-10.3.31-MariaDB ### Environment URL(s) https://YOURSERVER.COM/ticket/card.php?action=presend_addmessage&amp;send_email=1&amp;private_message=0&amp;mode=init&amp;token=XXXXXXXXXXXX_id=XXXXX#formmailbeforetitle ### Expected and actual behavior The current behaviour is that after applying the email template only the content of the message is replaced, and the expected behavior is that both the Subject and the content of the message be replaced after applying an email template. ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>special characters in ckeditor</MESSAGE>
    <SHA>094f0535f30ad192b34869de32342e8d57a71081</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix #25416 the email subject is not replaced when an email template is applied in tickets</MESSAGE>
      <SHA>dc5e8f3cbf2668f93af68314672ce6be7f3118f6</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/class/html.formticket.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix #25416 the email subject is not replaced when an email template is applied in tickets</MESSAGE>
      <SHA>920743a62ec922b789535b77589e06e8a1233001</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/class/html.formticket.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #25416 :the email subject is not replaced when an email template is applied in tickets</MESSAGE>
      <SHA>97a5b549ac8c946b8961162093b07ac1f6f29541</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/class/html.formticket.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #25416 :the email subject is not replaced when an email templateâ€¦ (#25534) * Fix #25416 :the email subject is not replaced when an email template is applied in tickets * Update html.formticket.class.php --------- Co-authored-by: Laurent Destailleur &lt;eldy@destailleur.fr&gt;</MESSAGE>
      <SHA>84243dc5e48102b63fc153a5a2e789481ee54cd1</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/class/html.formticket.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
