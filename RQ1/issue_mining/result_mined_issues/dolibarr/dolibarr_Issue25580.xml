<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>25580</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/25580</ISSUEURL>
  <TITLE>install/step1.php : wrong command line argument used for $main_dir</TITLE>
  <DESCRIPTION>### Bug In `install/step1.php`, when calling this initial setup script in command line, `$main_dir` is (re)set to `$argv[1]`, which stands for `$action`, instead of `$argv[3]`. This results in producing an error and exiting when testing that directory exists and is a dolibarr one. ### Environment Version All from 11.0 and above ### Environment OS Linux ubuntu 22.04 ### Environment Web server Apache/2.4.57 (Ubuntu) ### Environment PHP PHP 7.4.33 ### Environment Database MySQL or MariaDB 8.0.32 ### Environment URL(s) _No response_ ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Prepare 17.0.3</MESSAGE>
    <SHA>a2b484400a785efeb51268cc4cd49280a53b809c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX: #25580 install/step1.php : wrong command line argument used for $main_dir</MESSAGE>
      <SHA>7586e223f3e754cdf2a9bab89a43ec76447f15bd</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/install/step1.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #25580 install/step1.php - wrong command line argument used for $main_dir</MESSAGE>
      <SHA>0b3f1e75739d09377a1d430b7671e5d5cd25c1ef</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/install/step1.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #25580 install/step1.php - wrong command line argument used for $main_dir (#25581) Co-authored-by: Olivier Lesueur &lt;o.lesueur@crm.fnattp.fr&gt;</MESSAGE>
      <SHA>3bc698d0caee2be5fc3fabdc24c42d5e0ceeae28</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/install/step1.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
