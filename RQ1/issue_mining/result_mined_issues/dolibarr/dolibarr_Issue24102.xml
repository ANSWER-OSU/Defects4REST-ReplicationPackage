<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>24102</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/24102</ISSUEURL>
  <TITLE>Manual addition of invoice lines on time spent in tasks</TITLE>
  <DESCRIPTION>### Feature Request Allow to add billing in past time ### Use case Time spent invoices can be made without the relation to time in task. It must be possible to assign them afterwards in order to allow a future calculation of ROI on the time invoiced. ### Suggested implementation ![image](https://user-images.githubusercontent.com/3288514/222674692-6c9ca4b4-7133-42ce-83f4-d094b55263fd.png) ![image](https://user-images.githubusercontent.com/3288514/222675993-92177bb1-0f55-40d0-a64d-40b96cd288c6.png) ### Suggested steps - [ ] Add select invoice - [ ] Add ligne invoice - [ ] Add informations of facture line (Quantity, Amount)</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>WIP</MESSAGE>
    <SHA>a2a4078b0456563038cc9309e6ac7ca2ab81875a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: update invoice and invoice line on time spend #24102</MESSAGE>
      <SHA>dbbb860fb43fda90194e81c4cad9d2ed0db4cf43</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/projet/class/task.class.php</FILE>
        <FILE>htdocs/projet/tasks/time.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: update invoice and invoice line on time spend #24102</MESSAGE>
      <SHA>e81231ed28ee6e40799ae7c8bd3cd0a5c92cc660</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/projet/tasks/time.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #24110 from FHenry/dev_timespent_invoice_and_line_can_be_updated feat: update invoice and invoice line on time spend #24102</MESSAGE>
      <SHA>96707474830a92329e80e531b09831827da24dbf</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/ajax/ajaxinvoiceline.php</FILE>
        <FILE>htdocs/core/class/html.form.class.php</FILE>
        <FILE>htdocs/core/class/html.formprojet.class.php</FILE>
        <FILE>htdocs/projet/class/task.class.php</FILE>
        <FILE>htdocs/projet/tasks/time.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
