<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>23019</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/23019</ISSUEURL>
  <TITLE>Impossible to add task times to an existing draft invoice</TITLE>
  <DESCRIPTION>### Bug Impossible to add task times to an existing draft invoice, Dolibar greys all the draft projects because they are linked to another company, which is not the case. File projet/tasks/time.php is calling selectInvoice method with string 'invoice' parameter instead if the company id, I guess '$projectstatic-&gt;thirdparty-&gt;id' ### Environment Version 16.0.1 ### Environment OS _No response_ ### Environment Web server _No response_ ### Environment PHP _No response_ ### Environment Database _No response_ ### Environment URL(s) _No response_ ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>24</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #23218 from atm-gauthier/fix_missing_method_declarations FIX : methods declaration (backport fix 67b9a7dc07d708231d12b5e588003â€¦</MESSAGE>
    <SHA>80ac95a158f79ca0699b7c2c8eb2f267dcd32347</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #23219 from sebastien-prudhomme/fix-23019 FIX #23019 Impossible to add task times to an existing draft invoice</MESSAGE>
      <SHA>dac8d5c952ba383c131cbbb1ca506d2313b23f5f</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/projet/tasks/time.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
