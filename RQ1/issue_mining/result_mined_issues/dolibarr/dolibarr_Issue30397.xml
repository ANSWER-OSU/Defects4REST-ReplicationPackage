<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>30397</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/30397</ISSUEURL>
  <TITLE>SWIFT/BIC should be optional for direct debit payments according to regulations</TITLE>
  <DESCRIPTION>### Bug **Background:** After importing customer payment details from another system, no direct debit payments could be generated, because Dolibarr expects not only the IBAN but also the SWIFT/BIC code as mandatory information, but the BIC data was not present. **Regulatory Status** There has been a change in the SEPA direct debit regulations from February 2016(!), which made the BIC optional for direct debit transactions within the EU (Switzerland, Monaco and San Marino still require a BIC code), see: https://www.sparkasse.de/pk/ratgeber/finanzplanung/banking-tipps/bic.html (in German). **Fix:** Will add a hidden variable WITHDRAWAL_WITHOUT_BIC which, if set to 1, makes the BIC optional (if BIC is empty, this is ok, if any data is entered for BIC, the existing structural check will still be applied).</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix #30187 (#30409) BOM columns if &quot;Stock management supports Services&quot; is active.</MESSAGE>
    <SHA>8d86f5472900db72615e92acddbdf28ad4848f66</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX #30397: for direct debit payments, BIC is optional (#30398) * Fix missing loading trans file * allow withdrawals without SEPA/BIC code (just IBAN) * fix pre-commit formatting check * fix Travis * fix and, or * fix formatting --------- Co-authored-by: Laurent Destailleur &lt;eldy@users.sourceforge.net&gt;</MESSAGE>
      <SHA>b1b6c91f22d901742c2d736d808d621a3c1d3ad5</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/compta/bank/class/account.class.php</FILE>
        <FILE>htdocs/compta/prelevement/class/bonprelevement.class.php</FILE>
        <FILE>htdocs/societe/paymentmodes.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
