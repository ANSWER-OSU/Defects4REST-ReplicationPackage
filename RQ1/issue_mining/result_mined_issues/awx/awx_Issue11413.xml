<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>11413</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/11413</ISSUEURL>
  <TITLE>Set a non-default value for Django's `SESSION_COOKIE_NAME`</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Feature Idea ##### SUMMARY See https://docs.djangoproject.com/en/3.2/ref/settings/#session-cookie-name &gt; Default: 'sessionid' &gt; The name of the cookie to use for sessions. This can be whatever you want (as long as itâ€™s different from the other cookie names in your application). Originally attempted in https://github.com/ansible/awx/pull/11348 and then reverted in https://github.com/ansible/awx/pull/11412. The biggest problem that we have is that something is not persisting right between multiple runs of integration tests, probably related to the awxkit connection object. In addition to that, the current value of &quot;sessionid&quot; is hard-coded in many places by clients: https://github.com/ansible/awx/search?q=sessionid Those can be trivially updated, and would obviously need to be for merging this change. We also have clients in a few other places that would need to change. We would also need to very strongly broadcast and release-note this change, as it could break automation that users have built around some custom clients.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>87</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #11808 from john-westcott-iv/fix_minicube Chaning API version from v1beta1 to v1</MESSAGE>
    <SHA>895c05a84a16ed5af505559a6e59b49fe676d3e6</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Changing session cookie name and added a way for clients to know what the name is #11413 (#11679) * Changing session cookie name and added a way for clients to know what the key name is * Adding session information to docs * Fixing how awxkit gets the session id header</MESSAGE>
      <SHA>cb57752903bf7f7ceaa296e226a56dbc9cb034e1</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/generics.py</FILE>
        <FILE>awx/settings/defaults.py</FILE>
        <FILE>awx/sso/views.py</FILE>
        <FILE>awxkit/awxkit/api/client.py</FILE>
        <FILE>awxkit/awxkit/awx/utils.py</FILE>
        <FILE>awxkit/awxkit/ws.py</FILE>
        <FILE>docs/auth/session.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Changing session cookie name and added a way for clients to know what the name is #11413 (#11679) * Changing session cookie name and added a way for clients to know what the key name is * Adding session information to docs * Fixing how awxkit gets the session id header</MESSAGE>
      <SHA>f57172742de35a8bc2c408a799e4e8b69c457ed5</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/generics.py</FILE>
        <FILE>awx/settings/defaults.py</FILE>
        <FILE>awx/sso/views.py</FILE>
        <FILE>awxkit/awxkit/api/client.py</FILE>
        <FILE>awxkit/awxkit/awx/utils.py</FILE>
        <FILE>awxkit/awxkit/ws.py</FILE>
        <FILE>docs/auth/session.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
