<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5765</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5765</ISSUEURL>
  <TITLE>[Performance] Investigate performance characteristics of `settings.__getattr__` memcached access</TITLE>
  <DESCRIPTION>Every `conf.settings.__getattr__()` **everywhere** in **every** AWX process incurs a memcached round trip lookup. This is fine for some use cases (within most HTTP requests), but for things like callback event processing where throughput is very high, these domain socket reads really add up (see: https://github.com/ansible/awx/pull/5762) As an extension to this, every `logger.info()` (or `debug()`, or `error()` or etc...) in AWX's logging implementation does per-log-line `settings.__getattr__()` lookups to determine external logging settings *every time we log a message* (so, it's not usual to do 10+ memcached round trips per log line). I'd like to investigate some new ideas for managing in-process setting caching that involve less per-process overhead, especially for the callback receiver, and I'd like to rethink our current approach of cache-based &quot;pull on demand&quot;.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>837</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #12077 from nixocio/ui_fix_typo Update strings</MESSAGE>
    <SHA>c7049e1a0e6a786c4d5526e19354d58f1239273e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Update SETTING_MEMORY_TTL Update SETTING_MEMORY_TTL See: https://github.com/ansible/awx/issues/5765</MESSAGE>
      <SHA>ee775ca07af46752d5f4d1fc19d77ebac81215a1</SHA>
      <PATCHEDFILES>
        <FILE>awx/conf/settings.py</FILE>
        <FILE>tools/docker-compose/README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update SETTING_MEMORY_TTL Update SETTING_MEMORY_TTL See: https://github.com/ansible/awx/issues/5765</MESSAGE>
      <SHA>e15c9273ab94cb935ca995fbb088baa110381c76</SHA>
      <PATCHEDFILES>
        <FILE>awx/conf/settings.py</FILE>
        <FILE>tools/docker-compose/README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update SETTING_MEMORY_TTL Update SETTING_MEMORY_TTL See: https://github.com/ansible/awx/issues/5765</MESSAGE>
      <SHA>30d1578aaf16c572e91bab968cf597a7ed30e575</SHA>
      <PATCHEDFILES>
        <FILE>awx/conf/settings.py</FILE>
        <FILE>tools/docker-compose/README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
