<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5920</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5920</ISSUEURL>
  <TITLE>awx cli exit code on job failure</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Feature Idea ##### SUMMARY Need implement different exit code on Job or Workflow status failure like it was with tower-cli. It is hard to --monitor output in stream and get failure status now workaround: ```` RESULT=$(awx workflow_job_templates launch &quot;${IDNAME}&quot; --monitor -f human --filter status | tee /dev/tty | tail -1) ```` run failed job: ````` awx workflow_job_templates launch &quot;${IDNAME}&quot; --monitor -f human echo $? ````` result: ```` 0 ```` expected other code: ```` 99 or 1 ````</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>19</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #6077 from Spredzy/fix_linting awx-api-lint: Fix setup.cfg syntax for linter test Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>7e5776c66f2b2123c38e248339b09c337fca66b0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>cli: make launch with --monitor return code respect the final job status see: https://github.com/ansible/awx/issues/5920 see: https://github.com/ansible/awx/issues/6079</MESSAGE>
      <SHA>a6ffececc725128663ba61784023e925d7b99754</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/client.py</FILE>
        <FILE>awxkit/awxkit/cli/custom.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: make launch with --monitor return code respect the final job status see: https://github.com/ansible/awx/issues/5920 see: https://github.com/ansible/awx/issues/6079</MESSAGE>
      <SHA>2c299f7d6bde22bf345896bd46fbbd0aba2bf1d6</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/client.py</FILE>
        <FILE>awxkit/awxkit/cli/custom.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: make launch with --monitor return code respect the final job status see: https://github.com/ansible/awx/issues/5920 see: https://github.com/ansible/awx/issues/6079</MESSAGE>
      <SHA>373f22d8f20b7ff514680e6466ac6b7eed8d66d5</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/client.py</FILE>
        <FILE>awxkit/awxkit/cli/custom.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: make launch with --monitor return code respect the final job status see: https://github.com/ansible/awx/issues/5920 see: https://github.com/ansible/awx/issues/6079</MESSAGE>
      <SHA>6480fe903663dbb1e85629bad066713c03c28f17</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/client.py</FILE>
        <FILE>awxkit/awxkit/cli/custom.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: make launch with --monitor return code respect the final job status see: https://github.com/ansible/awx/issues/5920 see: https://github.com/ansible/awx/issues/6079</MESSAGE>
      <SHA>4a8eea55a2831567f7fd41e1f1e243e217d417f7</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/client.py</FILE>
        <FILE>awxkit/awxkit/cli/custom.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
