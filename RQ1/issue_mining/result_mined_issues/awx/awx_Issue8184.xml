<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8184</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/8184</ISSUEURL>
  <TITLE>CredentialLookup does not enforce required prop</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY CredentialLookup does not enforce required prop ##### STEPS TO REPRODUCE Go to any screen that uses the `CredentialLookup` component with `required` prop set, for instance, `https://localhost:3001/next/inventories/inventory/2/sources/add` and elect source `Ansible Tower`. Credential is required but no validation will be triggered if a credential is not provided. For that particular case, the validation that we have in place is provided by the API. ![image](https://user-images.githubusercontent.com/9053044/93636285-a75b3c00-f9c1-11ea-9ba6-0a2015e9200c.png)</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #8205 from john-westcott-iv/tower_application_continuation Tower application continuation Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>acc0ba570e14ecc2313f7aa4f55a03eb2f0fea3a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add validate for `CredentialLookup` using required prop When using `CredentialLookup` wiht required prop. The `validate` argument must be provided to the `useField`. See: https://github.com/ansible/awx/issues/8184</MESSAGE>
      <SHA>3814241b33019e6da88ebf98df180d19a600ffc2</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/AzureSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/CloudFormsSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/GCESubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/OpenStackSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/SatelliteSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/TowerSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VMwareSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VirtualizationSubForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add validate for `CredentialLookup` using required prop When using `CredentialLookup` with required prop. The `validate` argument must be provided to the `useField`. See: https://github.com/ansible/awx/issues/8184</MESSAGE>
      <SHA>9b04e46e351b9b986e506ea0781e11668fbc249e</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/AzureSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/CloudFormsSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/GCESubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/OpenStackSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/SatelliteSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/TowerSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VMwareSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VirtualizationSubForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add validate for `CredentialLookup` using required prop When using `CredentialLookup` with required prop. The `validate` argument must be provided to the `useField`. See: https://github.com/ansible/awx/issues/8184</MESSAGE>
      <SHA>9b5effc77fe4bf1c5ad6365c7e15de53c6dcd34b</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/AzureSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/CloudFormsSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/GCESubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/OpenStackSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/SatelliteSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/TowerSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VMwareSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VirtualizationSubForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add validate for `CredentialLookup` using required prop When using `CredentialLookup` with required prop. The `validate` argument must be provided to the `useField`. See: https://github.com/ansible/awx/issues/8184</MESSAGE>
      <SHA>1aa90af342da6c450aa31b2e51cc2c19f58629e9</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/AzureSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/CloudFormsSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/GCESubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/OpenStackSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/SatelliteSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/TowerSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VMwareSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VirtualizationSubForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Make ContainerGroupDetails a bit more robust In order to create a container group is necessary to provide a credential. See: https://github.com/ansible/awx/issues/8184 This change makes the code related to display the credential as part of the container group details a bit more robust. Avoiding to attempt to show a non-existent credential - what is not supposed to exist. Closes: https://github.com/ansible/awx/issues/8199</MESSAGE>
      <SHA>ae29eb9673a3c4f071870b829cb09cadd0c88d0b</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/ContainerGroupDetails/ContainerGroupDetails.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add validate for `CredentialLookup` using required prop When using `CredentialLookup` with required prop. The `validate` argument must be provided to the `useField`. See: https://github.com/ansible/awx/issues/8184</MESSAGE>
      <SHA>59ff042d68b0a8309bd42f65afb56aaa44d45c71</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/InstanceGroup/shared/ContainerGroupForm.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/AzureSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/CloudFormsSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/GCESubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/OpenStackSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/SatelliteSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/TowerSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VMwareSubForm.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/shared/InventorySourceSubForms/VirtualizationSubForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Make ContainerGroupDetails a bit more robust In order to create a container group is necessary to provide a credential. See: https://github.com/ansible/awx/issues/8184 This change makes the code related to display the credential as part of the container group details a bit more robust. Avoiding to attempt to show a non-existent credential - what is not supposed to exist. Closes: https://github.com/ansible/awx/issues/8199</MESSAGE>
      <SHA>244c8f5bf66a606267e38e10f25abca942c6b9a2</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/InstanceGroup/ContainerGroupDetails/ContainerGroupDetails.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
