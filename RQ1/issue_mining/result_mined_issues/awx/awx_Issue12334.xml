<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>12334</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/12334</ISSUEURL>
  <TITLE>Selecting management jobs as non system admin raises error as node type</TITLE>
  <DESCRIPTION>### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Selecting management jobs as non system admin raises error as node type &lt;img width=&quot;1124&quot; alt=&quot;image&quot; src=&quot;https://user-images.githubusercontent.com/9053044/172234815-633a7b1b-c11a-455c-ab65-9656de270ccd.png&quot;&gt; ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a user a normal user, user A. 2 - Give the user A - admin permissions on a workflow job template. 3 - Login as user A. 4 - Attempt to add an extra node - select management job as node type. ### Expected results Not be able to select management jobs as node type ### Actual results Able to attempt to select management jobs as node type ### Additional information _No response_</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #12328 from ansible/dependabot/npm_and_yarn/awx/ui/async-2.6.4 Bump async from 2.6.3 to 2.6.4 in /awx/ui</MESSAGE>
    <SHA>e94e15977cf46318ec99c6fd43b19d85a850f11a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Hide management job for non system admin as node choice Hide management job for non system admin as node type choice. Also, fix related uni-tests related to this change. See: https://github.com/ansible/awx/issues/12334 Also: https://github.com/ansible/awx/pull/10572</MESSAGE>
      <SHA>9f49dfe11994c5feaf6887cd979c3b536f3abed5</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeEditModal.test.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.test.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Hide management job for non system admin as node choice (#12341) Hide management job for non system admin as node type choice. Also, fix related uni-tests related to this change. See: https://github.com/ansible/awx/issues/12334 Also: https://github.com/ansible/awx/pull/10572</MESSAGE>
      <SHA>a3e86dcd73472822a7dbad224136e18e48714a22</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeEditModal.test.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.test.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Hide management job for non system admin as node choice (#12341) Hide management job for non system admin as node type choice. Also, fix related uni-tests related to this change. See: https://github.com/ansible/awx/issues/12334 Also: https://github.com/ansible/awx/pull/10572</MESSAGE>
      <SHA>cb1d0c031a634aeb9b147709e3065545dd7cde73</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeEditModal.test.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.test.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.js</FILE>
        <FILE>awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
