<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10363</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/10363</ISSUEURL>
  <TITLE>Default Execution Environment not being update on settings page after EE deletion</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY Default Execution Environment not being update on settings page after EE deletion. ##### STEPS TO REPRODUCE 1. Create a new EE 2. Go to settings page - Set as Default Execution Environment 3. Delete the EE from the step 1. 4. Id of the EE remains on the settings page. ##### EXPECTED RESULTS Settings to be updated as per the EE deletion. ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/9053044/120859402-242f4580-c552-11eb-96ac-a20b87b20cd0.png) ![image](https://user-images.githubusercontent.com/9053044/120859429-2e514400-c552-11eb-9222-082c0d8e1745.png)</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>9</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #10291 from AlexSCorey/10152-AddsPFDatePicker-v2 Resolves issue where FireFox users could not schedule a job template SUMMARY This addresses #10152 and #6214 ISSUE TYPE Bugfix Pull Request COMPONENT NAME UI ADDITIONAL INFORMATION Reviewed-by: Michael Abashian &lt;None&gt; Reviewed-by: Tiago GÃ³es &lt;tiago.goes2009@gmail.com&gt;</MESSAGE>
    <SHA>e4f21ec2945e1980974c071bbd83fc31b10e9008</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #10378 from jbradberry/control-plane-ee Control plane EE SUMMARY Per discussion, we are now going to have privileged execution environments for use on the control plane, and these will not be allowed to be edited or deleted. related ansible/tower#5016 TODO reinstate the restrictive RBAC for managed_by_tower=True EEs convert any EEs automatically installed prior into managed_by_tower=False EEs change the resolver so that ordinary jobs do not get a managed EE, and project updates only get a managed EE allow sysadmin users to edit the pull field for managed EEs automatically disassociate EEs that get deleted from the DEFAULT_EXECUTION_ENVIRONMENT setting #10363 ISSUE TYPE Bugfix Pull Request COMPONENT NAME API Reviewed-by: Alan Rominger &lt;arominge@redhat.com&gt; Reviewed-by: Jeff Bradberry &lt;None&gt; Reviewed-by: Shane McDonald &lt;me@shanemcd.com&gt; Reviewed-by: Seth Foster &lt;None&gt; Reviewed-by: Bianca Henderson &lt;beeankha@gmail.com&gt;</MESSAGE>
      <SHA>f26d975005d894041cf0b439f0a5b6d26a48f124</SHA>
      <PATCHEDFILES>
        <FILE>Makefile</FILE>
        <FILE>awx/api/metadata.py</FILE>
        <FILE>awx/api/views/__init__.py</FILE>
        <FILE>awx/conf/settings.py</FILE>
        <FILE>awx/main/access.py</FILE>
        <FILE>awx/main/migrations/0145_deregister_managed_ee_objs.py</FILE>
        <FILE>awx/main/models/projects.py</FILE>
        <FILE>awx/main/signals.py</FILE>
        <FILE>awx/main/tasks.py</FILE>
        <FILE>awx/main/tests/functional/api/test_instance_group.py</FILE>
        <FILE>awx/main/tests/functional/conftest.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_container_groups.py</FILE>
        <FILE>awx/main/tests/functional/test_execution_environments.py</FILE>
        <FILE>awx/main/tests/functional/test_inventory_source_injectors.py</FILE>
        <FILE>awx/main/tests/unit/test_tasks.py</FILE>
        <FILE>awx/main/utils/execution_environments.py</FILE>
        <FILE>awx_collection/test/awx/conftest.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
