<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6850</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/6850</ISSUEURL>
  <TITLE>Redis HA (high availability): Question</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Redis HA (high availability) ##### SUMMARY We have replaced RabbitMQ by Redis. When we make an architecture Awx HA. It is necessary to make Redis HA or with a single redis we can do this architecture ? If I understand redis is temporary solution and we plan on replacing this with a postgres message broker https://github.com/ansible/awx/pull/5441.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[Policy as Code] Monkey patch opa_client.base.BaseClient (#6865) Workaround bug described in https://github.com/Turall/OPA-python-client/issues/29</MESSAGE>
    <SHA>d5204012774b0eaa745f9c3f393c4a44b73c6f83</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Basic runtime enforcement of policy as code part 2 (#6875) * Add `opa_query_path field` for Inventory, Organization and JobTemplate models (#6850) Add `opa_query_path` model field to Inventory, Organizatio and JobTemplate. Add migration file and expose opa_query_path field in the related API serializers. * Gather and evaluate `opa_query_path` fields and raise violation exceptions (#6864) gather and evaluate all opa query related to a job execution during policy evaluation phase * Add OPA_AUTH_CUSTOM_HEADERS support (#6863) * Extend policy input data serializers (#6890) * Extend policy input data serializers * Update help text for PaC related fields (#6891) * Remove encrypted from OPA_AUTH_CUSTOMER_HEADER Unable to encrypt a dict field --------- Co-authored-by: Jiří Jeřábek (Jiri Jerabek) &lt;Jerabekjirka@email.cz&gt; Co-authored-by: Alexander Saprykin &lt;cutwatercore@gmail.com&gt; Co-authored-by: Tina Tien &lt;98424339+tiyiprh@users.noreply.github.com&gt;</MESSAGE>
      <SHA>eeb22c8f61aea6dfbaccf50b78b69836b0c05fb1</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/serializers.py</FILE>
        <FILE>awx/main/conf.py</FILE>
        <FILE>awx/main/tasks/policy.py</FILE>
        <FILE>awx/main/tests/functional/test_policy.py</FILE>
        <FILE>awx/settings/defaults.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
