<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9864</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/9864</ISSUEURL>
  <TITLE>Add option to select EE when launching ad-hoc commands</TITLE>
  <DESCRIPTION>&lt;!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --&gt; ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to run jobs or plays in my own EE to get around #9863 but it fails It used to work doing it the way I'm doing in 18.0.0 with the EE image I made ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: k3s, awx-operator * Ansible version: unknown * Operating System: debian buster * Web Browser: n.a. ##### STEPS TO REPRODUCE - deploy 19.0.0 (with database migration from my &quot;live&quot; 17.1 awx, as described in https://github.com/ansible/awx-operator/blob/devel/docs/migration.md - that worked like a charm) - create a new execution environment using quay.io/mhomann/awx-ee-community:latest as the image - Set that execution environment as the default for your organization - try running win_ping adhoc against a windows host - observe as it fails with the above output - If you monitor your pod during this you will see that the worker spawns with the default EE image, not your custom one. ##### EXPECTED RESULTS A job should use the EE that is set as the default for the organization it is run in, if there is one specified in the organization ##### ACTUAL RESULTS see above: job uses default EE and fails due to #9863</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>20</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #9957 from jbradberry/isolated-removal Isolated removal SUMMARY Removal of the isolated nodes feature. ISSUE TYPE Feature Pull Request COMPONENT NAME API AWX VERSION Reviewed-by: Alan Rominger &lt;arominge@redhat.com&gt; Reviewed-by: Jeff Bradberry &lt;None&gt; Reviewed-by: Elyézer Rezende &lt;None&gt; Reviewed-by: Bianca Henderson &lt;beeankha@gmail.com&gt;</MESSAGE>
    <SHA>6bea5dd2949ce706ac0ca4bc8bc3681f42c07a8a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #10004 from AlexSCorey/9864-AddEEtoAdHocWizard Adds an execution environment step to the ad hoc commands SUMMARY This addresses some of #9864 by adding a step to select an execution environment to the ad hoc commands wizard ISSUE TYPE Bugfix Pull Request COMPONENT NAME UI AWX VERSION ADDITIONAL INFORMATION Reviewed-by: Kersom &lt;None&gt; Reviewed-by: Tiago Góes &lt;tiago.goes2009@gmail.com&gt;</MESSAGE>
      <SHA>43d33281a536a3d92c0fe3e79ddaae4e79b6b6ad</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AdHocCommands/AdHocCommands.jsx</FILE>
        <FILE>awx/ui_next/src/components/AdHocCommands/AdHocCommands.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/AdHocCommands/AdHocCommandsWizard.jsx</FILE>
        <FILE>awx/ui_next/src/components/AdHocCommands/AdHocCommandsWizard.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/AdHocCommands/AdHocExecutionEnironmentStep.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/AdHocCommands/AdHocExecutionEnvironmentStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/InventoryGroupHosts/InventoryGroupHostList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/InventoryGroups/InventoryGroupsList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/InventoryHostGroups/InventoryHostGroupsList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/InventoryHosts/InventoryHostList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/InventoryRelatedGroups/InventoryRelatedGroupList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Inventory/SmartInventoryHosts/SmartInventoryHostList.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
