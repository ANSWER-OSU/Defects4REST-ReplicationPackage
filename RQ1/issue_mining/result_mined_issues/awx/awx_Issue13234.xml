<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>13234</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/13234</ISSUEURL>
  <TITLE>AWX receptor issue with verifysignature.</TITLE>
  <DESCRIPTION>### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Trying todo a healthcheck on the remote execution node after upgrading from 21.8.0 -&gt; 21.9.0. Got this error in the UI: ``` Remote error: ERROR: could not parse response: ERROR: could not verify signature: signature is empty ``` Did a reinstall of the remote execution node. After which it failed to start. ``` # /usr/bin/receptor -c /etc/receptor/receptor.conf Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` Finally i found out the root cause: ``` # grep verifysignature /etc/receptor/receptor.conf verifysignature: ``` Removing this config makes everything working again. Setting it to true makes the node happy but not AWX. ### AWX version AWX 21.9.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version ansible [core 2.12.2] ### Operating system RHEL 8.6 ### Web browser Firefox ### Steps to reproduce Trying todo a healthcheck on the remote execution node after upgrading from 21.8.0 -&gt; 21.9.0. Got this error in the UI: ``` Remote error: ERROR: could not parse response: ERROR: could not verify signature: signature is empty ``` Did a reinstall of the remote execution node. After which it failed to start. ``` # /usr/bin/receptor -c /etc/receptor/receptor.conf Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` Finally i found out the root cause: ``` # grep verifysignature /etc/receptor/receptor.conf verifysignature: ``` Removing this config makes everything working again. Setting it to true makes the node happy but not AWX. ### Expected results Remote execution node turning up green in UI. ### Actual results Red ### Additional information receptor.log ``` Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ```</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>prevent unsupported locale setting error in GHA related to https://github.com/ansible/ansible/pull/78175 the way the GHA runner is built, Python runs with a mixed locale between the FS bits and the default encoding, which can cause unpredictable issues adding env var `LC_ALL: &quot;C.UTF-8&quot;` prevent flakiness due to locale issue Signed-off-by: Hao Liu &lt;haoli@redhat.com&gt;</MESSAGE>
    <SHA>40499a40844178c9fc5ceebc9b81cdd509c78924</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Revert verifysignature variablization in bundle In #13200 the dev env was changed to make `verifysignature` optional, dependent on a variable set before ansible gets run to set up the `docker-compose` environment. However along with that change, a change to the execution node install bundle slipped in, which is seemingly unrelated to the dev env change and is breaking some installs: #13234, ansible/awx-operator#1132. I think this change was unintentional as it would at least require another change in ansible/receptor-collection and maybe a change in ansible/awx-operator as well. Signed-off-by: Rick Elrod &lt;rick@elrod.me&gt;</MESSAGE>
      <SHA>1bb74f176a5439e0f2aa3f03c868125c3203c88a</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/templates/instance_install_bundle/group_vars/all.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Revert verifysignature variablization in bundle (#13253) In #13200 the dev env was changed to make `verifysignature` optional, dependent on a variable set before ansible gets run to set up the `docker-compose` environment. However along with that change, a change to the execution node install bundle slipped in, which is seemingly unrelated to the dev env change and is breaking some installs: #13234, ansible/awx-operator#1132. I think this change was unintentional as it would at least require another change in ansible/receptor-collection and maybe a change in ansible/awx-operator as well. Signed-off-by: Rick Elrod &lt;rick@elrod.me&gt;</MESSAGE>
      <SHA>657b5cb1aa1063551df9b4b09221cc32161c10e0</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/templates/instance_install_bundle/group_vars/all.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
