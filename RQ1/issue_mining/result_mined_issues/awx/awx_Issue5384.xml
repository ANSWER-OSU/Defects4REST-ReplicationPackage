<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5384</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5384</ISSUEURL>
  <TITLE>AWX starts and runs but returns 502</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY Containerized AWX install running under Docker Swarm was running fine until yesterday. Users started getting 502s, none of the containers were returning errors. rebuilt the stack, reusing existing DB files. issue remains. after a subsequent rebuild, postgres started to throw database errors matching reports in #1618 (see logs below). ##### ENVIRONMENT * AWX version: Docker image tag &quot;latest&quot; pulled on Nov 22 2019 @ 1622 UTC * AWX install method: docker on linux * Operating System: CentOS 7 * Web Browser: Chrome latest stable ##### STEPS TO REPRODUCE Restart containers, remove and rebuild individual containers, remove and rebuild entire stack. ##### EXPECTED RESULTS AWX starts without error, UI is accessible and functional ##### ACTUAL RESULTS AWX starts without error, UI returns 502 ##### ADDITIONAL INFORMATION [awx_task.txt](https://github.com/ansible/awx/files/3880692/awx_task.txt) [awx_web.txt](https://github.com/ansible/awx/files/3880693/awx_web.txt) [pgsql.txt](https://github.com/ansible/awx/files/3880694/pgsql.txt) [rabbit.txt](https://github.com/ansible/awx/files/3880695/rabbit.txt)</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #5380 from ansible/meyers_fix In admin reaper skip work units w/o params</MESSAGE>
    <SHA>c6e1cc06cb422c3b2a9e57f3fba8564ba5ddfd95</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #5384 from ansible/fix-schema-ci-test Fix the problems with the api-schema tests against Tower</MESSAGE>
      <SHA>31b622b0f1bef447717450870279aba059e9ef13</SHA>
      <PATCHEDFILES>
        <FILE>.github/workflows/upload_schema.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
