<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5112</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5112</ISSUEURL>
  <TITLE>Project source in WFJT launch using custom scm_branch not working</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY When launching a workflow with `ask_scm_branch_on_launch` checked the AWX GUI asks for the SCM branch to use. In the job nodes the given branch name seems to be ignored. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.7.10 * Operating System: macOS * Web Browser: Chrome ##### STEPS TO REPRODUCE **Prepare a workflow job** * Create a project for a given git repository * Define a workflow job template named `scm_test` * Check the box &quot;Prompt on launch&quot; above the &quot;SCM branch&quot; input field * Click &quot;Save&quot; to open Workflow Visualizer * Add a Node &quot;Project Sync&quot; * Choose your project and click &quot;Select&quot; * Leave the Visualizer by clicking &quot;Save&quot; * Save the workflow job template **Launch the workflow job** * Click on launch and enter the branch of your choice * When starting workflow job you'll see the correct value for `scm_branch` listed in job overview * When clicking in job node &quot;Project sync&quot;, `scm_branch` is set to `master` ##### EXPECTED RESULTS Project sync checks out the given branch from user's input. ##### ACTUAL RESULTS Instead, master branch is checked out by default</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #5108 from fosterseth/fix_rename_tower_token Rename tower_token to controller_token</MESSAGE>
    <SHA>37f7fd85eade393cfcbe58080ebbf1dfcc7db56a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #5112 from kdelee/fix_cli_docs_build Fix cli docs build</MESSAGE>
      <SHA>044629224f6aafe4833d3face19456a65d24d455</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/sphinx.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
