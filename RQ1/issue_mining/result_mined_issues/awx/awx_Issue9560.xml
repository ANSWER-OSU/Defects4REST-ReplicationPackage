<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9560</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/9560</ISSUEURL>
  <TITLE>Allow WFJT execution_environment to be used as a fallback for node jobs</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Feature Idea ##### SUMMARY `WorkflowJobTemplate`s have an `execution_environment` field since they derive from `UnifiedJobTemplate`. However, the current execution environment resolving code doesn't make use of this. We should add logic to the resolver that allows this value to be used as a fallback if a job hanging off of a workflow node fails to have an explicitly set EE.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>85</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #10326 from chrismeyersfsu/fix-iso_path_sharing when sharing paths use little z AWX_ISOLATION_SHOW_PATHS will be shared between containers. Strange file not found error can crop up when concurrently accessing shared directories between multiple containers that are bind mounted with big Z. So make sure we use little z. Fixes errors like below: fatal: [localhost]: FAILED! =&gt; {&quot;changed&quot;: false, &quot;cmd&quot;: &quot;/usr/bin/git ls-remote file:///opt/tmpawx/at_DrunkMail525450112299457413919634186288881628802211907645041298254_test/ -h refs/heads/HEAD&quot;, &quot;msg&quot;: &quot;fatal: '/opt/tmpawx/at_DrunkMail525450112299457413919634186288881628802211907645041298254_test/' does not appear to be a git repository\\nfatal: Could not read from remote repository.\\n\\nPlease make sure you have the correct access rights\\nand the repository exists.&quot;, &quot;rc&quot;: 128, &quot;stderr&quot;: &quot;fatal: '/opt/tmpawx/at_DrunkMail525450112299457413919634186288881628802211907645041298254_test/' does not appear to be a git repository\\nfatal: Could not read from remote repository.\\n\\nPlease make sure you have the correct access rights\\nand the repository exists.\\n&quot;, &quot;stderr_lines&quot;: [&quot;fatal: '/opt/tmpawx/at_DrunkMail525450112299457413919634186288881628802211907645041298254_test/' does not appear to be a git repository&quot;, &quot;fatal: Could not read from remote repository.&quot;, &quot;&quot;, &quot;Please make sure you have the correct access rights&quot;, &quot;and the repository exists.&quot;], &quot;stdout&quot;: &quot;&quot;, &quot;stdout_lines&quot;: []}``` Reviewed-by: Shane McDonald &lt;me@shanemcd.com&gt;</MESSAGE>
    <SHA>896d8959342eccff5f103ee748d1fe246ff64ecc</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #10305 from jbradberry/resolve-workflow-ee Include the EE set on a workflow template in the resolver hierarchy SUMMARY This step comes immediately after checking the actual job/template for an explicitly set EE. Note that now, because of how jobs are spawned off of workflow nodes, the call to .resolve_execution_environment() no longer happens in .create_unified_job(). The job instance within .create_unified_job() doesn't yet have access to the node that it will be attached to, making it impossible to use this information in the resolver if called there. related #9560 ISSUE TYPE Feature Pull Request Bugfix Pull Request COMPONENT NAME API AWX VERSION Reviewed-by: Shane McDonald &lt;me@shanemcd.com&gt; Reviewed-by: Christian Adams &lt;rooftopcellist@gmail.com&gt;</MESSAGE>
      <SHA>7725c6f18f1a186539328472e93d08d50df1a1ce</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/models/ad_hoc_commands.py</FILE>
        <FILE>awx/main/models/mixins.py</FILE>
        <FILE>awx/main/models/unified_jobs.py</FILE>
        <FILE>awx/main/tasks.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
