<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>11167</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/11167</ISSUEURL>
  <TITLE>Logout as User A and Login as User B redirects to User A's last location</TITLE>
  <DESCRIPTION>### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary If I have a user, we will call it User A that is a System Administrator, that is using AWX, and logs out when they are done. Then I log in as User B, who is a normal user, User B is directed to the last location of User A. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Create 2 users. Login as User A, and then log out. Login as User B ### Expected results User B is sent to the home screen ### Actual results User B is sent to the last location of User A ### Additional information ![loginout](https://user-images.githubusercontent.com/39280967/135306478-b4b62135-ba1f-4b2d-87fd-7ab47fd14830.gif)</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>258</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #12240 from fosterseth/make_prometheus_grafana Add prometheus and grafana make commands for local environment</MESSAGE>
    <SHA>b548ad21a9d3e9e9a6c873d108e5ff5e78f20bf2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Update logout/login for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow sesssion to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>0c49fdd51fdf0c9dc319c00322c1f85900251701</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/.eslintrc.json</FILE>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
        <FILE>awx/ui/test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow sesssion to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>78fb21862fde4d7b96910bc076a73bc49bfa41f6</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/.eslintrc.json</FILE>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
        <FILE>awx/ui/test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow sesssion to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>1149d98626d220df958d14e207139e63c721d50f</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/.eslintrc.json</FILE>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>6ed27551019665b87791ad0af13318f50b353781</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>da80c6b1a750db91acac5e28c2fd132a35031968</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>a8f8f57f88d1bed4be10119b0b75b403a8afb136</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>21813cff4406f9a780071f2e324d443a1b455d01</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>21eeb3778e3c8bb44b18bdee6290d026fcb947a9</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>ae03c3c27718a8d98c7060bae5ff05a7463e480b</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>cde558c02eb0217fae789b51cf1bdad22732c536</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>d8037618c8b9541570a6eb54e36024a72eeee64f</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update logout/login redirect for different users * Logout as User A and Login as User B redirects to `/home' * Logout as User A and Login as User A redirects to `/home' * Allow session to timeout as User A and Login as User A redirects to User A's last location See: https://github.com/ansible/awx/issues/11167</MESSAGE>
      <SHA>c04410d81cdd6046b47ec1909702b44f2e4cd9f0</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/App.js</FILE>
        <FILE>awx/ui/src/constants.js</FILE>
        <FILE>awx/ui/src/contexts/Session.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.js</FILE>
        <FILE>awx/ui/src/screens/Login/Login.test.js</FILE>
        <FILE>awx/ui/src/util/auth.js</FILE>
        <FILE>awx/ui/src/util/auth.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
