<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4560</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/4560</ISSUEURL>
  <TITLE>CLI: awx users create does not indicate correct required arguments</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY &lt;!-- Briefly describe the problem. --&gt; Help text only indicates need username, also some strange formatting ##### STEPS TO REPRODUCE &lt;!-- Please describe exactly how to reproduce the problem. --&gt; 1) Have valid token or username/password in environment 2) `awx users create --help` ##### EXPECTED RESULTS &lt;!-- What did you expect to happen when running the steps above? --&gt; ``` usage: awx users create [-h] --username TEXT [--first_name TEXT] [--last_name TEXT] [--email TEXT] [--is_superuser BOOLEAN] [--is_system_auditor BOOLEAN] --password TEXT [--last_login LAST_LOGIN] arguments: -h, --help show this help message and exit --username TEXT [REQUIRED] Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only. --first_name TEXT --last_name TEXT --email TEXT --is_superuser BOOLEAN Designates that this user has all permissions without explicitly assigning them. --is_system_auditor BOOLEAN --password TEXT [REQUIRED] Write-only field used to change the password. --last_login LAST_LOGIN awx users create: the following arguments are required: --username --password ``` ##### ACTUAL RESULTS &lt;!-- What actually happened? --&gt; ``` awx users create --help usage: awx users create [-h] --username TEXT [--first_name TEXT] [--last_name TEXT] [--email TEXT] [--is_superuser BOOLEAN] [--is_system_auditor BOOLEAN] [--password TEXT] [--last_login LAST_LOGIN] optional arguments: -h, --help show this help message and exit --username TEXT [REQUIRED] Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only. --first_name TEXT --last_name TEXT --email TEXT --is_superuser BOOLEAN Designates that this user has all permissions without explicitly assigning them. --is_system_auditor BOOLEAN --password TEXT Write-only field used to change the password. --last_login LAST_LOGIN awx users create: the following arguments are required: --username ``` diff is: 1) that all arguments are labeled as `optional arguments`, we could fix this by just saying `arguments` 2) Last line `the following arguments are required: --username` should include `--password` 3) In list at top of help `--password` should NOT be in brackets (is not optional) ##### ADDITIONAL INFORMATION &lt;!-- Include any links to sosreport, database dumps, screenshots or other information. --&gt; the `optional arguments` thing is a problem across the board, should be fixed in general way I think</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #4557 from jlmitch5/fixPopoverClick fix regression where clicking inside popover closed it Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>e19035079e75f64d4ec3825dbdb22971931e8b7e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>cli: fix a few bugs related to required OPTIONS see: https://github.com/ansible/awx/issues/4581 see: https://github.com/ansible/awx/issues/4583 see: https://github.com/ansible/awx/issues/4560</MESSAGE>
      <SHA>4b38a6ae597bffec88c629060c98d5387706a171</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/serializers.py</FILE>
        <FILE>awxkit/awxkit/cli/options.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: fix a few bugs related to required OPTIONS see: https://github.com/ansible/awx/issues/4581 see: https://github.com/ansible/awx/issues/4583 see: https://github.com/ansible/awx/issues/4560</MESSAGE>
      <SHA>ea36be3a0e96dd12e95b4b77c8963092307013ca</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/serializers.py</FILE>
        <FILE>awxkit/awxkit/cli/options.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
