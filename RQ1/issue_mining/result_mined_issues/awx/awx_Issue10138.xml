<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10138</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/10138</ISSUEURL>
  <TITLE>Activity stream menu gives &quot;object Object&quot; in summary</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY If I change the survey of a job template and then view the activity stream, the diff doesn't render in the popup box. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: N/A * Ansible version: X.Y.Z * Operating System: * Web Browser: Chrome ##### STEPS TO REPRODUCE On development, I did `make ui-devel` before reproducing this. I edit the survey of a job template and then view its activity stream entry in the UI. ##### EXPECTED RESULTS I expect the details that are given in the details from the API. The UI makes a request to this endpoint and gets this data: https://localhost:8043/api/v2/activity_stream/?order_by=-timestamp&amp;page=1&amp;page_size=20 ```json { &quot;count&quot;: 809, &quot;next&quot;: &quot;/api/v2/activity_stream/?order_by=-timestamp&amp;page=2&amp;page_size=20&quot;, &quot;previous&quot;: null, &quot;results&quot;: [ { &quot;id&quot;: 809, &quot;type&quot;: &quot;activity_stream&quot;, &quot;url&quot;: &quot;/api/v2/activity_stream/809/&quot;, &quot;related&quot;: { &quot;actor&quot;: &quot;/api/v2/users/2/&quot;, &quot;job_template&quot;: [ &quot;/api/v2/job_templates/230/&quot; ] }, &quot;summary_fields&quot;: { &quot;job_template&quot;: [ { &quot;id&quot;: 230, &quot;name&quot;: &quot;jt_for_survey_test&quot;, &quot;description&quot;: &quot;&quot; } ], &quot;actor&quot;: { &quot;id&quot;: 2, &quot;username&quot;: &quot;alan&quot;, &quot;first_name&quot;: &quot;&quot;, &quot;last_name&quot;: &quot;&quot; } }, &quot;timestamp&quot;: &quot;2021-05-07T13:23:30.530515Z&quot;, &quot;operation&quot;: &quot;update&quot;, &quot;changes&quot;: { &quot;survey_spec&quot;: [ &quot;{\&quot;name\&quot;: \&quot;\&quot;, \&quot;description\&quot;: \&quot;\&quot;, \&quot;spec\&quot;: [{\&quot;question_name\&quot;: \&quot;Q1\&quot;, \&quot;question_description\&quot;: \&quot;The first question\&quot;, \&quot;required\&quot;: true, \&quot;type\&quot;: \&quot;text\&quot;, \&quot;variable\&quot;: \&quot;q1\&quot;, \&quot;min\&quot;: 5, \&quot;max\&quot;: 15, \&quot;default\&quot;: \&quot;hello\&quot;, \&quot;choices\&quot;: \&quot;\&quot;}]}&quot;, &quot;{\&quot;name\&quot;: \&quot;\&quot;, \&quot;description\&quot;: \&quot;\&quot;, \&quot;spec\&quot;: [{\&quot;question_name\&quot;: \&quot;Q1\&quot;, \&quot;question_description\&quot;: \&quot;The first question\&quot;, \&quot;required\&quot;: true, \&quot;type\&quot;: \&quot;text\&quot;, \&quot;variable\&quot;: \&quot;q1\&quot;, \&quot;min\&quot;: 5, \&quot;max\&quot;: 15, \&quot;default\&quot;: \&quot;hello\&quot;, \&quot;choices\&quot;: \&quot;\&quot;}, {\&quot;question_name\&quot;: \&quot;Q2\&quot;, \&quot;type\&quot;: \&quot;text\&quot;, \&quot;variable\&quot;: \&quot;q2\&quot;, \&quot;required\&quot;: false}]}&quot; ] }, &quot;object1&quot;: &quot;job_template&quot;, &quot;object2&quot;: &quot;&quot;, &quot;object_association&quot;: &quot;&quot;, &quot;action_node&quot;: &quot;awx_1&quot;, &quot;object_type&quot;: &quot;&quot; }, &lt;snip&gt; ``` ##### ACTUAL RESULTS ![Screenshot from 2021-05-07 09-28-42](https://user-images.githubusercontent.com/1385596/117457148-f3d69600-af16-11eb-955f-5eb658f6e23b.png) ##### ADDITIONAL INFORMATION I really can't find anything relevant in the UI console.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>19</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #10271 from beeankha/galaxy_cred_export_bug Enable Export of Galaxy Credentials Associated to Organizations SUMMARY Addresses #9342 ISSUE TYPE Bugfix Pull Request COMPONENT NAME API AWX VERSION awx: 19.1.0 Reviewed-by: Shane McDonald &lt;me@shanemcd.com&gt; Reviewed-by: Rebeccah Hunter &lt;rhunter@redhat.com&gt;</MESSAGE>
    <SHA>f0129c857b01d9949a68492a6934b908fe032982</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #10267 from mabashian/10138-activity-stream Fixes bug where activity stream changes were displaying as [object object] SUMMARY Resolves #10138 Here it is working: In this case the value passed to the VariablesDetail component is a straight up JSON object (not a stringified JSON object) which that component does not seem to like in its current state. Rather than looking at changing the VariablesDetail implementation I decided to just stringify the object before it gets passed in. Since this object is generated by the backend I think it's safe to assume it will always be an object. ISSUE TYPE Bugfix Pull Request COMPONENT NAME UI Reviewed-by: Kersom &lt;None&gt; Reviewed-by: Tiago GÃ³es &lt;tiago.goes2009@gmail.com&gt;</MESSAGE>
      <SHA>a8b2b5892cec3b3344461501d363c0eb15f70a98</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/ActivityStream/ActivityStreamDetailButton.jsx</FILE>
        <FILE>awx/ui_next/src/screens/ActivityStream/ActivityStreamDetailButton.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
