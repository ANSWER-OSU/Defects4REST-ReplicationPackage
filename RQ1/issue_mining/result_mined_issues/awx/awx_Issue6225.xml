<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6225</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/6225</ISSUEURL>
  <TITLE>ask_variables_on_launch issue on AWX</TITLE>
  <DESCRIPTION>##### ISSUE TYPE ask_variables_on_launch is set to true still getting error as undefined variable. ##### SUMMARY I have created a Job template via API and set the ask_variables_on_launch value to true. Though setting the value as true, playbook fails during execution, saying 'undefined variable' ##### ENVIRONMENT * AWX version: 9.2.0 * Tower CLI 3.3.8 * API v2 * AWX install method: Installation without Docker on CentOS7 * Ansible version: 2.9.5 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: Google Chrome Version 80.0.3987.132 (Official Build) (64-bit) ##### STEPS TO REPRODUCE &gt;&gt; Created a Job Template for sample. &gt;&gt; Verify the values of the sample job template for 'project, inventory, playbook' attributes, and its corresponding values. &gt;&gt; With the values observed from the sample job template, create a new job template via APIv2 and set the value of &quot;ask_variables_on_launch to true&quot; * API URL: * http://awx-server-ip/api/v2/job_templates/ ##### EXPECTED RESULTS Being set the value of 'ask_variables_on_launch' to true, I should be able to execute the playbook by passing extra variable during launch of the playbook and via Survey as well. ##### ACTUAL RESULTS &quot;msg&quot;: &quot;The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'it_user'\n\nThe error appears to be in '/tmp/awx_25_ahs6_izp/project/useradd_IT.yml': line 7, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n tasks:\n - name: Adding users\n ^ here\n&quot;, &quot;_ansible_no_log&quot;: false --The same error occurred when the value of 'ask_variables_on_launch' set as false. ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/47471901/76210019-3d4f2680-6229-11ea-95f8-04dc9ac4f84d.png) ![image](https://user-images.githubusercontent.com/47471901/76210151-87380c80-6229-11ea-8e8e-2359422c1276.png)</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #6218 from mabashian/sub-detail-str [4.3] Fix subscription detail string bug</MESSAGE>
    <SHA>2770b3e2a1df61b4e18d1475f73b053e5bee2c55</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #6225 from ansible/tvo318-patch-2 Update conf.py for 4.3</MESSAGE>
      <SHA>ab435e5ea99c1b0567e79a9f5c7d259d332c4f0d</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/docs/source/conf.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
