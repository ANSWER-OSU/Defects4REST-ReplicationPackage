<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6432</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/6432</ISSUEURL>
  <TITLE>Launch button for workflow visualizer is enabled on empty workflows</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY Visit a new workflow visualizer and view the top row of buttons. The launch button is enabled, while all the other buttons are (correctly) disabled.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>AAP-14538 Only process ansible_facts for successful jobs (#14313) (#6458)</MESSAGE>
    <SHA>437381ed19ecb4fb4afaa5c2964ac3239a4c547d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Prevent Dispatcher deadlock when Redis disappears (#14249) (#6432) This fixes https://github.com/ansible/awx/issues/14245 which has more information about this issue. This change addresses both: - A clashing signal handler (registering a callback to fire when the task manager times out, and hitting that callback in cases where we didn't expect to). Make dispatcher timeout use SIGUSR1, not SIGTERM. - Metrics not being reported should not make us crash, so that is now fixed as well. Signed-off-by: Rick Elrod &lt;rick@elrod.me&gt; Co-authored-by: Alan Rominger &lt;arominge@redhat.com&gt;</MESSAGE>
      <SHA>86982def6c4577e0b8c02b0c2e2ece85004733a2</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/dispatch/pool.py</FILE>
        <FILE>awx/main/dispatch/worker/base.py</FILE>
        <FILE>awx/main/scheduler/task_manager.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
