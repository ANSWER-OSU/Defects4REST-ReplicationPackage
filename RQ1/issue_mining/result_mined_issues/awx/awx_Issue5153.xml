<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5153</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5153</ISSUEURL>
  <TITLE>Reduce project update locking</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Feature Idea ##### SUMMARY https://github.com/ansible/awx/issues/4809, but for project updates. Since playbook runs get their own fresh checkout (and could be on another branch anyway), this should be doable.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>78</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #5344 from AlanCoding/remove_git Remove forks no longer needed from dependencies Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>6f2b10daf583ce8e19771194d8481d7c7bed5c8f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that is part of a project will block that project update from running. This fix removes the block. issue #5153</MESSAGE>
      <SHA>208301a09545ae8164e430eff70a33231e7c634a</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/scheduler/task_manager.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>0e66c238ec91f7ea7c8de78bff1ff93ebc3f7850</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>c594076c139f3d1c6595183061445fa863b336a5</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>4d7cc9cad27becd9f4f2e4c748749996b41ab087</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>1e7806b4d7bd74f34055d54572f8e33de687034b</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>7831d020ee9ba4f2d30d48957ed4d7c67fec4800</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>b8bd6c3fbdd819f80f2833f5afd91690d2fbab6e</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>21aa417491337c4434ff3729c9fd5cb709c55220</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager .start_task method is called once on the project update. issue #5153</MESSAGE>
      <SHA>99a549aa32443c14832afdb6bc5d334ba428a6fa</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager and dependency graph .is_job_blocked methods both return False. issue #5153</MESSAGE>
      <SHA>07962697b2f78f42c13c897b823b9a8103cd6d49</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent running jobs from blocking project updates A running job that has a project update will block that update from running. This fix removes the block. Adds a functional test that sets up a job in &quot;running&quot; state, and starts a project update that is in &quot;pending&quot; state. Assert that the task manager and dependency graph .is_job_blocked methods both return False. issue #5153</MESSAGE>
      <SHA>63e9aed6017de99aa184568db2ca829aab985f5b</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/dependency_graph.py</FILE>
        <FILE>awx/main/tests/functional/task_management/test_scheduler.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
