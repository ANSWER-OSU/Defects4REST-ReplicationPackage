<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4565</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/4565</ISSUEURL>
  <TITLE>CLI: Error returned from API should have newline after it</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY &lt;!-- Briefly describe the problem. --&gt; Doing something that passes CLI verification and then gets sent to API, but fails there, results in an error message that does not have a newline after it ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE &lt;!-- Please describe exactly how to reproduce the problem. --&gt; This happens across the board but here is an example: Assuming you have proper auth stuff in your environment: ``` $ awx settings modify MAX_UI_JOB_EVENTS \&quot;3800\&quot; {&quot;MAX_UI_JOB_EVENTS&quot;: [&quot;A valid integer is required.&quot;]} $ echo my prompt is here my prompt is here ``` ##### EXPECTED RESULTS &lt;!-- What did you expect to happen when running the steps above? --&gt; Instead of that, I expect a newline after the error so my prompt is not stuck on after it. ``` $ awx settings modify MAX_UI_JOB_EVENTS \&quot;3800\&quot; {&quot;MAX_UI_JOB_EVENTS&quot;: [&quot;A valid integer is required.&quot;]} $ echo my prompt is here my prompt is here ```</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>cli: fix a bug when printing complex data structures w/ -f human see: https://github.com/ansible/awx/issues/4567</MESSAGE>
    <SHA>0e5adfe5f08edc584d0a5832c4db833ed9275358</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>cli: print a newline after HTTP JSON errors see: https://github.com/ansible/awx/issues/4565</MESSAGE>
      <SHA>c33f0215ed7b42b191167edbf1fe518bbcf8c734</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/__init__.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: print a newline after HTTP JSON errors see: https://github.com/ansible/awx/issues/4565</MESSAGE>
      <SHA>ce6905d54af571518760a1590c48c52df40ba5bb</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/__init__.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #4565 from wenottingham/oops Fix analytics logging</MESSAGE>
      <SHA>b27fd0121d66e8e30dc56eb64b4bc927b5086eb7</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/views/metrics.py</FILE>
        <FILE>awx/main/analytics/broadcast_websocket.py</FILE>
        <FILE>awx/settings/defaults.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
