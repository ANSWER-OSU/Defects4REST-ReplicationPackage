<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8921</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/8921</ISSUEURL>
  <TITLE>Prevent users from selecting credentials that prompt for passwords on workflow nodes</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Feature Idea ##### SUMMARY This is residual work from #8399. If a Job Template references credentials that prompt for passwords then that template cannot be used in a workflow. Additionally, if the JT prompts for credentials a user should not be able to select a credential that prompts for password(s). Attempting to save this node will result in an error from the api. ![image (1)](https://user-images.githubusercontent.com/9889020/102362689-b16de600-3f82-11eb-9a23-2b06706a787f.png)</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>95</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #9563 from AlexSCorey/8769-WizardFailure Fixes crashing wizard, and adds error handle on adding role SUMMARY This addresses #8769. It also adds error handling if there is some sort of request error during the submit request. ISSUE TYPE Bugfix Pull Request COMPONENT NAME UI AWX VERSION ADDITIONAL INFORMATION Reviewed-by: John Mitchell &lt;None&gt;</MESSAGE>
    <SHA>597435141d5a40337e69b76e6fd895cb1c1d0fbb</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #9613 from mabashian/8921-node-cred-password Prevent users from selecting credentials that prompt for passwords on workflow nodes and schedules SUMMARY link #8921 If a user selects a job template with default credentials that prompt for passwords (but does not prompt for credentials) then the user should not be allowed to create the node and a different JT must be selected: If a user selects a credential that prompts for passwords when creating/editing a workflow node or schedule then we show this error: If a user removes a credential that exists in the default collection of credentials on the JT then it must be replaced. This is the error we show: If a user attempts to create a schedule for a job template with default credentials that prompt (but does not prompt for credentials) then the API responds with this error: I believe this UX is consistent with the old UI but I am double checking that now. ISSUE TYPE Feature Pull Request COMPONENT NAME UI Reviewed-by: Kersom &lt;None&gt; Reviewed-by: Tiago GÃ³es &lt;tiago.goes2009@gmail.com&gt;</MESSAGE>
      <SHA>5e64e8771e393d35bb60d134015ddf47410f7b7e</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/LaunchButton/LaunchButton.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/LaunchPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/LaunchPrompt.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/CredentialsStep.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/CredentialsStep.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/InventoryStep.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/credentialsValidator.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useCredentialsStep.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/useLaunchSteps.js</FILE>
        <FILE>awx/ui_next/src/components/Schedule/Schedule.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/ScheduleAdd/ScheduleAdd.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/ScheduleEdit/ScheduleEdit.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/ScheduleEdit/ScheduleEdit.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/Schedules.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/shared/ScheduleForm.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/shared/SchedulePromptableFields.jsx</FILE>
        <FILE>awx/ui_next/src/components/Schedule/shared/useSchedulePromptSteps.js</FILE>
        <FILE>awx/ui_next/src/components/SelectedList/SelectedList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/Template.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/JobTemplatesList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/JobTemplatesList.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/useNodeTypeStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/useWorkflowNodeSteps.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
