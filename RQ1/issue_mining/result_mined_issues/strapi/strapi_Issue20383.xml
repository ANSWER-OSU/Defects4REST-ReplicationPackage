<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>20383</ISSUENO>
  <ISSUEURL>https://github.com/strapi/strapi/issues/20383</ISSUEURL>
  <TITLE>[v5] Using pagination query params at root level of query returns incorrect error</TITLE>
  <DESCRIPTION>## Bug report ### Required System information Launched In: 646 ms Environment: development OS: darwin-arm64 Strapi Version: 5.0.0-beta.8 Node/Yarn Version: yarn/4.0.1 npm/? node/v20.9.0 darwin arm64 Edition: Enterprise Database: sqlite ### Describe the bug Sending a query like `?page=1&amp;pageSize=10` instead of `?pagination[page]=1&amp;pagination[pageSize]=10` returns the error: ```json { &quot;data&quot;: null, &quot;error&quot;: { &quot;status&quot;: 400, &quot;name&quot;: &quot;PaginationError&quot;, &quot;message&quot;: &quot;Invalid pagination attributes. You cannot use page and offset pagination in the same query&quot;, &quot;details&quot;: {} } } ``` The error is incorrect and very misleading. ### Steps to reproduce the behavior See description of bug above ### Expected behavior I would expect one of the following (haven't put too much thought into it): - a validation error saying that page parameters are incorrect and must be in the pagination object OR - for the parameters to work anyway OR - for nothing to happen with pagination; since page and pageSize are not in the pagination object they should be ignored and the defaults should be used</DESCRIPTION>
  <REPONAME>strapi</REPONAME>
  <TIMEDIFFERENCEDAYS>254</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(blocks): various ui issues (#22423) * fix: blocks-ui-fixes * fix: made it prettier * fix: optimizations</MESSAGE>
    <SHA>b6435ada233136a0d0b14fba67961ff8f16cdac2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: pagination query params at root level of query return incorrect error message #20383</MESSAGE>
      <SHA>092ee9e3ccb2b2373b83574b10015f58ec9450c6</SHA>
      <PATCHEDFILES>
        <FILE>packages/core/utils/src/convert-query-params.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
