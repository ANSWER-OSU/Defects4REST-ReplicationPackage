<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9070</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/9070</ISSUEURL>
  <TITLE>ContentFieldIndexing of TimeField fails</TITLE>
  <DESCRIPTION>### ContentFieldIndexing of TimeField fails and prevents creating / updating content items with TimeField. ### To Reproduce Steps to reproduce the behavior: 1. Enable &quot;Content Fields Indexing (SQL)&quot; feature 2. Create a ContentType with a TimeField 3. Try to create a content item of this type 4. See error ### Expected behavior Of course, it should save. #### Stack trace ``` 2021-04-06 13:37:42.7482|Test|00-3d1a34d71e3c2a4cb192720115eac96e-1bc3c79ef47e6244-00||OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator|ERROR|IContentPartDisplayDriver thrown from OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver by SqlException Microsoft.Data.SqlClient.SqlException (0x80131904): Arithmetic overflow error converting expression to data type datetime. at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean&amp; dataReady) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean&amp; moreRows) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean&amp; moreResults) at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean&amp; more) at Microsoft.Data.SqlClient.SqlDataReader.NextResult() at YesSql.Commands.CreateIndexCommand.&lt;AddToBatch&gt;b__6_0(DbDataReader dr) at YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver.UpdateAsync(AutoroutePart model, IUpdateModel updater, UpdatePartEditorContext context) at OrchardCore.ContentManagement.Display.ContentDisplay.ContentPartDisplayDriver`1.OrchardCore.ContentManagement.Display.ContentDisplay.IContentPartDisplayDriver.UpdateEditorAsync(ContentPart contentPart, ContentTypePartDefinition typePartDefinition, UpdateEditorContext context) at OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator.&lt;&gt;c.&lt;&lt;UpdateEditorAsync&gt;b__11_0&gt;d.MoveNext() --- End of stack trace from previous location --- at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3](IEnumerable`1 events, Func`5 dispatch, T1 arg1, T2 arg2, T3 arg3, ILogger logger) ClientConnectionId:40508ab0-dcc0-41ad-a9d8-3c04d31ce1ca Error Number:8115,State:2,Class:16 ClientConnectionId before routing:3a979904-fa8e-4ce5-af20-6e969d173643 Routing Destination:b01ffdef8e69.tr16.westeurope1-a.worker.database.windows.net,11153 at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean&amp; dataReady) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean&amp; moreRows) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean&amp; moreResults) at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean&amp; more) at Microsoft.Data.SqlClient.SqlDataReader.NextResult() at YesSql.Commands.CreateIndexCommand.&lt;AddToBatch&gt;b__6_0(DbDataReader dr) at YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver.UpdateAsync(AutoroutePart model, IUpdateModel updater, UpdatePartEditorContext context) at OrchardCore.ContentManagement.Display.ContentDisplay.ContentPartDisplayDriver`1.OrchardCore.ContentManagement.Display.ContentDisplay.IContentPartDisplayDriver.UpdateEditorAsync(ContentPart contentPart, ContentTypePartDefinition typePartDefinition, UpdateEditorContext context) at OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator.&lt;&gt;c.&lt;&lt;UpdateEditorAsync&gt;b__11_0&gt;d.MoveNext() --- End of stack trace from previous location --- at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3](IEnumerable`1 events, Func`5 dispatch, T1 arg1, T2 arg2, T3 arg3, ILogger logger) ```</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Azure.Storage.Blobs 12.8.1 (#9016)</MESSAGE>
    <SHA>11b9ea6eadb0e8229b4143c588a038909dcc0a4b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Correct TimeFieldIndex Time column type Fixes #9070</MESSAGE>
      <SHA>d855b4087fa364ca5e42473e97aba5bc1a2cb6a6</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/Indexing/SQL/Migrations.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Correct TimeFieldIndex Time column type (#9073) Fixes #9070</MESSAGE>
      <SHA>9576ce94cfdb152303efcb778eba7296c2638031</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/Indexing/SQL/Migrations.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
