<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8979</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/8979</ISSUEURL>
  <TITLE>Saving General site settings fails</TITLE>
  <DESCRIPTION>![image](https://user-images.githubusercontent.com/3228637/112558301-d0abb900-8da4-11eb-8895-2d0f048220b8.png) ![image](https://user-images.githubusercontent.com/3228637/112558310-d4d7d680-8da4-11eb-883f-37d56f720bdc.png) ``` An unhandled exception occurred while processing the request. NullReferenceException: Object reference not set to an instance of an object. OrchardCore.Settings.Controllers.AdminController.IndexPost(string groupId) in AdminController.cs, line 77 Stack Query Cookies Headers Routing NullReferenceException: Object reference not set to an instance of an object. OrchardCore.Settings.Controllers.AdminController.IndexPost(string groupId) in AdminController.cs + var culture = site.Properties Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments) System.Threading.Tasks.ValueTask&lt;TResult&gt;.get_Result() Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask&lt;IActionResult&gt; actionResultValueTask) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync() Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeNextResourceFilter&gt;g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Routing.EndpointMiddleware.&lt;Invoke&gt;g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+&lt;&gt;c__DisplayClass3_0+&lt;&lt;Configure&gt;b__1&gt;d.MoveNext() in DiagnosticsStartupFilter.cs + await next(); Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.ContentPreview.PreviewStartupFilter+&lt;&gt;c+&lt;&lt;Configure&gt;b__1_1&gt;d.MoveNext() in PreviewStartupFilter.cs + await next(); OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) in ModularTenantRouterMiddleware.cs + await shellContext.Pipeline.Invoke(httpContext); OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func&lt;ShellScope, Task&gt; execute, bool activateShell) in ShellScope.cs + await execute(this); OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in ModularTenantContainerMiddleware.cs + await shellScope.UsingAsync(scope =&gt; _next.Invoke(httpContext)); Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) ```</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Missing Liquid ISite.BaseUrl accessor (#8972)</MESSAGE>
    <SHA>b3c029136ca6cb2600df098b6c6b53bf68ecb4ca</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #8979 Save Settings NRE</MESSAGE>
      <SHA>610074d24dff421494081dbab58a31717faa87c8</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.Settings/Controllers/AdminController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixes #8979 Save Settings NRE (#8981)</MESSAGE>
      <SHA>e85d8e30b99a9a78d7c933f645d5dd2b96e88069</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.Settings/Controllers/AdminController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
