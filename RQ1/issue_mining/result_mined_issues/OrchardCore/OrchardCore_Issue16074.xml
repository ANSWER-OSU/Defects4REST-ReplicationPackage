<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>16074</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/16074</ISSUEURL>
  <TITLE>No IUserTwoFactorTokenProvider&lt;TUser&gt; named 'Default' is registered.</TITLE>
  <DESCRIPTION>### Describe the bug By default the users' admin controller expose a way for the admin to reset passwords. But by default we do not register any token provider. This causes an exception during the post request &gt; No IUserTwoFactorTokenProvider&lt;TUser&gt; named 'Default' is registered. ### To Reproduce Steps to reproduce the behavior: 1. disable two factor authentication features, and password reset feature. 2. do to the admin, find a user, and try to reset their password. 3. See error I'll fix this issue soon. ### Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/cf00e4a9-e21b-41bd-8cd6-12d1770469f4)</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Update ContentItemVersionId nullable in GraphQL (#16030)</MESSAGE>
    <SHA>768459c5a25ac05aa2f0304353892b4ff434444c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Register a default token provider to allow admin to rest password. Fix #16074</MESSAGE>
      <SHA>09f7dcc63933e0fd5b4214c9eddb8b01d30f6bf0</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Controllers/AuthenticatorAppController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Controllers/TwoFactorAuthenticationBaseController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Startup.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
