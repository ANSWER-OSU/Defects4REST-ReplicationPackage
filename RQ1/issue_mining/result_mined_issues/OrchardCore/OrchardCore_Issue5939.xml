<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5939</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/5939</ISSUEURL>
  <TITLE>Possible InvalidOperationException in PermissionHandler when user is null</TITLE>
  <DESCRIPTION>Casting from a nullable bool will cause an InvalidOperationException in this case: https://github.com/OrchardCMS/OrchardCore/blob/b48650e1a6054d63e95c9b13e59fdf5476fc6730/src/OrchardCore/OrchardCore.Infrastructure/Security/AuthorizationHandlers/PermissionHandler.cs#L14</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add icons to Configuration Settings menus (#5919)</MESSAGE>
    <SHA>9d08732891ce19aec57b7eddf5f3d614ea88560b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Update PermissionHandler.cs Fixes #5939</MESSAGE>
      <SHA>b5296a5a63bf6f56e46476d54bed69552fd68489</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Infrastructure/Security/AuthorizationHandlers/PermissionHandler.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update PermissionHandler.cs (#5940) Fixes #5939</MESSAGE>
      <SHA>2b3e11fc804e8af0eef0bdaf4e1e1eefcdf533b8</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Infrastructure/Security/AuthorizationHandlers/PermissionHandler.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update PermissionHandler.cs (#5940) Fixes #5939</MESSAGE>
      <SHA>b225f8ec7f2924102beaa396a1a8ae69f569fdab</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Infrastructure/Security/AuthorizationHandlers/PermissionHandler.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
