<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>14667</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/14667</ISSUEURL>
  <TITLE>Make all the IContentDefinitionManager method async to prevent possible thread starvation</TITLE>
  <DESCRIPTION>Make all the `IContentDefinitionManager` method async to prevent possible thread starvation to avoid a breaking change, add `Async` methods and mark the old once obsolete.</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Cleanup workflow activities (#14597)</MESSAGE>
    <SHA>b10dd08c8faae17a749dd046eeaef3e8d46eaa0b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add Async method to ContentDefinitionManager to prevent possible thread starvation Fix #14667</MESSAGE>
      <SHA>62341f3e229eee3ced6bec752d6c8601b11b6934</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.AdminDashboard/Controllers/DashboardController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Alias/Indexes/AliasPartIndex.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ArchiveLater/Indexes/ArchiveLaterPartIndexProvider.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ArchiveLater/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Handlers/ContentLocalizationPartHandlerCoordinator.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Services/LocalizationPartContentsAdminListFilter.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentPreview/Handlers/PreviewPartHandler.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentPreview/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/RecipeSteps/ContentDefinitionStep.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/RecipeSteps/DeleteContentDefinitionStep.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/RecipeSteps/ReplaceContentDefinitionStep.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Services/ContentDefinitionService.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Services/DefaultStereotypesProvider.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Services/IContentDefinitionService.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Services/IStereotypeService.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Services/IStereotypesProvider.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Services/StereotypeService.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Admin/Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Admin/EditPart.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Items/ContentDefinitionDeploymentStep.Fields.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Items/ContentDefinitionDeploymentStep.Fields.Summary.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Items/ReplaceContentDefinitionDeploymentStep.Fields.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Items/ReplaceContentDefinitionDeploymentStep.Fields.Summary.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Facebook/Widgets/Drivers/FacebookPluginPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Facebook/Widgets/WidgetMigrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Drivers/BagPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Drivers/FlowPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Settings/BagPartSettingsDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Settings/FlowPartSettingsDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Views/ContentCard-BagPart.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Views/ContentCard-FlowPart.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Forms/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/GraphQL/HtmlBodyQueryObjectType.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/Handlers/HtmlBodyPartHandler.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Liquid/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/AdminNodes/ListsAdminNodeDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/AdminNodes/ListsAdminNodeNavigationBuilder.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Drivers/ContainedPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Drivers/ListPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Handlers/ContainedPartHandler.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/RemotePublishing/MetaWeblogHandler.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Services/ListPartContentsAdminListFilter.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Settings/ListPartSettingsDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Lists/Views/Items/ListsAdminNode.Fields.TreeSummary.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Markdown/GraphQL/MarkdownBodyQueryObjectType.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Markdown/GraphQL/MarkdownFieldQueryObjectType.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Markdown/Handlers/MarkdownBodyPartHandler.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Markdown/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Media/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Menu/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Menu/Drivers/MenuPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Menu/Views/Admin/Create.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Menu/Views/Admin/Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.PublishLater/Indexes/PublishLaterPartIndexProvider.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.PublishLater/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ReCaptcha/Forms/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Search.Elasticsearch/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Search.Lucene/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Search.Lucene/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Sitemaps/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Sitemaps/Services/RazorPagesContentTypeProvider.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Controllers/TagController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Drivers/TaxonomyContentsAdminListDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Indexing/TaxonomyIndex.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Views/Admin/Create.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Views/Admin/Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Views/TaxonomyPart.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Title/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/CustomUserSettingsPermissions.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Deployment/CustomUserSettingsDeploymentSource.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Deployment/CustomUserSettingsDeploymentStepDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Drivers/CustomUserSettingsDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Services/CustomUserSettingsService.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Drivers/WidgetsListPartDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Migrations.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Views/ContentCard-WidgetsListPart.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Views/ContentCard.Preview.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Views/ContentCard.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Views/WidgetsListPart.Edit.cshtml</FILE>
        <FILE>src/OrchardCore/OrchardCore.Autoroute.Core/Indexes/AutoroutePartIndex.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentLocalization.Abstractions/Records/LocalizedContentItemIndex.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.Abstractions/IContentDefinitionManager.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.Display/ContentDisplay/ContentItemDisplayCoordinator.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.Display/ContentItemDisplayManager.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.GraphQL/Queries/ContentItemFilters.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement/ContentDefinitionManager.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement/DefaultContentManager.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement/Handlers/ContentPartHandlerCoordinator.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement/Records/Migrations.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Contents.TagHelpers/ContentLinkTagHelper.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Search.Elasticsearch.Core/Services/ElasticIndexingService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
