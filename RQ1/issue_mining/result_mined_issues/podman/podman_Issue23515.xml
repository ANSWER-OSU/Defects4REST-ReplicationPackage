<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>23515</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/23515</ISSUEURL>
  <TITLE>Error: database volume path does not match our volume path: database configuration mismatch</TITLE>
  <DESCRIPTION>### Issue Description Starting with podman-5.2.0-1.el10, I get the following error in centos-bootc(rpm-ostree) rootless mode home -&gt; var/home $HOME=/home/admin ``` Error: database volume path &quot;/home/admin/.local/share/containers/storage/volumes&quot; does not match our volume path &quot;/var/home/admin/.local/share/containers/storage/volumes&quot;: database configurat ion mismatch ``` This bug starts with CentOS-Stream-10-20240805.0 with podman-5.2.0-1.el10 No exists on CentOS-Stream-10-20240802.0 with podman-5.1.2-2.el10 ### Steps to reproduce the issue Steps to reproduce the issue 1. boot centos-bootc:stream10 with podman-5.2.0-1.el10 2. run podman system info in rootless 3. ### Describe the results you received ``` Error: database volume path &quot;/home/admin/.local/share/containers/storage/volumes&quot; does not match our volume path &quot;/var/home/admin/.local/share/containers/storage/volumes&quot;: database configurat ion mismatch ``` ### Describe the results you expected podman system info ### podman info output ```yaml Error: database volume path &quot;/home/admin/.local/share/containers/storage/volumes&quot; does not match our volume path &quot;/var/home/admin/.local/share/containers/storage/volumes&quot;: database configurat ion mismatch ``` ``` ### Podman in a container No ### Privileged Or Rootless Rootless ### Upstream Latest Release Yes ### Additional environment details centos-bootc:stream10 with podman-5.2.0-1.el10 deployed on a KVM guest ### Additional information _No response_</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #23512 from rhatdan/mount Remove another race condition when mounting containers or images</MESSAGE>
    <SHA>3275fd2dda07ecce8050f406f4939e69406c4e21</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Create volume path before state initialization Strictly speaking we don't need the path yet, but it existing prevents a lot of strangeness in our path-checking logic to validate the current Podman configuration, as it was the only path that might not exist this early in init. Fixes #23515 Signed-off-by: Matt Heon &lt;mheon@redhat.com&gt;</MESSAGE>
      <SHA>eb7ce80cf911137589a591d49708ce1403a66361</SHA>
      <PATCHEDFILES>
        <FILE>libpod/runtime.go</FILE>
        <FILE>test/system/005-info.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Create volume path before state initialization Strictly speaking we don't need the path yet, but it existing prevents a lot of strangeness in our path-checking logic to validate the current Podman configuration, as it was the only path that might not exist this early in init. Fixes #23515 Signed-off-by: Matt Heon &lt;mheon@redhat.com&gt;</MESSAGE>
      <SHA>dbdff97042237d547386b64b77e67c809c2e019d</SHA>
      <PATCHEDFILES>
        <FILE>libpod/runtime.go</FILE>
        <FILE>test/system/005-info.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
