<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>15156</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/15156</ISSUEURL>
  <TITLE>`podman generate kube` prints `Secret: null`</TITLE>
  <DESCRIPTION>``` $ podman generate kube vigorous_shannon apiVersion: v1 kind: Pod metadata: … spec: containers: … volumes: - Secret: null hostPath: path: /home/d/data type: Directory name: home-d-data-host-0 ``` * The Kubernetes API for volumes at https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#Volume does not contain `Secret` with capital letter. * For no-secret volumes, `secret: null` shall not be emitted. ``` $ podman version Client: Podman Engine Version: 4.2.0-dev API Version: 4.2.0-dev Go Version: go1.18.4 Git Commit: fed326d8a6f8d4f7dc490099b29d51fc1754789f Built: Sat Jul 30 15:08:11 2022 OS/Arch: linux/amd64 ```</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #15174 from edsantiago/docs_dedup_phase1 [CI:DOCS] Refactor common options in man pages</MESSAGE>
    <SHA>549974d97e9c5f1adb1158d1a523777ea722bf65</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>add omitempty to Secret in k8s VolumeSource Secret was populating a generated kube as `null`. Add omitempty so that when the volume source is not a secret, we do not print unnecessary info resolves #15156 Signed-off-by: Charlie Doern &lt;cdoern@redhat.com&gt;</MESSAGE>
      <SHA>7df8d80508bbc07f8aca79b5aa37e58dfeaa5895</SHA>
      <PATCHEDFILES>
        <FILE>pkg/k8s.io/api/core/v1/types.go</FILE>
        <FILE>test/e2e/generate_kube_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
