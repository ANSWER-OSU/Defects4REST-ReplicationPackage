<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>18817</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/18817</ISSUEURL>
  <TITLE>Built attempt fails with errors | Fedora</TITLE>
  <DESCRIPTION>### Issue Description Hello. Executing `make package-install` that is present as instruction at https://podman.io/docs/installation#building-from-scratch and seems to apply to Fedora, produces errors. ### Steps to reproduce the issue ### Pre-requisite - Packages installed as follows ``` $ sudo dnf -y install {btrfs-progs,device-mapper,glib2,glibc,gpgme,libassuan,libgpg-error,libseccomp,libselinux,ostree,shadow-utils-subid}-devel \ conmon containernetworking-plugins containers-common crun git glibc-static golang golang-github-cpuguy83-md2man go-rpm-macros iptables-libs make pkgconf ``` - This repository as **v.4.5.1** cloned. At its directory root. ### Describe the results you received ``` $ make package-install make -C rpm make[1]: Entering directory '/home/yk/Lataukset/podman/rpm' sed: can't read rpm/podman.spec: No such file or directory spectool -g podman.spec Downloading: https://github.com/containers/podman/archive/v0.tar.gz Download failed: 404 Client Error: Not Found for url: https://codeload.github.com/containers/podman/tar.gz/v0 Downloading: https://github.com/containers/dnsname/archive/18822f9a4fb35d1349eb256f4cd2bfd372474d84/dnsname-18822f9a4fb35d1349eb256f4cd2bfd372474d84.tar.gz File '/home/yk/Lataukset/podman/rpm/dnsname-18822f9a4fb35d1349eb256f4cd2bfd372474d84.tar.gz' already present. Downloading: https://github.com/containers/gvisor-tap-vsock/archive/407efb5dcdb0f4445935f7360535800b60447544/gvisor-tap-vsock-407efb5dcdb0f4445935f7360535800b60447544.tar.gz File '/home/yk/Lataukset/podman/rpm/gvisor-tap-vsock-407efb5dcdb0f4445935f7360535800b60447544.tar.gz' already present. - 0.0 B Elapsed Time: 0:00:00 rpmbuild -ba \ --define '_sourcedir /home/yk/Lataukset/podman/rpm' \ --define '_rpmdir %{_sourcedir}/RPMS' \ --define '_srcrpmdir %{_sourcedir}/SRPMS' \ --define '_builddir %{_sourcedir}/BUILD' \ podman.spec setting SOURCE_DATE_EPOCH=1682899200 Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.I0R0bI + umask 022 + cd /home/yk/Lataukset/podman/rpm/BUILD + cd /home/yk/Lataukset/podman/rpm/BUILD + rm -rf podman-0 + /usr/lib/rpm/rpmuncompress -x /home/yk/Lataukset/podman/rpm/v0.tar.gz error: File /home/yk/Lataukset/podman/rpm/v0.tar.gz: No such file or directory error: Bad exit status from /var/tmp/rpm-tmp.I0R0bI (%prep) RPM build errors: Bad exit status from /var/tmp/rpm-tmp.I0R0bI (%prep) make[1]: *** [Makefile:5: rpm] Error 1 make[1]: Leaving directory '/home/yk/Lataukset/podman/rpm' make: *** [Makefile:785: package] Error 2 ``` ### Describe the results you expected Isn't it intented to be executed without error. ### podman info output ```yaml - Podman non-installed as aimed to be built from scratch, thus `podman version`, `podman info` and `rpm -q podman` are non-available or irrelevant. - **OS:** Fedora 38 on x86_64. ``` ### Podman in a container No ### Privileged Or Rootless None ### Upstream Latest Release Yes ### Additional environment details On physical machine. ### Additional information Always happens.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>35</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #19221 from dfr/freebsd-rootfs pkg/specgen: fix support for --rootfs on FreeBSD</MESSAGE>
    <SHA>7a93a28e3318024848f720564a9f98da96d82761</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Makefile: `package` -&gt; `rpm` package and package-install targets have been renamed to rpm and rpm-install respectively for clarity. `make rpm` will now build rpm using HEAD. Resolves: #18817 [NO NEW TESTS NEEDED] Signed-off-by: Lokesh Mandvekar &lt;lsm5@fedoraproject.org&gt;</MESSAGE>
      <SHA>315a7887a68e973bd237f2b9407dc603e0474aaa</SHA>
      <PATCHEDFILES>
        <FILE>Makefile</FILE>
        <FILE>rpm/Makefile</FILE>
        <FILE>rpm/update-spec-version.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Makefile: `package` -&gt; `rpm` package and package-install targets have been renamed to rpm and rpm-install respectively for clarity. `make rpm` will now build rpm using HEAD. Resolves: #18817 [NO NEW TESTS NEEDED] Signed-off-by: Lokesh Mandvekar &lt;lsm5@fedoraproject.org&gt;</MESSAGE>
      <SHA>145748d1f10990568a769282e23790bedfb0a2c8</SHA>
      <PATCHEDFILES>
        <FILE>Makefile</FILE>
        <FILE>rpm/Makefile</FILE>
        <FILE>rpm/update-spec-version.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
