<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>17142</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/17142</ISSUEURL>
  <TITLE>cannot remove container [...]: given PIDs did not die within timeout</TITLE>
  <DESCRIPTION>New flake, failed twice in one PR: ``` not ok 137 podman container rm --force doesn't leave running processes ... # podman-remote --url unix:/tmp/podman_tmp_i9cG rm -f cTG9q6WAKk9c0Bvs343yuzK8rbPiBTs Error: cannot remove container &lt;sha&gt; as it could not be stopped: given PIDs did not die within timeou ``` * [f37 root, remote](https://api.cirrus-ci.com/v1/artifact/task/5450165490810880/html/sys-remote-fedora-37-root-host.log.html#t--00137) * [f37 root aarch64](https://api.cirrus-ci.com/v1/artifact/task/6013115444232192/html/sys-podman-fedora-37-aarch64-root-host.log.html#t--00137)</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>StopSignal: add a comment Add a comment when SIGKILL is being used. It may help future readers better comprehend what's going on and why. [NO NEW TESTS NEEDED] - cannot test a comment :^) Signed-off-by: Valentin Rothberg &lt;vrothberg@redhat.com&gt;</MESSAGE>
    <SHA>e0f671007d82f81a7a1236ceabb90c58007133c3</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>StopContainer: return if cleanup process changed state Commit 067442b5701f improved stopping/killing a container by detecting whether the cleanup process has already fired and changed the state of the container. Further improve on that by returning early instead of trying to wait for the PID to finish. At that point we know that the container has exited but the previous PID may have been recycled already by the kernel. [NO NEW TESTS NEEDED] - the absence of the two flaking tests recorded in #17142 will tell. Fixes: #17142 Signed-off-by: Valentin Rothberg &lt;vrothberg@redhat.com&gt;</MESSAGE>
      <SHA>fd42c1dcb8d7cc86e6e62c7628a6093573a9ed36</SHA>
      <PATCHEDFILES>
        <FILE>libpod/oci_conmon_common.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
