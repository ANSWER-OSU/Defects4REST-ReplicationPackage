<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>22915</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/22915</ISSUEURL>
  <TITLE>Podman v5 Quadlet .pod support for &quot;ShmSize=&quot; parameter</TITLE>
  <DESCRIPTION>### Feature request description Quadlet .container files support the `ShmSize=` option, however when running a container in a Pod, the ShmSize needs to be set at the Pod level. When manually creating a Pod via `pod create -n example-pod -p 1234:1234 --shm-size=1g` this works fine, however when creating a Quadlet .pod file, the `ShmSize=` option is not available. As a work-around the `PodmanArgs=--shm-size=1g` option seems to be working though. ### Suggest potential solution Like on individual .container level, the `ShmSize=` option should also work in .pod files. ### Have you considered any alternatives? As a work-around the `PodmanArgs=--shm-size=1g` option seems to be working in a .pod file. ### Additional context It is a bit odd that `--shm-size=1g` needs to be set at the Pod level and doesn't work at the container level when running a container in a Pod, but unless this changed in Podman5 it still seems to be true.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>215</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #24784 from containers/renovate/github.com-cyphar-filepath-securejoin-0.x fix(deps): update module github.com/cyphar/filepath-securejoin to v0.3.6</MESSAGE>
    <SHA>d3cd5098f0abb54279ce4abe594d309e2bc027b0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915</MESSAGE>
      <SHA>e7dde1fac35d3c0cb3ceab5fc33fdbd870ddc33a</SHA>
      <PATCHEDFILES>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915</MESSAGE>
      <SHA>292c17a6d30f30b8f3873d3b4bc699a49a84d9a5</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915 Signed-off-by: Odilon Sousa &lt;osousa@redhat.com&gt;</MESSAGE>
      <SHA>cd83d964d46bc78855d0e6592b9fcc2f518764e6</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915 Signed-off-by: Odilon Sousa &lt;osousa@redhat.com&gt;</MESSAGE>
      <SHA>8307a36fd0d28a7495fccfd88b74d5f7d6af6ae5</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915 Signed-off-by: Odilon Sousa &lt;osousa@redhat.com&gt;</MESSAGE>
      <SHA>a083f9373e9b16b5a71b152b4fd0a11b4e722d63</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915 Signed-off-by: Odilon Sousa &lt;osousa@redhat.com&gt;</MESSAGE>
      <SHA>9c9f20a32916d68fbf471b83eb0fb75ae76257ea</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915 Signed-off-by: Odilon Sousa &lt;osousa@redhat.com&gt;</MESSAGE>
      <SHA>d1a3f96cbf08544093e9ad3acec1c28d858f707a</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to ShmSize in Pods with Quadlet This closes #22915 Signed-off-by: Odilon Sousa &lt;osousa@redhat.com&gt;</MESSAGE>
      <SHA>7393aef6d07fb0cb20e35296836647efebbf961d</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-systemd.unit.5.md</FILE>
        <FILE>pkg/systemd/quadlet/quadlet.go</FILE>
        <FILE>test/e2e/quadlet/shmsize.pod</FILE>
        <FILE>test/e2e/quadlet_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
