<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>16391</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/16391</ISSUEURL>
  <TITLE>New f37 flake: podman image prune: APK error or timeout</TITLE>
  <DESCRIPTION>Seems to be timing out and failing in an apk command: ``` podman [options] build --pull-never --layers=true --file /tmp/podman_test3730377924/Dockerfile -t alpine_bash:latest /tmp/podman_test3730377924 STEP 1/4: FROM quay.io/libpod/alpine:latest STEP 2/4: LABEL RUN podman --version --&gt; 033b2b638ee STEP 3/4: RUN apk update fetch http://dl-cdn.alpinelinux.org/alpine/v3.10/main/x86_64/APKINDEX.tar.gz ``` Lots of f37 flakes, none on f36. ### Podman prune [It] podman image prune - remove only dangling images * fedora-37 : int podman fedora-37 root container * PR #16389 * [11-02 18:58](https://api.cirrus-ci.com/v1/artifact/task/6370124769263616/html/int-podman-fedora-37-root-container.log.html#t--podman-image-prune---remove-only-dangling-images--1) * [11-02 18:58](https://api.cirrus-ci.com/v1/artifact/task/6370124769263616/html/int-podman-fedora-37-root-container.log.html#t--podman-image-prune---remove-only-dangling-images--2) * [11-02 18:58](https://api.cirrus-ci.com/v1/artifact/task/6370124769263616/html/int-podman-fedora-37-root-container.log.html#t--podman-image-prune---remove-only-dangling-images--3) * [11-02 18:21](https://api.cirrus-ci.com/v1/artifact/task/5355295198150656/html/int-podman-fedora-37-root-container.log.html#t--podman-image-prune---remove-only-dangling-images--1) * [11-02 18:21](https://api.cirrus-ci.com/v1/artifact/task/5355295198150656/html/int-podman-fedora-37-root-container.log.html#t--podman-image-prune---remove-only-dangling-images--2) * fedora-37 : int podman fedora-37 root host * PR #15760 * [11-02 14:33](https://api.cirrus-ci.com/v1/artifact/task/6050840522784768/html/int-podman-fedora-37-root-host.log.html#t--podman-image-prune---remove-only-dangling-images--1) * [11-02 14:33](https://api.cirrus-ci.com/v1/artifact/task/6050840522784768/html/int-podman-fedora-37-root-host.log.html#t--podman-image-prune---remove-only-dangling-images--2) * [11-02 14:33](https://api.cirrus-ci.com/v1/artifact/task/6050840522784768/html/int-podman-fedora-37-root-host.log.html#t--podman-image-prune---remove-only-dangling-images--3)</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #16389 from edsantiago/verify_network_backend CI: set and verify DESIRED_NETWORK (netavark, cni)</MESSAGE>
    <SHA>6428ff180a3757f399b4e0fef0222c324d780eed</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>test/e2e: do not use apk in builds As far as I can tell there is no reason to use apk in these tests. They just build an image and check for it and never use the installed binary. Network calls are always unstable and therefore should be avoided when possible, this ensures no/less flakes. Fixes #16391 Signed-off-by: Paul Holzinger &lt;pholzing@redhat.com&gt;</MESSAGE>
      <SHA>417490128338aeaca7c1c1c0c2ef2dbdfcfadb48</SHA>
      <PATCHEDFILES>
        <FILE>test/e2e/images_test.go</FILE>
        <FILE>test/e2e/play_build_test.go</FILE>
        <FILE>test/e2e/prune_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
