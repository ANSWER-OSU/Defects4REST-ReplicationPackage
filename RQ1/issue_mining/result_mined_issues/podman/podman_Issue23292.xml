<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>23292</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/23292</ISSUEURL>
  <TITLE>kube play, in parallel, leaves stray untagged pause images</TITLE>
  <DESCRIPTION>Initial setup: ```console $ bin/podman images REPOSITORY TAG IMAGE ID CREATED SIZE quay.io/libpod/testimage 20240123 1f6acd4c4a1d 5 months ago 11.8 MB quay.io/libpod/systemd-image 20240124 9479ce2eaa2d 5 months ago 149 MB ``` Create three kube files, and run three kubes in parallel: ```console $ for i in 1 2 3;do printf &quot;apiVersion: v1\nkind: Pod\nmetadata:\n name: foo$i\nspec:\n containers:\n - command:\n - top\n image: quay.io/libpod/testimage:20240123\n name: fooctr$i\nstatus: {}\n&quot; &gt; foo$i.yaml;done $ bin/podman kube play foo1.yaml &amp; bin/podman kube play foo2.yaml &amp; bin/podman kube play foo3.yaml [2] 3587033 [3] 3587034 Pod: 516b243e9ee83dc8eee7e2273f6a4a1c8fb1c97a6bed46dbb00d063d7b649782 Container: a7d3e67ef42012356dd22aaadd4e4044c77ca199974ca5522bf19af472f28f64 Pod: 773b0cdedc4ea0a7b6a7c5a6602f3b055380e2d4f7678e7a225c7f1d0213512a Container: 5877a323b87695e85f65b2220d8009f853cb46c977c9ae9a164211e87a65902a [2] - done bin/podman kube play foo1.yaml Pod: 7aa9abb628f9c337936fb2074253b41ac8b5da61abe1ce0d6ac215128e29d2cf Container: 47d4a47787470c87d6a73899068e9f85c660aa56c501470a394ea92a8143d4e5 [3] + done bin/podman kube play foo2.yaml ``` (Apparently) all three tried to build a pause image, one got tagged, the other two did not: ```console $ bin/podman images REPOSITORY TAG IMAGE ID CREATED SIZE &lt;none&gt; &lt;none&gt; 0d5444c11909 5 seconds ago 742 kB &lt;&lt;&lt; BAD &lt;none&gt; &lt;none&gt; f95539868d11 5 seconds ago 742 kB &lt;&lt;&lt; BAD localhost/podman-pause 5.2.0-dev-1721130071 451008d17bce 5 seconds ago 742 kB quay.io/libpod/testimage 20240123 1f6acd4c4a1d 5 months ago 11.8 MB quay.io/libpod/systemd-image 20240124 9479ce2eaa2d 5 months ago 149 MB ``` One of those images is in use by one of the containers, and can't be deleted until the pod stops. The other is not in use and can be rmi'ed. This confuses me because `buildPauseImage()` returns an image name, not ID. But I'm not going to lose sleep over that. Relevant code seems to be https://github.com/containers/podman/blob/main/pkg/specgen/generate/pause_image.go . I can't think of any way to fix this that doesn't involve locks, yuk. Hope y'all have better solutions.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>274</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>system test parallelization: enable two-pass approach For the past two months we've been splitting system tests into two categories: those that CAN be run in parallel, and those that CANNOT. Much work has been done to replace hardcoded names (mycontainer, mypod) with safename(). Hundreds of test runs, in CI and on Ed's laptop, have proven this approach viable. make {local,remote}system now runs in two steps: first the serial ones, then the parallel ones. hack/bats will now recognize the 'ci:parallel' tag and add --jobs (nprocs). This requires some tweaking of leak_check, because there can be umpteen tests running (affecting image/container/pod/etc state) when any given test completes. Rules for enabling parallelization in tests: * use unique container/pod/volume/network names (safename) * do not run 'podman rm -a' or 'rmi -a' * never use the -l (--latest) option * do not run 'podman ps/images' and expect precise output Signed-off-by: Ed Santiago &lt;santiago@redhat.com&gt;</MESSAGE>
    <SHA>d571ca6536c2f49ad1d95e2c93f982e18201c45a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>clean_setup: create pause image Workaround for #23292, where simultaneous 'pod create' commands will all start a podman-build of the pause image, but only one of them will be tagged, and the others will leak &lt;none&gt; images. Signed-off-by: Ed Santiago &lt;santiago@redhat.com&gt;</MESSAGE>
      <SHA>bcffa9ce301cc0d69e589b7ffe51f4a5816603d9</SHA>
      <PATCHEDFILES>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Set the IDMappings also when RootfsOverlay is used. This is related to #23292 and is needed to replace pause image container with pause container based on the rootfs. Without this change, the GIDs and UIDs are not mapped in the rootfs container which use overlay if --userns=auto is used. This leads to an error mounting /dev/pts with gid=5, becuase GID 5 simply does not exist in the pause container using rootfs. All the tests pass with this change, but I have to admit I did not find out why the original code has been introduced. Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>c176cdc267660edbcf8fcf48bbbcef37ed28e7a8</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container_internal.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Set the IDMappings also when RootfsOverlay is used. This is related to #23292 and is needed to replace pause image container with pause container based on the rootfs. Without this change, the GIDs and UIDs are not mapped in the rootfs container which use overlay if --userns=auto is used. This leads to an error mounting /dev/pts with gid=5, becuase GID 5 simply does not exist in the pause container using rootfs. All the tests pass with this change, but I have to admit I did not find out why the original code has been introduced. Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>9277643eadfa675649596a21c7fa22b807072ba1</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>test/e2e/run_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile and keeps just a code to PullInfraImage. In case the user-defined infra image is not set, the PrepareInfraSpec is called to find out the catatonit binary and use it using the rootfs with overlay. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>e89dd2be7375e2c55920717668d3dac689931350</SHA>
      <PATCHEDFILES>
        <FILE>libpod/kube.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>fd2c38390efe5b75307f2b57fb168b98b083a5bf</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>b6dd1c81e96351d9d57224eb725980ad82b7e74d</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>b4524ffaf36a4b47e675f5ba8bbf71e60c4be34f</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>f7dc25512f0d2a68a058d7843ab55ae0f1f10c85</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>8811ce2a5a51a516bd4006e02e2b1d7e78fce5c6</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>1b8cb000dfa469f60cc94cf002cbb58b2590a587</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>127f08e34290011abbd9b5b2e2b2b4b8e22034b2</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>d0e47c3634b70dd8b9cf9a574f011cfbabd61378</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>994efefcb515b44902b387e5a586cd361b15a7db</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_internal_linux.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>038574244d2b653405d9d40e3c92d24ecb29ee66</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_internal_linux.go</FILE>
        <FILE>libpod/container_validate.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>d1dfcf4473038025a98cf79d82ab6f48e07e1a99</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_internal_linux.go</FILE>
        <FILE>libpod/container_validate.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>212c2efa9269fef473a507b86f1205f5c9cbf3cf</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_internal_linux.go</FILE>
        <FILE>libpod/container_validate.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>ea57684a5bd3b67cc5f7957a5fd3bb5772a06492</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_internal_linux.go</FILE>
        <FILE>libpod/container_validate.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>8e5ef688a5432ded076fd0a02fe8f0511695c997</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_validate.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Replace podman pause image with rootfs. This commit removes the code to build a local pause image from the Containerfile. It is replaced with code to find the catatonit binary and include it in the Rootfs. This removes the need to build a local pause container image. The same logic is also applied to createServiceContainer which is originally also based on the pause image. Fixes: #23292 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>224e791161b396cd5c6ed91ce8a12524b60d6197</SHA>
      <PATCHEDFILES>
        <FILE>libpod/container.go</FILE>
        <FILE>libpod/container_config.go</FILE>
        <FILE>libpod/container_internal_common.go</FILE>
        <FILE>libpod/container_validate.go</FILE>
        <FILE>libpod/kube.go</FILE>
        <FILE>libpod/options.go</FILE>
        <FILE>libpod/runtime_ctr.go</FILE>
        <FILE>pkg/domain/infra/abi/play.go</FILE>
        <FILE>pkg/specgen/generate/kube/kube.go</FILE>
        <FILE>pkg/specgen/generate/pause_image.go</FILE>
        <FILE>pkg/specgen/generate/pod_create.go</FILE>
        <FILE>test/system/010-images.bats</FILE>
        <FILE>test/system/020-tag.bats</FILE>
        <FILE>test/system/040-ps.bats</FILE>
        <FILE>test/system/255-auto-update.bats</FILE>
        <FILE>test/system/700-play.bats</FILE>
        <FILE>test/system/helpers.bash</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
