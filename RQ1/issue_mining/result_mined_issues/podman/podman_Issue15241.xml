<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>15241</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/15241</ISSUEURL>
  <TITLE>flake: bind-non-recursive: expected (2) to have length 1</TITLE>
  <DESCRIPTION>Old flake, I'm just getting around to filing: ``` podman run --mount type=bind,bind-nonrecursive ... â€¢ Failure [2.923 seconds] Podman run /var/tmp/go/src/github.com[/containers/podman/test/e2e/run_test.go:25](https://github.com/containers/podman/blob/19ca4f5bfc0277fd0855c34f6246b84dbd506e0e/test/e2e/run_test.go#L25) podman run --mount type=bind,bind-nonrecursive [It] /var/tmp/go/src/github.com[/containers/podman/test/e2e/run_test.go:1237](https://github.com/containers/podman/blob/19ca4f5bfc0277fd0855c34f6246b84dbd506e0e/test/e2e/run_test.go#L1237) Expected &lt;[]string | len:2, cap:2&gt;: [ &quot;/host /dev/root ext4 rw,relatime,discard,errors=remount-ro&quot;, &quot;`-/host/tmp/podman_test948856204/root/vfs-containers/8cb2a723583a7e4998b7770e51a08315823bb1014f0348f4cf63e5ca1df98dea/userdata/shm shm tmpfs rw,nosuid,nodev,noexec,relatime,size=64000k,inode64&quot;, ] to have length 1 ``` Some flakes on f34/f35, but mostly on ubuntu. In addition to the list below, seen [just now in treadmill](https://api.cirrus-ci.com/v1/artifact/task/5656513913028608/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run-mount-type-bind-bind-nonrecursive--1) ### Podman run [It] podman run --mount type=bind,bind-nonrecursive * ubuntu-2204 : int podman ubuntu-2204 root host * PR #15188 * [08-04 05:19](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/6364445319364608/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--1) * [08-04 05:19](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/6364445319364608/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--2) * [08-04 05:19](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/6364445319364608/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--3) * PR #15182 * [08-03 17:24](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/5423440332062720/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--1) * [08-03 17:24](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/5423440332062720/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--2) * [08-03 17:24](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/5423440332062720/html/int-podman-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--3) * ubuntu-2204 : int remote ubuntu-2204 root host [remote] * PR #15125 * [07-30 12:20](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/6607382007513088/html/int-remote-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--1) * [07-30 12:20](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/6607382007513088/html/int-remote-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--2) * [07-30 12:20](https://storage.googleapis.com/cirrus-ci-6707778565701632-fcae48/artifacts/containers/podman/6607382007513088/html/int-remote-ubuntu-2204-root-host.log.html#t--podman-run---mount-type-bind-bind-nonrecursive--3)</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>16</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #15433 from arixmkii/win_compat3_rootless Fixes isRootful check using qemu machine on Windows</MESSAGE>
    <SHA>9a83fe33b5c93eff0e65064cc45158d8d0f6ea0d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>test: use private instead of slave for the mount using &quot;slave&quot; means that every mount operation on the host that happens between the mount creation for `/host` and running `findmnt` will be propagated to the container mount. To prevent new mounts on the host to appear in the container thus invalidating the test we have, just create the mount as private and use `/sys` as source as it has multiple mounts on the top but less likely to get new mounts once it is configured. Closes: https://github.com/containers/podman/issues/15241 Signed-off-by: Giuseppe Scrivano &lt;gscrivan@redhat.com&gt;</MESSAGE>
      <SHA>35b4f26c70fae6abb01773eb767b88eefaddcfe2</SHA>
      <PATCHEDFILES>
        <FILE>test/e2e/run_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
