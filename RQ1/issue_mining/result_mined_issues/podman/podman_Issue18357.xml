<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>18357</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/18357</ISSUEURL>
  <TITLE>`manifest push` fails with non-docker transports</TITLE>
  <DESCRIPTION>### Issue Description The man page explicitly says: ``` DESTINATION The DESTINATION is a location to store container images The Image &quot;DESTINATION&quot; uses a &quot;transport&quot;:&quot;details&quot; format. If a transport is not given, podman push will attempt to push to a registry. Multiple transports are supported: ``` yet: ``` % podman manifest push --all --remove-signatures quay.io/projectquay/golang:1.20 dir:test Error: adding to manifest list quay.io/projectquay/golang:1.20: unsupported transport dir in &quot;dir:test&quot;: only docker transport is supported ``` ### Steps to reproduce the issue Steps to reproduce the issue 1. Build manifest 2. Attempt to push manifest to a `dir` transport ### Describe the results you received unsupported transport dir in &quot;dir:test&quot;: only docker transport is supported ### Describe the results you expected Working as documented ### podman info output ```yaml host: arch: amd64 buildahVersion: 1.29.0 cgroupControllers: - cpu - io - memory - pids cgroupManager: systemd cgroupVersion: v2 conmon: package: conmon-2.1.5-1.fc37.x86_64 path: /usr/bin/conmon version: 'conmon version 2.1.5, commit: ' cpuUtilization: idlePercent: 96.72 systemPercent: 0.87 userPercent: 2.41 cpus: 16 distribution: distribution: fedora variant: silverblue version: &quot;37&quot; eventLogger: journald hostname: rot idMappings: gidmap: - container_id: 0 host_id: 1000 size: 1 - container_id: 1 host_id: 100000 size: 65536 uidmap: - container_id: 0 host_id: 1000 size: 1 - container_id: 1 host_id: 100000 size: 65536 kernel: 6.1.10-200.fc37.x86_64 linkmode: dynamic logDriver: journald memFree: 5461020672 memTotal: 67118391296 networkBackend: netavark ociRuntime: name: crun package: crun-1.8-1.fc37.x86_64 path: /usr/bin/crun version: |- crun version 1.8 commit: 0356bf4aff9a133d655dc13b1d9ac9424706cac4 rundir: /run/user/1000/crun spec: 1.0.0 +SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL os: linux remoteSocket: exists: true path: /run/user/1000/podman/podman.sock security: apparmorEnabled: false capabilities: CAP_CHOWN,CAP_DAC_OVERRIDE,CAP_FOWNER,CAP_FSETID,CAP_KILL,CAP_NET_BIND_SERVICE,CAP_SETFCAP,CAP_SETGID,CAP_SETPCAP,CAP_SETUID rootless: true seccompEnabled: true seccompProfilePath: /usr/share/containers/seccomp.json selinuxEnabled: true serviceIsRemote: true slirp4netns: executable: /usr/bin/slirp4netns package: slirp4netns-1.2.0-8.fc37.x86_64 version: |- slirp4netns version 1.2.0 commit: 656041d45cfca7a4176f6b7eed9e4fe6c11e8383 libslirp: 4.7.0 SLIRP_CONFIG_VERSION_MAX: 4 libseccomp: 2.5.3 swapFree: 5583663104 swapTotal: 8589930496 uptime: 1674h 51m 25.00s (Approximately 69.75 days) plugins: authorization: null log: - k8s-file - none - passthrough - journald network: - bridge - macvlan volume: - local registries: {} store: configFile: /var/home/hank/.config/containers/storage.conf containerStore: number: 4 paused: 0 running: 3 stopped: 1 graphDriverName: overlay graphOptions: {} graphRoot: /home/hank/.local/share/containers/storage graphRootAllocated: 1020340994048 graphRootUsed: 210333614080 graphStatus: Backing Filesystem: btrfs Native Overlay Diff: &quot;true&quot; Supports d_type: &quot;true&quot; Using metacopy: &quot;false&quot; imageCopyTmpDir: /var/tmp imageStore: number: 267 runRoot: /run/user/1000/containers transientStore: false volumePath: /home/hank/.local/share/containers/storage/volumes version: APIVersion: 4.4.1 Built: 1675940333 BuiltTime: Thu Feb 9 10:58:53 2023 GitCommit: &quot;&quot; GoVersion: go1.19.5 Os: linux OsArch: linux/amd64 Version: 4.4.1 ``` ``` ### Podman in a container No ### Privileged Or Rootless Rootless ### Upstream Latest Release No ### Additional environment details _No response_ ### Additional information _No response_</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>48</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[CI:DOCS] podman-push: rm confusion on supported transports Remote clients only support the docker transport which is mentioned in the destination table below. So drop the redundant text on supported transports from the main description to avoid confusion. Signed-off-by: Valentin Rothberg &lt;vrothberg@redhat.com&gt;</MESSAGE>
    <SHA>aa7a4219ee852ea7b10211a39d109c09b6844fc9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[CI:DOCS] clarify supported transports in manifest push Closes: #18357 Signed-off-by: Valentin Rothberg &lt;vrothberg@redhat.com&gt;</MESSAGE>
      <SHA>354b8e20b809c150a6f3539636e8034e6172a83b</SHA>
      <PATCHEDFILES>
        <FILE>docs/source/markdown/podman-manifest-push.1.md.in</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
