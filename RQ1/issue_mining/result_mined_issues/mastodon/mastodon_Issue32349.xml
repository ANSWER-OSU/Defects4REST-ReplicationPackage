<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>32349</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/32349</ISSUEURL>
  <TITLE>Filtered notification does not disappear if user is suspended</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Get notified by a filtered notification 2. Instance-wide suspend user in question (removing the post) ### Expected behaviour Filter notification disappears when user is suspended ### Actual behaviour Filtered notification is still there, even if clicking on it returns nothing ### Detailed description _No response_ ### Mastodon instance masto.donte.com.br ### Mastodon version v4.3.0+donte ### Browser name and version Version 129.0.6668.58 (Official Build, ungoogled-chromium) Arch Linux (64-bit) ### Operating system Linux ### Technical details _No response_</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add `OpenSSL::SSL::SSLError` to http connection errors wrapper (#32307)</MESSAGE>
    <SHA>258dce125668ccac45d6d0958da1c841ab7cfcee</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix notification requests from suspended accounts still being listed Fixes #32349</MESSAGE>
      <SHA>0b4bdfcb3186e98c9545e4492856dfc6284de2ba</SHA>
      <PATCHEDFILES>
        <FILE>app/controllers/api/v1/notifications/requests_controller.rb</FILE>
        <FILE>app/models/notification_policy.rb</FILE>
        <FILE>app/models/notification_request.rb</FILE>
        <FILE>spec/models/notification_policy_spec.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix notification requests from suspended accounts still being listed Fixes #32349</MESSAGE>
      <SHA>fc960407db22d74d5ed817c5e5ee60fd275713a8</SHA>
      <PATCHEDFILES>
        <FILE>app/controllers/api/v1/notifications/requests_controller.rb</FILE>
        <FILE>app/models/notification_policy.rb</FILE>
        <FILE>app/models/notification_request.rb</FILE>
        <FILE>spec/models/notification_policy_spec.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
