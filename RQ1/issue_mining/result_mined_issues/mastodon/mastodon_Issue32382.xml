<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>32382</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/32382</ISSUEURL>
  <TITLE>&quot;Suppress follow recommendation&quot; keeps user in both Active and Suppressed lists. Error page when suppressing same user again.</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Navigate to &quot;Follow recommendations&quot; moderation page. 2. Suppress a recommended user 3. Select the &quot;Suppressed&quot; filter to see the user is listed 4. Select the &quot;Active&quot; filter to see the user is also still listed there 5. Suppress the same user again ### Expected behaviour When suppressing a user, the user is listed in both Active and Suppressed lists. Supressing the user a second time displays an error page. ### Actual behaviour Suppressed user is no longer listed on the Active page. Supressing a user a second time (eg. if two tabs are open) behaves the same as suppressing it once. ### Detailed description _No response_ ### Mastodon instance sunny.garden ### Mastodon version v4.3.0 ### Browser name and version Firefox 131.0.2 ### Operating system Microsoft Windows [Version 10.0.19045.4894] ### Technical details _No response_</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix “Mention” appearing for otherwise filtered posts (#32356)</MESSAGE>
    <SHA>a5a3733c9772424c29735b2ae1542e270186d24c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix follow recommendation suppressions not applying immediately Fixes #32382</MESSAGE>
      <SHA>c8d3cb37ef879c1f7755b4aeabe93f843be543fb</SHA>
      <PATCHEDFILES>
        <FILE>app/models/follow_recommendation.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix follow recommendation suppressions not applying immediately Fixes #32382</MESSAGE>
      <SHA>3a5be2bc9f221d13c4be7d2de3cfc4a12a4556c9</SHA>
      <PATCHEDFILES>
        <FILE>app/models/follow_recommendation.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
