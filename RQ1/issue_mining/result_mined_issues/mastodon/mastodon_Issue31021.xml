<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31021</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/31021</ISSUEURL>
  <TITLE>Mentioned handles are rendered as plaintext without link if the sharp s ('ß') character appears in the previous word</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Write a post with the following content and send it `Gemäß @Gargron@mastodon.social` ### Expected behaviour The handle is rendered with a link to the profile: Gemäß @Gargron ### Actual behaviour The handle is rendered as plaintext: Gemäß @Gargron@mastodon.social ### Detailed description Apparently when a handle is mentioned after a &quot;ß&quot; (sharp s) character it is always rendered as plaintext. Please find the following post where it was first observed: https://nrw.social/@melsdung/112784007422571926 The issue could also be reproduced with the 3rd party app &quot;Tusky&quot; using mastodon.online. ### Mastodon instance mastodon.online and nrw.social ### Mastodon version v4.2.10 (nrw.social) and v4.3.0-nightly.2024-07-11 (mastodon.online) ### Technical details If this is happening on your own Mastodon server, please fill out those: - Ruby version: (from `ruby --version`, eg. v3.1.2) - Node.js version: (from `node --version`, eg. v18.16.0)</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(deps): update dependency fuzzysort to v3 (#30315) Co-authored-by: renovate[bot] &lt;29139614+renovate[bot]@users.noreply.github.com&gt; Co-authored-by: Renaud Chaput &lt;renchap@gmail.com&gt;</MESSAGE>
    <SHA>06f070d86d448b97c082c038220becaec8a038ce</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix ß bug in regexp for mentions and tags Fixes #31021</MESSAGE>
      <SHA>399855f278bf55e626e78b8342b8181dfd571f45</SHA>
      <PATCHEDFILES>
        <FILE>app/models/account.rb</FILE>
        <FILE>app/models/tag.rb</FILE>
        <FILE>spec/models/account_spec.rb</FILE>
        <FILE>spec/models/tag_spec.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
