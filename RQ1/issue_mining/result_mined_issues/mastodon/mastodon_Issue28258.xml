<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>28258</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/28258</ISSUEURL>
  <TITLE>Status edits are not sent to streaming clients if they do not appear in a subscribed feed</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Send a status with direct visibility to a user who doesn't follow you 2. Edit the sent status 3. The recipient does not see the status edit unless they refresh ### Expected behaviour The recipient should have received the edited status ### Actual behaviour The recipient does not see the status edit unless they refresh ### Detailed description _No response_ ### Mastodon instance _No response_ ### Mastodon version v4.2.3 ### Technical details - Ruby version: 3.2.2 - Node.js version: v20.6.1</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix `Style/RedundantArgument` cop (#28321)</MESSAGE>
    <SHA>2c6369918c61a7f948f39926f987fcfa0b02fb82</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix status edits not always being streamed to mentioned users Fixes #28258</MESSAGE>
      <SHA>510299dd552a8a43d8c8ec5657c4f64a60ee0c65</SHA>
      <PATCHEDFILES>
        <FILE>app/services/fan_out_on_write_service.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix status edits not always being streamed to mentioned users Fixes #28258</MESSAGE>
      <SHA>1496272fe480ed7debe1623321c36c04dff92008</SHA>
      <PATCHEDFILES>
        <FILE>app/services/fan_out_on_write_service.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
