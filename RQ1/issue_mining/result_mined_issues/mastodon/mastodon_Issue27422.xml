<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>27422</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/27422</ISSUEURL>
  <TITLE>Back button should close models and not navigate away</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Open a toot with an image 2. Click the image ### Expected behaviour The back link of the browser should close the zoomed view ### Actual behaviour the back link navigates away. ### Detailed description * opening the zoomed image should add to the browser history (closing should go back in history). This behaviour is desired for any modal that is opened (the back button should close the modal and not navigate away. ### Mastodon instance mastodon.social ### Mastodon version v4.1.2 ### Browser name and version Chrome 117.0.5938.149 ### Operating system Ubuntu 22.04 ### Technical details _No response_</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>New Crowdin Translations (automated) (#27410) Co-authored-by: GitHub Actions &lt;noreply@github.com&gt;</MESSAGE>
    <SHA>13456efd7b3f95e5312eac350644679ae90d63db</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Modal open and close modify history #27422</MESSAGE>
      <SHA>9d79f4c2c07d3e10828c06347130463e31752748</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/reducers/modal.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Modal open and close modify history #27422</MESSAGE>
      <SHA>39befa69c940e46c9075618cb76e198f11675fae</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/ui/components/modal_root.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/index.jsx</FILE>
        <FILE>app/javascript/mastodon/reducers/modal.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Modal open and close modify history #27422</MESSAGE>
      <SHA>a24a9752efe754813fc30f1b5ae05483f9083be1</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/ui/components/modal_root.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/index.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
