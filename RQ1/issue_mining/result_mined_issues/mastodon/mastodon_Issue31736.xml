<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31736</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/31736</ISSUEURL>
  <TITLE>Allow OAuth revoke through CORS (to be symmetric with OAuth obtain)</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem The [Obtain a token](https://docs.joinmastodon.org/methods/oauth/#token) endpoint is available to browser clients via CORS requests but the [Revoke a token](https://docs.joinmastodon.org/methods/oauth/#revoke) endpoint is not Please add the CORS headers to revoke, as it is the flip side of obtain and needed for browser-only clients. Thanks! ### Expected behaviour The revoke endpoint should have been available over CORS ### Actual behaviour The revoke endpoint was not available over CORS ### Detailed description _No response_ ### Mastodon instance mastodon.social ### Mastodon version v4.3.0-nightly.2024-09-03 ### Technical details _No response_</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add coverage for `api/v1/annual_reports` area (#31730)</MESSAGE>
    <SHA>c9ea91f8683cd5c0cfac14071a17e3956ac6d3b0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Allow `POST /oauth/revoke` through CORS Fixes #31736</MESSAGE>
      <SHA>5a9c8518a9e59774f12767ffaf4a25a76b85dab1</SHA>
      <PATCHEDFILES>
        <FILE>config/initializers/cors.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
