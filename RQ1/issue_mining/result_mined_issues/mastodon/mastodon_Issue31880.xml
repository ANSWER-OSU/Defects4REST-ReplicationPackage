<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31880</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/31880</ISSUEURL>
  <TITLE>Default focus on modal dialogs</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Turn on boost confirmation option 2. Try to boost some post 3. Press &lt;kbd&gt;Space&lt;/kbd&gt; or &lt;kbd&gt;Enter&lt;/kbd&gt; to confirm ... ### Expected behaviour Pressing space or enter press confirmation button on dialog ### Actual behaviour Default focus is gone, Need to tab, shift+tab to focus on confirmation button to proceed ### Detailed description On Mastodon v4.2, Boost confirmation dialog has focused on confirmation button by default. So user can just press space or enter key to proceed (Shift+tab enter to press cancel button) After dialog rework, Default focus is gone. So user need to press shift+tab and tab to focus on confirmation button Same applied on post delete confirmation dialog ### Mastodon instance mastodon.social ### Mastodon version v4.3 ### Browser name and version Firefox 130.0 ### Operating system Ubuntu 24.04.1 LTS ### Technical details _No response_</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Ignore `undefined` as canonical url (#31882)</MESSAGE>
    <SHA>ab763c493fd8d40db6005282c38bd2636120f273</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Autofocus primary button in modals Fixes #31880</MESSAGE>
      <SHA>4b5427085b6f28bbecb95ce02303ada4392e842a</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/ui/components/block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/confirmation_modals/confirmation_modal.tsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/domain_block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/mute_modal.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Autofocus primary button in modals Fixes #31880</MESSAGE>
      <SHA>eb4095fea727f4795031657d16140306094e03d3</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/ui/components/block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/confirmation_modals/confirmation_modal.tsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/domain_block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/mute_modal.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Autofocus primary button in modals Fixes #31880</MESSAGE>
      <SHA>a04a4e5f407ce6425b7db0b07057e50604c686fc</SHA>
      <PATCHEDFILES>
        <FILE>.eslintrc.js</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/confirmation_modals/confirmation_modal.tsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/domain_block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/mute_modal.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Autofocus primary button in modals Fixes #31880</MESSAGE>
      <SHA>30f82dcdcb88e0111c0b5abe84e502c2ca4e112e</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/ui/components/block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/confirmation_modals/confirmation_modal.tsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/domain_block_modal.jsx</FILE>
        <FILE>app/javascript/mastodon/features/ui/components/mute_modal.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
