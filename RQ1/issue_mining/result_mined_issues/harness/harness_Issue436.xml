<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>436</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/436</ISSUEURL>
  <TITLE>Set {{BRANCH_NAME}} in param injection context</TITLE>
  <DESCRIPTION>It would be helpful if the branch name was available in context for param injection. This would make it easy to pass along to commands as needed. My custom deployment commands need the name of the branch they are working on, but git complains about a detached head when I attempt to determine the branch name manually. My git foo is weak, so maybe there is a simple workaround. Is there currently any way to determine the branch name in the container?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'small-execution-fixes' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#451)</MESSAGE>
    <SHA>9c0edb50105bc9829fc7e7306eded67a84e841e9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>add support for checks summary in CI (#436)</MESSAGE>
      <SHA>3bc56a181460556768603d89fb2163fc9450b192</SHA>
      <PATCHEDFILES>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>internal/api/controller/check/check_report.go</FILE>
        <FILE>internal/api/controller/execution/create.go</FILE>
        <FILE>internal/api/controller/execution/update.go</FILE>
        <FILE>internal/api/controller/pipeline/create.go</FILE>
        <FILE>internal/api/controller/repo/import.go</FILE>
        <FILE>internal/api/handler/execution/update.go</FILE>
        <FILE>internal/api/openapi/pipeline.go</FILE>
        <FILE>internal/pipeline/checks/write.go</FILE>
        <FILE>internal/pipeline/manager/client.go</FILE>
        <FILE>internal/pipeline/manager/convert.go</FILE>
        <FILE>internal/pipeline/manager/manager.go</FILE>
        <FILE>internal/pipeline/manager/setup.go</FILE>
        <FILE>internal/pipeline/manager/teardown.go</FILE>
        <FILE>internal/pipeline/manager/updater.go</FILE>
        <FILE>internal/pipeline/manager/wire.go</FILE>
        <FILE>internal/pipeline/triggerer/trigger.go</FILE>
        <FILE>internal/pipeline/triggerer/wire.go</FILE>
        <FILE>internal/router/api.go</FILE>
        <FILE>internal/services/trigger/handler_branch.go</FILE>
        <FILE>internal/services/trigger/handler_pullreq.go</FILE>
        <FILE>internal/services/trigger/handler_tag.go</FILE>
        <FILE>internal/services/trigger/service.go</FILE>
        <FILE>internal/store/database.go</FILE>
        <FILE>internal/store/database/execution.go</FILE>
        <FILE>internal/store/database/execution_map.go</FILE>
        <FILE>internal/store/database/migrate/ci/ci_migrations.sql</FILE>
        <FILE>internal/store/database/pipeline.go</FILE>
        <FILE>internal/store/database/pipeline_join.go</FILE>
        <FILE>internal/store/database/stage.go</FILE>
        <FILE>internal/store/database/stage_map.go</FILE>
        <FILE>internal/store/database/step.go</FILE>
        <FILE>types/check.go</FILE>
        <FILE>types/enum/check.go</FILE>
        <FILE>types/enum/ci_status.go</FILE>
        <FILE>types/execution.go</FILE>
        <FILE>types/pipeline.go</FILE>
        <FILE>types/stage.go</FILE>
        <FILE>types/step.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
