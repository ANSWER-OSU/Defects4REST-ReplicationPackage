<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2020</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2020</ISSUEURL>
  <TITLE>databases like rethink db can't be used as a service</TITLE>
  <DESCRIPTION>Drone version: .6 Repro steps: Add rethink db to the services like services: database: image: rethinkdb:2.3.5 command: [ rethinkdb, --bind, all ] and try to connect to &quot;database&quot;. It will error with ECONNREFUSED from @bradrydzewski &quot;the rethink issue could be a chicken and egg problem. If it binds to available interface IPs (via --all), but is created before all the pipeline containers, it will never be able to bind to their networks this doesn't impact mysql / postgres/ etc because they don't try to bind to specific addresses a fix could be to create all containers (pipeline and service) up front, and then start them sequentially. Today we start and run them sequentially.&quot;</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>13</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>update: [code-1826] upgrade to harness code from gitness (#2009)</MESSAGE>
    <SHA>8c18a93696ef9a7a4d6df5f8b767f5245045b587</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: convert to private for export (#2020)</MESSAGE>
      <SHA>7103d881098b9221a26114cc30a260df2069e8fa</SHA>
      <PATCHEDFILES>
        <FILE>app/services/exporter/repository.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
