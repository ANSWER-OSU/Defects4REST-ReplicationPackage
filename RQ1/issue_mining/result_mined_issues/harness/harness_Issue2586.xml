<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2586</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2586</ISSUEURL>
  <TITLE>Proposal: Add env var for the step that caused a build failure</TITLE>
  <DESCRIPTION>Hi all, I was wondering whether an environment variable could be provided to plugins on the step that caused a build to fail. The suggested use case would be to give more detail to notification plugins. I would love to know at a glance in Slack whether the build failed during the testing step, or something mundane to do with linting. At the minute its either a pass or fail message, and then a dig through the logs to see what the issue was. Maybe something like this? ``` - name: slack image: plugins/slack when: status: [ success, failure ] settings: webhook: https://hooks.slack.com/services/... template: &gt; {{#success build.status}} CI passed! Commit `{{truncate build.commit 8}}` on branch {{build.branch}}. &lt;{{build.link}}|Link to build log&gt; {{else}} CI Failed on step {{build.failedStep}} Commit `{{truncate build.commit 8}}` (by {{build.author}}) on branch {{build.branch}}. &lt;{{build.link}}|Link to build log&gt; {{/success}} ``` There was a similar suggestion a year and a half ago - https://github.com/drone/drone/issues/1740#issuecomment-329984464 Thanks.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>239</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CDE-243]: Show SSH dropdown only while creating vs cod desktop (#2585) * feat: [CDE-243]: Show SSH dropdown only while creating vs cod desktop</MESSAGE>
    <SHA>bbe617ce6fc459a1e45fa66bb3bc0462401719dd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>add missing fields in scm types (#2586) * add missing fields in scm types</MESSAGE>
      <SHA>b79d217d8f98b17a1b6e61ac0d4e5a22d5cf2617</SHA>
      <PATCHEDFILES>
        <FILE>app/gitspace/scm/types.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
