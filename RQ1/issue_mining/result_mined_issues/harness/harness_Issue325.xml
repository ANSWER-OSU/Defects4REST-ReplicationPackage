<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>325</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/325</ISSUEURL>
  <TITLE>drone.sqlite too big, add purge routine</TITLE>
  <DESCRIPTION>Our `drone.sqlite` file is now over 500MB. What is the process for deleting old builds?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>136</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[scm-58] Add `merge-check` and Integrate with PR (#318) Co-authored-by: Johannes Batzill &lt;johannes.batzill@harness.io&gt;</MESSAGE>
    <SHA>13a456e357d3dd17c93856499e3f6b7c152579b0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[Makefile] Default to First Entry in `GOPATH` for `GOBIN` (#325)</MESSAGE>
      <SHA>3188c5757af03c766563a4488f22da437af7d417</SHA>
      <PATCHEDFILES>
        <FILE>Makefile</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'add_logs' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#325)</MESSAGE>
      <SHA>c3a6bc88c6ed608d109a297c11e9875190c24751</SHA>
      <PATCHEDFILES>
        <FILE>cmd/gitness/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>go.mod</FILE>
        <FILE>go.sum</FILE>
        <FILE>internal/api/controller/execution/controller.go</FILE>
        <FILE>internal/api/controller/execution/find.go</FILE>
        <FILE>internal/api/controller/execution/wire.go</FILE>
        <FILE>internal/api/controller/logs/controller.go</FILE>
        <FILE>internal/api/controller/logs/find.go</FILE>
        <FILE>internal/api/controller/logs/tail.go</FILE>
        <FILE>internal/api/controller/logs/wire.go</FILE>
        <FILE>internal/api/controller/secret/create.go</FILE>
        <FILE>internal/api/handler/logs/find.go</FILE>
        <FILE>internal/api/handler/logs/tail.go</FILE>
        <FILE>internal/api/request/pipeline.go</FILE>
        <FILE>internal/router/api.go</FILE>
        <FILE>internal/router/wire.go</FILE>
        <FILE>internal/store/database.go</FILE>
        <FILE>internal/store/database/encode.go</FILE>
        <FILE>internal/store/database/execution.go</FILE>
        <FILE>internal/store/database/execution_map.go</FILE>
        <FILE>internal/store/database/migrate/ci/ci_migrations.sql</FILE>
        <FILE>internal/store/database/stage.go</FILE>
        <FILE>internal/store/database/stage_map.go</FILE>
        <FILE>internal/store/database/step.go</FILE>
        <FILE>internal/store/database/step_map.go</FILE>
        <FILE>internal/store/database/wire.go</FILE>
        <FILE>internal/store/logs.go</FILE>
        <FILE>internal/store/logs/combine.go</FILE>
        <FILE>internal/store/logs/db.go</FILE>
        <FILE>internal/store/logs/s3.go</FILE>
        <FILE>internal/store/logs/wire.go</FILE>
        <FILE>livelog/livelog.go</FILE>
        <FILE>livelog/memory.go</FILE>
        <FILE>livelog/stream.go</FILE>
        <FILE>livelog/sub.go</FILE>
        <FILE>livelog/wire.go</FILE>
        <FILE>mocks/mock_client.go</FILE>
        <FILE>mocks/mock_store.go</FILE>
        <FILE>types/config.go</FILE>
        <FILE>types/execution.go</FILE>
        <FILE>types/list_filters.go</FILE>
        <FILE>types/pagination.go</FILE>
        <FILE>types/secret.go</FILE>
        <FILE>types/stage.go</FILE>
        <FILE>types/step.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
