<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1931</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/1931</ISSUEURL>
  <TITLE>$DRONE_PULL_REQUEST not defined for MRs from non-forks</TITLE>
  <DESCRIPTION>Hey , We are using Gitlab and Drone 0.4. I've found from testing that when drone runs for MRs that orginated in the same repo `$DRONE_PULL_REQUEST` is not defined whereas when a build is ran for an MR from a fork it is defined. Is this expected or do we have a problem with our setup somewhere?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add sourcegraph link [ci skip]</MESSAGE>
    <SHA>c77c7fabe8d3cfb3a2bcbebee25d5b9f3fe23411</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Use refs/merge-requests https://github.com/drone/drone/issues/1931</MESSAGE>
      <SHA>57b3752bd8cf8378e663b65884696c4f744ee21d</SHA>
      <PATCHEDFILES>
        <FILE>remote/gitlab/gitlab.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
