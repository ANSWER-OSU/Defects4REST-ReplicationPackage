<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>147</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/147</ISSUEURL>
  <TITLE>Implement proper Caching</TITLE>
  <DESCRIPTION>I was playing around with Drone.io over the weekend and I'm really impressed. However, there is one big issue for our Rails project: Bundling all the Gems (~ 250 Gems, where about 10 of these are git checkouts) takes about 10 minutes for each build, as I've found no way to provide a cacheable directory to Bundler. I've seen the issues #43 and #143, but as far as I understood the solution proposed in #43, the cache would only be invalidated when the actual setup commands have changed. In my case, it would need to re-run the commands when the content of the project's `Gemfile.lock` has changed. Furthermore, it would be neat to be able to share a cache directory between different projects. In our current Jenkins setup, we're sharing a global Bundler directory, which speeds up new project builds enormously. Here is an excerpt of our build file: ``` bash BUNDLE_PATH=&quot;$JENKINS_HOME/shared/bundle&quot; bundle install --path=&quot;$BUNDLE_PATH&quot; ```</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>535</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>a bit of prep-work for adding caching</MESSAGE>
    <SHA>18d5421706b96d2180391d3cece787181c2b5154</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>added code to persist directories between builds. see issue #147</MESSAGE>
      <SHA>c1b9353943d8649c37eea612802e313ce0fad93f</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/build.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>updated README to include caching details for #147</MESSAGE>
      <SHA>526fc23299a94953c279d22829505cf21c9fa507</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
