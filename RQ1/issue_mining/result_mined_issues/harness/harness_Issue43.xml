<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>43</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/43</ISSUEURL>
  <TITLE>Cache Docker images</TITLE>
  <DESCRIPTION>documenting suggestion from @afex on irc add a section to the `.drone.yml` called setup ``` setup: - apt-get update - apt-get -y install libsqlite3 libsqlite3-dev ``` add these install scripts to the Dockerfile that we generate: https://github.com/drone/drone/blob/master/pkg/build/build.go#L365 ``` RUN apt-get update RUN apt-get -y install libsqlite3 libsqlite3-dev ``` this would allow us to take advantage of Docker's layer caching. The build would use the cached image and avoid re-running install and setup commands. Saves time! If build script commands changed the cache would be invalidated and a new image would be generated. question: how does this impact matrix builds?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>553</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'ui/file-content-tabs' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#42)</MESSAGE>
    <SHA>615ac704d6b86c51303e052a37acc60d5442f7e8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge branch 'mg/code-comments/merge-base-sha' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#43)</MESSAGE>
      <SHA>1274df59f2d05e4cbef17d1c2a961b0ba69bb3ab</SHA>
      <PATCHEDFILES>
        <FILE>gitrpc/commit.go</FILE>
        <FILE>gitrpc/diff.go</FILE>
        <FILE>gitrpc/enum/hunk_headers.go</FILE>
        <FILE>gitrpc/interface.go</FILE>
        <FILE>gitrpc/internal/gitea/commit.go</FILE>
        <FILE>gitrpc/internal/parser/diff_headers.go</FILE>
        <FILE>gitrpc/internal/parser/diff_headers_test.go</FILE>
        <FILE>gitrpc/internal/service/commit.go</FILE>
        <FILE>gitrpc/internal/service/diff.go</FILE>
        <FILE>gitrpc/internal/service/interface.go</FILE>
        <FILE>gitrpc/internal/service/mapping.go</FILE>
        <FILE>gitrpc/internal/types/types.go</FILE>
        <FILE>gitrpc/mapping.go</FILE>
        <FILE>gitrpc/proto/diff.proto</FILE>
        <FILE>gitrpc/proto/repo.proto</FILE>
        <FILE>gitrpc/rpc/diff.pb.go</FILE>
        <FILE>gitrpc/rpc/http.pb.go</FILE>
        <FILE>gitrpc/rpc/operations.pb.go</FILE>
        <FILE>gitrpc/rpc/repo.pb.go</FILE>
        <FILE>gitrpc/rpc/repo_grpc.pb.go</FILE>
        <FILE>gitrpc/rpc/shared.pb.go</FILE>
        <FILE>internal/api/controller/pullreq/comment_create.go</FILE>
        <FILE>internal/api/controller/pullreq/merge.go</FILE>
        <FILE>internal/api/controller/pullreq/pr_commits.go</FILE>
        <FILE>internal/api/controller/pullreq/pr_create.go</FILE>
        <FILE>internal/api/controller/pullreq/pr_diff.go</FILE>
        <FILE>internal/api/controller/pullreq/pr_find.go</FILE>
        <FILE>internal/events/pullreq/events_branch.go</FILE>
        <FILE>internal/services/codecomments/migrator.go</FILE>
        <FILE>internal/services/pullreq/handlers_branch.go</FILE>
        <FILE>internal/services/pullreq/handlers_code_comments.go</FILE>
        <FILE>internal/services/pullreq/handlers_mergeable.go</FILE>
        <FILE>internal/store/database/code_comment.go</FILE>
        <FILE>internal/store/database/migrate/postgres/0015_alter_pullreq_merge_base_not_nullable.down.sql</FILE>
        <FILE>internal/store/database/migrate/postgres/0015_alter_pullreq_merge_base_not_nullable.up.sql</FILE>
        <FILE>internal/store/database/migrate/sqlite/0015_alter_pullreq_merge_base_not_nullable.down.sql</FILE>
        <FILE>internal/store/database/migrate/sqlite/0015_alter_pullreq_merge_base_not_nullable.up.sql</FILE>
        <FILE>internal/store/database/pullreq.go</FILE>
        <FILE>types/pullreq.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
