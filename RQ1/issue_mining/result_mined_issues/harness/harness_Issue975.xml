<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>975</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/975</ISSUEURL>
  <TITLE>Modify REST endpoints to use build number, and support build matrix</TITLE>
  <DESCRIPTION>The 0.4 angular app and REST API are complete but the routes are a bit messy. This is my proposal to cleanup the routes and finalize our REST API: ``` sh GET PUT /api/user # get, update currently authenticated user GET /api/user/repos # gets all repos the user is watching GET /api/user/tokens POST /api/user/tokens/:label # creates a token with the given label GET PUT POST /api/repos/:owner/:repo POST /api/repos/:owner/:repo/watch DEL /api/repos/:owner/:repo/unwatch GET /api/repos/:owner/:repo/builds # gets recent builds for the repository GET DEL POST /api/repos/:owner/:repo/builds/:build # delete and post will cancel, restart a build, get will return the build and all build tasks GET /api/repos/:owner/:repo/builds/:build/:task # returns a specific build task GET /api/repos/:owner/:repo/builds/:build/:task/logs POST /api/builds/drone/drone/builds/:build/status # gets all build statuses GET /api/builds/drone/drone/builds/:build/status/:label # appends a build status POST /hook # receives post-commit hook from github, etc ```</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>126</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix: added Authentication header with Bearer token (#924)</MESSAGE>
    <SHA>978ccb03efc69c46b4216ad9dfe2a0dc753071c5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [code-1338]: add highlight support for hcl and tf (#975)</MESSAGE>
      <SHA>e8e77bd26f4319c0e94b6ede0c671239aaa7e223</SHA>
      <PATCHEDFILES>
        <FILE>web/config/webpack.common.js</FILE>
        <FILE>web/src/utils/FileUtils.ts</FILE>
        <FILE>web/src/utils/Utils.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
