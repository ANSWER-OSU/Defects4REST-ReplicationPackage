<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3237</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/3237</ISSUEURL>
  <TITLE>template converter: template name given not found</TITLE>
  <DESCRIPTION>### I cannot use template configuration ### I created the template, but I will report an error when I build it ### I created a template called notify.yaml, and I quoted it in my project. As shown in the figure ### I found the same problem as me. [Click Here](https://stackoverflow.com/questions/70622564/drone-template-not-triggering-build) ![微信截图_20220704223044](https://user-images.githubusercontent.com/44392078/177175894-837ae27f-e279-4244-b415-579492db558a.png) ### The drone-server is latest from docker hub （When I ask this question） ## This is `.drone.yaml` ```yaml kind: pipeline type: exec name: wind steps: - name: build commands: - docker-compose -p wind_generator build - name: start commands: - docker-compose -p wind_generator up -d - name: test_live commands: - /bin/sh -c &quot;sleep 2;if [ $(curl --noproxy &quot;*&quot; -o /dev/null -s -w %{http_code} -m 5 http://127.0.0.1:5200/liveprobe) = &quot;200&quot; ]; then echo &quot;正常启动&quot;; else echo &quot;服务启动失败&quot; &amp;&amp; exit 1 ; fi&quot; trigger: branch: - master event: - push - custom --- kind: template load: notify.yaml data: depends_on: wind ``` ## And this is `notify.yaml` ```yaml kind: pipeline type: docker name: default clone: disable: true steps: - name: email image: drillster/drone-email settings: recipients: from_secret: email_recipients subject: &quot;Drone build: [{{ build.status }}] {{ repo.name }} ({{ repo.branch }}) #{{ build.number }}&quot; host: smtp.qq.com port: 465 from: from_secret: email_user username: from_secret: email_user password: from_secret: email_password trigger: status: [success, failure] depends_on: - {{ .input.depends_on }} ``` ### You can see from the webpage that my template was successfully created. ![微信截图_20220704223149](https://user-images.githubusercontent.com/44392078/177176926-7565ba4a-d5d0-4111-b8c4-caf995ec9a78.png) ## I don't know why. My drone is started through docker. #### I come from China, and the description language may not be so accurate. But I think I should still understand the problem I want to express. --- ### The next day, I found a phenomenon. When I put `.drone.yaml` After the content of yaml is deleted, only one template is retained, like this ```yaml kind: template load: notify.yaml data: depends_on: wind ``` ### Then he can read the template I set ### I think I can only find the answer by reading the source code of drone</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>913</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CDE-582]: refactor gitspaces, use spaceCache (#3227) * feat: [CDE-582]: refactor gitspaces seperate DB layer. * feat: [CDE-582]: refactor gitspaces seperate DB layer. * feat: [CDE-582]: refactor gitspaces seperate DB layer. * feat: [CDE-582]: refactor gitspaces seperate DB layer.</MESSAGE>
    <SHA>083a24d8eba0c339e0d5e40bf91689a4ebf0c4b6</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CDE-576]: intellij code improvements (#3237) * feat: [CDE-576]: fix lint * feat: [CDE-576]: intellij code improvements</MESSAGE>
      <SHA>9989a5a589e3ac7d14ea2b006fecc3604265933c</SHA>
      <PATCHEDFILES>
        <FILE>app/gitspace/orchestrator/container/devcontainer_config_utils.go</FILE>
        <FILE>app/gitspace/orchestrator/container/embedded_docker_container_orchestrator.go</FILE>
        <FILE>app/gitspace/orchestrator/ide/ide.go</FILE>
        <FILE>app/gitspace/orchestrator/ide/intellij.go</FILE>
        <FILE>app/gitspace/orchestrator/ide/vscode.go</FILE>
        <FILE>app/gitspace/orchestrator/ide/vscodeweb.go</FILE>
        <FILE>app/gitspace/orchestrator/ide/wire.go</FILE>
        <FILE>app/gitspace/orchestrator/orchestrator_resume.go</FILE>
        <FILE>app/gitspace/types/types.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
