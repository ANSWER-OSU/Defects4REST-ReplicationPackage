<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1005</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/1005</ISSUEURL>
  <TITLE>Gitlab webhook calls fail due to &quot;object_kind&quot;:&quot;push&quot;</TITLE>
  <DESCRIPTION>Gitlab 7.9 added a field `&quot;object_kind&quot;:&quot;push&quot;` to the webhook POST body. Drone returns a 400 Bad Request with that property included, but succeeds if it's removed.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix: [code-1450] debounce in tag search filter (#1039)</MESSAGE>
    <SHA>143b0bf5ade86b59478804ef2722e419cadbf38d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Support soft delete, restore and purge repos plus a cleanup job for old deleted repos (#1005)</MESSAGE>
      <SHA>fc9e77c91c191b0e8d622479626ec8435f17e95d</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/repo/purge.go</FILE>
        <FILE>app/api/controller/repo/restore.go</FILE>
        <FILE>app/api/controller/repo/soft_delete.go</FILE>
        <FILE>app/api/controller/space/delete.go</FILE>
        <FILE>app/api/handler/repo/purge.go</FILE>
        <FILE>app/api/handler/repo/restore.go</FILE>
        <FILE>app/api/handler/repo/soft_delete.go</FILE>
        <FILE>app/api/openapi/repo.go</FILE>
        <FILE>app/api/request/repo.go</FILE>
        <FILE>app/router/api.go</FILE>
        <FILE>app/services/cleanup/deleted_repos.go</FILE>
        <FILE>app/services/cleanup/service.go</FILE>
        <FILE>app/services/cleanup/wire.go</FILE>
        <FILE>app/store/database.go</FILE>
        <FILE>app/store/database/migrate/postgres/0045_alter_table_repo_add_deletetimestamp.down.sql</FILE>
        <FILE>app/store/database/migrate/postgres/0045_alter_table_repo_add_deletetimestamp.up.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0045_alter_table_repo_add_deletetimestamp.down.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0045_alter_table_repo_add_deletetimestamp.up.sql</FILE>
        <FILE>app/store/database/repo.go</FILE>
        <FILE>cli/operations/server/config.go</FILE>
        <FILE>cmd/gitness/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>git/repo.go</FILE>
        <FILE>types/config.go</FILE>
        <FILE>types/enum/common.go</FILE>
        <FILE>types/enum/repo.go</FILE>
        <FILE>types/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
