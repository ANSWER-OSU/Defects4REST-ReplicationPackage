<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2628</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2628</ISSUEURL>
  <TITLE>Store cron job that spawned build in Build struct and database</TITLE>
  <DESCRIPTION>this can be used to visualize which cron job started a build, and can be used to enable support for using the cron job name in the `when` and `trigger` clauses. example when configuration: ``` when: cron: [ nightly ] ``` example trigger configuration: ``` trigger: cron: [ nightly ] ```</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>23</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>add #2495 to changelog</MESSAGE>
    <SHA>64d80a4a92e13cedc48b438f8ec83adb8f4aab90</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>limit pipelines by cron name, #2628</MESSAGE>
      <SHA>e855881324dcdf912e70f94d6c7abc1d985cdbd3</SHA>
      <PATCHEDFILES>
        <FILE>CHANGELOG.md</FILE>
        <FILE>core/build.go</FILE>
        <FILE>core/hook.go</FILE>
        <FILE>go.sum</FILE>
        <FILE>store/build/build.go</FILE>
        <FILE>store/build/scan.go</FILE>
        <FILE>store/repos/repos.go</FILE>
        <FILE>store/repos/scan.go</FILE>
        <FILE>store/repos/type.go</FILE>
        <FILE>store/shared/migrate/mysql/ddl_gen.go</FILE>
        <FILE>store/shared/migrate/mysql/files/011_add_column_builds_cron.sql</FILE>
        <FILE>store/shared/migrate/postgres/ddl_gen.go</FILE>
        <FILE>store/shared/migrate/postgres/files/011_add_column_builds_cron.sql</FILE>
        <FILE>store/shared/migrate/sqlite/ddl_gen.go</FILE>
        <FILE>store/shared/migrate/sqlite/files/011_add_column_builds_cron.sql</FILE>
        <FILE>trigger/cron/cron.go</FILE>
        <FILE>trigger/cron/cron_test.go</FILE>
        <FILE>trigger/skip.go</FILE>
        <FILE>trigger/trigger.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>limit steps by cron name, #2628</MESSAGE>
      <SHA>4ad4402675afd37f8a2eac75dabdefb540c230f7</SHA>
      <PATCHEDFILES>
        <FILE>CHANGELOG.md</FILE>
        <FILE>go.mod</FILE>
        <FILE>go.sum</FILE>
        <FILE>operator/runner/runner.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: [ML-338]: APIs for Harness Intelligence (#2667) * Return empty summary/branch for now * Fix Lint Issues * feat: [ML-288]: API skeletons for Harness Intelligence * fix ai pipelines (#2659) * fix ai pipelines * Update pipeline name (#2658) * Update pipeline name * fix: [ML-288]: update remediation prompt and suggestions (#2652) * fix: [ML-288]: update remediation prompt and suggestions * fix: [ML-288]: update url for artifact registry (#2651) * fix: [ML-288]: update url for artifact registry * Add snippet to mark code as written by Harness Intelligence (#2628) * Add snippet to mark code as written by Harness Intelligence * Add snippet to mark code as written by Harness Intelligence (#2626) * Add snippet to mark code as written by Harness Intelligence * feat: [ML-288]: link to harness artifact registry (#2619) * some linting fixes * feat: [ML-288]: link to harness artifact registry * feat: [ML-286]: updating pipeline suggestions (#2620) * updating suggestions * feat: [ML-286]: updating pipeline suggestions * feat: [ML-288]: adding slackbot (#2603) * updating slack responses * prevent responding to any bot messages * feat: [ML-288]: adding slackbot * throw error for commit * commit stubbed * feat: [ML-286]: moving stubbed response earlier in execution (#2602) * feat: [ML-286]: moving stubbed response earlier in execution * feat: [ML-286]: adding stubbed response for analyze execution (#2600) * updating branch name * adding updated-main for analyse-execution endpoint * feat: [ML-286]: adding stubbed response for analyze execution * Update AnalyseExecutionOutput to contain multi file diff (#2592) * Create branch and commit changes on analyse * Simplify AnalyseExecutionOutput to contain only high level summary and branch * Update AnalyseExecutionOutput to contain multi file diff * updating endpoints for unscripted demo (#2594) * cleaning up code, adding suggested pipeline response * updating suggestions api * updating endpoints for unscripted demo * Stub out generate pipeline yaml</MESSAGE>
      <SHA>0af264d09f7f65b50b53a7a917667e936ee0f300</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/aiagent/analyse_execution.go</FILE>
        <FILE>app/api/controller/aiagent/controller.go</FILE>
        <FILE>app/api/controller/aiagent/generate_pipeline.go</FILE>
        <FILE>app/api/controller/aiagent/slackbot.go</FILE>
        <FILE>app/api/controller/aiagent/suggest_pipelines.go</FILE>
        <FILE>app/api/controller/aiagent/update_pipeline.go</FILE>
        <FILE>app/api/controller/aiagent/wire.go</FILE>
        <FILE>app/api/controller/execution/analyse.go</FILE>
        <FILE>app/api/handler/aiagent/generate_pipeline.go</FILE>
        <FILE>app/api/handler/aiagent/slackbot.go</FILE>
        <FILE>app/api/handler/aiagent/update_pipeline.go</FILE>
        <FILE>app/router/api.go</FILE>
        <FILE>app/services/aiagent/aiagent.go</FILE>
        <FILE>app/services/messaging/slack.go</FILE>
        <FILE>app/services/messaging/wire.go</FILE>
        <FILE>cmd/gitness/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>go.mod</FILE>
        <FILE>go.sum</FILE>
        <FILE>types/execution_analysis.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
