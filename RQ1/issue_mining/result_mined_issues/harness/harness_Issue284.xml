<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>284</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/284</ISSUEURL>
  <TITLE>'Could not find remote branch __ to clone'</TITLE>
  <DESCRIPTION>My Drone deployment (which is master `0.2-d7d4ae9`) has had the behavior from day 1 of: - User forks my package on Github - User creates topic branch `feature_x` where `feature_x` is not an existing branch on origin - User creates pull request - Drone build fails to clone the repo and fails, as in [this build](http://ci.serversaurus.com/github.com/alexzorin/libvirt-go/commit/1a87af19b55362292a1f5b91d857b221caa69c4f?branch=volume_1) Specifically: ``` warning: Could not find remote branch volume_1 to clone. fatal: Remote branch volume_1 not found in upstream origin ``` Now, if you look at [this build from beta.drone.io](http://beta.drone.io/github.com/drone/drone/commit/97bb6baf5ac9257cc0598a5d01866120e9810fb4), its output makes more sense: ``` warning: Remote branch privileged-builds not found in upstream origin, using HEAD instead ``` i.e the missing branch on the origin is not fatal. Is anybody able to account for the difference in behavior? I thought it might have been me using an outdated ~~Github~~ drone release, but building from `master` results in the same behavior.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>154</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>disable env variables in Dockerfile</MESSAGE>
    <SHA>e0cc4dc177c57d59a2efa86cb8f69e07d4bb77ae</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>build: could not find remote branch fix * It's a quick fix described in https://github.com/drone/drone/issues/284</MESSAGE>
      <SHA>b1665231c50024138507c5459459ebb189341d64</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/repo/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>build: could not find remote branch fix * It's a quick fix described in https://github.com/drone/drone/issues/284</MESSAGE>
      <SHA>599c375685273c07e03998472738b5acd20d6ab1</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/repo/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #284: Do not checkout the branch if a commit or PR is specified.</MESSAGE>
      <SHA>5385436d5c8055e1d5a6e7fb05024a0292cc99ce</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/repo/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #284: Do not checkout the branch if a commit or PR is specified.</MESSAGE>
      <SHA>4d04ab7b2686ce298ef27b717db966d9366a4022</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/build_test.go</FILE>
        <FILE>pkg/build/repo/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #284: Do not checkout the branch if a commit or PR is specified.</MESSAGE>
      <SHA>38c1231a8adb683feeeb073afb5d4d5bd80c794a</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/build_test.go</FILE>
        <FILE>pkg/build/repo/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #469 from aluzzardi/b-284 Fix #284: Do not checkout the branch if a commit or PR is specified.</MESSAGE>
      <SHA>996d6e8c732baddec0a307b39b45d830d001c5ab</SHA>
      <PATCHEDFILES>
        <FILE>pkg/build/build_test.go</FILE>
        <FILE>pkg/build/repo/repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'code-706' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#284)</MESSAGE>
      <SHA>083849daa806abe7f7b7342e8c879128e8edfe27</SHA>
      <PATCHEDFILES>
        <FILE>web/src/components/ReviewerSelect/ReviewerSelect.module.scss</FILE>
        <FILE>web/src/components/ReviewerSelect/ReviewerSelect.module.scss.d.ts</FILE>
        <FILE>web/src/components/ReviewerSelect/ReviewerSelect.tsx</FILE>
        <FILE>web/src/pages/PullRequest/Conversation/Conversation.tsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
