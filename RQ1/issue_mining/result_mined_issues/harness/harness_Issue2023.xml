<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2023</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2023</ISSUEURL>
  <TITLE>on OS X DNS link for services randomly isn't there for cli builds</TITLE>
  <DESCRIPTION>Drone version: .6 OS: OS X 10.12.4 Repro Steps: create any simple service and curl -v to it fairly randomly you'll get * Hostname was NOT found in DNS cache. Might be a docker native issue on os x? looks like something is going haywire for the dns resolution :/ here's what the reponse looks like when it works + curl -v &quot;http://database:3000&quot; &gt; ./config/test.yml * Rebuilt URL to: http://database:3000/ * Hostname was NOT found in DNS cache % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Trying 172.25.0.3... * connect to 172.25.0.3 port 3000 failed: Connection refused * Trying 172.25.0.2... * Connected to database (172.25.0.2) port 3000 (#0) &gt; GET / HTTP/1.1 &gt; User-Agent: curl/7.38.0 &gt; Host: database:3000 &gt; Accept: */* &gt; &lt; HTTP/1.1 200 OK &lt; X-Powered-By: Express &lt; Content-Type: text/html; charset=utf-8 &lt; Content-Length: 45 &lt; ETag: W/&quot;2d-45TgH8W+lGBPVIxV0wozrBCb9S8&quot; &lt; Date: Fri, 05 May 2017 03:19:25 GMT &lt; Connection: keep-alive &lt; { [data not shown] 100 45 100 45 0 0 1476 0 --:--:-- --:--:-- --:--:-- 1666 * Connection #0 to host database left intact and here's what it looks like when it fails + curl -v &quot;http://database:3000&quot; &gt; ./config/test.yml * Rebuilt URL to: http://database:3000/ * Hostname was NOT found in DNS cache % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0* Trying 172.22.0.2... * connect to 172.22.0.2 port 3000 failed: Connection refused * Failed to connect to database port 3000: Connection refused * Closing connection 0 curl: (7) Failed to connect to database port 3000: Connection refused drone_step_1 : exit code 7</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>add azure devops option under import repo/repos/project (#2026)</MESSAGE>
    <SHA>55f340ab7ee301b3e6514f1763cccd6d39143328</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: [ritik/code-1773] Added Repository Setting for Public/Private Access (#2023)</MESSAGE>
      <SHA>ea205ff7ba32d0fe462240220cff62983649099b</SHA>
      <PATCHEDFILES>
        <FILE>web/src/App.tsx</FILE>
        <FILE>web/src/AppContext.tsx</FILE>
        <FILE>web/src/AppProps.ts</FILE>
        <FILE>web/src/bootstrap.tsx</FILE>
        <FILE>web/src/components/CloneButtonTooltip/CloneButtonTooltip.tsx</FILE>
        <FILE>web/src/components/CodeSearchBar/CodeSearchBar.tsx</FILE>
        <FILE>web/src/components/RepositoryPageHeader/RepositoryPageHeader.module.scss</FILE>
        <FILE>web/src/components/RepositoryPageHeader/RepositoryPageHeader.module.scss.d.ts</FILE>
        <FILE>web/src/components/RepositoryPageHeader/RepositoryPageHeader.tsx</FILE>
        <FILE>web/src/framework/strings/stringTypes.ts</FILE>
        <FILE>web/src/i18n/strings.en.yaml</FILE>
        <FILE>web/src/pages/Repository/RepositoryContent/ContentHeader/ContentHeader.tsx</FILE>
        <FILE>web/src/pages/RepositorySettings/GeneralSettingsContent/GeneralSettingsContent.tsx</FILE>
        <FILE>web/src/pages/RepositorySettings/RepositorySettings.module.scss</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
