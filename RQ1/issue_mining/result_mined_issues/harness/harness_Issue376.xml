<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>376</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/376</ISSUEURL>
  <TITLE>Badges do not set headers that respect cache mechanisms</TITLE>
  <DESCRIPTION>If one wants to display the status of a drone-driven project, she'll use the badge integration, for example un the README.md file of her project. Unfortunately this does not work on Github, according to the following thread: https://github.com/github/markup/issues/224 For example, if I query one of my badge, here are the received headers: ``` Status Code: 200 Date: Wed, 16 Jul 2014 22:54:37 GMT Server: nginx/1.2.3 Connection: keep-alive Content-Length: 1410 Content-Type: image/png ``` Github documentation states that the caching mechanism is handled by the `Cache-Control: no-cache` header, and `Expires`, `Last-Modified` or `Etag`.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'jobatzil/fix/difstats' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#382)</MESSAGE>
    <SHA>c45890f247645d0afbaca11c414b9703f21af598</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>move pipelines, executions, triggers &amp; logs under repos (#376)</MESSAGE>
      <SHA>d15aa03dfdd7cbfad8f2824a87da1c68078350c3</SHA>
      <PATCHEDFILES>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>internal/api/auth/pipeline.go</FILE>
        <FILE>internal/api/controller/execution/controller.go</FILE>
        <FILE>internal/api/controller/execution/create.go</FILE>
        <FILE>internal/api/controller/execution/delete.go</FILE>
        <FILE>internal/api/controller/execution/find.go</FILE>
        <FILE>internal/api/controller/execution/list.go</FILE>
        <FILE>internal/api/controller/execution/update.go</FILE>
        <FILE>internal/api/controller/execution/wire.go</FILE>
        <FILE>internal/api/controller/logs/controller.go</FILE>
        <FILE>internal/api/controller/logs/find.go</FILE>
        <FILE>internal/api/controller/logs/tail.go</FILE>
        <FILE>internal/api/controller/logs/wire.go</FILE>
        <FILE>internal/api/controller/pipeline/controller.go</FILE>
        <FILE>internal/api/controller/pipeline/create.go</FILE>
        <FILE>internal/api/controller/pipeline/delete.go</FILE>
        <FILE>internal/api/controller/pipeline/find.go</FILE>
        <FILE>internal/api/controller/pipeline/update.go</FILE>
        <FILE>internal/api/controller/pipeline/wire.go</FILE>
        <FILE>internal/api/controller/repo/controller.go</FILE>
        <FILE>internal/api/controller/repo/list_pipelines.go</FILE>
        <FILE>internal/api/controller/repo/wire.go</FILE>
        <FILE>internal/api/controller/trigger/controller.go</FILE>
        <FILE>internal/api/controller/trigger/create.go</FILE>
        <FILE>internal/api/controller/trigger/delete.go</FILE>
        <FILE>internal/api/controller/trigger/find.go</FILE>
        <FILE>internal/api/controller/trigger/list.go</FILE>
        <FILE>internal/api/controller/trigger/update.go</FILE>
        <FILE>internal/api/controller/trigger/wire.go</FILE>
        <FILE>internal/api/handler/execution/create.go</FILE>
        <FILE>internal/api/handler/execution/delete.go</FILE>
        <FILE>internal/api/handler/execution/find.go</FILE>
        <FILE>internal/api/handler/execution/list.go</FILE>
        <FILE>internal/api/handler/execution/update.go</FILE>
        <FILE>internal/api/handler/logs/find.go</FILE>
        <FILE>internal/api/handler/logs/tail.go</FILE>
        <FILE>internal/api/handler/pipeline/create.go</FILE>
        <FILE>internal/api/handler/pipeline/delete.go</FILE>
        <FILE>internal/api/handler/pipeline/find.go</FILE>
        <FILE>internal/api/handler/pipeline/update.go</FILE>
        <FILE>internal/api/handler/repo/list_pipelines.go</FILE>
        <FILE>internal/api/handler/trigger/create.go</FILE>
        <FILE>internal/api/handler/trigger/delete.go</FILE>
        <FILE>internal/api/handler/trigger/find.go</FILE>
        <FILE>internal/api/handler/trigger/list.go</FILE>
        <FILE>internal/api/handler/trigger/update.go</FILE>
        <FILE>internal/api/openapi/pipeline.go</FILE>
        <FILE>internal/api/openapi/plugin.go</FILE>
        <FILE>internal/api/openapi/space.go</FILE>
        <FILE>internal/api/request/pipeline.go</FILE>
        <FILE>internal/router/api.go</FILE>
        <FILE>internal/store/database/migrate/ci/ci_migrations.sql</FILE>
        <FILE>internal/store/database/pipeline.go</FILE>
        <FILE>mocks/mock_client.go</FILE>
        <FILE>mocks/mock_store.go</FILE>
        <FILE>types/pipeline.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
