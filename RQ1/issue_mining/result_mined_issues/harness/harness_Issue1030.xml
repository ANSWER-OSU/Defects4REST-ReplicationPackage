<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1030</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/1030</ISSUEURL>
  <TITLE>0.4.0 Meta Issue</TITLE>
  <DESCRIPTION>This is a meta issue for 0.4.0 There are a lot of features that have not yet been ported to the 0.4 branch. Instead of tracking individually, we will track these in a meta-issue. Here are just a few and I'm sure more will be added: - [x] migrate Gitlab to 0.4 - [ ] migrate Bitbucket to 0.4 - [ ] yaml condition should include `on_success` and `on_failure` for notification plugins - [x] load config from env vars (as opposed to toml) using new `pkg/config` [pull request #1032] - [ ] re-enable multiple Docker nodes in the yaml. Currently accepts a `string`. Change to `[]string` And some bugs / features that need to be worked out: - [x] cancel a build leaves behind artifacts. The drone-build container should trap the kill event and perform cleanup before it shuts down - [x] cancel build behavior needs to change. We should be able to cancel a pending (in queue) build including all matrix builds. Once a build is started, however, we should only be able to cancel each individual matrix build. There are technical reasons for this. I can explain - [x] build timeout should be moved to the `drone-build` container instead of inside the Drone web app - [ ] verify plugin white-list works - [ ] verify global environment variables work And some UI stuff: - [x] finish styling the build page - [x] if only a single build (ie no build matrix) should immediately display build output And document the following: - [x] document api via swagger spec at `doc/swagger.json` - [x] document how to install and setup 0.4 - [x] document how to configure build yaml in 0.4 In addition, the following plugins need to be migrated to the new plugin model. Note that we will not hold up the `0.4` release on the account of plugins, since they can be added at any time without any changes to the core Drone codebase: - [ ] Email plugin at `drone-plugins/drone-email` - [ ] Hipchat plugin at `drone-plugins/drone-hipchat` - [ ] Heroku plugin using [hk](https://github.com/heroku/hk) at `drone-plugins/drone-heroku` - [x] Git Push plugin at `drone-plugins/drone-git-push` - [ ] Rsync Deploy plugin at `drone-plugins/drone-rsync` - [ ] Flowdock plugin at `drone-plugins/drone-flowdock` - [ ] NPM plugin at `drone-plugins/drone-npm` - [ ] Pypi plugin at `drone-plugins/drone-pypi` - [ ] Bintray plugin at `drone-plugins/drone-bintray` - [ ] GitHub release plugin at `drone-plugins/drone-github-release`</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>93</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Make force merge button red + Fix broken layout when PR desc has no-wrap-able line(s) (#1027)</MESSAGE>
    <SHA>4af8912e6a69036db91ae1e54a64e40231135f1e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: [code-1362]: fix scroll button (#1030)</MESSAGE>
      <SHA>ab364dcd390d4c793d8b3b1a4a7aa09f3c7a0d03</SHA>
      <PATCHEDFILES>
        <FILE>web/src/components/LogViewer/LogViewer.tsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
