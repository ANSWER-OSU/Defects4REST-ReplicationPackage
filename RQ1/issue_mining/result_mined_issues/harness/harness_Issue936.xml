<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>936</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/936</ISSUEURL>
  <TITLE>[DOCS] Using nginx config from the docs causes drone to redirect to wrong page</TITLE>
  <DESCRIPTION>Hey, I've set up a bitbucket configuration for drone. I currently forward all data from the encrypted port 443 on my subdomain to an unencrypted port used by drone internally. Unfortunately, this means that I'm getting forwarded to &quot;/api/auth/bitbucket.org&quot; on port 80 of my subdomain instead of to port 443. I'm using nginx for auth and other checks so it has to go through nginx unfortunately. I hope that makes sense... As mentioned by @bradrydzewski below, the docs should include `X-Forwarded-Proto`. The docs where I got my config from are located here: http://readme.drone.io/setup/misc/nginx/</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add func to git service to count repo objects and read repo size (#886)</MESSAGE>
    <SHA>c58e82672b8941af04436eb61b6583772da93903</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[Webhook] Add UID field (#936)</MESSAGE>
      <SHA>53555544a2eb4029870ce0b622225c127978117d</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/webhook/create.go</FILE>
        <FILE>app/api/controller/webhook/delete.go</FILE>
        <FILE>app/api/controller/webhook/find.go</FILE>
        <FILE>app/api/controller/webhook/find_execution.go</FILE>
        <FILE>app/api/controller/webhook/list_executions.go</FILE>
        <FILE>app/api/controller/webhook/retrigger_execution.go</FILE>
        <FILE>app/api/controller/webhook/update.go</FILE>
        <FILE>app/api/handler/webhook/delete.go</FILE>
        <FILE>app/api/handler/webhook/find.go</FILE>
        <FILE>app/api/handler/webhook/find_execution.go</FILE>
        <FILE>app/api/handler/webhook/list_executions.go</FILE>
        <FILE>app/api/handler/webhook/retrigger_execution.go</FILE>
        <FILE>app/api/handler/webhook/update.go</FILE>
        <FILE>app/api/openapi/webhook.go</FILE>
        <FILE>app/api/request/webhook.go</FILE>
        <FILE>app/router/api.go</FILE>
        <FILE>app/store/database.go</FILE>
        <FILE>app/store/database/migrate/migrate.go</FILE>
        <FILE>app/store/database/migrate/migrate_0039_alter_table_webhooks_uid.go</FILE>
        <FILE>app/store/database/migrate/migrate_0039_alter_table_webhooks_uid_test.go</FILE>
        <FILE>app/store/database/migrate/postgres/0039_alter_table_webhooks_uid.down.sql</FILE>
        <FILE>app/store/database/migrate/postgres/0039_alter_table_webhooks_uid.up.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0039_alter_table_webhooks_uid.down.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0039_alter_table_webhooks_uid.up.sql</FILE>
        <FILE>app/store/database/testdata/repos.json</FILE>
        <FILE>app/store/database/testdata/spaces.json</FILE>
        <FILE>app/store/database/testdata/users.json</FILE>
        <FILE>app/store/database/webhook.go</FILE>
        <FILE>cli/operations/migrate/current.go</FILE>
        <FILE>cli/operations/migrate/migrate.go</FILE>
        <FILE>cli/operations/migrate/to.go</FILE>
        <FILE>types/check/common.go</FILE>
        <FILE>types/enum/webhook.go</FILE>
        <FILE>types/webhook.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
