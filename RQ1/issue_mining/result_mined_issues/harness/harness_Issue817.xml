<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>817</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/817</ISSUEURL>
  <TITLE>Docker publish assumes sudo is installed</TITLE>
  <DESCRIPTION>First off thanks for adding the docker publish plugin. I think it will be really useful for many people. However the docker publish plugin doesn't seem to be compatible with all base images. When using the default node image the following error is produced: ``` $ type -p docker || wget -qO- https://get.docker.io/builds/Linux/x86_64/docker-1.3.tgz |sudo tar zxf - -C / /usr/local/bin/drone: line 86: sudo: command not found ``` Here is my .drone.yml ``` image: node:latest script: - echo $DRONE_COMMIT - npm install gulp -g - npm install - gulp test publish: docker: dockerfile: Dockerfile docker_host: 0.0.0.0 docker_port: 2375 docker_version: 1.3 registry_host: mysite.com registry_protocol: https registry_login: true registry_login_uri: /registry/v1/ username: $$registry_user password: $$registry_pass image_name: myImage push_latest: true keep_builds: false tag: $$DRONE_COMMIT ```</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>215</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: [code-1099]: fix bypass list (#814)</MESSAGE>
    <SHA>a9895959ca593d81fc4a9da7a8e26ac77572ca97</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[code-892] fix content type for JSONDynamicArray (#817)</MESSAGE>
      <SHA>97b554acab9b55af5b89cab137d7d24efe031780</SHA>
      <PATCHEDFILES>
        <FILE>app/api/render/render.go</FILE>
        <FILE>app/api/render/render_test.go</FILE>
        <FILE>git/adapter/blame_int_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
