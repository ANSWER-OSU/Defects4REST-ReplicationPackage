<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3466</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/3466</ISSUEURL>
  <TITLE>Cannot create repository when using an external drive</TITLE>
  <DESCRIPTION>## Context I am using a machine with little space only to run programs via Docker, I save the data on an external disk using volumes. Trying to do this with Gitness I get an error when creating a repository. Using the internal storage, there is no problem, but linking the volume to a directory on the external disk is a problem. **This should not be a permissions issue**, as some files and directories have been generated by Gitness. ## Current behavior When I try to create a repository, I get the following error: UI: ![image](https://github.com/harness/gitness/assets/25767185/212d9c07-d47b-4647-80b9-145dc55ae2f8) Container logs: ``` gitness | {&quot;level&quot;:&quot;warn&quot;,&quot;time&quot;:&quot;2024-01-21T21:18:02.925943609Z&quot;,&quot;message&quot;:&quot;operation resulted in user facing error. Internal details: error creating repository on git: failed to create repo on: failed to setup symlink for hook 'pre-receive' ('/data/repos/k0/ln/is9pe61py0t4119hm2setelm3knohdtie2t5rw.git/hooks/pre-receive' -&gt; '/app/gitness'): %!s(MISSING)&quot;} ``` ## Expected behavior The repository is created normally. ## Additional info **Gitness version:** v2.22.0 **Docker version:** 20.10.12</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CODE-3150]: Validate repo identifier while importing repositories (#3445) * feat: [CODE-3150]: Validate repo identifier while importing repositories</MESSAGE>
    <SHA>02fe8c076f0573923a6f0f4bc9542db9c23b1fcd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CDE-600]: Adding support to generate and populate setup yaml file in the infra config response. (#3466) * feat: [CDE-600]: Adding support to generate and populate setup yaml file in the infra config response.</MESSAGE>
      <SHA>f237a1f25650c542a8d0cc6d061bfc984d7a91b1</SHA>
      <PATCHEDFILES>
        <FILE>app/services/infraprovider/find.go</FILE>
        <FILE>infraprovider/docker_provider.go</FILE>
        <FILE>infraprovider/infra_provider.go</FILE>
        <FILE>types/infra_provider.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
