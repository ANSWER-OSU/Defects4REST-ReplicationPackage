<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3299</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/3299</ISSUEURL>
  <TITLE>Share data between workflows without privileged mode</TITLE>
  <DESCRIPTION>We start from this example workflow composed of two pipelines, the second one depending on the first one. ```yaml --- kind: pipeline name: simulate build steps: - name: build image: alpine commands: - echo &quot;Line 1&quot; &gt; file.txt - cat file.txt --- kind: pipeline name: simulate package steps: - name: deploy image: alpine commands: - echo &quot;Line 2&quot; &gt;&gt; file.txt - cat file.txt depends_on: - simulate build ``` If we run it as is in the first `cat file.txt` it will show `Line 1` and in the second `cat file.txt` it will show `Line 2`. That is, the pipelines are independent and data is not shared between them. Right now if I wanted to share data between both pipelines I would have to do something like the following. ```yaml --- kind: pipeline name: simulate build steps: - name: build image: alpine volumes: - name: data path: /data commands: - echo &quot;Line 1&quot; &gt; /data/file.txt - cat /data/file.txt volumes: - name: data host: path: /tmp --- kind: pipeline name: simulate package steps: - name: deploy image: alpine volumes: - name: data path: /data commands: - echo &quot;Line 2&quot; &gt;&gt; /data/file.txt - cat /data/file.txt volumes: - name: data host: path: /tmp depends_on: - simulate build ``` While this works correctly it has the problem that it requires the repository to be trusted in Drone in order to mount a host volume for use as temporary volume. Also, since it is a standard host mount and not a temporary mount, the volume is not deleted when the workflow is finished running. It would be very interesting to have some way to share files between different pipelines without the need for the repository to be marked as trusted, without the need to use a volume on the host and using only temporary volumes.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[feat]: [AH-147]: maven api base (#3282) * [feat]: [AH-147]: comment out file manager dependency * [feat]: [AH-147]: comment out file manager dependency * [feat]: [AH-147]: comment out file manager dependency * [feat]: [AH-147]: remote methods * [feat]: [AH-147]: maven apis * Merge branch 'main' of https://git0.harness.io/l7B_kbSEQD2wjrM7PShm5w/PROD/Harness_Commons/gitness into maven-apis * [feat]: [AH-147]: maven apis * [feat]: [AH-147]: maven apis * [feat]: [AH-147]: maven api contract * [feat]: [AH-147]: maven api contract * [feat]: [AH-147]: maven api contract * [feat]: [AH-147]: maven api contract</MESSAGE>
    <SHA>eb778919ee00773df5eb191d55d247dfa7df4a40</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [code-2912]: improved log message for usage metrics workers (#3299) * improved log message for usage metrics workers</MESSAGE>
      <SHA>72c5e2b0f6a7379b389ebc49059c8db670b4a368</SHA>
      <PATCHEDFILES>
        <FILE>app/services/usage/usage.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
