<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2637</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2637</ISSUEURL>
  <TITLE>DRONE_STAGE_NAME/NUMBER not passed to plugins</TITLE>
  <DESCRIPTION>If I understand it correctly, `DRONE_STAGE_NUMBER` would be the replacement for 0.8's `DRONE_JOB_NUMBER`. Apparantly this new variable isn't available to plugins though: https://github.com/Drillster/drone-volume-cache/issues/23</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>14</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CDE-284]: Return infra by unmarshalling it from meetadata (#2638) * feat: [CDE-284]: fix lint * feat: [CDE-284]: Return infra by unmarshalling it from meetadata</MESSAGE>
    <SHA>636f6a984729bd22d2947ccafd5e60322a466b28</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CDE-202]: infra provider resource cache (#2637) * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache * feat: [CDE-202]: infra provider resource cache</MESSAGE>
      <SHA>5cfd41ae1a494a245d19e8e03947f649e3b64dec</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/gitspace/create.go</FILE>
        <FILE>app/api/controller/gitspace/find.go</FILE>
        <FILE>app/api/controller/infraprovider/create_resources.go</FILE>
        <FILE>app/gitspace/orchestrator/orchestrator_impl.go</FILE>
        <FILE>app/services/gitspace/find.go</FILE>
        <FILE>app/services/gitspaceinfraevent/handler.go</FILE>
        <FILE>app/services/infraprovider/create.go</FILE>
        <FILE>app/services/infraprovider/update.go</FILE>
        <FILE>app/store/cache.go</FILE>
        <FILE>app/store/cache/wire.go</FILE>
        <FILE>app/store/database.go</FILE>
        <FILE>app/store/database/gitspace_config.go</FILE>
        <FILE>app/store/database/infra_provider_resource.go</FILE>
        <FILE>app/store/database/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>types/gitspace.go</FILE>
        <FILE>types/infra_provider.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
