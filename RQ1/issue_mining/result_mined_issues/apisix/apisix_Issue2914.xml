<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2914</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2914</ISSUEURL>
  <TITLE>test: some test cases of chash-balance.t are unreasonable</TITLE>
  <DESCRIPTION>### Issue description some test cases of chash-balance.t are unreasonable. ### Environment * apisix version (cmd: `apisix version`): master * OS: ### Minimal test code / Steps to reproduce the issue https://github.com/apache/apisix/blob/master/t/node/chash-balance.t `=== TEST 4: hit routes` When the upstream weights are all the same, the test result should not be hard-coded as ` [{&quot;count&quot;:12,&quot;port&quot;:&quot;1982&quot;}]` `=== TEST 8: hit routes with querystring` When the upstream weights are all the same, the test result should not be hard-coded as ` [{&quot;count&quot;:5,&quot;port&quot;:&quot;1982&quot;},{&quot;count&quot;:8,&quot;port&quot;:&quot;1981&quot;},{&quot;count&quot;:5,&quot;port&quot;:&quot;1980&quot;}]` `=== TEST 10: hit routes with args` When the upstream weights are all the same, the test result should not be hard-coded as ` [{&quot;count&quot;:5,&quot;port&quot;:&quot;1982&quot;},{&quot;count&quot;:7,&quot;port&quot;:&quot;1981&quot;},{&quot;count&quot;:6,&quot;port&quot;:&quot;1980&quot;}]`</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>ci: make it work under OpenResty 1.19 (#2768)</MESSAGE>
    <SHA>44855ec1a79efae931151a2f578531cb3f123133</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>test: improve chash-balance cases Fix #2914</MESSAGE>
      <SHA>7b618c23a016a6c954e9a2683a387700a60c0722</SHA>
      <PATCHEDFILES>
        <FILE>t/node/chash-balance.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>test: improve chash-balance cases (#2920) Fix #2914</MESSAGE>
      <SHA>a019b4e4d06c2e6aa8736e774ad60e6578b12e18</SHA>
      <PATCHEDFILES>
        <FILE>t/node/chash-balance.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
