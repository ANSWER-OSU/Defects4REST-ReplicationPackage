<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3022</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3022</ISSUEURL>
  <TITLE>feat: support to export the JSON schema of APISIX via `CLI`</TITLE>
  <DESCRIPTION>discuss mail: https://lists.apache.org/thread.html/rb1c19fe9b6e51ede3b5aead122e2bcd4de6249f42b971eabfb8a79ac%40%3Cdev.apisix.apache.org%3E Because the dashboard project requires schema verification for plug-ins, upstreams, etc., and the definition of the schema is written in the Lua code of Apache APISIX. Therefore, we need a tool to generate a JSON schema file based on the Lua code of Apache APISIX so that it can be used by the Go and front-end code of the dashboard project. If the developer want to sync the JSON schema, he/she should follow this step: 1. export JSON schema file: call `apisix export-jsonschema`, we will get the file `schema.json` 2. copy the file `schema.json` from apisix to the dashboard folder 3. start the dashboard those steps are much safer. and the dashboard does not need any update.</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>refactor: don't force plugin to use /vn prefix (#3081)</MESSAGE>
    <SHA>7c158b739a4cd30e56bd286854e2d3e48b1b552a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: expose schema via control API Close #3022 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>90f45f581110e288e53d3001f5b01c3f7f5a5e13</SHA>
      <PATCHEDFILES>
        <FILE>apisix/control/v1.lua</FILE>
        <FILE>apisix/core/table.lua</FILE>
        <FILE>apisix/plugin.lua</FILE>
        <FILE>doc/control-api.md</FILE>
        <FILE>t/control/schema.t</FILE>
        <FILE>t/core/table.t</FILE>
        <FILE>t/lib/test_admin.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: expose schema via control API (#3092) Close #3022</MESSAGE>
      <SHA>357a2efa68d5cbb5c74f566cf161e6fbc1116083</SHA>
      <PATCHEDFILES>
        <FILE>apisix/control/v1.lua</FILE>
        <FILE>apisix/core/table.lua</FILE>
        <FILE>apisix/plugin.lua</FILE>
        <FILE>doc/control-api.md</FILE>
        <FILE>t/control/schema.t</FILE>
        <FILE>t/core/table.t</FILE>
        <FILE>t/lib/test_admin.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
