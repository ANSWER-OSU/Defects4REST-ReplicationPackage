<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5061</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/5061</ISSUEURL>
  <TITLE>bug：nacos.lua 脚本 同样的服务名称不同分组的实例，会存储到同一个nacos服务节点中</TITLE>
  <DESCRIPTION>### Issue description ![image](https://user-images.githubusercontent.com/30044604/133236641-6c58ca67-7c78-4b3b-a679-bdf66a8fbef1.png) 同样的服务名称，不同分组，通过nacos.lua分组后，不同分组的实例都会注册到同一个服务底下。 ### Environment - apisix version (cmd: `apisix version`): - OS (cmd: `uname -a`): - OpenResty / Nginx version (cmd: `nginx -V` or `openresty -V`): - etcd version, if have (cmd: run `curl http://127.0.0.1:9090/v1/server_info` to get the info from server-info API): - apisix-dashboard version, if have: - luarocks version, if the issue is about installation (cmd: `luarocks --version`):</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>8</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(ssl): match sni in case-insensitive way (#5074)</MESSAGE>
    <SHA>c907ef0f663eba5f10686e13e431bd007e7c5ac3</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix #5061</MESSAGE>
      <SHA>048733f15b77ca6bd30d61973f904c07afb7adcb</SHA>
      <PATCHEDFILES>
        <FILE>apisix/discovery/nacos.lua</FILE>
        <FILE>apisix/upstream.lua</FILE>
        <FILE>t/discovery/nacos.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
