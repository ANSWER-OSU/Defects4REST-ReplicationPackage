<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7785</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/7785</ISSUEURL>
  <TITLE>bug: The `/` in the log will be added with an extra `\` when enabled file-logger and sls-logger</TITLE>
  <DESCRIPTION>### Current Behavior 当时使用了file-logger和sls-logger会出现日志里的/会被加个\ ### Expected Behavior 希望能按正常的日志出输到文件和阿里云的sls ### Error Logs content:{&quot;service_id&quot;:&quot;&quot;,&quot;latency&quot;:0.99992752075195,&quot;request&quot;:{&quot;headers&quot;:{&quot;if-modified-since&quot;:&quot;Fri, 16 May 2014 15:12:48 GMT&quot;,&quot;upgrade-insecure-requests&quot;:&quot;1&quot;,&quot;cache-control&quot;:&quot;max-age=0&quot;,&quot;accept-encoding&quot;:&quot;gzip, deflate&quot;,&quot;accept&quot;:&quot;text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/avif,image\/webp,image\/apng,*\/*;q=0.8,application\/signed-exchange;v=b3;q=0.9&quot;,&quot;user-agent&quot;:&quot;Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/85.0.4183.121 Safari\/537.36&quot;,&quot;accept-language&quot;:&quot;zh-CN,zh;q=0.9&quot;,&quot;connection&quot;:&quot;keep-alive&quot;,&quot;host&quot;:&quot;60.test.com:9080&quot;,&quot;if-none-match&quot;:&quot;\&quot;53762af0-12e1\&quot;&quot;},&quot;method&quot;:&quot;GET&quot;,&quot;uri&quot;:&quot;\/&quot;,&quot;url&quot;:&quot;http:\/\/60.test.com:9080\/&quot;,&quot;querystring&quot;:{},&quot;size&quot;:543},&quot;client_ip&quot;:&quot;192.168.139.1&quot;,&quot;upstream&quot;:&quot;192.168.139.130:80&quot;,&quot;upstream_latency&quot;:1,&quot;response&quot;:{&quot;headers&quot;:{&quot;date&quot;:&quot;Wed, 24 Aug 2022 03:54:48 GMT&quot;,&quot;etag&quot;:&quot;\&quot;53762af0-12e1\&quot;&quot;,&quot;connection&quot;:&quot;close&quot;,&quot;server&quot;:&quot;APISIX\/2.15.0&quot;,&quot;last-modified&quot;:&quot;Fri, 16 May 2014 15:12:48 GMT&quot;},&quot;size&quot;:182,&quot;status&quot;:304},&quot;server&quot;:{&quot;hostname&quot;:&quot;Harbor&quot;,&quot;version&quot;:&quot;2.15.0&quot;},&quot;apisix_latency&quot;:0,&quot;route_id&quot;:&quot;422421849201183291&quot;,&quot;start_time&quot;:1661313288377 ### Steps to Reproduce 只需要配置file-logger和sls-logger就会有这种情况 ### Environment - APISIX version (run `apisix version`): - Operating system (run `uname -a`): - OpenResty / Nginx version (run `openresty -V` or `nginx -V`): - etcd version, if relevant (run `curl http://127.0.0.1:9090/v1/server_info`): - APISIX Dashboard version, if relevant: - Plugin runner version, for issues related to plugin runners: - LuaRocks version, for installation issues (run `luarocks --version`):</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>146</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>ci: kafka should register port in the zookeeper same as exposed (#8672)</MESSAGE>
    <SHA>b440a06e0b01ed3b49233e6bf6971f13056ca7e1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: remove backslash before slash when encoding (#8684) Fixes https://github.com/apache/apisix/issues/7785</MESSAGE>
      <SHA>4131fbf641c02eb4209ffa9cddbe0bea247e990b</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/json.lua</FILE>
        <FILE>t/admin/api.t</FILE>
        <FILE>t/core/json.t</FILE>
        <FILE>t/gm/gm.t</FILE>
        <FILE>t/plugin/ext-plugin/sanity.t</FILE>
        <FILE>t/plugin/real-ip.t</FILE>
        <FILE>t/stream-node/sanity.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
