<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4611</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/4611</ISSUEURL>
  <TITLE>bug: response header has duplicate</TITLE>
  <DESCRIPTION>### Issue description The header returned by response has duplicate ![微信图片_20210715194502](https://user-images.githubusercontent.com/7685507/125782813-9061b3bc-b465-4e85-b08f-e2a098add6e0.png)</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs(cors): update expose_headers description (#4937)</MESSAGE>
    <SHA>a062a9c83bad20672babd0b0b64484220dcac16c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix(debug-mode): duplicate response headers in debug mode Closes #4611</MESSAGE>
      <SHA>1917184f00215bf978e411ff87d2708c34fe9b07</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/response.lua</FILE>
        <FILE>apisix/plugin.lua</FILE>
        <FILE>t/debug/debug-mode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
