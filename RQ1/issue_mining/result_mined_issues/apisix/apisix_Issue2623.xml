<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2623</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2623</ISSUEURL>
  <TITLE>bug: the latest version of the skywalking plugin always outputs error log</TITLE>
  <DESCRIPTION>### Issue description I pulled the latest code and found a persistent error level output in the logs/error.log ``` 2020/11/04 14:54:50 [error] 20481#20481: *28563 [lua] client.lua:92: reportServiceInstance(): Instance report fails, connection refused, context: ngx.timer 2020/11/04 14:54:53 [error] 20481#20481: *28739 [lua] client.lua:92: reportServiceInstance(): Instance report fails, connection refused, context: ngx.timer 2020/11/04 14:54:56 [error] 20481#20481: *28918 [lua] client.lua:92: reportServiceInstance(): Instance report fails, connection refused, context: ngx.timer ``` I found this to be the code for the skywalking module, even though I did not configure the `skywalking` plugin The function call stack is as follows: `skywalking.lua#init()` --&gt; `client.lua#startBackendTimer()` --&gt; `client.lua#reportServiceInstance()` It may be necessary to verify that the user has configured the `skywalking` plugin during the `init` phase. ### Environment * apisix version (cmd: `apisix version`): lastest * OS: centos7 ### Minimal test code / Steps to reproduce the issue just start apisix, then watch the error.log ### What's the actual result? (including assertion message &amp; call stack if applicable) ### What's the expected result? Do not export any logs from the skywalking module without the skywalking plugin enabled.</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>test: make CI pass again (#2619)</MESSAGE>
    <SHA>366d5040cf10de31961bf5146dec626607d3bbfd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>change: disable skywalking by default. Close #2623.</MESSAGE>
      <SHA>fba3ac14f6371ef0343ad86cd533e94cc83c4be3</SHA>
      <PATCHEDFILES>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>doc/plugins/skywalking.md</FILE>
        <FILE>doc/zh-cn/plugins/skywalking.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/plugin/skywalking.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: disable skywalking by default. Close #2623.</MESSAGE>
      <SHA>ce38cfb704c1d43bf25084c63278201ee3cb026a</SHA>
      <PATCHEDFILES>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>doc/plugins/skywalking.md</FILE>
        <FILE>doc/zh-cn/plugins/skywalking.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/plugin/skywalking.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: disable skywalking by default. Close #2623.</MESSAGE>
      <SHA>cad94e14e2add893989780bc278d205709399741</SHA>
      <PATCHEDFILES>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>doc/plugins/skywalking.md</FILE>
        <FILE>doc/zh-cn/plugins/skywalking.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/plugin/skywalking.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>change: disable skywalking by default. (#2632) * fix: disable skywalking by default. Close #2623. * trailing sw * clean test</MESSAGE>
      <SHA>ebf0563a40dd79ce37ba52c47e018f38c4232d31</SHA>
      <PATCHEDFILES>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>doc/plugins/skywalking.md</FILE>
        <FILE>doc/zh-cn/plugins/skywalking.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/admin/plugins.t</FILE>
        <FILE>t/debug/debug-mode.t</FILE>
        <FILE>t/plugin/skywalking.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
