<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3463</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3463</ISSUEURL>
  <TITLE>[DISCUSS] Should have a unified installation path</TITLE>
  <DESCRIPTION>We have too many installation paths now. Like the line 20 to 32 of /bin/apisix : ``` shell script if [ -s './apisix/cli/apisix.lua' ]; then # install via source APISIX_LUA=./apisix/cli/apisix.lua elif [ -s '/usr/share/lua/5.1/apisix/cli/apisix.lua' ]; then # install via luarock APISIX_LUA=/usr/share/lua/5.1/apisix/cli/apisix.lua elif [ -s '/usr/local/apisix/deps/share/lua/5.1/apisix/cli/apisix.lua' ]; then # install via shell APISIX_LUA=/usr/local/apisix/deps/share/lua/5.1/apisix/cli/apisix.lua else # install via official rpm or docker APISIX_LUA=/usr/local/apisix/apisix/cli/apisix.lua fi ``` Skip of the first one, we have : - `/usr/share/lua/5.1` : by `luarocks make` or `make install` (at CI) - `/usr/local/apisix/` : by rpm or docker - `/usr/local/apisix/deps/share/lua/5.1/` : by `./utils/install-apisix.sh install` Same problem with the deps : - `/usr/share/lua/5.1` : by `luarocks install ` (at CI) - `/usr/local/apisix/deps/share/lua/5.1/` : by rpm or docker - `./` : by `make deps` (I cant even install deps to my system by `make`) Should we integrate into `/usr/local/apisix/` or another path ?</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>217</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs(cors): update expose_headers description (#4937)</MESSAGE>
    <SHA>a062a9c83bad20672babd0b0b64484220dcac16c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>change: drop the support of shell script installation Fix #3463 See https://lists.apache.org/thread.html/rc3a939b32de90f8acf8a324a21be2d66b62c805143e13b5efa9cde0d%40%3Cdev.apisix.apache.org%3E Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>b5473c9058410ad1e2f99008bb94639e76fbd907</SHA>
      <PATCHEDFILES>
        <FILE>bin/apisix</FILE>
        <FILE>ci/linux_apisix_master_luarocks_runner.sh</FILE>
        <FILE>utils/install-apisix.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>change: drop the support of shell script installation Fix #3463 See https://lists.apache.org/thread.html/rc3a939b32de90f8acf8a324a21be2d66b62c805143e13b5efa9cde0d%40%3Cdev.apisix.apache.org%3E Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>ad89b1d26db1f3d819067662abeb23c5fb4bbd97</SHA>
      <PATCHEDFILES>
        <FILE>bin/apisix</FILE>
        <FILE>ci/linux_apisix_master_luarocks_runner.sh</FILE>
        <FILE>utils/install-apisix.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
