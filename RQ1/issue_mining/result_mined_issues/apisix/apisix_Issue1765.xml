<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1765</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/1765</ISSUEURL>
  <TITLE>feature: add a new option, decide if we remove the &quot;/&quot; at the end of the URI before route mathing</TITLE>
  <DESCRIPTION>here is the discuss mail: https://lists.apache.org/thread.html/rd89e4e0a2d59e183afa00c8c1badf213ef45c0992f841046e129a965%40%3Cdev.apisix.apache.org%3E add new option `delete_uri_tail_slash` in `conf/config.yaml`. ```yaml delete_uri_tail_slash: true # delete the '/' at the end of the URI router: http: 'radixtree_uri' # radixtree_uri: match route by uri(base on radixtree) # radixtree_host_uri: match route by host + uri(base on radixtree) ssl: 'radixtree_sni' # radixtree_sni: match route by SNI(base on radixtree) ```</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>35</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>bugfix: read the request body from the temporary file if it was cached. (#1863)</MESSAGE>
    <SHA>20207c8108b85f8481375315ea324153589276ec</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feature: add a new option, decide if we remove the &quot;/&quot; at the end of â€¦ (#1766) * feature: add a new option, decide if we remove the &quot;/&quot; at the end of the URI before route matching. fix #1765</MESSAGE>
      <SHA>f9a8a26dd4ba6f114c382a0157ae6ba956ad26dd</SHA>
      <PATCHEDFILES>
        <FILE>apisix/init.lua</FILE>
        <FILE>conf/config.yaml</FILE>
        <FILE>t/lib/server.lua</FILE>
        <FILE>t/router/radixtree-uri-keep-end-slash.t</FILE>
        <FILE>t/router/radixtree-uri-sanity.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
