<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1855</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/1855</ISSUEURL>
  <TITLE>Support verify ssl option parameter in Keycloak Plugin</TITLE>
  <DESCRIPTION>When Keycloak is deployed in an HTTPs environment the Keycloak plugin fails to resolve SSL certs with the following error: ``` lua ssl certificate verify error: (20: unable to get local issuer certificate), ``` To resolve this problem either the Nginx should have the following configurations ``` lua_ssl_verify_depth 2; lua_ssl_trusted_certificate /etc/ssl/certs/ca-certificates.pem; ``` **OR** configure SSL verify to `false` while making the HTTP call to Keycloak server</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>20</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: add '**' for alllow_headers and complete docs (#2004) fix #1983</MESSAGE>
    <SHA>2ac47735a19f8ab26bfeff53df1f547b6a177665</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: Support SSL verify option to Authz Keycloak plugin (#1924) Fix #1855</MESSAGE>
      <SHA>712a23f9b02e46720ff87be974d67d5ff9be173e</SHA>
      <PATCHEDFILES>
        <FILE>.travis/linux_openresty_runner.sh</FILE>
        <FILE>.travis/linux_tengine_runner.sh</FILE>
        <FILE>apisix/plugins/authz-keycloak.lua</FILE>
        <FILE>doc/plugins/authz-keycloak.md</FILE>
        <FILE>t/plugin/authz-keycloak.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
