<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3432</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3432</ISSUEURL>
  <TITLE>test unstable: t/admin/plugins-reload</TITLE>
  <DESCRIPTION>### Issue description According to https://github.com/apache/apisix/pull/3404/checks?check_run_id=1774158810 ``` # Failed test 'TEST 3: reload plugins when attributes changed - response_body - response is expected (repeated req 0, req 0)' # at /home/runner/work/apisix/apisix/test-nginx/lib/Test/Nginx/Socket.pm line 1589. # @@ -1,2 +1,2 @@ # done # -done # +recursive # Looks like you failed 1 test of 25. t/admin/plugins-reload.t .................. Dubious, test returned 1 (wstat 256, 0x100) Failed 1/25 subtests ``` I couldn't find which place could print out `recursive`... ### Environment * OpenResty / Nginx version: openresty 1.15</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: when called checker:get_target_status got err, we should log it~ (#3424) Co-authored-by: nieyong &lt;nieyong@staff.weibo.com&gt;</MESSAGE>
    <SHA>ea8eef86a39d6df9a2e22d3cba8513271d2bd6f5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>chore: both 'done' &amp; 'recursive' mean the event is delivered Let's use 'done' all the way to make tests happy. Fix #3432. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>1b200a1d08a8e7834392e3b3d9273f0c917564e7</SHA>
      <PATCHEDFILES>
        <FILE>apisix/admin/init.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>chore: both 'done' &amp; 'recursive' mean the event is delivered (#3433) Let's use 'done' all the way to make tests happy. Fix #3432. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>ec5b7035006f9612b9e1a6706763ea46c3491c7d</SHA>
      <PATCHEDFILES>
        <FILE>apisix/admin/init.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
