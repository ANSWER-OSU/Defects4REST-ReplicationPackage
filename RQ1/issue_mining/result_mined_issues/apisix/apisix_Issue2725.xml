<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2725</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2725</ISSUEURL>
  <TITLE>bug: after enable jwt-auth plugin, route' uri cannot be set to &quot;/*&quot;</TITLE>
  <DESCRIPTION>### Issue description enabled the jwt-auth plugin, if create a route which uri is `/*`, when get the jwt's token will return 401, but the other uri don't have this problem. ```shell $curl http://127.0.0.1:9080/apisix/admin/routes/1 -H 'X-API-KEY: edd1c9f034335f136f87ad84b625c8f1' -X PUT -d ' { &quot;methods&quot;: [&quot;GET&quot;], &quot;uri&quot;: &quot;/*&quot;, &quot;plugins&quot;: { &quot;jwt-auth&quot;: {} }, &quot;upstream&quot;: { &quot;type&quot;: &quot;roundrobin&quot;, &quot;nodes&quot;: { &quot;127.0.0.1:9797&quot;: 1 } } }' ``` get token ``` $curl http://127.0.0.1:9080/apisix/plugin/jwt/sign?key=user-key -i HTTP/1.1 401 Unauthorized ... ... {&quot;message&quot;:&quot;Missing JWT token in request&quot;} ``` ### Environment * apisix version (cmd: `apisix version`): mater * OS:</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>ci: self host openid configuration (#2698) Also split long test</MESSAGE>
    <SHA>a2fa3ff89d886020a317f7e7f024756296e9861d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: user's route was prior to the plugin's one Close #2725.</MESSAGE>
      <SHA>0ab371db44ef4b158a001108aa01bd393b70a917</SHA>
      <PATCHEDFILES>
        <FILE>apisix/init.lua</FILE>
        <FILE>t/plugin/plugin.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
