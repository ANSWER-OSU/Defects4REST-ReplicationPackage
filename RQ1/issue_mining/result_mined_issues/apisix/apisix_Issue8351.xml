<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8351</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/8351</ISSUEURL>
  <TITLE>bug: when using the proxy-mirror plugin, some domain resolution fails in Kubernetes.</TITLE>
  <DESCRIPTION>## Describe In k8s, the proxy-mirror does not support resolving the following domains: * service.namespace * service.namespace.svc The same problem as #7796, as far as I know, this problem does not exist in APISIX 3.0。 Whether to consider fixing this problem in version APISIX 2.15.x？ ### Error Logs ![8a94c1a9-8d01-4dda-b50e-ae48a230016d](https://user-images.githubusercontent.com/79972061/202406293-b18972b5-79d3-408f-94e2-773c0512ec93.jpeg) ### Environment - APISIX version (run `apisix version`): 2.15.x</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>chore: update the link in gen-vote-contents.sh (#8333)</MESSAGE>
    <SHA>1bcc931a56bda1afb06db1388586a001ae6dd176</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: proxy-mirror plugin resolve host (#7861) (#8356) Co-authored-by: Strangevy &lt;strangevy@foxmail.com&gt; Fixes https://github.com/apache/apisix/issues/8351</MESSAGE>
      <SHA>e3bdf277f7539cadf95e12859981e43f82aa8469</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/proxy-mirror.lua</FILE>
        <FILE>t/plugin/proxy-mirror.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
