<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2723</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2723</ISSUEURL>
  <TITLE>bug(http-logger): the log report of the custom log format is incorrect</TITLE>
  <DESCRIPTION>### Issue description In the reported log, the value corresponding to the NGINX variable is not obtained, but the NGINX variable name is obtained. ### Environment * apisix version (cmd: `apisix version`): 2.0 * OS: Example： Execute the `http-logger-log-format.t` test case to view the output: &lt;img width=&quot;928&quot; alt=&quot;截屏2020-11-12 下午5 49 42&quot; src=&quot;https://user-images.githubusercontent.com/52862365/98924529-e44e3580-250f-11eb-93d5-54a9bb06b74b.png&quot;&gt;</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>chore: sort the request headers output by the _M.uri and _M.old_uri function in t/lib/server.lua (#2696) fix #2636</MESSAGE>
    <SHA>2ba28ff6a7a1823c3ea37e2cdcd7427d4244f3d9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: the log report of the custom log format is incorrect. fix #2723</MESSAGE>
      <SHA>053e7c97bee6ed3d95e9fa4d5a4b6844261a924a</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/http-logger.lua</FILE>
        <FILE>t/plugin/http-logger-log-format.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: the log report of the custom log format is incorrect. (#2729) fix #2723</MESSAGE>
      <SHA>8166f7a2d7cbafa9d3f0a3d6c770404b3d1cd93f</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/http-logger.lua</FILE>
        <FILE>t/plugin/http-logger-log-format.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
