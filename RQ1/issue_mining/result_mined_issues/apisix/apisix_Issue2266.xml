<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2266</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2266</ISSUEURL>
  <TITLE>feat: support `json` encoding escape for access logs</TITLE>
  <DESCRIPTION>For some users, they need to output the access log as a JSON encoding format. Here is a related article: https://stackoverflow.com/questions/25049667/how-to-generate-a-json-log-from-nginx ```yaml nginx_config: ... ... http: access_log: &quot;logs/access.log&quot; access_log_format: '{&quot;time_local&quot;:&quot;$time_local&quot;,&quot;remote_addr&quot;:&quot;$remote_addr&quot;,&quot;remote_user&quot;:&quot;$remote_user&quot;,&quot;request&quot;:&quot;$request&quot;,&quot;status&quot;: &quot;$status&quot;,&quot;body_bytes_sent&quot;:&quot;$body_bytes_sent&quot;,&quot;request_time&quot;:&quot;$request_time&quot;,&quot;http_referrer&quot;:&quot;$http_referer&quot;,&quot;http_user_agent&quot;:&quot;$http_user_agent&quot;}' access_log_format_escape: json # allows setting json or default characters escaping in variables ```</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>39</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>chore: update CODE_STYLE to catch up with the reality (#2570) Currently we already have the line length style check in lj-releng. The length we chose is 100. Close #2569.</MESSAGE>
    <SHA>e67dee137a3db78c877fad9dca99048d027a5ddd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: support `json` encoding escape for access logs (#2269) fix #2266 .</MESSAGE>
      <SHA>f2f5ab97663805509baf3355c37336ffa557b68c</SHA>
      <PATCHEDFILES>
        <FILE>.travis/apisix_cli_test.sh</FILE>
        <FILE>bin/apisix</FILE>
        <FILE>conf/config-default.yaml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
