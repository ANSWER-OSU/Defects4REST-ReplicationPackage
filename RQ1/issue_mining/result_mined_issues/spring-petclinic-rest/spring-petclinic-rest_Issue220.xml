<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>220</ISSUENO>
  <ISSUEURL>https://github.com/spring-petclinic/spring-petclinic-rest/issues/220</ISSUEURL>
  <TITLE>PUT /api/owners/{ownerId}/pets/{petId} Endpoint Not Implemented</TITLE>
  <DESCRIPTION>The `PUT /api/owners/{ownerId}/pets/{petId}` endpoint is defined in the OpenAPI spec, but has not been implemented in the application's controller layer. When sending a request to this endpoint, the API returns: `HTTP 501 Not Implemented` ![Image](https://github.com/user-attachments/assets/14aa9e59-d67d-4291-86ff-7e48f4ebfcef) - The OpenAPI spec defines a `PUT method` for `/api/owners/{ownerId}/pets/{petId}`. - However, I checked both files ([`OwnerRestController.java`](../blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/OwnerRestController.java) and [`PetRestController.java`](../blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/PetRestController.java) to make sure if either of them has the corresponding method, but it does not contain a method to handle this route. - Impact that i see: - It is currently not possible to validate a owner's pet data updates via the REST API. - The documentation is out of sync with the actual implementation, which may confuse API consumers. - With this issue, the development of a second API test scenario with the recently implemented Newman in #219 is unfeasible. ## What we can do? - Implement the PUT method in the corresponding controller to handle pet updates. - Ensuring input validation matches constraints defined in the OpenAPI spec... - Returns `204 No content` or `200 OK` with the updated pet object _(The latter [200], would facilitate assertion in Postman + Newman test scenarios.)_ - Add appropriate unit and/or integration tests...</DESCRIPTION>
  <REPONAME>spring-petclinic-rest</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Adding Non-Regression Tests with Postman for &quot;First Visit&quot; scenario (#219) * feat: #140 Adding Non-Regression Tests with Postman for &quot;First Visit&quot; scenario * fix: moving the postman directory to src-test-postman sub-directory * fix: modifying the script shell to install the correct dependencys * feat: adding the API Testing with Postman + Newman section in readme for instructions</MESSAGE>
    <SHA>0bae442a7dbffccb4bb7289de70fe12d77a52875</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: #220 -- adding missing endpoint in OwnerRestController With Unit Tests</MESSAGE>
      <SHA>b020ddaf94ee5baf2602f7a3a09705ae2acfb974</SHA>
      <PATCHEDFILES>
        <FILE>src/main/java/org/springframework/samples/petclinic/rest/controller/OwnerRestController.java</FILE>
        <FILE>src/test/java/org/springframework/samples/petclinic/rest/controller/OwnerRestControllerTests.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: #220 -- adding missing PUT method in OwnerRestController class With Integration Tests</MESSAGE>
      <SHA>8e33997aba09fd2414885d11cd45d80fd216380f</SHA>
      <PATCHEDFILES>
        <FILE>src/main/java/org/springframework/samples/petclinic/rest/controller/OwnerRestController.java</FILE>
        <FILE>src/test/java/org/springframework/samples/petclinic/rest/controller/OwnerRestControllerTests.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Adding missing PUT method in OwnerRestController class With Integration Tests (#221) * fix: #220 -- adding missing PUT method in OwnerRestController class With Integration Tests * fix: optimizing data base access and reusing PetMapper</MESSAGE>
      <SHA>85366a56e49fe75609cda7d5bd84f284beaf8fac</SHA>
      <PATCHEDFILES>
        <FILE>src/main/java/org/springframework/samples/petclinic/rest/controller/OwnerRestController.java</FILE>
        <FILE>src/test/java/org/springframework/samples/petclinic/rest/controller/OwnerRestControllerTests.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
