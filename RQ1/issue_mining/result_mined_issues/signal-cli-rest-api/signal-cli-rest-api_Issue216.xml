<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>216</ISSUENO>
  <ISSUEURL>https://github.com/bbernhard/signal-cli-rest-api/issues/216</ISSUEURL>
  <TITLE>Allow custom UID and GID</TITLE>
  <DESCRIPTION>### Feature Request The current implementation does not allow to select the custom UID and GID (it's hardcoded to 1000 - especially in jsonrpc2-helper). Please, allow to override those defaults with the environment variable (like `SIGNAL_CLI_UID` and `SIGNAL_CLI_GID`). A workaround entrypoint.sh script: ``` #!/bin/sh set -x set -e userdel signal-api groupadd -g ${SIGNAL_CLI_GID} signal-api useradd -u ${SIGNAL_CLI_UID} -g ${SIGNAL_CLI_GID} -r -s /sbin/nologin signal-api cap_prefix=&quot;-cap_&quot; caps=&quot;$cap_prefix$(seq -s &quot;,$cap_prefix&quot; 0 $(cat /proc/sys/kernel/cap_last_cap))&quot; if [ &quot;$MODE&quot; = &quot;json-rpc&quot; ]; then /usr/bin/jsonrpc2-helper chown signal-api.signal-api /tmp/sigsocket0 service supervisor start supervisorctl start all fi # Start API as signal-api user exec setpriv --reuid=${SIGNAL_CLI_UID} --regid=${SIGNAL_CLI_GID} --init-groups --inh-caps=$caps signal-cli-rest-api -signal-cli-config=${SIGNAL_CLI_CONFIG_DIR} ```</DESCRIPTION>
  <REPONAME>signal-cli-rest-api</REPONAME>
  <TIMEDIFFERENCEDAYS>13</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>made http scheme in swagger documentation the default</MESSAGE>
    <SHA>ba7e2358c5fcfef98891051e38014ff94675e948</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>made UID/GID of configureable with env variables see #216</MESSAGE>
      <SHA>6ce236a90836131357048f9c17c57ebeb034cb07</SHA>
      <PATCHEDFILES>
        <FILE>Dockerfile</FILE>
        <FILE>entrypoint.sh</FILE>
        <FILE>src/scripts/jsonrpc2-helper.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>documented advanced settings see #216</MESSAGE>
      <SHA>42200cb582274385eaf85880d5add281b2ed7640</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>made UID/GID of configureable with env variables see #216</MESSAGE>
      <SHA>c372c6986e950f533caea9037c4e80060f78db1f</SHA>
      <PATCHEDFILES>
        <FILE>Dockerfile</FILE>
        <FILE>entrypoint.sh</FILE>
        <FILE>src/scripts/jsonrpc2-helper.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>documented advanced settings see #216</MESSAGE>
      <SHA>3fb128cdc73455eb47301d8c6fe24cb93fce00c5</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
