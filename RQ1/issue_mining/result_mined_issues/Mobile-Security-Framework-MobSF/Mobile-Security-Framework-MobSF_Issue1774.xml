<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1774</ISSUENO>
  <ISSUEURL>https://github.com/MobSF/Mobile-Security-Framework-MobSF/issues/1774</ISSUEURL>
  <TITLE>quark apk analysis error</TITLE>
  <DESCRIPTION>&lt;!-- ## IMPORTANT --&gt; &lt;!-- Issues are ONLY for reporting BUGS. For support, feature requests, questions, queries, and discussions use our slack channel for limited support. Join MobSF Slack channel: http://tiny.cc/mobsf --&gt; &lt;!-- If you see errors while running setup/run scripts, it is mostly because you haven't installed the required dependencies correctly. You will have to look into the errors and figure out what is causing them and solve them accordingly. Make sure you have installed all the required dependencies and their correct versions as per the latest documentation. If you still find yourself at a dead end, join MobSF Slack channel: http://tiny.cc/mobsf Please do not post support/help request in GitHub issues, doing so will definitely waste our time get them closed without further response. --&gt; ## ENVIRONMENT ``` OS and Version: Linux kali 5.10.0-kali9-amd64 #1 SMP Debian 5.10.46-1kali1 (2021-06-25) x86_64 GNU/Linux Python Version: Python 3.9.2 MobSF Version: v3.4.5 Beta ``` ## EXPLANATION OF THE ISSUE ``` [ERROR] 30/Jul/2021 13:21:40 - Quark APK Analysis Traceback (most recent call last): File &quot;/home/seclab/Mobile-Security-Framework-MobSF/mobsf/MalwareAnalyzer/views/quark.py&quot;, line 48, in quark_analysis data.run(rule_checker) File &quot;/home/seclab/Mobile-Security-Framework-MobSF/venv/lib/python3.9/site-packages/quark/Objects/quark.py&quot;, line 317, in run if self.check_parameter(parent_function, first_wrapper, second_wrapper): File &quot;/home/seclab/Mobile-Security-Framework-MobSF/venv/lib/python3.9/site-packages/quark/Objects/quark.py&quot;, line 190, in check_parameter pyeval.eval[instruction[0]](instruction) File &quot;/home/seclab/Mobile-Security-Framework-MobSF/venv/lib/python3.9/site-packages/quark/Evaluator/pyeval.py&quot;, line 31, in warp func(*args, **kwargs) File &quot;/home/seclab/Mobile-Security-Framework-MobSF/venv/lib/python3.9/site-packages/quark/Evaluator/pyeval.py&quot;, line 336, in AGET_OBJECT array_obj = self.table_obj.get_obj_list( AttributeError: 'NoneType' object has no attribute 'pop' [ERROR] 30/Jul/2021 13:21:40 - Error Performing Static Analysis Traceback (most recent call last): File &quot;/home/seclab/Mobile-Security-Framework-MobSF/mobsf/StaticAnalyzer/views/android/static_analyzer.py&quot;, line 227, in static_analyzer quark_results = quark_analysis( File &quot;/home/seclab/Mobile-Security-Framework-MobSF/mobsf/MalwareAnalyzer/views/quark.py&quot;, line 63, in quark_analysis return _convert_report(json_report['crimes'], app_dir) UnboundLocalError: local variable 'json_report' referenced before assignment [ERROR] 30/Jul/2021 13:21:40 - local variable 'json_report' referenced before assignment [ERROR] 30/Jul/2021 13:21:40 - Internal Server Error: /static_analyzer/ ``` &lt;!-- If you see errors while running setup/run scripts, join MobSF Slack channel: http://tiny.cc/mobsf to get limited support. --&gt; ## STEPS TO REPRODUCE THE ISSUE ``` 1. This is the first step 2. This is the second step 3. Further steps, etc. ``` ## LOG FILE ``` Paste the contents of ~/.MobSF/debug.log here or attach the log file. ``` &lt;!-- BEFORE POSTING YOUR ISSUE/BUG - These comments won't show up when you submit the issue. - GitHub issues ARE NOT FOR FEATURE REQUESTS, SUPPORT, DISCUSSIONS AND QUESTIONS! - If you have questions, use our slack channel. Join MobSF Slack channel: http://tiny.cc/mobsf - Reproduce issue in the latest master and try to add as much detail as possible. - Search this repository (top of the page) for the issue and it has not been fixed or reported already. - Once you open a bug, you should also provide additional information if requested. - Failure to do so in 25 days will result in closure of the bug without further communication. --&gt;</DESCRIPTION>
  <REPONAME>Mobile-Security-Framework-MobSF</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'master' of https://github.com/MobSF/Mobile-Security-Framework-MobSF</MESSAGE>
    <SHA>d3872116491ce3f7d912e920e089f802472a87ce</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>HOTFIX: #1774</MESSAGE>
      <SHA>90ed349212cf18b8bf71c91d896af6345e4e282f</SHA>
      <PATCHEDFILES>
        <FILE>mobsf/MalwareAnalyzer/views/quark.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
