<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1151</ISSUENO>
  <ISSUEURL>https://github.com/MobSF/Mobile-Security-Framework-MobSF/issues/1151</ISSUEURL>
  <TITLE>MobSF unable to set execute permission to jadx</TITLE>
  <DESCRIPTION>## ENVIRONMENT ``` OS and Version: ArchLinux Python Version: 3.7.4 MobSF Version: Mobile Security Framework v2.0.2 Beta ``` ## EXPLANATION OF THE ISSUE When using `USE_HOME = True` Decompiling to Java with jadx fails. ``` [ERROR] 30/Oct/2019 21:23:11 - Decompiling to JAVA Traceback (most recent call last): File &quot;/usr/share/mobsf/StaticAnalyzer/views/android/converter.py&quot;, line 75, in apk_2_java os.chmod(jadx, 0o744) PermissionError: [Errno 1] Operation not permitted: '/usr/share/mobsf/StaticAnalyzer/tools/jadx/bin/jadx' ``` MobSF is installed in `/usr/share/mobsf/`, its a write-protected directory. I think the decompilation step try to write here instead of in the user home. ## STEPS TO REPRODUCE THE ISSUE 1. `blackman -i mobsf` (from blackarch [PKGBUILD](https://github.com/BlackArch/blackarch/tree/master/packages/mobsf)) 2. Modify `MobSF/settings.py` to change `USE_HOME = False` to `USE_HOME = True` 3. Launch MobSF as a user ## LOG FILE `~/.MobSF/logs/debug.log` ``` ... [INFO] 30/Oct/2019 21:27:44 - Decompiling to Java with jadx [ERROR] 30/Oct/2019 21:27:44 - Decompiling to JAVA Traceback (most recent call last): File &quot;/usr/share/mobsf/StaticAnalyzer/views/android/converter.py&quot;, line 75, in apk_2_java os.chmod(jadx, 0o744) PermissionError: [Errno 1] Operation not permitted: '/usr/share/mobsf/StaticAnalyzer/tools/jadx/bin/jadx' [INFO] 30/Oct/2019 21:27:44 - DEX -&gt; SMALI ... ```</DESCRIPTION>
  <REPONAME>Mobile-Security-Framework-MobSF</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Dist: ('darwin', '19.0.0', '') =&gt; Dist: darwin 19.0.0 Update utils.py for Distro</MESSAGE>
    <SHA>f1ba77f0c3fe6d40e6e099a2795fc98ba7ef7219</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix #1151</MESSAGE>
      <SHA>60490a100d33e49e68c8799c94cd10d339632844</SHA>
      <PATCHEDFILES>
        <FILE>StaticAnalyzer/views/android/converter.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Preemptive checks on jadx permissions fix #1151</MESSAGE>
      <SHA>efd1cec4f402cc6c914f0a03d724552a5b15d033</SHA>
      <PATCHEDFILES>
        <FILE>StaticAnalyzer/views/android/converter.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
