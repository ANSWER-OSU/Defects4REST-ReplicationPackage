<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>47</ISSUENO>
  <ISSUEURL>https://github.com/treasure-data/digdag/issues/47</ISSUEURL>
  <TITLE>Server should not require clients to include precompiled .digdag.yml in project archive</TITLE>
  <DESCRIPTION>Now, client needs to include .digdag.yml file in a project archive file (tar.gz). But it makes it difficult to create client libraries such as ruby clients. Idea here is that server reads digdag.yml (not .digdag.yml) as described at #45. Clients just create a tar.gz including digdag.yml and send it to server. Archiving is like this command: ``` tar -C $(basedir path/to/digdag.yml) --exclude=&quot;.*&quot; -czvf - . ``` Client must include digdag.yml in the archive.</DESCRIPTION>
  <REPONAME>digdag</REPONAME>
  <TIMEDIFFERENCEDAYS>1180</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #45 from treasure-data/WM-1639 WM-1639: Add DDL for project_metadata table</MESSAGE>
    <SHA>74607cf44c48d2ae47c41862418cd6c391129ec4</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #47 from treasure-data/WM-1646-td-digdag WM-1646: Add support for adding project metadata</MESSAGE>
      <SHA>ed26327a2a220f21ab015ed8fc2fff8932344f75</SHA>
      <PATCHEDFILES>
        <FILE>digdag-client/src/main/java/io/digdag/client/DigdagClient.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseProjectStoreManager.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControl.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControlStore.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectMetadataMap.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ServerModule.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/ProjectResource.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/RestModels.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/service/ProjectService.java</FILE>
        <FILE>digdag-tests/src/test/java/utils/TestUtils.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[Backport] Add support for project metadata (#1802) * Merge pull request #45 from treasure-data/WM-1639 WM-1639: Add DDL for project_metadata table * Merge pull request #47 from treasure-data/WM-1646-td-digdag WM-1646: Add support for adding project metadata * Merge pull request #69 from treasure-data/WM-1732 WM-1732: Allow ProjectService to pass AuthencatedResource userInfo</MESSAGE>
      <SHA>e91111ef1ed7a7077d503615de06ca87f615ec02</SHA>
      <PATCHEDFILES>
        <FILE>digdag-client/src/main/java/io/digdag/client/DigdagClient.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseMigrator.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseProjectStoreManager.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/migrate/Migration_20221021035534_CreateProjectMetadata.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControl.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControlStore.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectMetadataMap.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ServerModule.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/ProjectResource.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/RestModels.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/service/ProjectService.java</FILE>
        <FILE>digdag-tests/src/test/java/utils/TestUtils.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
