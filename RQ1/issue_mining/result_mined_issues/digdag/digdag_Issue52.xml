<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>52</ISSUENO>
  <ISSUEURL>https://github.com/treasure-data/digdag/issues/52</ISSUEURL>
  <TITLE>server mode should notify client when version is different same</TITLE>
  <DESCRIPTION>Right now, a user of digdag could be confused by creating &amp; pushing a workflow to the server that is not longer in spec. The server mode should check the versions are not the same and when it doesn't do the following: 1. Not accept the workflow submission 2. Provide a note to the user to update the client. This note should include the following: - user should run &quot;digdag selfupdate&quot; - user should try re-running workflow to ensure compatibility with new version - then re-submit to the server mode</DESCRIPTION>
  <REPONAME>digdag</REPONAME>
  <TIMEDIFFERENCEDAYS>66</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #74 from treasure-data/dano/version2 mockable client and server version</MESSAGE>
    <SHA>8fb03d0b8342de15b9e21da733d6e2a17679ea20</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>cli: reject server with different version https://github.com/treasure-data/digdag/issues/52</MESSAGE>
      <SHA>fea7c2044aa1103ee732094b88f7d30427af742d</SHA>
      <PATCHEDFILES>
        <FILE>digdag-cli/src/main/java/io/digdag/cli/client/ClientCommand.java</FILE>
        <FILE>digdag-cli/src/main/java/io/digdag/cli/client/Version.java</FILE>
        <FILE>digdag-cli/src/test/java/io/digdag/cli/client/ClientBuildingTest.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/VersionIT.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
