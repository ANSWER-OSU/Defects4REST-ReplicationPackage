<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>119692</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/119692</ISSUEURL>
  <TITLE>ESQL: investigate Exceptions unwrapping in API</TITLE>
  <DESCRIPTION>### Description ESQL wraps currently exceptions bubbled from downstream (afte [change](https://github.com/elastic/elasticsearch/commit/67ee03411bad5beb7e8000f0b3fcbc8accdf96da#diff-f064ef98314fd19a0e7114dd578d165036241afddee45e5083d1d782112470abR45)). We should look into ways of reverting this behavior, which would allow more accurate monitoring of the infrastructure and better pinpointing of failures.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>8</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[Gradle] Make rolling upgrade tests configuration cache compatible (#119577) With this, all rolling upgrade tests that involve a `nextNodeToNextVersion` update are gradle configuration cache compatible. Simplify API around test cluster registry and cc compatible usage of test cluster in TestClusterAware tasks.</MESSAGE>
    <SHA>7b6bdfa323fcc7460dc252b3dbc84c6b1314fb66</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Minor logging improvements (#120164) This applies minor logging changes removing some duplication and making it obvious in the log message that the entry is produced by ESQL (EsqlResponseListener). It also removes some code duplication in the way query actions produce the RestChannelConsumer. Closes #119692.</MESSAGE>
      <SHA>7972d85acab1d2aa4699cd470da40c3984d3a799</SHA>
      <PATCHEDFILES>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlResponseListener.java</FILE>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/RestEsqlAsyncQueryAction.java</FILE>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/RestEsqlQueryAction.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Minor logging improvements (#120164) This applies minor logging changes removing some duplication and making it obvious in the log message that the entry is produced by ESQL (EsqlResponseListener). It also removes some code duplication in the way query actions produce the RestChannelConsumer. Closes #119692.</MESSAGE>
      <SHA>0719ca4b007794b57ab4faff68348d8b6c2136fe</SHA>
      <PATCHEDFILES>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlResponseListener.java</FILE>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/RestEsqlAsyncQueryAction.java</FILE>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/RestEsqlQueryAction.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Minor logging improvements (#120164) (#120273) This applies minor logging changes removing some duplication and making it obvious in the log message that the entry is produced by ESQL (EsqlResponseListener). It also removes some code duplication in the way query actions produce the RestChannelConsumer. Closes #119692.</MESSAGE>
      <SHA>c3b858ac541d84b96e887159d4870014e4c54467</SHA>
      <PATCHEDFILES>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlResponseListener.java</FILE>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/RestEsqlAsyncQueryAction.java</FILE>
        <FILE>x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/RestEsqlQueryAction.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
