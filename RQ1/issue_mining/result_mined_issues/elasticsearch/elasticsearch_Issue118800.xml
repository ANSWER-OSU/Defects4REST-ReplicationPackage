<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>118800</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/118800</ISSUEURL>
  <TITLE>[CI] ShardChangesRestIT testShardChangesNoOperation failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic #5414 / openjdk23_checkpart2_java-matrix](https://gradle-enterprise.elastic.co/s/4x7hs2ouohf5a) - [elasticsearch-pull-request #46805 / part-2](https://gradle-enterprise.elastic.co/s/xxdhykyk4ytu6) - [elasticsearch-pull-request #46798 / part-2](https://gradle-enterprise.elastic.co/s/cklf2vwvuvtfa) - [elasticsearch-pull-request #46791 / part-2](https://gradle-enterprise.elastic.co/s/oykg4u2c6qm5w) **Reproduction Line:** ``` ./gradlew &quot;:x-pack:plugin:ccr:javaRestTest&quot; --tests &quot;org.elasticsearch.xpack.ccr.rest.ShardChangesRestIT.testShardChangesNoOperation&quot; -Dtests.seed=138D22242FDE3214 -Dtests.locale=vun-TZ -Dtests.timezone=Etc/Zulu -Druntime.java=23 ``` **Applicable branches:** main **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.xpack.ccr.rest.ShardChangesRestIT),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(testShardChangesNoOperation),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.net.SocketTimeoutException: 60,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE] ``` **Issue Reasons:** - [main] 4 failures in test testShardChangesNoOperation (14.8% fail rate in 27 executions) - [main] 3 failures in step part-2 (15.8% fail rate in 19 executions) - [main] 3 failures in pipeline elasticsearch-pull-request (16.7% fail rate in 18 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>63</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Support multi-index LOOKUP JOIN and various bug fixes (#118429) While working on supporting multi-index LOOKUP JOIN; various bugs were fixed: * Previously we just used '*' for lookup-join indices, because the fieldnames were sometimes not being correctly determined. The problem was with KEEP referencing fields from the right that had previously been defined on the left as aliases, including using the ROW command. We normally don't want to ask for aliases, but if they could be shadowed by a lookup join, we need to keep them. * With both single and multi-index LOOKUP JOIN we need to mark each index as potentially wildcard fields, if the KEEP commands occur before the LOOKUP JOIN.</MESSAGE>
    <SHA>8e988689438f9579dc23427efc85d320e8289ce3</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.xpack.ccr.rest.ShardChangesRestIT testShardChangesNoOperation #118800</MESSAGE>
      <SHA>8deb32fb1beb686eb8a0e853b22aadb2d382f1c1</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
