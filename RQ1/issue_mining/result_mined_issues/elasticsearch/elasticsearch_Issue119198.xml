<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>119198</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/119198</ISSUEURL>
  <TITLE>[CI] BootstrapCheckTests test10Install failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic-packaging #5246 / rhel-7_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/cw24bycc24sdi) - [elasticsearch-periodic-packaging #5246 / ubuntu-2204_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/qc7jsnfp6lur2) - [elasticsearch-periodic-packaging #5246 / opensuse-leap-15_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/npb24xli35sou) - [elasticsearch-periodic-packaging #5246 / ubuntu-1804_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/3iswx5f63f3mm) - [elasticsearch-periodic-packaging #5246 / rocky-8_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/zdpqh3k24ltmq) - [elasticsearch-periodic-packaging #5246 / rhel-8_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/ehivfvhuh7h3q) - [elasticsearch-periodic-packaging #5246 / ubuntu-2004_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/gghot2up324kq) - [elasticsearch-periodic-packaging #5246 / almalinux-8_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/cvlbofd4nzgye) - [elasticsearch-periodic-packaging #5246 / debian-11_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/2wrq4dpsmlnse) - [elasticsearch-periodic-packaging #5246 / rocky-9_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/dzw2vgzuasqh2) **Reproduction Line:** ``` null ``` **Applicable branches:** 8.17 **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.packaging.test.BootstrapCheckTests),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(test10Install),title:'Test',type:optionsListControl))))) **Failure Message:** ``` org.elasticsearch.packaging.util.Shell$ShellException: Command was not successful: [bash -c docker run --detach --memory 2g --env ingest.geoip.downloader.enabled=&quot;false&quot; --publish 9200:9200 --publish 9300:9300 elasticsearch-cloud-ess:test] result: exitCode = [127] stdout = [cc25d6e9c73dcb7cc9857489c80bb2ad9cf2e201fdacf3733916126753fac36d] stderr = [docker: Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;/sbin/tini&quot;: stat /sbin/tini: no such file or directory: unknown.] ``` **Issue Reasons:** - [8.17] 108 failures in test test10Install (12.1% fail rate in 893 executions) - [8.17] 9 failures in step rhel-7_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step ubuntu-2204_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step opensuse-leap-15_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step ubuntu-1804_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step rocky-8_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step rhel-8_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step ubuntu-2004_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step almalinux-8_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step debian-11_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step rocky-9_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step rhel-9_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in step oraclelinux-8_packaging-tests-unix (100.0% fail rate in 9 executions) - [8.17] 9 failures in pipeline elasticsearch-periodic-packaging (100.0% fail rate in 9 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Log pending cluster state tasks after cluster cleanup timeout (#119186) (#119220) The Cluster Health API call in the `ESRestTestCase` cleanup waits for all cluster state tasks to be finished. We frequently see that API call timing out with plenty of tasks still in the queue. With this commit, we retrieve the pending tasks and log them - only if the Cluster Health API call timed out. This will hopefully give some more insight into what (kind of) tasks are still pending when the API call times out. Co-authored-by: Elastic Machine &lt;elasticmachine@users.noreply.github.com&gt;</MESSAGE>
    <SHA>964e02d50a04a9e100856f7216c13a7b84ae1b9b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix dummy entrypoint for cloud ess docker image Fixes #119198</MESSAGE>
      <SHA>5a1f2af4886954fc65d9fca5f116131d16853413</SHA>
      <PATCHEDFILES>
        <FILE>distribution/docker/src/docker/Dockerfile.ess</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
