<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>123661</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/123661</ISSUEURL>
  <TITLE>malformed CreateIndexRequest should return 400s</TITLE>
  <DESCRIPTION>### Elasticsearch Version main ### Installed Plugins _No response_ ### Java Version _bundled_ ### OS Version _any_ ### Problem Description When attempting to create an index, its possible to get a server error by some casting failures. We should verify values and return bad request error code ### Steps to Reproduce ``` PUT bad_aliases { &quot;aliases&quot;: &quot;I am a bad alias, yo&quot; } ``` ### Logs (if relevant) _No response_</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[DOCS] Document source-related restrictions (#124011) * Document source-related restrictions * Update mapping-source-field.md * Update docs/reference/elasticsearch/mapping-reference/mapping-source-field.md Co-authored-by: Marci W &lt;333176+marciw@users.noreply.github.com&gt; * Update mapping-source-field.md --------- Co-authored-by: Marci W &lt;333176+marciw@users.noreply.github.com&gt;</MESSAGE>
    <SHA>296cae8a30ce9b0268b7e84691577ce9dbb6bb6b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) closes: https://github.com/elastic/elasticsearch/issues/123661</MESSAGE>
      <SHA>a1ee3c92913448b26b1a50d2122cd32099b98235</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) closes: https://github.com/elastic/elasticsearch/issues/123661 (cherry picked from commit a1ee3c92913448b26b1a50d2122cd32099b98235)</MESSAGE>
      <SHA>2e3f5e3b4f12fc315443767c73ff01ccd6ccb8b3</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) closes: https://github.com/elastic/elasticsearch/issues/123661 (cherry picked from commit a1ee3c92913448b26b1a50d2122cd32099b98235)</MESSAGE>
      <SHA>d1b381535d9290c09128ccad86f590ffd35802b8</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) (#124344) closes: https://github.com/elastic/elasticsearch/issues/123661 (cherry picked from commit a1ee3c92913448b26b1a50d2122cd32099b98235)</MESSAGE>
      <SHA>fbf0d8f7b4e928c9fa49aa81349d3e46e4ffc195</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) (#124345) closes: https://github.com/elastic/elasticsearch/issues/123661 (cherry picked from commit a1ee3c92913448b26b1a50d2122cd32099b98235)</MESSAGE>
      <SHA>70d7daaea040df8ddd0a31676f138ccc5c26f114</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) (#124343) closes: https://github.com/elastic/elasticsearch/issues/123661 (cherry picked from commit a1ee3c92913448b26b1a50d2122cd32099b98235)</MESSAGE>
      <SHA>09ac0e6db9783ef529a3eaa1de00a01c519aefde</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) closes: https://github.com/elastic/elasticsearch/issues/123661</MESSAGE>
      <SHA>7e50bc1c49cbe2c18f57c1ebb9075a771c77073d</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Have create index return a bad request on poor formatting (#123761) closes: https://github.com/elastic/elasticsearch/issues/123661</MESSAGE>
      <SHA>262adf5e10edfda36f82eecb05249d6db37bf5ff</SHA>
      <PATCHEDFILES>
        <FILE>docs/changelog/123761.yaml</FILE>
        <FILE>rest-api-spec/src/yamlRestTest/resources/rest-api-spec/test/indices.create/10_basic.yml</FILE>
        <FILE>server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java</FILE>
        <FILE>server/src/main/java/org/elasticsearch/rest/action/admin/indices/CreateIndexCapabilities.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
