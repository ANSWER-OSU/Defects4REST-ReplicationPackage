<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>68</ISSUENO>
  <ISSUEURL>https://github.com/snarfed/granary/issues/68</ISSUEURL>
  <TITLE>mf2: handle posts with multiple pictures</TITLE>
  <DESCRIPTION>...converting to and from AS. related to #66 and #67. silo status: - [x] _Twitter_: `entities` and `extended_entities` - [x] _Google+_: uses normal AS, [multiple elements in the `attachments` list field](https://developers.google.com/+/web/api/rest/latest/activities#object.attachments) - [ ] _Facebook_: you can attach multiple pictures to a post, which afaict is different from a story generated by uploading multiple pictures to an album. however, the API only includes the first picture in the post object. `object_id` also points to just that first picture. i don't see any indication that there are more pictures. tried with both API v2.2 and v2.5. details below. - _Instagram_: doesn't exist - _Flickr_: doesn't exist facebook API post with multiple pictures, `/212038_10102112256023793`: ``` json { &quot;id&quot;: &quot;212038_10102112256023793&quot;, &quot;object_id&quot;: &quot;10102112255849143&quot;, &quot;type&quot;: &quot;photo&quot;, &quot;status_type&quot;: &quot;added_photos&quot;, &quot;story&quot;: &quot;Ryan Barrett added 2 new photos.&quot;, &quot;name&quot;: &quot;Photos from Ryan Barrett's post&quot;, &quot;picture&quot;: &quot;https://scontent.xx.fbcdn.net/hphotos-xaf1/v/t1.0-0/s130x130/12662507_10102112255849143_5073018125726488185_n.jpg?...&quot;, &quot;link&quot;: &quot;https://www.facebook.com/photo.php?fbid=10102112255849143&amp;set=a.995695740593.2393090.212038&amp;type=3&quot;, &quot;...&quot; } ``` and the photo object from `object_id`, `/10102112255849143` : ``` json { &quot;id&quot;: &quot;10102112255849143&quot;, &quot;link&quot;: &quot;https://www.facebook.com/photo.php?fbid=10102112255849143&amp;set=a.995695740593.2393090.212038&amp;type=3&quot;, &quot;picture&quot;: &quot;https://scontent.xx.fbcdn.net/hphotos-xaf1/v/t1.0-0/s130x130/12662507_10102112255849143_5073018125726488185_n.jpg?...&quot;, &quot;images&quot;: [&quot;...&quot;] } ```</DESCRIPTION>
  <REPONAME>granary</REPONAME>
  <TIMEDIFFERENCEDAYS>53</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>instagram html_to_activities: handle missing profile picture, website for instagram-atom</MESSAGE>
    <SHA>7bce46b511a37f576da2282d0e0af9b6c088eaf9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>microformats2, atom: tests for multiple images. for #68</MESSAGE>
      <SHA>048266c5434192b6c72a7088832b670e20d3eeef</SHA>
      <PATCHEDFILES>
        <FILE>granary/test/test_atom.py</FILE>
        <FILE>granary/test/test_microformats2.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>twitter: handle extended_entities, eg for multiple pictures. for #68</MESSAGE>
      <SHA>fe7d2c8b05b82dcc4ad09617dbe6f44b3a7af7e5</SHA>
      <PATCHEDFILES>
        <FILE>granary/test/test_twitter.py</FILE>
        <FILE>granary/twitter.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
