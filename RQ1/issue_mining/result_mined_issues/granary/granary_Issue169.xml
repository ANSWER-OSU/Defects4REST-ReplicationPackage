<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>169</ISSUENO>
  <ISSUEURL>https://github.com/snarfed/granary/issues/169</ISSUEURL>
  <TITLE>convert mf2 length and size properties to RSS duration and length</TITLE>
  <DESCRIPTION>...except we have no clear mf2 standard yet for either one. discussion: https://chat.indieweb.org/dev/2019-08-08#t1565286782453800 https://indieweb.org/podcast shows two examples in the wild with `length`: aaronpk's is integer seconds, @gRegorLove's is `PT1H7M59S`. (what even is that?) ...and two examples with `size`, different human-readable versions: @aaronpk's `17.43mb`, @gRegorLove's `62.2 MB`. RSS spec for `length` (integer bytes): http://www.rssboard.org/rss-specification#ltenclosuregtSubelementOfLtitemgt iTunes details for `duration` (integer seconds): https://help.apple.com/itc/podcasts_connect/#/itc2b3780e76 , and example RSS: https://help.apple.com/itc/podcasts_connect/#/itcbaf351599 cc @jgmac1106</DESCRIPTION>
  <REPONAME>granary</REPONAME>
  <TIMEDIFFERENCEDAYS>83</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>mastodon: use objectType 'person' for user mentions</MESSAGE>
    <SHA>b2674874e76fd4856184126e4a57cea8adc1f9b4</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>add `duration` support to AS1, AS2, RSS, and mf2 JSON for #169. mf2 support is still emerging (https://indieweb.org/podcast#Brainstorming); both integer seconds and ISO 8601 string durations (https://en.wikipedia.org/wiki/ISO_8601#Durations) are supported.</MESSAGE>
      <SHA>2b8df7ea8ad8bc89c0695e0b5c4dd8798f0bf37d</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
        <FILE>granary/as2.py</FILE>
        <FILE>granary/microformats2.py</FILE>
        <FILE>granary/tests/test_testdata.py</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.as.json</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.as2.json</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.mf2.json</FILE>
        <FILE>granary/tests/testdata/feed_with_audio_video.as.json</FILE>
        <FILE>granary/tests/testdata/feed_with_audio_video.mf2.json</FILE>
        <FILE>granary/tests/testdata/note_with_audio_video.as-from-mf2.json</FILE>
        <FILE>granary/tests/testdata/note_with_audio_video.as.json</FILE>
        <FILE>granary/tests/testdata/note_with_audio_video.mf2-from-as.json</FILE>
        <FILE>granary/tests/testdata/note_with_audio_video.mf2.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>mf2 html: switch p-size to &lt;data&gt; to include both integer bytes and string for #169</MESSAGE>
      <SHA>2b6b5de7ba1d38284b71ef419e85e9a903c2eaaa</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
        <FILE>granary/microformats2.py</FILE>
        <FILE>granary/tests/test_microformats2.py</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.as.json</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.as2.json</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.mf2-from-as.json</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.mf2.html</FILE>
        <FILE>granary/tests/testdata/article_with_audio_video.mf2.json</FILE>
        <FILE>granary/tests/testdata/note_with_audio_video.mf2-from-as.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
