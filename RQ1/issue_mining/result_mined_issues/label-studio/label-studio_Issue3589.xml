<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3589</ISSUENO>
  <ISSUEURL>https://github.com/HumanSignal/label-studio/issues/3589</ISSUEURL>
  <TITLE>Support URL signing when Image tag is an array of URIs</TITLE>
  <DESCRIPTION>**Is your feature request related to a problem? Please describe.** When an array of URIs are passed as a task's Image property, URL-signing does not work. This is true both with and without use of the Repeater Tag in the XML config. Example task json: ``` { &quot;data&quot;: { &quot;image&quot;: [ &quot;gs://bucket/image_scale_1.jpg&quot;, &quot;gs://bucket/image_scale_2.jpg&quot;, &quot;gs://bucket/image_scale_3.jpg&quot;, &quot;gs://bucket/image_scale_4.jpg&quot;, ], &quot;thumb&quot;: &quot;gs://bucket/thumbnail.jpg&quot; } } ``` Here is the error: ``` [2023-01-11 21:25:03,030] [io_storages.base_models::resolve_uri::85] [INFO] Can't resolve URI=[&quot;gs://bucket/image_scale_1.jpg&quot;, &quot;gs://bucket/image_scale_2.jpg&quot;, &quot;gs://bucket/image_scale_3.jpg&quot;,&quot;gs://bucket/image_scale_4.jpg&quot;] Traceback (most recent call last): File &quot;/label-studio/label_studio/io_storages/base_models.py&quot;, line 83, in resolve_uri return uri.replace(extracted_uri, http_url) AttributeError: 'list' object has no attribute 'replace' [2023-01-11 21:25:03,031] [io_storages.utils::get_uri_via_regex::25] [WARNING] Can't parse task.data to match URI. Reason: Match is not found. ``` This issue has been documented and discussed in detail in slack [here](https://label-studio.slack.com/archives/CQ8LYPPJS/p1673542950503319). **Describe the solution you'd like** As the [Repeater Tag documentation](https://labelstud.io/tags/repeater.html#Example) suggests, an array of URIs should be a valid value for a task's Image property and work with the URL-signing feature in the backend. Repeater should iterate through each of the values and create signed URLs, which is the case when a single value is passed, with the assumption that the individual elements meet whatever validation checks that are already required. **Describe alternatives you've considered** The desired behavior exists already - it's just about enabling it for all elements in an array, so I can't imagine an alternative. **Additional context** I'm willing to work on the solution to this issue. CC: @AbubakarSaad</DESCRIPTION>
  <REPONAME>label-studio</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: DEV-4075: Fix taxonomy items overlap on search (#3497) * [submodules] Build static heartexlabs/label-studio-frontend * [submodules] Build static heartexlabs/label-studio-frontend * [submodules] Build static heartexlabs/label-studio-frontend * [submodules] Build static heartexlabs/label-studio-frontend * [submodules] Build static heartexlabs/label-studio-frontend --------- Co-authored-by: Sergey &lt;sergey.koshevarov@heartex.com&gt;</MESSAGE>
    <SHA>277a36884b797c0ce2baa296c1486851b09097dd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: issue #3589: support url signing for all valid elements in array (#3610) * [feat] support url signing for all valid elements in array * [feat] better handle different input types per feedback</MESSAGE>
      <SHA>9308125b3633997d2546a26a7855804c850cc32a</SHA>
      <PATCHEDFILES>
        <FILE>label_studio/io_storages/base_models.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: issue #3589: support url signing for all valid elements in array (#3610) * [feat] support url signing for all valid elements in array * [feat] better handle different input types per feedback</MESSAGE>
      <SHA>2747197da4a9dfedb27b3b43a591a22748c98c82</SHA>
      <PATCHEDFILES>
        <FILE>label_studio/io_storages/base_models.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
