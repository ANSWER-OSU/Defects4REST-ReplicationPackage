<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2514</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/2514</ISSUEURL>
  <TITLE>Error &quot;volId 0 err&quot; Volumes couldn't load after upgrading to 2.82_large_disk</TITLE>
  <DESCRIPTION>Hi, I upgrade my cluster from 2.40_large_disk to 2.82_large_disk Now there are two types and with many errors logged by weed that volumes couldn't load properly!: Type 1 error: ``` Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking MegaGroup_59.dat ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 0 err (0x282caa0,0xc008df62d0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking MegaGroup_59.idx ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 59 err (0x0,0x0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking MegaGroup_59.vif ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 59 err (0x0,0x0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking Profile_39.dat ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 0 err (0x282caa0,0xc008df62f0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking Profile_39.idx ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 39 err (0x0,0x0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking Profile_39.vif ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 39 err (0x0,0x0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking UserCloud_100_241.dat ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 0 err (0x282caa0,0xc008df6310) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking UserCloud_100_241.idx ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 241 err (0x0,0x0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking UserCloud_100_241.vif ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 241 err (0x0,0x0) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_288.dat ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 0 err (0x282caa0,0xc00064c260) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_288.idx ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 288 err (0x0,0x0) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_288.vif ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 288 err (0x0,0x0) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_94.dat ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 0 err (0x282caa0,0xc00064c280) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_94.idx ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 94 err (0x0,0x0) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_94.vif ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 94 err (0x0,0x0) ``` Type 2 : ``` Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking UserCloud_10_283.dat ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 0 err (0x282caa0,0xc008df6330) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: checking UserCloud_10_283.idx ... Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: volId 283 err (0x0,0x0) Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: I1216 00:25:47 1548 volume_loading.go:89] readSuperBlock volume 283 version 3 Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: I1216 00:25:47 1548 volume_loading.go:136] loading index /srv/node/sdb/UserCloud_10_283.idx to memory Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: I1216 00:25:47 1548 disk_location.go:140] data file /srv/node/sdb/UserCloud_10_283.dat, replication=010 v=3 size=107386792320 ttl= Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: I1216 00:25:47 1548 store.go:402] mount volume 283 Dec 16 00:25:47 weed-volume-001 seaweedfs-sdb-volume[1548]: I1216 00:25:47 1548 volume_grpc_client_to_master.go:158] volume server weed-volume-001:8080 adds volume 283 b: Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_95.dat ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 0 err (0x282caa0,0xc00064c2a0) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: checking UserCloud_10_95.idx ... Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: volId 95 err (0x0,0x0) Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: I1216 07:09:42 1541 volume_loading.go:89] readSuperBlock volume 95 version 3 Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: I1216 07:09:42 1541 volume_loading.go:136] loading index /srv/node/sdk/UserCloud_10_95.idx to memory Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: I1216 07:09:42 1541 disk_location.go:140] data file /srv/node/sdk/UserCloud_10_95.dat, replication=010 v=3 size=107380026088 ttl= Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: I1216 07:09:42 1541 store.go:402] mount volume 95 Dec 16 07:09:42 weed-volume-001 seaweedfs-sdk-volume[1541]: I1216 07:09:42 1541 volume_grpc_client_to_master.go:158] volume server weed-volume-001:8089 adds volume 95 ``` What do these errors mean? Why they couldn't be loaded properly?</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'content_disposition_download'</MESSAGE>
    <SHA>8329cf86a795684038768223a05069fb247f815e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>remove debug messages fix https://github.com/chrislusf/seaweedfs/issues/2514</MESSAGE>
      <SHA>50ddd8c8e286ecc0898e06667b54b18b94935cf0</SHA>
      <PATCHEDFILES>
        <FILE>weed/storage/disk_location.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>log message adds server name address https://github.com/chrislusf/seaweedfs/issues/2514#issuecomment-995925733</MESSAGE>
      <SHA>5eacff9d4f56cd475d54eb82643963f42b618903</SHA>
      <PATCHEDFILES>
        <FILE>weed/topology/topology.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
