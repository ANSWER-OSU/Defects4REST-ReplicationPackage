<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1917</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/1917</ISSUEURL>
  <TITLE>[s3] aws s3 copy dir/ fatal error: 'ContentLength'</TITLE>
  <DESCRIPTION>**Describe the bug** ``` aws --profile local --endpoint http://127.0.0.1:8333/ s3 cp s3://test/dir /tmp/ fatal error: An error occurred (404) when calling the HeadObject operation: Key &quot;dir&quot; does not exist aws --profile local --endpoint http://127.0.0.1:8333/ s3 cp s3://test/dir/ /tmp/ fatal error: 'ContentLength' ``` **System Setup** `2.34` **Expected behavior** return 404</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1913 from kmlebedev/check_chunkviews_mr Check chunkviews mr</MESSAGE>
    <SHA>04604b89e1da28d45e9f88bd0fe6ae0fb091e324</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>dir + slash key does not exist https://github.com/chrislusf/seaweedfs/issues/1917</MESSAGE>
      <SHA>c5705e7a35b4097a2026ad9da2fd5ca88a16492d</SHA>
      <PATCHEDFILES>
        <FILE>weed/s3api/s3api_object_handlers.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
