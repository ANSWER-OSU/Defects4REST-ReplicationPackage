<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1957</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/1957</ISSUEURL>
  <TITLE>Failed to reply metadata change pq: relation &quot;iso5&quot; does not exist</TITLE>
  <DESCRIPTION>**Describe the bug** I put file to backet &quot;iso5&quot; using s3cmd `s3cmd put /mnt/bigdisk/iso/virtio-win-0.1.185.iso s3://iso5/` &lt;details&gt; &lt;summary&gt;S3cmd output&lt;/summary&gt; &lt;p&gt; ```bash upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 1 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 3s 4.54 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 2 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.30 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 3 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.26 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 4 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.15 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 5 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 3s 4.94 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 6 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 3s 4.94 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 7 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.33 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 8 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.52 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 9 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.36 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 10 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.31 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 11 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.42 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 12 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.47 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 13 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.33 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 14 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.66 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 15 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.74 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 16 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.85 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 17 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.67 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 18 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.70 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 19 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.32 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 20 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.39 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 21 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.62 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 22 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.59 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 23 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.35 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 24 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.26 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 25 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 2s 5.18 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 26 of 27, 15MB] [1 of 1] 15728640 of 15728640 100% in 4s 3.70 MB/s done upload: '/mnt/bigdisk/iso/virtio-win-0.1.185.iso' -&gt; 's3://iso5/virtio-win-0.1.185.iso' [part 27 of 27, 3MB] [1 of 1] 3534848 of 3534848 100% in 1s 3.21 MB/s done ``` &lt;/p&gt; &lt;/details&gt; _The file upload is successful, but one of the two filers crashes and restarts._ &lt;details&gt; &lt;summary&gt;See d01server04t filer1 log&lt;/summary&gt; &lt;p&gt; ```bash апр 02 09:52:49 d01server04t systemd[1]: Started weed filer server of cluster. апр 02 09:52:55 d01server04t weed-filer[37643]: I0402 09:52:55 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:52:56 d01server04t weed-filer[37643]: I0402 09:52:56 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:52:57 d01server04t weed-filer[37643]: I0402 09:52:57 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:52:58 d01server04t weed-filer[37643]: I0402 09:52:58 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:52:59 d01server04t weed-filer[37643]: I0402 09:52:59 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:53:00 d01server04t weed-filer[37643]: I0402 09:53:00 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:53:20 d01server04t weed-filer[37643]: I0402 09:53:20 37643 masterclient.go:126] redirected to leader 10.11.10.72:9333 апр 02 09:53:20 d01server04t weed-filer[37643]: W0402 09:53:20 37643 filer_server.go:117] skipping default store dir in /var/lib/seaweedfs/filer/filerldb2 апр 02 09:53:20 d01server04t weed-filer[37643]: I0402 09:53:20 37643 filer.go:101] existing filer.store.id = 541754507 апр 02 09:53:20 d01server04t weed-filer[37643]: I0402 09:53:20 37643 configuration.go:28] configured filer store to postgres2 апр 02 09:53:20 d01server04t weed-filer[37643]: I0402 09:53:20 37643 meta_aggregator.go:67] connecting to peer filer 10.10.10.148:8888: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 09:53:20 d01server04t weed-filer[37643]: I0402 09:53:20 37643 filer.go:196] Start Seaweed Filer 30GB 2.36 6b7aa96 at 10.10.10.148:8888 апр 02 09:53:21 d01server04t weed-filer[37643]: I0402 09:53:21 37643 meta_aggregator.go:191] readOffset 10.11.10.76:8888 : 1617346219824758635 апр 02 09:53:21 d01server04t weed-filer[37643]: I0402 09:53:21 37643 meta_aggregator.go:78] follow peer: 10.11.10.76:8888, last 2021-04-02 09:50:19.824758635 +0300 MSK (1617346219824758635) апр 02 09:53:21 d01server04t weed-filer[37643]: I0402 09:53:21 37643 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 filer_grpc_server_sub_meta.go:196] + listener filer:10.10.10.148:8888@10.10.10.148:39244 апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 filer_grpc_server_sub_meta.go:77] filer:10.10.10.148:8888@10.10.10.148:39244 local subscribe / from 2021-04-02 09:52:20.885337245 +0300 MSK апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 s3.go:162] S3 read filer buckets dir: /buckets апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 s3.go:169] connected to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 09:53:22 d01server04t weed-filer[37643]: W0402 09:53:22 37643 auth_credentials.go:48] fail to load config: read S3 config: http://10.10.10.148:8888/etc/iam/identity.json: 404 Not Found апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 s3.go:201] Start Seaweed S3 API Server 30GB 2.36 6b7aa96 at https port 443 апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 filer_grpc_server_sub_meta.go:196] + listener s3@10.10.10.148:39244 апр 02 09:53:22 d01server04t weed-filer[37643]: I0402 09:53:22 37643 filer_grpc_server_sub_meta.go:26] s3@10.10.10.148:39244 starts to subscribe /etc/iam/identity.json from 2021-04-02 09:53:22.432694589 +0300 MSK апр 02 09:53:24 d01server04t weed-filer[37643]: I0402 09:53:24 37643 filer_grpc_server_sub_meta.go:196] + listener filer:10.11.10.76:8888@10.11.10.76:59222 апр 02 09:53:24 d01server04t weed-filer[37643]: I0402 09:53:24 37643 filer_grpc_server_sub_meta.go:77] filer:10.11.10.76:8888@10.11.10.76:59222 local subscribe / from 2021-04-01 13:40:24.386199338 +0300 MSK апр 02 10:21:20 d01server04t weed-filer[37643]: I0402 10:21:20 37643 meta_aggregator.go:93] synced with 10.11.10.76:8888 апр 02 10:21:20 d01server04t weed-filer[37643]: E0402 10:21:20 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:20 d01server04t weed-filer[37643]: E0402 10:21:20 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:24 d01server04t weed-filer[37643]: E0402 10:21:24 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0001.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:28 d01server04t weed-filer[37643]: E0402 10:21:28 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0002.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:32 d01server04t weed-filer[37643]: E0402 10:21:32 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0003.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:38 d01server04t weed-filer[37643]: E0402 10:21:38 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0004.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:44 d01server04t weed-filer[37643]: E0402 10:21:44 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0005.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:51 d01server04t weed-filer[37643]: E0402 10:21:51 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0006.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:21:58 d01server04t weed-filer[37643]: E0402 10:21:58 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0007.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:05 d01server04t weed-filer[37643]: E0402 10:22:05 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0008.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:11 d01server04t weed-filer[37643]: E0402 10:22:11 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0009.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:18 d01server04t weed-filer[37643]: E0402 10:22:18 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0010.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:24 d01server04t weed-filer[37643]: E0402 10:22:24 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0011.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:30 d01server04t weed-filer[37643]: E0402 10:22:30 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0012.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:36 d01server04t weed-filer[37643]: E0402 10:22:36 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0013.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:41 d01server04t weed-filer[37643]: E0402 10:22:41 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0014.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:46 d01server04t weed-filer[37643]: E0402 10:22:46 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0015.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:52 d01server04t weed-filer[37643]: E0402 10:22:52 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0016.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:22:57 d01server04t weed-filer[37643]: E0402 10:22:57 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0017.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:01 d01server04t weed-filer[37643]: E0402 10:23:01 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0018.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:05 d01server04t weed-filer[37643]: E0402 10:23:05 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0019.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:10 d01server04t weed-filer[37643]: E0402 10:23:10 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0020.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:14 d01server04t weed-filer[37643]: E0402 10:23:14 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0021.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:19 d01server04t weed-filer[37643]: E0402 10:23:19 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0022.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:25 d01server04t weed-filer[37643]: E0402 10:23:25 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0023.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:32 d01server04t weed-filer[37643]: E0402 10:23:32 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0024.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:38 d01server04t weed-filer[37643]: E0402 10:23:38 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0025.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:42 d01server04t weed-filer[37643]: E0402 10:23:42 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0026.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:43 d01server04t weed-filer[37643]: E0402 10:23:43 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/.uploads/51378ef3-f6be-47f7-8793-c289f33ae4f6/0027.part: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:43 d01server04t weed-filer[37643]: E0402 10:23:43 37643 meta_aggregator.go:83] failed to reply metadata change from 10.11.10.76:8888: upsert /buckets/iso5/virtio-win-0.1.185.iso: pq: relation &quot;iso5&quot; does not exist апр 02 10:23:43 d01server04t weed-filer[37643]: panic: runtime error: invalid memory address or nil pointer dereference апр 02 10:23:43 d01server04t weed-filer[37643]: [signal SIGSEGV: segmentation violation code=0x1 addr=0x118 pc=0xec9c8d] апр 02 10:23:43 d01server04t weed-filer[37643]: goroutine 125 [running]: апр 02 10:23:43 d01server04t weed-filer[37643]: github.com/chrislusf/seaweedfs/weed/filer.(*FilerStoreWrapper).DeleteEntry(0xc000625980, 0x2621610, 0xc000050080, 0xc0006405f0, 0x45, 0x0, 0x0) апр 02 10:23:43 d01server04t systemd[1]: weed-filer.service: main process exited, code=exited, status=2/INVALIDARGUMENT апр 02 10:23:43 d01server04t systemd[1]: Unit weed-filer.service entered failed state. апр 02 10:23:43 d01server04t systemd[1]: weed-filer.service failed. апр 02 10:24:13 d01server04t systemd[1]: weed-filer.service holdoff time over, scheduling restart. апр 02 10:24:13 d01server04t systemd[1]: Stopped weed filer server of cluster. апр 02 10:24:13 d01server04t systemd[1]: Started weed filer server of cluster. апр 02 10:24:19 d01server04t weed-filer[43721]: I0402 10:24:19 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:20 d01server04t weed-filer[43721]: I0402 10:24:20 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:21 d01server04t weed-filer[43721]: I0402 10:24:21 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:22 d01server04t weed-filer[43721]: I0402 10:24:22 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:23 d01server04t weed-filer[43721]: I0402 10:24:23 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:24 d01server04t weed-filer[43721]: I0402 10:24:24 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:25 d01server04t weed-filer[43721]: I0402 10:24:25 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:26 d01server04t weed-filer[43721]: I0402 10:24:26 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:27 d01server04t weed-filer[43721]: I0402 10:24:27 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:28 d01server04t weed-filer[43721]: I0402 10:24:28 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:29 d01server04t weed-filer[43721]: I0402 10:24:29 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:30 d01server04t weed-filer[43721]: I0402 10:24:30 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:31 d01server04t weed-filer[43721]: I0402 10:24:31 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:32 d01server04t weed-filer[43721]: I0402 10:24:32 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:33 d01server04t weed-filer[43721]: I0402 10:24:33 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:34 d01server04t weed-filer[43721]: I0402 10:24:34 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:35 d01server04t weed-filer[43721]: I0402 10:24:35 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:36 d01server04t weed-filer[43721]: I0402 10:24:36 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:37 d01server04t weed-filer[43721]: I0402 10:24:37 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:38 d01server04t weed-filer[43721]: I0402 10:24:38 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:39 d01server04t weed-filer[43721]: I0402 10:24:39 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:40 d01server04t weed-filer[43721]: I0402 10:24:40 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:41 d01server04t weed-filer[43721]: I0402 10:24:41 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:42 d01server04t weed-filer[43721]: I0402 10:24:42 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:43 d01server04t weed-filer[43721]: I0402 10:24:43 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:44 d01server04t weed-filer[43721]: I0402 10:24:44 43721 s3.go:166] wait to connect to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 masterclient.go:126] redirected to leader 10.11.10.72:9333 апр 02 10:24:45 d01server04t weed-filer[43721]: W0402 10:24:45 43721 filer_server.go:117] skipping default store dir in /var/lib/seaweedfs/filer/filerldb2 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 filer.go:101] existing filer.store.id = 541754507 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 configuration.go:28] configured filer store to postgres2 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 meta_aggregator.go:67] connecting to peer filer 10.10.10.148:8888: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 filer.go:196] Start Seaweed Filer 30GB 2.36 6b7aa96 at 10.10.10.148:8888 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 meta_aggregator.go:191] readOffset 10.11.10.76:8888 : 1617348080880875447 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 meta_aggregator.go:78] follow peer: 10.11.10.76:8888, last 2021-04-02 10:21:20.880875447 +0300 MSK (1617348080880875447) апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 s3.go:162] S3 read filer buckets dir: /buckets апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 s3.go:169] connected to filer 10.10.10.148:8888 grpc address 10.10.10.148:18888 апр 02 10:24:45 d01server04t weed-filer[43721]: W0402 10:24:45 43721 auth_credentials.go:48] fail to load config: read S3 config: http://10.10.10.148:8888/etc/iam/identity.json: 404 Not Found апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 s3.go:201] Start Seaweed S3 API Server 30GB 2.36 6b7aa96 at https port 443 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 filer_grpc_server_sub_meta.go:196] + listener s3@10.10.10.148:43326 апр 02 10:24:45 d01server04t weed-filer[43721]: I0402 10:24:45 43721 filer_grpc_server_sub_meta.go:26] s3@10.10.10.148:43326 starts to subscribe /etc/iam/identity.json from 2021-04-02 10:24:45.663820992 +0300 MSK апр 02 10:24:46 d01server04t weed-filer[43721]: I0402 10:24:46 43721 filer_grpc_server_sub_meta.go:196] + listener filer:10.10.10.148:8888@10.10.10.148:43326 апр 02 10:24:46 d01server04t weed-filer[43721]: I0402 10:24:46 43721 filer_grpc_server_sub_meta.go:77] filer:10.10.10.148:8888@10.10.10.148:43326 local subscribe / from 2021-04-02 10:23:45.095542048 +0300 MSK апр 02 10:24:52 d01server04t weed-filer[43721]: I0402 10:24:52 43721 filer_grpc_server_sub_meta.go:196] + listener filer:10.11.10.76:8888@10.11.10.76:35024 апр 02 10:24:52 d01server04t weed-filer[43721]: I0402 10:24:52 43721 filer_grpc_server_sub_meta.go:77] filer:10.11.10.76:8888@10.11.10.76:35024 local subscribe / from 2021-04-01 13:40:24.386199338 +0300 MSK апр 02 12:33:37 d01server04t weed-filer[43721]: I0402 12:33:37 43721 meta_aggregator.go:93] synced with 10.11.10.76:8888 ``` &lt;/p&gt; &lt;/details&gt; &lt;details&gt; &lt;summary&gt;See d02server05t filer2 log&lt;/summary&gt; &lt;p&gt; ```bash апр 02 10:21:24 d02server05t weed-filer[114137]: I0402 10:21:24 14137 filer_grpc_server_sub_meta.go:201] - listener filer:10.10.10.148:8888@10.10.10.148:39402 апр 02 10:23:43 d02server05t weed-filer[114137]: I0402 10:23:43 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: rpc error: code = Unavailable desc = transport is closing апр 02 10:23:45 d02server05t weed-filer[114137]: I0402 10:23:45 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:46 d02server05t weed-filer[114137]: I0402 10:23:46 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:48 d02server05t weed-filer[114137]: I0402 10:23:48 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:50 d02server05t weed-filer[114137]: I0402 10:23:50 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:51 d02server05t weed-filer[114137]: I0402 10:23:51 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:53 d02server05t weed-filer[114137]: I0402 10:23:53 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:55 d02server05t weed-filer[114137]: I0402 10:23:55 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:57 d02server05t weed-filer[114137]: I0402 10:23:57 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:23:58 d02server05t weed-filer[114137]: I0402 10:23:58 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:00 d02server05t weed-filer[114137]: I0402 10:24:00 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:02 d02server05t weed-filer[114137]: I0402 10:24:02 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:04 d02server05t weed-filer[114137]: I0402 10:24:04 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:05 d02server05t weed-filer[114137]: I0402 10:24:05 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:07 d02server05t weed-filer[114137]: I0402 10:24:07 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:09 d02server05t weed-filer[114137]: I0402 10:24:09 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:11 d02server05t weed-filer[114137]: I0402 10:24:11 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:12 d02server05t weed-filer[114137]: I0402 10:24:12 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:14 d02server05t weed-filer[114137]: I0402 10:24:14 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:16 d02server05t weed-filer[114137]: I0402 10:24:16 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:17 d02server05t weed-filer[114137]: I0402 10:24:17 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:19 d02server05t weed-filer[114137]: I0402 10:24:19 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:21 d02server05t weed-filer[114137]: I0402 10:24:21 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:23 d02server05t weed-filer[114137]: I0402 10:24:23 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:24 d02server05t weed-filer[114137]: I0402 10:24:24 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:26 d02server05t weed-filer[114137]: I0402 10:24:26 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:28 d02server05t weed-filer[114137]: I0402 10:24:28 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:30 d02server05t weed-filer[114137]: I0402 10:24:30 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:31 d02server05t weed-filer[114137]: I0402 10:24:31 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:33 d02server05t weed-filer[114137]: I0402 10:24:33 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:35 d02server05t weed-filer[114137]: I0402 10:24:35 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:37 d02server05t weed-filer[114137]: I0402 10:24:37 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:38 d02server05t weed-filer[114137]: I0402 10:24:38 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:40 d02server05t weed-filer[114137]: I0402 10:24:40 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:42 d02server05t weed-filer[114137]: I0402 10:24:42 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:44 d02server05t weed-filer[114137]: I0402 10:24:44 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:45 d02server05t weed-filer[114137]: I0402 10:24:45 14137 filer_grpc_server_sub_meta.go:196] + listener filer:10.10.10.148:8888@10.10.10.148:47746 апр 02 10:24:45 d02server05t weed-filer[114137]: I0402 10:24:45 14137 filer_grpc_server_sub_meta.go:77] filer:10.10.10.148:8888@10.10.10.148:47746 local subscribe / from 2021-04-02 10:21:20.880875447 +0300 MSK апр 02 10:24:45 d02server05t weed-filer[114137]: I0402 10:24:45 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:47 d02server05t weed-filer[114137]: I0402 10:24:47 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:49 d02server05t weed-filer[114137]: I0402 10:24:49 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 10:24:50 d02server05t weed-filer[114137]: I0402 10:24:50 14137 meta_aggregator.go:151] subscribing remote 10.10.10.148:8888 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.10.10.148:18888: connect: connection refused&quot; апр 02 11:54:05 d02server05t weed-filer[114137]: E0402 11:54:05 14137 auth_credentials_subscribe.go:66] subscribing filer meta change: rpc error: code = Unavailable desc = transport is closing апр 02 11:54:05 d02server05t weed-filer[114137]: I0402 11:54:05 14137 meta_aggregator.go:151] subscribing remote 10.11.10.76:8888 meta change: rpc error: code = Unavailable desc = transport is closing апр 02 11:54:06 d02server05t weed-filer[114137]: I0402 11:54:06 14137 filer_grpc_server_sub_meta.go:196] + listener s3@10.11.10.76:45624 апр 02 11:54:06 d02server05t weed-filer[114137]: I0402 11:54:06 14137 filer_grpc_server_sub_meta.go:26] s3@10.11.10.76:45624 starts to subscribe /etc/iam/identity.json from 2021-04-01 16:59:46.479385901 +0300 MSK апр 02 11:54:07 d02server05t weed-filer[114137]: I0402 11:54:07 14137 filer_grpc_server_sub_meta.go:196] + listener filer:10.11.10.76:8888@10.11.10.76:45624 апр 02 11:54:07 d02server05t weed-filer[114137]: I0402 11:54:07 14137 filer_grpc_server_sub_meta.go:77] filer:10.11.10.76:8888@10.11.10.76:45624 local subscribe / from 2021-04-02 10:23:43.287381707 +0300 MSK апр 02 12:33:37 d02server05t weed-filer[114137]: I0402 12:33:37 14137 filer_grpc_server_sub_meta.go:187] =&gt; client filer:10.10.10.148:8888@10.10.10.148:43660: rpc error: code = Unavailable desc = transport is closing апр 02 12:33:37 d02server05t weed-filer[114137]: I0402 12:33:37 14137 filer_grpc_server_sub_meta.go:187] =&gt; client filer:10.11.10.76:8888@10.11.10.76:59254: rpc error: code = Unavailable desc = transport is closing апр 02 12:33:37 d02server05t weed-filer[114137]: E0402 12:33:37 14137 filer_grpc_server_sub_meta.go:110] processed to 2021-04-02 12:33:37.150608013 +0300 MSK: rpc error: code = Unavailable desc = transport is closing апр 02 12:33:37 d02server05t weed-filer[114137]: E0402 12:33:37 14137 filer_grpc_server_sub_meta.go:110] processed to 2021-04-02 12:33:37.150608013 +0300 MSK: rpc error: code = Unavailable desc = transport is closing апр 02 12:33:40 d02server05t weed-filer[114137]: I0402 12:33:40 14137 filer_grpc_server_sub_meta.go:201] - listener filer:10.11.10.76:8888@10.11.10.76:59254 апр 02 12:33:40 d02server05t weed-filer[114137]: I0402 12:33:40 14137 filer_grpc_server_sub_meta.go:201] ``` &lt;/p&gt; &lt;/details&gt; My configuration. ``` defaultreplication = '101' masters = 10.10.10.145:9333,10.10.10.146:9333,10.10.10.148:9333,10.11.10.72:9333,10.11.10.73:9333,10.11.10.74:9333,10.12.10.20:9333 volumes = 10.10.10.145:8080,10.10.10.146:8080,10.10.10.148:8080,10.10.10.150:8080,10.11.10.72:8080,10.11.10.73:8080,10.11.10.74:8080,10.11.10.75:8080,10.11.10.76:8080,10.11.10.77:8080 filers = 10.11.10.76:8888,10.10.10.148:8888 filers have peers = 10.11.10.76:8888,10.10.10.148:8888 ``` ``` filer1 - d01server04t - 10.10.10.148 - posgresql 9.6 store filer2 - d02server05t - 10.11.10.76 - other posgresql 9.6 store ``` **System Setup** - OS version CentOS Linux release 7.6.1810 - output of `weed version` version 30GB 2.36 6b7aa96 linux amd64 - if using filer, show the content of `filer.toml` **Filer1** &lt;details&gt; &lt;summary&gt;Filer1 filer.toml&lt;/summary&gt; &lt;p&gt; ``` # A sample TOML config file for SeaweedFS filer store # Used with &quot;weed filer&quot; or &quot;weed server -filer&quot; # Put this file to one of the location, with descending priority # ./filer.toml # $HOME/.seaweedfs/filer.toml # /etc/seaweedfs/filer.toml #################################################### # Customizable filer server options #################################################### [filer.options] # with http DELETE, by default the filer would check whether a folder is empty. # recursive_delete will delete all sub folders and files, similar to &quot;rm -Rf&quot; recursive_delete = false # directories under this folder will be automatically creating a separate bucket buckets_folder = &quot;/buckets&quot; #################################################### # The following are filer store options #################################################### [postgres2] enabled = true createTable = &quot;&quot;&quot; CREATE TABLE IF NOT EXISTS &quot;%s&quot; ( dirhash BIGINT, name VARCHAR(65535), directory VARCHAR(65535), meta bytea, PRIMARY KEY (dirhash, name) ); &quot;&quot;&quot; hostname = &quot;10.11.10.253&quot; port = 5432 username = &quot;seaweedfs&quot; password = &quot;pass&quot; database = &quot;seaweedfs&quot; # create or use an existing database schema = &quot;&quot; sslmode = &quot;disable&quot; connection_max_idle = 100 connection_max_open = 100 connection_max_lifetime_seconds = 0 ``` &lt;/p&gt; &lt;/details&gt; **Filer2** &lt;details&gt; &lt;summary&gt;Filer1 filer.toml&lt;/summary&gt; &lt;p&gt; ``` # A sample TOML config file for SeaweedFS filer store # Used with &quot;weed filer&quot; or &quot;weed server -filer&quot; # Put this file to one of the location, with descending priority # ./filer.toml # $HOME/.seaweedfs/filer.toml # /etc/seaweedfs/filer.toml #################################################### # Customizable filer server options #################################################### [filer.options] # with http DELETE, by default the filer would check whether a folder is empty. # recursive_delete will delete all sub folders and files, similar to &quot;rm -Rf&quot; recursive_delete = false # directories under this folder will be automatically creating a separate bucket buckets_folder = &quot;/buckets&quot; #################################################### # The following are filer store options #################################################### [postgres2] enabled = true createTable = &quot;&quot;&quot; CREATE TABLE IF NOT EXISTS &quot;%s&quot; ( dirhash BIGINT, name VARCHAR(65535), directory VARCHAR(65535), meta bytea, PRIMARY KEY (dirhash, name) ); &quot;&quot;&quot; hostname = &quot;10.10.10.110&quot; port = 5432 username = &quot;seaweedfs&quot; password = &quot;pass&quot; database = &quot;seaweedfs&quot; # create or use an existing database schema = &quot;&quot; sslmode = &quot;disable&quot; connection_max_idle = 100 connection_max_open = 100 connection_max_lifetime_seconds = 0 ``` &lt;/p&gt; &lt;/details&gt; **Expected behavior** A clear and concise description of what you expected to happen. Synchronization of metadata without errors</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>correct help message</MESSAGE>
    <SHA>46ef1811a18e4a6e704be801b55884fd1d40c9a8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>clean up .uploads directory in mysql and postgres tables fix https://github.com/chrislusf/seaweedfs/issues/1957 When no uploads are running, you can run this SQL to clean up. delete from &lt;bucket_name&gt; where directory like '/.uploads/%'</MESSAGE>
      <SHA>89eb9f6e7073460838699b9c3a42f2cb830f8224</SHA>
      <PATCHEDFILES>
        <FILE>weed/filer/abstract_sql/abstract_sql_store.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>clean up .uploads directory in mysql and postgres tables fix https://github.com/chrislusf/seaweedfs/issues/1957 When no uploads are running, you can run this SQL to clean up. delete from &lt;bucket_name&gt; where directory like '/.uploads/%'</MESSAGE>
      <SHA>f304287e99c6e960e3cae445a647400884e2a563</SHA>
      <PATCHEDFILES>
        <FILE>weed/filer/abstract_sql/abstract_sql_store.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
