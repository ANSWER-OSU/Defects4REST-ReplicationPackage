<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>46</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/46</ISSUEURL>
  <TITLE>Docker build not working</TITLE>
  <DESCRIPTION>Seems like it can't `opkg-install curl` ``` Shell $ docker build -t weedfs . Sending build context to Docker daemon 50.78 MB Sending build context to Docker daemon Step 0 : FROM progrium/busybox Pulling repository progrium/busybox 6f114d3139e3: Download complete 511136ea3c5a: Download complete e2fb46397934: Download complete 015fb409be0d: Download complete 21082221cb6e: Download complete bbd692fe2ca1: Download complete 8db8f013bfca: Download complete 7fff0c6f0b8d: Download complete 7acf13620725: Download complete Status: Downloaded newer image for progrium/busybox:latest ---&gt; 6f114d3139e3 Step 1 : WORKDIR /opt/weed ---&gt; Running in 028351e07e71 ---&gt; d1d57d22ef4d Removing intermediate container 028351e07e71 Step 2 : RUN opkg-install curl ---&gt; Running in 2fd9079c8d42 wget: bad address 'downloads.openwrt.org' wget: bad address 'downloads.openwrt.org' Downloading http://downloads.openwrt.org/snapshots/trunk/x86_64/packages/base/Packages.gz. Downloading http://downloads.openwrt.org/snapshots/trunk/x86_64/packages/packages/Packages.gz. Collected errors: * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trunk/x86_64/packages/base/Packages.gz, wget returned 1. * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trunk/x86_64/packages/packages/Packages.gz, wget returned 1. Unknown package 'curl'. Collected errors: * opkg_install_cmd: Cannot install package curl. ---&gt; 958aa12283bc Removing intermediate container 2fd9079c8d42 Step 3 : RUN echo insecure &gt;&gt; ~/.curlrc ---&gt; Running in 576c9f7a23d3 ---&gt; c39d8579e570 Removing intermediate container 576c9f7a23d3 Step 4 : RUN curl -Lks https://bintray.com$(curl -Lk http://bintray.com/chrislusf/Weed-FS/seaweed/_latestVersion | grep linux_amd64.tar.gz | sed -n &quot;/href/ s/.*href=['\&quot;]\([^'\&quot;]*\)['\&quot;].*/\1/gp&quot;) | gunzip | tar -xf - -C /opt/weed/ &amp;&amp; mv weed_* bin &amp;&amp; chmod +x ./bin/weed ---&gt; Running in 5d84f61c0e11 /bin/sh: curl: not found /bin/sh: curl: not found gunzip: invalid magic tar: short read INFO[0095] The command [/bin/sh -c curl -Lks https://bintray.com$(curl -Lk http://bintray.com/chrislusf/Weed-FS/seaweed/_latestVersion | grep linux_amd64.tar.gz | sed -n &quot;/href/ s/.*href=['\&quot;]\([^'\&quot;]*\)['\&quot;].*/\1/gp&quot;) | gunzip | tar -xf - -C /opt/weed/ &amp;&amp; mv weed_* bin &amp;&amp; chmod +x ./bin/weed] returned a non-zero code: 1 ``` ``` Shell $ docker --version Docker version 1.4.1, build 5bc2ff8 ```</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>add mailing list</MESSAGE>
    <SHA>eb174a3de1bd020e26081176a9d05a9822f66b66</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #66 from forrestsun/master fix bug: #46</MESSAGE>
      <SHA>3edc33732a66c768f9e4ae35e97fc4cba33b22b4</SHA>
      <PATCHEDFILES>
        <FILE>Dockerfile</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
