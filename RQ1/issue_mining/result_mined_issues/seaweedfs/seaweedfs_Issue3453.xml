<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3453</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/3453</ISSUEURL>
  <TITLE>Empty buckets with out-TTLed data report EiB data sizes</TITLE>
  <DESCRIPTION>**Describe the bug** We are using buckets in a rolling manner. Our app creates per day or per hour buckets with fixed TTL. After TTL is expired, whole data from the bucket is wiped, so it doesn't contain any volumes in it. But `SeaweedFS_volumeServer_total_disk_size` metric reports EiB sizes. **Expected behavior** Metric should report 0 for empty buckets **Screenshots** ![image](https://user-images.githubusercontent.com/3438036/184947358-1fcff65c-7f0a-45f7-96c2-ea48237b965d.png) ![image](https://user-images.githubusercontent.com/3438036/184947174-4581008a-2d94-4fee-a738-75cac2b744e4.png)</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>s3: fix regression on HEAD directory operation</MESSAGE>
    <SHA>79910f905f0ae3df3113095feb2ea891ffc948b3</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>s3: remove deleted collection during metrics reporting fix https://github.com/seaweedfs/seaweedfs/issues/3453</MESSAGE>
      <SHA>be1a00ab1bf8a4179220974b943fcf1a8e866204</SHA>
      <PATCHEDFILES>
        <FILE>weed/storage/store.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
