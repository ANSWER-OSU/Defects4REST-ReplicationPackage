<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1627</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/1627</ISSUEURL>
  <TITLE>Feature Request: Simple Health Check Endpoint - Volume server</TITLE>
  <DESCRIPTION>Hi, when running seaweedfs in k8s env. (or any deployment in k8s) the [liveness probe](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-a-liveness-command) is an important tool to keep your software healthy and restart pods if they are misbehaving. the master/filer/s3 have pretty easy HTTP routes that can be checked. the volume server only HTTP route is '/status' which checks ALL the volumes that exist and is pretty heavy... can we add another route to the volume server (or even maybe to all?) something like '/hc' that will be a simple internal check ( filer example, can connect to backend db?, master he is the selected master or can connect to a master, volume server can see the disk usage?) and return 20X status code. Regards.</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>1371</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>chore(deps): bump github.com/aws/aws-sdk-go-v2/service/s3 from 1.58.3 to 1.61.2 (#5994) chore(deps): bump github.com/aws/aws-sdk-go-v2/service/s3 Bumps [github.com/aws/aws-sdk-go-v2/service/s3](https://github.com/aws/aws-sdk-go-v2) from 1.58.3 to 1.61.2. - [Release notes](https://github.com/aws/aws-sdk-go-v2/releases) - [Commits](https://github.com/aws/aws-sdk-go-v2/compare/service/s3/v1.58.3...service/s3/v1.61.2) --- updated-dependencies: - dependency-name: github.com/aws/aws-sdk-go-v2/service/s3 dependency-type: direct:production update-type: version-update:semver-minor ... Signed-off-by: dependabot[bot] &lt;support@github.com&gt; Co-authored-by: dependabot[bot] &lt;49699333+dependabot[bot]@users.noreply.github.com&gt;</MESSAGE>
    <SHA>92b87cbfb632b4343a9eb038a6ebaebda841fae7</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[Helm chart] use `/healthz` as default route in readiness/liveness (#5990) feat: #1627 use `/healthz` as default route in readinessProbe/livenessProbe of volume server</MESSAGE>
      <SHA>0c0666055ba9fc26c3943cf3cd11fc17a5a412b7</SHA>
      <PATCHEDFILES>
        <FILE>k8s/charts/seaweedfs/values.yaml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
