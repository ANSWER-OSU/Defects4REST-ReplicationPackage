<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1647</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/1647</ISSUEURL>
  <TITLE>S3 API - enforce recursive delete</TITLE>
  <DESCRIPTION>Hi @chrislusf https://github.com/chrislusf/seaweedfs/blob/781585b195bee1ef389a48c3303d93200edd7fab/weed/s3api/s3api_object_handlers.go#L116 can we have it configurable by ENV? in order not to break backward compatibility, maybe have it defaulted to recursive delete, but that's not s3 compatible (s3 delete is only direct, need to do listObjects and send all objects) 10x!</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>refactor</MESSAGE>
    <SHA>cc2bd97ad95ffc22af1d9faaee90a05e6e0fb015</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>s3: remove empty parent folder on delete fix https://github.com/chrislusf/seaweedfs/issues/1637</MESSAGE>
      <SHA>0d345ac97d941bef0991c0cb08632ccf08c0ee83</SHA>
      <PATCHEDFILES>
        <FILE>weed/filer/filer_delete_entry.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
