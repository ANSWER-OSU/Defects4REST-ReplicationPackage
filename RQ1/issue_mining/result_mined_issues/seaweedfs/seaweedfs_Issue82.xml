<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>82</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/82</ISSUEURL>
  <TITLE>get content type error</TITLE>
  <DESCRIPTION>hi, I use weed-fs 1 years ago. It is an old version [0.45] of weed. I post an image to weedfs, then I get it from browser , It will display correctly. curl -F file=@/home/chris/myphoto.jpg http://localhost:9333/submit when I use 0.67 of weed. I do the same post, But the same images cannot display in the browser correctly. It cannot display then do download in the chrome. what is wrong about the weed version up? How can I config to this get header output ? please help me.</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #81 from chrislusf/master sync</MESSAGE>
    <SHA>1de733fda507e1da94b2e4741c74ba7e5e2c5f76</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #82 from chrislusf/master sync</MESSAGE>
      <SHA>0548ed3a1b5aa15b035b452519568bc017c065a3</SHA>
      <PATCHEDFILES>
        <FILE>.github/workflows/binaries_dev.yml</FILE>
        <FILE>.github/workflows/binaries_release0.yml</FILE>
        <FILE>.github/workflows/binaries_release1.yml</FILE>
        <FILE>.github/workflows/binaries_release2.yml</FILE>
        <FILE>.github/workflows/binaries_release3.yml</FILE>
        <FILE>.github/workflows/container_dev.yml</FILE>
        <FILE>.github/workflows/container_release.yml</FILE>
        <FILE>.github/workflows/container_release1.yml</FILE>
        <FILE>.github/workflows/container_release2.yml</FILE>
        <FILE>.github/workflows/container_release3.yml</FILE>
        <FILE>README.md</FILE>
        <FILE>docker/Dockerfile.rocksdb_large</FILE>
        <FILE>docker/Makefile</FILE>
        <FILE>go.mod</FILE>
        <FILE>go.sum</FILE>
        <FILE>k8s/helm_charts2/Chart.yaml</FILE>
        <FILE>k8s/helm_charts2/templates/filer-servicemonitor.yaml</FILE>
        <FILE>k8s/helm_charts2/templates/ingress.yaml</FILE>
        <FILE>k8s/helm_charts2/templates/s3-servicemonitor.yaml</FILE>
        <FILE>k8s/helm_charts2/templates/volume-servicemonitor.yaml</FILE>
        <FILE>k8s/helm_charts2/values.yaml</FILE>
        <FILE>note/SeaweedFS_Gateway_RemoteObjectStore.png</FILE>
        <FILE>other/java/client/pom.xml</FILE>
        <FILE>other/java/client/pom.xml.deploy</FILE>
        <FILE>other/java/client/pom_debug.xml</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/ChunkCache.java</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/FilerClient.java</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/FilerGrpcClient.java</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/SeaweedWrite.java</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/VolumeIdCache.java</FILE>
        <FILE>other/java/client/src/main/proto/filer.proto</FILE>
        <FILE>other/java/examples/pom.xml</FILE>
        <FILE>other/java/hdfs2/dependency-reduced-pom.xml</FILE>
        <FILE>other/java/hdfs2/pom.xml</FILE>
        <FILE>other/java/hdfs2/src/main/java/seaweed/hdfs/SeaweedFileSystem.java</FILE>
        <FILE>other/java/hdfs2/src/main/java/seaweed/hdfs/SeaweedFileSystemStore.java</FILE>
        <FILE>other/java/hdfs3/dependency-reduced-pom.xml</FILE>
        <FILE>other/java/hdfs3/pom.xml</FILE>
        <FILE>other/java/hdfs3/src/main/java/seaweed/hdfs/SeaweedFileSystem.java</FILE>
        <FILE>other/java/hdfs3/src/main/java/seaweed/hdfs/SeaweedFileSystemStore.java</FILE>
        <FILE>test/s3/multipart/aws_upload.go</FILE>
        <FILE>unmaintained/diff_volume_servers/diff_volume_servers.go</FILE>
        <FILE>unmaintained/load_test/load_test_meta_tail/load_test_meta_tail.go</FILE>
        <FILE>unmaintained/repeated_vacuum/repeated_vacuum.go</FILE>
        <FILE>unmaintained/stream_read_volume/stream_read_volume.go</FILE>
        <FILE>unmaintained/volume_tailer/volume_tailer.go</FILE>
        <FILE>weed/command/backup.go</FILE>
        <FILE>weed/command/benchmark.go</FILE>
        <FILE>weed/command/command.go</FILE>
        <FILE>weed/command/download.go</FILE>
        <FILE>weed/command/filer.go</FILE>
        <FILE>weed/command/filer_backup.go</FILE>
        <FILE>weed/command/filer_cat.go</FILE>
        <FILE>weed/command/filer_copy.go</FILE>
        <FILE>weed/command/filer_meta_backup.go</FILE>
        <FILE>weed/command/filer_meta_tail.go</FILE>
        <FILE>weed/command/filer_remote_gateway.go</FILE>
        <FILE>weed/command/filer_remote_gateway_buckets.go</FILE>
        <FILE>weed/command/filer_remote_sync.go</FILE>
        <FILE>weed/command/filer_remote_sync_dir.go</FILE>
        <FILE>weed/command/filer_sync.go</FILE>
        <FILE>weed/command/iam.go</FILE>
        <FILE>weed/command/imports.go</FILE>
        <FILE>weed/command/master.go</FILE>
        <FILE>weed/command/master_follower.go</FILE>
        <FILE>weed/command/mount_std.go</FILE>
        <FILE>weed/command/msg_broker.go</FILE>
        <FILE>weed/command/s3.go</FILE>
        <FILE>weed/command/scaffold/filer.toml</FILE>
        <FILE>weed/command/scaffold/master.toml</FILE>
        <FILE>weed/command/server.go</FILE>
        <FILE>weed/command/shell.go</FILE>
        <FILE>weed/command/upload.go</FILE>
        <FILE>weed/command/volume.go</FILE>
        <FILE>weed/command/webdav.go</FILE>
        <FILE>weed/filer.toml</FILE>
        <FILE>weed/filer/filer.go</FILE>
        <FILE>weed/filer/filer_notify.go</FILE>
        <FILE>weed/filer/filer_notify_append.go</FILE>
        <FILE>weed/filer/filer_search.go</FILE>
        <FILE>weed/filer/filerstore_translate_path.go</FILE>
        <FILE>weed/filer/filerstore_wrapper.go</FILE>
        <FILE>weed/filer/leveldb/leveldb_store_test.go</FILE>
        <FILE>weed/filer/leveldb2/leveldb2_store_test.go</FILE>
        <FILE>weed/filer/leveldb3/leveldb3_store_test.go</FILE>
        <FILE>weed/filer/meta_aggregator.go</FILE>
        <FILE>weed/filer/redis/universal_redis_store.go</FILE>
        <FILE>weed/filer/redis2/universal_redis_store.go</FILE>
        <FILE>weed/filer/redis3/ItemList.go</FILE>
        <FILE>weed/filer/redis3/item_list_serde.go</FILE>
        <FILE>weed/filer/redis3/kv_directory_children.go</FILE>
        <FILE>weed/filer/redis3/kv_directory_children_test.go</FILE>
        <FILE>weed/filer/redis3/redis_cluster_store.go</FILE>
        <FILE>weed/filer/redis3/redis_store.go</FILE>
        <FILE>weed/filer/redis3/skiplist_element_store.go</FILE>
        <FILE>weed/filer/redis3/universal_redis_store.go</FILE>
        <FILE>weed/filer/redis3/universal_redis_store_kv.go</FILE>
        <FILE>weed/filer/remote_mapping.go</FILE>
        <FILE>weed/filer/remote_storage.go</FILE>
        <FILE>weed/filer/rocksdb/rocksdb_store.go</FILE>
        <FILE>weed/filer/rocksdb/rocksdb_ttl.go</FILE>
        <FILE>weed/filer/tikv/tikv.go</FILE>
        <FILE>weed/filer/tikv/tikv_store.go</FILE>
        <FILE>weed/filer/tikv/tikv_store_kv.go</FILE>
        <FILE>weed/filesys/wfs.go</FILE>
        <FILE>weed/filesys/wfs_filer_client.go</FILE>
        <FILE>weed/filesys/wfs_write.go</FILE>
        <FILE>weed/filesys/xattr.go</FILE>
        <FILE>weed/ftpd/ftp_server.go</FILE>
        <FILE>weed/iamapi/iamapi_server.go</FILE>
        <FILE>weed/messaging/broker/broker_append.go</FILE>
        <FILE>weed/messaging/broker/broker_grpc_server_discovery.go</FILE>
        <FILE>weed/messaging/broker/broker_grpc_server_subscribe.go</FILE>
        <FILE>weed/messaging/broker/broker_server.go</FILE>
        <FILE>weed/operation/assign_file_id.go</FILE>
        <FILE>weed/operation/chunked_file.go</FILE>
        <FILE>weed/operation/delete_content.go</FILE>
        <FILE>weed/operation/grpc_client.go</FILE>
        <FILE>weed/operation/lookup.go</FILE>
        <FILE>weed/operation/submit.go</FILE>
        <FILE>weed/operation/sync_volume.go</FILE>
        <FILE>weed/operation/tail_volume.go</FILE>
        <FILE>weed/pb/filer.proto</FILE>
        <FILE>weed/pb/filer_pb/filer.pb.go</FILE>
        <FILE>weed/pb/filer_pb/filer_client.go</FILE>
        <FILE>weed/pb/filer_pb_tail.go</FILE>
        <FILE>weed/pb/grpc_client_server.go</FILE>
        <FILE>weed/pb/master.proto</FILE>
        <FILE>weed/pb/master_pb/master.pb.go</FILE>
        <FILE>weed/pb/server_address.go</FILE>
        <FILE>weed/pb/volume_server.proto</FILE>
        <FILE>weed/pb/volume_server_pb/volume_server.pb.go</FILE>
        <FILE>weed/remote_storage/s3/s3_storage_client.go</FILE>
        <FILE>weed/remote_storage/track_sync_offset.go</FILE>
        <FILE>weed/replication/replicator.go</FILE>
        <FILE>weed/replication/sink/filersink/fetch_write.go</FILE>
        <FILE>weed/s3api/filer_multipart.go</FILE>
        <FILE>weed/s3api/s3api_bucket_handlers.go</FILE>
        <FILE>weed/s3api/s3api_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_copy_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_handlers_postpolicy.go</FILE>
        <FILE>weed/s3api/s3api_object_multipart_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_skip_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_tagging_handlers.go</FILE>
        <FILE>weed/s3api/s3api_objects_list_handlers.go</FILE>
        <FILE>weed/s3api/s3api_server.go</FILE>
        <FILE>weed/sequence/etcd_sequencer.go</FILE>
        <FILE>weed/server/filer_grpc_server.go</FILE>
        <FILE>weed/server/filer_grpc_server_remote.go</FILE>
        <FILE>weed/server/filer_grpc_server_sub_meta.go</FILE>
        <FILE>weed/server/filer_server.go</FILE>
        <FILE>weed/server/filer_server_handlers_read.go</FILE>
        <FILE>weed/server/filer_server_handlers_write_autochunk.go</FILE>
        <FILE>weed/server/master_grpc_server.go</FILE>
        <FILE>weed/server/master_grpc_server_collection.go</FILE>
        <FILE>weed/server/master_grpc_server_volume.go</FILE>
        <FILE>weed/server/master_server.go</FILE>
        <FILE>weed/server/master_server_handlers.go</FILE>
        <FILE>weed/server/master_server_handlers_admin.go</FILE>
        <FILE>weed/server/raft_server.go</FILE>
        <FILE>weed/server/raft_server_handlers.go</FILE>
        <FILE>weed/server/volume_grpc_client_to_master.go</FILE>
        <FILE>weed/server/volume_grpc_copy.go</FILE>
        <FILE>weed/server/volume_grpc_erasure_coding.go</FILE>
        <FILE>weed/server/volume_grpc_read_all.go</FILE>
        <FILE>weed/server/volume_grpc_remote.go</FILE>
        <FILE>weed/server/volume_grpc_tail.go</FILE>
        <FILE>weed/server/volume_server.go</FILE>
        <FILE>weed/server/volume_server_handlers_ui.go</FILE>
        <FILE>weed/server/webdav_server.go</FILE>
        <FILE>weed/shell/command_collection_delete.go</FILE>
        <FILE>weed/shell/command_ec_balance.go</FILE>
        <FILE>weed/shell/command_ec_common.go</FILE>
        <FILE>weed/shell/command_ec_decode.go</FILE>
        <FILE>weed/shell/command_ec_encode.go</FILE>
        <FILE>weed/shell/command_ec_rebuild.go</FILE>
        <FILE>weed/shell/command_fs_meta_save.go</FILE>
        <FILE>weed/shell/command_remote_cache.go</FILE>
        <FILE>weed/shell/command_remote_unmount.go</FILE>
        <FILE>weed/shell/command_s3_clean_uploads.go</FILE>
        <FILE>weed/shell/command_volume_balance.go</FILE>
        <FILE>weed/shell/command_volume_check_disk.go</FILE>
        <FILE>weed/shell/command_volume_configure_replication.go</FILE>
        <FILE>weed/shell/command_volume_copy.go</FILE>
        <FILE>weed/shell/command_volume_delete.go</FILE>
        <FILE>weed/shell/command_volume_delete_empty.go</FILE>
        <FILE>weed/shell/command_volume_fix_replication.go</FILE>
        <FILE>weed/shell/command_volume_fsck.go</FILE>
        <FILE>weed/shell/command_volume_mark.go</FILE>
        <FILE>weed/shell/command_volume_mount.go</FILE>
        <FILE>weed/shell/command_volume_move.go</FILE>
        <FILE>weed/shell/command_volume_server_evacuate.go</FILE>
        <FILE>weed/shell/command_volume_server_leave.go</FILE>
        <FILE>weed/shell/command_volume_tier_download.go</FILE>
        <FILE>weed/shell/command_volume_tier_move.go</FILE>
        <FILE>weed/shell/command_volume_tier_upload.go</FILE>
        <FILE>weed/shell/command_volume_unmount.go</FILE>
        <FILE>weed/shell/command_volume_vacuum.go</FILE>
        <FILE>weed/shell/commands.go</FILE>
        <FILE>weed/storage/backend/s3_backend/s3_download.go</FILE>
        <FILE>weed/storage/disk_location.go</FILE>
        <FILE>weed/storage/erasure_coding/ec_volume.go</FILE>
        <FILE>weed/storage/needle/needle.go</FILE>
        <FILE>weed/storage/needle/needle_parse_upload.go</FILE>
        <FILE>weed/storage/store.go</FILE>
        <FILE>weed/storage/store_ec.go</FILE>
        <FILE>weed/storage/store_ec_delete.go</FILE>
        <FILE>weed/storage/volume_backup.go</FILE>
        <FILE>weed/storage/volume_read_all.go</FILE>
        <FILE>weed/storage/volume_write_test.go</FILE>
        <FILE>weed/topology/allocate_volume.go</FILE>
        <FILE>weed/topology/data_node.go</FILE>
        <FILE>weed/topology/rack.go</FILE>
        <FILE>weed/topology/topology.go</FILE>
        <FILE>weed/topology/topology_ec.go</FILE>
        <FILE>weed/topology/topology_test.go</FILE>
        <FILE>weed/topology/topology_vacuum.go</FILE>
        <FILE>weed/topology/volume_layout.go</FILE>
        <FILE>weed/util/constants.go</FILE>
        <FILE>weed/util/file_util.go</FILE>
        <FILE>weed/util/log_buffer/log_buffer.go</FILE>
        <FILE>weed/util/network.go</FILE>
        <FILE>weed/util/skiplist/Makefile</FILE>
        <FILE>weed/util/skiplist/list_store.go</FILE>
        <FILE>weed/util/skiplist/name_batch.go</FILE>
        <FILE>weed/util/skiplist/name_list.go</FILE>
        <FILE>weed/util/skiplist/name_list_serde.go</FILE>
        <FILE>weed/util/skiplist/name_list_test.go</FILE>
        <FILE>weed/util/skiplist/skiplist.go</FILE>
        <FILE>weed/util/skiplist/skiplist.pb.go</FILE>
        <FILE>weed/util/skiplist/skiplist.proto</FILE>
        <FILE>weed/util/skiplist/skiplist_serde.go</FILE>
        <FILE>weed/util/skiplist/skiplist_test.go</FILE>
        <FILE>weed/wdclient/exclusive_locks/exclusive_locker.go</FILE>
        <FILE>weed/wdclient/masterclient.go</FILE>
        <FILE>weed/wdclient/vid_map.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
