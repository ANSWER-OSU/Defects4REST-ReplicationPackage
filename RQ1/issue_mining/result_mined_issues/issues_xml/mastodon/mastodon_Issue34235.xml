<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>34235</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/34235</ISSUEURL>
  <TITLE>User export link timeout too short</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. download archive from `/settings/export` 2. the archive fails to download ### Expected behaviour the archive should download ### Actual behaviour it didn't ### Detailed description i notice that in https://github.com/mastodon/mastodon/blob/1960aac90b16fce1ec620ac990aa931efcf04700/app/controllers/backups_controller.rb#L15 the timeout is `10`, given that nothing indicates else, i believe that this is seconds, which is super short, and gives no chances for retrying a download ### Mastodon instance _No response_ ### Mastodon version _No response_ ### Technical details If this is happening on your own Mastodon server, please fill out those: - Ruby version: (from `ruby --version`, eg. v3.4.1) - Node.js version: (from `node --version`, eg. v20.18.0)</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix `CacheBuster` being queued for missing media attachments (#34253)</MESSAGE>
    <SHA>ef870007e9b4f0a920e34adcb910d3880df96c7e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Change user archive signed URL TTL from 10 seconds to 1 hour Fixes #34235</MESSAGE>
      <SHA>e54d41317938e546d39afcaea8c1449aa644bfe7</SHA>
      <PATCHEDFILES>
        <FILE>app/controllers/backups_controller.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
