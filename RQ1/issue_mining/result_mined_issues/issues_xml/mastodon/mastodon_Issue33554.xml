<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>33554</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/33554</ISSUEURL>
  <TITLE>Attached images get squashed and the &quot;X&quot; and &quot;Edit&quot; buttons don't respond to clicks</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Start a new post in the web interface (with a reasonably wide browser window, so that the post editor is on the left column); 2. Attach four images; 3. Try to remove one of the images. ### Expected behaviour I should be able to click the &quot;X&quot; button to remove an image. ### Actual behaviour Both the &quot;X&quot; and the &quot;Edit&quot; buttons don't respond to clicks, only &quot;ALT&quot; does. ### Detailed description This screenshot illustrates the problem: &lt;img width=&quot;363&quot; alt=&quot;Image&quot; src=&quot;https://github.com/user-attachments/assets/7ade3868-4f81-4f7f-bb29-231130480915&quot; /&gt; ### Mastodon instance mastodon.social ### Mastodon version v4.4.0-alpha.1+pr-33401-1ac8df0 ### Browser name and version Chrome 131.0.6778.265 ### Operating system macOS 15.2 ### Technical details The unresponsive buttons are laid out under the `&lt;div class=&quot;compose-form__upload__warning&quot;&gt;` element. If I set `pointer-events: none` on that, the &quot;X&quot; and &quot;Edit&quot; buttons work. However, the &quot;ALT&quot; button (which is part of the aforementioned element) stops working. In the past the images didn't get squashed so much vertically in the editor. Currently the `&lt;div class=&quot;compose-form__uploads media-gallery media-gallery--layout-3&quot;&gt;` has `min-height: 64px` and it should perhaps be `150px` instead, for the overlaid controls to remain properly separated.</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Use `config_for` for `Mastodon::Version` metadata/prerelease values (#33548)</MESSAGE>
    <SHA>34cd7d6585992c03298c175ab5d22ad059b58cdb</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix media preview height in compose form when 3 or more images are attached Fixes #33554</MESSAGE>
      <SHA>0771df610b96f7902040a70f93433000fb41d82f</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/styles/mastodon/components.scss</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
