<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>27197</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/27197</ISSUEURL>
  <TITLE>Explore prompt shows up on fairly busy home timeline</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Follow about ~200 people who post and boost reasonably often (I see new posts on my home timeline about once every 1-5 minutes during the day) 2. Upgrade to Mastodon 4.2.0 ### Expected behaviour I wouldn't be prompted to follow more people ### Actual behaviour Got a prompt to see trending posts and people to follow ### Detailed description I feel like I use Mastodon fairly heavily, see plenty of posts in my timeline, use the advanced web interface with the local timeline also open where I see even more. A prompt that seems to be designed for new users who don't follow very many people and may want to discover more people to follow seems unnecessary and intrusive for someone who already uses Mastodon heavily. ### Mastodon instance hachyderm.io ### Mastodon version v4.2.0 ### Browser name and version Firefox 118.0.1 ### Operating system Ubuntu 22.04.3 LTS (Jammy Jellyfish) ### Technical details _No response_</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>20</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add RSpec GitHub annotations gem (#24040)</MESSAGE>
    <SHA>5ef26d8fd50081c642b858a82bf0c5431b1c7e83</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Consider shown and pending status in explore prompt calculation The explore prompt had been picking between shown and pending statuses when deciding whether to display the explore prompt, which prompts you to follow more people if your timeline is not very busy. Considering just the pending statuses would mean that sometimes, if you had posted something which was now a pending status, that would be filtered out (as the explore prompt calculation filters out our own status) leaving no statuses, and thus show the explore prompt, even if there is plenty of activity in the shown statuses. Instead, we should be considering the first 20 of both the pending and shown statuses for this computation; we need to concatenate the lists. Fixes #27197, fixes #27362</MESSAGE>
      <SHA>2f3e332dcac8be3ef727f4ab69a89db7411e759d</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/home_timeline/index.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Remove explore prompt In #25267 a prompt was added to encourage people to follow more accounts and hashtags if there weren't enough posts or variety when viewing your home timeline. This prompt has been showing up at a lot of inappropriate times on busy home timelines, leading to a series of bugs and PRs about it showing up when it shouldn't. See for example #25569 #25570 #25579 #27211 #27197 In #27726 and associated PR #27728 I discuss how I don't think that there really can be a reasonable fix for this prompt showing up on timelines which contain posts that have been delayed for whatever reason (outgoing or incoming queue on servers being behind, for example), without substantially increasing the number of posts we load initially or implementing the feature on the server side. Additionally, the dismissal state being stored purely client side means that the prompt can frustratingly keep showing up even if you dismiss it if you move between browsers, computers, private tabs, etc. So it seems that to truly implement this feature well, it can't be a purely client side feature; it needs some amount of API and server side implementation. That brings up the question of whether this feature is worth that complexity. This feature is prompting people to follow more people or hashtags because their home timeline is a bit slow; but maybe some people like it that way, or follow mostly the local or global timelines. One of the reasons that some people prefer Mastodon is that it doesn't aggressively push discovery features, while this is a fairly aggressive discovery feature, and without a bunch of extra effort can come up in quite inappropriate contexts. So this PR proposes just removing the feature. Fixing the feature, probably by moving more of the implementation server side, and possibly making it a bit less aggressive, might be another option, but I wanted to propose just removing it to get a feel for people's thoughts.</MESSAGE>
      <SHA>707f9006c70318e0fb19744e87e035ab36555343</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/features/home_timeline/components/explore_prompt.tsx</FILE>
        <FILE>app/javascript/mastodon/features/home_timeline/index.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
