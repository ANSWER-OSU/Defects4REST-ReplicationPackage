<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>30783</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/30783</ISSUEURL>
  <TITLE>&quot;Delete &amp; re-draft&quot; is only deleting</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem 1. Write a post in the web interface. 2. Select the &quot;Delete &amp; re-draft&quot; option from the ... menu. 3. Post is deleted, but &quot;Oops an error occurred&quot; happens. 4. Post content is lost. ### Expected behaviour Post is lost ### Actual behaviour Post is ready to draft ### Detailed description https://github.com/mastodon/mastodon/assets/3002053/c136f811-2a35-4cd7-85d1-2c3f828b5191 ### Mastodon instance vmst.io ### Mastodon version v4.3.0-alpha.4 ### Browser name and version Multiple ### Operating system Multiple ### Technical details Reproduced on mastodon.online as well</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Change `/api/v2_alpha/notifications` to only return historical data in pages (#30781)</MESSAGE>
    <SHA>bb2d77b4a07e95e7d96df080f2d6994c1422b0c0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix error when deleting a status I introduced this in #30777 Fixes #30783</MESSAGE>
      <SHA>fd5cb7214c06f82646264305466bbfecdce26a07</SHA>
      <PATCHEDFILES>
        <FILE>app/javascript/mastodon/actions/timelines.js</FILE>
        <FILE>app/javascript/mastodon/reducers/timelines.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
