<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>33772</ISSUENO>
  <ISSUEURL>https://github.com/mastodon/mastodon/issues/33772</ISSUEURL>
  <TITLE>&quot;Mastodon update is available&quot; shown even after upgrading</TITLE>
  <DESCRIPTION>### Steps to reproduce the problem I've upgraded to 4.2.15 successfully but under the Admin Dashboard it still shows the warning prompt of &quot;A Mastodon update is available.&quot; Clicking on that link takes me to a screen that displays both 4.2.15 as well as 4.3.3. ### Expected behaviour Only 4.3.3 to appear in this list? ### Actual behaviour v4.2.15 should not appear in my list because I've already upgraded to it / it is present live version. Should it still show the &quot;update available&quot; even if you're on the latest prev branch? ### Detailed description _No response_ ### Mastodon instance birdbutt.com ### Mastodon version v4.2.15 ### Browser name and version Firefox 133 ### Operating system macOS 14.5 ### Technical details Let me know if any more is needed, but it was a very easy / straightforward 4.2.15 upgrade. Services and server restarted too, caches cleared.</DESCRIPTION>
  <REPONAME>mastodon</REPONAME>
  <TIMEDIFFERENCEDAYS>14</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Update dependency net-imap to 0.5.6 (#33901)</MESSAGE>
    <SHA>447d12aa0851b3bbeed37f5fb185c037eedb63c8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix Mastodon listing updates older or equal to current version Fixes #33772</MESSAGE>
      <SHA>96ccb75456621a4f3e40335db30203144c2d33e6</SHA>
      <PATCHEDFILES>
        <FILE>app/controllers/admin/software_updates_controller.rb</FILE>
        <FILE>spec/system/admin/software_updates_spec.rb</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
