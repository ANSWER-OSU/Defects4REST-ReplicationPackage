<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>118028</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/118028</ISSUEURL>
  <TITLE>[CI] ConfigurationTests test20HostnameSubstitution failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic-packaging #4901 / rhel-7_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/kwl6dh34sxbxk) - [elasticsearch-periodic-packaging #4901 / ubuntu-1804_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/wot5qmdbtp6wu) - [elasticsearch-pull-request #44854 / sles-12_packages_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/cg2kfumifhqmq) - [elasticsearch-pull-request #44854 / rhel-7_packages_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/wvrlk3ddizbog) - [elasticsearch-pull-request #44854 / oraclelinux-7_packages_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/x4gcmttvjepei) - [elasticsearch-pull-request #44854 / ubuntu-1804_packages_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/peadnjzawzx5s) - [elasticsearch-periodic-packaging #4901 / sles-12_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/t7fzdm4dnwue2) - [elasticsearch-periodic-packaging #4901 / oraclelinux-7_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/shq4ufxfkcojs) - [elasticsearch-pull-request #44813 / oraclelinux-7_packages_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/rvdacufyxznri) - [elasticsearch-pull-request #44813 / sles-12_packages_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/26oz3behxcosu) **Reproduction Line:** ``` null ``` **Applicable branches:** main **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.packaging.test.ConfigurationTests),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(test20HostnameSubstitution),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.lang.AssertionError: Startup command should succeed. Stderr: [exitCode = [1] stdout = [] stderr = [Job for elasticsearch.service failed because the control process exited with error code. See &quot;systemctl status elasticsearch.service&quot; and &quot;journalctl -xe&quot; for details.]] Expected: &lt;0&gt; but: was &lt;1&gt; ``` **Issue Reasons:** - [main] 2 consecutive failures in test test20HostnameSubstitution - [main] 3 consecutive failures in step rhel-7_packaging-tests-unix - [main] 3 consecutive failures in step ubuntu-1804_packaging-tests-unix - [main] 2 consecutive failures in step sles-12_packages_packaging-tests-unix - [main] 2 consecutive failures in step rhel-7_packages_packaging-tests-unix - [main] 2 consecutive failures in step oraclelinux-7_packages_packaging-tests-unix - [main] 2 consecutive failures in step ubuntu-1804_packages_packaging-tests-unix - [main] 3 consecutive failures in step sles-12_packaging-tests-unix - [main] 3 consecutive failures in step oraclelinux-7_packaging-tests-unix - [main] 20 failures in test test20HostnameSubstitution (3.1% fail rate in 650 executions) - [main] 3 failures in step rhel-7_packaging-tests-unix (100.0% fail rate in 3 executions) - [main] 3 failures in step ubuntu-1804_packaging-tests-unix (100.0% fail rate in 3 executions) - [main] 2 failures in step sles-12_packages_packaging-tests-unix (100.0% fail rate in 2 executions) - [main] 2 failures in step rhel-7_packages_packaging-tests-unix (100.0% fail rate in 2 executions) - [main] 2 failures in step oraclelinux-7_packages_packaging-tests-unix (100.0% fail rate in 2 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>21</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Speed up `testRespondAfterClose` (#117969) Since #106511 this test takes 30s because it waits for the client to time out and close the connection before allowing the transport to fully shut down. This commit reinstates the previous behaviour of closing connections quickly, and tests both client-triggered and server-triggered connection closure.</MESSAGE>
    <SHA>164d737b0556303d82fc84ce33bfa67ec8b7007b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.packaging.test.ConfigurationTests test20HostnameSubstitution #118028</MESSAGE>
      <SHA>5ff37d1cf7e026a08c0f6a5978e85619b527fe91</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
