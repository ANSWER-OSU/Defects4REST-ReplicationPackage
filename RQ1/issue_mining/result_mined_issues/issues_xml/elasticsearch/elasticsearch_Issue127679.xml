<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>127679</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/127679</ISSUEURL>
  <TITLE>[CI] HdfsRepositoryTests class failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic #8004 / openjdk17_checkpart1_java-fips-matrix](https://gradle-enterprise.elastic.co/s/xwu6plud3yck4) - [elasticsearch-periodic #8004 / openjdk21_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/b24kdienbqcbc) - [elasticsearch-periodic #8004 / openjdk17_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/urqij526a4r3g) - [elasticsearch-periodic #8004 / openjdk22_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/c6rcx2epbttzi) - [elasticsearch-periodic #8004 / graalvm-ce17_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/o4a5l4eoab4t2) - [elasticsearch-periodic #7998 / openjdk22_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/7uejpu24tebjk) - [elasticsearch-periodic #7998 / openjdk17_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/7rnsrr76attp4) - [elasticsearch-periodic #7998 / openjdk17_checkpart1_java-fips-matrix](https://gradle-enterprise.elastic.co/s/ykke2iervl3vq) - [elasticsearch-periodic #7998 / openjdk21_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/x5f2mz7vlimhk) - [elasticsearch-periodic #7998 / graalvm-ce17_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/r2jfvmngk6qhs) **Reproduction Line:** ``` undefined ``` **Applicable branches:** 8.19 **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.repositories.hdfs.HdfsRepositoryTests),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(org.elasticsearch.repositories.hdfs.HdfsRepositoryTests),title:'Test',type:optionsListControl))))) **Failure Message:** ``` undefined ``` **Issue Reasons:** - [8.19] 5 consecutive failures in class org.elasticsearch.repositories.hdfs.HdfsRepositoryTests - [8.19] 19 consecutive failures in step openjdk17_checkpart1_java-fips-matrix - [8.19] 18 consecutive failures in step openjdk21_checkpart1_java-matrix - [8.19] 17 consecutive failures in step openjdk17_checkpart1_java-matrix - [8.19] 3 consecutive failures in step openjdk22_checkpart1_java-matrix - [8.19] 18 consecutive failures in step graalvm-ce17_checkpart1_java-matrix - [8.19] 89 failures in class org.elasticsearch.repositories.hdfs.HdfsRepositoryTests (14.7% fail rate in 606 executions) - [8.19] 19 failures in step openjdk17_checkpart1_java-fips-matrix (100.0% fail rate in 19 executions) - [8.19] 18 failures in step openjdk21_checkpart1_java-matrix (100.0% fail rate in 18 executions) - [8.19] 17 failures in step openjdk17_checkpart1_java-matrix (100.0% fail rate in 17 executions) - [8.19] 17 failures in step openjdk22_checkpart1_java-matrix (94.4% fail rate in 18 executions) - [8.19] 18 failures in step graalvm-ce17_checkpart1_java-matrix (100.0% fail rate in 18 executions) - [8.19] 19 failures in pipeline elasticsearch-periodic (100.0% fail rate in 19 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[8.19] [Failure store] Introduce default retention for failure indices (#127573) (#127673) * [Failure store] Introduce default retention for failure indices (#127573) We introduce a new global retention setting `data_streams.lifecycle.retention.failures_default` which is used by the data stream lifecycle management as the default retention when the failure store lifecycle of the data stream does not specify one. Elasticsearch comes with the default value of 30 days. The value can be changed via the settings API to any time value higher than 10 seconds or -1 to indicate no default retention should apply. The failures default retention can be set to values higher than the max retention, but then the max retention will be effective. The reason for this choice it to ensure that no deployments will be broken, if the user has already set up max retention less than 30 days.</MESSAGE>
    <SHA>700503a4e13dfad8e822a128aa681172bb8e6cc9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Adjust ForkJoinPool prefix in HdfsClientThreadLeakFilter (#127534) (#127683) Adds the ForkJoinPool.commonPool-worker- prefix to the Thread getName().startsWith() checks in HdfsClientThreadLeakFilter. This resolves the &quot;There are still zombie threads that couldn't be terminated&quot; errors in the Hdfs IT tests. Closes #127676 Closes #127677 Closes #127678 Closes #127679 (cherry picked from commit 4408e38bc61dd16e43c0c98f0bf6c86ce61d37c1)</MESSAGE>
      <SHA>20a3b7f8ac030532de7178551803ae3c6e8a6e9c</SHA>
      <PATCHEDFILES>
        <FILE>test/fixtures/hdfs-fixture/src/main/java/org/elasticsearch/test/fixtures/hdfs/HdfsClientThreadLeakFilter.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
