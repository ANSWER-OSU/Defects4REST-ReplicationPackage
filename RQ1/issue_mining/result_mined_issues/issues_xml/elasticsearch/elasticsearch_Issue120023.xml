<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>120023</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/120023</ISSUEURL>
  <TITLE>[CI] IntervalThrottlerTests testThrottling failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic #5817 / openjdk21_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/qstuzgwccgmne) - [elasticsearch-pull-request #49473 / part-1](https://gradle-enterprise.elastic.co/s/rqcuxyz2dqzja) **Reproduction Line:** ``` ./gradlew &quot;:server:test&quot; --tests &quot;org.elasticsearch.index.mapper.IntervalThrottlerTests.testThrottling&quot; -Dtests.seed=F521CB3BFD716F16 -Dtests.locale=en-LR -Dtests.timezone=America/Chihuahua -Druntime.java=21 ``` **Applicable branches:** main **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.index.mapper.IntervalThrottlerTests),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(testThrottling),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.lang.AssertionError: null ``` **Issue Reasons:** - [main] 2 failures in test testThrottling (0.3% fail rate in 712 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Mute org.elasticsearch.xpack.test.rest.XPackRestIT test {p0=transform/transforms_unattended/Test unattended put and start} #120019</MESSAGE>
    <SHA>ac43ea301fdaa0ce87f6ea488a2c84486a7268e5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.index.mapper.IntervalThrottlerTests testThrottling #120023</MESSAGE>
      <SHA>80729f967a6d5870e4f87f2d953059fa3f245023</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Increase time in IntervalThrottlerTests We suspect that something in the test environment is causing more than 10ms to pass between some of the calls so increasing to 100 for now to verify Closes #120023</MESSAGE>
      <SHA>325144fca78a30b552efa84aa4fb43eeb458856f</SHA>
      <PATCHEDFILES>
        <FILE>server/src/test/java/org/elasticsearch/index/mapper/IntervalThrottlerTests.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Unmute IntervalThrottlerTests testThrottling Closes #120023</MESSAGE>
      <SHA>bdb32f8b40c8d0f7b2dfe35e0509d469331febc5</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Unmute IntervalThrottlerTests testThrottling Closes #120023</MESSAGE>
      <SHA>6f55b07bbd0c390e8cea4a94f5c19312baa96b44</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Increase time in IntervalThrottlerTests (#120344) We suspect that something in the test environment is causing more than 10ms to pass between some of the calls so increasing to 100 for now to verify Closes #120023</MESSAGE>
      <SHA>2c3a0f5303e836f09fb39b2be1d3f46ce27f4ec4</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
        <FILE>server/src/test/java/org/elasticsearch/index/mapper/IntervalThrottlerTests.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Increase time in IntervalThrottlerTests (#120344) (#120574) We suspect that something in the test environment is causing more than 10ms to pass between some of the calls so increasing to 100 for now to verify Closes #120023</MESSAGE>
      <SHA>280ab319a1d066d4528be0a02836c4b5772d9dd4</SHA>
      <PATCHEDFILES>
        <FILE>server/src/test/java/org/elasticsearch/index/mapper/IntervalThrottlerTests.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
