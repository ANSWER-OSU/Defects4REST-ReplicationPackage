<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>118225</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/118225</ISSUEURL>
  <TITLE>[CI] RepositoryS3EcsCredentialsRestIT testNonexistentBucketReadonlyFalse failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic #5285 / openjdk22_checkpart1_java-matrix](https://gradle-enterprise.elastic.co/s/yi5rtjvj2an5e) - [elasticsearch-intake #13896 / part1](https://gradle-enterprise.elastic.co/s/7sjg52gagvcvm) **Reproduction Line:** ``` ./gradlew &quot;:modules:repository-s3:javaRestTest&quot; --tests &quot;org.elasticsearch.repositories.s3.RepositoryS3EcsCredentialsRestIT.testNonexistentBucketReadonlyFalse&quot; -Dtests.seed=E307F0E9ED99E23E -Dtests.locale=en-NF -Dtests.timezone=Pacific/Apia -Druntime.java=22 ``` **Applicable branches:** 8.x **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.repositories.s3.RepositoryS3EcsCredentialsRestIT),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(testNonexistentBucketReadonlyFalse),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.lang.AssertionError: Expected: (a string containing &quot;repository_verification_exception&quot; and a string containing &quot;is not accessible on master node&quot;) but: a string containing &quot;is not accessible on master node&quot; was &quot;method [PUT], host [http://[::1]:41021], URI [/_snapshot/ftlmumnf], status line [HTTP/1.1 500 Internal Server Error] --- error: root_cause: - type: &quot;repository_verification_exception&quot; reason: &quot;[ftlmumnf] path [RepositoryS3EcsCredentialsRestIT-718c12-base_path] is\ \ not accessible on master node&quot; type: &quot;repository_verification_exception&quot; reason: &quot;[ftlmumnf] path [RepositoryS3EcsCredentialsRestIT-718c12-base_path] is\ \ not accessible on master node&quot; caused_by: type: &quot;i_o_exception&quot; reason: &quot;Unable to upload object [RepositoryS3EcsCredentialsRestIT-718c12-base_path/tests-DfGCTLczTeCrPUnZjfKnKg/master.dat]\ \ using a single upload&quot; caused_by: type: &quot;amazon_s3_exception&quot; reason: &quot;Internal Server Error (Service: Amazon S3; Status Code: 500; Error\ \ Code: 500 Internal Server Error; Request ID: null; S3 Extended Request ID:\ \ null; Proxy: null)&quot; status: 500 &quot; ``` **Issue Reasons:** - [8.x] 2 failures in test testNonexistentBucketReadonlyFalse (0.4% fail rate in 447 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Speedup OsStats initialization (#118141) (#118209) Similar to other OS/FS type stats we can optimize here. Found this as a slowdown when profiling tests in a loop during test fixing. This helps node startup and maybe more importantly test performance. No need to initialize the stats eagerly when we can just get them as we load them the first time.</MESSAGE>
    <SHA>02f2de30689a6022f8329057a98466b9f77a8dcb</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.repositories.s3.RepositoryS3EcsCredentialsRestIT testNonexistentBucketReadonlyFalse #118225</MESSAGE>
      <SHA>93efbe638dcaa95d7c21422156592bfe2df9e868</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
