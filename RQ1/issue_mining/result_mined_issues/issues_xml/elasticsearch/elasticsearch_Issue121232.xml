<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>121232</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/121232</ISSUEURL>
  <TITLE>[CI] KeywordFieldMapperTests testFieldTypeWithSkipDocValues_LogsDbMode failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic #6073 / release-tests](https://gradle-enterprise.elastic.co/s/t6pf3rs6i5mgc) - [elasticsearch-pull-request #53938 / checkpart1_release-tests](https://gradle-enterprise.elastic.co/s/n5hfp46v7vymy) - [elasticsearch-pull-request #53937 / checkpart1_release-tests](https://gradle-enterprise.elastic.co/s/6fdson6wi3j7w) - [elasticsearch-pull-request #53909 / checkpart1_release-tests](https://gradle-enterprise.elastic.co/s/nx5ar3gihdiz6) - [elasticsearch-pull-request #53909 / checkpart1_release-tests](https://gradle-enterprise.elastic.co/s/3zg7djv3fquui) - [elasticsearch-pull-request #53876 / checkpart1_release-tests](https://gradle-enterprise.elastic.co/s/6ow4pwzuq7xlm) - [elasticsearch-pull-request #53839 / checkpart1_release-tests](https://gradle-enterprise.elastic.co/s/m5ih3mjxgxqp2) **Reproduction Line:** ``` ./gradlew &quot;:server:test&quot; --tests &quot;org.elasticsearch.index.mapper.KeywordFieldMapperTests.testFieldTypeWithSkipDocValues_LogsDbMode&quot; -Dtests.seed=DAA30D7F0C0705AB -Dbuild.snapshot=false -Dtests.jvm.argline=&quot;-Dbuild.snapshot=false&quot; -Dlicense.key=x-pack/license-tools/src/test/resources/public.key -Dtests.locale=fo-FO -Dtests.timezone=America/Barbados -Druntime.java=23 ``` **Applicable branches:** main **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.index.mapper.KeywordFieldMapperTests),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(testFieldTypeWithSkipDocValues_LogsDbMode),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.lang.AssertionError: null ``` **Issue Reasons:** - [main] 6 consecutive failures in step checkpart1_release-tests - [main] 7 failures in test testFieldTypeWithSkipDocValues_LogsDbMode (9.7% fail rate in 72 executions) - [main] 6 failures in step checkpart1_release-tests (100.0% fail rate in 6 executions) - [main] 5 failures in pipeline elasticsearch-pull-request (11.6% fail rate in 43 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add lucene version compatibility tests (#121104) This commit adds compatibility tests that target ES revisions that align with specific Lucene versions. In this case, we are intending to upgrade from Lucene 10.0 to 10.1. Since no on-prem Elasticsearch release exists with 10.0, we need another method to ensure compatibility with Lucene 10.0 indicies. The work here is a bit hacky since all our compatibility testing infrastructure is centered around versions and we're now effectively doing compatibility tests between two different revisions of Elasticsearch that both report the same version. Ideally this specific testing would be replaced by unit tests, rather that reusing our full cluster restart tests for this purpose. We'll also want to bump the commit referenced in the CI pipelines here to align with the last commit using Lucene 10.0.</MESSAGE>
    <SHA>61dc93107f5b23055b890ffda5a81d9fe119cfb0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.index.mapper.KeywordFieldMapperTests testFieldTypeWithSkipDocValues_LogsDbMode #121232</MESSAGE>
      <SHA>57022a1486070d729348929c4f1c6428391cff99</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
