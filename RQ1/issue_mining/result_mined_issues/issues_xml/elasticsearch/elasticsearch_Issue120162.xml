<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>120162</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/120162</ISSUEURL>
  <TITLE>[CI] MultiClusterSpecIT test {date_nanos.Bucket Date nanos by 10 minutes} failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-intake #15833 / 8.17.1_bwc-snapshots](https://gradle-enterprise.elastic.co/s/vujk2ixzsk4fo) - [elasticsearch-periodic #5850 / openjdk21_8.17.1_java-matrix-bwc](https://gradle-enterprise.elastic.co/s/t2p6mvuba3lb4) - [elasticsearch-periodic #5845 / openjdk21_8.18.0_java-matrix-bwc](https://gradle-enterprise.elastic.co/s/hlkpvs23jkixu) **Reproduction Line:** ``` ./gradlew &quot;:x-pack:plugin:esql:qa:server:multi-clusters:v8.17.1#bwcTest&quot; -Dtests.class=&quot;org.elasticsearch.xpack.esql.ccq.MultiClusterSpecIT&quot; -Dtests.method=&quot;test {date_nanos.Bucket Date nanos by 10 minutes}&quot; -Dtests.seed=76C7A2766FC7F06 -Dtests.bwc=true -Dtests.locale=mni-Beng-IN -Dtests.timezone=Europe/Zagreb -Druntime.java=23 ``` **Applicable branches:** 8.x **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.xpack.esql.ccq.MultiClusterSpecIT),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(test%20%7Bdate_nanos.Bucket%20Date%20nanos%20by%2010%20minutes%7D),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.lang.AssertionError: Data mismatch: row 0 column 0:a list containing row 0 column 0:0: expected &quot;4&quot; but was &quot;2&quot; row 0 column 1:a list containing row 0 column 1:0: expected &quot;2023-10-23T13:50:00.000Z&quot; but was &quot;2023-10-23T12:10:00.000Z&quot; row 1 column 0:a list containing row 1 column 0:0: expected &quot;1&quot; but was &quot;4&quot; row 1 column 1:a list containing row 1 column 1:0: expected &quot;2023-10-23T13:30:00.000Z&quot; but was &quot;2023-10-23T13:50:00.000Z&quot; row 2 column 1:a list containing row 2 column 1:0: expected &quot;2023-10-23T12:20:00.000Z&quot; but was &quot;2023-10-23T13:30:00.000Z&quot; row 3 column 0:a list containing row 3 column 0:0: expected &quot;2&quot; but was &quot;1&quot; row 3 column 1:a list containing row 3 column 1:0: expected &quot;2023-10-23T12:10:00.000Z&quot; but was &quot;2023-10-23T12:20:00.000Z&quot; Actual: ct:long | mn:date_nanos 2 | 2023-10-23T12:10:00.000Z 4 | 2023-10-23T13:50:00.000Z 1 | 2023-10-23T13:30:00.000Z 1 | 2023-10-23T12:20:00.000Z Expected: ct:long | mn:date_nanos 4 | 202 [truncated] ``` **Issue Reasons:** - [8.x] 3 failures in test test {date_nanos.Bucket Date nanos by 10 minutes} (0.6% fail rate in 518 executions) - [8.x] 2 failures in pipeline elasticsearch-periodic (50.0% fail rate in 4 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>79</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Added additional entries for troubleshooting unhealthy cluster (#119914) (#120234) * Added additional entries for troubleshooting unhealthy cluster Reordered &quot;Re-enable shard allocation&quot; because not as common as other causes Added additional causes of yellow statuses Changed watermark commadn to include high and low watermark so users can make their cluster operate once again. * Drive-by copyedit with suggestions for concision and some formatting fixes. * Concision and some formatting fixes. * Colon added * Update docs/reference/troubleshooting/common-issues/red-yellow-cluster-status.asciidoc * Title change * Update docs/reference/troubleshooting/common-issues/red-yellow-cluster-status.asciidoc * Spelling fix * Update docs/reference/troubleshooting/common-issues/red-yellow-cluster-status.asciidoc * Update docs/reference/troubleshooting/common-issues/red-yellow-cluster-status.asciidoc * Update docs/reference/troubleshooting/common-issues/red-yellow-cluster-status.asciidoc * Update docs/reference/troubleshooting/common-issues/red-yellow-cluster-status.asciidoc --------- Co-authored-by: Kofi B &lt;seanziee@gmail.com&gt; Co-authored-by: Liam Thompson &lt;32779855+leemthompo@users.noreply.github.com&gt; Co-authored-by: shainaraskas &lt;58563081+shainaraskas@users.noreply.github.com&gt;</MESSAGE>
    <SHA>dc63fa143e28d69ba135fb07877ddf04d73d5a3e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.xpack.esql.ccq.MultiClusterSpecIT test {date_nanos.Bucket Date nanos by 10 minutes} #120162</MESSAGE>
      <SHA>404a67ebe515579a3df18e77d7a72563e7c6428f</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
