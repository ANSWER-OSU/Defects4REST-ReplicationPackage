<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>118029</ISSUENO>
  <ISSUEURL>https://github.com/elastic/elasticsearch/issues/118029</ISSUEURL>
  <TITLE>[CI] ArchiveTests test40AutoconfigurationNotTriggeredWhenNodeIsMeantToJoinExistingCluster failing</TITLE>
  <DESCRIPTION>**Build Scans:** - [elasticsearch-periodic-packaging #4901 / rhel-7_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/kwl6dh34sxbxk) - [elasticsearch-periodic-packaging #4901 / ubuntu-1804_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/wot5qmdbtp6wu) - [elasticsearch-pull-request #44854 / sles-12_archives_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/n3zgcaybs7txq) - [elasticsearch-pull-request #44854 / oraclelinux-7_archives_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/abf2rzp2wcxak) - [elasticsearch-pull-request #44854 / rhel-7_archives_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/cxi77orgsydyc) - [elasticsearch-pull-request #44854 / ubuntu-1804_archives_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/hwth6vqw26n6m) - [elasticsearch-periodic-packaging #4901 / sles-12_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/t7fzdm4dnwue2) - [elasticsearch-periodic-packaging #4901 / oraclelinux-7_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/shq4ufxfkcojs) - [elasticsearch-pull-request #44813 / oraclelinux-7_archives_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/hcibdrqwzxdie) - [elasticsearch-pull-request #44813 / sles-12_archives_packaging-tests-unix](https://gradle-enterprise.elastic.co/s/bat2vldntstqq) **Reproduction Line:** ``` null ``` **Applicable branches:** main **Reproduces locally?:** N/A **Failure History:** [See dashboard](https://es-delivery-stats.elastic.dev/app/dashboards#/view/dcec9e60-72ac-11ee-8f39-55975ded9e63?_g=(refreshInterval:(pause:!t,value:60000),time:(from:now-7d%2Fd,to:now))&amp;_a=(controlGroupState:(initialChildControlState:('0c0c9cb8-ccd2-45c6-9b13-96bac4abc542':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:task.keyword,order:0,selectedOptions:!(),title:'GradleTask',type:optionsListControl),'4e6ad9d6-6fdc-4fcc-bf1a-aa6ca79e0850':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:className.keyword,order:1,selectedOptions:!(org.elasticsearch.packaging.test.ArchiveTests),title:'Suite',type:optionsListControl),'144933da-5c1b-4257-a969-7f43455a7901':(dataViewId:fbbdc689-be23-4b3d-8057-aa402e9ed0c5,fieldName:name.keyword,order:2,selectedOptions:!(test40AutoconfigurationNotTriggeredWhenNodeIsMeantToJoinExistingCluster),title:'Test',type:optionsListControl))))) **Failure Message:** ``` java.lang.AssertionError: Startup command should succeed. Stderr: [exitCode = [1] stdout = [Skipping security auto configuration because this node is configured to bootstrap or to join a multi-node cluster, which is not supported. CompileCommand: dontinline java/lang/invoke/MethodHandle.setAsTypeCache bool dontinline = true CompileCommand: dontinline java/lang/invoke/MethodHandle.asTypeUncached bool dontinline = true [2024-12-05T15:29:24,632][WARN ][x-pack-ml-controller-stderr] [bk-agent-prod-gcp-1733403774216489129] /tmp/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/controller: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28' not found (required by /tmp/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/../lib/libxml2.so.2) [2024-12-05T15:29:24,669][WARN ][x-pack-ml-controller-stderr] [bk-agent-prod-gcp-1733403774216489129] /tmp/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/controller: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28' not found (required by /tmp/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/../lib/libboost_filesystem-gcc13-mt-x64-1_83.so.1.83.0) [2024-12-05T15:29:24,855][INFO ][o.e.n.NativeAccess ] [bk-agent-prod-gcp-1733403774216489129] Using native vector library; to disable start with -Dorg.elasticsearch.nativeaccess.enableVectorLibrary=false [2024-12-05T15:29:24,871][INFO ][o.e.n.NativeAccess ] [bk-agent-prod-gcp-1733403774216489129] Using [jdk] native provider and native methods for [Linux] [2024-12-05T15:29:24,972][INFO ][o.a.l.i.v.PanamaVectorizationProvider] [bk-agent-prod-gcp-1733403774216489129] Java vector incubator API enabled; uses preferredBitSize=256; FMA enabled [2024-12-05T15:29:27,707][INFO ][o.e.b.Elasticsearch ] [bk-agent-prod-gcp-1733403774216489129] Bootstrapping java SecurityManager [2024-12-05T15:29:28,692][INFO ][o.e.n.Node ] [bk-agent-prod-gcp-1733403774216489129] version[9.0.0-SNAPSHOT], pid[353146], build[tar/e4defcaec3f2433fda2d0187543417e679570b37/2024-12-05T13:06:49.546427785Z], OS[Linux/5.4.0-1106-gcp/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/23/23+37-2369] [2024-12-05T15:29:28,693][INFO ][o.e.n.Node ] [bk-agent-prod-gcp-1733403774216489129] JVM home [/tmp/elasticsearch/jdk], using bundled JDK [true] [2024-12-05T15:29:28,694][INFO ][o.e.n.Node ] [bk-agent-prod-gcp-1733403774216489129] JVM arguments [-Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=CLDR, -Des.distribution.type=tar, --enable-native-access=org.elasticsearch.nativeaccess,org.apache.lucene.core, -XX:ReplayDataFile=logs/replay_pid%p.log, -Djava.security.manager=allow, -XX:+UseG1GC, -Djava.io.tmpdir=/tmp/elasticsearch-10672929781692726508, --add-modules=jdk.incubator.vector, -XX:CompileCommand=dontinline,java/lang/invoke/MethodHandle.setAsTypeCache, -XX:CompileCommand=dontinline,java/lang/invoke/MethodHandle.asTypeUncached, -Dorg.apache.lucene.store.defaultReadAdvice=normal, -XX:+HeapDumpOnOutOfMemoryError, -XX:+ExitOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,level,pid,tags:filecount=32,filesize=64m, -Xmx1g, -Xms1g, -XX:MaxDirectMemorySize=536870912, -XX:G1HeapRegionSize=4m, -XX:InitiatingHeapOccupancyPercent=30, -XX:G1ReservePercent=15, --module-path=/tmp/elasticsearch/lib, --add-modules=jdk.net, --add-modules=ALL-MODULE-PATH, -Djdk.module.main=org.elasticsearch.server] [2024-12-05T15:29:28,695][INFO ][o.e.n.Node ] [bk-agent-prod-gcp-1733403774216489129] Default Locale [en] [2024-12-05T15:29:28,695][WARN ][o.e.n.Node ] [bk-agent-prod-gcp-1733403774216489129] version [9.0.0-SNAPSHOT] is a pre-release version of Elasticsearch and is not suitable for production [2024-12-05T15:29:29,481][INFO ][o.e.c.u.FeatureFlag ] [bk-agent-prod-gcp-1733403774216489129] The current build is a snapshot, feature flag [esql_semantic_text] is enabled [2024-12-05T15:29:29,716][INFO ][o.e.c.u.FeatureFlag ] [bk-agent-prod-gcp-1733403774216489129] The current build is a snapshot, feature flag [esql_inlinestats] is enabled [2024-12-05T15:29:30,545][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [repository-url] [2024-12-05T15:29:30,545][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [rest-root] [2024-12-05T15:29:30,546][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-core] [2024-12-05T15:29:30,546][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-redact] [2024-12-05T15:29:30,546][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [ingest-user-agent] [2024-12-05T15:29:30,546][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-async-search] [2024-12-05T15:29:30,547][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-monitoring] [2024-12-05T15:29:30,547][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-error-query] [2024-12-05T15:29:30,547][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [repository-s3] [2024-12-05T15:29:30,547][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-analytics] [2024-12-05T15:29:30,547][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-esql-core] [2024-12-05T15:29:30,548][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-ent-search] [2024-12-05T15:29:30,548][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-autoscaling] [2024-12-05T15:29:30,548][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [lang-painless] [2024-12-05T15:29:30,548][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-ml] [2024-12-05T15:29:30,549][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-die-with-dignity] [2024-12-05T15:29:30,549][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [legacy-geo] [2024-12-05T15:29:30,549][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [lang-mustache] [2024-12-05T15:29:30,549][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-ql] [2024-12-05T15:29:30,549][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [logsdb] [2024-12-05T15:29:30,550][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [rank-rrf] [2024-12-05T15:29:30,550][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [analysis-common] [2024-12-05T15:29:30,550][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [health-shards-availability] [2024-12-05T15:29:30,550][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [transport-netty4] [2024-12-05T15:29:30,550][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [aggregations] [2024-12-05T15:29:30,551][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [ingest-common] [2024-12-05T15:29:30,551][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-identity-provider] [2024-12-05T15:29:30,551][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [frozen-indices] [2024-12-05T15:29:30,551][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-shutdown] [2024-12-05T15:29:30,551][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-text-structure] [2024-12-05T15:29:30,552][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [snapshot-repo-test-kit] [2024-12-05T15:29:30,552][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-delayed-aggs] [2024-12-05T15:29:30,552][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [ml-package-loader] [2024-12-05T15:29:30,552][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [kibana] [2024-12-05T15:29:30,552][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-esql-heap-attack] [2024-12-05T15:29:30,553][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [constant-keyword] [2024-12-05T15:29:30,553][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-logstash] [2024-12-05T15:29:30,553][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-graph] [2024-12-05T15:29:30,553][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-ccr] [2024-12-05T15:29:30,553][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-esql] [2024-12-05T15:29:30,553][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [parent-join] [2024-12-05T15:29:30,554][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-enrich] [2024-12-05T15:29:30,554][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [counted-keyword] [2024-12-05T15:29:30,554][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [repositories-metering-api] [2024-12-05T15:29:30,554][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [transform] [2024-12-05T15:29:30,554][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [repository-azure] [2024-12-05T15:29:30,554][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [dot-prefix-validation] [2024-12-05T15:29:30,555][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [repository-gcs] [2024-12-05T15:29:30,555][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-otel-data] [2024-12-05T15:29:30,555][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [spatial] [2024-12-05T15:29:30,555][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [mapper-version] [2024-12-05T15:29:30,555][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [apm] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [mapper-extras] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-rollup] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-jvm-crash] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [percolator] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-migrate] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-stack] [2024-12-05T15:29:30,556][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [data-streams] [2024-12-05T15:29:30,557][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [reindex] [2024-12-05T15:29:30,557][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [rank-eval] [2024-12-05T15:29:30,557][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-apm-integration] [2024-12-05T15:29:30,557][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-security] [2024-12-05T15:29:30,557][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [blob-cache] [2024-12-05T15:29:30,557][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [searchable-snapshots] [2024-12-05T15:29:30,558][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-slm] [2024-12-05T15:29:30,558][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-geoip-enterprise-downloader] [2024-12-05T15:29:30,558][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [snapshot-based-recoveries] [2024-12-05T15:29:30,558][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [test-latency-simulating-directory] [2024-12-05T15:29:30,558][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-watcher] [2024-12-05T15:29:30,558][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [old-lucene-versions] [2024-12-05T15:29:30,559][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-ilm] [2024-12-05T15:29:30,559][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-voting-only-node] [2024-12-05T15:29:30,559][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-inference] [2024-12-05T15:29:30,559][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-deprecation] [2024-12-05T15:29:30,559][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-fleet] [2024-12-05T15:29:30,559][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-aggregate-metric] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-downsample] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-profiling] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [ingest-geoip] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-write-load-forecaster] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [search-business-rules] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [ingest-attachment] [2024-12-05T15:29:30,560][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [wildcard] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-apm-data] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-sql] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [unsigned-long] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-async] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [runtime-fields-common] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-kql] [2024-12-05T15:29:30,561][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [vector-tile] [2024-12-05T15:29:30,562][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [lang-expression] [2024-12-05T15:29:30,562][INFO ][o.e.p.PluginsService ] [bk-agent-prod-gcp-1733403774216489129] loaded module [x-pack-eql] [2024-12-05T15:29:30,796][INFO ][o.e.c.u.FeatureFlag ] [bk-agent-prod-gcp-1733403774216489129] The current build is a snapshot, feature flag [failure_store] is enabled [2024-12-05T15:29:31,570][INFO ][o.e.e.NodeEnvironment ] [bk-agent-prod-gcp-1733403774216489129] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [259.1gb], net total_space [339gb], types [ext4] [2024-12-05T15:29:31,571][INFO ][o.e.e.NodeEnvironment ] [bk-agent-prod-gcp-1733403774216489129] heap size [1gb], compressed ordinary object pointers [true] [2024-12-05T15:29:31,581][INFO ][o.e.n.Node ] [bk-agent-prod-gcp-1733403774216489129] node name [bk-agent-prod-gcp-1733403774216489129], node ID [Z7MGDrKuQ42D9bgqspVJEA], cluster name [elasticsearch], roles [remote_cluster_client, master, data_warm, data_content, transform, data_hot, ml, data_frozen, ingest, data_cold, data] [2024-12-05T15:29:35,006][INFO ][o.e.c.u.FeatureFlag ] [bk-agent-prod-gcp-1733403774216489129] The current build is a snapshot, feature flag [connector_secrets] is enabled [2024-12-05T15:29:35,133][INFO ][o.e.i.r.RecoverySettings ] [bk-agent-prod-gcp-1733403774216489129] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b] [2024-12-05T15:29:35,214][INFO ][o.e.c.u.FeatureFlag ] [bk-agent-prod-gcp-1733403774216489129] The current build is a snapshot, feature flag [multi_dense_vector] is enabled [2024-12-05T15:29:35,313][INFO ][o.e.c.u.FeatureFlag ] [bk-agent-prod-gcp-1733403774216489129] The current build is a snapshot, feature flag [sub_objects_auto] is enabled [2024-12-05T15:29:35,343][INFO ][o.e.f.FeatureService ] [bk-agent-prod-gcp-1733403774216489129] Registered local node features [cluster.reroute.ignores_metric_param, cluster.stats.source_modes, data_stream.auto_sharding, data_stream.lifecycle.global_retention, data_stream.rollover.lazy, desired_node.version_deprecated, esql.agg_values, esql.async_query, esql.base64_decode_encode, esql.casting_operator, esql.counter_types, esql.disable_nullable_opts, esql.from_options, esql.metadata_fields, esql.metrics_counter_fields, esql.metrics_syntax, esql.mv_ordering_sorted_ascending, esql.mv_sort, esql.resolve_fields_api, esql.spatial_points_from_source, esql.spatial_shapes, esql.st_centroid_agg, esql.st_contains_within, esql.st_disjoint, esql.st_intersects, esql.st_x_y, esql.string_literal_auto_casting, esql.string_literal_auto_casting_extended, esql.timespan_abbreviations, features_supported, file_settings, flattened.ignore_above_support, geoip.downloader.database.configuration, get_database_configuration_action.multi_node, health.dsl.info, health.extended_repository_indicator, knn_retriever_supported, license-trial-independent-version, logsdb_telemetry, logsdb_telemetry_stats, lucene_10_upgrade, mapper.boolean_dimension, mapper.bwc_workaround_9_0, mapper.flattened.ignore_above_with_arrays_support, mapper.ignore_above_index_level_setting, mapper.index_sorting_on_nested, mapper.keyword_dimension_ignore_above, mapper.keyword_normalizer_synthetic_source, mapper.pass_through_priority, mapper.query_index_mode, mapper.range.null_values_off_by_one_fix, mapper.segment_level_fields_stats, mapper.source.synthetic_source_copy_to_fix, mapper.source.synthetic_source_copy_to_inside_objects_fix, mapper.source.synthetic_source_fallback, mapper.source.synthetic_source_stored_fields_advance_fix, mapper.source.synthetic_source_with_copy_to_and_doc_values_false, mapper.subobjects_auto, mapper.subobjects_auto_fixes, mapper.synthetic_source_keep, mapper.track_ignored_source, mapper.vectors.bbq, mapper.vectors.bit_vectors, mapper.vectors.int4_quantization, put_database_configuration_action.ipinfo, query_rule_list_types, query_rule_retriever_supported, query_rules.test, random_reranker_retriever_supported, repositories.supports_usage_stats, rest.capabilities_action, rest.local_only_capabilities, retrievers_supported, routing.boolean_routing_path, routing.multi_value_routing_path, rrf_retriever_composition_supported, rrf_retriever_supported, script.hamming, script.term_stats, search.vectors.k_param_supported, security.migration_framework, security.role_mapping_cleanup, security.roles_metadata_flattened, semantic_text.default_elser_2, semantic_text.inner_hits, semantic_text.search_inference_id, simulate.component.template.substitutions, simulate.index.template.substitutions, simulate.mapping.addition, simulate.mapping.validation, simulate.mapping.validation.templates, simulate.support.non.template.mapping, slm.interval_schedule, snapshot.repository_verify_integrity, standard_retriever_supported, stats.include_disk_thresholds, stats.tier_creation_date, text_similarity_reranker_retriever_composition_supported, text_similarity_reranker_retriever_supported, tsdb.ts_routing_hash_doc_value_parse_byte_ref, unified_highlighter_matched_fields, usage.data_tiers.precalculate_stats] [2024-12-05T15:29:35,382][INFO ][o.e.c.m.DataStreamGlobalRetentionSettings] [bk-agent-prod-gcp-1733403774216489129] Updated default factory retention to [null] [2024-12-05T15:29:35,383][INFO ][o.e.c.m.DataStreamGlobalRetentionSettings] [bk-agent-prod-gcp-1733403774216489129] Updated max factory retention to [null] [2024-12-05T15:29:45,895][ERROR][o.e.b.Elasticsearch ] [bk-agent-prod-gcp-1733403774216489129] fatal exception while booting Elasticsearch org.elasticsearch.ElasticsearchException: Failure running machine learning native code. This could be due to running on an unsupported OS or distribution, missing OS libraries, or a problem with the temp directory. To bypass this problem by running Elasticsearch without machine learning functionality set [xpack.ml.enabled: false]. at org.elasticsearch.ml@9.0.0-SNAPSHOT/org.elasticsearch.xpack.ml.MachineLearning.createComponents(MachineLearning.java:1047) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.node.NodeConstruction.lambda$construct$16(NodeConstruction.java:892) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.plugins.PluginsService.lambda$flatMap$0(PluginsService.java:186) at java.base/java.util.stream.ReferencePipeline$7$1FlatMap.accept(ReferencePipeline.java:289) at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215) at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:722) at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570) at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:636) at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:291) at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:656) at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:662) at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:667) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.node.NodeConstruction.construct(NodeConstruction.java:914) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.node.NodeConstruction.prepareConstruction(NodeConstruction.java:294) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.node.Node.&lt;init&gt;(Node.java:185) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.bootstrap.Elasticsearch$2.&lt;init&gt;(Elasticsearch.java:260) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.bootstrap.Elasticsearch.initPhase3(Elasticsearch.java:260) at org.elasticsearch.server@9.0.0-SNAPSHOT/org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:78)] stderr = [ERROR: Elasticsearch did not exit normally - check the logs at /tmp/elasticsearch/logs/elasticsearch.log ERROR: Elasticsearch died while starting up, with exit code 1]] Expected: &lt;0&gt; but: was &lt;1&gt; ``` **Issue Reasons:** - [main] 2 consecutive failures in test test40AutoconfigurationNotTriggeredWhenNodeIsMeantToJoinExistingCluster - [main] 3 consecutive failures in step rhel-7_packaging-tests-unix - [main] 3 consecutive failures in step ubuntu-1804_packaging-tests-unix - [main] 2 consecutive failures in step sles-12_archives_packaging-tests-unix - [main] 2 consecutive failures in step oraclelinux-7_archives_packaging-tests-unix - [main] 2 consecutive failures in step rhel-7_archives_packaging-tests-unix - [main] 2 consecutive failures in step ubuntu-1804_archives_packaging-tests-unix - [main] 3 consecutive failures in step sles-12_packaging-tests-unix - [main] 3 consecutive failures in step oraclelinux-7_packaging-tests-unix - [main] 20 failures in test test40AutoconfigurationNotTriggeredWhenNodeIsMeantToJoinExistingCluster (5.2% fail rate in 388 executions) - [main] 3 failures in step rhel-7_packaging-tests-unix (100.0% fail rate in 3 executions) - [main] 3 failures in step ubuntu-1804_packaging-tests-unix (100.0% fail rate in 3 executions) - [main] 2 failures in step sles-12_archives_packaging-tests-unix (100.0% fail rate in 2 executions) - [main] 2 failures in step oraclelinux-7_archives_packaging-tests-unix (100.0% fail rate in 2 executions) - [main] 2 failures in step rhel-7_archives_packaging-tests-unix (100.0% fail rate in 2 executions) **Note:** This issue was created using new test triage automation. Please report issues or feedback to es-delivery.</DESCRIPTION>
  <REPONAME>elasticsearch</REPONAME>
  <TIMEDIFFERENCEDAYS>21</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Mute org.elasticsearch.packaging.test.ConfigurationTests test20HostnameSubstitution #118028</MESSAGE>
    <SHA>5ff37d1cf7e026a08c0f6a5978e85619b527fe91</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Mute org.elasticsearch.packaging.test.ArchiveTests test40AutoconfigurationNotTriggeredWhenNodeIsMeantToJoinExistingCluster #118029</MESSAGE>
      <SHA>f009147ce96368a5d52e076c518c92ac073892fe</SHA>
      <PATCHEDFILES>
        <FILE>muted-tests.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
