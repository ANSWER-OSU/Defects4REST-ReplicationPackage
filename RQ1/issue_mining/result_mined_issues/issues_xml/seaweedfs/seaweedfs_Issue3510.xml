<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3510</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/3510</ISSUEURL>
  <TITLE>[s3] DATA RACE on configured filer store to leveldb2</TITLE>
  <DESCRIPTION>https://github.com/seaweedfs/seaweedfs/issues/3507 ``` s3_1 | WARNING: DATA RACE s3_1 | Read at 0x00c00018ea00 by main goroutine: s3_1 | github.com/seaweedfs/seaweedfs/weed/wdclient.(*MasterClient).WaitUntilConnected() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/wdclient/masterclient.go:98 +0x66 s3_1 | github.com/seaweedfs/seaweedfs/weed/wdclient.(*MasterClient).GetMaster() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/wdclient/masterclient.go:87 +0x6e s3_1 | github.com/seaweedfs/seaweedfs/weed/filer.(*Filer).GetMaster() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/filer.go:142 +0x3b s3_1 | github.com/seaweedfs/seaweedfs/weed/filer.(*Filer).ListExistingPeerUpdates() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/filer.go:108 +0x85 s3_1 | github.com/seaweedfs/seaweedfs/weed/server.NewFilerServer() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/server/filer_server.go:165 +0x1576 s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_util.go:52 +0x1fe s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:130 +0x8b5 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:657 +0x16e s3_1 | fmt.(*ss).doScanf() s3_1 | /usr/local/go/src/fmt/scan.go:1230 +0x3fb s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:476 +0xb2 s3_1 | github.com/syndtr/goleveldb/leveldb.openDB() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:125 +0x899 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:197 +0x35c s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x164 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.fsParseName() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:643 +0x26 s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | github.com/syndtr/goleveldb/leveldb.(*session).recover.func1() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:134 +0xd0 s3_1 | runtime.deferreturn() s3_1 | /usr/local/go/src/runtime/panic.go:476 +0x32 s3_1 | github.com/syndtr/goleveldb/leveldb.Open() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:183 +0x104 s3_1 | github.com/syndtr/goleveldb/leveldb.OpenFile() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:219 +0x87 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer/leveldb2.(*LevelDB2Store).initialize() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/leveldb2/leveldb2_store.go:57 +0x3cc s3_1 | github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List() s3_1 | /go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/storage/file_storage.go:458 +0x3e6 s3_1 | fmt.Fscanf() s3_1 | /usr/local/go/src/fmt/scan.go:143 +0xe9 s3_1 | fmt.Sscanf() s3_1 | /usr/local/go/src/fmt/scan.go:114 +0x224 s3_1 | s3_1 | Previous write at 0x00c00018ea00 by goroutine 159: s3_1 | github.com/seaweedfs/seaweedfs/weed/wdclient.(*MasterClient).tryConnectToMaster.func1() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/wdclient/masterclient.go:199 +0x19a9 s3_1 | github.com/seaweedfs/seaweedfs/weed/pb.WithMasterClient.func1() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/pb/grpc_client_server.go:209 +0x88 s3_1 | github.com/seaweedfs/seaweedfs/weed/pb.WithGrpcClient() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/pb/grpc_client_server.go:149 +0x248 s3_1 | github.com/seaweedfs/seaweedfs/weed/pb.WithMasterClient() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/pb/grpc_client_server.go:207 +0xd1 s3_1 | github.com/seaweedfs/seaweedfs/weed/wdclient.(*MasterClient).tryConnectToMaster() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/wdclient/masterclient.go:154 +0x27e s3_1 | github.com/seaweedfs/seaweedfs/weed/wdclient.(*MasterClient).tryAllMasters() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/wdclient/masterclient.go:142 +0xd7 s3_1 | github.com/seaweedfs/seaweedfs/weed/wdclient.(*MasterClient).KeepConnectedToMaster() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/wdclient/masterclient.go:108 +0x129 s3_1 | github.com/seaweedfs/seaweedfs/weed/filer.(*Filer).KeepMasterClientConnected() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/filer/filer.go:146 +0x45 s3_1 | github.com/seaweedfs/seaweedfs/weed/server.NewFilerServer.func4() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/server/filer_server.go:131 +0x39 s3_1 | s3_1 | Goroutine 159 (running) created at: s3_1 | github.com/seaweedfs/seaweedfs/weed/server.NewFilerServer() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/server/filer_server.go:131 +0xee4 s3_1 | github.com/seaweedfs/seaweedfs/weed/command.(*FilerOptions).startFiler() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/command/filer.go:227 +0xcf7 s3_1 | github.com/seaweedfs/seaweedfs/weed/command.runFiler() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/command/filer.go:203 +0x8ba s3_1 | main.main() s3_1 | /go/src/github.com/seaweedfs/seaweedfs/weed/weed.go:81 +0x943 s3_1 | ================== s3_1 | I0825 10:09:03.602528 master_client.go:20 the cluster has 1 filer s3_1 | I0825 10:09:03.602705 filer_server.go:168 172.18.0.5:8888 bootstrap from peers [node_type:&quot;filer&quot; address:&quot;172.18.0.5:8888&quot; is_leader:true is_add:true created_at_ns:1661422143534687100] s3_1 | I0825 10:09:03.605282 filer.go:271 Start Seaweed Filer 30GB 3.23 7394f7fe at 172.18.0.5:8888 s3_1 | I0825 10:09:03.605200 meta_aggregator.go:96 loopSubscribeToOneFiler read 172.18.0.5:8888 start from 2022-08-25 10:08:03.6026842 +0000 UTC 1661422083602684200 s3_1 | W0825 10:09:03.606561 tls.go:39 pemfile.NewProvider({ 5h0m0s}) grpc.filer failed: pemfile: at least one credential file needs to be specified s3_1 | I0825 10:09:03.614291 meta_aggregator.go:193 subscribing remote 172.18.0.5:8888 meta change: 2022-08-25 10:08:03.6026842 +0000 UTC, clientId:176700352 s3_1 | I0825 10:09:03.620078 filer_grpc_server_sub_meta.go:268 + listener filer:172.18.0.5:8888@172.18.0.5:47428 s3_1 | I0825 10:09:03.620172 filer_grpc_server_sub_meta.go:106 + filer:172.18.0.5:8888@172.18.0.5:47428 local subscribe / from 2022-08-25 10:08:03.6026842 +0000 UTC clientId:-176700352 s3_1 | I0825 10:09:03.620229 filer_grpc_server_sub_meta.go:119 read on disk filer:172.18.0.5:8888@172.18.0.5:47428 local subscribe / from 2022-08-25 10:08:03.6026842 +0000 UTC s3_1 | I0825 10:09:03.620646 filer_grpc_server_sub_meta.go:138 read in memory filer:172.18.0.5:8888@172.18.0.5:47428 local subscribe / from 2022-08-25 10:08:03.6026842 +0000 UTC ```</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>3.24</MESSAGE>
    <SHA>b7a887fea16ecef7832a60818bf9b30e6600a258</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>avoid race conditions access to MasterClient.currentMaster https://github.com/seaweedfs/seaweedfs/issues/3510</MESSAGE>
      <SHA>9cf40026afd857f7a75d7360b256e805e696756e</SHA>
      <PATCHEDFILES>
        <FILE>weed/wdclient/masterclient.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>avoid race conditions access to MasterClient.currentMaster (#3538) https://github.com/seaweedfs/seaweedfs/issues/3510</MESSAGE>
      <SHA>e16dda88e48d37ac46a4858450ca2c2563910bdc</SHA>
      <PATCHEDFILES>
        <FILE>weed/wdclient/masterclient.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
