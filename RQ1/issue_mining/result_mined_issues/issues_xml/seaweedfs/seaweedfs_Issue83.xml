<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>83</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/83</ISSUEURL>
  <TITLE>Master and Volume don't see each other.</TITLE>
  <DESCRIPTION>I tried to run a new version (0.68) on openstack and it doesn't work. Servers don't see each other. No logs, it looks like the volume doesn't even try to join master. Here are the run instructions I used. BTW 0.45 version works. $OPENSHIFT_REPO_DIR/diy/weed volume -max=100 -ip=$OPENSHIFT_DIY_IP -port=$OPENSHIFT_DIY_PORT -ip.bind=$OPENSHIFT_DIY_IP -mserver=storage-master.domain.com:80 -publicIp=&quot;storage-volume02.domain.com:80&quot; -dir=&quot;$OPENSHIFT_DATA_DIR&quot; &gt; $OPENSHIFT_DIY_DIR/logs/volume.log 2&gt;&amp;1 &amp; $OPENSHIFT_REPO_DIR/diy/weed master -mdir=&quot;$OPENSHIFT_DATA_DIR&quot; -port=8080 -ip=$OPENSHIFT_DIY_IP -ip.bind=$OPENSHIFT_DIY_IP &gt; $OPENSHIFT_DIY_DIR/logs/master.log 2&gt;&amp;1 &amp;</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #82 from chrislusf/master sync</MESSAGE>
    <SHA>0548ed3a1b5aa15b035b452519568bc017c065a3</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #83 from chrislusf/master sync</MESSAGE>
      <SHA>ee90edd0e3746ae0f6046dd9e7362aeec821456c</SHA>
      <PATCHEDFILES>
        <FILE>.github/workflows/binaries_dev.yml</FILE>
        <FILE>docker/compose/local-cluster-compose.yml</FILE>
        <FILE>k8s/helm_charts2/Chart.yaml</FILE>
        <FILE>other/java/client/pom.xml</FILE>
        <FILE>other/java/client/pom.xml.deploy</FILE>
        <FILE>other/java/client/pom_debug.xml</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/ReadChunks.java</FILE>
        <FILE>other/java/client/src/main/java/seaweedfs/client/SeaweedRead.java</FILE>
        <FILE>other/java/client/src/main/proto/filer.proto</FILE>
        <FILE>other/java/client/src/test/java/seaweedfs/client/SeaweedReadTest.java</FILE>
        <FILE>other/java/examples/pom.xml</FILE>
        <FILE>other/java/hdfs2/dependency-reduced-pom.xml</FILE>
        <FILE>other/java/hdfs2/pom.xml</FILE>
        <FILE>other/java/hdfs3/dependency-reduced-pom.xml</FILE>
        <FILE>other/java/hdfs3/pom.xml</FILE>
        <FILE>test/s3/basic/basic_test.go</FILE>
        <FILE>unmaintained/stress_filer_upload/bench_filer_upload/bench_filer_upload.go</FILE>
        <FILE>unmaintained/stress_filer_upload/stress_filer_upload_actual/stress_filer_upload.go</FILE>
        <FILE>weed/command/download.go</FILE>
        <FILE>weed/command/filer_copy.go</FILE>
        <FILE>weed/command/scaffold.go</FILE>
        <FILE>weed/filer.toml</FILE>
        <FILE>weed/filer/filechunks.go</FILE>
        <FILE>weed/filer/filechunks_read.go</FILE>
        <FILE>weed/filer/filechunks_read_test.go</FILE>
        <FILE>weed/filer/filer_conf.go</FILE>
        <FILE>weed/filer/filerstore_wrapper.go</FILE>
        <FILE>weed/filer/leveldb/leveldb_store_test.go</FILE>
        <FILE>weed/filer/leveldb2/leveldb2_store_test.go</FILE>
        <FILE>weed/filer/leveldb3/leveldb3_store_test.go</FILE>
        <FILE>weed/filer/rocksdb/rocksdb_store_test.go</FILE>
        <FILE>weed/filesys/dir_rename.go</FILE>
        <FILE>weed/filesys/meta_cache/meta_cache.go</FILE>
        <FILE>weed/filesys/meta_cache/meta_cache_subscribe.go</FILE>
        <FILE>weed/images/orientation_test.go</FILE>
        <FILE>weed/images/resizing_test.go</FILE>
        <FILE>weed/operation/chunked_file.go</FILE>
        <FILE>weed/operation/upload_content.go</FILE>
        <FILE>weed/pb/filer.proto</FILE>
        <FILE>weed/pb/filer_pb/filer.pb.go</FILE>
        <FILE>weed/pb/filer_pb_tail.go</FILE>
        <FILE>weed/remote_storage/azure/azure_storage_client.go</FILE>
        <FILE>weed/remote_storage/gcs/gcs_storage_client.go</FILE>
        <FILE>weed/replication/sub/notification_kafka.go</FILE>
        <FILE>weed/s3api/auth_credentials.go</FILE>
        <FILE>weed/s3api/auth_credentials_subscribe.go</FILE>
        <FILE>weed/s3api/auth_signature_v4.go</FILE>
        <FILE>weed/s3api/auto_signature_v4_test.go</FILE>
        <FILE>weed/s3api/filer_multipart.go</FILE>
        <FILE>weed/s3api/s3api_bucket_handlers.go</FILE>
        <FILE>weed/s3api/s3api_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_handlers_postpolicy.go</FILE>
        <FILE>weed/s3api/s3api_object_multipart_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_skip_handlers.go</FILE>
        <FILE>weed/s3api/s3api_object_tagging_handlers.go</FILE>
        <FILE>weed/s3api/s3api_policy.go</FILE>
        <FILE>weed/s3api/s3api_server.go</FILE>
        <FILE>weed/s3api/s3api_xsd_generated.go</FILE>
        <FILE>weed/s3api/s3err/s3api_errors.go</FILE>
        <FILE>weed/s3api/tags.go</FILE>
        <FILE>weed/s3api/tags_test.go</FILE>
        <FILE>weed/security/tls.go</FILE>
        <FILE>weed/server/common.go</FILE>
        <FILE>weed/server/filer_grpc_server_rename.go</FILE>
        <FILE>weed/server/filer_grpc_server_sub_meta.go</FILE>
        <FILE>weed/server/filer_server_handlers_read.go</FILE>
        <FILE>weed/server/filer_server_handlers_write_autochunk.go</FILE>
        <FILE>weed/server/filer_server_handlers_write_upload.go</FILE>
        <FILE>weed/server/volume_grpc_copy.go</FILE>
        <FILE>weed/server/volume_grpc_erasure_coding.go</FILE>
        <FILE>weed/shell/command_fs_configure.go</FILE>
        <FILE>weed/shell/command_volume_fsck.go</FILE>
        <FILE>weed/storage/disk_location.go</FILE>
        <FILE>weed/storage/disk_location_ec.go</FILE>
        <FILE>weed/storage/needle/needle_parse_upload.go</FILE>
        <FILE>weed/storage/needle/needle_read_write_test.go</FILE>
        <FILE>weed/storage/needle_map_metric_test.go</FILE>
        <FILE>weed/storage/volume_backup.go</FILE>
        <FILE>weed/storage/volume_info/volume_info.go</FILE>
        <FILE>weed/storage/volume_vacuum_test.go</FILE>
        <FILE>weed/storage/volume_write_test.go</FILE>
        <FILE>weed/util/chunk_cache/chunk_cache_on_disk_test.go</FILE>
        <FILE>weed/util/chunk_cache/on_disk_cache_layer.go</FILE>
        <FILE>weed/util/constants.go</FILE>
        <FILE>weed/util/http_util.go</FILE>
        <FILE>weed/util/log_buffer/log_buffer.go</FILE>
        <FILE>weed/util/skiplist/skiplist_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
