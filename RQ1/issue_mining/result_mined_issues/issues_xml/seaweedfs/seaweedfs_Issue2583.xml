<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2583</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/2583</ISSUEURL>
  <TITLE>[s3] Bug with backward compatibility of accesses 2.85</TITLE>
  <DESCRIPTION>version ``` 2.85 ``` ``` Jan 12, 2022 @ 15:05:13.935 | I0112 10:05:13 1 auth_credentials.go:219] v4 auth type -- | -- | Jan 12, 2022 @ 15:05:13.935 | I0112 10:05:13 1 error_handler.go:85] status 403 application/xml: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; | Jan 12, 2022 @ 15:05:13.935 | I0112 10:05:13 1 auth_credentials.go:248] user name: cdn actions: [Admin:cdn-*], action: Write | Jan 12, 2022 @ 15:05:13.935 | I0112 10:05:13 1 error_handler.go:85] status 403 application/xml: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; | Jan 12, 2022 @ 15:05:13.935 | &lt;Error&gt;&lt;Code&gt;AccessDenied&lt;/Code&gt;&lt;Message&gt;Access Denied.&lt;/Message&gt;&lt;Resource&gt;/d28547ea7e450b9d42b86d2dd1dd89b02598dce2.original&lt;/Resource&gt;&lt;RequestId&gt;1641981913107869339&lt;/RequestId&gt;&lt;Key&gt;d28547ea7e450b9d42b86d2dd1dd89b02598dce2.original&lt;/Key&gt;&lt;BucketName&gt;cdn&lt;/BucketName&gt;&lt;/Error&gt; ```</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix compilation</MESSAGE>
    <SHA>adfd54e7c4e183ccffb90a3355d9ede898d0eb06</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>https://github.com/chrislusf/seaweedfs/issues/2583</MESSAGE>
      <SHA>edb753ab4d3c49287cfb1ec0f0650aad23977b1c</SHA>
      <PATCHEDFILES>
        <FILE>weed/s3api/auth_credentials.go</FILE>
        <FILE>weed/s3api/auth_credentials_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
