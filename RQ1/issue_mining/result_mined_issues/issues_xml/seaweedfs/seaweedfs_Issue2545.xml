<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2545</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/2545</ISSUEURL>
  <TITLE>[bug:filer] Trying to connect to the old filler address</TITLE>
  <DESCRIPTION>Trying to connect to the old filler address ``` I1230 08:30:44 1 meta_aggregator.go:190] subscribing remote 10.106.97.138:9090 meta change: subscribe: rpc error: code = Unavailable desc = connection error: desc = &quot;transport: Error while dialing dial tcp 10.106.97.138:19090: connect: connection refused&quot; ``` IP address 10.106.97.138:9090 not in cluster ``` &gt; cluster.ps the cluster has 8 filers * 10.103.39.184:9090 (8000GB 2.82 b7cd5263) * 10.106.97.170:9090 (8000GB 2.82 b7cd5263) * 10.106.97.173:9090 (8000GB 2.82 b7cd5263) * 10.106.97.221:9090 (8000GB 2.82 b7cd5263) * 10.103.39.160:9090 (8000GB 2.82 b7cd5263) * 10.103.39.190:9090 (8000GB 2.82 b7cd5263) * 10.103.39.151:9090 (8000GB 2.82 b7cd5263) * 10.106.97.152:9090 (8000GB 2.82 b7cd5263) ```</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>200</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>dynamically adjust connection timeout better fix for https://github.com/chrislusf/seaweedfs/issues/2541</MESSAGE>
    <SHA>fb434318e36ac8e78ab304bfd5421f110c10bdf1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>remove duplicated metadata subscription in filer https://github.com/chrislusf/seaweedfs/issues/2545</MESSAGE>
      <SHA>34742be0295998c2105a5ee50e3e77ef2397c403</SHA>
      <PATCHEDFILES>
        <FILE>weed/filer/meta_aggregator.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>avoid connect to the old filler address https://github.com/chrislusf/seaweedfs/issues/2545</MESSAGE>
      <SHA>834210a9dc05b8b0a4cc62a0d2d4e2a19804e17b</SHA>
      <PATCHEDFILES>
        <FILE>weed/filer/meta_aggregator.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Revert &quot;remove duplicated metadata subscription in filer&quot; This reverts commit 34742be0295998c2105a5ee50e3e77ef2397c403. Related to https://github.com/chrislusf/seaweedfs/issues/2545</MESSAGE>
      <SHA>34b743c481e65b25c052512603d1794eddfe839c</SHA>
      <PATCHEDFILES>
        <FILE>weed/filer/meta_aggregator.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
