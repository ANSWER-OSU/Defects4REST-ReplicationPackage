<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5527</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/5527</ISSUEURL>
  <TITLE>The files on the mounted point are not deleted after the TTL expires</TITLE>
  <DESCRIPTION>**Describe the bug** Create a bucket named &quot;test2&quot; with a TTL (Time To Live) of 1 minute. Upload files into the bucket. After the TTL expires, verify that the files no longer exist inside the bucket. However, the files on the mounted point are still present. upload file curl -F file=@Readme.txt &quot;http://10.xxx.xx.x:9283/home/hdpu/lyh/mount_dir/test2/20240424/Readme1.txt&quot; curl -F file=@Readme.txt &quot;http://10.xxx.xx.x:9283/home/hdpu/lyh/mount_dir/test2/20240424/Readme2.txt&quot; curl -F file=@Readme.txt &quot;http://10.xxx.xx.x:9283/home/hdpu/lyh/mount_dir/test2/20240424/Readme3.txt&quot; **System Setup** - List the command line to start &quot;weed master&quot;, &quot;weed volume&quot;, &quot;weed filer&quot;, &quot;weed s3&quot;, &quot;weed mount&quot;. ./weed -logdir=/data/obs/hdd/log/master master -mdir=/data/obs/ssd/data/master -peers=10.xxx.xx.x:9666 -ip=10.xxx.xx.x -port=9666 -defaultReplication=000 -volumePreallocate -volumeSizeLimitMB=80 /weed -logdir=/data/obs/hdd/log/volume volume -index=leveldb -idleTimeout=30 -dir=/data/obs/ssd/data/volume,/data/obs/hdd/data/volume,/data/obs/warm/data/volume,/data/obs/cold/data/volume -disk=ssd,hdd,warm,cold -mserver=10.xxx.xx.x:9666 -dataCenter=dc -rack=rack1 -ip=10.xxx.xx.x -port=9189 -concurrentDownloadLimitMB=2048 -max=0 ./weed -logdir=/data/obs/hdd/log/filer filer -master=10.xxx.xx.x:9666 -ip=10.xxx.xx.x -port=9283 -defaultReplicaPlacement=000 -maxMB=4 -s3 -s3.allowEmptyFolder -encryptVolumeData -s3.port=9383 -iam -iam.port=9483 ./weed mount -cacheCapacityMB=0 -filer=10.xxx.xx.x:9283 -volumeServerAccess=filerProxy -dir=/home/hdpu/lyh/mount_dir/ -filer.path=/home/hdpu/lyh/mount_dir/ - OS version centos7 - output of `weed version` seaweedfs 3.15 - if using filer, show the content of `filer.toml` [cassandra] enabled = true keyspace = &quot;seaweedfs&quot; hosts = [ &quot;10.xxx.xx.x:9042&quot;, ] username = &quot;&quot; password = &quot;&quot; This changes the data layout. Only add new directories. Removing/Updating will cause data loss. superLargeDirectories = [] Name of the datacenter local to this filer, used as host selection fallback. localDC = &quot;&quot; **Expected behavior** The files on the mounted point have been deleted. **Screenshots** If applicable, add screenshots to help explain your problem. ![image](https://github.com/seaweedfs/seaweedfs/assets/45417436/daf66b57-fbae-4cb2-aba0-5f046c86beb1) ![image](https://github.com/seaweedfs/seaweedfs/assets/45417436/d115c59c-c188-4a32-b831-1bf3071727fb) **Additional context** Add any other context about the problem here.</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>106</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix invalid toml</MESSAGE>
    <SHA>2074e7db67e7c24d51a951689aab1c260e823127</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fuse mount handles ttl entries fix https://github.com/seaweedfs/seaweedfs/issues/5527</MESSAGE>
      <SHA>9ca30e52d59fe6942435d55b84632e3b9ddda27e</SHA>
      <PATCHEDFILES>
        <FILE>weed/mount/meta_cache/meta_cache.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
