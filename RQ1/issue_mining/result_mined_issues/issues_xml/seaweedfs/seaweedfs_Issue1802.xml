<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1802</ISSUENO>
  <ISSUEURL>https://github.com/seaweedfs/seaweedfs/issues/1802</ISSUEURL>
  <TITLE>Persistent connections to volume servers through FUSE</TITLE>
  <DESCRIPTION>I've got one question regarding FUSE mounts and connections to volume servers. As far as I could see on my server/s and from the code, retrieving or saving files to volume servers happens in dedicated HTTP requests. This is probably the case for all volume server operations. Would it not be possible to keep the connections alive all the time? Or have some kind of connection pooler that keeps a bunch of idle connections that can be reused? Making a new request each and every time is very expensive and adds a lot of overhead. It degrades the overall performance. Especially when the connections are also encrypted (TLS handshake..). Did I miss something or could this be a nice feature for SeaweedFS?</DESCRIPTION>
  <REPONAME>seaweedfs</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1801 from kmlebedev/recoveringRabbitMQ Do reconnect to RabbitMQ</MESSAGE>
    <SHA>0f426ce34d63deb6c8d4695c43a9e7c504e25005</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>adjust http max idle connections per host related to https://github.com/chrislusf/seaweedfs/issues/1802</MESSAGE>
      <SHA>487e435679d6c8cc153b8ef048b8957478cd3d0c</SHA>
      <PATCHEDFILES>
        <FILE>unmaintained/stress_filer_upload/bench_filer_upload/bench_filer_upload.go</FILE>
        <FILE>weed/operation/upload_content.go</FILE>
        <FILE>weed/pb/grpc_client_server.go</FILE>
        <FILE>weed/s3api/s3api_object_handlers.go</FILE>
        <FILE>weed/server/filer_server_handlers_proxy.go</FILE>
        <FILE>weed/util/http_util.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
