<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8260</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/8260</ISSUEURL>
  <TITLE>feat: As a user, I want to enhance the custom path of Proxy-mirror plugin, so that it can be used in more scenarios</TITLE>
  <DESCRIPTION>### Description ref: https://github.com/apache/apisix/issues/5305 https://github.com/apache/apisix/pull/6506 Under the current implementation, if `path` is set, the original request url will be replaced. We hope to add a `prefix` mode to adapt to more business scenarios. for example: Traffic under different domain names enters the unified traffic mirroring service and is differentiated by path ``` hostA/* -&gt; Proxy-mirror -&gt; mirroringService:8080/A/* hostB/foo/* -&gt; Proxy-mirror -&gt; mirroringService:8080/B/foo/* ```</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>7</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs: add fallbck_sni faq (#8215) * docs: add fallbck_sni faq * docs: fix error link</MESSAGE>
    <SHA>288708cbe0098fd3f62fadd725490804d5d0a3db</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat(proxy-mirror): support prefix mode (#8261) Fixes https://github.com/apache/apisix/issues/8260</MESSAGE>
      <SHA>06f6137b4912b1cb9f640c83e2220c292643766c</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/proxy-mirror.lua</FILE>
        <FILE>docs/en/latest/plugins/proxy-mirror.md</FILE>
        <FILE>docs/zh/latest/plugins/proxy-mirror.md</FILE>
        <FILE>t/plugin/proxy-mirror.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
