<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3727</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3727</ISSUEURL>
  <TITLE>allow using variable in the header of reponse-rewrite plugin</TITLE>
  <DESCRIPTION>### Issue description How do I know which node the response came from, for example: The upstream have tow nodes(node1 and node2), how can I judge if the response comes from node1 or node2(such as the response has a cookie `server:node1`)? Which plugin can I use? ### Environment * apisix version (cmd: `apisix version`): * OS (cmd: `uname -a`): * OpenResty / Nginx version (cmd: `nginx -V` or `openresty -V`): * etcd version, if have (cmd: run `curl http://127.0.0.1:9090/v1/server_info` to get the info from server-info API): * apisix-dashboard version, if have:</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>68</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat(ext-plugin): implement the http-req-call protocol (#4183)</MESSAGE>
    <SHA>ffed4383f14dd9de4118511ec4e6edff53965e03</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat(reponse-rewrite): allow using variable in the header Fix #3727 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>0789f10dafc519999b788aae66f763cdda4399fa</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/response-rewrite.lua</FILE>
        <FILE>docs/en/latest/plugins/response-rewrite.md</FILE>
        <FILE>docs/zh/latest/plugins/response-rewrite.md</FILE>
        <FILE>t/plugin/response-rewrite.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat(reponse-rewrite): allow using variable in the header (#4194) * feat(reponse-rewrite): allow using variable in the header Fix #3727 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>db5a5a9d21831cf2ec7b3df075c656a8f0268472</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/response-rewrite.lua</FILE>
        <FILE>docs/en/latest/plugins/response-rewrite.md</FILE>
        <FILE>docs/zh/latest/plugins/response-rewrite.md</FILE>
        <FILE>t/plugin/response-rewrite.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
