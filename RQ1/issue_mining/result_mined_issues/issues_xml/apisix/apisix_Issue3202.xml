<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3202</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3202</ISSUEURL>
  <TITLE>bug: server runs apisix also runs Nginx. &quot;apisix restart&quot; command does not work</TITLE>
  <DESCRIPTION>### Issue description server runs apisix in fold /home/apisix fold and runs Nginx in /usr/local/nginx/sbin fold would cause restart cmd failed ### Environment * apisix version (cmd: `apisix version`): 2.0 (with changes from: https://github.com/apache/apisix/pull/2575/files) * OS: (cmd: `uname -a`) Linux 3.10.0-693.el7.x86_64 #1 SMP Tue Aug 22 21:09:27 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux * OpenResty / Nginx version: (cmd: `nginx -V` or `openresty -V`) 1.15.8.3 ### Minimal test code / Steps to reproduce the issue 1. run nginx and apisix together 2. restart apisix 3. ### What's the actual result? (including assertion message &amp; call stack if applicable) &quot;APISIX is running ... &quot; show in the screen and apisix stop running ### What's the expected result? apisix restart #3193</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>21</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: allow customizing lua_package_path &amp; lua_package_cpath (#3417)</MESSAGE>
    <SHA>d752b6f364f1fc335d292ebf765d7e8361b14194</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: ignore stale nginx.pid Fix #2948 Fix #3202 Refer: #3208 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>be66720ecb2e4f0e22d918254c862e7ac33ecce1</SHA>
      <PATCHEDFILES>
        <FILE>.travis/apisix_cli_test/test_main.sh</FILE>
        <FILE>apisix/cli/ops.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: ignore stale nginx.pid (#3416) Fix #2948 Fix #3202 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt; Co-authored-by: limiao &lt;limiao02@qiyi.com&gt;</MESSAGE>
      <SHA>97a095661497eb25df051a1274c331f4491ba1be</SHA>
      <PATCHEDFILES>
        <FILE>.travis/apisix_cli_test/test_main.sh</FILE>
        <FILE>apisix/cli/ops.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
