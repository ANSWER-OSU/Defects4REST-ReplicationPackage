<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2655</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2655</ISSUEURL>
  <TITLE>bug: the plug-in can't be reload if it's function changed only.</TITLE>
  <DESCRIPTION>### Issue description the plug-in can't be reload with the ' apisix/admin/plugins/reload' if it's function changed only. because the code https://github.com/apache/apisix/blob/master/apisix/plugin.lua#L111 ### Environment * apisix version (cmd: `apisix version`): the current master branch * OS: centos 7</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>ci: self host openid configuration (#2698) Also split long test</MESSAGE>
    <SHA>a2fa3ff89d886020a317f7e7f024756296e9861d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: reload plugin when plugin attribute is cahnged Close #2655</MESSAGE>
      <SHA>1ad896f98a22c1e63a45caadc20493b59f11afb6</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/table.lua</FILE>
        <FILE>apisix/plugin.lua</FILE>
        <FILE>apisix/plugins/example-plugin.lua</FILE>
        <FILE>t/admin/plugins-reload.t</FILE>
        <FILE>t/core/table.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: reload plugin when plugin attribute is cahnged (#2704) Close #2655</MESSAGE>
      <SHA>39879630ae9a23f9f195963fb75f5488b4f5195e</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/table.lua</FILE>
        <FILE>apisix/plugin.lua</FILE>
        <FILE>apisix/plugins/example-plugin.lua</FILE>
        <FILE>t/admin/plugins-reload.t</FILE>
        <FILE>t/core/table.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
