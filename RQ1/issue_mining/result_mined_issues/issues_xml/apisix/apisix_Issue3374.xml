<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3374</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3374</ISSUEURL>
  <TITLE>Modify the 500 response code in the upstream.lua file to 503 response code</TITLE>
  <DESCRIPTION>### Issue description The `500` response code should be changed to a `503` response code. Because this is a situation where upstream cannot work. Code link: [https://github.com/apache/apisix/blob/master/apisix/upstream.lua#L125-L168 ](https://github.com/apache/apisix/blob/master/apisix/upstream.lua#L125-L168) ### Environment * apisix version (cmd: `apisix version`): * OS: (cmd: `uname -a`) * OpenResty / Nginx version: (cmd: `nginx -V` or `openresty -V`)</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>364</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs: add link of control-api.md to Chinese index. (#3354) Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
    <SHA>6903b8ba517db5a30d847d799b4fbe6236ec0f32</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>chore: The 500 response code in the upstream.lua file was changed to 503 response code fix #3374</MESSAGE>
      <SHA>189d7535bc42aa77bf8f3656b1fe6c6f21bd3b04</SHA>
      <PATCHEDFILES>
        <FILE>apisix/upstream.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
