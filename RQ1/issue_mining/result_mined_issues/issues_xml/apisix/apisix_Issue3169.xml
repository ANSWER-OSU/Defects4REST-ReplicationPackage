<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3169</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3169</ISSUEURL>
  <TITLE>chore: cache the error message when create new `healthcheck` instance</TITLE>
  <DESCRIPTION>`healthcheck.new` may fail, we need to check the return value first. https://github.com/apache/apisix/blob/4d316bc0681c80435ab1a3fc113c3c6ea3c82831/apisix/balancer.lua#L90 here is the doc: ![image](https://user-images.githubusercontent.com/6814606/103398025-c5663a00-4b75-11eb-8b5d-a7d9c202ee5d.png)</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>test: make admin/plugins-reload.t stable (#3192)</MESSAGE>
    <SHA>9e2e5c8a63d26d69323198b016f06c47cf994199</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>chore: capture the error while create new `healthchecker` (#3213) fix #3169</MESSAGE>
      <SHA>17274295bc496050d9c8a834fde01be8b8b4628c</SHA>
      <PATCHEDFILES>
        <FILE>apisix/balancer.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>chore: capture the error while create new `healthchecker` (#3213) fix #3169</MESSAGE>
      <SHA>dc7968ae7b06c65f9ad435c1d2a4e1cc39e75bf1</SHA>
      <PATCHEDFILES>
        <FILE>apisix/balancer.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
