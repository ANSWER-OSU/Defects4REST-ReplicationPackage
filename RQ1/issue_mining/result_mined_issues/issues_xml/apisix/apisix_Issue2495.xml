<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2495</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2495</ISSUEURL>
  <TITLE>request help: dns parsing for ipv6</TITLE>
  <DESCRIPTION>### Issue description Does dns parsing support ipv6? I see the code only sends dns A request, without AAAA request ### Environment centos7.6 * apisix version (cmd: `apisix version`):1.4 * OS:</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>105</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: switch resolver to lua-resty-dns-client (#3442) Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
    <SHA>563b259a5a632b4776e253dd6fefc9d20b88a8f9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: support DNS AAAA record Fix #2495 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>ca04c09eed57a69de29f42ed417464baf68bc39c</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/utils.lua</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/coredns/Corefile</FILE>
        <FILE>t/coredns/db.test.local</FILE>
        <FILE>t/node/upstream-domain-with-special-dns.t</FILE>
        <FILE>utils/set-dns.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support DNS AAAA record Fix #2495 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>bb138f7f0bdb29a34e7da3d72e2fc59aa541ad52</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/utils.lua</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/coredns/Corefile</FILE>
        <FILE>t/coredns/db.test.local</FILE>
        <FILE>t/node/upstream-domain-with-special-dns.t</FILE>
        <FILE>utils/set-dns.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support DNS AAAA record Fix #2495 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>8632835b90bac53dee0074d771d931cd7205d046</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/utils.lua</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/coredns/Corefile</FILE>
        <FILE>t/coredns/db.test.local</FILE>
        <FILE>t/node/upstream-domain-with-special-dns.t</FILE>
        <FILE>utils/set-dns.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
