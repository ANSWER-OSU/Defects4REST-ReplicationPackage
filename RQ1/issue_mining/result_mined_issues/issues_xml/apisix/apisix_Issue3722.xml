<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3722</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3722</ISSUEURL>
  <TITLE>allow using regex in the redirect plugin</TITLE>
  <DESCRIPTION>### Issue description I can't find how to config apisix to support regular matching in uri. The nginx configuration is as follows: ``` location ~* /lib/([a-fA-F0-9]+)$ { return 301 https://example.com/lib/all/$1; } ``` ### Environment * apisix version (cmd: `apisix version`):2.2 * OS (cmd: `uname -a`):ubantu * OpenResty / Nginx version (cmd: `nginx -V` or `openresty -V`): * etcd version, if have (cmd: run `curl http://127.0.0.1:9090/v1/server_info` to get the info from server-info API): * apisix-dashboard version, if have:2.3</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>66</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs: add batch processor in sidebar (#4136) Co-authored-by: 琚致远 &lt;juzhiyuan@apache.org&gt;</MESSAGE>
    <SHA>e0c817dfc8610492b4051a9d3ffde5246686928e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: redirect support regex_uri (#3722)</MESSAGE>
      <SHA>c020728c589ad1f70446cae72f077f30726ec28c</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/redirect.lua</FILE>
        <FILE>t/plugin/redirect.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: redirect support regex_uri, and add doc (#3722)</MESSAGE>
      <SHA>26b038cbce3a86ea967f261c4717ce3eb7302973</SHA>
      <PATCHEDFILES>
        <FILE>docs/en/latest/plugins/redirect.md</FILE>
        <FILE>docs/zh/latest/plugins/redirect.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: redirect support regex_uri, do some optimization (#3722)</MESSAGE>
      <SHA>89f2a97831b369afa91021882178effabbf13c20</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/redirect.lua</FILE>
        <FILE>docs/en/latest/plugins/redirect.md</FILE>
        <FILE>docs/zh/latest/plugins/redirect.md</FILE>
        <FILE>t/plugin/redirect.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: redirect support regex_uri, use local string_format (#3722)</MESSAGE>
      <SHA>c84de6ee549113421e2ae4df0cd84c836a434002</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/redirect.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: redirect support regex_uri, fix code format, move test to the bottom (#3722)</MESSAGE>
      <SHA>1dd1442ecf5d094d7671ac2b6856150c5125e87c</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/redirect.lua</FILE>
        <FILE>t/plugin/redirect.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: redirect support regex_uri, mis EOL (#3722)</MESSAGE>
      <SHA>bef1b63fb4610293fa084888f6acd5d7fad2d7c9</SHA>
      <PATCHEDFILES>
        <FILE>t/plugin/redirect.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
