<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4519</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/4519</ISSUEURL>
  <TITLE>request help: How to deal with arg with dash in the plugin's setting</TITLE>
  <DESCRIPTION>### Issue description Some plugins support vars matching, such as traffic-split. ``` &quot;plugins&quot;: { &quot;traffic-split&quot;: { &quot;rules&quot;: [ { &quot;match&quot;: [ { &quot;vars&quot;: [ [&quot;arg_name&quot;,&quot;==&quot;,&quot;test&quot;] ] } ], &quot;weighted_upstreams&quot;: [ { &quot;upstream&quot;: { &quot;name&quot;: &quot;upstream_A&quot;, &quot;type&quot;: &quot;roundrobin&quot;, &quot;nodes&quot;: { &quot;127.0.0.1:1981&quot;:10 } } } ] } ] } } ``` If I want to check an arg with dash (ex: test-name), I have to get this arg using regex from nginx.var.args refer to https://marc.info/?l=nginx&amp;m=141589036701879&amp;w=2. So how to match this type of args in the plugin setting ? I can't get any tips from https://github.com/api7/lua-resty-expr#operator-list Thank you ### Environment Request help without environment information will be ignored or closed. * apisix version (cmd: `apisix version`): * OS (cmd: `uname -a`): * OpenResty / Nginx version (cmd: `nginx -V` or `openresty -V`): * etcd version, if have (cmd: run `curl http://127.0.0.1:9090/v1/server_info` to get the info from server-info API): * apisix-dashboard version, if have: * luarocks version, if the issue is about installation (cmd: `luarocks --version`):</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>58</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs: fix section titles' links (#4669)</MESSAGE>
    <SHA>e3e018315311e0ca201f17579f9106eb88a834d1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>1cb3c95eeac43549071fd9935e98d0bd637ce502</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/ctx.lua</FILE>
        <FILE>t/core/ctx.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>24ec59ec3f4f6e93fd8b2fccdc355bc2e4b8d171</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx.t</FILE>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>4f8b4338e351d4558d0c6f93d319b5ecd20b6d21</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/ctx.lua</FILE>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>3f7b11efe4b6d66553c0f17f646c6b2bb553cd77</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/ctx.lua</FILE>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>b66b1e2952b1d6e06ae6835adae06686aaa8a779</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>d904d88bee91b31343965526898c02afdb8fa9cd</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/ctx.lua</FILE>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>74219a6868980caf26a099b94704f59b53cba3e4</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>df7b4a6a2ee466aed922b66e7ad1baa8dcf2f4b8</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>db1af52413afc0f12d153e2a43ee5009986eaaf7</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>70ca21f5a2dee742ffc6c2cefff353c337d44f77</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>51b6aaa54a857ad8c1ebb3009eef80e50692c721</SHA>
      <PATCHEDFILES>
        <FILE>apisix/admin/init.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>a757c0aa77f9dc3d88dd45208133bbe9bb0bd8e4</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519)</MESSAGE>
      <SHA>87a119f23f4125d6dca14f118c7e0b0f9d5abc11</SHA>
      <PATCHEDFILES>
        <FILE>t/core/ctx.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support dash in args (#4519) (#4676) Co-authored-by: Alex Zhang &lt;tokers@apache.org&gt; Co-authored-by: tzssangglass &lt;tzssangglass@gmail.com&gt; Co-authored-by: jianzhou &lt;zhoujian1@huya.com&gt;</MESSAGE>
      <SHA>88b92ae9d0048313e3e187b3bd0d8c0815eaddb5</SHA>
      <PATCHEDFILES>
        <FILE>apisix/admin/init.lua</FILE>
        <FILE>apisix/core/ctx.lua</FILE>
        <FILE>t/core/ctx.t</FILE>
        <FILE>t/core/ctx2.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
