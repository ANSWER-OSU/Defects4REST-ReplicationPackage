<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3035</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3035</ISSUEURL>
  <TITLE>bug: del upstream but not del route, request the route, return 500</TITLE>
  <DESCRIPTION>- Why do you submit this issue? - [ ] Question or discussion - [x] Bug - [ ] Requirements - [ ] Feature or performance improvement - [ ] Other ### Bug - Which version of Apache APISIX Dashboard, OS, and Browser? APISIX 2.0 + APISIX-dashbaord 2.0 step1: create upstream step2: create route, and chose upstream created by step1 step3: del the step1's upstream from dashboard's upstream page step4: request the route, return 500 I think step3 should be limited.</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>36</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs: corrected typo in doc (#3030)</MESSAGE>
    <SHA>0222db7bf31e022bd69cc28cdac3b41be09b875f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: return 502 for upstream not found in the DP Fix #3035 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>741a73c271f6f9e35404ea59eb77eb62c61b0792</SHA>
      <PATCHEDFILES>
        <FILE>apisix/init.lua</FILE>
        <FILE>t/node/upstream.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: return 502 for upstream not found in the DP (#3050) Fix #3035 Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>8420a0f39d0609f3086c8c01ec19c240baabd8a2</SHA>
      <PATCHEDFILES>
        <FILE>apisix/init.lua</FILE>
        <FILE>t/node/upstream.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
