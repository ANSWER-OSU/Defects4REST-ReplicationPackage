<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2554</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2554</ISSUEURL>
  <TITLE>request help: abnormal output after using echo plugin</TITLE>
  <DESCRIPTION>### Issue description After adding the official echo plugin, the output content did not meet expectations. ![image](https://user-images.githubusercontent.com/8169665/97518800-f1790980-19d2-11eb-82c9-ea2995b8f316.png) here is route config. ![image](https://user-images.githubusercontent.com/8169665/97518825-ffc72580-19d2-11eb-9fc7-591d2ea15c64.png) ### Environment * apisix version (cmd: `apisix version`): `2.0` * OS: `mac os`</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>CI: move etcd cluster in docker (#2225)</MESSAGE>
    <SHA>1dfc4cdacd620e6d59c3d4c75506ff80581612eb</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix(echo): modify response body correctly Fix #2427, #2554</MESSAGE>
      <SHA>96e19ddf0efd19303e43233a1387e064b01d5402</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/echo.lua</FILE>
        <FILE>t/lib/server.lua</FILE>
        <FILE>t/plugin/echo.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(echo): modify response body correctly (#2561) Fix #2427, #2554</MESSAGE>
      <SHA>960077f2458ab4a3eba3691b9b71620f2fccb3bd</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/echo.lua</FILE>
        <FILE>t/lib/server.lua</FILE>
        <FILE>t/node/remote-addr-ipv6.t</FILE>
        <FILE>t/plugin/echo.t</FILE>
        <FILE>t/plugin/redirect.t</FILE>
        <FILE>t/router/multi-ssl-certs.t</FILE>
        <FILE>t/router/radixtree-sni.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
