<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2422</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2422</ISSUEURL>
  <TITLE>feat: In dns parse, when the parameter `resolvers` is empty, will use the default `resolvers`</TITLE>
  <DESCRIPTION>### Issue description In `dns parse`. When we use `dns parse` in the plugin, the parameter `resolvers` is empty, then we need to use local `dns` as resolvers by default.</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(prometheus): don't provide etcd metrics when you don't use it (#2396)</MESSAGE>
    <SHA>4f535e7401468c3f857cbf6a83ed6c3a0a9496db</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: In dns parse, the value of `resolvers` is allowed to be empty. fix #2422</MESSAGE>
      <SHA>c60619eb9f21d8fd909879691a79ee312618ff96</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/utils.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>t/core/utils.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: In dns parse, when the parameter `resolvers` is empty, the local dns is used as `resolvers` by default (#2424) fix #2422</MESSAGE>
      <SHA>d1729c0af3bc416a88904568b4d2718c99a1982d</SHA>
      <PATCHEDFILES>
        <FILE>apisix/core/utils.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>t/core/utils.t</FILE>
        <FILE>t/node/upstream-node-dns.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
