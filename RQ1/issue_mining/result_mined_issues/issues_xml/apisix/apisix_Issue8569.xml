<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8569</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/8569</ISSUEURL>
  <TITLE>feat: As a user, I want to refactor the resources under apisix.admin, so that we don't need to repeat</TITLE>
  <DESCRIPTION>### Description Currently, all the resources under `apisix.admin` are basically copied and pasted from a template and changed. If you make general changes to the resource, such as fix count or add adapter, you need to change it file by file. And due to historical problems, some resource implementation methods are incomplete. I hope we can refactor the code to something like `core.config.new`, where we only need to pass a few parameters to create a new resource. Note: Please read every resource file before jumping into the refactor. Some resources have particular logic. We need a smart way to handle them. CC @An-DJ</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>16</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: add custom log format to each logger (#8643)</MESSAGE>
    <SHA>cbf2297c86409fe373c5eb70922f58e6f448e41a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>refactor(admin): refactor resource routes (#8611) Fixes https://github.com/apache/apisix/issues/8569</MESSAGE>
      <SHA>3b35a99c3f400657a53c36c6d037b3f025a37c88</SHA>
      <PATCHEDFILES>
        <FILE>apisix/admin/init.lua</FILE>
        <FILE>apisix/admin/resource.lua</FILE>
        <FILE>apisix/admin/routes.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>refactor(admin): stream_routes/upstreams/protos/services/global_rules/consumer_groups/plugin_configs (#8661) Fixes https://github.com/apache/apisix/issues/8569</MESSAGE>
      <SHA>22be6d08cef7de16c3f8a303e75c1872378c3dee</SHA>
      <PATCHEDFILES>
        <FILE>apisix/admin/consumer_group.lua</FILE>
        <FILE>apisix/admin/global_rules.lua</FILE>
        <FILE>apisix/admin/init.lua</FILE>
        <FILE>apisix/admin/plugin_config.lua</FILE>
        <FILE>apisix/admin/proto.lua</FILE>
        <FILE>apisix/admin/resource.lua</FILE>
        <FILE>apisix/admin/routes.lua</FILE>
        <FILE>apisix/admin/services.lua</FILE>
        <FILE>apisix/admin/stream_routes.lua</FILE>
        <FILE>apisix/admin/upstreams.lua</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
