<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4273</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/4273</ISSUEURL>
  <TITLE>discuss: enrich the Available metrics of plugin prometheus</TITLE>
  <DESCRIPTION>### Issue description About the plugin prometheus, in the original metric data of APISIX, the number of the available metrics is limited. In some practical application scenarios, request_method and remote_addr are very useful monitoring metrics. Is there a plan to enrich the [Available metrics](https://github.com/apache/apisix/blob/master/docs/en/latest/plugins/prometheus.md#available-metrics)ï¼Œsuch as adding remote_addr, request_method in Status codes? ![pe](https://user-images.githubusercontent.com/59835099/118767304-2174f500-b8b0-11eb-92b2-d37192071c0c.png) ### Environment apisix version (cmd: apisix version): 2.5</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>438</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>docs: add labels in asf.yaml for GitHub. (#7532)</MESSAGE>
    <SHA>5dee1a43139b8355c518966a4f54892cdf29026a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat(prometheus): extra labels from nginx var for http request metrics close #4273</MESSAGE>
      <SHA>5c92517f7a0b01ddf1894e6121ce2b8a16f41625</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/prometheus/exporter.lua</FILE>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>docs/en/latest/plugins/prometheus.md</FILE>
        <FILE>t/plugin/prometheus4.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat(prometheus): extra labels from nginx var for http request metrics (#7549) close #4273 Co-authored-by: tzssangglass &lt;tzssangglass@gmail.com&gt;</MESSAGE>
      <SHA>3d9e2fdbae78d2f4c821e81ae3e90f9545ee55ce</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/prometheus/exporter.lua</FILE>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>docs/en/latest/plugins/prometheus.md</FILE>
        <FILE>t/plugin/prometheus4.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat(prometheus): extra labels from nginx var for http request metrics (#7549) close #4273 Co-authored-by: tzssangglass &lt;tzssangglass@gmail.com&gt;</MESSAGE>
      <SHA>bcfeb1be25d229587a69cf808bfd822d461a38ce</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/prometheus/exporter.lua</FILE>
        <FILE>conf/config-default.yaml</FILE>
        <FILE>docs/en/latest/plugins/prometheus.md</FILE>
        <FILE>t/plugin/prometheus4.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
