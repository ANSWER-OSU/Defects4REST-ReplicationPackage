<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1127</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/1127</ISSUEURL>
  <TITLE>Feature: introduce proxy caching plugin</TITLE>
  <DESCRIPTION>Hiï¼Œ I want to introduce a proxy caching plugin, but there are several choices. 1. Based on Nginx's built-in proxy cache in ngx_http_proxy_module, it store data on disk. 2. Based on lua_shared_dict in ngx-lua-module, it store data on memory. 3. Based on external storage such as redis and other redis-like storage system. Each option has its own scenario, but i think option 1 supports more functionality and less code needs to be implemented. In addition, I'd perfer to abstract these options into a plugin and then by parameters to distinguish. What do you think of?</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>27</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>add log_not_found off default</MESSAGE>
    <SHA>b283c394fb51788b883a464029fa2791d682b7d7</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>commit #1127</MESSAGE>
      <SHA>3f7ebb6e753025a2808e1dfbb9cc554dec988afd</SHA>
      <PATCHEDFILES>
        <FILE>.gitattributes</FILE>
        <FILE>.github/ISSUE_TEMPLATE/bug.md</FILE>
        <FILE>.github/ISSUE_TEMPLATE/request-help.md</FILE>
        <FILE>.github/PULL_REQUEST_TEMPLATE.md</FILE>
        <FILE>.gitignore</FILE>
        <FILE>.gitmodules</FILE>
        <FILE>.luacheckrc</FILE>
        <FILE>.travis.yml</FILE>
        <FILE>.travis/ASF-Release.cfg</FILE>
        <FILE>.travis/ASFLicenseHeaderMarkdown.txt</FILE>
        <FILE>CHANGELOG.md</FILE>
        <FILE>CHANGELOG_CN.md</FILE>
        <FILE>CODE_STYLE.md</FILE>
        <FILE>Contributing.md</FILE>
        <FILE>DISCLAIMER</FILE>
        <FILE>FAQ.md</FILE>
        <FILE>FAQ_CN.md</FILE>
        <FILE>LICENSE</FILE>
        <FILE>Makefile</FILE>
        <FILE>NOTICE</FILE>
        <FILE>README.md</FILE>
        <FILE>README_CN.md</FILE>
        <FILE>benchmark/fake-apisix/conf/cert/apisix.crt</FILE>
        <FILE>benchmark/fake-apisix/conf/cert/apisix.key</FILE>
        <FILE>benchmark/fake-apisix/conf/cert/openssl.conf</FILE>
        <FILE>benchmark/fake-apisix/conf/nginx.conf</FILE>
        <FILE>benchmark/fake-apisix/lua/apisix.lua</FILE>
        <FILE>benchmark/server/conf/nginx.conf</FILE>
        <FILE>conf/apisix.yaml</FILE>
        <FILE>conf/cert/apisix.crt</FILE>
        <FILE>conf/cert/apisix.key</FILE>
        <FILE>conf/cert/openssl.conf</FILE>
        <FILE>conf/config.yaml</FILE>
        <FILE>conf/debug.yaml</FILE>
        <FILE>conf/mime.types</FILE>
        <FILE>doc/README.md</FILE>
        <FILE>doc/README_CN.md</FILE>
        <FILE>doc/admin-api-cn.md</FILE>
        <FILE>doc/admin-api.md</FILE>
        <FILE>doc/apisix-plugin-design.graffle</FILE>
        <FILE>doc/architecture-design-cn.md</FILE>
        <FILE>doc/architecture-design.md</FILE>
        <FILE>doc/batch-processor.md</FILE>
        <FILE>doc/benchmark-cn.md</FILE>
        <FILE>doc/benchmark.md</FILE>
        <FILE>doc/getting-started.md</FILE>
        <FILE>doc/grpc-proxy-cn.md</FILE>
        <FILE>doc/grpc-proxy.md</FILE>
        <FILE>doc/health-check.md</FILE>
        <FILE>doc/how-to-build-cn.md</FILE>
        <FILE>doc/how-to-build.md</FILE>
        <FILE>doc/https-cn.md</FILE>
        <FILE>doc/https.md</FILE>
        <FILE>doc/images/apisix.png</FILE>
        <FILE>doc/images/benchmark-1.jpg</FILE>
        <FILE>doc/images/benchmark-2.jpg</FILE>
        <FILE>doc/images/consumer-internal.png</FILE>
        <FILE>doc/images/consumer-who.png</FILE>
        <FILE>doc/images/flamegraph-1.jpg</FILE>
        <FILE>doc/images/flamegraph-2.jpg</FILE>
        <FILE>doc/images/flow-load-plugin.png</FILE>
        <FILE>doc/images/flow-plugin-internal.png</FILE>
        <FILE>doc/images/latency-1.jpg</FILE>
        <FILE>doc/images/latency-2.jpg</FILE>
        <FILE>doc/images/plugin/basic-auth-1.png</FILE>
        <FILE>doc/images/plugin/basic-auth-2.png</FILE>
        <FILE>doc/images/plugin/grafana_1.png</FILE>
        <FILE>doc/images/plugin/grafana_2.png</FILE>
        <FILE>doc/images/plugin/grafana_3.png</FILE>
        <FILE>doc/images/plugin/jwt-auth-1.png</FILE>
        <FILE>doc/images/plugin/jwt-auth-2.png</FILE>
        <FILE>doc/images/plugin/key-auth-1.png</FILE>
        <FILE>doc/images/plugin/key-auth-2.png</FILE>
        <FILE>doc/images/plugin/limit-conn-1.png</FILE>
        <FILE>doc/images/plugin/limit-conn-2.png</FILE>
        <FILE>doc/images/plugin/limit-count-1.png</FILE>
        <FILE>doc/images/plugin/limit-count-2.png</FILE>
        <FILE>doc/images/plugin/limit-req-1.png</FILE>
        <FILE>doc/images/plugin/limit-req-2.png</FILE>
        <FILE>doc/images/plugin/oauth-1.png</FILE>
        <FILE>doc/images/plugin/prometheus-1.png</FILE>
        <FILE>doc/images/plugin/prometheus-2.png</FILE>
        <FILE>doc/images/plugin/prometheus01.png</FILE>
        <FILE>doc/images/plugin/prometheus02.png</FILE>
        <FILE>doc/images/plugin/wolf-rbac-1.png</FILE>
        <FILE>doc/images/plugin/wolf-rbac-2.png</FILE>
        <FILE>doc/images/plugin/zipkin-1.jpg</FILE>
        <FILE>doc/images/plugin/zipkin-1.png</FILE>
        <FILE>doc/images/plugin/zipkin-2.jpg</FILE>
        <FILE>doc/images/plugin/zipkin-2.png</FILE>
        <FILE>doc/images/qq-group.png</FILE>
        <FILE>doc/images/routes-example.png</FILE>
        <FILE>doc/images/service-example.png</FILE>
        <FILE>doc/images/upstream-example.png</FILE>
        <FILE>doc/install-dependencies.md</FILE>
        <FILE>doc/plugin-develop-cn.md</FILE>
        <FILE>doc/plugin-develop.md</FILE>
        <FILE>doc/plugins-cn.md</FILE>
        <FILE>doc/plugins.md</FILE>
        <FILE>doc/plugins/basic-auth-cn.md</FILE>
        <FILE>doc/plugins/basic-auth.md</FILE>
        <FILE>doc/plugins/fault-injection-cn.md</FILE>
        <FILE>doc/plugins/fault-injection.md</FILE>
        <FILE>doc/plugins/grpc-transcoding-cn.md</FILE>
        <FILE>doc/plugins/grpc-transcoding.md</FILE>
        <FILE>doc/plugins/ip-restriction-cn.md</FILE>
        <FILE>doc/plugins/ip-restriction.md</FILE>
        <FILE>doc/plugins/jwt-auth-cn.md</FILE>
        <FILE>doc/plugins/jwt-auth.md</FILE>
        <FILE>doc/plugins/key-auth-cn.md</FILE>
        <FILE>doc/plugins/key-auth.md</FILE>
        <FILE>doc/plugins/limit-conn-cn.md</FILE>
        <FILE>doc/plugins/limit-conn.md</FILE>
        <FILE>doc/plugins/limit-count-cn.md</FILE>
        <FILE>doc/plugins/limit-count.md</FILE>
        <FILE>doc/plugins/limit-req-cn.md</FILE>
        <FILE>doc/plugins/limit-req.md</FILE>
        <FILE>doc/plugins/mqtt-proxy-cn.md</FILE>
        <FILE>doc/plugins/mqtt-proxy.md</FILE>
        <FILE>doc/plugins/oauth.md</FILE>
        <FILE>doc/plugins/prometheus-cn.md</FILE>
        <FILE>doc/plugins/prometheus.md</FILE>
        <FILE>doc/plugins/proxy-rewrite-cn.md</FILE>
        <FILE>doc/plugins/proxy-rewrite.md</FILE>
        <FILE>doc/plugins/redirect-cn.md</FILE>
        <FILE>doc/plugins/redirect.md</FILE>
        <FILE>doc/plugins/response-rewrite-cn.md</FILE>
        <FILE>doc/plugins/response-rewrite.md</FILE>
        <FILE>doc/plugins/serverless-cn.md</FILE>
        <FILE>doc/plugins/serverless.md</FILE>
        <FILE>doc/plugins/wolf-rbac-cn.md</FILE>
        <FILE>doc/plugins/wolf-rbac.md</FILE>
        <FILE>doc/plugins/zipkin-cn.md</FILE>
        <FILE>doc/plugins/zipkin.md</FILE>
        <FILE>doc/powered-by.md</FILE>
        <FILE>doc/profile-cn.md</FILE>
        <FILE>doc/router-radixtree.md</FILE>
        <FILE>doc/stand-alone-cn.md</FILE>
        <FILE>doc/stand-alone.md</FILE>
        <FILE>doc/stream-proxy-cn.md</FILE>
        <FILE>doc/stream-proxy.md</FILE>
        <FILE>logs/placeholder.txt</FILE>
        <FILE>lua/apisix.lua</FILE>
        <FILE>lua/apisix/admin/consumers.lua</FILE>
        <FILE>lua/apisix/admin/global_rules.lua</FILE>
        <FILE>lua/apisix/admin/init.lua</FILE>
        <FILE>lua/apisix/admin/plugins.lua</FILE>
        <FILE>lua/apisix/admin/proto.lua</FILE>
        <FILE>lua/apisix/admin/routes.lua</FILE>
        <FILE>lua/apisix/admin/schema.lua</FILE>
        <FILE>lua/apisix/admin/services.lua</FILE>
        <FILE>lua/apisix/admin/ssl.lua</FILE>
        <FILE>lua/apisix/admin/stream_routes.lua</FILE>
        <FILE>lua/apisix/admin/upstreams.lua</FILE>
        <FILE>lua/apisix/balancer.lua</FILE>
        <FILE>lua/apisix/consumer.lua</FILE>
        <FILE>lua/apisix/core.lua</FILE>
        <FILE>lua/apisix/core/config_etcd.lua</FILE>
        <FILE>lua/apisix/core/config_local.lua</FILE>
        <FILE>lua/apisix/core/config_yaml.lua</FILE>
        <FILE>lua/apisix/core/ctx.lua</FILE>
        <FILE>lua/apisix/core/etcd.lua</FILE>
        <FILE>lua/apisix/core/http.lua</FILE>
        <FILE>lua/apisix/core/id.lua</FILE>
        <FILE>lua/apisix/core/json.lua</FILE>
        <FILE>lua/apisix/core/log.lua</FILE>
        <FILE>lua/apisix/core/lrucache.lua</FILE>
        <FILE>lua/apisix/core/profile.lua</FILE>
        <FILE>lua/apisix/core/request.lua</FILE>
        <FILE>lua/apisix/core/response.lua</FILE>
        <FILE>lua/apisix/core/schema.lua</FILE>
        <FILE>lua/apisix/core/table.lua</FILE>
        <FILE>lua/apisix/core/timer.lua</FILE>
        <FILE>lua/apisix/core/utils.lua</FILE>
        <FILE>lua/apisix/core/version.lua</FILE>
        <FILE>lua/apisix/debug.lua</FILE>
        <FILE>lua/apisix/http/router/radixtree_host_uri.lua</FILE>
        <FILE>lua/apisix/http/router/radixtree_sni.lua</FILE>
        <FILE>lua/apisix/http/router/radixtree_uri.lua</FILE>
        <FILE>lua/apisix/http/service.lua</FILE>
        <FILE>lua/apisix/plugin.lua</FILE>
        <FILE>lua/apisix/plugins/basic-auth.lua</FILE>
        <FILE>lua/apisix/plugins/batch-processor.lua</FILE>
        <FILE>lua/apisix/plugins/example-plugin.lua</FILE>
        <FILE>lua/apisix/plugins/fault-injection.lua</FILE>
        <FILE>lua/apisix/plugins/grpc-transcode.lua</FILE>
        <FILE>lua/apisix/plugins/grpc-transcode/proto.lua</FILE>
        <FILE>lua/apisix/plugins/grpc-transcode/request.lua</FILE>
        <FILE>lua/apisix/plugins/grpc-transcode/response.lua</FILE>
        <FILE>lua/apisix/plugins/grpc-transcode/util.lua</FILE>
        <FILE>lua/apisix/plugins/heartbeat.lua</FILE>
        <FILE>lua/apisix/plugins/ip-restriction.lua</FILE>
        <FILE>lua/apisix/plugins/jwt-auth.lua</FILE>
        <FILE>lua/apisix/plugins/key-auth.lua</FILE>
        <FILE>lua/apisix/plugins/limit-conn.lua</FILE>
        <FILE>lua/apisix/plugins/limit-count.lua</FILE>
        <FILE>lua/apisix/plugins/limit-count/limit-count-redis.lua</FILE>
        <FILE>lua/apisix/plugins/limit-req.lua</FILE>
        <FILE>lua/apisix/plugins/log-util.lua</FILE>
        <FILE>lua/apisix/plugins/node-status.lua</FILE>
        <FILE>lua/apisix/plugins/openid-connect.lua</FILE>
        <FILE>lua/apisix/plugins/prometheus.lua</FILE>
        <FILE>lua/apisix/plugins/prometheus/exporter.lua</FILE>
        <FILE>lua/apisix/plugins/proxy-rewrite.lua</FILE>
        <FILE>lua/apisix/plugins/redirect.lua</FILE>
        <FILE>lua/apisix/plugins/response-rewrite.lua</FILE>
        <FILE>lua/apisix/plugins/serverless-post-function.lua</FILE>
        <FILE>lua/apisix/plugins/serverless-pre-function.lua</FILE>
        <FILE>lua/apisix/plugins/serverless.lua</FILE>
        <FILE>lua/apisix/plugins/udp-logger.lua</FILE>
        <FILE>lua/apisix/plugins/wolf-rbac.lua</FILE>
        <FILE>lua/apisix/plugins/zipkin.lua</FILE>
        <FILE>lua/apisix/plugins/zipkin/codec.lua</FILE>
        <FILE>lua/apisix/plugins/zipkin/random_sampler.lua</FILE>
        <FILE>lua/apisix/plugins/zipkin/reporter.lua</FILE>
        <FILE>lua/apisix/router.lua</FILE>
        <FILE>lua/apisix/schema_def.lua</FILE>
        <FILE>lua/apisix/stream/plugins/mqtt-proxy.lua</FILE>
        <FILE>lua/apisix/stream/router/ip_port.lua</FILE>
        <FILE>rockspec/apisix-0.5-0.rockspec</FILE>
        <FILE>rockspec/apisix-0.6-0.rockspec</FILE>
        <FILE>rockspec/apisix-0.7-0.rockspec</FILE>
        <FILE>rockspec/apisix-0.8-0.rockspec</FILE>
        <FILE>rockspec/apisix-0.9-0.rockspec</FILE>
        <FILE>rockspec/apisix-1.0-0.rockspec</FILE>
        <FILE>rockspec/apisix-1.1-0.rockspec</FILE>
        <FILE>rockspec/apisix-master-0.rockspec</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/admin/balancer.t</FILE>
        <FILE>t/admin/consumers.t</FILE>
        <FILE>t/admin/delete-service.t</FILE>
        <FILE>t/admin/delete-upstream.t</FILE>
        <FILE>t/admin/global-rules.t</FILE>
        <FILE>t/admin/health-check.t</FILE>
        <FILE>t/admin/plugins-reload.t</FILE>
        <FILE>t/admin/plugins.t</FILE>
        <FILE>t/admin/routes.t</FILE>
        <FILE>t/admin/schema.t</FILE>
        <FILE>t/admin/services.t</FILE>
        <FILE>t/admin/ssl.t</FILE>
        <FILE>t/admin/stream-routes.t</FILE>
        <FILE>t/admin/upstream.t</FILE>
        <FILE>t/apisix.luacov</FILE>
        <FILE>t/config-center-yaml/route-service.t</FILE>
        <FILE>t/config-center-yaml/route-upstream.t</FILE>
        <FILE>t/config-center-yaml/route.t</FILE>
        <FILE>t/core/config.t</FILE>
        <FILE>t/core/ctx.t</FILE>
        <FILE>t/core/json.t</FILE>
        <FILE>t/core/log.t</FILE>
        <FILE>t/core/lrucache.t</FILE>
        <FILE>t/core/profile.t</FILE>
        <FILE>t/core/request.t</FILE>
        <FILE>t/core/response.t</FILE>
        <FILE>t/core/schema.t</FILE>
        <FILE>t/core/table.t</FILE>
        <FILE>t/core/timer.t</FILE>
        <FILE>t/core/uid.t</FILE>
        <FILE>t/core/utils.t</FILE>
        <FILE>t/debug/debug-mode.t</FILE>
        <FILE>t/debug/hook.t</FILE>
        <FILE>t/grpc-proxy-test.sh</FILE>
        <FILE>t/lib/server.lua</FILE>
        <FILE>t/lib/test_admin.lua</FILE>
        <FILE>t/node/chash-balance.t</FILE>
        <FILE>t/node/chash-hashon.t</FILE>
        <FILE>t/node/consumer-plugin.t</FILE>
        <FILE>t/node/global-rule.t</FILE>
        <FILE>t/node/healthcheck-ipv6.t</FILE>
        <FILE>t/node/healthcheck-multiple-worker.t</FILE>
        <FILE>t/node/healthcheck-stop-checker.t</FILE>
        <FILE>t/node/healthcheck.t</FILE>
        <FILE>t/node/hosts.t</FILE>
        <FILE>t/node/invalid-route.t</FILE>
        <FILE>t/node/invalid-service.t</FILE>
        <FILE>t/node/invalid-upstream.t</FILE>
        <FILE>t/node/merge-route.t</FILE>
        <FILE>t/node/not-exist-service.t</FILE>
        <FILE>t/node/not-exist-upstream.t</FILE>
        <FILE>t/node/remote-addr-ipv6.t</FILE>
        <FILE>t/node/remote-addr.t</FILE>
        <FILE>t/node/remote_addrs.t</FILE>
        <FILE>t/node/route-domain.t</FILE>
        <FILE>t/node/route-filter-func.t</FILE>
        <FILE>t/node/route-host.t</FILE>
        <FILE>t/node/route-uris.t</FILE>
        <FILE>t/node/rr-balance.t</FILE>
        <FILE>t/node/sanity-radixtree.t</FILE>
        <FILE>t/node/timeout-upstream.t</FILE>
        <FILE>t/node/upstream-domain.t</FILE>
        <FILE>t/node/upstream-ipv6.t</FILE>
        <FILE>t/node/upstream-websocket.t</FILE>
        <FILE>t/node/upstream.t</FILE>
        <FILE>t/node/vars.t</FILE>
        <FILE>t/node/wildcard-host.t</FILE>
        <FILE>t/plugin/basic-auth.t</FILE>
        <FILE>t/plugin/batch-processor.t</FILE>
        <FILE>t/plugin/example.t</FILE>
        <FILE>t/plugin/fault-injection.t</FILE>
        <FILE>t/plugin/grpc-transcode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
