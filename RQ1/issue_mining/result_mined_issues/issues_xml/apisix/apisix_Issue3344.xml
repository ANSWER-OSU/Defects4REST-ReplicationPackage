<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3344</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/3344</ISSUEURL>
  <TITLE>feat: support gRPC over SSL</TITLE>
  <DESCRIPTION>we do not support gRPC over SSL now, we can follow this way to support TLS + gRPC. ![image](https://user-images.githubusercontent.com/6814606/105031934-fceb4680-5a90-11eb-9c13-85fbe555ab74.png) here is the current code, we can update it: https://github.com/apache/apisix/blob/master/apisix/cli/ngx_tpl.lua#L546 ![image](https://user-images.githubusercontent.com/6814606/105031875-e1803b80-5a90-11eb-8c75-6277e240f7f5.png)</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>test: avoid unstable case caused by delete upstream 1 (#3385) Test cases from other files may still refer upstream 1.</MESSAGE>
    <SHA>bf16615583c7645d51473f66fd5a970c9740afc4</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: support gRPCS Fix #3344. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>862d50e46f71fe04a155ef6f2db366a9623e68af</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>.travis/linux_openresty_common_runner.sh</FILE>
        <FILE>.travis/linux_tengine_runner.sh</FILE>
        <FILE>apisix/cli/ngx_tpl.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>apisix/plugins/proxy-rewrite.lua</FILE>
        <FILE>apisix/schema_def.lua</FILE>
        <FILE>apisix/upstream.lua</FILE>
        <FILE>doc/admin-api.md</FILE>
        <FILE>doc/grpc-proxy.md</FILE>
        <FILE>doc/plugins/grpc-transcode.md</FILE>
        <FILE>doc/zh-cn/admin-api.md</FILE>
        <FILE>doc/zh-cn/grpc-proxy.md</FILE>
        <FILE>doc/zh-cn/plugins/grpc-transcode.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/grpc-proxy-test.sh</FILE>
        <FILE>t/node/grpc-proxy.t</FILE>
        <FILE>t/plugin/grpc-transcode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support gRPCS Fix #3344. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>8e6ede5ed2db411770e4f6ebb110163ec6c6e947</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>.travis/linux_openresty_common_runner.sh</FILE>
        <FILE>.travis/linux_tengine_runner.sh</FILE>
        <FILE>apisix/cli/ngx_tpl.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>apisix/plugins/proxy-rewrite.lua</FILE>
        <FILE>apisix/schema_def.lua</FILE>
        <FILE>apisix/upstream.lua</FILE>
        <FILE>doc/admin-api.md</FILE>
        <FILE>doc/grpc-proxy.md</FILE>
        <FILE>doc/plugins/grpc-transcode.md</FILE>
        <FILE>doc/zh-cn/admin-api.md</FILE>
        <FILE>doc/zh-cn/grpc-proxy.md</FILE>
        <FILE>doc/zh-cn/plugins/grpc-transcode.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/admin/routes2.t</FILE>
        <FILE>t/admin/services2.t</FILE>
        <FILE>t/admin/stream-routes.t</FILE>
        <FILE>t/admin/upstream2.t</FILE>
        <FILE>t/grpc-proxy-test.sh</FILE>
        <FILE>t/node/grpc-proxy.t</FILE>
        <FILE>t/plugin/grpc-transcode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support gRPCS Fix #3344. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>78fbb383f91dddb381a4e3e2f399e432f9a37570</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>.travis/linux_openresty_common_runner.sh</FILE>
        <FILE>.travis/linux_tengine_runner.sh</FILE>
        <FILE>apisix/cli/ngx_tpl.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>apisix/plugins/proxy-rewrite.lua</FILE>
        <FILE>apisix/schema_def.lua</FILE>
        <FILE>apisix/upstream.lua</FILE>
        <FILE>doc/admin-api.md</FILE>
        <FILE>doc/grpc-proxy.md</FILE>
        <FILE>doc/plugins/grpc-transcode.md</FILE>
        <FILE>doc/zh-cn/admin-api.md</FILE>
        <FILE>doc/zh-cn/grpc-proxy.md</FILE>
        <FILE>doc/zh-cn/plugins/grpc-transcode.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/admin/routes2.t</FILE>
        <FILE>t/admin/services2.t</FILE>
        <FILE>t/admin/stream-routes.t</FILE>
        <FILE>t/admin/upstream2.t</FILE>
        <FILE>t/grpc-proxy-test.sh</FILE>
        <FILE>t/node/grpc-proxy.t</FILE>
        <FILE>t/plugin/grpc-transcode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support gRPCS Fix #3344. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>05c238c3b1187fa8bec663cd4c658e5dd5ead7cc</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>.travis/linux_openresty_common_runner.sh</FILE>
        <FILE>.travis/linux_tengine_runner.sh</FILE>
        <FILE>apisix/cli/ngx_tpl.lua</FILE>
        <FILE>apisix/cli/ops.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>apisix/plugins/proxy-rewrite.lua</FILE>
        <FILE>apisix/schema_def.lua</FILE>
        <FILE>apisix/upstream.lua</FILE>
        <FILE>doc/admin-api.md</FILE>
        <FILE>doc/grpc-proxy.md</FILE>
        <FILE>doc/plugins/grpc-transcode.md</FILE>
        <FILE>doc/zh-cn/admin-api.md</FILE>
        <FILE>doc/zh-cn/grpc-proxy.md</FILE>
        <FILE>doc/zh-cn/plugins/grpc-transcode.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/admin/routes2.t</FILE>
        <FILE>t/admin/services2.t</FILE>
        <FILE>t/admin/stream-routes.t</FILE>
        <FILE>t/admin/upstream2.t</FILE>
        <FILE>t/grpc-proxy-test.sh</FILE>
        <FILE>t/node/grpc-proxy.t</FILE>
        <FILE>t/plugin/grpc-transcode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: support gRPCS Fix #3344. Signed-off-by: spacewander &lt;spacewanderlzx@gmail.com&gt;</MESSAGE>
      <SHA>a8b35970fdde74e7479df13a38d0a1ba1812b55f</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>.travis/linux_openresty_common_runner.sh</FILE>
        <FILE>.travis/linux_tengine_runner.sh</FILE>
        <FILE>apisix/cli/ngx_tpl.lua</FILE>
        <FILE>apisix/cli/ops.lua</FILE>
        <FILE>apisix/init.lua</FILE>
        <FILE>apisix/plugins/proxy-rewrite.lua</FILE>
        <FILE>apisix/schema_def.lua</FILE>
        <FILE>apisix/upstream.lua</FILE>
        <FILE>doc/admin-api.md</FILE>
        <FILE>doc/grpc-proxy.md</FILE>
        <FILE>doc/plugins/grpc-transcode.md</FILE>
        <FILE>doc/zh-cn/admin-api.md</FILE>
        <FILE>doc/zh-cn/grpc-proxy.md</FILE>
        <FILE>doc/zh-cn/plugins/grpc-transcode.md</FILE>
        <FILE>t/APISIX.pm</FILE>
        <FILE>t/admin/routes2.t</FILE>
        <FILE>t/admin/services2.t</FILE>
        <FILE>t/admin/stream-routes.t</FILE>
        <FILE>t/admin/upstream2.t</FILE>
        <FILE>t/grpc-proxy-test.sh</FILE>
        <FILE>t/node/grpc-proxy.t</FILE>
        <FILE>t/plugin/grpc-transcode.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
