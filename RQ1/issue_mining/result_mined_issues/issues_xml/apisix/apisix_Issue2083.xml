<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2083</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2083</ISSUEURL>
  <TITLE>request help: Update plugin's schema basic-auth</TITLE>
  <DESCRIPTION>refer to https://github.com/apache/apisix/issues/2082#issue-681772868 ## Currently ```json { &quot;oneOf&quot;:[ { &quot;required&quot;:[ &quot;username&quot;, &quot;password&quot; ] }, { &quot;required&quot;:{ } } ], &quot;properties&quot;:{ &quot;password&quot;:{ &quot;type&quot;:&quot;string&quot; }, &quot;username&quot;:{ &quot;type&quot;:&quot;string&quot; } }, &quot;type&quot;:&quot;object&quot; } ``` ## Expected [Playground](https://rjsf-team.github.io/react-jsonschema-form/#eyJmb3JtRGF0YSI6eyJsaXN0T2ZTdHJpbmdzIjpbImZvbyIsImJhciJdLCJtdWx0aXBsZUNob2ljZXNMaXN0IjpbImZvbyIsImJhciJdLCJmaXhlZEl0ZW1zTGlzdCI6WyJTb21lIHRleHQiLHRydWUsMTIzXSwibWluSXRlbXNMaXN0IjpbeyJuYW1lIjoiRGVmYXVsdCBuYW1lIn0seyJuYW1lIjoiRGVmYXVsdCBuYW1lIn0seyJuYW1lIjoiRGVmYXVsdCBuYW1lIn1dLCJkZWZhdWx0c0FuZE1pbkl0ZW1zIjpbImNhcnAiLCJ0cm91dCIsImJyZWFtIiwidW5pZGVudGlmaWVkIiwidW5pZGVudGlmaWVkIl0sIm5lc3RlZExpc3QiOltbImxvcmVtIiwiaXBzdW0iXSxbImRvbG9yIl1dLCJ1bm9yZGVyYWJsZSI6WyJvbmUiLCJ0d28iXSwidW5yZW1vdmFibGUiOlsib25lIiwidHdvIl0sIm5vVG9vbGJhciI6WyJvbmUiLCJ0d28iXSwiZml4ZWROb1Rvb2xiYXIiOls0Mix0cnVlLCJhZGRpdGlvbmFsIGl0ZW0gb25lIiwiYWRkaXRpb25hbCBpdGVtIHR3byJdfSwic2NoZW1hIjp7Im9uZU9mIjpbeyJ0aXRsZSI6IkhlcmUgaXMgVGl0bGUgZm9yIGN1cnJlbnQgb3B0aW9uMSIsInByb3BlcnRpZXMiOnsicGFzc3dvcmQiOnsidHlwZSI6InN0cmluZyJ9LCJ1c2VybmFtZSI6eyJ0eXBlIjoic3RyaW5nIn19LCJyZXF1aXJlZCI6WyJ1c2VybmFtZSIsInBhc3N3b3JkIl19LHsidGl0bGUiOiJIZXJlIGlzIFRpdGxlIGZvciBjdXJyZW50IG9wdGlvbjIiLCJwcm9wZXJ0aWVzIjp7fX1dLCJ0eXBlIjoib2JqZWN0In0sInVpU2NoZW1hIjp7Imxpc3RPZlN0cmluZ3MiOnsiaXRlbXMiOnsidWk6ZW1wdHlWYWx1ZSI6IiJ9fSwibXVsdGlwbGVDaG9pY2VzTGlzdCI6eyJ1aTp3aWRnZXQiOiJjaGVja2JveGVzIn0sImZpeGVkSXRlbXNMaXN0Ijp7Iml0ZW1zIjpbeyJ1aTp3aWRnZXQiOiJ0ZXh0YXJlYSJ9LHsidWk6d2lkZ2V0Ijoic2VsZWN0In1dLCJhZGRpdGlvbmFsSXRlbXMiOnsidWk6d2lkZ2V0IjoidXBkb3duIn19LCJ1bm9yZGVyYWJsZSI6eyJ1aTpvcHRpb25zIjp7Im9yZGVyYWJsZSI6ZmFsc2V9fSwidW5yZW1vdmFibGUiOnsidWk6b3B0aW9ucyI6eyJyZW1vdmFibGUiOmZhbHNlfX0sIm5vVG9vbGJhciI6eyJ1aTpvcHRpb25zIjp7ImFkZGFibGUiOmZhbHNlLCJvcmRlcmFibGUiOmZhbHNlLCJyZW1vdmFibGUiOmZhbHNlfX0sImZpeGVkTm9Ub29sYmFyIjp7InVpOm9wdGlvbnMiOnsiYWRkYWJsZSI6ZmFsc2UsIm9yZGVyYWJsZSI6ZmFsc2UsInJlbW92YWJsZSI6ZmFsc2V9fX0sInRoZW1lIjoiZGVmYXVsdCIsImxpdmVTZXR0aW5ncyI6eyJ2YWxpZGF0ZSI6ZmFsc2UsImRpc2FibGUiOmZhbHNlLCJvbWl0RXh0cmFEYXRhIjpmYWxzZSwibGl2ZU9taXQiOmZhbHNlfX0=) ```json { &quot;oneOf&quot;:[ { &quot;title&quot;: &quot;Here is Title for current option1&quot;, &quot;properties&quot;:{ &quot;password&quot;:{ &quot;type&quot;:&quot;string&quot; }, &quot;username&quot;:{ &quot;type&quot;:&quot;string&quot; } }, &quot;required&quot;:[ &quot;username&quot;, &quot;password&quot; ] }, { &quot;title&quot;: &quot;Here is Title for current option2&quot;, &quot;properties&quot;:{} } ], &quot;type&quot;:&quot;object&quot; } ```</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>chore: should improve the prometheus metric naming (#2073) By looking at name like `apisix_bandwidth` or `apisix_http_latency`, it is hard to guess their units. Also, it is not so clear for where does the overhead come from for `apisix_http_overhead` at the first glance.</MESSAGE>
    <SHA>36bb0a8d3ebe12d9425e33e273371770450d3e60</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>change: use draft7 style of JSON Schema. (#2100) fix #2083.</MESSAGE>
      <SHA>d974c1871a981150d5f48ed370ee5307a82c6e0f</SHA>
      <PATCHEDFILES>
        <FILE>apisix/plugins/basic-auth.lua</FILE>
        <FILE>t/plugin/basic-auth.t</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
