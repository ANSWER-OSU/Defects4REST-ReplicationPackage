<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2215</ISSUENO>
  <ISSUEURL>https://github.com/apache/apisix/issues/2215</ISSUEURL>
  <TITLE>Used TscanCode scan the lua code,it report two code defects</TITLE>
  <DESCRIPTION>### Issue description .../t/lib/test_admin.lua: Code line 223,undeclared Variable [core] is used. ../apisix/http/router/radixtree_sni.lua: Code line 187,[radixtree_router] is used after check at line 172</DESCRIPTION>
  <REPONAME>apisix</REPONAME>
  <TIMEDIFFERENCEDAYS>8</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: wait time is too short it will easy fail in some bad hardware environment (#2127)</MESSAGE>
    <SHA>a3f865aa4bb9aa8324ad5025c46360977aed8bec</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>test: also lint the test helpers Close #2215.</MESSAGE>
      <SHA>7f148dcef5ceeb3db9beb6a499c174c7e9554860</SHA>
      <PATCHEDFILES>
        <FILE>t/lib/server.lua</FILE>
        <FILE>t/lib/test_admin.lua</FILE>
        <FILE>utils/check-lua-code-style.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>test: also lint the test helpers (#2252) Close #2215</MESSAGE>
      <SHA>8493a607ce869ab335eac1d0e799ffecff10fb93</SHA>
      <PATCHEDFILES>
        <FILE>t/lib/server.lua</FILE>
        <FILE>t/lib/test_admin.lua</FILE>
        <FILE>utils/check-lua-code-style.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
