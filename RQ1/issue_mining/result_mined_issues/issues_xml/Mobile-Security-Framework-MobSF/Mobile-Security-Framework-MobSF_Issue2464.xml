<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2464</ISSUENO>
  <ISSUEURL>https://github.com/MobSF/Mobile-Security-Framework-MobSF/issues/2464</ISSUEURL>
  <TITLE>In the tasks list json the status field has different formats</TITLE>
  <DESCRIPTION>## ENVIRONMENT ``` MobSF Version: 4.2.4 ``` ## EXPLANATION OF THE ISSUE when calling the api/v1/tasks endpoint, in the tasks lists the &quot;status&quot; field is either a string or an object depending on the status itself. This is a problem because the json format is coherent and it makes impossible to create a proper mapper for the object;</DESCRIPTION>
  <REPONAME>Mobile-Security-Framework-MobSF</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[4.2.7] Updates (#2462) Bump to google fork of baksmali 3.0.8 IPA: Graceful handling of plist dump exception</MESSAGE>
    <SHA>a015df58712aaeb97d2052b82c2fe94678a6fd04</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[4.2.8] Multiple APK Analysis improvements, general Code QA &amp; bug fixes (#2470) * Dockerfile QA * Add sdk-build-tools to Docker image * Replace biplist with plistlib std lib * Fixed a bug in iOS pbxproj parsing * Added support for APK parsing with aapt2/aapt * Use aapt/aapt2 as a fallback for APK parsing, files listing and string extraction * Added &quot;started at&quot; to Scan task queue model #2463 * Tasks List API to return string status #2464 * Replaced all minidom calls with defusedxml.minidom * Code QA on android manifest data extraction and parsing * Improved android file analysis * Improved android manifest data extraction * Improved android icon file extraction * Improved android app name extraction * Improved android appstore package details extraction * Android string extraction to fallback on aapt2 strings * APK analysis arguments refactor * Handle packed APKs, refactor unzip to handle malformed APK files * Handle reserved filename conflict during ZIP extraction * Explicit Zipslip handling during ZIP extraction * Graceful files extraction on unzip failure * Removed bail out and continue analysis * Moved androguard parsing to the start of static analysis * AndroidManifest.xml fallback from apktool to androguard during extraction and parsing * Updated Tasks UI to show started at</MESSAGE>
      <SHA>5ce7e237af1f06edf4adfeb8f830ecc730343a1a</SHA>
      <PATCHEDFILES>
        <FILE>Dockerfile</FILE>
        <FILE>mobsf/DynamicAnalyzer/views/common/device.py</FILE>
        <FILE>mobsf/MobSF/init.py</FILE>
        <FILE>mobsf/MobSF/security.py</FILE>
        <FILE>mobsf/MobSF/settings.py</FILE>
        <FILE>mobsf/MobSF/utils.py</FILE>
        <FILE>mobsf/StaticAnalyzer/models.py</FILE>
        <FILE>mobsf/StaticAnalyzer/tools/androguard4/resources/public.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/aapt.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/apk.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/app.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/cert_analysis.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/code_analysis.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/converter.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/db_interaction.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/icon_analysis.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/jar_aar.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/manifest_analysis.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/manifest_utils.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/network_security.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/playstore.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/so.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/strings.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/android/views/manifest_view.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/common/appsec.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/common/async_task.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/common/shared_func.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/ios/ipa.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/ios/plist_analysis.py</FILE>
        <FILE>mobsf/StaticAnalyzer/views/ios/views/view_source.py</FILE>
        <FILE>mobsf/templates/base/base_layout.html</FILE>
        <FILE>mobsf/templates/general/tasks.html</FILE>
        <FILE>mobsf/templates/static_analysis/android_binary_analysis.html</FILE>
        <FILE>mobsf/templates/static_analysis/android_source_analysis.html</FILE>
        <FILE>mobsf/templates/static_analysis/ios_binary_analysis.html</FILE>
        <FILE>mobsf/templates/static_analysis/ios_source_analysis.html</FILE>
        <FILE>mobsf/templates/static_analysis/windows_binary_analysis.html</FILE>
        <FILE>poetry.lock</FILE>
        <FILE>pyproject.toml</FILE>
        <FILE>scripts/dependencies.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
