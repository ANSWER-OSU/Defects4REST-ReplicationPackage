<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10405</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/10405</ISSUEURL>
  <TITLE>log4j2-cli.xml throws error when DefaultRolloverStrategy is uncommented in DSpace 8.1</TITLE>
  <DESCRIPTION>## Describe the bug In DSpace 8.1, when you use the `DefaultRolloverStrategy` for the A1 Appender in `log4j2-cli.xml`, there are error messages as soon as you execute cli commands: ``` main ERROR RollingFileAppender 'A1': When no file name is provided a DirectFileRolloverStrategy must be configured main ERROR Null object returned for RollingFile in Appenders. main ERROR Unable to locate appender &quot;A1&quot; for logger config &quot;root&quot; main ERROR Unable to locate appender &quot;A1&quot; for logger config “org.dspace&quot; ``` ## To Reproduce Steps to reproduce the behavior: 1. In `log4j2-cli.xml` uncomment the `DefaultRolloverStrategy` for the A1 Appender 2. Build and deploy DSpace 3. Call a command like for example `dspace database info` 4. Observe the error messages listed above ## Expected behavior No error messages ## Related work It is enough to add `fileName='${log.dir}/dspace-cli.log’`. I’ll open a pull request</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #10396 from DSpace/dependabot/maven/dspace-8_x/tika.version-2.9.3 Bump tika.version from 2.9.2 to 2.9.3</MESSAGE>
    <SHA>5af6b25766f056dc86e3dca60a90e5c189b44dba</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #10405 bug in log4j-cli</MESSAGE>
      <SHA>4c044adcf388a291dced77b53a9b816a6a11659c</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/log4j2-cli.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10406 from MW3000/fix-10405-bug-in-log4j-cli Fix #10405 bug in log4j-cli</MESSAGE>
      <SHA>1953b4856ef0782603a006552c02d6030bacd5d2</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/log4j2-cli.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #10405 bug in log4j-cli (cherry picked from commit 4c044adcf388a291dced77b53a9b816a6a11659c)</MESSAGE>
      <SHA>d9074c8bfa917164a2e1522b034942b468af6095</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/log4j2-cli.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #10405 bug in log4j-cli (cherry picked from commit 4c044adcf388a291dced77b53a9b816a6a11659c)</MESSAGE>
      <SHA>268b5fc8b703a0fabfdb1ed8b3336e4bbca48ee2</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/log4j2-cli.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10408 from DSpace/backport-10406-to-main [Port main] Fix #10405 bug in log4j-cli</MESSAGE>
      <SHA>19aa8bcce946e8cfcd4ea963cab386d1460f2593</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/log4j2-cli.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10409 from DSpace/backport-10406-to-dspace-7_x [Port dspace-7_x] Fix #10405 bug in log4j-cli</MESSAGE>
      <SHA>8adbe244bf4230d6d5a539b3813ade3f75880184</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/log4j2-cli.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
