<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8167</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/8167</ISSUEURL>
  <TITLE>For controlled vocabularies, XSD specifies `id` attribute `optional`, but UI does not work without `id` attributes</TITLE>
  <DESCRIPTION>**Describe the bug** In DSpace 7.2 the `controlledvocabulary.xsd` specifies the `id` attribute for each `node` as optional: `&lt;xs:attribute name=&quot;id&quot; type=&quot;xs:ID&quot; use=&quot;optional&quot;/&gt;`. Yet, if you provide a controlled vocabulary without `id`s, the hierarchical tree view in the Angular UI does not work correctly (only shows one element repeatedly, does not show any hierarchy) **To Reproduce** Steps to reproduce the behavior: 1. Produce a controlled vocabulary without `id` attribute for `node`s 2. Use the vocabulary in a submission form 3. Open the hierarchical tree view in the Angular UI **Expected behaviour** There are several possibilities: 1. If `id` attributes should indeed be required, change the `controlledvocabulary.xsd` accordingly. Or 2. If the UI needs distinct IDs to work, but their value is not significant, the backend could generate random unique IDs if none are specified in the vocabulary. Or 3. Make the UI work without IDs.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #8163 from hzafar/8055_dspace6_item_moves Adds check for whether source and target collections are the same</MESSAGE>
    <SHA>09a51c664a59be1f6c07cce2252afc839d4d8fd8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix DSpace/DSpace#8167 XSD for controlled vocabulary Require attribute id for nodes.</MESSAGE>
      <SHA>42233cbfe041e3bad08e09f2f355e8d891bdbb64</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/controlled-vocabularies/controlledvocabulary.xsd</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #8174 from tuub/dspace-dspace-#8167 Fix DSpace/DSpace#8167 XSD for controlled vocabulary</MESSAGE>
      <SHA>0f586fdeada871fc5aa4520f3453c14ef293e938</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/controlled-vocabularies/controlledvocabulary.xsd</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
