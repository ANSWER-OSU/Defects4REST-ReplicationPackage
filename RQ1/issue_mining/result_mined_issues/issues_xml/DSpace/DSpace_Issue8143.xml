<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8143</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/8143</ISSUEURL>
  <TITLE>Refactor DSpace 6.x to use reload4j, slf4j-reload4j (log4j12 replacements with active security maintenance)</TITLE>
  <DESCRIPTION>@misilot reported a new drop-in replacement for log4j 1.2.*, created by the original author of log4j 1.x, which is actively maintained for security and critical fixes. I have a branch successfully building and running. Would love some help with testing! PR at #8144 I'm adding this as a public security / feature issue as this is not an active vulnerability, just some proactive maintenance related to security which we could do for future 6.x releases. I've tentatively added a milestone of 6.5 to avoid stalling 6.4 but if others are happy with it, perhaps we can squeeze it in for 6.4? The project is called reload4j: https://reload4j.qos.ch SLF4J has also published a replacement for slf4j-log4j12 called slf4j-reload4j: https://www.slf4j.org/news.html These are meant to work **exactly** like log4j 1.2 and use the same java package path, so no logging code or import statements need to be changed, just dependency and exclusion configuration in our Maven POMs. As noted when the log4j 2.x security vulnerabilities were being discussed and mitigated in many Java projects, DSpace versions prior to v7 were not affected as they use log4j 1.2.* (1.2.14-1.2.17 depending on exact transitive dependencies). Although not vulnerable to the latest critical issue, there are several other security vulnerabilities out there which affect log4j 1.2.* and it does not get actively maintained. There will likely be more vulnerabilities discovered in the future. reload4j and slf4j-reload4j were created to address the need for an exact replacement of log4j 1.2.17 with no changes apart from security maintenance. A full list of the CVE references to fixed issues in reload4j can be found [at its webpage](https://reload4j.qos.ch/index.html).</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>181</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[DS-4131] Fix zip import handling to avoid path traversal exploit</MESSAGE>
    <SHA>7af52a0883a9dbc475cf3001f04ed11b24c8a4c0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#8143 - Replace log4j with reload4j, slf4j-log4j12 with slf4j-reload4j</MESSAGE>
      <SHA>4eb522c1fe8ef8aeadefbe146fbe8d3f6b90e3d2</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/pom.xml</FILE>
        <FILE>dspace-oai/pom.xml</FILE>
        <FILE>dspace-rdf/pom.xml</FILE>
        <FILE>dspace-rest/pom.xml</FILE>
        <FILE>dspace-services/pom.xml</FILE>
        <FILE>dspace-solr/pom.xml</FILE>
        <FILE>dspace-sword/pom.xml</FILE>
        <FILE>dspace-swordv2/pom.xml</FILE>
        <FILE>dspace-xmlui/pom.xml</FILE>
        <FILE>dspace/modules/oai/pom.xml</FILE>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#8143 - Fix typo introduced to license plugin reference</MESSAGE>
      <SHA>43e629da541a14236839fd3a6157bdace2aa591c</SHA>
      <PATCHEDFILES>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#8143 - Use version variables for reload4k, slf4j-reload4j</MESSAGE>
      <SHA>d695a48d9431fe89e437182c6d10325e900438f2</SHA>
      <PATCHEDFILES>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#8143 - Fix variable, bump version</MESSAGE>
      <SHA>4d49af2619fd33527c1226b6e968221573cb9c0e</SHA>
      <PATCHEDFILES>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#8143 - Bump reload4j version to 1.2.20</MESSAGE>
      <SHA>09fec5c69c7096eb354947be8e8eff9be671ecdd</SHA>
      <PATCHEDFILES>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add additional solr and jena-related log4j exclusions [DSpace#8143] Cleans up last log4j jars from the build.</MESSAGE>
      <SHA>2f688789615407fa22edc13a9adc7563e3c8fdc8</SHA>
      <PATCHEDFILES>
        <FILE>dspace-rdf/pom.xml</FILE>
        <FILE>dspace-solr/pom.xml</FILE>
        <FILE>dspace/modules/solr/pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
