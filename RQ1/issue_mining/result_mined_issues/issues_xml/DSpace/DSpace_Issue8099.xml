<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8099</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/8099</ISSUEURL>
  <TITLE>Converge all use of EHcache to v3</TITLE>
  <DESCRIPTION>**Describe the bug** As I write this, DSpace v7 depends on both EHcache v2 (for Hibernate and general caching) and v3 (in the dspace-server-webapp). We should converge on a single version. While we are working on caching, we should also consider moving all of our own code to use the Jcache/JSR107 API, which EHcache supports, rather than the proprietary EHcache API, and to configure Hibernate to use it as well. Hibernate recommends its own Jcache adapter over its own native-EHcache adapter: https://hibernate.atlassian.net/browse/HHH-12441 **To Reproduce** Search for ehcache*.jar in the install target tree (`dspace/target/dspace-installer`). You will find v2 in `lib/` and v3 in `webapps/server/`. **Expected behavior** We should find only one version of the EHcache JARs.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>70</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #8022 from astrowq/dev/new-date-format fix an error when harvesting arXiv OAI-PMH</MESSAGE>
    <SHA>750426988bc6ff87d8ab7c42ebef31144b692597</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Switch Hibernate to JCache #8099</MESSAGE>
      <SHA>530d69bad88ecd51156bc33877d394545595b451</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/pom.xml</FILE>
        <FILE>dspace/config/hibernate.cfg.xml</FILE>
        <FILE>dspace/config/spring/api/core-hibernate.xml</FILE>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Rewrite Hibernate Ehcache configuration for v3. #8099 Also fix incorrectly-used Spring-style &lt;property&gt; elements in hibernate.cfg.xml</MESSAGE>
      <SHA>09591dc6ff107999da080d6c5dce89e51fae5485</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/hibernate-ehcache-config.xml</FILE>
        <FILE>dspace/config/hibernate.cfg.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Remove outdated exclusion. #8099 Also add some missing direct dependencies. I thought these were causing a problem, which in fact came from an old version of httpcore, but we need these anyway.</MESSAGE>
      <SHA>c4a6fcbf198e038caacabb1ba61f32d3e46c3d03</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/pom.xml</FILE>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Remove all traces of disk cache to eliminate cache directory collisions. #8099</MESSAGE>
      <SHA>b316cb1cec2e8879c1ad56f91196b37fe98382d2</SHA>
      <PATCHEDFILES>
        <FILE>dspace/config/hibernate-ehcache-config.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
