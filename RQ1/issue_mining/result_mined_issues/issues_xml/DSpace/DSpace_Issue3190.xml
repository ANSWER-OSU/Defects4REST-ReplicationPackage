<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3190</ISSUENO>
  <ISSUEURL>https://github.com/DSpace/DSpace/issues/3190</ISSUEURL>
  <TITLE>New uses of Log4J v1 are appearing</TITLE>
  <DESCRIPTION>Since we converted from Log4J v1 to v2, some new code has been importing v1 packages again. This leaves us with confusing dependencies, and if it works, it does so in a roundabout and wasteful fashion. **To Reproduce** 1. Build DSpace 2. See v1 JARs in various `**target/**/lib/` directories. **Expected behavior** Only Log4J v2 artifacts should be included in the build.</DESCRIPTION>
  <REPONAME>DSpace</REPONAME>
  <TIMEDIFFERENCEDAYS>22</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #3181 from 4Science/CST-3946-SearchPageResultNumberBug Search page result number bug</MESSAGE>
    <SHA>2b4f22be65d9997194d30cf01a49b9cac539b4a2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Replace new uses of Log4J v1 with v2. Ban v1 artifacts. #3190.</MESSAGE>
      <SHA>dc487fd29d55750b4f9a7fa1fecdadf3e2eb96ca</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/pom.xml</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/launcher/ScriptLauncher.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/sherpa/v2/SHERPAPublisherResponse.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/sherpa/v2/SHERPAResponse.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Bitstream.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Item.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/discovery/SolrSearchCore.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/external/service/impl/ExternalDataServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/AnonymizeStatistics.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/export/IrusExportUsageEventListener.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/export/processor/ExportEventProcessor.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/export/service/OpenUrlServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/submit/step/ExtractionStep.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/submit/step/MetadataStep.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/util/SolrUpgradePre6xStatistics.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/EntityTypeBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/RelationshipBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/RelationshipTypeBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/ResourcePolicyBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/ITIrusExportUsageEventListener.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/ITRetryFailedOpenUrlTracker.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/IdentifierRestController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/MappedCollectionRestController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/OpenSearchController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/UUIDLookupRestController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/authorization/impl/CreateBitstreamFeature.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/authorization/impl/MoveFeature.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/authorization/impl/RequestCopyFeature.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/ConverterService.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/DiscoverFacetsConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/DiscoverResultConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/VersionConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/EPersonRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ItemRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ProcessRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/RelationshipRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/security/AnonymousAdditionalAuthorizationFilter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/submit/step/validation/LicenseValidation.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/utils/RestRepositoryUtils.java</FILE>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add Log4J 1.2 shim to 2.x in dspace-server because XOAI needs it. #3190</MESSAGE>
      <SHA>c2c75678361ce756c3da0b478a06cf133f93f790</SHA>
      <PATCHEDFILES>
        <FILE>dspace-oai/pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #3192 from mwoodiupui/3190 Replace new uses of Log4J v1 with v2. Ban v1 artifacts. #3190.</MESSAGE>
      <SHA>10bfce55856914af7a3d339adb57b44c65b900c2</SHA>
      <PATCHEDFILES>
        <FILE>dspace-api/pom.xml</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/launcher/ScriptLauncher.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/sherpa/v2/SHERPAPublisherResponse.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/app/sherpa/v2/SHERPAResponse.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Bitstream.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/content/Item.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/discovery/SolrSearchCore.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/external/service/impl/ExternalDataServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/AnonymizeStatistics.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/export/IrusExportUsageEventListener.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/export/processor/ExportEventProcessor.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/statistics/export/service/OpenUrlServiceImpl.java</FILE>
        <FILE>dspace-api/src/main/java/org/dspace/util/SolrUpgradePre6xStatistics.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/EntityTypeBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/RelationshipBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/RelationshipTypeBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/builder/ResourcePolicyBuilder.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/ITIrusExportUsageEventListener.java</FILE>
        <FILE>dspace-api/src/test/java/org/dspace/statistics/export/ITRetryFailedOpenUrlTracker.java</FILE>
        <FILE>dspace-oai/pom.xml</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/IdentifierRestController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/MappedCollectionRestController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/OpenSearchController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/UUIDLookupRestController.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/authorization/impl/CreateBitstreamFeature.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/authorization/impl/MoveFeature.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/authorization/impl/RequestCopyFeature.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/ConverterService.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/DiscoverFacetsConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/DiscoverResultConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/converter/VersionConverter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/EPersonRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ItemRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ProcessRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/RelationshipRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemRestRepository.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/security/AnonymousAdditionalAuthorizationFilter.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/submit/step/validation/LicenseValidation.java</FILE>
        <FILE>dspace-server-webapp/src/main/java/org/dspace/app/rest/utils/RestRepositoryUtils.java</FILE>
        <FILE>pom.xml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
