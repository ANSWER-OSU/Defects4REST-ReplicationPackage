<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10996</ISSUENO>
  <ISSUEURL>https://github.com/traefik/traefik/issues/10996</ISSUEURL>
  <TITLE>Plugin: Parsing string array in nested config structs doesn't work</TITLE>
  <DESCRIPTION>### Welcome! - [X] Yes, I've searched similar issues on [GitHub](https://github.com/traefik/traefik/issues) and didn't find any. - [X] Yes, I've searched similar issues on the [Traefik community forum](https://community.traefik.io) and didn't find any. ### What did you do? I'am working on a traefik plugin where i want to configure the plugin using a yaml-array. This works fine on top-level, but not on a nested one. I found the following depending PRs: - https://github.com/traefik/traefik/pull/8886 - https://github.com/traefik/paerser/pull/15 They all talk about traefik 2.x but i'am using 3.1. Is there something missing in v3? Here is my code: **Config:** ```yml middlewares: oidc-auth: plugin: traefik-oidc-auth: Authorization: AssertClaims: - Name: &quot;preferred_username&quot; Values: [&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;] ``` **Structs:** ```go type Config struct { Authorization *AuthorizationConfig `json:&quot;authorization&quot;` } type AuthorizationConfig struct { AssertClaims []ClaimAssertion `json:&quot;assert_claims&quot;` } type ClaimAssertion struct { Name string `json:&quot;name&quot;` Value string `json:&quot;value&quot;` Values []string `json:&quot;values&quot;` } ``` ### What did you see instead? When i loop over the Values-array, i get: `[║24║value1║value2║value3]` Instead, i'am expecting to get a real array. The only workaround is to use: ```yml Values: &quot;value1,value2,value3&quot; ``` ### What version of Traefik are you using? Version: 3.1.2 Codename: comte Go version: go1.22.5 Built: 2024-08-06T13:37:51Z OS/Arch: linux/amd64 ### What is your environment &amp; configuration? ```yaml global: checkNewVersion: true sendAnonymousUsage: true entryPoints: web: address: :80 # Enable API and dashboard api: insecure: true dashboard: true debug: true experimental: localPlugins: traefik-oidc-auth: moduleName: github.com/sevensolutions/traefik-oidc-auth providers: file: filename: /etc/traefik/configs/http.yml watch: true ``` ### If applicable, please paste the log output in DEBUG level _No response_</DESCRIPTION>
  <REPONAME>traefik</REPONAME>
  <TIMEDIFFERENCEDAYS>48</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Allow configuring rule syntax with Kubernetes Ingress annotation</MESSAGE>
    <SHA>ad613e58cdc9cc381fc354063a0b9792cf20646e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#10996: Fix slice parsing for plugins</MESSAGE>
      <SHA>eacccc3eb42a18eef93936de0e7c8bd881ea2a6c</SHA>
      <PATCHEDFILES>
        <FILE>pkg/plugins/middlewareyaegi.go</FILE>
        <FILE>pkg/plugins/plugins_test.go</FILE>
        <FILE>pkg/plugins/providers.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
