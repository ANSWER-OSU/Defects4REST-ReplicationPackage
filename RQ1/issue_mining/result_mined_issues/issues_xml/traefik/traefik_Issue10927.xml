<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10927</ISSUENO>
  <ISSUEURL>https://github.com/traefik/traefik/issues/10927</ISSUEURL>
  <TITLE>Add possibility to select or deactivate compression algorithms in compress middleware</TITLE>
  <DESCRIPTION>### Welcome! - [X] Yes, I've searched similar issues on [GitHub](https://github.com/traefik/traefik/issues) and didn't find any. - [X] Yes, I've searched similar issues on the [Traefik community forum](https://community.traefik.io) and didn't find any. ### What did you expect to see? First of all, thanks for implementing brotli and zstd. Sadly, some firewalls don't support zstd compression yet, so websites using Traefik 3.1 with the compress middleware can cause problems in some corporate networks. So an option to allow or forbid some comporession algorithms would be great, for example: ``` # Enable compression http: middlewares: test-compress: compress: compressionAlgorithms: - gzip - brotli ```</DESCRIPTION>
  <REPONAME>traefik</REPONAME>
  <TIMEDIFFERENCEDAYS>16</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>add 'encodings' option to compress middleware config</MESSAGE>
    <SHA>e1c8608b3a357c4f51f3d4c2da075949f0bbf2f3</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>add option to choose specific compression encodings, implements #10927</MESSAGE>
      <SHA>0d422678061162ce5e881ce1df8a2d751be3dedb</SHA>
      <PATCHEDFILES>
        <FILE>pkg/middlewares/compress/acceptencoding.go</FILE>
        <FILE>pkg/middlewares/compress/acceptencoding_test.go</FILE>
        <FILE>pkg/middlewares/compress/compress.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>add option to choose specific compression encodings, implements #10927, autogenerated content</MESSAGE>
      <SHA>b3f2588add31ec75548ca749f96796bb7e14f46e</SHA>
      <PATCHEDFILES>
        <FILE>docs/content/reference/dynamic-configuration/docker-labels.yml</FILE>
        <FILE>docs/content/reference/dynamic-configuration/file.toml</FILE>
        <FILE>docs/content/reference/dynamic-configuration/file.yaml</FILE>
        <FILE>docs/content/reference/dynamic-configuration/kv-ref.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>add option to choose specific compression encodings, implements #10927</MESSAGE>
      <SHA>0e95d6ff6fe68004ab89a130d1979db0c8277437</SHA>
      <PATCHEDFILES>
        <FILE>pkg/middlewares/compress/acceptencoding.go</FILE>
        <FILE>pkg/middlewares/compress/acceptencoding_test.go</FILE>
        <FILE>pkg/middlewares/compress/compress.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>add option to choose specific compression encodings, implements #10927, autogenerated content</MESSAGE>
      <SHA>4c8cdce89926c7ce3279dac37d0fed8419d292ca</SHA>
      <PATCHEDFILES>
        <FILE>docs/content/reference/dynamic-configuration/docker-labels.yml</FILE>
        <FILE>docs/content/reference/dynamic-configuration/file.toml</FILE>
        <FILE>docs/content/reference/dynamic-configuration/file.yaml</FILE>
        <FILE>docs/content/reference/dynamic-configuration/kv-ref.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
