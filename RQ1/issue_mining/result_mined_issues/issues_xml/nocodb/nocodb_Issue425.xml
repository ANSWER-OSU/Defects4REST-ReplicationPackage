<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>425</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/425</ISSUEURL>
  <TITLE>Connect to MySQL with require_secure_transport = ON</TITLE>
  <DESCRIPTION>Node: **v15.12.0** Arch: **x64** Platform: **darwin** Docker: **false** Database: **mysql2** ProjectOnRootDB: **true** RootDB: **mysql2** PackageVersion: **0.11.8** **Expected behavior** Currently using MaraDB in docker. Image ID: fd17f5776802. We would like to use SSL to connect to the DB without acertificate verification. Currently there is no way to do this using the NC_DB variable. Technically, you should be able to add NODE_TLS_REJECT_UNAUTHORIZED = &quot;0&quot; to the environment, and ssl would work. But this throws: TypeError: SSL profile must be an object, instead it's a boolean. This is a bug in the MySQL Driver. What is needed, is to create this object and pass it to KNEX config: const knex = require('knex')({ client: 'mysql2', connection: { user: 'root', password: 'pass', host: 'localhost', database: 'db', ssl: {rejectUnauthorized: false} } }); The end result is being able to connect to mysql with require_secure_transport = ON. [my.cnf.zip](https://github.com/nocodb/nocodb/files/6930528/my.cnf.zip)</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>7</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>chore(publish): v0.11.15 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
    <SHA>a11627b2174038b02b157c0180211a4ed1b35a91</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: Support custom knex param supports in NC_DB Knex properties can be added with query params, if it's nested it can be dot(`.`) separated. For example `ssl: {rejectUnauthorized:false}` can be added by specifying `ssl.rejectUnauthorized=false`. Sample url `pg://localhost:5432?u=postgres&amp;p=xgene&amp;d=abcde&amp;ssl.rejectUnauthorized=false` re #425 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>3cc0cecad2562680e61fb559276e3cf7a7b95bbf</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/__tests__/noco/NcConfigFactory.test.ts</FILE>
        <FILE>packages/nocodb/src/lib/utils/NcConfigFactory.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: Support custom knex param supports in NC_DB Knex properties can be added with query params, if it's nested it can be dot(`.`) separated. For example `ssl: {rejectUnauthorized:false}` can be added by specifying `ssl.rejectUnauthorized=false`. Sample url `pg://localhost:5432?u=postgres&amp;p=xgene&amp;d=abcde&amp;ssl.rejectUnauthorized=false` re #425 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>230b8846ebcdee9b2c96a26a77c8c493e298e2c4</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/__tests__/noco/NcConfigFactory.test.ts</FILE>
        <FILE>packages/nocodb/src/lib/utils/NcConfigFactory.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
