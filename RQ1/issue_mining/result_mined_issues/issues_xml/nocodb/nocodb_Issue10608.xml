<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10608</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/10608</ISSUEURL>
  <TITLE>Bug: Form View with Attachment and Links Field, entry triggers &quot;Failed to load list&quot;</TITLE>
  <DESCRIPTION>### Please confirm that the bug report does ***not*** already exist - [x] I confirm there is no existing issue for this bug. ### Steps to reproduce 1. Create a Form View which has both an Attachment and a Links (many-to-many) field (and some example data, of course) 2. Fill in the attachment field *first* (i.e. by picking a file from the local machine, upload it) 3. Attempt to fill in the Links field (click the plus button next to &quot;No records linked&quot;, expect an autocomplete-ish drop down) 4. Error message: &quot;Failed to load list: something went wrong&quot;; there is no list of records to select from (&quot;No records match your search query&quot;); inputs into the search field re-trigger the error above ### Desired Behavior No error :), Link should be selectable (without the workaround to select it first, *then* picking a file) ### Project Details Node: **v22.14.0** Arch: **x64** Platform: **linux** Docker: **true** RootDB: **pg** PackageVersion: **0.262.0** ### Attachments Analysis: The Link field attempts to populate possible record values by requesting/fetching the endpoint `/api/v1/db/public/shared-view/$UUID/nested/$BASE36ISHSTRING`. It **GET**s a query which roughly decodes to: `{ limit: 10, offset: 0, fields: [...]...`, but also, `rowData: { TheAttachmentField: [ {…,&quot;title&quot;:&quot;TheFilename.jpg&quot;,&quot;data&quot;:&quot;…base64,/TheFullFileEncodedInBase64AAAAA===…`,. The size of the GET request (I think) makes it fail; even for quite small files. Chrom* reports this as `net::ERR_CONNECTION_CLOSED` in the console, Firefox is rather silent on my machine. The file (contents) shouldn't be appended to the query in the first place, I guess. As far as I can tell, this happens ultimately here: https://github.com/nocodb/nocodb/blob/0cadb29e18e7f503bace209275e7148716eccd35/packages/nc-gui/composables/useLTARStore.ts#L213 ![Image](https://github.com/user-attachments/assets/9020300a-47b1-420c-8ad4-3cdf09a50b40) ![Image](https://github.com/user-attachments/assets/a5595154-de08-4e85-aff9-5c4087550a92)</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(nc-gui): disable autocomplete for link record input</MESSAGE>
    <SHA>6e93a3077e3af8c29663771279ebabdcd83ef20e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>c1e49a74b5e6d1d832af7ec7b3d8a68ce261b583</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>e923eff39c4db8b3fed6abdc85de6a58f4695ac4</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>c2bb49187423aa14b14bb4ecf72ddc23d002516c</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>965c41b52a8c3226c9c25a47683c18c310965c6e</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>0c089e6c34f566f61de36096ae0346389f97e0bb</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>9ab9aef9e821a08385f2bf5f56259fe5e321a11b</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>3457c7ec2707262b15de2f8422d881148ca90b32</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>71452c081a6f4446197bb6ad1486c49e71a99eb0</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(nc-gui): sanitize rowData before sending as query params nocodb/nocodb/issues/10608</MESSAGE>
      <SHA>04cf204f8603665ee3505b3cca737301990a588e</SHA>
      <PATCHEDFILES>
        <FILE>packages/nc-gui/composables/useLTARStore.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
