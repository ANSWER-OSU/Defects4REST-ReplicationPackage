<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>530</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/530</ISSUEURL>
  <TITLE>No Decimal Place on Some Formula Outputs where Needed</TITLE>
  <DESCRIPTION>**Please enter the following details** Please provide the following details : NocoDB used as docker : false NocoDB version : Database used in NC_DB URL : sqlite3 Project was created by clicking : New Project Database on which spreadsheet is created : sqlite3 OS on which NocoDB is running : heroku? Node.js version if running as node : Database version : No idea **Steps To Reproduce** 1. 1 click deploy via heroku, add a new table (not sure if my background stats are correct for my environment but as of today, 9/14/2021, I hit one click deploy of onto heroku and tested out the default setup) 2. Add two integer columns with integer types to the new table 3. Enter 1 in the first column and 4 in the second column 3. Add an formula column as a third column, make it the average of the prior two integer columns 4. See the following &quot;error&quot; - the output is 2 and there is no way to change the view to display a decimal, presumably because the formula column has inherited the integer type from the two columns it depends on. **Expected behavior** While from some developer's perspective, displaying the average of 1 and 4 as the integer 2 might be the &quot;expected behavior&quot; in the sense that they would know that the formula column is coded to inherit the types of the columns it depends on. From a no-code user's perspective like me - I expect to see 2.5 or if I see 2, I expect to be able to change the view or some other property of the formula column to display the correct average of the two columns: 2.5 Join our discord : https://discord.gg/5RgZmkW for realtime help.</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(gui): remove table from navigation drawer once deleted re #535 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
    <SHA>22a1e5e48be852b0ec78c43d198710160b662a80</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix(gui): cast division output to float in formula re #530 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>a98c9321fa4921331f374f1be89161e8f8ba82c6</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/formulaQueryBuilderFromString.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/commonFns.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/mssql.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/mysql.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/pg.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/sqlite.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/mapFunctionName.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix(gui): cast division output to float in formula re #530 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>2bdc77dba469661ccc699cdc667e04aa1b8cde7c</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/formulaQueryBuilderFromString.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/commonFns.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/mssql.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/mysql.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/pg.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/sqlite.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/mapFunctionName.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
