<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>348</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/348</ISSUEURL>
  <TITLE>Bug: APIs related to M2M columns become undefined in Swagger</TITLE>
  <DESCRIPTION>**Please enter the following details** APIs related to M2M columns become undefined in Swagger **Steps To Reproduce** 1. Create a table called ``Table A`` 2. Create a table called ``Table B`` 3. In ``Table B``, create a M2M column linking to ``Table A`` 4. Go to Swagger, there are two called ``TableAHasManyundefined`` and ``TableBHasManyundefined``. 5. Try executing something like ``/nc/xxxxxxxxx/api/v1/TableB/has/m2mTableA_TableB'`` and got the following result. ```json { &quot;msg&quot;: &quot;Cannot read property 'columnToAlias' of undefined&quot; } ``` 6. There are some APIs with undefined id as well ``` /nc/xxxxxxxxx/api/v1/TableB/{TableBId}/m2mTableA_TableB/{undefinedId} ``` **Expected behavior** No undefined values Node: v12.22.1 Arch: x64 Platform: linux Docker: true Database: pg ProjectOnRootDB: false RootDB: pg PackageVersion: 0.10.3</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: nestedList api to list Signed-off-by: Pranav C &lt;61551451+pranavxc@users.noreply.github.com&gt;</MESSAGE>
    <SHA>a1ddd5cba8d48b34dd8bb80f8011bc719ead4582</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: hasmany swagger correction re #348 Signed-off-by: Pranav C &lt;61551451+pranavxc@users.noreply.github.com&gt;</MESSAGE>
      <SHA>af062ad3c8fc9a9aa2f33595e0d2f186a5e023ee</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/common/BaseApiBuilder.ts</FILE>
        <FILE>packages/nocodb/src/lib/sqlMgr/code/routers/xc-ts/SwaggerXcHm.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: Hasmany list api bug re #348 Signed-off-by: Pranav C &lt;61551451+pranavxc@users.noreply.github.com&gt;</MESSAGE>
      <SHA>9096619ebab5f2f2a1c106cfe8dd19d0891226a3</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/rest/RestCtrlHasMany.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: hasmany swagger correction re #348 Signed-off-by: Pranav C &lt;61551451+pranavxc@users.noreply.github.com&gt;</MESSAGE>
      <SHA>d2e43b152a5f215489ff1555b5f76a78dd4d72b4</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/common/BaseApiBuilder.ts</FILE>
        <FILE>packages/nocodb/src/lib/sqlMgr/code/routers/xc-ts/SwaggerXcHm.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>fix: Hasmany list api bug re #348 Signed-off-by: Pranav C &lt;61551451+pranavxc@users.noreply.github.com&gt;</MESSAGE>
      <SHA>874ed5bb31f864e5547e4046ab4ff8101c364e98</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/rest/RestCtrlHasMany.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
