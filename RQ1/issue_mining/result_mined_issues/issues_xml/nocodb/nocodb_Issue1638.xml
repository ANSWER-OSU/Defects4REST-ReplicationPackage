<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1638</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/1638</ISSUEURL>
  <TITLE>DATEADD formula issues</TITLE>
  <DESCRIPTION>Using DATEADD formula (`IF(NOW() &lt; DATEADD(test_date_time,10,'day'), &quot;true&quot;, &quot;false&quot;)` like in [docs](https://docs.nocodb.com/setup-and-usages/formulas#date-functions)) results in empty table. There is error console with code 400 in response to GET database entries request. Response body has message noting that there is no $1 operator: `timestamp with time zone &lt; text`. To test, I've tried basic image ( `docker run -d --name nocodb -p 8080:8080 nocodb/nocodb:latest`) and there DATEADD works, though date subtraction fails, as it planned in #1415 . Providing negative number in formula results in 400 error with msg &quot;Cannot read property 'argument' of undefined&quot;. Node: **v12.22.10** Arch: **x64** Platform: **linux** Docker: **true** Database: **pg** ProjectOnRootDB: **true** RootDB: **pg** PackageVersion: **0.84.16**</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>12</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1714 from iamnamananand996/Enable-scroll-for-sort-&amp;-filter-#1675 Enable scroll for sort &amp; filter #1675</MESSAGE>
    <SHA>5579b4b90f461a9e304b9bd4cb89743cfed9aae6</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: handling of negative intervals for DATEADD re #1638 Signed-off-by: mertmit &lt;mertmit99@gmail.com&gt;</MESSAGE>
      <SHA>f658d56467cb5892bf39889c3aee2e7008ebb57b</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/formulav2/formulaQueryBuilderv2.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/mssql.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/mysql.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/pg.ts</FILE>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/functionMappings/sqlite.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
