<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2012</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/2012</ISSUEURL>
  <TITLE>PostgreSQL : migration from 0084002 to 0090000 failed</TITLE>
  <DESCRIPTION>Hello, I tried to update my NocoDB using PostgreSQL from 0084002 to 0090000 and I had this message. &gt; ┌ Migration from 0084002 to 0090000 failed ────────────────────────────────────┐│ ││ Error ││ ----- ││ error: insert into &quot;nc_form_view_v2&quot; (&quot;banner_image_url&quot;, &quot;base_id&quot;, ││ &quot;created_at&quot;, &quot;email&quot;, &quot;fk_view_id&quot;, &quot;heading&quot;, &quot;logo_url&quot;, ││ &quot;project_id&quot;, &quot;redirect_after_secs&quot;, &quot;redirect_url&quot;, &quot;show_blank_form&quot;, ││ &quot;subheading&quot;, &quot;submit_another_form&quot;, &quot;success_msg&quot;, &quot;updated_at&quot;) values ││ (DEFAULT, $1, CURRENT_TIMESTAMP, $2, $3, $4, DEFAULT, $5, DEFAULT, ││ DEFAULT, DEFAULT, $6, DEFAULT, $7, CURRENT_TIMESTAMP) - value too long ││ for type character varying(255) ││ at Parser.parseErrorMessage ││ (/usr/src/app/node_modules/pg-protocol/dist/parser.js:287:98) ││ at Parser.handlePacket ││ (/usr/src/app/node_modules/pg-protocol/dist/parser.js:126:29) ││ at Parser.parse ││ (/usr/src/app/node_modules/pg-protocol/dist/parser.js:39:38) ││ at Socket.&lt;anonymous&gt; ││ (/usr/src/app/node_modules/pg-protocol/dist/index.js:11:42) ││ at Socket.emit (events.js:314:20) ││ at Socket.EventEmitter.emit (domain.js:483:12) ││ at addChunk (_stream_readable.js:297:12) ││ at readableAddChunk (_stream_readable.js:272:9) ││ at Socket.Readable.push (_stream_readable.js:213:10) ││ at TCP.onStreamRead (internal/stream_base_commons.js:188:23) ││ ││ ││ Please raise an issue in our github by using following link : ││ [https://github.com/nocodb/nocodb/issues/new?labels=Type: Bug&amp;templat](https://github.com/nocodb/nocodb/issues/new?labels=Type%3A%20Bug&amp;templat) ││ e=bug_[report.md](http://report.md/) ││ ││ Or contact us in our Discord community by following link : ││ https://discord.gg/5RgZmkW ( message @o1lab, @pranavxc or @wingkwong ) ││ │└──────────────────────────────────────────────────────────────────────────────┘ error: insert into &quot;nc_form_view_v2&quot; (&quot;banner_image_url&quot;, &quot;base_id&quot;, &quot;created_at&quot;, &quot;email&quot;, &quot;fk_view_id&quot;, &quot;heading&quot;, &quot;logo_url&quot;, &quot;project_id&quot;, &quot;redirect_after_secs&quot;, &quot;redirect_url&quot;, &quot;show_blank_form&quot;, &quot;subheading&quot;, &quot;submit_another_form&quot;, &quot;success_msg&quot;, &quot;updated_at&quot;) values (DEFAULT, $1, CURRENT_TIMESTAMP, $2, $3, $4, DEFAULT, $5, DEFAULT, DEFAULT, DEFAULT, $6, DEFAULT, $7, CURRENT_TIMESTAMP) - value too long for type character varying(255) at Parser.parseErrorMessage (/usr/src/app/node_modules/pg-protocol/dist/parser.js:287:98) at Parser.handlePacket (/usr/src/app/node_modules/pg-protocol/dist/parser.js:126:29) at Parser.parse (/usr/src/app/node_modules/pg-protocol/dist/parser.js:39:38) at Socket.&lt;anonymous&gt; (/usr/src/app/node_modules/pg-protocol/dist/index.js:11:42) at Socket.emit (events.js:314:20) at Socket.EventEmitter.emit (domain.js:483:12) at addChunk (_stream_readable.js:297:12) at readableAddChunk (_stream_readable.js:272:9) at Socket.Readable.push (_stream_readable.js:213:10) at TCP.onStreamRead (internal/stream_base_commons.js:188:23) { length: 99, severity: 'ERROR', code: '22001', detail: undefined, hint: undefined, position: undefined, internalPosition: undefined, internalQuery: undefined, where: undefined, schema: undefined, table: undefined, column: undefined, dataType: undefined, constraint: undefined, file: 'varchar.c', line: '632', routine: 'varchar' Do you have any information ? Thanks a lot</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>135</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #2025 from nocodb/fix/webhook-after-delete fix: webhook-related issues</MESSAGE>
    <SHA>a63796ac1c8042e7571caffb8b455f323f310c9c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>chore: add migration to convert column types re #2012 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>11b699041d0cc9c820f9412dc44602c6422c2b4a</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/common/XcMigrationSourcev2.ts</FILE>
        <FILE>packages/nocodb/src/lib/noco/migrationsv2/nc_013_alter_column_data_types.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>chore: add migration to convert column types re #2012 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>2ec643102c7b5676dd93b3805b2b3e2b6861e270</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/common/XcMigrationSourcev2.ts</FILE>
        <FILE>packages/nocodb/src/lib/noco/migrationsv2/nc_013_alter_column_data_types.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix/2012 Migration bug fixes (#2053) * chore: add migration to convert column types re #2012 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt; * fix: handle null case Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt; * fix: skip if viewColumn not found Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt; * fix: handle null case in sort or filter migration Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt; * refactor: limit help text to 254 chars Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt; * refactor: migration filename correction Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>1d1535905c2ccfdf5170c17c3ea461a385761f38</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/noco/common/XcMigrationSourcev2.ts</FILE>
        <FILE>packages/nocodb/src/lib/noco/migrationsv2/nc_014_alter_column_data_types.ts</FILE>
        <FILE>packages/nocodb/src/lib/noco/upgrader/jobs/ncProjectUpgraderV2_0090000.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
