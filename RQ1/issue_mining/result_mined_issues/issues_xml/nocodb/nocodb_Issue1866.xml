<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1866</ISSUENO>
  <ISSUEURL>https://github.com/nocodb/nocodb/issues/1866</ISSUEURL>
  <TITLE>Lookup columns used in filters and formulas cause errors</TITLE>
  <DESCRIPTION>Lookup columns referencing parent's field return errors if used in filters or formulas. Issue is not related to data type (tested with strings and numbers). Lookups from parent entry work as expected. Error message from example below complains on missing '__nc0.nc_0ysj__types_id' and named alike columns. &lt;details&gt; &lt;summary&gt;.gif example&lt;/summary&gt; ![Peek 2022-04-21 15-17](https://user-images.githubusercontent.com/61871501/165140280-18c1e1f6-13d9-4b0a-a6d0-1a3ff584cccc.gif) &lt;/details&gt; Known since v0.90.5.</DESCRIPTION>
  <REPONAME>nocodb</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1867 from nocodb/feat/create-project-improvements feat: show schema name option for mssql and pg project creation</MESSAGE>
    <SHA>a6df48a58319defdd1c9bdaaffdce843f980cc47</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: correction in belongs to lookup filter query generation re #1866 Signed-off-by: Pranav C &lt;pranavxc@gmail.com&gt;</MESSAGE>
      <SHA>76a5bf26cf3df75ed67f9c7128254e13a0de878f</SHA>
      <PATCHEDFILES>
        <FILE>packages/nocodb/src/lib/dataMapper/lib/sql/conditionV2.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
