<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>266</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/266</ISSUEURL>
  <TITLE>now-cli doesn't seem to check &quot;now&quot; field of package.json for deployment preference (npm vs dockerfile)</TITLE>
  <DESCRIPTION>my package.json ```json { &quot;name&quot;: &quot;now-test&quot;, &quot;version&quot;: &quot;0.0.0&quot;, &quot;private&quot;: true, &quot;engines&quot;: { &quot;node&quot;: &quot;&gt;= 7.4.0&quot; }, &quot;dependencies&quot;: { ... }, &quot;now&quot;: { &quot;name&quot;: &quot;fanflow&quot;, &quot;aliases&quot;: [ &quot;fanflow.now.sh&quot;, &quot;www.fanflow.now.sh&quot; ], &quot;env&quot;: { &quot;NODE_ENV&quot;: &quot;production&quot; }, &quot;type&quot;: &quot;npm&quot;, &quot;engines&quot;: { &quot;node&quot;: &quot;&gt;= 7.4.0&quot; }, &quot;files&quot;: [ &quot;.env&quot;, &quot;.env.example&quot;, &quot;./scripts/*&quot;, &quot;./build/*&quot;, &quot;./assets/**/*&quot; ] } } ``` CLI prompt: ```sh ~/Code/now-test [master] now -v now 4.0.0 ~/Code/now-test [master] now &gt; Deploying ~/Code/now-test &gt; Two manifests found. Press [n] to deploy or re-run with --flag &gt; [1] package.json --npm &gt; [2] Dockerfile --docker &gt; Error! Aborted ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>45</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix(package): update inquirer to version 3.0.4 (#352) https://greenkeeper.io/</MESSAGE>
    <SHA>1fcae7b1824bbd6fb26f543a59dc0d9015c34c0b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>check the type field in now.json and package.json now before deciding the deployment type. (#266)</MESSAGE>
      <SHA>c165a2090166b44b6dd47b45e90ac787e69af26f</SHA>
      <PATCHEDFILES>
        <FILE>bin/now-deploy.js</FILE>
        <FILE>lib/read-metadata.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now/rust] remove gcc installation (#266) * [now/rust] remove gcc * update default cache to a blob, created without def.c.</MESSAGE>
      <SHA>662ad1ed3af3662505c008d3d1865658ac2264bf</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-rust/index.js</FILE>
        <FILE>packages/now-rust/install-rust.js</FILE>
        <FILE>packages/now-rust/package.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
