<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2759</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/2759</ISSUEURL>
  <TITLE>Broken error when purchasing domains</TITLE>
  <DESCRIPTION>Currently, we're showing this if you try to purchase a domain: ![image](https://user-images.githubusercontent.com/6170607/62973981-7fd98d80-be17-11e9-85a9-b3f32686aff1.png) Instead, we want to STOP the spinner and print the error in a new fresh line. Furthermore, the error should not expose the entire stack trace. It should just print: &gt; An unexpected error occurred while purchasing your domain. Please try again later.</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add more alias support (#2747) * add more alias support * Update src/util/domains/setup-domain.ts Co-Authored-By: Nathan Rajlich &lt;n@n8.io&gt; * Update src/util/domains/setup-domain.ts Co-Authored-By: Nathan Rajlich &lt;n@n8.io&gt; * add tests</MESSAGE>
    <SHA>957fe9084a4b490ff7b1291cdc614afa37f6796b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now domain] Handle thrown API errors when purchasing domain fails Fixes #2759.</MESSAGE>
      <SHA>23f77399c15df9cd1eb374ddacd1bd16e4b6fc8c</SHA>
      <PATCHEDFILES>
        <FILE>src/commands/domains/buy.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now domain] Handle thrown API errors when purchasing domain fails (#2779) Fixes #2759.</MESSAGE>
      <SHA>a6174cde03e8c6f6756ac7aaa3b2ceca8ead119c</SHA>
      <PATCHEDFILES>
        <FILE>src/commands/domains/buy.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now domain] Handle thrown API errors when purchasing domain fails (#2779) Fixes #2759.</MESSAGE>
      <SHA>5e6a241baaaeeddb9a4dd07d1f2c77588003dfbf</SHA>
      <PATCHEDFILES>
        <FILE>src/commands/domains/buy.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
