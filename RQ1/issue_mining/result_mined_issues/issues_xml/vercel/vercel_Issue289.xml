<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>289</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/289</ISSUEURL>
  <TITLE>new static deployments are broken</TITLE>
  <DESCRIPTION>Similar to #288 I was trying to deploy earlier but failed. Here is my environment. ``` $ node --version v6.3.0 $ now --version now 4.1.2 ``` Using default deploy by `now`, seems some issues were there cause the deployment took much longer with error showing `&gt; FetchError: network timeout at: http://10.100.202.49:3000`. Would be nice to have some investigation, if you need more information please let me know. ``` $ now &gt; Deploying ~/try/xxx.xxx &gt; Using Node.js 7.0.0 (default) &gt; Ready! https://xxxxxxx-xwsmsifefl.now.sh (copied to clipboard) [2s] &gt; Initializing… &gt; Building &gt; ▲ npm install &gt; ⧗ Installing: &gt; ‣ serve@^3.2.0 &gt; FetchError: network timeout at: http://10.100.202.49:3000 &gt; ▲ npm install &gt; Installing package serve@^3.2.0 &gt; ▲ npm start &gt; &gt; xxxx.xxx@ start /home/nowuser/src &gt; &gt; serve ./content &gt; npm ERR! &gt; npm ERR! Failed at the xxxx.xxx@ start script 'serve ./content'. &gt; npm ERR! Make sure you have the latest version of node.js and npm installed. &gt; npm ERR! If you do, this is most likely a problem with the xxxxx.xxx package, &gt; npm ERR! not with npm itself. &gt; npm ERR! Tell the author that this fails on your system: &gt; npm ERR! serve ./content &gt; npm ERR! You can get information on how to open an issue for this project with: &gt; npm ERR! npm bugs xxxx.xxx &gt; npm ERR! Or if that isn't available, you can get their info via: &gt; npm ERR! npm owner ls xxxx.xxx &gt; npm ERR! There is likely additional logging output above. &gt; npm ERR! Linux 4.7.0-coreos &gt; npm ERR! argv &quot;/usr/bin/node&quot; &quot;/usr/bin/npm&quot; &quot;run&quot; &quot;start&quot; &gt; npm ERR! node v7.0.0 &gt; npm ERR! code EACCES &gt; npm ERR! errno -13 &gt; npm ERR! Error: EACCES: permission denied, open 'npm-debug.log.4282404183' &gt; npm ERR! { Error: EACCES: permission denied, open 'npm-debug.log.4282404183' &gt; /home/nowuser/src/node_modules/877f43508f8b78f3e67c804b38705ae738d0118a/lib/listening.js:7 &gt; const copyToClipboard = async text =&gt; { &gt; ^^^^ &gt; SyntaxError: Unexpected identifier &gt; at Object.exports.runInThisContext (vm.js:76:16) &gt; at Module._compile (module.js:545:28) &gt; at Module._extensions..js (module.js:582:10) &gt; at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/2a9909022d27ed3456706e4b2e3a923934cd710e/register.js:42:5) &gt; at Module.load (module.js:490:32) &gt; at tryModuleLoad (module.js:449:12) &gt; at Function.Module._load (module.js:441:3) &gt; at Module.require (module.js:500:17) &gt; at require (internal/module.js:20:19) &gt; at Object.&lt;anonymous&gt; (/home/nowuser/src/node_modules/877f43508f8b78f3e67c804b38705ae738d0118a/lib/index.js:11:19) &gt; npm ERR! Linux 4.7.0-coreos &gt; npm ERR! argv &quot;/usr/bin/node&quot; &quot;/usr/bin/npm&quot; &quot;run&quot; &quot;start&quot; &gt; npm ERR! node v7.0.0 &gt; npm ERR! npm v3.10.9 &gt; npm ERR! code ELIFECYCLE &gt; npm ERR! xxxx.xxx@ start: `serve ./content` &gt; npm ERR! Exit status 1 &gt; npm ERR! syscall open &gt; npm ERR! syscall: 'open', &gt; npm ERR! &gt; npm ERR! npm v3.10.9 &gt; npm ERR! path npm-debug.log.4282404183 &gt; npm ERR! errno: -13, &gt; npm ERR! code: 'EACCES', &gt; npm ERR! path: 'npm-debug.log.4282404183' } &gt; npm ERR! Please try running this command again as root/Administrator. &gt; npm ERR! Please include the following file with any support request: &gt; npm ERR! /home/nowuser/src/npm-debug.log ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now-node] Add `prepublish` npm script So that the TypeScript files are compiled before publishing.</MESSAGE>
    <SHA>3036aff45e183e4229759f85b5037ecfc669fc1c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add note about @now/next not supporting distDir (#289) `now-builders` can't parse `next.config.js` because it can hold functions. It expects `/.next` as the build output. Closes: #288</MESSAGE>
      <SHA>7ff9e810fffd7f18ca44e0106586f04df6dac39b</SHA>
      <PATCHEDFILES>
        <FILE>errors/now-next-no-serverless-pages-built.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
