<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>290</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/290</ISSUEURL>
  <TITLE>failed to deploy single index.html file</TITLE>
  <DESCRIPTION>trying to deploy a folder with single html file. it failed on windows and on ubuntu. I'm using now 4.2.0. and I get this error: &gt; Deploying C:\dev\testing &gt; Using Node.js 7.0.0 (default) &gt; Ready! https://testing-qstggvtrzz.now.sh (copied to clipboard) [2s] &gt; Initializing… &gt; Building &gt; ▲ npm install &gt; ⧗ Installing: &gt; ‣ serve@^3.2.3 &gt; ✓ Installed 167 modules [13s] &gt; ▲ npm start &gt; &gt; testing@ start /home/nowuser/src &gt; &gt; serve ./content &gt; /home/nowuser/src/node_modules/serve/lib/listening.js:7 &gt; const copyToClipboard = async text =&gt; { &gt; ^^^^ &gt; SyntaxError: Unexpected identifier &gt; at Object.exports.runInThisContext (vm.js:76:16) &gt; at Module._compile (module.js:545:28) &gt; at Module._extensions..js (module.js:582:10) &gt; at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/async-to-gen/register.js:42:5) &gt; at Module.load (module.js:490:32) &gt; at tryModuleLoad (module.js:449:12) &gt; at Function.Module._load (module.js:441:3) &gt; at Module.require (module.js:500:17) &gt; at require (internal/module.js:20:19) &gt; at Object.&lt;anonymous&gt; (/home/nowuser/src/node_modules/serve/lib/index.js:11:19) &gt; npm ERR! argv &quot;/usr/bin/node&quot; &quot;/usr/bin/npm&quot; &quot;run&quot; &quot;start&quot; &gt; npm ERR! node v7.0.0 &gt; npm ERR! Exit status 1 &gt; npm ERR! code ELIFECYCLE &gt; npm ERR! Failed at the testing@ start script 'serve ./content'. &gt; npm ERR! testing@ start: `serve ./content` &gt; npm ERR! If you do, this is most likely a problem with the testing package, &gt; npm ERR! not with npm itself. &gt; npm ERR! Tell the author that this fails on your system: &gt; npm ERR! Make sure you have the latest version of node.js and npm installed. &gt; npm ERR! serve ./content &gt; npm ERR! npm bugs testing &gt; npm ERR! There is likely additional logging output above. &gt; npm ERR! argv &quot;/usr/bin/node&quot; &quot;/usr/bin/npm&quot; &quot;run&quot; &quot;start&quot; &gt; npm ERR! Or if that isn't available, you can get their info via: &gt; npm ERR! npm owner ls testing &gt; npm ERR! Linux 4.7.0-coreos &gt; npm ERR! node v7.0.0 &gt; npm ERR! code EACCES &gt; npm ERR! syscall open &gt; npm ERR! &gt; npm ERR! Please try running this command again as root/Administrator. &gt; npm ERR! Please include the following file with any support request: &gt; npm ERR! errno: -13, &gt; npm ERR! Error: EACCES: permission denied, open 'npm-debug.log.2464837890' &gt; npm ERR! code: 'EACCES', &gt; npm ERR! path: 'npm-debug.log.2464837890' } &gt; npm ERR! /home/nowuser/src/npm-debug.log &gt; npm ERR! Linux 4.7.0-coreos &gt; npm ERR! npm v3.10.9 &gt; npm ERR! &gt; npm ERR! You can get information on how to open an issue for this project with: &gt; npm ERR! npm v3.10.9 &gt; npm ERR! path npm-debug.log.2464837890 &gt; npm ERR! errno -13 &gt; npm ERR! { Error: EACCES: permission denied, open 'npm-debug.log.2464837890' &gt; npm ERR! syscall: 'open', a bug? or did I miss something?</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now-python] Add `setup.cfg` file before running `pip install` (#292) * [now-python] Add `setup.cfg` file before running `pip install` See: https://stackoverflow.com/a/44728772/376773 The `setup.cfg` is required for `now dev` on MacOS, where without this file being present in the src dir then this error happens: distutils.errors.DistutilsOptionError: must supply either home or prefix/exec-prefix -- not both * Only create the `seup.cfg` file once</MESSAGE>
    <SHA>5b03109ba76f4ca10d697c38f0afd084b9c76dd5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-build-utils] Set `npm_config_target` env var when installing npm deps (#290)</MESSAGE>
      <SHA>54f3f755fb1b76785992a18594c5c79a8475c793</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-build-utils/fs/run-user-scripts.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
