<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2609</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/2609</ISSUEURL>
  <TITLE>Replicate platform error style in now dev</TITLE>
  <DESCRIPTION>Currently, the errors in now dev look nothing like in production. Also, the 404 error page for static files looks even different. ![Untitled-7](https://user-images.githubusercontent.com/6170607/61794857-65b51c80-ae22-11e9-980c-24a95c3e7f76.png)</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>8</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now dev] Update `NOW_BUILDER_DEBUG` base on `--debug` flag (#2655) * Update `NOW_BUILDER_DEBUG` base on `--debug` flag * No need to reset `NOW_BUILDER_DEBUG` * Add comment for `NOW_BUILDER_DEBUG` * Apply suggestions from code review Co-Authored-By: Andy &lt;AndyBitz@users.noreply.github.com&gt;</MESSAGE>
    <SHA>c287cbeb2246c5ae81ac4fd76fb1be5f142afa99</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now dev] Support JSON and HTML error responses Closes #2609.</MESSAGE>
      <SHA>289a76ac7a0d02659ecd3485ce5c791d6baf11d8</SHA>
      <PATCHEDFILES>
        <FILE>.eslintignore</FILE>
        <FILE>.gitignore</FILE>
        <FILE>package.json</FILE>
        <FILE>scripts/build.ts</FILE>
        <FILE>src/util/dev/server.ts</FILE>
        <FILE>src/util/dev/templates/error.d.ts</FILE>
        <FILE>src/util/dev/templates/error.jst</FILE>
        <FILE>src/util/dev/templates/error_404.d.ts</FILE>
        <FILE>src/util/dev/templates/error_404.jst</FILE>
        <FILE>src/util/dev/templates/error_base.d.ts</FILE>
        <FILE>src/util/dev/templates/error_base.jst</FILE>
        <FILE>yarn.lock</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now dev] Support JSON and HTML error responses (#2677) * [now dev] Support JSON and HTML error responses Closes #2609. * Compile templates for unit tests in CircleCI * Update `ts-node` to v8.3.0 * Convert doT.js compiled templates to TypeScript * Compile templates for lint tests in CircleCI * Print convert time * Add 502 error template * Remove `message` param from `sendError()` * Prettier * Add 404 tests * Fix test</MESSAGE>
      <SHA>75d98c649a1469a3e1ffccd89d3205e1efb6b7df</SHA>
      <PATCHEDFILES>
        <FILE>.circleci/config.yml</FILE>
        <FILE>.eslintignore</FILE>
        <FILE>.gitignore</FILE>
        <FILE>package.json</FILE>
        <FILE>scripts/build.ts</FILE>
        <FILE>scripts/compile-templates.js</FILE>
        <FILE>src/util/dev/errors.ts</FILE>
        <FILE>src/util/dev/server.ts</FILE>
        <FILE>src/util/dev/templates/error.jst</FILE>
        <FILE>src/util/dev/templates/error.tsdef</FILE>
        <FILE>src/util/dev/templates/error_404.jst</FILE>
        <FILE>src/util/dev/templates/error_404.tsdef</FILE>
        <FILE>src/util/dev/templates/error_502.jst</FILE>
        <FILE>src/util/dev/templates/error_502.tsdef</FILE>
        <FILE>src/util/dev/templates/error_base.jst</FILE>
        <FILE>src/util/dev/templates/error_base.tsdef</FILE>
        <FILE>test/dev-server.unit.js</FILE>
        <FILE>yarn.lock</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now dev] Support JSON and HTML error responses (#2677) * [now dev] Support JSON and HTML error responses Closes #2609. * Compile templates for unit tests in CircleCI * Update `ts-node` to v8.3.0 * Convert doT.js compiled templates to TypeScript * Compile templates for lint tests in CircleCI * Print convert time * Add 502 error template * Remove `message` param from `sendError()` * Prettier * Add 404 tests * Fix test</MESSAGE>
      <SHA>0ef680484d560303e193160a9aec89937361624a</SHA>
      <PATCHEDFILES>
        <FILE>.circleci/config.yml</FILE>
        <FILE>.eslintignore</FILE>
        <FILE>.gitignore</FILE>
        <FILE>package.json</FILE>
        <FILE>scripts/build.ts</FILE>
        <FILE>scripts/compile-templates.js</FILE>
        <FILE>src/util/dev/errors.ts</FILE>
        <FILE>src/util/dev/server.ts</FILE>
        <FILE>src/util/dev/templates/error.jst</FILE>
        <FILE>src/util/dev/templates/error.tsdef</FILE>
        <FILE>src/util/dev/templates/error_404.jst</FILE>
        <FILE>src/util/dev/templates/error_404.tsdef</FILE>
        <FILE>src/util/dev/templates/error_502.jst</FILE>
        <FILE>src/util/dev/templates/error_502.tsdef</FILE>
        <FILE>src/util/dev/templates/error_base.jst</FILE>
        <FILE>src/util/dev/templates/error_base.tsdef</FILE>
        <FILE>test/dev-server.unit.js</FILE>
        <FILE>yarn.lock</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
