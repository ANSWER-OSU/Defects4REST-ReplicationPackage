<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8121</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/8121</ISSUEURL>
  <TITLE>`vercel dev` in Vite app causes port timeout</TITLE>
  <DESCRIPTION>I get the following error after a while running vercel dev in a Vite/SvelteKit app: ``` Error! Detecting port 62323 timed out after 300000ms Error! An unexpected error occurred! Error: Detecting port 62323 timed out after 300000ms at checkForPort (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243842:19) at runMicrotasks (&lt;anonymous&gt;) at processTicksAndRejections (node:internal/process/task_queues:96:5) at DevServer.runDevCommand (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243643:9) at DevServer._start (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243267:9) Error! An unexpected error occurred! Error: Detecting port 62323 timed out after 300000ms at checkForPort (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243842:19) at runMicrotasks (&lt;anonymous&gt;) at processTicksAndRejections (node:internal/process/task_queues:96:5) at DevServer.runDevCommand (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243643:9) at DevServer._start (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243267:9) ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>62</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[tests] Skip tests that won't run on Windows due to 'mkdir -p' and symlinks (#8531) Found a few tests that won't run on Windows. The project settings override test runs `mkdir -p` which errors. The other two build tests fail because they try to create symlinks. #### Tests - [x] The code changed/added as part of this PR has been covered with tests - [x] All tests pass locally with `yarn test-unit` #### Code Review - [ ] This PR has a concise title and thorough description useful to a reviewer - [ ] Issue from task tracker has a link to this PR</MESSAGE>
    <SHA>c9f7ca23a819dab25220d3082884738ebfeefab0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[cli] Poll the Dev Command server on both IPv4 and IPv6 in `vc dev` This change will allow the downstream Dev Command server be able to listen on either of `127.0.0.1` for IPv4 or `[::1]` for IPv6. Fixes #6639. Fixes #8511. Fixes #8121. Closes #8512.</MESSAGE>
      <SHA>eea1aad4c4e2683912b5f9df5df5c8adfb5d2432</SHA>
      <PATCHEDFILES>
        <FILE>packages/cli/src/util/dev/server.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[cli] Poll the Dev Command server on both IPv4 and IPv6 in `vc dev` (#8542) This change will allow the downstream Dev Command server be able to listen on either of `127.0.0.1` for IPv4 or `[::1]` for IPv6. - Fixes #6639 - Fixes #8511 - Fixes #8121 - Closes #8512 - Closes #8384</MESSAGE>
      <SHA>5b36eaacff2d51c558f3e599d31ef2e183b7ec75</SHA>
      <PATCHEDFILES>
        <FILE>packages/cli/src/util/dev/server.ts</FILE>
        <FILE>packages/cli/test/dev/fixtures/vite-dev/package.json</FILE>
        <FILE>packages/cli/test/dev/fixtures/vite-dev/vercel.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
