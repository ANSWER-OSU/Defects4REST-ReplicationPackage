<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9377</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/9377</ISSUEURL>
  <TITLE>Workflow only uses toplevel limit</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY Since workflows make use of job templates, I would expect that the individual job template has the master limit for each job being run through the workflow. Instead the limit at the top level of the workflow is the only one that is being honored. If we leave that top-level blank, then the job run against every machine in our inventory instead of the ones listed only in the job template being run. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 20.04 * Web Browser: Any ##### STEPS TO REPRODUCE 1. Create a workflow 2. Assign job templates in the visualizer 3. Set your limit in the job templates only 4. Save your workflow ##### EXPECTED RESULTS I expect the limit in the job templates of the visualizer to be the master source for the limit, not the workflow. ##### ACTUAL RESULTS The job template limit is ignored, and each job template task is run against every server in the inventory ##### ADDITIONAL INFORMATION Will provide any more information as requested.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>87</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #10063 from nixocio/ui_issue_7777_style Add slider to adjust capacity_adjustment Add slider to adjust capacity adjustment. Also add a new custom hook, useDebounce. See: #7777 Reviewed-by: Kersom &lt;None&gt; Reviewed-by: Alex Corey &lt;Alex.swansboro@gmail.com&gt; Reviewed-by: Keith Grant &lt;keithjgrant@gmail.com&gt; Reviewed-by: Tiago GÃ³es &lt;tiago.goes2009@gmail.com&gt;</MESSAGE>
    <SHA>27b1d15a7a7edd78ba259db48275c2d657c3327b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix null issue for limit Fix null issue for limit. See: https://github.com/ansible/awx/issues/9377</MESSAGE>
      <SHA>52ec6737a5ec6cd0f79dac85024ff265fe8ebc34</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix null issue for limit Fix null issue for limit. See: https://github.com/ansible/awx/issues/9377</MESSAGE>
      <SHA>aacdf712b7b46625bcac8dd1db3f3c521c112c1b</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix null issue for limit Fix null issue for limit. See: https://github.com/ansible/awx/issues/9377</MESSAGE>
      <SHA>660796e1780ee202246217a2430839efea854ecd</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix null issue for limit Fix null issue for limit. See: https://github.com/ansible/awx/issues/9377</MESSAGE>
      <SHA>fdfc33b81ae7c7fd52aa131f92a0c50c7cb7eb3f</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix null issue for limit Fix null issue for limit. See: https://github.com/ansible/awx/issues/9377</MESSAGE>
      <SHA>d504bbbdb6d5c7e21fa2ade14c0c55aea7366249</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix null issue for limit Fix null issue for limit. See: https://github.com/ansible/awx/issues/9377</MESSAGE>
      <SHA>94d46a6e967909004f0f59307bd4d182f8a76c2c</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10195 from nixocio/ui_issue_9377 Fix null issue for limit Fix null issue for limit. See: #9377 Reviewed-by: Jake McDermott &lt;yo@jakemcdermott.me&gt;</MESSAGE>
      <SHA>b771929b6e4ffd8a0a3530ebc2f6957dd830093d</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/FieldWithPrompt/FieldWithPrompt.jsx</FILE>
        <FILE>awx/ui_next/src/components/LaunchPrompt/steps/useOtherPromptsStep.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Template/shared/WorkflowJobTemplateForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
