<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9898</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/9898</ISSUEURL>
  <TITLE>Invalid `type` field in key select filter column in advanced search</TITLE>
  <DESCRIPTION>&lt;!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --&gt; ##### ISSUE TYPE - Bug Report ##### SUMMARY &lt;!-- Briefly describe the problem. --&gt; Some model's classes do not contain `type` attributes or fields. Thus, filterable `type` should not be displayed in the key select filter in the advanced search. Affected classes are as follows: 1. ActivityStream 2. CredentialType 3. ExecutionEnvironment 4. Host 5. InstanceGroup 6. Inventory 7. NotificationTemplate 8. OAuth2Application 9. Organization 10. Schedule 11. Team 12. Users ##### ENVIRONMENT * AWX version: `devel` ##### STEPS TO REPRODUCE 1. Go to `schedules` section 2. Select advanced search 3. Select `type` key from the key select filter column 4. Type in any characters in the text input field 5. Click search &lt;!-- Please describe exactly how to reproduce the problem. --&gt; ##### EXPECTED RESULTS Should only display filterable key in the key select filter column &lt;!-- What did you expect to happen when running the steps above? --&gt; ##### ACTUAL RESULTS Display non-filterable key in the key select filter column &lt;!-- What actually happened? --&gt; ##### ADDITIONAL INFORMATION ![Invalid_field_bug](https://user-images.githubusercontent.com/67208821/114610045-0ff96580-9cd2-11eb-8cd2-25287cbaf43e.gif) &lt;!-- Include any links to sosreport, database dumps, screenshots or other information. --&gt; #### Potential Solution Set the `type` field's filterable as `True` only if the model class consists of the `type` attribute.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #9890 from ryanpetrello/schedule-invalid-ujt allow schedules to be disabled even if the associated UJT isn't valid see: #8641 Reviewed-by: Christian Adams &lt;rooftopcellist@gmail.com&gt; Reviewed-by: Jeff Bradberry &lt;None&gt;</MESSAGE>
    <SHA>b82318161c5ea737621106da139da285c49b10dc</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>metadata: Fixes invalid model classes field. Fixes #9898.</MESSAGE>
      <SHA>5aac6de424535f2ce4a486ce348ecdfeaeed905d</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/metadata.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>metadata: Fixes invalid model classes field. Fixes #9898.</MESSAGE>
      <SHA>e24b236d25334bf9fc4b83a1deda684946af0269</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/metadata.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
