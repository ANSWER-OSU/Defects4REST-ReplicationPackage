<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6128</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/6128</ISSUEURL>
  <TITLE>AWX Collection user and role modules break when creating or updating an existing object</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY #### Collection Updating an object without a `name` field breaks, which also breaks idempotency. Probably because of: https://github.com/ansible/awx/blob/devel/awx_collection/plugins/module_utils/tower_api.py#L534 ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.4 * Operating System: ubuntu 18.04 ##### STEPS TO REPRODUCE Run a playbook that creates a user or role twice, the second time it will fail ##### EXPECTED RESULTS it should be Idempotent and know how to update those objects ##### ACTUAL RESULTS ``` PLAY [testhost] **************************************************************** TASK [Gathering Facts] ********************************************************* ok: [testhost] TASK [tower_user : Create a User] ********************************************** fatal: [testhost]: FAILED! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;Unable to process update of item due to missing data 'name'&quot;} PLAY RECAP ********************************************************************* testhost : ok=1 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ```</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #6138 from ansible/attribute_error [Backport 4.3] Add attribute error field in line 285, the same we do in line 293, to get more information about the error</MESSAGE>
    <SHA>bc1e6bd362307d6806216e186720abf742ab95e1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #6128 from marshmalien/13002-fix-source-add-schedule-backport [4.3] Fix undefined launchConfig error in schedule form</MESSAGE>
      <SHA>ddbc54142c1f05b7632ba38e25e78e78b93d4ca0</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui/src/components/Schedule/shared/ScheduleForm.js</FILE>
        <FILE>awx/ui/src/screens/ManagementJob/ManagementJob.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
