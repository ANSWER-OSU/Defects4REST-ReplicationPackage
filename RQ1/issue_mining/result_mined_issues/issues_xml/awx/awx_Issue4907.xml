<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4907</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/4907</ISSUEURL>
  <TITLE>inventory updates + project updates deployed to container groups don't report execution node</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY &lt;!-- Briefly describe the problem. --&gt; This is a known issue of https://github.com/ansible/awx/pull/4189 that will be resolved in follow up PR. Inventory updates need to run on a Tower node, and this does happen even when &quot;deployed&quot; to a Container Group. The problem is, there is no way to figure out from API what tower node it was deployed to. This is connected to the fact that there is no designated &quot;controller node&quot; for the Container Groups, solving that may help this. Regardless, currently if an inventory update is &quot;deployed&quot; to a container group it will show the container group on the inventory update, but no execution node or controller node, so it is unclear where the update actually ran. ##### STEPS TO REPRODUCE &lt;!-- Please describe exactly how to reproduce the problem. --&gt; 1) create a working Container Group 2) Create an organization 3) Assign Container Group to organization as only instance group 4) create inventory with inventory source OR create project 5) launch inventory update or project update ##### EXPECTED RESULTS &lt;!-- What did you expect to happen when running the steps above? --&gt; One of the Tower nodes is shown as execution node ##### ACTUAL RESULTS &lt;!-- What actually happened? --&gt; No execution node, only container group shown</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>17</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Adjust description/help text for profiling features. Note that data is merely for sosreport collection for now, and warn against increasing collection frequency.</MESSAGE>
    <SHA>cefa64dff7e3fd1846f3d28ec4aa7fbcba7b1fab</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>properly set execution_node for project and inv updates run &quot;in k8s&quot; see: https://github.com/ansible/awx/issues/4907</MESSAGE>
      <SHA>802931b59d5207155c9c490fcb0f603df7b60751</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/task_manager.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>properly set execution_node for project and inv updates run &quot;in k8s&quot; see: https://github.com/ansible/awx/issues/4907</MESSAGE>
      <SHA>9022104e4f5f985a208037af6d6551826825e28f</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/scheduler/task_manager.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
