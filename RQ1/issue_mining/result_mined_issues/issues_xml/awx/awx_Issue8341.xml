<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>8341</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/8341</ISSUEURL>
  <TITLE>15.0.0 does not detect roles/requirements.yml</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY With the Upgrade to 15.0.0, AWX does not detect the roles/requirements.yml ``` TASK [detect requirements.yml] ************************************************* skipping: [localhost] TASK [fetch galaxy roles from requirements.yml] ******************************** skipping: [localhost] TASK [detect collections/requirements.yml] ************************************* skipping: [localhost] TASK [fetch galaxy collections from collections/requirements.yml] ************** skipping: [localhost] ``` ##### ENVIRONMENT * AWX version: 15.0.0 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: RHEL 7.8 * Web Browser: Tested with * Brave Version 1.14.84 Chromium: 85.0.4183.121 * Google Chrome 86.0.4240.75 * Firefox Version 81.0.1 ##### STEPS TO REPRODUCE Using AWX 15.0.0, sync a project with roles included in roles/requirements.yml ##### EXPECTED RESULTS roles/requirements.yml will be included and roles will be pulled from its sources ##### ACTUAL RESULTS roles/requirements.yml is skipped and roles will not be pulled from the sources which will result in the job template failing due to mussing roles. ##### ADDITIONAL INFORMATION structure of the roles/requirements.yml ``` --- - src: git@gitlab.domain.tld:ansible/roles/common.git scm: git name: common - src: https://github.com/RedHatInsights/insights-client-role.git scm: git name: RedHatInsights.insights-client - src: https://github.com/linux-system-roles/timesync.git scm: git name: rhel-system-roles.timesync ... ``` Pulling the roles works with this setup in version 14.1.0 as expected.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #8326 from wenottingham/param-a-lot Fix 500 when required LDAP group parameters aren't set. Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>49c0b77c60fae104eec5c9978ec2102d2133ff0b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Clarify behavioral changes from content syncing behavior in 15.0.0+ see: https://github.com/ansible/awx/issues/8341</MESSAGE>
      <SHA>faf0fa904033b59a4b9be02c04efb24d2b36f281</SHA>
      <PATCHEDFILES>
        <FILE>CHANGELOG.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
