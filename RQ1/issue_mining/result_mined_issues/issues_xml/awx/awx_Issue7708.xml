<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7708</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/7708</ISSUEURL>
  <TITLE>Credential access tab should be shown when cred doesn't belong to an organization</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY At first I created https://github.com/ansible/awx/issues/7693 only to realize that the tab was in fact configured but it was hidden for credentials without an organization. I don't think that this is quite right because you can still assign a role to a user for said credential. You can see this in action in the old UI. There is a catch though - you can't assign a team level permission on a credential without an organization. So, the wizard that we use to add new roles is going to have to get updated to accommodate this. Here's the expected behavior: 1) Access tab is always present 2) If the credential does not have an organization then you can only select user(s) when adding new roles 3) If the credential does have an organization then you can select user(s) or team(s) when adding new roles Item 2 means that our wizard probably only needs 2 steps rather than 3 (first step is typically selecting Users or Teams). In this case, Users would be the only option.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>195</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #8758 from hjkatz/patch-7 Use literal quotation marks for Kubernetes annotations instead of quoâ€¦ Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>d14fa93ce9776754a3524fb9c526a42e79cb7421</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to a team Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>d99d5efe41e6e7dfd771d367bb5b8f9ca678d70a</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to an organization Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>c62ab01053eea74a1afbc8aacb20947a30bc1a8c</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to an organization Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>2bf32a8db33cbd5878e135485214bf3def7eae09</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to an organization Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>93c2ef9525d1242bcf50f37a51557754ec304709</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to an organization Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>71da274d011d3866348c4a239e12d5917e4d9aba</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/CredentialDetail/CredentialDetail.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to an organization Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>911908256c0d0dad53a6b64420aebc94e054bbd0</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/CredentialDetail/CredentialDetail.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Show access tab when credential does not belong to an organization Credential access tab should be shown when cred doesn't belong to an organization. Also, update unit-tests to reflect change. See: https://github.com/ansible/awx/issues/7708</MESSAGE>
      <SHA>682b06be5ab25050ab1f53a20e49039101606b16</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.jsx</FILE>
        <FILE>awx/ui_next/src/components/AddRole/AddResourceRole.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/ResourceAccessList/ResourceAccessList.jsx</FILE>
        <FILE>awx/ui_next/src/components/SelectableCard/SelectableCard.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/Credential.test.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Credential/CredentialDetail/CredentialDetail.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
