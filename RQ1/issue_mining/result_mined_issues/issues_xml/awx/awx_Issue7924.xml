<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7924</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/7924</ISSUEURL>
  <TITLE>tower_project should not check for credentials on state=absent</TITLE>
  <DESCRIPTION>&lt;!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --&gt; ##### ISSUE TYPE - Bug Report ##### SUMMARY awx.awx.tower_project checks for credential on state == absent, and it shouldn't care if we're removing it (eg credential gets removed before this is called) ##### ENVIRONMENT * AWX version: 3.7.1 * AWX install method: Ansible Tower 3.7.1 - setup.sh * Ansible version: 2.9.1 * Operating System: Red Hat 7.9 * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a project with a credential Remove the credential before removing the project ##### EXPECTED RESULTS Project should be removed ##### ACTUAL RESULTS Error is received when trying to remove it. fatal: [awx-node01]: FAILED! =&gt; {&quot;changed&quot;: false, &quot;msg&quot;: &quot;The credentials git_creds was not found on the Tower server&quot;} ##### ADDITIONAL INFORMATION</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>49</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #7070 from JoelKle/fix_rerun_ability Installer - local_docker - fixed the ability to rerun the playbook Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>54f8742747701447c3625b3a537f7292717401bb</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix bug tower_project checks creds on removal This fixes #7924 On removal of a project it checks are done to see if the credentials exist or not - we shouldn't care on removal</MESSAGE>
      <SHA>723295664cb4586d3afcf74ea60bf2d0cc0126d1</SHA>
      <PATCHEDFILES>
        <FILE>awx_collection/plugins/modules/tower_project.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
