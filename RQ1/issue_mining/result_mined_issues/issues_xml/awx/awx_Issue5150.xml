<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5150</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5150</ISSUEURL>
  <TITLE>Support arbitrary custom inventory plugin configuration</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Feature Idea ##### SUMMARY Followon of https://github.com/ansible/awx/issues/5149 (and its predecessors). Given the ability to expose a custom inventory plugin via a collection for use as an inventory source, we should allow configuring a generic custom inventory source where the configuration data is merely &quot;a plugin configuration file&quot;. From a related (duplicate) issue filed by @AlanCoding: Right now, there is no way to use an inventory plugin-style YAML configuration aside from checking it into source control. We have had several inquiries related to this, so this is proposed as a solution to resolve all of those use cases. Things we can say this feature would necessary need to have: - form elements - Place to select a credential or multiple credentials - Place to enter YAML content of the inventory plugin (no JSON) - (unclear) filename may or may not need to be independently specified, the only known stubborn exception that could require this is [VMWare](https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/inventory/vmware_vm_inventory.py#L278) - any other shared elements with whatever type of resource it is (like NAME) - The YAML content will be required to have `plugin: foo` as a top-level entry - The form will enforce that supported types use a credential of its corresponding type - possible additional feature - allow custom types to claim an inventory plugin namespace - Inventory updates already use plugins, this will do very little different, just using the config that the user gives - A &quot;convert to plugin&quot; button on existing inventory sources that work with plugins - this will start the user out with a configuration that gives compatibility with existing behavior, which they can then modify at will Questions still remain. Will this be another type, similar to inventory scripts? Or will it be another option for `source` of an inventory source? Will there be any way for the user to alter ansible.cfg options, like the group name conversion?</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>308</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #3802 from wenottingham/oh-noes-not-again Check the user's ansible.cfg for role/collection paths.</MESSAGE>
    <SHA>c2743d867823ed4f6bd867767138d6164fcead3d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>API deprecation of inventory script views</MESSAGE>
      <SHA>86ef81cebf5c5a7cf841194992e2f873089a0344</SHA>
      <PATCHEDFILES>
        <FILE>awx/api/views/inventory.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
