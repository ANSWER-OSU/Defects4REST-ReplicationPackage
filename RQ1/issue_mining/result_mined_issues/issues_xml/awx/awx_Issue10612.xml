<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10612</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/10612</ISSUEURL>
  <TITLE>Login redirect override URL no longer accepts relative URL paths</TITLE>
  <DESCRIPTION>### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary cc: @jakemcdermott @nixocio Previously the older UI used not to enforce a full formatted URL for the `Login redirect override URL` field, which allowed the user to have the field formatted as follows: ![image](https://user-images.githubusercontent.com/809840/124977022-fe3c0b80-dffd-11eb-851e-85d3cfa83f2e.png) Please note that even without a full URL, the login redirect still works as AWX will use the `baseURL` to compose the URL. ### AWX version devel ### Installation method openshift ### Modifications no ### Ansible version latest ### Operating system CentOS ### Web browser Chrome ### Steps to reproduce If you don't want to install an old version and upgrade it, use the `awx-manage` to set the field as follow: ```python bash-4.4$ awx-manage shell_plus --quiet Python 3.8.6 (default, Jan 29 2021, 17:38:16) [GCC 8.4.1 20200928 (Red Hat 8.4.1-1)] on linux Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. (InteractiveConsole) &gt;&gt;&gt; settings.LOGIN_REDIRECT_OVERRIDE = '/sso/login/saml/?idp=SSO' &gt;&gt;&gt; settings.LOGIN_REDIRECT_OVERRIDE '/sso/login/saml/?idp=SSO' ``` Now visit the webUI at `Settings` --&gt; `Miscellaneous Authentication settings` and the field will look like: ![image](https://user-images.githubusercontent.com/809840/124977580-a3ef7a80-dffe-11eb-87bd-fbdecb7d99bd.png) Now click on edit and try to save without modifying anything and the error will be triggered ![image](https://user-images.githubusercontent.com/809840/124977665-c1bcdf80-dffe-11eb-951e-66fa3f3e3e9c.png) ### Expected results * Since the new UI field enforces a full URL path `https://xxxxxxx//sso/login/saml/?idp=SSO`, the field should detect if the value is not a full URL and then use the baseURL + the current value to be transparent for the user. ### Actual results Cannot move forward without manually modifying the field. ### Additional information _No response_</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #10607 from AlanCoding/unused_exception Remove unused exception about custom venvs random cleanup Reviewed-by: Bianca Henderson &lt;beeankha@gmail.com&gt;</MESSAGE>
    <SHA>68e309ee3281eb725f38b88ffa84959e1c007937</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Update login redirect to a be text input field Update login redirect to a be text input field. Allowing values like `/sso/login/saml/?idp=SSO` closes: https://github.com/ansible/awx/issues/10612</MESSAGE>
      <SHA>70ec4b915cae128fd3c75e73803ee8c268797348</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/Setting/MiscAuthentication/MiscAuthenticationEdit/MiscAuthenticationEdit.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #10622 from nixocio/ui_issue_10612 Update login redirect to a be text input field Update login redirect to a be text input field. Allowing values like /sso/login/saml/?idp=SSO closes: #10612 Reviewed-by: Jake McDermott &lt;yo@jakemcdermott.me&gt; Reviewed-by: Sarah Akus &lt;sakus@redhat.com&gt;</MESSAGE>
      <SHA>5f916e623722ef63e57158b93cb527dc5e517865</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/screens/Setting/MiscAuthentication/MiscAuthenticationEdit/MiscAuthenticationEdit.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
