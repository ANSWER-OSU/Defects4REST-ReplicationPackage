<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>10990</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/10990</ISSUEURL>
  <TITLE>awx reports identical UUIDs for instances</TITLE>
  <DESCRIPTION>### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Fresh deployment of awx with three hybrid nodes shows that all three instances have the same UUID. Related ansible-runner mechanism for generating uuid: https://github.com/ansible/ansible-runner/blob/devel/ansible_runner/utils/capacity.py#L24 ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce out-of-the box deployment with 3 hybrid nodes ### Expected results Unique UUIDs for each instance. ### Actual results Identical UUIDs: https://gist.github.com/jladdjr/375a2207a5be9599798eec6384660ef6 ### Additional information _No response_</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Remove unnecessary usage of set_fact. Thanks @samdoran!</MESSAGE>
    <SHA>cac0c07779aebe994df626e561f55304d48214b1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>72c687bd64c99b83011ca1ca5989188e5c32572c</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>ec3ecc8297ff9556cf88360053082abdb77ddc6f</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>0152863381bfda441e62226146788eea572f75cf</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>e0488bde3aacb047a30288127da2d778b8b978c8</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>f02099e8b74474b4a21a0f92859f4e515aadd01b</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>a39fad46794749438a29b0c016a7c5ee3b11304a</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>provision_instance should create new uuid if needed .. instead of default to current system's UUID related: #10990</MESSAGE>
      <SHA>7328a519a583d46e15160659273a94f33e2b9139</SHA>
      <PATCHEDFILES>
        <FILE>awx/main/management/commands/provision_instance.py</FILE>
        <FILE>awx/main/managers.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
