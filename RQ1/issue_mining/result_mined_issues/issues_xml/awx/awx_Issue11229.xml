<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>11229</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/11229</ISSUEURL>
  <TITLE>Ansible collection - job_template module unable to update survey spec</TITLE>
  <DESCRIPTION>### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Using the job_template module, I am unable to update/add/delete &quot;survey_spec.spec&quot;, when I only change the &quot;survey_spec.spec&quot; and nothing else. If some other JobTemplate property changes, everthing works fine and the survey will update as well. ### AWX version 19.2.2 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce only add a single survey question with the job_template module to an existing job template ### Expected results survey should have a new survey question and the task should be marked as changed ### Actual results The new question is in the task output, but it is not added to the job template and the task is not marked as changed. ### Additional information _No response_</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>146</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #11218 from kialam/revert-pf-upgrade Roll back PF deps upgrade to re-enable select input typing.</MESSAGE>
    <SHA>d1800aa6d0e4e2972fa33fe0967f1f84884b9fa9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>related #11229 consider previous set json_output changed in controller_api job_template module sets self.json_output['changed'] to true before calling create_or_update_if_needed. Signed-off-by: Nico Ohnezat &lt;nico@no-12.net&gt;</MESSAGE>
      <SHA>61c9a1055354c5113fa64bc46ac914399e27d6b0</SHA>
      <PATCHEDFILES>
        <FILE>awx_collection/plugins/module_utils/controller_api.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>related #11229 consider previous set json_output changed in controller_api job_template module sets self.json_output['changed'] to true before calling create_or_update_if_needed. Signed-off-by: Nico Ohnezat &lt;nico@no-12.net&gt;</MESSAGE>
      <SHA>815ef4c9c9fed4455cc8b151a9f28919763d6e45</SHA>
      <PATCHEDFILES>
        <FILE>awx_collection/plugins/module_utils/controller_api.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>related #11229 consider previous set json_output changed in controller_api job_template module sets self.json_output['changed'] to true before calling create_or_update_if_needed. Signed-off-by: Nico Ohnezat &lt;nico@no-12.net&gt;</MESSAGE>
      <SHA>f1d339d57ca1c94bc03c425d5b7d2a01f179df4d</SHA>
      <PATCHEDFILES>
        <FILE>awx_collection/plugins/module_utils/controller_api.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>related #11229 consider previous set json_output changed in controller_api job_template module sets self.json_output['changed'] to true before calling create_or_update_if_needed. Signed-off-by: Nico Ohnezat &lt;nico@no-12.net&gt;</MESSAGE>
      <SHA>5fdc565f4c2c33d27b313d1d5ea079a70a9cf27a</SHA>
      <PATCHEDFILES>
        <FILE>awx_collection/plugins/module_utils/controller_api.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
