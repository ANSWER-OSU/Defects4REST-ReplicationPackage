<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4567</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/4567</ISSUEURL>
  <TITLE>CLI: human output with filter throws error for keys that have complex values (dictionaries, lists)</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY &lt;!-- Briefly describe the problem. --&gt; These two endpoints serve up slightly different information and both have trouble with passing a filter for the human output. Might consider if we can support it at all (I would be fine if we want to prevent it from these two endpoints until https://github.com/ansible/awx/issues/4566 is handled.) ##### STEPS TO REPRODUCE &lt;!-- Please describe exactly how to reproduce the problem. --&gt; ``` awx settings list -f human --filter &quot;AD_HOC_COMMANDS&quot; 'list' object has no attribute 'ljust' ``` also same error: ``` awx metrics -f human --filter 'awx_system_info' 'PseudoNamespace' has no attribute 'ljust' ``` same error: ``` awx projects list -f human --filter 'summary_fields' 'PseudoNamespace' has no attribute 'ljust' ``` ##### EXPECTED RESULTS &lt;!-- What did you expect to happen when running the steps above? --&gt; Something that is a little bit more human readable (nice whitespace or something) ``` $ awx metrics -f jq --filter '.awx_system_info' {&quot;labels&quot;: {&quot;ansible_version&quot;: &quot;2.9.0.dev0&quot;, &quot;external_logger_enabled&quot;: &quot;False&quot;, &quot;external_logger_type&quot;: &quot;None&quot;, &quot;insights_analytics&quot;: &quot;False&quot;, &quot;install_uuid&quot;: &quot;65061383-1f89-4ecd-b87c-b0dfe6d779d3&quot;, &quot;license_expiry&quot;: &quot;0&quot;, &quot;license_type&quot;: &quot;open&quot;, &quot;pendo_tracking&quot;: &quot;off&quot;, &quot;tower_url_base&quot;: &quot;https://towerhost&quot;, &quot;tower_version&quot;: &quot;6.1.0-284-g045578ce2&quot;}, &quot;value&quot;: 1} $ awx settings list -f jq --filter &quot;.AD_HOC_COMMANDS&quot; [&quot;command&quot;, &quot;shell&quot;, &quot;yum&quot;, &quot;apt&quot;, &quot;apt_key&quot;, &quot;apt_repository&quot;, &quot;apt_rpm&quot;, &quot;service&quot;, &quot;group&quot;, &quot;user&quot;, &quot;mount&quot;, &quot;ping&quot;, &quot;selinux&quot;, &quot;setup&quot;, &quot;win_ping&quot;, &quot;win_service&quot;, &quot;win_updates&quot;, &quot;win_group&quot;, &quot;win_user&quot;] ````</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #4557 from jlmitch5/fixPopoverClick fix regression where clicking inside popover closed it Reviewed-by: https://github.com/apps/softwarefactory-project-zuul</MESSAGE>
    <SHA>e19035079e75f64d4ec3825dbdb22971931e8b7e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>cli: fix a bug when printing complex data structures w/ -f human see: https://github.com/ansible/awx/issues/4567</MESSAGE>
      <SHA>0e5adfe5f08edc584d0a5832c4db833ed9275358</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/format.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>cli: fix a bug when printing complex data structures w/ -f human see: https://github.com/ansible/awx/issues/4567</MESSAGE>
      <SHA>1d2edc1d811a831f7448a3ad10161b16dc9650cc</SHA>
      <PATCHEDFILES>
        <FILE>awxkit/awxkit/cli/format.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
