<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5037</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5037</ISSUEURL>
  <TITLE>Failed command was: ( umask 77 &amp;&amp; mkdir -p</TITLE>
  <DESCRIPTION>##### SUMMARY Trying to connect via SSH and getting a error ##### ISSUE TYPE - Bug Report ##### COMPONENT NAME ssh ##### ANSIBLE VERSION ``` Ansible 2.8.5 AWX 7.0.0 ``` ##### OS / ENVIRONMENT CentOS 7 ##### STEPS TO REPRODUCE ``` --- - name: Test hosts: all remote_user: nsroot become: yes become_user: nsroot vars: ansible_ssh_private_key_file: /usr/share/awx/.ssh/id_rsa ansible_shell_executable: shell tasks: - name: Test rol path debug: msg: Path rol - name: Test playbook path debug: msg: Playbook path ``` ##### EXPECTED RESULTS Connection ##### ACTUAL RESULTS ``` &quot;msg&quot;: &quot;Authentication or permission failure. In some cases, you may have been able to authenticate and did not have permissions on the target directory. Consider changing the remote tmp path in ansible.cfg to a path rooted in \&quot;/tmp\&quot;. Failed command was: ( umask 77 &amp;&amp; mkdir -p \&quot;` echo ERROR: Export failed. Check /var/log/ns.log for details./.ansible/tmp/ansible-tmp-1571384925.6129348-198885708601281 `\&quot; &amp;&amp; echo ansible-tmp-1571384925.6129348-198885708601281=\&quot;` echo ERROR: Export failed. Check /var/log/ns.log for details./.ansible/tmp/ansible-tmp-1571384925.6129348-198885708601281 `\&quot; ), exited with result 1, stdout output: Done\nERROR: Export failed. Check /var/log/ns.log for details.\n, stderr output: OpenSSH_7.4p1, OpenSSL 1.0.2k-fips 26 Jan 2017\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 14\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\n-c: not found\nERROR: Export failed. Check /var/log/ns.log for details.\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 1\r\n&quot;, ``` /var/log/ns.log shows this exact same message as well.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #5039 from ansible/backport_awx_ee_org_fix Make ExecutionEnvironment awxkit class able to handle null values in payload</MESSAGE>
    <SHA>c31ae9e47037c22a68a96e617554452a09600b24</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #5037 from ansible/ui_issue_10229 Disable inventory field when editing host</MESSAGE>
      <SHA>639b9b76525eaf7f09642098b3e1c8f51dc0523b</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/HostForm/HostForm.jsx</FILE>
        <FILE>awx/ui_next/src/components/HostForm/HostForm.test.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/InventoryLookup.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/Lookup.jsx</FILE>
        <FILE>awx/ui_next/src/screens/Host/HostEdit/HostEdit.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
