<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9232</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/9232</ISSUEURL>
  <TITLE>AXW Smart Inventory advanced host filter not working at GUI</TITLE>
  <DESCRIPTION>##### COMPONENT NAME - UI ##### SUMMARY &lt;!-- Briefly describe the problem. --&gt; ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux, * Ansible version: 2.9.17 * Operating System: CentOS7 * Web Browser: Firefox 84.0.2 ##### STEPS TO REPRODUCE tried to create a smart inventory with advanced type host filter like: name__exact=localhost or name__regex=b[12]-worker when defining the filter the host are selected fine. After pressing &quot;Select&quot; and returning to the particular inventorys details edit window and the smart host filter field is empty. Now when pressing save I get &quot;An server error has occurred&quot; If I define the filter through the API it works POST /api/v2/inventories/ { &quot;name&quot;: &quot;testinventory&quot;, &quot;description&quot;: &quot;&quot;, &quot;organization&quot;: 2, &quot;kind&quot;: &quot;&quot;, &quot;host_filter&quot;: &quot;name__regex=b[12]-worker or name__exact=localhost&quot;, &quot;variables&quot;: &quot;&quot;, &quot;insights_credential&quot;: null } ##### EXPECTED RESULTS I expect the that the constucted filter is accepted after pressing &quot;Select&quot; ##### ACTUAL RESULTS GUI unusable to create smart inventories using advanced host filters ##### ADDITIONAL INFORMATION I saw a similar issue raised in 2018 which is tagged as closed but it seems not to be the case</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>124</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #8763 from wenottingham/licenses-to-kill Restore UI license checker 27219d3 removed the license checker for UI dependencies as part of removing the UI. We actually still need it, just pointed at the new UI. This brings it back, and updates it to do so. It also removes no longer needed license files. It doesn't pass yet, as I haven't added licenses for the new UI dependencies in this PR. Hi @jakemcdermott. Reviewed-by: Jake McDermott &lt;yo@jakemcdermott.me&gt;</MESSAGE>
    <SHA>a0b14b994dc0cd6e6f3e5a49298c3b391bd839fe</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix usage of conditional operators for advanced search for Smart Inventories Fix usage of conditional operators for advanced search for Smart Inventories See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>8b7375523de0b3faf9a2f2df9ea705839d0d17c1</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>2ee6d2c6dbd467548991d3c0b8068a39bc00d587</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>d29c3588ed38662c3a40738217e9e367f6f0ca8b</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>625624df61f97fd4a5a6c51db3f7e14cbb398456</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>b08a816f92efe1ead99f55ed00568507e4ad4774</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories Not is not supported yet - See: https://github.com/ansible/awx/issues/2817 See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>458b89477b4c0bd97bd7e293b2da4bcde54985fc</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories Not is not supported yet - See: https://github.com/ansible/awx/issues/2817 See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>324b660710461ae608f5c3caed28c694a2424dab</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update advanced search for Smart Inventories Update usage of conditional operators for advanced search for Smart Inventories Not is not supported yet - See: https://github.com/ansible/awx/issues/2817 See: https://github.com/ansible/awx/issues/9232</MESSAGE>
      <SHA>3cf2171adb8f58e2b4d53ac7fd0c2f9761617b77</SHA>
      <PATCHEDFILES>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.jsx</FILE>
        <FILE>awx/ui_next/src/components/Lookup/shared/HostFilterUtils.test.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
