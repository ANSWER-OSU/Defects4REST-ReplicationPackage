<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5099</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/5099</ISSUEURL>
  <TITLE>Default for webhook_service is not in field choices and not accepted</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY The OPTIONS for job_templates is not self-consistent for the field `webhook_service`. This breaks the `tower-cli send` command, assuming the data comes from the receive command. A hack is in progress for this, but it would be better to change behavior from API moving forward. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: N/A * Ansible version: N/A * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Of particular interest here is the sequence of `tower-cli receive`, saving that to a file, and using it in `tower-cli send`. ##### EXPECTED RESULTS Data given from the API is consistent with OPTIONS ##### ACTUAL RESULTS OPTIONS for job_templates gives ```json &quot;webhook_service&quot;: { &quot;type&quot;: &quot;choice&quot;, &quot;label&quot;: &quot;Webhook service&quot;, &quot;help_text&quot;: &quot;Service that webhook requests will be accepted from&quot;, &quot;filterable&quot;: true, &quot;choices&quot;: [ [ &quot;github&quot;, &quot;GitHub&quot; ], [ &quot;gitlab&quot;, &quot;GitLab&quot; ] ] ``` The receive command always gives `webhook_credential` in the asset data because it has no default. Without a default, it cannot be determined if the field has been set. The send command gives ``` JOB TEMPLATE [SRtest] *************************************************************************************************************************************************************** Value is not a valid choice for option webhook_service for job_template SRtest. Options: ['github', 'GitHub', 'gitlab', 'GitLab'] ``` ##### ADDITIONAL INFORMATION https://github.com/ansible/tower-cli/pull/741 Ping @jbradberry, @john-westcott-iv In terms of CLI design in general, @ryanpetrello I find the ability to determine if a field has a non-default value is a powerful tool. This is one of the things I most like about the send/receive commands. I would even prefer that for compact representations of resources for human consumption.</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>125</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #5102 from AlexSCorey/9226-fix Adds verbosity to payload</MESSAGE>
    <SHA>aee69c2980255c09b1da8f956127a6c4b5258393</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #5099 from Spredzy/sos_plugin Expand sos report plugin compatibility</MESSAGE>
      <SHA>1080ac41f43cf4696deced837ea15b9e107bd992</SHA>
      <PATCHEDFILES>
        <FILE>tools/sosreport/tower.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
