<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4664</ISSUENO>
  <ISSUEURL>https://github.com/ansible/awx/issues/4664</ISSUEURL>
  <TITLE>6.1.0.0 -&gt; 7.0.0 Breaks SAML login due to 'saml_auditor_attr'</TITLE>
  <DESCRIPTION>##### ISSUE TYPE - Bug Report ##### SUMMARY Login with SAML fails after upgrade to `7.0.0` due to missing `saml_auditor_attr` in settings. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: openshift manual deployment * Ansible version: 2.8.4 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE This should be identical when using docker-compose, as our manual AWX OpenShift instance is more or less identical to the docker-compose version. Have a AWX instance running in OpenShift manually deployed. Upgrade to new version by pushing new images to ImageStream, let migrations run and deployment finish. Attempt to login with existing SAML login that utilizes the `SOCIAL_AUTH_SAML_ORGANIZATION_ATTR` setting. ##### EXPECTED RESULTS AWX is updated to 7.0.0 and login still works as normal. ##### ACTUAL RESULTS Login failed with error `saml_auditor_attr` ##### ADDITIONAL INFORMATION Seems related to this: https://github.com/ansible/awx/pull/3623 ##### WORKAROUND Add the `saml_auditor_attr` with a value manually to the Database in table `conf_settings` in row `SOCIAL_AUTH_SAML_ORGANIZATION_ATTR`</DESCRIPTION>
  <REPONAME>awx</REPONAME>
  <TIMEDIFFERENCEDAYS>32</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #4661 from ansible/fix-flake8_3.8.0 fix flake8</MESSAGE>
    <SHA>cd9838d579d6c4ce746b041bbec2bad0abcdada4</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #4664 from ryanpetrello/pin-collections-requirements pin known working collections in 3.8.0</MESSAGE>
      <SHA>35eda3a9a75b48b266b721b2c0f639437c7cb30d</SHA>
      <PATCHEDFILES>
        <FILE>requirements/collections_requirements.yml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
