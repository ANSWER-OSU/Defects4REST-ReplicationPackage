<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>89</ISSUENO>
  <ISSUEURL>https://github.com/snarfed/granary/issues/89</ISSUEURL>
  <TITLE>twitter: update char counting to ignore @-mentions and media links</TITLE>
  <DESCRIPTION>twitter announced today that they'll eventually stop counting @-mentions, media links, and quote tweet links toward the 140 char limit. https://blog.twitter.com/express-even-more-in-140-characters https://blog.twitter.com/2016/doing-more-with-140-characters https://dev.twitter.com/overview/api/upcoming-changes-to-tweets we'll need to update our char counting in twitter's `create` to match. no word on date yet.</DESCRIPTION>
  <REPONAME>granary</REPONAME>
  <TIMEDIFFERENCEDAYS>134</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>app: drop unnecessary bootstrap-theme.min.css</MESSAGE>
    <SHA>daee38d2ff1134ec62ed047f24e38fea36b74597</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>twitter: upgrade to brevity 0.2.11 for extended tweet char counting in create() for #89. cc kylewm/brevity@ea2130f4e2b9cbc9ec376b9d002d871759c6be27</MESSAGE>
      <SHA>ae567aae9990317c3060e39fd05551d2d3f32bde</SHA>
      <PATCHEDFILES>
        <FILE>granary/test/test_twitter.py</FILE>
        <FILE>granary/twitter.py</FILE>
        <FILE>requirements.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>twitter create: extended tweets: don't require @-mentions in replies instead, use the new auto_populate_reply_metadata=true query param. for #89 https://dev.twitter.com/overview/api/upcoming-changes-to-tweets</MESSAGE>
      <SHA>c7aad33648ed683d64976388216db7b97000cc3a</SHA>
      <PATCHEDFILES>
        <FILE>granary/test/test_twitter.py</FILE>
        <FILE>granary/twitter.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>twitter extended tweets: add in-reply-to user mentions to AS 'to' field #89</MESSAGE>
      <SHA>479eb1f44f3b78cbca813567482a07bede51d7e4</SHA>
      <PATCHEDFILES>
        <FILE>granary/test/test_twitter.py</FILE>
        <FILE>granary/twitter.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
