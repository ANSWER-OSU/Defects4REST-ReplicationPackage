<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1676</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/1676</ISSUEURL>
  <TITLE>Oracle as database has SQL error in flowable.oracle.upgradestep.6410.to.6411.entitylink.sql</TITLE>
  <DESCRIPTION>When the flowable-task service is started by default, the schema is upgraded, but the following exception message is generated: `FlowableException: couldn't upgrade db schema: alter table ACT_RU_ENTITYLINK add column HIERARCHY_TYPE_ NVARCHAR2(255) ORA-00904 Invalid Ddentifier` Because the SQL in flowable-entitylink-service-6.4.1.jar(org\flowable\entitylink\service\db\upgrade\flowable.oracle.upgradestep.6410.to.6411.entitylink.sql) is: alter table ACT_HI_ENTITYLINK add column HIERARCHY_TYPE_ NVARCHAR2(255); In Oracle it should be: alter table ACT_HI_ENTITYLINK add HIERARCHY_TYPE_ NVARCHAR2(255);</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix issue with terminate case instance event subscription delete order</MESSAGE>
    <SHA>f3c20f8d2b34e54473d3a83e37debe23e50da330</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix Oracle upgrade script for entity links: #1676</MESSAGE>
      <SHA>28eff298fe34016576f4228b62140a2f4ccd1c78</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-entitylink-service/src/main/resources/org/flowable/entitylink/service/db/upgrade/flowable.oracle.upgradestep.6410.to.6411.entitylink.history.sql</FILE>
        <FILE>modules/flowable-entitylink-service/src/main/resources/org/flowable/entitylink/service/db/upgrade/flowable.oracle.upgradestep.6410.to.6411.entitylink.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
