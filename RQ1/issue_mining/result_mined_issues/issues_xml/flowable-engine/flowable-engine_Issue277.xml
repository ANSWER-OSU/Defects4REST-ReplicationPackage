<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>277</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/277</ISSUEURL>
  <TITLE>Sequenceflows are not stored correctly when they belong to subprocess who is inside a collapsed subprocess.</TITLE>
  <DESCRIPTION>Hi all, There is a problem with the storage of sequenceflows json generated by the bpmn modeler (javascript) It is reproduceable with the following steps: 1) in the root process add a colapsed subprocess. 2) inside the collapsed subprocess add a subprocess. 3) inside the subprocess add an startevent -&gt; sequenceflow -&gt; endevent. The sequence flow should be a child of sub process but the modeler saves it as a child of the collapsed subprocess. This leads to problems when deploying. The sequence flows are duplicated by the json -&gt; java. @tijsrademakers I am investigating and attempting to fix this.</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>14</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Update stencilset.json Changed icon of node with id &quot;EventGateway&quot;, to a correct SVG icon</MESSAGE>
    <SHA>ca95fdcf675ed24956ab418ebdda2164f9cb67fc</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix for #277 * now removing sequenceflows if they assigned to a subprocess. * added test to verify</MESSAGE>
      <SHA>7a6ca92ca53802b2efcaf1155181c9e8a9c10994</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-json-converter/src/main/java/org/activiti/editor/language/json/converter/BpmnJsonConverter.java</FILE>
        <FILE>modules/flowable-json-converter/src/test/java/org/activiti/editor/language/CollapsedSubWithSubSequenceFlowTest.java</FILE>
        <FILE>modules/flowable-json-converter/src/test/resources/test.cswesfs.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
