<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2059</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/2059</ISSUEURL>
  <TITLE>Unexpected Nullpointer returned</TITLE>
  <DESCRIPTION>**Describe the bug** In the file `modules/flowable-spring-boot/flowable-spring-boot-starters/flowable-spring-boot-autoconfigure/src/main/java/org/flowable/spring/boot/environment/FlowableLiquibaseEnvironmentPostProcessor.java` on line the methode `SpringBootVersion.getVersion()` is called and expected to return a string. However, this class is able to determine the Spring Boot version in all environments - as described in the [Docs](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringBootVersion.html) This goes unchecked and can cause a nullPointerException **Expected behavior** A clear and concise description of what you expected to happen. Handle the return of a null value like in the file `modules/flowable-spring-boot/flowable-spring-boot-starters/flowable-spring-boot-autoconfigure/src/main/java/org/flowable/spring/boot/environment/FlowableDefaultPropertiesEnvironmentPostProcessor.java`, for example using this code: ``` protected String getLiquibaseProperty() { String liquibaseProperty = &quot;liquibase.enabled&quot;; String springBootVersion = SpringBootVersion.getVersion(); if (springBootVersion != null &amp;&amp; springBootVersion.startsWith(&quot;2&quot;)) { liquibaseProperty = &quot;spring.&quot; + liquibaseProperty; } return liquibaseProperty; } ``` Or wrap this in a try-catch block **Additional resources** [SpringBootVersion Documentation](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringBootVersion.html)</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Replace usages of deprecated IOUtils method * Replace IOUtils#toString(String) with IOUtils#toString(String, Charset) or use AssertJ hasContent in tests * Replace IOUtils#write(String, OutputStream) with IOUtils#write(String, OutputStream, Charset)</MESSAGE>
    <SHA>0094ceb3697bfdc14e847466145775b9827bee40</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix unexpected NPE when SpringBootVersion#getVersion() returns null Fixes #2059</MESSAGE>
      <SHA>11aff8d4fc48ac117037bb836ce0b28b91bf88ea</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-spring-boot/flowable-spring-boot-starters/flowable-spring-boot-autoconfigure/src/main/java/org/flowable/spring/boot/environment/FlowableLiquibaseEnvironmentPostProcessor.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
