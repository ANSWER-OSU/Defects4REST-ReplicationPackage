<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1415</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/1415</ISSUEURL>
  <TITLE>Admin: state change and process migration mapping values grow without refresh</TITLE>
  <DESCRIPTION>I am exploring the Change State and Process Instance Migration features and I noticed that if I do not refresh the screen or logout/login, the values remain in the session and accumulate. Since the &quot;Change state&quot; button doesn't appear until the relevant source and target tasks are selected each time, I expected the selected values would be cleared if I closed the dialog without changing the state. The same is true for process migration. Since the &quot;Add mapping&quot; button only shows when the source and target tasks are selected, I would not expect previous selections to show. However, when I select the &quot;Add mapping&quot; button without refreshing, I see multiple mappings (previous and current): Mapping 1 from (Task A) to (Task A) - Mapping 2 from (Task A) to (Task A) I cannot see the multiple values for state change, but both migration and state change display multiple confirmation dialogs (one for each mapping) when this issue occurs. The migration fails, but the state change succeeds. Either way, errors in the log show that certain values were not valid or found. My UI experience is limited, so I do not know how to fix this issue.</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>46</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>flowable-1415 hide state/migration buttons after execution (#1433)</MESSAGE>
    <SHA>99fc41ed6ae9a9ae4dd3178d964ff45543f554f5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #1415 for change state and migration dialog buttons</MESSAGE>
      <SHA>a11f1a1dff56441689df68e82909fbf0dad8d7fe</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-ui-admin/flowable-ui-admin-app/src/main/resources/static/display/displaymodel.html</FILE>
        <FILE>modules/flowable-ui-admin/flowable-ui-admin-app/src/main/resources/static/scripts/process-instance-controllers.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
