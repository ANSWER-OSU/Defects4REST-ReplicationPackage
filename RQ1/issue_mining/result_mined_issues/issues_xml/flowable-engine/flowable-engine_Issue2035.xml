<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2035</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/2035</ISSUEURL>
  <TITLE>Case Query API does not support identityLinks</TITLE>
  <DESCRIPTION>**Is your feature request related to a problem? Please describe.** I would like to search for cases with a specific assignee with the Java API. `createHistoricCaseInstanceQuery().involvedUser(userId)`searches for any identityLink and does not allow filtering for a specific identityLink type like e.g. the assignee. **Describe the solution you'd like** Extend the API to allow to query for specific identityLink types like e.g. `createHistoricCaseInstanceQuery().involvedUser(userId, IdentityLinkType.ASSIGNEE)` **Additional context** Same might apply to `involvedGroups()? Not sure about that...</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>136</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Change to DB version 6.5.1.2 + fix failing task log entry test</MESSAGE>
    <SHA>452a8c1f97025f7d1199aca78b8bf84afba01214</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add support to query for identity links with type: #2035</MESSAGE>
      <SHA>23cf91c816d6935a9b2f9dca059b6261d3fdde68</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-cmmn-api/src/main/java/org/flowable/cmmn/api/history/HistoricCaseInstanceQuery.java</FILE>
        <FILE>modules/flowable-cmmn-api/src/main/java/org/flowable/cmmn/api/runtime/CaseInstanceQuery.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/IdentityLinkQueryObject.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/history/HistoricCaseInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/runtime/CaseInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/resources/org/flowable/cmmn/db/mapping/entity/CaseInstance.xml</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/resources/org/flowable/cmmn/db/mapping/entity/HistoricCaseInstance.xml</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/history/CmmnHistoryServiceTaskLogTest.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/history/HistoricCaseInstanceQueryImplTest.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/runtime/CaseInstanceQueryImplTest.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/history/HistoricProcessInstanceQuery.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/ExecutionQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/HistoricProcessInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/IdentityLinkQueryObject.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/ProcessInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/runtime/ProcessInstanceQuery.java</FILE>
        <FILE>modules/flowable-engine/src/main/resources/org/flowable/db/mapping/entity/Execution.xml</FILE>
        <FILE>modules/flowable-engine/src/main/resources/org/flowable/db/mapping/entity/HistoricProcessInstance.xml</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/flowable/engine/test/api/history/HistoricProcessInstanceQueryTest.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/flowable/engine/test/api/runtime/ProcessInstanceQueryTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add support to query for identity links with type: #2035</MESSAGE>
      <SHA>86310321b9003856008103d31db1f89f1d0e8443</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-cmmn-api/src/main/java/org/flowable/cmmn/api/history/HistoricCaseInstanceQuery.java</FILE>
        <FILE>modules/flowable-cmmn-api/src/main/java/org/flowable/cmmn/api/runtime/CaseInstanceQuery.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/IdentityLinkQueryObject.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/history/HistoricCaseInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/runtime/CaseInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/resources/org/flowable/cmmn/db/mapping/entity/CaseInstance.xml</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/resources/org/flowable/cmmn/db/mapping/entity/HistoricCaseInstance.xml</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/history/CmmnHistoryServiceTaskLogTest.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/history/HistoricCaseInstanceQueryImplTest.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/runtime/CaseInstanceQueryImplTest.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/history/HistoricProcessInstanceQuery.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/ExecutionQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/HistoricProcessInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/IdentityLinkQueryObject.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/ProcessInstanceQueryImpl.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/runtime/ProcessInstanceQuery.java</FILE>
        <FILE>modules/flowable-engine/src/main/resources/org/flowable/db/mapping/entity/Execution.xml</FILE>
        <FILE>modules/flowable-engine/src/main/resources/org/flowable/db/mapping/entity/HistoricProcessInstance.xml</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/flowable/engine/test/api/history/HistoricProcessInstanceQueryTest.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/flowable/engine/test/api/runtime/ProcessInstanceQueryTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
