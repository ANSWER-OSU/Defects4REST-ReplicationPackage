<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2860</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/2860</ISSUEURL>
  <TITLE>The Flowable 6.6.0 BpmnXMLConverter doesn't write out data association model nodes</TITLE>
  <DESCRIPTION>**Describe the bug** Converting a model that contains service tasks with dataInput and/or dataOutput associations generates XML that is missing the corresponding elements **Expected behavior** The XML should contain the elements **Code** sample input: ```xml &lt;serviceTask id=&quot;functionTask_1&quot; name=&quot;Function_Task_1&quot; flowable:class=&quot;com.fico.dmp.bpmn.contrib.common.delegates.CallDMPFunctionDelegate&quot;&gt; &lt;extensionElements&gt; &lt;flowable:field name=&quot;functionId&quot;&gt; &lt;flowable:string&gt;&lt;![CDATA[${functionId}]]&gt;&lt;/flowable:string&gt; &lt;/flowable:field&gt; &lt;flowable:field name=&quot;inputBindingFunctionId&quot;&gt; &lt;flowable:string&gt;&lt;![CDATA[${inputBindingFunctionId]]&gt;&lt;/flowable:string&gt; &lt;/flowable:field&gt; &lt;flowable:field name=&quot;outputBindingFunctionId&quot;&gt; &lt;flowable:string&gt;&lt;![CDATA[${outputBindingFunctionId}]]&gt;&lt;/flowable:string&gt; &lt;/flowable:field&gt; &lt;/extensionElements&gt; &lt;dataInputAssociation id=&quot;dataAssociation-inputObject&quot;&gt; &lt;sourceRef&gt;inputObject_1&lt;/sourceRef&gt; &lt;targetRef&gt;functionTask_1&lt;/targetRef&gt; &lt;/dataInputAssociation&gt; &lt;dataOutputAssociation id=&quot;dataAssociation-outputObject&quot;&gt; &lt;sourceRef&gt;functionTask_1&lt;/sourceRef&gt; &lt;targetRef&gt;outputObject_1&lt;/targetRef&gt; &lt;/dataOutputAssociation&gt; &lt;/serviceTask&gt; ``` The model is parsed correctly: ```json &quot;dataInputAssociations&quot;: [ { &quot;id&quot;: &quot;dataAssociation-inputObject&quot;, &quot;xmlRowNumber&quot;: 49, &quot;xmlColumnNumber&quot;: 7, &quot;extensionElements&quot;: { }, &quot;attributes&quot;: { }, &quot;sourceRef&quot;: &quot;inputObject_1&quot;, ``` However invoking converter.convertToXML(model) on that model generates a service task w/o the associations.</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>136</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix issue with writing extension element for reactivation listener</MESSAGE>
    <SHA>eec4e43e184c46723e354999622965619686db73</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2860: The Flowable 6.6.0 BpmnXMLConverter doesn't write out data association model nodes</MESSAGE>
      <SHA>98be4f54fa4584491a76ff560cacb3701f2439ac</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-bpmn-converter/src/main/java/org/flowable/bpmn/converter/BaseBpmnXMLConverter.java</FILE>
        <FILE>modules/flowable-bpmn-converter/src/test/java/org/flowable/editor/language/xml/ActivityWithDataAssociationsConverterTest.java</FILE>
        <FILE>modules/flowable-bpmn-converter/src/test/resources/activityWithDataAssociations.bpmn</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Export Activity Data Associations Closes PR #2956 Closes Issue #2860</MESSAGE>
      <SHA>877125be7f258f3c3675d0398f69e9bb8ad5e40a</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-bpmn-converter/src/main/java/org/flowable/bpmn/converter/BaseBpmnXMLConverter.java</FILE>
        <FILE>modules/flowable-bpmn-converter/src/test/java/org/flowable/editor/language/xml/DataAssociationConverterTest.java</FILE>
        <FILE>modules/flowable-bpmn-converter/src/test/resources/activityWithDataAssociations.bpmn</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Export Activity Data Associations Closes PR #2956 Closes Issue #2860</MESSAGE>
      <SHA>a92944d70d6453898127088c21b266d3dd397f2b</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-bpmn-converter/src/main/java/org/flowable/bpmn/converter/BaseBpmnXMLConverter.java</FILE>
        <FILE>modules/flowable-bpmn-converter/src/test/java/org/flowable/editor/language/xml/DataAssociationConverterTest.java</FILE>
        <FILE>modules/flowable-bpmn-converter/src/test/resources/activityWithDataAssociations.bpmn</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
