<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2937</ISSUENO>
  <ISSUEURL>https://github.com/flowable/flowable-engine/issues/2937</ISSUEURL>
  <TITLE>Support setting default Charset for the MailActivityBehaviour</TITLE>
  <DESCRIPTION>Add `mailServerDefaultCharset` that can be used if no charset is configured for the `MailActivityBehvaiour`. This is similar to what is done with the `mailServerForceTo`. The property should be a `Charset` property in order to make sure that the application is correctly configured from the start. In addition to adding this property to `ProcessEngineConfiguration` and CmmnEngineConfiguration` the property needs to be added to the `MailServerInfo` and `FlowableMailProperties`, the latter is for the Spring Boot properties. This issue is a good issue meant for contributors that are willing to contribute to the Flowable codebase.</DESCRIPTION>
  <REPONAME>flowable-engine</REPONAME>
  <TIMEDIFFERENCEDAYS>82</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>2937 - processed feedback partially - Replaced optional with charset - Added mapping tests for autoconfiguration.</MESSAGE>
    <SHA>7dd8ecd4716214b5a49650fd2d983dbd2186460c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2937 - Fixed failing test when an non existing tentantid is provided. If a default charset should be used if one is configured. - Added test to verify charset of the mail.</MESSAGE>
      <SHA>6d5aeb2755750f63fee92aa6785e1d2331a07e21</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/bpmn/behavior/MailActivityBehavior.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/flowable/engine/test/bpmn/mail/EmailServiceTaskTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#2937 - added mailDefaultCharset support to cmmn engine &amp; mailtasks</MESSAGE>
      <SHA>0175f27c61d0efeb5f8ceb302cb834e5db86ed3e</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/CmmnEngineConfiguration.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/behavior/impl/MailActivityBehavior.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Support setting default Charset for the MailActivityBehaviour Closes #2937 Closes #2979</MESSAGE>
      <SHA>fa31c5e470ee83f81facbb97928126ce7f2d906c</SHA>
      <PATCHEDFILES>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/CmmnEngineConfiguration.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/main/java/org/flowable/cmmn/engine/impl/behavior/impl/MailActivityBehavior.java</FILE>
        <FILE>modules/flowable-cmmn-engine/src/test/java/org/flowable/cmmn/test/task/CmmnMailTaskTest.java</FILE>
        <FILE>modules/flowable-engine-common/src/main/java/org/flowable/common/engine/impl/cfg/mail/MailServerInfo.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/ProcessEngineConfiguration.java</FILE>
        <FILE>modules/flowable-engine/src/main/java/org/flowable/engine/impl/bpmn/behavior/MailActivityBehavior.java</FILE>
        <FILE>modules/flowable-engine/src/test/java/org/flowable/engine/test/bpmn/mail/EmailServiceTaskTest.java</FILE>
        <FILE>modules/flowable-spring-boot/flowable-spring-boot-starters/flowable-spring-boot-autoconfigure/src/main/java/org/flowable/spring/boot/FlowableMailProperties.java</FILE>
        <FILE>modules/flowable-spring-boot/flowable-spring-boot-starters/flowable-spring-boot-autoconfigure/src/main/java/org/flowable/spring/boot/ProcessEngineAutoConfiguration.java</FILE>
        <FILE>modules/flowable-spring-boot/flowable-spring-boot-starters/flowable-spring-boot-autoconfigure/src/test/java/org/flowable/test/spring/boot/process/ProcessEngineAutoConfigurationTest.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
