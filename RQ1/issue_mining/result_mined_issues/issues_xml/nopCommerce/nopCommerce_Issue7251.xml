<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7251</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/7251</ISSUEURL>
  <TITLE>Use valid language in message templates (order tokens)</TITLE>
  <DESCRIPTION>nopCommerce version: 4.70 &quot;AddOrderTokensAsync&quot; method of the \Nop.Services\Messages\MessageTokenProvider.cs does not properly use &quot;languageId&quot; parameter. In some cases tokens are localized with the default (current working) language. For example, &quot;Order.BillingStateProvince&quot;,&quot;Order.BillingCountry&quot;,&quot;Order.ShippingStateProvince&quot;,&quot;Order.ShippingCountry&quot;, &quot;Order.PaymentMethod&quot; Source: https://www.nopcommerce.com/en/boards/topic/99440/language-in-message-templates</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#7249 Disable HTML minification by default</MESSAGE>
    <SHA>5babf8929c2b54e7dc7b182da044e21b113d38a1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#7251 Fixed problems with wrong language in some message templates</MESSAGE>
      <SHA>3d72cede8d7b571ca83dcc197ab173f033e2ba81</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Messages/CampaignService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/ICampaignService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/IMessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/MessageTokenProvider.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/WorkflowMessageService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CampaignController.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/Messages/CampaignServiceTests.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
