<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5872</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5872</ISSUEURL>
  <TITLE>A product attribute value can be removed even if it participates in a product attribute combination</TITLE>
  <DESCRIPTION>nopCommerce version: 4.40 Steps to reproduce the problem: 1. Add a product attribute with a value to any product 2. Create a product attribute combination using this value 3. Remove the value: the product attribute combination lose its name and the &quot;combinations&quot; tab is hidden if it was the only combination Conclusion: a customer should not be able to delete a product attribute value if it participates in a product attribute combination as it's already done for the product attribute itself. Why can't we delete a product attribute because it is used in the combination but we can delete the appropriate value? Looks like a bug.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#2128 Support returnUrl parameter for Change password page (#5868)</MESSAGE>
    <SHA>a7d9b0e44bf3970fefc2ceb1569a455a18a9caa6</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5872 A product attribute value cannot be deleted while it is used in one of the combinations</MESSAGE>
      <SHA>2149d55cf5e717984ea5cc3462e04e9d5706880d</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo450/LocalizationMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ProductController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Shared/Table.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
