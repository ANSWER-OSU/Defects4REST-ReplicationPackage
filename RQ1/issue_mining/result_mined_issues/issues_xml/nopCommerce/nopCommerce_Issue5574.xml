<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5574</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5574</ISSUEURL>
  <TITLE>SmtpBuilder: does not support non SSL/TLS connection?</TITLE>
  <DESCRIPTION>nopCommerce version: 4.40.2 Steps to reproduce the problem: ``` try { await client.ConnectAsync( emailAccount.Host, emailAccount.Port, emailAccount.EnableSsl ? SecureSocketOptions.SslOnConnect : SecureSocketOptions.**StartTlsWhenAvailable**); if (emailAccount.UseDefaultCredentials) { await client.AuthenticateAsync(CredentialCache.DefaultNetworkCredentials); } else if (!string.IsNullOrWhiteSpace(emailAccount.Username)) { await client.AuthenticateAsync(new NetworkCredential(emailAccount.Username, emailAccount.Password)); } return client; } ``` So in the email account settings if we left &quot;Enable SSL&quot; unchecked, as you can see it still fallback to TLS connection? Isn't it suppose to be SecureSocketOptions.None here if we don't want any authentication here?</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>248</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch '4.40-bug-fixes' into develop</MESSAGE>
    <SHA>ecb1bb8eed4d07018d268060a7cbfaea880b2140</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Support non SSL/TLS connections Fixed https://github.com/nopSolutions/nopCommerce/issues/5574</MESSAGE>
      <SHA>4216c9088a3623b9ccb54c489ade303ba39deddc</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Messages/SmtpBuilder.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
