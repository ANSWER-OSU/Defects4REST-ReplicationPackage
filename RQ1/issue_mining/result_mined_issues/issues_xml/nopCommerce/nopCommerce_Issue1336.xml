<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1336</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/1336</ISSUEURL>
  <TITLE>Home Page Categories model cache issue</TITLE>
  <DESCRIPTION>a customer of ours reported an issue, that I tested after that and seemed really odd. When you setup a Home Page Categories panel, then change the dimensions of the images from the Media Settings (Category thumbnail image size) and click Save, nothing actually happens. No matter how many times you refresh the page, the setting doesn't do anything. That is really inconsistent with the way the other Media Settings work and even the rest of the Administration. What fixed it was clicking Clear cache/Restart application and then if you refresh the page you will see the new dimensions of the category images. It turns out that the HomepageCategories action caches the whole list of category models and after the media settings are changed, the model is taken from the cache. I think it is more intuitive to have this settings' effect visible immediately, without the need of something as major as Clear cache/Restart application. Source: http://www.nopcommerce.com/boards/t/41393/home-page-categories-model-cache.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>53</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>XSS issue fixed for the registration result page</MESSAGE>
    <SHA>364091c16bae533a6c00c0f3bd920ed15da25f77</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#1336 Fix Home Page Categories model cache issue</MESSAGE>
      <SHA>7e526cf96e6cbc016e59f35f45c6d6f601a1288c</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Controllers/CatalogController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Infrastructure/Cache/ModelCacheEventConsumer.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1336 Fix Home Page Categories model cache issue</MESSAGE>
      <SHA>cc9646337219e0449140e289fcbe96d32d11f411</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Infrastructure/Cache/ModelCacheEventConsumer.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1336 Fix Home Page Categories model cache issue</MESSAGE>
      <SHA>c0d09c5332267d3166da320eb426489b17fcb5cc</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Controllers/CatalogController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Infrastructure/Cache/ModelCacheEventConsumer.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
