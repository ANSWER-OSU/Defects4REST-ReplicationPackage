<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1970</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/1970</ISSUEURL>
  <TITLE>multiple message problem in _Notifications.cshtml</TITLE>
  <DESCRIPTION>Suppose I have 3 message with type success, AddNotification(Framework.UI.NotifyType.Success, &quot;this is Success 1&quot;, false); AddNotification(Framework.UI.NotifyType.Success, &quot;this is Success 2&quot;, false); AddNotification(Framework.UI.NotifyType.Success, &quot;this is Success 3&quot;, false); According _Notifications.cshtml code, ` @foreach (var message in successMessages) { &lt;script type=&quot;text/javascript&quot;&gt; $(document).ready(function () { displayPopupNotification('@Html.Raw(HttpUtility.JavaScriptStringEncode(message))', 'success', false); }); &lt;/script&gt; } ` we'll generate 3 script block: &lt;script type=&quot;text/javascript&quot;&gt; $(document).ready(function () { displayPopupNotification('this is Success 1', 'success', false); }); &lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; $(document).ready(function () { displayPopupNotification('this is Success 2', 'success', false); }); &lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; $(document).ready(function () { displayPopupNotification('this is Success 3', 'success', false); }); &lt;/script&gt; But I think its wrong here, because in **displayPopupNotification** method, we already handle if the message parameter is array, so I think we don't need call the function 3 times if pass an array: &lt;script type=&quot;text/javascript&quot;&gt; $(document).ready(function () { var msg = [ @Html.Raw(&quot;'&quot; + string.Join(&quot;', '&quot;, successMessages) + &quot;'&quot;) ]; displayPopupNotification(msg, 'success', false); }); &lt;/script&gt;</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>69</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#1718 Fixed &quot;Terms of service&quot; dialog size issue</MESSAGE>
    <SHA>311724d5b6e045486f1cc3b2256207b19b6b3b08</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#1970 fixed multiple message problem in _Notifications.cshtml</MESSAGE>
      <SHA>f989d8a433b9cad6e41bbe16416bfa22f8fd7e6b</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Views/Shared/_Notifications.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1970 Further changes on display of message in _Notifications.cshtml (added back encoding)</MESSAGE>
      <SHA>0970874237ea41858c2f40d4868c7e04130837ce</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Views/Shared/_Notifications.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
