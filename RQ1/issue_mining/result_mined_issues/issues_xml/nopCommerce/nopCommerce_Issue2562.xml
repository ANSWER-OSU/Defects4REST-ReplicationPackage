<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2562</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/2562</ISSUEURL>
  <TITLE>ResolveUnregistered should catch Exception instead of NopException</TITLE>
  <DESCRIPTION>Consider catching **System.Exception** instead of **NopException**. Back 3.9 if AutoFac does not have a registration for a constructor parameter it throws a System.Exception. So even if you have 3 constructors and AutoFac could have filled all parameters of the last one it failed due to the System.Exception which was not catched by the first constructor. According to microsoft constructors must not have the same order as in the source code. &gt; The GetConstructors method does not return constructors in a particular order, such as declaration order. Your code must not depend on the order in which constructors are returned, because that order varies. **So ResolveUnregistered cannot resolve a type if it could not fill the parameters of the first but could have fill the last constructor.** _I'm not sure if this also happens in 4.0_ https://github.com/nopSolutions/nopCommerce/blob/c2f4eb419a4dc2da368a4e6a882c08e0cd60f1c7/src/Libraries/Nop.Core/Infrastructure/NopEngine.cs#L269-L290</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>8</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Added instustructions to the &quot;Manual&quot; payment plugin</MESSAGE>
    <SHA>e9f9bd53f0a6334feea6828eb4640a2b94bf2300</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2562 Catch Exception instead of NopException in the ResolveUnregistered method</MESSAGE>
      <SHA>27bb92a2c03dc9bd9843d41034c75f479acd0765</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Infrastructure/NopEngine.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
