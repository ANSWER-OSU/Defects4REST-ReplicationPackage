<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2017</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/2017</ISSUEURL>
  <TITLE>Import categories. Import by name?</TITLE>
  <DESCRIPTION>Right now it's almost not possible to insert the entire category structure from scratch (when no categories exist). It should be done step by step (first level, then second level, etc). Because &quot;ParentCategoryId&quot; doesn't exist yet. Right now we import them by ID (find existing ones). Why not use some more-user friendly field (e.g. Name). In this case also consider ParentCategoryId field (ParentCategoryName). The issue is that some stores have duplicated category names (in different subcategories). How can we resolve it? 1. We can try to find by [Id] first. If a record doesn't exist, then search by &quot;Name&quot; (exact match). The same is about parent categories. 2. Make it configurable? So the default behavior can be enabled (by ID)? 3. Just ignore it. In this case import can be done with two steps. In the first one, we import all categories. Then import them again with valid IDs Let's think about it</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>268</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fixed error on AutoMapperConfigurationTest unit test</MESSAGE>
    <SHA>d0c3137ec8950c6abf40fdd773ce892f1b450c54</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2017 Import categories. Import by name.</MESSAGE>
      <SHA>57155cdfac79c2566f9ee6907b97866b3ef080b4</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/CatalogSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/CategoryService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/ICategoryService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/IExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ImportManager.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CategoryController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/CatalogSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/Catalog.cshtml</FILE>
        <FILE>upgradescripts/3.90-4.00 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#2017 Import categories. Import by name.</MESSAGE>
      <SHA>60adf7009d889b8f4b221d0c83e4daa03157c541</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/CatalogSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/CategoryService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/ICategoryService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/IExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ImportManager.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CategoryController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/CatalogSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/Catalog.cshtml</FILE>
        <FILE>upgradescripts/3.90-4.00 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#2017 Import categories. Import by name.</MESSAGE>
      <SHA>6888dd433acd36862ef0df0f6359a55af4db9302</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/CatalogSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/CategoryService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/ICategoryService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/IExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ImportManager.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CategoryController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/CatalogSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Setting/Catalog.cshtml</FILE>
        <FILE>upgradescripts/3.90-4.00 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
