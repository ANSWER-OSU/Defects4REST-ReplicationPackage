<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4677</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4677</ISSUEURL>
  <TITLE>Warehouse delete exception - SqlException: The DELETE statement conflicted with the REFERENCE constraint</TITLE>
  <DESCRIPTION>nopCommerce version: 4.30 RC Steps to reproduce the problem: 1) Edit any product and Go shipping panel and map one ware house. /Admin/Product/Edit/21 2) Edit same ware house from here from here /Admin/Shipping/Warehouses 3) and press delete button you will get error. &lt;img width=&quot;925&quot; alt=&quot;49&quot; src=&quot;https://user-images.githubusercontent.com/41533502/80945005-701c3200-8e08-11ea-997b-4b159c05776e.png&quot;&gt;</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#4653 Fixed problem with missing resource strings after plugin installation</MESSAGE>
    <SHA>fa35ffc731c6c408ba7a411a2caa8011e1582d15</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4677 Removed unnecessary foreign key constraint</MESSAGE>
      <SHA>144bbe3c1339ff76870d982d5a1ae1e0ac48c86b</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Data/Mapping/Builders/Catalog/StockQuantityHistoryBuilder.cs</FILE>
        <FILE>upgradescripts/4.20-4.30 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
