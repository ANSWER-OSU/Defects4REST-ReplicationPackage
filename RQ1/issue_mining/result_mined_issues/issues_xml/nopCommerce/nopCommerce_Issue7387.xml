<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7387</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/7387</ISSUEURL>
  <TITLE>Products with &quot;Minimum age to purchase&quot;</TITLE>
  <DESCRIPTION>Let's add a new product property indicating whether a &quot;Minimum age to purchase&quot; could be specified. Let's name it - &quot;Age verification&quot; (disabled by default). Once ticked a store owner will be able to enter a child integer property &quot;Minimum age to purchase&quot; (set to 18 by default). Also once &quot;Age verification&quot; is ticked ensure that &quot;Date of birth&quot; customer option is enabled in admin area. Otherwise, display an yellow warning. Such products could be viewed by customers. But they will require customer registration before checkout (so he can enter this date of birth during checkout). And they will require a &quot;date of birth&quot; to be specified for customers (ensure it's entered for such customers who registered before this option was enabled). Then validate this property in the &quot;GetProductWarnings&quot; method if a customer is too young, then display a warning that this products is available for customers older than N years&quot; Similar to https://github.com/nopSolutions/nopCommerce/issues/944 (but per products)</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>79</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch '4.80-bug-fixes' into develop</MESSAGE>
    <SHA>dbd12785002a084afb4aade005a30d720e0cb57b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#7387 Products with &quot;Minimum age to purchase&quot;</MESSAGE>
      <SHA>e58b30a8ddc6bc78002807119fa3c70bfe2c9a8a</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/Product.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Catalog/ProductEditorSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Migrations/UpgradeTo490/SchemaMigration.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/CopyProductService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ExportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ExportImport/ImportManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/ShoppingCartService.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo490/LocalizationMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo490/SettingMigration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ProductController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Catalog/ProductModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Settings/ProductEditorSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Validators/Catalog/ProductValidator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Product/_CreateOrUpdate.Info.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Product/_ProductEditorSettingsModal.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
