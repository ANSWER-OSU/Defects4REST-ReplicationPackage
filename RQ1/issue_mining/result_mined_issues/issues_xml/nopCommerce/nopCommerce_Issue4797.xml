<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4797</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4797</ISSUEURL>
  <TITLE>Cannot add a gift cart to an existing order in admin area</TITLE>
  <DESCRIPTION>nopCommerce version: 4.30 Steps to reproduce the problem: Pre-Conditions: Login to admin panel as admin Steps to reproduce the problem: 1. Go to Sales -&gt; Orders 2. View an existing order with status “Pending” -&gt; Click [View] 3. Add to new product -&gt; Click button [Add product] 4. Select one of Gift Card ($100, 50$ or 25$) 5. Complete the indicated fields. Actual result: App doesn’t added product '$100 Physical Gift Card' to order. There is an error and there is no detailed information on problem. ![image](https://user-images.githubusercontent.com/63049254/83111288-ab86e500-a0c4-11ea-8307-ed138b5428d8.png) ![image](https://user-images.githubusercontent.com/63049254/83111307-afb30280-a0c4-11ea-98c3-3ad56e78bbfc.png) Expected result: The actions should added new product. In addition, from Public Store, Gift Card added correctly. For example: ![image](https://user-images.githubusercontent.com/63049254/83111508-fd2f6f80-a0c4-11ea-8830-727e00931fc5.png) Test Environment: Browser: Chrome Version: 81.0.4044.138 (64-bit) Device: Notebook - Lenovo ThinkPad T480</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>41</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#4841 Fix conflicting of the shipping option with pickup address</MESSAGE>
    <SHA>471d0b7abd6c7d2bbc4b764a6af5fd6422788112</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4797 Fix adding gift card to existing order</MESSAGE>
      <SHA>b4e164de0ca9cb47d5734f76a3ef6b29a00895e5</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/OrderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/Order/AddProductToOrderDetails.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
