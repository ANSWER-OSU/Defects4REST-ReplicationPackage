<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5190</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5190</ISSUEURL>
  <TITLE>Cannot open the &quot;page not found&quot; when a store is multilingual and closed</TITLE>
  <DESCRIPTION>nopCommerce version: 4.30 Steps to reproduce the problem: 1. Enable &quot;SEO friendly URLs with multiple languages enabled&quot; (general settings). And the restart a website 2. Close the store (general settings) 3, Try to open some non-existing page (e.g. /sdfsdfsdfsdfsdf) 4. You should be redirected to the /page-not-found page or /storeclosed page. But you're redirected to the /page-not-found/storeclosed that even cannot be open Source: https://www.nopcommerce.com/en/boards/topic/89365/nopcommerce-makes-wrong-urls-when-store-is-closed</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#5116 Fix the product 'availability' microdata</MESSAGE>
    <SHA>7fa11a987ba57a85e039a7404e7f1a39ae752b08</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5190 Fixed URL's when store is closed</MESSAGE>
      <SHA>42ec7f3264c76b927c18feeb9044b2a496f052a8</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Mvc/Routing/LanguageParameterTransformer.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/BasePublicController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#5190 Fixed URL's when store is closed (cherry picked from commit 42ec7f3264c76b927c18feeb9044b2a496f052a8)</MESSAGE>
      <SHA>5e75db4fbf9e0ac87ce2bbad68310674173dc734</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Mvc/Routing/LanguageParameterTransformer.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/BasePublicController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
