<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7419</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/7419</ISSUEURL>
  <TITLE>Newsletter subscription are not deleted when using SuffixDeletedCustomers setting</TITLE>
  <DESCRIPTION>nopCommerce version: 4.70.5 &gt; I added one of the existing accounts to the newsletter and deleted his customer record in the admin interface. The email was removed from the NewsLetterSubscription table as you would expect. &gt; &gt; The issue is that we change the setting customersettings.suffixdeletedcustomers to true on all installs so emails are updated with -DELETED at the end. &gt; &gt; I updated this setting to true and added email to the newsletter. When I deleted customer record, his email was not removed from the NewsLetterSubscription table. Source: https://www.nopcommerce.com/boards/topic/101350/brevo-newsletter-deleted-accounts</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#7410 Fixed issue with hard-deleted ISoftDeletedEntity items</MESSAGE>
    <SHA>d5e95d53127de5b99530dd630b6e097b3daa63d4</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#7419 Fixed deleting newsletter subscription when the SuffixDeletedCustomers setting is enabled</MESSAGE>
      <SHA>6bf39a0fbf757d0825c769aa363ed4a5aa69a27a</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CustomerController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
