<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6626</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6626</ISSUEURL>
  <TITLE>Sendinblue plugin. Do not update contact details that is not synced</TITLE>
  <DESCRIPTION>nopCommerce version: 4.40 &gt; I have been getting the following error each time a customer confirms an order, it looks like the system is trying to update an existing contact that does not exist in my SendInBlue contacts. &gt; &gt; ``` &gt; Sendinblue error: Error calling UpdateContact: {&quot;code&quot;:&quot;document_not_found&quot;,&quot;message&quot;:&quot;Contact does not exist&quot;}. &gt; sib_api_v3_sdk.Client.ApiException: Error calling UpdateContact: {&quot;code&quot;:&quot;document_not_found&quot;,&quot;message&quot;:&quot;Contact does not exist&quot;} &gt; at sib_api_v3_sdk.Api.ContactsApi.UpdateContactAsyncWithHttpInfo(String identifier, UpdateContact updateContact) &gt; at sib_api_v3_sdk.Api.ContactsApi.UpdateContactAsync(String identifier, UpdateContact updateContact) &gt; at Nop.Plugin.Misc.Sendinblue.Services.SendinblueManager.UpdateContactAfterCompletingOrderAsync(Order order) ``` Source: https://www.nopcommerce.com/boards/topic/96389/sendinblue-plugin-v332-nop-team</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>60</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix array indexing in StripedReaderWriterLock (#6675)</MESSAGE>
    <SHA>95b9e0174ddc36e3065dcb10dc16e9558932c037</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6626 Check exists contact</MESSAGE>
      <SHA>4e1ccdb4ff76a105e96f3a5114d7f518dfcaa8bf</SHA>
      <PATCHEDFILES>
        <FILE>src/Plugins/Nop.Plugin.Misc.Sendinblue/Services/SendinblueManager.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Misc.Sendinblue/plugin.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
