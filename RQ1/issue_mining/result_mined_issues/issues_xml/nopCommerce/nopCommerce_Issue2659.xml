<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2659</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/2659</ISSUEURL>
  <TITLE>Code Polishing. Object initializer</TITLE>
  <DESCRIPTION>Example: `public virtual LoginModel PrepareLoginModel(bool? checkoutAsGuest) { var model = new LoginModel(); model.UsernamesEnabled = _customerSettings.UsernamesEnabled; model.CheckoutAsGuest = checkoutAsGuest.GetValueOrDefault(); model.DisplayCaptcha = _captchaSettings.Enabled &amp;&amp; _captchaSettings.ShowOnLoginPage; return model; } public virtual LoginModel PrepareLoginModel(bool? checkoutAsGuest) { var model = new LoginModel { UsernamesEnabled = _customerSettings.UsernamesEnabled, CheckoutAsGuest = checkoutAsGuest.GetValueOrDefault(), DisplayCaptcha = _captchaSettings.Enabled &amp;&amp; _captchaSettings.ShowOnLoginPage }; return model; }` There are a few instances like this can be changed to follow the rest of the code done to others.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Simplfied Google Analytics widget</MESSAGE>
    <SHA>1c330caf83de699d0be79aeaff986be168e5f592</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2659 Code Polishing. Replaced code to use the object initializer</MESSAGE>
      <SHA>523f898804fb88df28bc3b94703d6b2d42387047</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Html/CodeFormatter/CodeFormatHelper.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/PriceFormatter.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Logging/CustomerActivityService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/EmailSender.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/OrderProcessingService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Orders/OrderReportService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Shipping/ShippingService.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.Manual/ManualPaymentProcessor.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.PayPalDirect/PayPalDirectPaymentProcessor.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.PayPalStandard/Controllers/PaymentPayPalStandardController.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Payments.Square/Components/PaymentSquareViewComponent.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Shipping.Fedex/FedexComputationMethod.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Shipping.Fedex/FedexShipmentTracker.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Shipping.UPS/UPSComputationMethod.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Shipping.UPS/UPSShipmentTracker.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.GoogleAnalytics/Controllers/WidgetsGoogleAnalyticsController.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.NivoSlider/Components/WidgetsNivoSliderViewComponent.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.NivoSlider/Controllers/WidgetsNivoSliderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Security/Captcha/GRecaptchaControl.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Components/AdminLanguageSelector.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Components/CommonStatistics.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/AddressAttributeController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/AffiliateController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/BlogController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CampaignController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CheckoutAttributeController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CommonController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CountryController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CustomerAttributeController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CustomerController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CustomerRoleController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/DiscountController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/EmailAccountController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/GiftCardController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/HomeController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/LogController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/NewsController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/OrderController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/PluginController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ProductAttributeController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ProductController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ProductReviewController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SettingController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/SpecificationAttributeController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/BackInStockSubscriptionController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CustomerController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/InstallController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CatalogModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CheckoutModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/CustomerModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/ForumModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/NewsModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/NewsletterModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/OrderModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/PrivateMessagesModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Factories/ShoppingCartModelFactory.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Directory/CurrencyServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Directory/MeasureServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Orders/OrderProcessingServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Orders/OrderTotalCalculationServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Payments/PaymentServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Payments/TestPaymentMethod.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Shipping/CalculateDimensionsTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Shipping/ShippingServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Services.Tests/Tax/TaxServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Admin/Validators/Catalog/CategoryValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Admin/Validators/Catalog/ManufacturerValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Admin/Validators/Vendors/VendorValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Boards/EditForumPostValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Boards/EditForumTopicValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Catalog/ProductEmailAFriendValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Common/AddressValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Common/ContactUsValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Common/ContactVendorValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Customer/ChangePasswordValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Customer/CustomerInfoValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Customer/LoginValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Customer/PasswordRecoveryConfirmValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Customer/PasswordRecoveryValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Customer/RegisterValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/Install/InstallValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/PrivateMessages/SendPrivateMessageValidatorTests.cs</FILE>
        <FILE>src/Tests/Nop.Web.MVC.Tests/Public/Validators/ShoppingCart/WishlistEmailAFriendValidatorTests.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
