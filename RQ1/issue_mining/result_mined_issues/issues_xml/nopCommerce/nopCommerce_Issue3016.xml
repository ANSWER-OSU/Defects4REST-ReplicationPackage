<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3016</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3016</ISSUEURL>
  <TITLE>Upgrade to ASP.NET Core 2.1 Program.cs and Startup.cs</TITLE>
  <DESCRIPTION>https://docs.microsoft.com/en-us/aspnet/core/migration/20_21?view=aspnetcore-2.1&amp;from=groupmessage ![main20](https://user-images.githubusercontent.com/4811375/40894108-c5b9565e-67d9-11e8-9ffe-9b6706109f56.jpg) ![main21](https://user-images.githubusercontent.com/4811375/40894110-ca3ed0aa-67d9-11e8-8d42-8f0c1b7f82d1.jpg) namespace WebApp1 { public class Program { public static void Main(string[] args) { CreateWebHostBuilder(args).Build().Run(); } public static # IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt; WebHost.CreateDefaultBuilder(args) .UseStartup&lt;Startup&gt;(); } } namespace WebApp1 { public class Startup { public Startup(IConfiguration configuration) { Configuration = configuration; } public IConfiguration Configuration { get; } public void ConfigureServices(IServiceCollection services) { services.Configure&lt;CookiePolicyOptions&gt;(options =&gt; { // This lambda determines whether user consent for non-essential cookies is needed for a given request. options.CheckConsentNeeded = context =&gt; true; options.MinimumSameSitePolicy = SameSiteMode.None; }); services.AddMvc() .SetCompatibilityVersion(CompatibilityVersion.Version_2_1); } public void Configure(IApplicationBuilder app, IHostingEnvironment env) { if (env.IsDevelopment()) { app.UseDeveloperExceptionPage(); } else { app.UseExceptionHandler(&quot;/Error&quot;); app.UseHsts(); } app.UseHttpsRedirection(); app.UseStaticFiles(); app.UseCookiePolicy(); app.UseMvc(); } } }</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>40</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-3138-Model-error-in-view-component-for-widget' into develop</MESSAGE>
    <SHA>12dd8351c56c5850ff2dc84880641c4f235c6061</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3016 Set MVC compatibility version</MESSAGE>
      <SHA>301c74324834b93bfb9e12cfa189dcd3c52d0276</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/Extensions/ServiceCollectionExtensions.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
