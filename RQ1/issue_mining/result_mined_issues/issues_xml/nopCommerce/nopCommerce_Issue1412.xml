<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1412</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/1412</ISSUEURL>
  <TITLE>Ability to require account creation for downloadable products</TITLE>
  <DESCRIPTION>One feature that would be very useful is having the ability to require account creation for downloadable products. It would be nice to have a global option. This way you could still have Anonymous checkout available for all non downloads Create a new setting on the customer settings page - &quot;Require registration for downloadable products&quot;. Hint - &quot;Require account creation to purchase downloadable products&quot;. Put this setting before &quot;Hide 'Downloadable products' tab&quot; one Put validation logic into GetShoppingCartWarnings method ShoppingCartService. Also add validation into &quot;StartCheckout&quot; method of ShoppingCartController (redirect to Login page when required) - &quot;if (_workContext.CurrentCustomer.IsGuest())&quot; Source: http://www.nopcommerce.com/boards/t/38848/nopcommerce-380-roadmap-and-estimated-release-date-lets-discuss.aspx?p=17#167730</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>22</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'develop' of https://github.com/nopSolutions/nopCommerce into develop</MESSAGE>
    <SHA>b21dee8ed9d91f1febf43851e344f2d9a7459602</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Ability to require account creation for downloadable products #1412</MESSAGE>
      <SHA>c7315f31f8dff955d201d34dfbd27d09e45e85aa</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Customers/CustomerSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Models/Settings/CustomerUserSettingsModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Administration/Views/Setting/CustomerUser.cshtml</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/CheckoutController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ShoppingCartController.cs</FILE>
        <FILE>upgradescripts/3.70-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Ability to require account creation for downloadable products #1412 add setting to upgrade.sql</MESSAGE>
      <SHA>ea220257d9f2b8c59a76049887f5364f1624124d</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Controllers/CheckoutController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ShoppingCartController.cs</FILE>
        <FILE>upgradescripts/3.70-the next version/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Ability to require account creation for downloadable products #1412 rename variables</MESSAGE>
      <SHA>6b1b5f109f32fa256243d25e182d78e12ecf92a3</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web/Controllers/CheckoutController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ShoppingCartController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
