<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3282</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3282</ISSUEURL>
  <TITLE>Show proper dbupdate exception message</TITLE>
  <DESCRIPTION>At now, if some errors occur during the db update, they are incorrectly displayed, cuz there is a new exception in the line https://github.com/nopSolutions/nopCommerce/blob/develop/src/Libraries/Nop.Data/EfRepository.cs#L48. As a result, we get &quot;System.InvalidOperationException:â€œThe property 'property' on entity type 'entity' has a temporary value while attempting to change the entity's state to 'Unchanged'&quot; instead of an original exception message. Forum source: https://www.nopcommerce.com/boards/t/55329/v41-insert-entity-when-the-entity-has-unique-constraint.aspx See also https://github.com/nopSolutions/nopCommerce/issues/3175</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>51</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Added GO instruction into the end of upgrade script</MESSAGE>
    <SHA>050f35d7b838aa4bb8e7b070e4075d33431852c0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3282 Added ignoring of InvalidOperation exception on EfRepository&lt;TEntity&gt;.GetFullErrorTextAndRollbackEntityChanges method</MESSAGE>
      <SHA>88a1a5c834639c3d079d9846dbba7caab1f91e43</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Data/EfRepository.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
