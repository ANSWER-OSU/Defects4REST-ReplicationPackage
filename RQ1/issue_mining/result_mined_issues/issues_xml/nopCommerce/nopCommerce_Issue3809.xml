<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3809</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3809</ISSUEURL>
  <TITLE>Redis DB config</TITLE>
  <DESCRIPTION>nopCommerce version: 4.2 beta Steps to reproduce the problem: In 4.1 we could configure Redis to use a specific DB, such as #1. In 4.2 we can no longer do this as cache uses DB #2, Plugin #3, and DataProtection keys #4. I am not clear on why we need to use 3 different Redis DBs vs just using 1, or why we can no longer configure what DB to use. So rather than being able to host multiple nopCommerce instances on 1 Redis instance we now must have a 1:1 NopCommerce to Redis cluster. This is extremely inefficient and very inflexible.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>13</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Remove duplicated code</MESSAGE>
    <SHA>d9c034d3ceb5a520b2936fbfcf3170815374ff60</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3809 Added possibility to use specific redis database</MESSAGE>
      <SHA>ca2ac750b7eba4073ad79af0b36915750e2e89eb</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Caching/RedisCacheManager.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Configuration/NopConfig.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Redis/IRedisConnectionWrapper.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Redis/RedisConnectionWrapper.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Redis/RedisDatabaseNumber.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Plugins/RedisPluginsInfo.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/Extensions/ApplicationPartManagerExtensions.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/Extensions/ServiceCollectionExtensions.cs</FILE>
        <FILE>src/Presentation/Nop.Web/appsettings.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
