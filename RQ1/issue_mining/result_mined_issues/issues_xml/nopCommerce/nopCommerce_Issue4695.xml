<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4695</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4695</ISSUEURL>
  <TITLE>Object reference error when remove specification attribute option</TITLE>
  <DESCRIPTION>nopCommerce version: RC 4.30 Steps to reproduce the problem in frontend: 1) /Admin/SpecificationAttribute/Edit/1 2) Delete All the option from option tab 3) See at used by product tab on same page 4) View that product and click on preview (means you have to go front side product detail page) You will get object reference error. https://www.loom.com/share/6afd13fc8a1d4104865a6fbf15ac6e17 &lt;img width=&quot;844&quot; alt=&quot;50&quot; src=&quot;https://user-images.githubusercontent.com/41533502/81273857-21230680-906d-11ea-8fb9-6dc6ffc65207.png&quot;&gt; And the same error in admin area: 1) /Admin/SpecificationAttribute/Edit/1 2) Delete All the option from option tab 3) See at used by product tab on same page 4) Click on View button you will redirect to /Admin/Product/Edit/4 You will get below error from specification attribute grid &lt;img width=&quot;933&quot; alt=&quot;51&quot; src=&quot;https://user-images.githubusercontent.com/41533502/81274385-d8b81880-906d-11ea-8a12-5b7dc4b53278.png&quot;&gt;</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fixed cache key naming</MESSAGE>
    <SHA>43ff2b9093c72f9fef0f018bbbc8babb5eb3364c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4695 Fixed problem with deleting specification attribute option</MESSAGE>
      <SHA>36fbec74a45d3d504a1c29c2bcbf50930a6ff92e</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Catalog/Caching/ProductSpecificationAttributeCacheEventConsumer.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/Caching/SpecificationAttributeOptionCacheEventConsumer.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Catalog/NopCatalogDefaults.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
