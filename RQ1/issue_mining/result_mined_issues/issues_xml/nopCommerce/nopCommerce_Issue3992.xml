<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3992</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3992</ISSUEURL>
  <TITLE>Captcha timeout problem</TITLE>
  <DESCRIPTION>nopCommerce version: 4.20 I commented on the code in the file: `//client.Timeout = TimeSpan.FromMilliseconds(5000);` \Presentation\Nop.Web.Framework\Security\Captcha\CaptchaHttpClient.cs ``` public CaptchaHttpClient(CaptchaSettings captchaSettings,HttpClient client, IWebHelper webHelper) { //configure client client.BaseAddress = new Uri(NopSecurityDefaults.RecaptchaApiUrl); //client.Timeout = TimeSpan.FromMilliseconds(5000); client.DefaultRequestHeaders.Add(HeaderNames.UserAgent, $&quot;nopCommerce-{NopVersion.CurrentVersion}&quot;); _captchaSettings = captchaSettings; _httpClient = client; _webHelper = webHelper; } ``` Previously when submitting a form, it often takes a long time and often recaptcha errors. Now, when submitting the form very quickly. I have tried 50 product review and there is no error. Source: https://www.nopcommerce.com/boards/t/66093/nopcommerce-420-is-released.aspx?p=7#242668</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>17</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-3985-save-message-template-multilanguage' into develop</MESSAGE>
    <SHA>9a9e365ffa5c1c1c94889cefed4ce977886e125a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3992 Added timeout setting for reCAPTCHA</MESSAGE>
      <SHA>b3d8811cffc12d1f0a6a5e3fd73d1c084e0c04e5</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Security/CaptchaSettings.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/CodeFirstInstallationService.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Security/Captcha/CaptchaHttpClient.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>upgradescripts/4.20-4.30 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
