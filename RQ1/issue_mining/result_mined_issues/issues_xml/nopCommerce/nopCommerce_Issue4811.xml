<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4811</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/4811</ISSUEURL>
  <TITLE>Use authorization in ASP.NET CORE 3.1</TITLE>
  <DESCRIPTION>nopCommerce version: 4.30 Steps to reproduce the problem: During the migration to ASP.NET Core 3.1, the option of using Authorization was not properly implemented. More info you ca find here: https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.1&amp;tabs=visual-studio#startup-changes Currently, you cannot implement your own authorization without changing the source code. Methods UseRouting and UseEndpoints they follow each other without the possibility of injecting the code in between.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>252</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-5216-Report-Sales-summary' into develop # Conflicts: # src/Presentation/Nop.Web.Framework/Migrations/UpgradeTo440/LocalizationMigration.cs</MESSAGE>
    <SHA>90be44848a31078fbb928e6a99202be4206397de</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#4811 Added ability to use authorization middleware in ASP.NET</MESSAGE>
      <SHA>e655496ae50c5c1c764c5e9fbdb3f8a5fe2f79e1</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/AuthorizationSatrtup.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
