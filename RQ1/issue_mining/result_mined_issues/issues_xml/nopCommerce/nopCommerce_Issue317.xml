<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>317</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/317</ISSUEURL>
  <TITLE>Tax display type depends on the customer role</TITLE>
  <DESCRIPTION>Sometimes it's better to display prices incl tax for some customers, and for some of them to do it excl tax. Of course, a customer can change its value in appropriate dropdownlist (tax type). And as store owner can pre-set it in admin area (tax settings). But let's have the possibility to set the display type of taxes based on the customers role. Is useful if you manage business customers who purchase with prices excluding tax and consumer customers. Let's add a new property to a customer role page indicating whether default tax setting should be used. For example, a new dropdownlist &quot;Default tax display type&quot; (not editable by default) and a checkbox indicating whether we want to override the default values (like we do for some settings in multi-store environments) Forum source: http://www.nopcommerce.com/boards/t/26964/suggestion-tax-display-type-depends-on-the-customer-role.aspx</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>584</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#2512 Use factory to get a UrlHelper</MESSAGE>
    <SHA>1b485827cbb014b5e73c309b934f2c953cae4d26</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#317 Allow a store owner to override tax display type (excl/incl tax) based on customer role</MESSAGE>
      <SHA>021948ec23b4719517b1d4e90d9d356d03d3a01a</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/Customers/CustomerExtensions.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Domain/Customers/CustomerRole.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/WebWorkContext.cs</FILE>
        <FILE>src/Presentation/Nop.Web/App_Data/Localization/defaultResources.nopres.xml</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/CustomerRoleController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Models/Customers/CustomerRoleModel.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Views/CustomerRole/_CreateOrUpdate.cshtml</FILE>
        <FILE>src/Tests/Nop.Data.Tests/TestHelper.cs</FILE>
        <FILE>upgradescripts/3.90-4.00 (under development)/upgrade.sql</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
