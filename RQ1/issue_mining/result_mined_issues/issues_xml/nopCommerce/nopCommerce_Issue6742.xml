<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6742</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6742</ISSUEURL>
  <TITLE>Widgets.FacebookPixel plugin. Bad request errors by SearchEngineUser</TITLE>
  <DESCRIPTION>nopCommerce version: 4.60 &gt; we got an error like below. &gt; &gt; ``` &gt; Short message: Widgets.FacebookPixel error: &gt; Response status code does not indicate success: 400 (Bad Request). &gt; &gt; Full message: &gt; System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request). &gt; at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode() &gt; at Nop.Plugin.Widgets.FacebookPixel.Services.FacebookConversionsHttpClient.SendEventAsync(FacebookPixelConfiguration facebookPixelConfiguration, ConversionsEvent conversionsEvent) &gt; at Nop.Plugin.Widgets.FacebookPixel.Services.FacebookPixelService.HandleEventAsync(Func`1 prepareModel, String eventName, Nullable`1 storeId) &gt; at Nop.Plugin.Widgets.FacebookPixel.Services.FacebookPixelService.HandleFunctionAsync[TResult](Func`1 function) &gt; ``` &gt; &gt; error number are increase day by day Source: https://www.nopcommerce.com/boards/topic/97437/widgetsfacebookpixel-error-response-status-code-does-not-indicate-success-400-bad-request</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#6728 Sendinblue plugin. Added separate public webhook controller</MESSAGE>
    <SHA>183adbbc6d9761f5bbe1f3bcaf2eba33ce87089f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6742 Widgets.FacebookPixel plugin. Ignore errors for search engine user</MESSAGE>
      <SHA>a5bea016f3585d8cf0b76eb5e4f5bb0308558a11</SHA>
      <PATCHEDFILES>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Domain/ApiError.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/FacebookConversionsHttpClient.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/FacebookPixelService.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/plugin.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
