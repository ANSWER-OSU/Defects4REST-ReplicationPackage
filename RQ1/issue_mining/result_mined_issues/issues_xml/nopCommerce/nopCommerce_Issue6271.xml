<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6271</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/6271</ISSUEURL>
  <TITLE>Use SQLCommandTimeout in BaseDataProvider</TITLE>
  <DESCRIPTION>nopCommerce version: 4.50.x + Steps to reproduce the problem: 1. We migrated our shops from onPrem to Azure and hat timeout problems with the Bestseller Report in the Front &amp; Backend. 2. It was throwing us error about timeouts, so as a first step, we naturally increased the timeout in the appsettings. 3. As far as we could tell, the timeout wasn't changing anything for selects, which seemed to be necessary for us. 4. Once we applied this changed, things were really slow on loading, but at least they worked. We propose to implement this fix to make the SQLCommand available consistently between all SQL Commands (Insert, delete, select etc.) Current Implementation: https://github.com/nopSolutions/nopCommerce/blob/804a1a97732fc01574c88ea8b37b9f0fc48ce9fd/src/Libraries/Nop.Data/DataProviders/BaseDataProvider.cs#L262-L266 Proposed Implementation: ```c# public virtual IQueryable&lt;TEntity&gt; GetTable&lt;TEntity&gt;() where TEntity : BaseEntity { return new DataContext(LinqToDbDataProvider, GetCurrentConnectionString()) { MappingSchema = GetMappingSchema(), CommandTimeout = DataSettingsManager.GetSqlCommandTimeout() }.GetTable&lt;TEntity&gt;(); } ```</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>39</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'issue-5985-Migrate-to-MySqlConnector' into develop</MESSAGE>
    <SHA>5bb3b8b65aba15c34a9c7f8151f3cd2112e5da80</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#6271 Added a timeout setting for query commands.</MESSAGE>
      <SHA>831ca8a779080a082e1b360350991f11dce4d825</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Data/DataProviders/BaseDataProvider.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
