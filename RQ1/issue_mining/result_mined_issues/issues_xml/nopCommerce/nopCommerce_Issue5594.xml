<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5594</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5594</ISSUEURL>
  <TITLE>Flyoutcart wrong shopping cart and checkout button links after adding product</TITLE>
  <DESCRIPTION>When adding a product and then clicking the checkout button (or cart button) on the flyout cart, the language is not correctly integrated into the link (\en\checkout, instead of \de\checkout). The result is a 'page not found' screen. When clicking a second time, it works correctly. nopCommerce version: 4.40.2 Steps to reproduce the problem: 1. Go to home page. 2. Add your first product to the shopping cart 3. Select checkout button from flyout shopping cart. The link is \en\checkout, instead of \de\checkout.</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#5592 Fixed incorrect routing when the english language is disabled</MESSAGE>
    <SHA>1694564c5328e08dbe058c648477c0a9771a88b8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5594 #5592 Further fix of incorrect routing in some cases</MESSAGE>
      <SHA>570d7f77103ff4f1e67d2489128942472f884a37</SHA>
      <PATCHEDFILES>
        <FILE>src/Presentation/Nop.Web.Framework/Mvc/Routing/LanguageParameterTransformer.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Infrastructure/BaseRouteProvider.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
