<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5874</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/5874</ISSUEURL>
  <TITLE>Facebook Pixel plugin. Use Facebook Conversions API</TITLE>
  <DESCRIPTION>The Facebook Pixel plugin (available out of the box). Let's use Facebook Conversions API Also see here https://www.nopcommerce.com/boards/topic/92576/api-conversions-facebook-plugin</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>189</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#6092 Allow AdditionalTokens used in Message Templates to be filtered by TokenGroups. (#6093)</MESSAGE>
    <SHA>68ea3916dbb6af2d12732c1d370785cb64c35a4e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#5874 Facebook pixel conversions api functionality added (#6190)</MESSAGE>
      <SHA>1d42bb48b0bd0d4b6ce4f286b2bb6fd5d0032ff5</SHA>
      <PATCHEDFILES>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Controllers/FacebookPixelController.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Data/UpgradeTo460/LocalizationMigration.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Data/UpgradeTo460/SchemaMigration.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Domain/ConversionsEvent.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Domain/ConversionsEventCustomData.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Domain/ConversionsEventDatum.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Domain/ConversionsEventUserData.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Domain/FacebookPixelConfiguration.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/FacebookPixelDefaults.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/FacebookPixelPlugin.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Infrastructure/NopStartup.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Models/FacebookPixelModel.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/EventConsumer.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/FacebookConversionsHttpClient.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/FacebookPixelService.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Validators/ConfigurationValidator.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Views/Configuration/Configure.cshtml</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Views/Configuration/_CreateOrUpdate.cshtml</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/plugin.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#5874 Facebook Pixel plugin. Next changes and refactoring for Conversions API support</MESSAGE>
      <SHA>6309d41e0902c8db134b7049859e0579536e0c99</SHA>
      <PATCHEDFILES>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/EventConsumer.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/FacebookConversionsHttpClient.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Services/FacebookPixelService.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Views/Configuration/_CreateOrUpdate.cshtml</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#5874 Merge migrations</MESSAGE>
      <SHA>01053352da76273ed2ab11a4f05676bc205fbd83</SHA>
      <PATCHEDFILES>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Data/ConversionsApiMigration.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Data/UpgradeTo460/LocalizationMigration.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Widgets.FacebookPixel/Data/UpgradeTo460/SchemaMigration.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
