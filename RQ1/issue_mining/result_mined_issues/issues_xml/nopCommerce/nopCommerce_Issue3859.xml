<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3859</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3859</ISSUEURL>
  <TITLE>Rework Scheduled Tasks And Use IHostedService Instead</TITLE>
  <DESCRIPTION>https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-5.0&amp;tabs=visual-studio</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>837</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#5772 Added commands to create empty App_Data/datasettings.json file in the docker container</MESSAGE>
    <SHA>6847ff16edea783e36acc7ba7b46d842b3412e40</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3859. Refactoring of Scheduled Tasks</MESSAGE>
      <SHA>89d77287c6ed9cf8939474921786b5abc2de6ec4</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Core/Domain/ScheduleTasks/ScheduleTask.cs</FILE>
        <FILE>src/Libraries/Nop.Core/Infrastructure/NopEngine.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Extensions/FluentMigratorExtensions.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Mapping/Builders/Tasks/ScheduleTaskBuilder.cs</FILE>
        <FILE>src/Libraries/Nop.Data/Migrations/SchemaMigration.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Caching/ClearCacheTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Common/KeepAliveTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Customers/DeleteGuestsTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Directory/UpdateExchangeRateTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Installation/InstallationService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Logging/ClearLogTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Messages/QueuedMessagesSendTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/Caching/ScheduleTaskCacheEventConsumer.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/IScheduleTask.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/IScheduleTaskRunner.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/IScheduleTaskService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/ITaskScheduler.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/NopTaskDefaults.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/ScheduleTaskHostedService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/ScheduleTaskRunner.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/ScheduleTaskService.cs</FILE>
        <FILE>src/Libraries/Nop.Services/ScheduleTasks/TaskScheduler.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Tasks/Task.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Tasks/TaskManager.cs</FILE>
        <FILE>src/Libraries/Nop.Services/Tasks/TaskThread.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Misc.Sendinblue/SendinbluePlugin.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Misc.Sendinblue/Services/SynchronizationTask.cs</FILE>
        <FILE>src/Plugins/Nop.Plugin.Misc.Sendinblue/plugin.json</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Factories/IDiscountSupportedModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/DependencyRegistrar.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/Infrastructure/Extensions/ApplicationBuilderExtensions.cs</FILE>
        <FILE>src/Presentation/Nop.Web.Framework/WebWorkContext.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Controllers/ScheduleTaskController.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Factories/ScheduleTaskModelFactory.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Infrastructure/Mapper/AdminMapperConfiguration.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Areas/Admin/Validators/Tasks/ScheduleTaskValidator.cs</FILE>
        <FILE>src/Presentation/Nop.Web/Controllers/ScheduleTaskController.cs</FILE>
        <FILE>src/Tests/Nop.Tests/BaseNopTest.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/ScheduleTasks/ScheduleTaskRunnerTests.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/ScheduleTasks/ScheduleTaskServiceTests.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/ScheduleTasks/TaskSchedulerTests.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/ScheduleTasks/TestScheduleTask.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/ScheduleTasks/TestTaskScheduler.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/ServiceTest.cs</FILE>
        <FILE>src/Tests/Nop.Tests/Nop.Services.Tests/Tasks/ScheduleTaskServiceTests.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
