<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3054</ISSUENO>
  <ISSUEURL>https://github.com/nopSolutions/nopCommerce/issues/3054</ISSUEURL>
  <TITLE>Performance. Picture validation should not changes picture size to 1920px</TITLE>
  <DESCRIPTION>nopCommerce version: 4.10 Steps to reproduce the problem: There is a problem with the images when they are saved in the database. The &quot;ValidatePicture&quot; method is resizing the images to the configured Maximum image size in the administration. For example if you upload a product image with 200 px x 200 px resolution it is resized to 1920px x 1920px (default max size). If we get the image without resizing (original size) the image is with bad quality and is very large. This has two drawbacks: - The image size is bigger than the original one making the database huge - The image is stretched and the quality is bad Source: https://www.nopcommerce.com/boards/t/52224/nopcommerce-410-bug-fixes-and-improvements.aspx?p=2#205685</DESCRIPTION>
  <REPONAME>nopCommerce</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>#3039 Removed IsProxy method from EntityExtensions class</MESSAGE>
    <SHA>162bcb72fbcbcb462bf2e901b9c1a6ca37afc343</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#3054 Resize picture on validation only if necessary</MESSAGE>
      <SHA>cd0aad6e9b9f01be6077fbda92fcdb37879f5faf</SHA>
      <PATCHEDFILES>
        <FILE>src/Libraries/Nop.Services/Media/PictureService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
