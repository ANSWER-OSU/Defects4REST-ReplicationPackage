<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2455</ISSUENO>
  <ISSUEURL>https://github.com/louislam/uptime-kuma/issues/2455</ISSUEURL>
  <TITLE>After 1.19.0 update cert expiry promtheus metrics are missing from http(s) monitors</TITLE>
  <DESCRIPTION>### ⚠️ Please verify that this bug has NOT been raised before. - [X] I checked and didn't find similar issue ### ️ Security Policy - [X] I agree to have read this project [Security Policy](https://github.com/louislam/uptime-kuma/security/policy) ### Description After the update to version 0.19.0 some Prometheus metrics are missing for the the monitor type „http(s)“ with certificate expiration checks enabled. However metrics of type „http(s) - keyword“ are still reported via the metric `monitor_cert_days_remaining ` ### Reproduction steps Update to the latest version: - Check the prometheus metric `monitor_cert_days_remaining` and see that the metris are missing ### Expected behavior The metrics for both „http(s)“ and „http(s) - keyword“ monitors should be there ### Actual Behavior The metrics for „http(s)“ monitors are missing ### Uptime-Kuma Version 1.19.0 ### Operating System and Arch Ubuntu 20.04 ### Browser Safari ### Docker Version _No response_ ### NodeJS Version _No response_ ### Relevant log output _No response_</DESCRIPTION>
  <REPONAME>uptime-kuma</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix #2472</MESSAGE>
    <SHA>1b6c587cc9eb34ec9638b81da7d9d29f9f1a4e9b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #2475 #2468 #2455, add Accept-Encoding only if encountered the abort error</MESSAGE>
      <SHA>e12225e59548bc60827b39d1da01516ffbdaa057</SHA>
      <PATCHEDFILES>
        <FILE>server/model/monitor.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
