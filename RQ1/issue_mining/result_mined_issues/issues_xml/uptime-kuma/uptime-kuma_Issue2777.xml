<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2777</ISSUENO>
  <ISSUEURL>https://github.com/louislam/uptime-kuma/issues/2777</ISSUEURL>
  <TITLE>Setting an empty postgresql query results in a crash</TITLE>
  <DESCRIPTION>### ⚠️ Please verify that this bug has NOT been raised before. - [X] I checked and didn't find similar issue ### ️ Security Policy - [X] I agree to have read this project [Security Policy](https://github.com/louislam/uptime-kuma/security/policy) ### Description I have decided to monitor my postgresql cluster. I have setup a monitor, but forgot to add a query. This makes uptime-kuma crash immiediately, and I can't get it back up &lt;img width=&quot;623&quot; alt=&quot;Screenshot 2023-02-14 at 10 40 06&quot; src=&quot;https://user-images.githubusercontent.com/50323052/218697394-0cc26141-bfb4-4f33-9bac-cd8002b1f51f.png&quot;&gt; ### Reproduction steps 1. Setup a postgresql monitor 2. Add hostname, username, password 3. Do not add a query 4. Save ### Expected behavior I would hope at least for an error message, or a non-working monitor ### Actual Behavior Crashes ### Uptime-Kuma Version uptime-kuma:1.20.0-alpine ### Operating System and Arch Ubuntu 22.04 ### Browser Firefox 109.1 ### Docker Version k3s v1.26.1+k3s1 ### NodeJS Version _No response_ ### Relevant log output ```shell /app/node_modules/pg/lib/client.js:508 throw new TypeError('Client was passed a null or undefined query') ^ TypeError: Client was passed a null or undefined query at Client.query (/app/node_modules/pg/lib/client.js:508:13) at Client._connectionCallback (/app/server/util-server.js:295:24) at Client._handleReadyForQuery (/app/node_modules/pg/lib/client.js:279:14) at Connection.emit (node:events:390:28) at /app/node_modules/pg/lib/connection.js:114:12 at Parser.parse (/app/node_modules/pg-protocol/dist/parser.js:40:17) at Socket.&lt;anonymous&gt; (/app/node_modules/pg-protocol/dist/index.js:11:42) at Socket.emit (node:events:390:28) at addChunk (node:internal/streams/readable:315:12) at readableAddChunk (node:internal/streams/readable:289:9) ```</DESCRIPTION>
  <REPONAME>uptime-kuma</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Added Finnish language translation (#2770) * Added Finnish language translation * Changed fi-FI to fi</MESSAGE>
    <SHA>aad087caac48d5615676531d64de8bd4225406ac</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #2777</MESSAGE>
      <SHA>d1175ff471ff814e652f48cb97132dae51939037</SHA>
      <PATCHEDFILES>
        <FILE>server/util-server.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
