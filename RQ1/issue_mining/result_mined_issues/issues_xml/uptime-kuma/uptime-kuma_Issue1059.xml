<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1059</ISSUENO>
  <ISSUEURL>https://github.com/louislam/uptime-kuma/issues/1059</ISSUEURL>
  <TITLE>[Feature] Allow to specify Resolver Port for DNS Monitor</TITLE>
  <DESCRIPTION>### ⚠️ Please verify that this feature request has NOT been suggested before. - [X] I checked and didn't find similar feature request ### ️ Feature Request Type UI Feature, Other ### Feature description Allow to specify Port for the Resolver in a DNS Monitor. ### ✔️ Solution Simplest would be to allow `:` to specify a port in the Resolver field and pass it down as entered. If I'm not completely wrong, the underlying code would already support it: https://github.com/louislam/uptime-kuma/blob/6d6cb2ad494aad7fed29f01cdea715f1c63c2bc4/server/util-server.js#L93 Regarding the Node docs, it would accept a colon already. ### ❓ Alternatives Separate field for port would be an alternate solution. ### Additional Context Currently it's only possible to define an IP. The syntax check if the Resolver field does not allow to specify a port. In my use-case, I have an &quot;internal&quot; DNS server which is responsible for any internal name lookup's and I have AdGuardHome in front of it to block requests. Because both sit on the same OPNsense instance, the &quot;internal&quot; DNS runs on another port and AdGuardHome is forwarding internal queries to it. I would like to monitor them independently to easier find the root cause in case of a problem.</DESCRIPTION>
  <REPONAME>uptime-kuma</REPONAME>
  <TIMEDIFFERENCEDAYS>161</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1184 from Khord/patch-1 Rename 2FA/TOTP field ID for password manager filling compatibility</MESSAGE>
    <SHA>c3c4db52ec811f6791999658b5283ec6b3a76896</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[empty commit] pull request for #1059</MESSAGE>
      <SHA>e38742a2d0d4846cd72df127833dd6dcf87ba28d</SHA>
      <PATCHEDFILES/>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Implement specify Port for DNS Monitor #1059 This commit should fully implement #1059. When the user selects the DNS monitor option, a new input box has been added below the resolver address allowing the user to implement the port to access the resolver on. This uses the same `monitor.port` as the TCP monitor but a monitor has been added to prefill the port value to the default of `53` if the value in this field has not already been set. This is then cleared if the user selects a different monitor type and has not changed the port value. A translation has also been added explaining what this field does in order to reduce any confusion. JSDoc documentation has also been added to the `dnsResolve` function in `util-server.js`. Signed-off-by: Matthew Nickson &lt;mnickson@sidingsmedia.com&gt;</MESSAGE>
      <SHA>b893d50e450dd9bfbe956cceafd9398df1236274</SHA>
      <PATCHEDFILES>
        <FILE>server/model/monitor.js</FILE>
        <FILE>server/util-server.js</FILE>
        <FILE>src/languages/en.js</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'master' into #1059-specify-dns-resolver-port</MESSAGE>
      <SHA>8c8eeaf62740dec96faa01e274544f580b074689</SHA>
      <PATCHEDFILES>
        <FILE>.dockerignore</FILE>
        <FILE>.eslintrc.js</FILE>
        <FILE>.github/workflows/auto-test.yml</FILE>
        <FILE>.github/workflows/stale-bot.yml</FILE>
        <FILE>.npmrc</FILE>
        <FILE>.stylelintrc</FILE>
        <FILE>CONTRIBUTING.md</FILE>
        <FILE>README.md</FILE>
        <FILE>db/patch-monitor-expiry-notification.sql</FILE>
        <FILE>db/patch-proxy.sql</FILE>
        <FILE>db/patch-status-page.sql</FILE>
        <FILE>docker/alpine-base.dockerfile</FILE>
        <FILE>docker/debian-base.dockerfile</FILE>
        <FILE>docker/docker-compose.yml</FILE>
        <FILE>ecosystem.config.js</FILE>
        <FILE>extra/beta/update-version.js</FILE>
        <FILE>extra/download-cloudflared.js</FILE>
        <FILE>extra/download-dist.js</FILE>
        <FILE>extra/env2arg.js</FILE>
        <FILE>extra/fs-rmSync.js</FILE>
        <FILE>extra/install.batsh</FILE>
        <FILE>extra/mark-as-nightly.js</FILE>
        <FILE>extra/press-any-key.js</FILE>
        <FILE>extra/reset-password.js</FILE>
        <FILE>extra/simple-dns-server.js</FILE>
        <FILE>extra/update-language-files/index.js</FILE>
        <FILE>extra/update-version.js</FILE>
        <FILE>extra/update-wiki-version.js</FILE>
        <FILE>install.sh</FILE>
        <FILE>package-lock.json</FILE>
        <FILE>package.json</FILE>
        <FILE>server/auth.js</FILE>
        <FILE>server/check-version.js</FILE>
        <FILE>server/client.js</FILE>
        <FILE>server/database.js</FILE>
        <FILE>server/image-data-uri.js</FILE>
        <FILE>server/jobs.js</FILE>
        <FILE>server/logger.js</FILE>
        <FILE>server/model/group.js</FILE>
        <FILE>server/model/monitor.js</FILE>
        <FILE>server/model/proxy.js</FILE>
        <FILE>server/model/status_page.js</FILE>
        <FILE>server/modules/apicache/apicache.js</FILE>
        <FILE>server/notification-providers/alerta.js</FILE>
        <FILE>server/notification-providers/apprise.js</FILE>
        <FILE>server/notification-providers/bark.js</FILE>
        <FILE>server/notification-providers/clicksendsms.js</FILE>
        <FILE>server/notification-providers/discord.js</FILE>
        <FILE>server/notification-providers/google-chat.js</FILE>
        <FILE>server/notification-providers/gorush.js</FILE>
        <FILE>server/notification-providers/gotify.js</FILE>
        <FILE>server/notification-providers/line.js</FILE>
        <FILE>server/notification-providers/lunasea.js</FILE>
        <FILE>server/notification-providers/matrix.js</FILE>
        <FILE>server/notification-providers/mattermost.js</FILE>
        <FILE>server/notification-providers/notification-provider.js</FILE>
        <FILE>server/notification-providers/octopush.js</FILE>
        <FILE>server/notification-providers/promosms.js</FILE>
        <FILE>server/notification-providers/pushbullet.js</FILE>
        <FILE>server/notification-providers/pushover.js</FILE>
        <FILE>server/notification-providers/pushy.js</FILE>
        <FILE>server/notification-providers/rocket-chat.js</FILE>
        <FILE>server/notification-providers/signal.js</FILE>
        <FILE>server/notification-providers/techulus-push.js</FILE>
        <FILE>server/notification-providers/telegram.js</FILE>
        <FILE>server/notification-providers/webhook.js</FILE>
        <FILE>server/notification-providers/wecom.js</FILE>
        <FILE>server/notification.js</FILE>
        <FILE>server/password-hash.js</FILE>
        <FILE>server/ping-lite.js</FILE>
        <FILE>server/prometheus.js</FILE>
        <FILE>server/proxy.js</FILE>
        <FILE>server/rate-limiter.js</FILE>
        <FILE>server/routers/api-router.js</FILE>
        <FILE>server/server.js</FILE>
        <FILE>server/socket-handlers/cloudflared-socket-handler.js</FILE>
        <FILE>server/socket-handlers/proxy-socket-handler.js</FILE>
        <FILE>server/socket-handlers/status-page-socket-handler.js</FILE>
        <FILE>server/util-server.js</FILE>
        <FILE>src/App.vue</FILE>
        <FILE>src/assets/app.scss</FILE>
        <FILE>src/components/CertificateInfoRow.vue</FILE>
        <FILE>src/components/Confirm.vue</FILE>
        <FILE>src/components/CountUp.vue</FILE>
        <FILE>src/components/Datetime.vue</FILE>
        <FILE>src/components/HeartbeatBar.vue</FILE>
        <FILE>src/components/HiddenInput.vue</FILE>
        <FILE>src/components/MonitorList.vue</FILE>
        <FILE>src/components/NotificationDialog.vue</FILE>
        <FILE>src/components/PingChart.vue</FILE>
        <FILE>src/components/ProxyDialog.vue</FILE>
        <FILE>src/components/PublicGroupList.vue</FILE>
        <FILE>src/components/Tag.vue</FILE>
        <FILE>src/components/ToggleSection.vue</FILE>
        <FILE>src/components/TwoFADialog.vue</FILE>
        <FILE>src/components/Uptime.vue</FILE>
        <FILE>src/components/notifications/Alerta.vue</FILE>
        <FILE>src/components/notifications/AliyunSms.vue</FILE>
        <FILE>src/components/notifications/DingDing.vue</FILE>
        <FILE>src/components/notifications/Gorush.vue</FILE>
        <FILE>src/components/notifications/Gotify.vue</FILE>
        <FILE>src/components/notifications/Mattermost.vue</FILE>
        <FILE>src/components/notifications/Pushover.vue</FILE>
        <FILE>src/components/notifications/TechulusPush.vue</FILE>
        <FILE>src/components/notifications/Telegram.vue</FILE>
        <FILE>src/components/notifications/index.js</FILE>
        <FILE>src/components/settings/About.vue</FILE>
        <FILE>src/components/settings/Backup.vue</FILE>
        <FILE>src/components/settings/General.vue</FILE>
        <FILE>src/components/settings/MonitorHistory.vue</FILE>
        <FILE>src/components/settings/Proxies.vue</FILE>
        <FILE>src/components/settings/ReverseProxy.vue</FILE>
        <FILE>src/components/settings/Security.vue</FILE>
        <FILE>src/i18n.js</FILE>
        <FILE>src/icon.js</FILE>
        <FILE>src/languages/bg-BG.js</FILE>
        <FILE>src/languages/cs-CZ.js</FILE>
        <FILE>src/languages/da-DK.js</FILE>
        <FILE>src/languages/de-DE.js</FILE>
        <FILE>src/languages/en.js</FILE>
        <FILE>src/languages/es-ES.js</FILE>
        <FILE>src/languages/et-EE.js</FILE>
        <FILE>src/languages/fa.js</FILE>
        <FILE>src/languages/fr-FR.js</FILE>
        <FILE>src/languages/hr-HR.js</FILE>
        <FILE>src/languages/hu.js</FILE>
        <FILE>src/languages/id-ID.js</FILE>
        <FILE>src/languages/it-IT.js</FILE>
        <FILE>src/languages/ja.js</FILE>
        <FILE>src/languages/ko-KR.js</FILE>
        <FILE>src/languages/nb-NO.js</FILE>
        <FILE>src/languages/nl-NL.js</FILE>
        <FILE>src/languages/pl.js</FILE>
        <FILE>src/languages/pt-BR.js</FILE>
        <FILE>src/languages/ru-RU.js</FILE>
        <FILE>src/languages/sl-SI.js</FILE>
        <FILE>src/languages/sr-latn.js</FILE>
        <FILE>src/languages/sr.js</FILE>
        <FILE>src/languages/sv-SE.js</FILE>
        <FILE>src/languages/tr-TR.js</FILE>
        <FILE>src/languages/uk-UA.js</FILE>
        <FILE>src/languages/vi-VN.js</FILE>
        <FILE>src/languages/zh-CN.js</FILE>
        <FILE>src/languages/zh-HK.js</FILE>
        <FILE>src/languages/zh-TW.js</FILE>
        <FILE>src/layouts/EmptyLayout.vue</FILE>
        <FILE>src/layouts/Layout.vue</FILE>
        <FILE>src/mixins/socket.js</FILE>
        <FILE>src/mixins/theme.js</FILE>
        <FILE>src/pages/AddStatusPage.vue</FILE>
        <FILE>src/pages/Dashboard.vue</FILE>
        <FILE>src/pages/DashboardHome.vue</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
        <FILE>src/pages/Entry.vue</FILE>
        <FILE>src/pages/List.vue</FILE>
        <FILE>src/pages/ManageStatusPage.vue</FILE>
        <FILE>src/pages/NotFound.vue</FILE>
        <FILE>src/pages/Settings.vue</FILE>
        <FILE>src/pages/StatusPage.vue</FILE>
        <FILE>src/router.js</FILE>
        <FILE>src/util-frontend.js</FILE>
        <FILE>src/util.js</FILE>
        <FILE>src/util.ts</FILE>
        <FILE>test/backend.spec.js</FILE>
        <FILE>test/e2e.spec.js</FILE>
        <FILE>test/prepare-jest.js</FILE>
        <FILE>test/prepare-test-server.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'master' into #1059-specify-dns-resolver-port</MESSAGE>
      <SHA>d1a3cd047a650fc9c67c55ca79ab5c4730581c92</SHA>
      <PATCHEDFILES>
        <FILE>.eslintrc.js</FILE>
        <FILE>.github/PULL_REQUEST_TEMPLATE.md</FILE>
        <FILE>.github/workflows/auto-test.yml</FILE>
        <FILE>CONTRIBUTING.md</FILE>
        <FILE>README.md</FILE>
        <FILE>babel.config.js</FILE>
        <FILE>config/vite.config.js</FILE>
        <FILE>db/patch-added-mqtt-monitor.sql</FILE>
        <FILE>db/patch-status-page-footer-css.sql</FILE>
        <FILE>docker/alpine-base.dockerfile</FILE>
        <FILE>docker/debian-base.dockerfile</FILE>
        <FILE>extra/beta/update-version.js</FILE>
        <FILE>extra/close-incorrect-issue.js</FILE>
        <FILE>extra/reset-password.js</FILE>
        <FILE>extra/simple-mqtt-server.js</FILE>
        <FILE>extra/update-version.js</FILE>
        <FILE>extra/update-wiki-version.js</FILE>
        <FILE>package-lock.json</FILE>
        <FILE>package.json</FILE>
        <FILE>server/2fa.js</FILE>
        <FILE>server/client.js</FILE>
        <FILE>server/database.js</FILE>
        <FILE>server/jobs/clear-old-data.js</FILE>
        <FILE>server/jobs/util-worker.js</FILE>
        <FILE>server/logger.js</FILE>
        <FILE>server/model/monitor.js</FILE>
        <FILE>server/model/status_page.js</FILE>
        <FILE>server/model/user.js</FILE>
        <FILE>server/notification-providers/alerta.js</FILE>
        <FILE>server/notification-providers/aliyun-sms.js</FILE>
        <FILE>server/notification-providers/apprise.js</FILE>
        <FILE>server/notification-providers/bark.js</FILE>
        <FILE>server/notification-providers/dingding.js</FILE>
        <FILE>server/notification-providers/discord.js</FILE>
        <FILE>server/notification-providers/feishu.js</FILE>
        <FILE>server/notification-providers/gorush.js</FILE>
        <FILE>server/notification-providers/line.js</FILE>
        <FILE>server/notification-providers/lunasea.js</FILE>
        <FILE>server/notification-providers/mattermost.js</FILE>
        <FILE>server/notification-providers/octopush.js</FILE>
        <FILE>server/notification-providers/onebot.js</FILE>
        <FILE>server/notification-providers/pushbullet.js</FILE>
        <FILE>server/notification-providers/pushdeer.js</FILE>
        <FILE>server/notification-providers/smtp.js</FILE>
        <FILE>server/notification-providers/wecom.js</FILE>
        <FILE>server/notification.js</FILE>
        <FILE>server/prometheus.js</FILE>
        <FILE>server/proxy.js</FILE>
        <FILE>server/routers/api-router.js</FILE>
        <FILE>server/server.js</FILE>
        <FILE>server/socket-handlers/cloudflared-socket-handler.js</FILE>
        <FILE>server/socket-handlers/proxy-socket-handler.js</FILE>
        <FILE>server/socket-handlers/status-page-socket-handler.js</FILE>
        <FILE>server/uptime-kuma-server.js</FILE>
        <FILE>server/util-server.js</FILE>
        <FILE>src/assets/app.scss</FILE>
        <FILE>src/components/Confirm.vue</FILE>
        <FILE>src/components/CopyableInput.vue</FILE>
        <FILE>src/components/CountUp.vue</FILE>
        <FILE>src/components/HiddenInput.vue</FILE>
        <FILE>src/components/NotificationDialog.vue</FILE>
        <FILE>src/components/PingChart.vue</FILE>
        <FILE>src/components/ProxyDialog.vue</FILE>
        <FILE>src/components/notifications/OneBot.vue</FILE>
        <FILE>src/components/notifications/PushDeer.vue</FILE>
        <FILE>src/components/notifications/index.js</FILE>
        <FILE>src/components/settings/Security.vue</FILE>
        <FILE>src/i18n.js</FILE>
        <FILE>src/icon.js</FILE>
        <FILE>src/languages/bg-BG.js</FILE>
        <FILE>src/languages/de-DE.js</FILE>
        <FILE>src/languages/en.js</FILE>
        <FILE>src/languages/nl-NL.js</FILE>
        <FILE>src/languages/ru-RU.js</FILE>
        <FILE>src/languages/zh-CN.js</FILE>
        <FILE>src/languages/zh-TW.js</FILE>
        <FILE>src/layouts/Layout.vue</FILE>
        <FILE>src/mixins/socket.js</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
        <FILE>src/pages/Settings.vue</FILE>
        <FILE>src/pages/StatusPage.vue</FILE>
        <FILE>src/util.js</FILE>
        <FILE>src/util.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'master' into #1059-specify-dns-resolver-port</MESSAGE>
      <SHA>3c01e8732ca12618653b6fa45b929bd11470efb8</SHA>
      <PATCHEDFILES>
        <FILE>.eslintrc.js</FILE>
        <FILE>.github/workflows/auto-test.yml</FILE>
        <FILE>CONTRIBUTING.md</FILE>
        <FILE>SECURITY.md</FILE>
        <FILE>extra/beta/update-version.js</FILE>
        <FILE>extra/update-version.js</FILE>
        <FILE>package-lock.json</FILE>
        <FILE>package.json</FILE>
        <FILE>server/2fa.js</FILE>
        <FILE>server/auth.js</FILE>
        <FILE>server/check-version.js</FILE>
        <FILE>server/client.js</FILE>
        <FILE>server/database.js</FILE>
        <FILE>server/image-data-uri.js</FILE>
        <FILE>server/jobs.js</FILE>
        <FILE>server/jobs/util-worker.js</FILE>
        <FILE>server/model/group.js</FILE>
        <FILE>server/model/heartbeat.js</FILE>
        <FILE>server/model/incident.js</FILE>
        <FILE>server/model/monitor.js</FILE>
        <FILE>server/model/proxy.js</FILE>
        <FILE>server/model/status_page.js</FILE>
        <FILE>server/model/tag.js</FILE>
        <FILE>server/model/user.js</FILE>
        <FILE>server/modules/apicache/apicache.js</FILE>
        <FILE>server/modules/apicache/memory-cache.js</FILE>
        <FILE>server/notification-providers/aliyun-sms.js</FILE>
        <FILE>server/notification-providers/bark.js</FILE>
        <FILE>server/notification-providers/dingding.js</FILE>
        <FILE>server/notification-providers/notification-provider.js</FILE>
        <FILE>server/notification-providers/slack.js</FILE>
        <FILE>server/notification-providers/teams.js</FILE>
        <FILE>server/notification-providers/wecom.js</FILE>
        <FILE>server/notification.js</FILE>
        <FILE>server/password-hash.js</FILE>
        <FILE>server/ping-lite.js</FILE>
        <FILE>server/prometheus.js</FILE>
        <FILE>server/proxy.js</FILE>
        <FILE>server/rate-limiter.js</FILE>
        <FILE>server/routers/api-router.js</FILE>
        <FILE>server/server.js</FILE>
        <FILE>server/socket-handlers/cloudflared-socket-handler.js</FILE>
        <FILE>server/socket-handlers/database-socket-handler.js</FILE>
        <FILE>server/socket-handlers/proxy-socket-handler.js</FILE>
        <FILE>server/socket-handlers/status-page-socket-handler.js</FILE>
        <FILE>server/util-server.js</FILE>
        <FILE>src/components/Datetime.vue</FILE>
        <FILE>src/components/MonitorList.vue</FILE>
        <FILE>src/components/PingChart.vue</FILE>
        <FILE>src/components/Tag.vue</FILE>
        <FILE>src/components/TagsManager.vue</FILE>
        <FILE>src/languages/de-DE.js</FILE>
        <FILE>src/languages/vi-VN.js</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
        <FILE>test/e2e.spec.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #37 from Computroniks/#1059-specify-dns-resolver-port</MESSAGE>
      <SHA>e5947253d9b171471c436438174f8922e1011b8c</SHA>
      <PATCHEDFILES>
        <FILE>server/model/monitor.js</FILE>
        <FILE>server/util-server.js</FILE>
        <FILE>src/languages/en.js</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #1473 from Computroniks/#1059-specify-dns-resolver-port Added #1059: Allow to specify Resolver Port for DNS Monitor</MESSAGE>
      <SHA>35b8e894576b90f8be7ba90511574144b3ad2aac</SHA>
      <PATCHEDFILES>
        <FILE>server/model/monitor.js</FILE>
        <FILE>server/util-server.js</FILE>
        <FILE>src/languages/en.js</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
