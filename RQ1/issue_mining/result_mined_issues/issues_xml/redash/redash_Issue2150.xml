<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2150</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/2150</ISSUEURL>
  <TITLE>TypeError: sequence index must be integer, not 'str'</TITLE>
  <DESCRIPTION>We appear to be having this issue: https://github.com/mozilla/redash/issues/63 I think this might be related to https://github.com/lepture/example-oauth2-server/issues/24 ``` [2017-12-11 08:33:44,374] ERROR in app: Exception on /oauth/google_callback [GET] Traceback (most recent call last): File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1988, in wsgi_app response = self.full_dispatch_request() File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1641, in full_dispatch_request rv = self.handle_user_exception(e) File &quot;/usr/local/lib/python2.7/dist-packages/flask_restful/__init__.py&quot;, line 271, in error_router return original_handler(e) File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1544, in handle_user_exception reraise(exc_type, exc_value, tb) File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1639, in full_dispatch_request rv = self.dispatch_request() File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1625, in dispatch_request return self.view_functions[rule.endpoint](**req.view_args) File &quot;/opt/redash/redash.3.0.0.b3134/redash/authentication/google_oauth.py&quot;, line 97, in authorized access_token = resp['access_token'] TypeError: sequence index must be integer, not 'str' [2017-12-11 08:33:44,374][PID:19908][ERROR][redash] Exception on /oauth/google_callback [GET] Traceback (most recent call last): File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1988, in wsgi_app response = self.full_dispatch_request() File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1641, in full_dispatch_request rv = self.handle_user_exception(e) File &quot;/usr/local/lib/python2.7/dist-packages/flask_restful/__init__.py&quot;, line 271, in error_router return original_handler(e) File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1544, in handle_user_exception reraise(exc_type, exc_value, tb) File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1639, in full_dispatch_request rv = self.dispatch_request() File &quot;/usr/local/lib/python2.7/dist-packages/flask/app.py&quot;, line 1625, in dispatch_request return self.view_functions[rule.endpoint](**req.view_args) File &quot;/opt/redash/redash.3.0.0.b3134/redash/authentication/google_oauth.py&quot;, line 97, in authorized access_token = resp['access_token'] TypeError: sequence index must be integer, not 'str' ```</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #2136 from doddjc21/patch-1 Update oracle.py</MESSAGE>
    <SHA>073db37cfda27a33570339b6f4e34d69ff6032bf</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fixing issue #2150</MESSAGE>
      <SHA>80a74934f0caf4e7d56673618e62c0d066b99f1b</SHA>
      <PATCHEDFILES>
        <FILE>requirements.txt</FILE>
        <FILE>requirements_all_ds.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #2154 from crooy/master fixing issue #2150</MESSAGE>
      <SHA>1d3c2144c4d03064cf523eba0aedc091d0f3ab97</SHA>
      <PATCHEDFILES>
        <FILE>requirements.txt</FILE>
        <FILE>requirements_all_ds.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
