<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6996</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/6996</ISSUEURL>
  <TITLE>Chart doesn't show values</TITLE>
  <DESCRIPTION>&lt;!-- We use GitHub only for bug reports Anything else should be a discussion: https://github.com/getredash/redash/discussions/ For support, help &amp; questions use https://github.com/getredash/redash/discussions/categories/q-a For feature requests &amp; ideas use https://github.com/getredash/redash/discussions/categories/ideas **Found a security vulnerability?** Please email security@redash.io to report any security vulnerabilities. We will acknowledge receipt of your vulnerability and strive to send you regular updates about our progress. If you're curious about the status of your disclosure please feel free to email us again. If you want to encrypt your disclosure email, you can use this PGP key. --&gt; ### Issue Summary Chart values always equals 0 on hover. ### Steps to Reproduce 1. Run SQL query: ``` SELECT 5 as atc_count, 7 as qty_users UNION ALL SELECT 8,1 UNION ALL SELECT 1,290 UNION ALL SELECT 4,11 UNION ALL SELECT 0,763 UNION ALL SELECT 7,1 UNION ALL SELECT 3,25 UNION ALL SELECT 6,4 UNION ALL SELECT 2,68 ``` 2. Build any chart (i.e. bar) with atc_count on X, qty_users on Y 3. Move pointer to the second bar (X=1) 4. See value = 0 &lt;img width=&quot;756&quot; alt=&quot;redash_screen&quot; src=&quot;https://github.com/getredash/redash/assets/7091907/d0de8687-7753-42fd-a97a-e4e22854ea50&quot;&gt; ### Technical details: * Redash Version: ec051a89398a0c2483ed56a4773509af15bc03f4 * Browser/OS: Chrome 125 / Windows 11 * How did you install Redash: Docker compose (image built from source)</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>82</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>PG: Only list tables where schema has USAGE permission (#7000) This covers cases where partitioned tables are part of a schema that is not accessible by the current user. CREATE SCHEMA xyz; CREATE TABLE xyz.tab ( id bigint GENERATED ALWAYS AS IDENTITY, ts timestamp NOT NULL ) PARTITION BY LIST ((ts::date)); CREATE TABLE xyz.tab_default PARTITION OF xyz.tab DEFAULT;</MESSAGE>
    <SHA>17fe69f551c55c1a78f6f91acb55485c45bcd3b2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Revert &quot;aggregate Y column values rather than displaying last Y value (#6908)&quot; This reverts commit f09760389aa95002a5845c4186648c3ab33a3283 since it broke data labels for bar charts. https://github.com/getredash/redash/issues/6996</MESSAGE>
      <SHA>395b48c3ce019d807da2e22d553c61e008369b7b</SHA>
      <PATCHEDFILES>
        <FILE>viz-lib/src/visualizations/chart/plotly/fixtures/prepareData/pie/without-x.json</FILE>
        <FILE>viz-lib/src/visualizations/chart/plotly/prepareDefaultData.ts</FILE>
        <FILE>viz-lib/src/visualizations/chart/plotly/preparePieData.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
