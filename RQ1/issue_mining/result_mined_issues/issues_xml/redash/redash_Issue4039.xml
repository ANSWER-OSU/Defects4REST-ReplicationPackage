<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4039</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/4039</ISSUEURL>
  <TITLE>CSP error when clicking on &quot;Create your first Dashboard&quot;</TITLE>
  <DESCRIPTION>&lt;!-- We use GitHub only for bug reports Anything else should be posted to https://discuss.redash.io For support, help &amp; questions use https://discuss.redash.io/c/support For feature requests &amp; ideas use https://discuss.redash.io/c/feature-requests **Found a security vulnerability?** Please email security@redash.io to report any security vulnerabilities. We will acknowledge receipt of your vulnerability and strive to send you regular updates about our progress. If you're curious about the status of your disclosure please feel free to email us again. If you want to encrypt your disclosure email, you can use this PGP key. --&gt; ### Issue Summary When clicking on the &quot;Create your first Dashboard&quot; link after setup I get a CSP error in the browser console. ### Steps to Reproduce 1. Setup Redash following the Docker dev docs. 2. Setup a data source (e.g. the postgres container) 3. Add a query 4. Try to click on the &quot;Create your first Dashboard&quot; I believe the change in https://github.com/getredash/redash/commit/9480d89e4c3d87e092e64e2d6c634413e42cf0a0#diff-90812e4fcbcd1df5f887a43bda5953f5R125 resulted in the code that is run when clicking on the link to be considered inline, instead of the separate function before. ### Technical details: * Redash Version: 8.0.0beta * Browser/OS: Firefox/macOS 10.14 * How did you install Redash: Docker</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Unsupported browser redirect script outputted to file (#3832)</MESSAGE>
    <SHA>5dff5b929caf0f22afd3f57c1cf6dae77600658b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[Feature] Migrate CreateDashboardDialog to React (#3826)</MESSAGE>
      <SHA>9480d89e4c3d87e092e64e2d6c634413e42cf0a0</SHA>
      <PATCHEDFILES>
        <FILE>client/app/assets/less/ant.less</FILE>
        <FILE>client/app/components/DynamicComponent.jsx</FILE>
        <FILE>client/app/components/app-header/index.js</FILE>
        <FILE>client/app/components/dashboards/CreateDashboardDialog.jsx</FILE>
        <FILE>client/app/components/dashboards/edit-dashboard-dialog.html</FILE>
        <FILE>client/app/components/dashboards/edit-dashboard-dialog.js</FILE>
        <FILE>client/app/components/empty-state/EmptyState.jsx</FILE>
        <FILE>client/app/pages/data-sources/DataSourcesList.jsx</FILE>
        <FILE>client/cypress/integration/dashboard/dashboard_spec.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix: remove inline script to avoid CSP violation Closes #4039.</MESSAGE>
      <SHA>8830f4fb2771661642a7016022d1831b6fa8c798</SHA>
      <PATCHEDFILES>
        <FILE>client/app/components/empty-state/EmptyState.jsx</FILE>
        <FILE>client/app/components/empty-state/empty-state.less</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Prevent CSP violations by not having script URLs (#4062) * Fix: remove inline script to avoid CSP violation Closes #4039. * Restore eslint rule that prevents javascript href attributes. * Remove all inline script links.</MESSAGE>
      <SHA>026d172422150d4749e98a09d86dd5fa6afd208e</SHA>
      <PATCHEDFILES>
        <FILE>client/.eslintrc.js</FILE>
        <FILE>client/app/assets/less/redash/redash-newstyle.less</FILE>
        <FILE>client/app/components/FavoritesControl.jsx</FILE>
        <FILE>client/app/components/HelpTrigger.jsx</FILE>
        <FILE>client/app/components/HelpTrigger.less</FILE>
        <FILE>client/app/components/QuerySelector.jsx</FILE>
        <FILE>client/app/components/TagsList.jsx</FILE>
        <FILE>client/app/components/empty-state/EmptyState.jsx</FILE>
        <FILE>client/app/components/empty-state/empty-state.less</FILE>
        <FILE>client/app/pages/dashboards/dashboard.html</FILE>
        <FILE>client/app/pages/groups/GroupDataSources.jsx</FILE>
        <FILE>client/app/pages/groups/GroupMembers.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
