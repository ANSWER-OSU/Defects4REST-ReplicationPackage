<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1843</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/1843</ISSUEURL>
  <TITLE>Oracle: add support for cx_Oracle v5.3.</TITLE>
  <DESCRIPTION>### Issue Summary cx_Oracle.FIXED_UNICODE: TYPE_STRING, Variable FIXED_UNICODE was removed with Release 5.3 of cx_Oracle: https://github.com/oracle/python-cx_Oracle/blob/ae45152339f0e9b46a93d5aea74f3bc16e775060/doc/src/releasenotes.rst#version-53-march-2017 Removed deprecated types UNICODE, FIXED_UNICODE and LONG_UNICODE (use NCHAR, FIXED_NCHAR and LONG_NCHAR instead). but is referenced in https://github.com/getredash/redash/blob/master/redash/query_runner/oracle.py#L17 ### Steps to Reproduce Our Dockerfile: FROM redash/redash:2.0.0.b2924 USER root RUN apt-get update RUN apt-get -y --no-install-recommends install alien COPY &quot;oracle-instantclient12.2-basiclite-12.2.0.1.0-1.x86_64.rpm&quot; &quot;/tmp/oracle-instantclient12.2-basiclite-12.2.0.1.0-1.x86_64.rpm&quot; RUN alien -i &quot;/tmp/oracle-instantclient12.2-basiclite-12.2.0.1.0-1.x86_64.rpm&quot; RUN echo /usr/lib/oracle/12.2/client64/lib &gt; /etc/ld.so.conf.d/oracle-instantclient.conf &amp;&amp; ldconfig RUN apt-get install -y libaio1 RUN pip install cx_Oracle --pre EXPOSE 5000 ENTRYPOINT [&quot;/app/bin/docker-entrypoint&quot;] CMD [&quot;server&quot;] Output: ``` AttributeError: 'module' object has no attribute 'FIXED_UNICODE' Traceback (most recent call last): File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/arbiter.py&quot;, line 515, in spawn_worker worker.init_process() File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/workers/base.py&quot;, line 122, in init_process self.load_wsgi() File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/workers/base.py&quot;, line 130, in load_wsgi self.wsgi = self.app.wsgi() File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/app/base.py&quot;, line 67, in wsgi self.callable = self.load() File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/app/wsgiapp.py&quot;, line 65, in load return self.load_wsgiapp() File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/app/wsgiapp.py&quot;, line 52, in load_wsgiapp return util.import_app(self.app_uri) File &quot;/usr/local/lib/python2.7/dist-packages/gunicorn/util.py&quot;, line 357, in import_app __import__(module) File &quot;/app/redash/__init__.py&quot;, line 68, in &lt;module&gt; import_query_runners(settings.QUERY_RUNNERS) File &quot;/app/redash/query_runner/__init__.py&quot;, line 175, in import_query_runners __import__(runner_import) File &quot;/app/redash/query_runner/oracle.py&quot;, line 17, in &lt;module&gt; cx_Oracle.FIXED_UNICODE: TYPE_STRING, AttributeError: 'module' object has no attribute 'FIXED_UNICODE ```' ### Technical details: * Redash Version: Docker Image redash/redash:2.0.0.b2924 * How did you install Redash: Dockerfile</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>78</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1727 from crowdworks/salesforce-error-message improve Salesforce error message</MESSAGE>
    <SHA>1b15ea8af9b1af43abbaf874ef5edcc44527adb8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #1843: Remove deprecated cx_Oracle types FIXED_UNICODE, LONG_NCHAR, LONG_UNICODE and UNICODE have been removed from cx_Oracle version 5.3 and should be removed from the TYPES_MAP.</MESSAGE>
      <SHA>7d91e9d17366b09a1b9efdb6467ea0158cb2e264</SHA>
      <PATCHEDFILES>
        <FILE>redash/query_runner/oracle.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #1899 from queeno/add_oracle_53_support Fix #1843: Remove deprecated cx_Oracle types</MESSAGE>
      <SHA>94175b8a5230c2a560f12256f7e79cb3fb1e57c2</SHA>
      <PATCHEDFILES>
        <FILE>redash/query_runner/oracle.py</FILE>
        <FILE>requirements_oracle_ds.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix #1843: Remove deprecated cx_Oracle types FIXED_UNICODE, LONG_NCHAR, LONG_UNICODE and UNICODE have been removed from cx_Oracle version 5.3 and should be removed from the TYPES_MAP.</MESSAGE>
      <SHA>e6bd4e13a4d60ce213f267a1f98017344b3791cf</SHA>
      <PATCHEDFILES>
        <FILE>query_runner/oracle.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
