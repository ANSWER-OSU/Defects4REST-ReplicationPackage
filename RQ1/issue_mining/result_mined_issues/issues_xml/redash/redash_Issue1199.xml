<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1199</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/1199</ISSUEURL>
  <TITLE>Inner objects of MongoDB results are not handled correctly</TITLE>
  <DESCRIPTION>### Issue Summary When querying a mongo object that has inner objects and returning only a given field of an inner object, results are not displayed in the UI. ### Steps to Reproduce 1. Have a MongoDB data_source that contains an object looking like that ``` json { &quot;foo&quot;: { &quot;bar&quot;:0, &quot;foo&quot;:1 } } ``` 1. Query this data source like that: ``` json { &quot;collection&quot;: &quot;foo&quot;, &quot;query&quot;: { }, &quot;fields&quot;: { &quot;foo.bar&quot;:1 } } ``` 1. Notice that the results table is empty. 2. Look at the response using the network tab of your browser's console. 3. Notice that the data is correctly returned but incorrectly handled in the UI. I expect the data to be handled correctly. Since it is not in the table, it is impossible to make any visualization. Inner objects are common in MongoDB. I believer it can be fixed either on the UI or the server since when it is an inner field, it isn't in the same format as the other fields. ### Technical details: - Redash Version: 0.10 - Browser/OS: Firefox/Linux - How did you install Redash: Docker</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>569</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #2303 from kravets-levko/fix/webpack-config-3 Fix webpack config (server-rendered pages); fix assets URLs</MESSAGE>
    <SHA>790ac2ec5423ab8c736d9021119936851aca4eed</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Close #1199: support for nested fields in MongoDB results</MESSAGE>
      <SHA>5ad893a26684b0a198121fd618f4a4869a27381a</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>redash/query_runner/mongodb.py</FILE>
        <FILE>tests/query_runner/test_mongodb.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #2304 from getredash/mognodb_nested_fields Close #1199: support for nested fields in MongoDB results</MESSAGE>
      <SHA>94a770ae7a20645a1102a7788887a4b9ec0b8b55</SHA>
      <PATCHEDFILES>
        <FILE>.gitignore</FILE>
        <FILE>redash/query_runner/mongodb.py</FILE>
        <FILE>tests/query_runner/test_mongodb.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Close #1199: support for nested fields in MongoDB results</MESSAGE>
      <SHA>acda2eead5e61cc464cb9da91b91fffb7aa44a06</SHA>
      <PATCHEDFILES>
        <FILE>query_runner/mongodb.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
