<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5455</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/5455</ISSUEURL>
  <TITLE>Data Source Setup: test connection button is disabled after Save</TITLE>
  <DESCRIPTION>&lt;!-- We use GitHub only for bug reports Anything else should be posted to https://discuss.redash.io For support, help &amp; questions use https://discuss.redash.io/c/support For feature requests &amp; ideas use https://discuss.redash.io/c/feature-requests **Found a security vulnerability?** Please email security@redash.io to report any security vulnerabilities. We will acknowledge receipt of your vulnerability and strive to send you regular updates about our progress. If you're curious about the status of your disclosure please feel free to email us again. If you want to encrypt your disclosure email, you can use this PGP key. --&gt; ### Issue Summary The **Test Connection** on the data source page is disabled after the user clicks &quot;Save&quot;. Reloading the browser page enables it again. ![dirty-button](https://user-images.githubusercontent.com/17067911/113299489-8b1a4f00-92c2-11eb-9a00-1c2179bcde34.gif) ### Steps to Reproduce 1. Create a JSON data source and save (test connection button is `enabled`) 2. Add a username or password field and click Save (test connection button is `disabled`) 3. Reload the page (test connection button is `enabled`) The state of the form should be identical. But without a page reload it's treated as &quot;dirty&quot; even after save. Expected behavior: saving the form ought to set `dirty===false`. ### Technical details: * Redash Version: latest master (6228f4cf714c03e672c45d5f311b0faa0fdbf452) * Browser/OS: Chrome / MacOS / M1 Macbook * How did you install Redash: Docker</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>306</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Run prettier (#5436) * run in /client * run in /viz-lib * bug: fix wrong line ts expect error * bug: fixed search pattern for prettier</MESSAGE>
    <SHA>a61a25dd3224c7ed97da711fe42667f0647d3f20</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Don't disable the test connection button. Fixes #5455</MESSAGE>
      <SHA>b63b577c458d0634cf023d361a4c7f4ea068875d</SHA>
      <PATCHEDFILES>
        <FILE>client/app/pages/data-sources/EditDataSource.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix: Under 'Data Sources' enable 'Test Connection' button after Save #5455</MESSAGE>
      <SHA>6c716432c08e5ec9d8c40411da2e41bcaaa88499</SHA>
      <PATCHEDFILES>
        <FILE>client/app/components/dynamic-form/DynamicForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix: Test Connection button disabled after save (#5666) Closes #5455</MESSAGE>
      <SHA>ea07e7e19b62051e20f07726231d4ad3b08ab43e</SHA>
      <PATCHEDFILES>
        <FILE>client/app/components/dynamic-form/DynamicForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix: Test Connection button disabled after save (#5666) Closes #5455</MESSAGE>
      <SHA>06d40b982f7c9f1c595187a456d4aa589c36d33a</SHA>
      <PATCHEDFILES>
        <FILE>client/app/components/dynamic-form/DynamicForm.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
