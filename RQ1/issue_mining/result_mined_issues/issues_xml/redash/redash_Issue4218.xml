<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4218</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/4218</ISSUEURL>
  <TITLE>Misleading warning when trying to download results of unsaved query</TITLE>
  <DESCRIPTION>### Issue Summary When trying to download results of an unsaved (or just new) query, it will warn you about &quot;Leaving the site&quot; with unsaved changes, but in fact it doesn't redirect -- it just downloads the file. ### Steps to Reproduce 1. Create a new query (without saving). 2. Execute. 3. Click on the Download CSV results link. Expected: it should just download the results without prompting or warning. ### Technical details: * Redash Version: v8</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Remove debug code (#4216)</MESSAGE>
    <SHA>3f9d49dbd11bdc5c46a2f067ce73f4750a4483bf</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix: Misleading warning when trying to download results of unsaved query #4218</MESSAGE>
      <SHA>7ad9221ec15475add6f59772b476fab24277bcb3</SHA>
      <PATCHEDFILES>
        <FILE>client/app/components/EditVisualizationButton/QueryResultsLink.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix: Misleading warning when trying to download results of unsaved query #4218 (#4219)</MESSAGE>
      <SHA>2f42b8154cbb2e48cb7b4cb9428ae8839aaa607b</SHA>
      <PATCHEDFILES>
        <FILE>client/app/components/EditVisualizationButton/QueryResultsLink.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
