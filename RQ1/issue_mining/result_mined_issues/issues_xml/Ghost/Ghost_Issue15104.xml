<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>15104</ISSUENO>
  <ISSUEURL>https://github.com/TryGhost/Ghost/issues/15104</ISSUEURL>
  <TITLE>Confusing redirection to /signin/ and /signup/ after clicking on the magic link</TITLE>
  <DESCRIPTION>### Issue Summary The idea of the change introduced in version 5.4.0 =&gt; https://github.com/TryGhost/Ghost/commit/e60806de45ddaff66c13e5806afd21ea6425c503 is very useful for Portal, but in certain situations it creates confusion among users. If someone signs in or registers from a custom /signup/ or /signin/ page, after clicking on the magic link, they end up on the /signup/ and /signin/ page again, which is very confusing for many people - they often re-login. Can the new redirects be restricted to the Portal only? The best solution would be for custom forms to be excluded from the new auto redirect option. Usually they are only available on /signin/ and /signup/. Many sites also use the option to collect email addresses to subscribe to a newsletter in which case it is also confusing to return to the previous page. ### Steps to Reproduce Log in through the custom form, when you click on the magic link you will return to the login page. ### Ghost Version 5.5.0 ### Node.js Version v16.13.0 ### How did you install Ghost? localhost ### Database type SQLite3 ### Browser &amp; OS version _No response_ ### Relevant log / error output _No response_ ### Code of Conduct - [X] I agree to be friendly and polite to people in this repository</DESCRIPTION>
  <REPONAME>Ghost</REPONAME>
  <TIMEDIFFERENCEDAYS>40</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>v5.12.1</MESSAGE>
    <SHA>0b0401d593939024fa137c19ac79d46f5fe89a43</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>âœ¨ Added optional data-attribute to enable/disable autoredirection. refs https://github.com/TryGhost/Ghost/issues/15104 https://github.com/TryGhost/Team/issues/1800 - On custom sign up and login forms, users often wouldn't want to be redirected to that page after signing in. - This takes a new data-attribute value (eg `data-members-autoredirect=&quot;false&quot;`) sent from Portal into account before parsing the referrer on the magic link URL.</MESSAGE>
      <SHA>916129fd4c3d5cd04c5596a2c0def20b8d79a5d5</SHA>
      <PATCHEDFILES>
        <FILE>ghost/members-api/lib/controllers/router.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
