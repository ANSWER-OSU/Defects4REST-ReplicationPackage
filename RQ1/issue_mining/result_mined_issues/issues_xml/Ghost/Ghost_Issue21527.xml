<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>21527</ISSUENO>
  <ISSUEURL>https://github.com/TryGhost/Ghost/issues/21527</ISSUEURL>
  <TITLE>Breaking Change to Embeddable Signup Form - Integrity Token</TITLE>
  <DESCRIPTION>### Issue Summary Hey Ghost team, Just wanted to flag an issue with the recent change that introduced an integrity token requirement for the embeddable signup form (#20836, in 5.91.0). This update broke our one-click subscribe setup on external sites, as it seems to have impacted the externally hosted JavaScript (included in the generated Embed signup form) without a major version bump. The change hit unexpectedly—our signup form just stopped working even though we were on a fairly recent version, which caused a bit of a fire drill. Going forward, it’d be great if changes impacting critical pieces like this (especially anything hosted externally) could align with a major version release, so there’s a heads-up to make any necessary adjustments. As it is, I believe embeddable signup forms are currently broken for anyone running less than 5.91.0. Thanks for considering this! ### Steps to Reproduce - run a 5.x version &lt; 5.91.0, with an embeddable signup form, since this change was made - specifically, we were running 5.87.2 - have an embeddable signup form - try to submit an embeddable signup form - see the error message &quot;Something went wrong, please try again.&quot; - in your browser's developer console, see that the integrity token request has an error (because you're not running at least 5.91.0 and it just doesn't exist) ### Ghost Version 5.x &lt; 5.91.0 ### Node.js Version any ### How did you install Ghost? containerized ### Database type N/A ### Browser &amp; OS version _No response_ ### Relevant log / error output _No response_ ### Code of Conduct - [X] I agree to be friendly and polite to people in this repository</DESCRIPTION>
  <REPONAME>Ghost</REPONAME>
  <TIMEDIFFERENCEDAYS>14</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Released signup-form 0.1.6 (#20959) ref https://linear.app/tryghost/issue/ONC-314 - releasing new code for integrity token passthrough</MESSAGE>
    <SHA>174b13982a7828a9808d66a35f7f4d8afbe05033</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Revert &quot;Added integrity token to signup-form package&quot; ref https://github.com/TryGhost/Ghost/issues/21527 - This reverts commit ebc87002ce317bf0c0760fe9ddde4c4531cf4521 - commit ebc87002ce317bf0c0760fe9ddde4c4531cf4521 is a breaking change, and should not have been released as a signup-form patch release (0.1.x)</MESSAGE>
      <SHA>4107646cc585a37d919f3d7e4feaaa545ada1c73</SHA>
      <PATCHEDFILES>
        <FILE>apps/signup-form/src/Preview.stories.tsx</FILE>
        <FILE>apps/signup-form/src/components/pages/FormPage.tsx</FILE>
        <FILE>apps/signup-form/src/utils/api.tsx</FILE>
        <FILE>apps/signup-form/test/utils/e2e.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Published signup-form v0.1.8 ref https://github.com/TryGhost/Ghost/issues/21527 - this version reverts the breaking change ebc8700 (additional of integrity token) from signup-form 0.1.x</MESSAGE>
      <SHA>7c730cbc62f9822ead1bbec0fa33a5ee5505d2e1</SHA>
      <PATCHEDFILES>
        <FILE>apps/signup-form/package.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Published signup-form v0.1.8 ref https://github.com/TryGhost/Ghost/issues/21527 - this version reverts the breaking change ebc8700 (addition of integrity token) from signup-form 0.1.x</MESSAGE>
      <SHA>1a1991c3bc29199595871cc2ec9233802fa905e0</SHA>
      <PATCHEDFILES>
        <FILE>apps/signup-form/package.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
