<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>18133</ISSUENO>
  <ISSUEURL>https://github.com/TryGhost/Ghost/issues/18133</ISSUEURL>
  <TITLE>the page crased while searching &quot;c++&quot; keyword</TITLE>
  <DESCRIPTION>### Issue Summary the page crased while searching &quot;c++&quot; keyword ### Steps to Reproduce 1. the page crased while searching &quot;c++&quot; keyword 2. ![image](https://github.com/TryGhost/Ghost/assets/53374430/d7f7965f-488f-486e-a634-2674b68b20d4) ### Ghost Version 5.62.0 ### Node.js Version 16.19.1 ### How did you install Ghost? GHOST CLI &amp; UBUNTU ### Database type MySQL 5.7 ### Browser &amp; OS version _No response_ ### Relevant log / error output _No response_ ### Code of Conduct - [X] I agree to be friendly and polite to people in this repository</DESCRIPTION>
  <REPONAME>Ghost</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Grouped recommendations in Portal fixes https://github.com/TryGhost/Product/issues/3893</MESSAGE>
    <SHA>ff61b330491b594997b5b156215417b5d7687743</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix escaping search terms that contain special characters (#18133) - Mark Stosberg</MESSAGE>
      <SHA>d6d5fc3232d175c36005bc4ad8307c9631568cd5</SHA>
      <PATCHEDFILES>
        <FILE>apps/sodo-search/src/components/PopupModal.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixed escaping search terms that contain special characters (#18151) fixes https://github.com/TryGhost/Ghost/issues/18133 Before, Sodo Search was not escaping search input before using the search terms in a regular expression, so using special characters could result in an invalid regular expression which would crash JavaScript. As regular expressions date back to Perl, so does a standard solution for this, which called quotemeta in Perl. It doesn't exist 1:1 in JavaScript, but StackOverflow had the answer: stackoverflow.com/questions/6318710/javascript-equivalent-of-perls-q-e-or-quotemeta So a line of code is added to escape the special characters in the regex for passing them through. This is the same code that the quotemeta module on NPM would use.</MESSAGE>
      <SHA>7fa083d7741e143e3f80e11c5a6db7a78018194f</SHA>
      <PATCHEDFILES>
        <FILE>apps/sodo-search/src/components/PopupModal.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
