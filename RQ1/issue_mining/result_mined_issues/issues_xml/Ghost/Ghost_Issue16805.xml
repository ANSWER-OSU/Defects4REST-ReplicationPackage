<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>16805</ISSUENO>
  <ISSUEURL>https://github.com/TryGhost/Ghost/issues/16805</ISSUEURL>
  <TITLE>Can't render pt-br Portal Translations (beta)</TITLE>
  <DESCRIPTION>### Issue Summary In the new beta for Portal Translations, I am trying to use pt-br (Portuguese from Brazil) translations, but I keep getting pt (Portuguese from Portugal), which is somewhat different. I tried to wrap it up on quotes, but still get the same result. I think it might be some issue with the hyphen (I also tried without it). There is a [pt-br translation in Github](https://github.com/TryGhost/Ghost/tree/main/ghost/i18n/locales/pt-br), and it looks fine to me. ### Steps to Reproduce Portuguese from Portugal is `pt`, while Portuguese from Brazil is `pt-br` 1. I enabled Portal Translation (beta) in the Labs section 2. I went to the general section and wrote `pt-br` in the locales field 3. I am getting the `pt` translations, not `pt-br` ### Ghost Version 5.47.1 ### Node.js Version v16.19.1 ### How did you install Ghost? Digital Ocean droplet, with Ubuntu and Ghost CLI ### Database type MySQL 5.7 ### Browser &amp; OS version _No response_ ### Relevant log / error output _No response_ ### Code of Conduct - [X] I agree to be friendly and polite to people in this repository</DESCRIPTION>
  <REPONAME>Ghost</REPONAME>
  <TIMEDIFFERENCEDAYS>7</TIMEDIFFERENCEDAYS>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixed loading `pt-br` translations fixes https://github.com/TryGhost/Ghost/issues/16805 - turns out i18next requires the country portal of the locale to be capitalized [1] - this resolves that and moves the files to the correct name [1]: https://github.com/i18next/i18next/issues/1467#issuecomment-646305827</MESSAGE>
      <SHA>b32dfdec3d187eabffd7ba632a8fded8569f3e50</SHA>
      <PATCHEDFILES>
        <FILE>ghost/i18n/lib/i18n.js</FILE>
        <FILE>ghost/i18n/locales/pt-BR/ghost.json</FILE>
        <FILE>ghost/i18n/locales/pt-BR/portal.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixed loading pt-br translations fixes https://github.com/TryGhost/Ghost/issues/16805 * turns out i18next requires the country portal of the locale to be capitalized 1 * this resolves that and moves the files to the correct casing</MESSAGE>
      <SHA>693945c58f15785abb001522b661d2d335a92971</SHA>
      <PATCHEDFILES>
        <FILE>ghost/i18n/lib/i18n.js</FILE>
        <FILE>ghost/i18n/locales/pt-BR/ghost.json</FILE>
        <FILE>ghost/i18n/locales/pt-BR/portal.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixed loading pt-br translations fixes https://github.com/TryGhost/Ghost/issues/16805 * turns out i18next requires the country portal of the locale to be capitalized [1] * this resolves that and moves the files to the correct casing [1]: https://github.com/i18next/i18next/issues/1467#issuecomment-646305827</MESSAGE>
      <SHA>e3399ddcac4aaacf496dcffb4135b3f8319217bf</SHA>
      <PATCHEDFILES>
        <FILE>ghost/i18n/lib/i18n.js</FILE>
        <FILE>ghost/i18n/locales/pt-BR/ghost.json</FILE>
        <FILE>ghost/i18n/locales/pt-BR/portal.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixed loading pt-br translations fixes https://github.com/TryGhost/Ghost/issues/16805 * turns out i18next requires the country portal of the locale to be capitalized [1] * this resolves that and moves the files to the correct casing [1]: https://github.com/i18next/i18next/issues/1467#issuecomment-646305827</MESSAGE>
      <SHA>bed7479cc2a089a323063e6be40b9c3cb07241ff</SHA>
      <PATCHEDFILES>
        <FILE>ghost/i18n/lib/i18n.js</FILE>
        <FILE>ghost/i18n/locales/pt-BR/ghost.json</FILE>
        <FILE>ghost/i18n/locales/pt-BR/portal.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
