<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>109</ISSUENO>
  <ISSUEURL>https://github.com/openstf/stf/issues/109</ISSUEURL>
  <TITLE>zmq function Invalid argument error</TITLE>
  <DESCRIPTION>i pull the newest code from master, and run npm install successfully but when i run stf, i find the error below how can i fix it? /home/zhuxun/COMPANY/stf/newstf/node_modules/zmq/lib/index.js:252 this._zmq.setsockopt(opts[opt] || opt, val); ^ Error: Invalid argument at Error (native) at Socket.setsockopt (/home/zhuxun/COMPANY/stf/newstf/node_modules/zmq/lib/index.js:252:13) at Object.module.exports.socket (/home/zhuxun/COMPANY/stf/newstf/lib/util/zmqutil.js:11:8) at module.exports (/home/zhuxun/COMPANY/stf/newstf/lib/units/triproxy/index.js:19:21) at Command.&lt;anonymous&gt; (/home/zhuxun/COMPANY/stf/newstf/lib/cli.js:306:32) at Command.listener (/home/zhuxun/COMPANY/stf/newstf/node_modules/commander/index.js:301:8) at Command.emit (events.js:110:17) at Command.parseArgs (/home/zhuxun/COMPANY/stf/newstf/node_modules/commander/index.js:610:12) at Command.parse (/home/zhuxun/COMPANY/stf/newstf/node_modules/commander/index.js:458:21) at Object.&lt;anonymous&gt; (/home/zhuxun/COMPANY/stf/newstf/lib/cli.js:1166:9) at Module._compile (module.js:460:26) at Object.Module._extensions..js (module.js:478:10) at Module.load (module.js:355:32) at Function.Module._load (module.js:310:12) at Function.Module.runMain (module.js:501:10) at startup (node.js:129:16) FTL/cli:local 19744 [_] Child process had an error ExitError: Exit code &quot;1&quot; at ChildProcess.&lt;anonymous&gt; (/home/zhuxun/COMPANY/stf/newstf/lib/util/procutil.js:49:23) at ChildProcess.emit (events.js:110:17) at Process.ChildProcess._handle.onexit (child_process.js:1074:12) INF/cli:local 19744 [_] Shutting down all child processes /home/zhuxun/COMPANY/stf/newstf/node_modules/zmq/lib/index.js:252 this._zmq.setsockopt(opts[opt] || opt, val); ^ Error: Invalid argument at Error (native) at Socket.setsockopt (/home/zhuxun/COMPANY/stf/newstf/node_modules/zmq/lib/index.js:252:13) at Object.module.exports.socket (/home/zhuxun/COMPANY/stf/newstf/lib/util/zmqutil.js:11:8) at module.exports (/home/zhuxun/COMPANY/stf/newstf/lib/units/triproxy/index.js:19:21) at Command.&lt;anonymous&gt; (/home/zhuxun/COMPANY/stf/newstf/lib/cli.js:306:32) at Command.listener (/home/zhuxun/COMPANY/stf/newstf/node_modules/commander/index.js:301:8) at Command.emit (events.js:110:17) at Command.parseArgs (/home/zhuxun/COMPANY/stf/newstf/node_modules/commander/index.js:610:12) at Command.parse (/home/zhuxun/COMPANY/stf/newstf/node_modules/commander/index.js:458:21) at Object.&lt;anonymous&gt; (/home/zhuxun/COMPANY/stf/newstf/lib/cli.js:1166:9) at Module._compile (module.js:460:26) at Object.Module._extensions..js (module.js:478:10) at Module.load (module.js:355:32) at Function.Module._load (module.js:310:12) at Function.Module.runMain (module.js:501:10) at startup (node.js:129:16)</DESCRIPTION>
  <REPONAME>stf</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Do only gulp build and npm test for now.</MESSAGE>
    <SHA>2a5a7bae9a959f1aa6087ca13a893549dfda4252</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Output a warning instead of crashing if ZMQ library is too old to support TCP keepalive options. Fixes #109.</MESSAGE>
      <SHA>b248e96dc2582f0176b3a75468fa18ab0036c3e1</SHA>
      <PATCHEDFILES>
        <FILE>lib/util/zmqutil.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
