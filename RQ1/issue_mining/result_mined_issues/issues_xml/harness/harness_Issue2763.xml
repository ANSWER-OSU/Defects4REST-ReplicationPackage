<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2763</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2763</ISSUEURL>
  <TITLE>Drone 1.X: Secrets per image</TITLE>
  <DESCRIPTION>In drone 0.8 there was possibility to add Secrets scoped to certain images. This would allow only trusted images to use secrets. Now in Drone 1.0 when i try add secret for image i am getting following error: ``` flag provided but not defined: -image ``` This allows everyone to create a custom image and read all the secrets from it by putting them in **.drone.yml** file which can be considered as a security issue.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CDE-358]: Setting initial value of has_git_changes from last gitspace instance if it exists. (#2770) * feat: [CDE-358]: Setting initial value of has_git_changes from last gitspace instance if it exists.</MESSAGE>
    <SHA>4e2c9fae2800b679d0ff5adbbfc0743481104f31</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CODE-1474]: add check PR rebaseability (#2763) * update migration number * rename UpdateConflict-&gt;UpdateMergeOutcome * small fixes * handle mergeability for all merge methods * alway separate rebaseability check * add check PR rebaseability</MESSAGE>
      <SHA>2892378036c0e3bbc13a90e7413ff3a77d351f0a</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/pullreq/merge.go</FILE>
        <FILE>app/api/controller/pullreq/pr_create.go</FILE>
        <FILE>app/api/controller/pullreq/pr_state.go</FILE>
        <FILE>app/services/migrate/pullreq.go</FILE>
        <FILE>app/services/pullreq/handlers_branch.go</FILE>
        <FILE>app/services/pullreq/handlers_mergeable.go</FILE>
        <FILE>app/store/database/migrate/postgres/0080_alter_table_pullreq_add_rebaseability.down.sql</FILE>
        <FILE>app/store/database/migrate/postgres/0080_alter_table_pullreq_add_rebaseability.up.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0080_alter_table_pullreq_add_rebaseability.down.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0080_alter_table_pullreq_add_rebaseability.up.sql</FILE>
        <FILE>app/store/database/pullreq.go</FILE>
        <FILE>git/merge.go</FILE>
        <FILE>types/pullreq.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
