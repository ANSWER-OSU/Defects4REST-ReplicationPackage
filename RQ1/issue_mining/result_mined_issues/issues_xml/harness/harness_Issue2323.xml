<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2323</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2323</ISSUEURL>
  <TITLE>Anchors doesn't work in yaml</TITLE>
  <DESCRIPTION>Yaml anchors used to work with earlier versions. With the 0.8 line it doesn't work anymore Here is a snippet that would be nice to see working. More details are in this discourse thread: https://discourse.drone.io/t/solved-conditional-builds-multiple-when-clauses/316/4 ``` run_tests: &amp;run_tests image: node:7.6.0 commands: - npm install --no-optional --silent &gt; /dev/null - npm run ci pipeline: pr: &lt;&lt;: *run_tests when: event: pull_request branch: excludes: master push: &lt;&lt;: *run_tests when: event: push branch: master ``` Running this snippet results in &quot;Invalid or missing image&quot;</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>280</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CDE-195]: missing repo type is treated as unknown for gitspaces (#2317) * feat: [CDE-195]: missing repo type is treated as unknown for gitspaces</MESSAGE>
    <SHA>a3203ef284716af81efae2afba38f9bbcf94576d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CDE-195]: Add factory constructor method to create factory with providers map (#2323) * update method name * feat: [CDE-195]: Add factory constructor method to create factory with providers map</MESSAGE>
      <SHA>3edc1db6153417a27dbca0bcd71f936f9f5ac80c</SHA>
      <PATCHEDFILES>
        <FILE>app/gitspace/scm/scm_factory.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
