<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>739</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/739</ISSUEURL>
  <TITLE>Heroku plugin to use token instead of ssh key</TITLE>
  <DESCRIPTION>Documenting a request to switch to token-based authorization for Heroku: &gt; Heroku now has both a Build API and support for HTTP GIt. Both of these authenticate with simple API keys and OAuth tokens. So you could have users do a one-time OAuth flow and then use that to HTTP-git-push or operate the Build API to build and deploy to Heroku. Or (less great) ask users for their Heroku API token. We'll need to go with the second approach (users provide their API token), which includes the following changes to the Heroku plugin code: - the `.drone.yml` should accept a Heroku token - the Heroku plugin should write the token to a `.netrc` file - the Heroku plugin should push to the http url Details for setting up http git: https://devcenter.heroku.com/articles/http-git Heroku plugin code can be found here: https://github.com/drone/drone/tree/master/plugin/deploy/heroku</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>10</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[MISC] make `SetupWebhooks` and `SetupUploads` public (#742)</MESSAGE>
    <SHA>96aebcef92a0e78dd731c9dc9e5eee461856dd58</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>block modifications of pullreq refs (#739)</MESSAGE>
      <SHA>bd31faee074706dc854dacc513796134898f4dee</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/githook/post_receive.go</FILE>
        <FILE>app/api/controller/githook/pre_receive.go</FILE>
        <FILE>app/api/usererror/usererror.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
