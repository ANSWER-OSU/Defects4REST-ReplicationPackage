<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>538</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/538</ISSUEURL>
  <TITLE>Change private variable notation in YAML</TITLE>
  <DESCRIPTION>When private variables are defined in the user interface, Drone will attempt to inject them directly into the `.drone.yml` file using a mustache syntax. These variables will also be injected as environment variables in the Docker container. I'm planning to slightly change the notation for injecting private variables into the `drone.yml`. We will move away from a mustache syntax (ie `{{GITHUB_TOKEN}}` in favor of something more similar to a Makefile (ie `$$GITHUB_TOKEN`). The reason is that the mustache syntax will, at some point in the future, be used for matrix builds. See https://github.com/drone/drone/issues/6#issuecomment-36059400 for more details.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fixed Dockerfile to pass port via ENV</MESSAGE>
    <SHA>bbc0d37ad19fb35293827a6d4331a747127d4174</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>modified parameter injection strategy. see #538</MESSAGE>
      <SHA>629547813c261c0af536d25a937a8f7b95a41427</SHA>
      <PATCHEDFILES>
        <FILE>.drone.yml</FILE>
        <FILE>server/handler/hook.go</FILE>
        <FILE>server/worker/docker/docker.go</FILE>
        <FILE>shared/build/script/inject.go</FILE>
        <FILE>shared/build/script/inject_test.go</FILE>
        <FILE>shared/build/script/script.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'fix-flickering' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#538)</MESSAGE>
      <SHA>1e22391739d052a5a9a677f112007ae60397d115</SHA>
      <PATCHEDFILES>
        <FILE>web/src/pages/AddUpdatePipeline/AddUpdatePipeline.tsx</FILE>
        <FILE>web/src/pages/ExecutionList/ExecutionList.tsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
