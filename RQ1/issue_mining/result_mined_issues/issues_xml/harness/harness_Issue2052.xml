<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2052</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2052</ISSUEURL>
  <TITLE>Separate server and agent binaries and images</TITLE>
  <DESCRIPTION>Now that the CLI is moved to a separate repository I will propose separating the server and agent into separate binaries and publishing separate images for each. The binaries will follow the standard multi-binary layout: ``` cmd/drone-server cmd/drone-agent ``` We will then publish images for each ``` drone/drone drone/agent ``` The `drone/agent` does not have any CGO dependencies so we can cross-compile for armhf and arm64 and therefore distribute official images for each: ``` drone/agent:linux-arm drone/agent:linux-arm64 ``` Versioned tags would look like this: ``` linux-arm 0.6.0-linux-arm 0.6-linux-arm ``` We can probably remove `codegangsta/cli` in a subsequent release since there is really no reason to include such a heavy dependency now that the CLI is moved to a separate repository. But this is something we'll take at a later time.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>38</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: [CODE-1924]: Add support for keyword search recursively in space paths (#2048)</MESSAGE>
    <SHA>a0ac3e86c5643e6a10c196417569e1f674c266ec</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Adding changes for gitspaces (#2052)</MESSAGE>
      <SHA>73a3fa0fc1587d254dc627801cb511b78db77c2a</SHA>
      <PATCHEDFILES>
        <FILE>app/store/database/migrate/sqlite/0050_create_gitspace_configs_table.down.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0050_create_gitspace_configs_table.up.sql</FILE>
        <FILE>http/server.go</FILE>
        <FILE>web/config/cde/moduleFederation.config.js</FILE>
        <FILE>web/config/webpack.common.js</FILE>
        <FILE>web/config/webpack.dev.js</FILE>
        <FILE>web/package.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
