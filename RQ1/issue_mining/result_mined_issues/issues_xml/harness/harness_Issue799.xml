<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>799</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/799</ISSUEURL>
  <TITLE>npm publish plugin, only publish if version not exists</TITLE>
  <DESCRIPTION>The proposed change is to check if the npm package/version have already been published. We can add something like this to check: ``` sh test -z &quot;$(npm info bower@1.3.12)&quot; if [ $? -eq 0 ] then npm publish bower else echo &quot;skipping publish, package bower@1.3.12 already published&quot; fi ``` Note this is just an example. We would need to substitute `bower` and `1.3.2` for injected values. We would also need a way to determine the current package version. I'm guessing we can get this with a command somehow. /cc @donny-dont Anything else I'm missing?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>16</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #844 from andy-g/exclude_pr_from_branches Exclude Pull Requests from the branches.</MESSAGE>
    <SHA>46955db3bdb3422c064488f8e44f99c64447017a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>publish npm package if not exist on registry #799</MESSAGE>
      <SHA>25f1e24ce09b59de83e173a232a7841d8c704a68</SHA>
      <PATCHEDFILES>
        <FILE>plugin/publish/npm/npm.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #845 from shawnzhu/npm publish npm package if not exist on registry #799</MESSAGE>
      <SHA>44c5ca2b55cb458660e84fefc46f2e8367064bbe</SHA>
      <PATCHEDFILES>
        <FILE>plugin/publish/npm/npm.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>publish npm package if not exist on registry #799</MESSAGE>
      <SHA>8b9fc8334d702ba0d13084e69e4593ec13dbd620</SHA>
      <PATCHEDFILES>
        <FILE>plugin/publish/npm/npm.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[Rules] Delete of rule should not be publicly available (#799)</MESSAGE>
      <SHA>07951e7d7ef08ec6b121910376c2afe816033185</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/repo/rule_delete.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
