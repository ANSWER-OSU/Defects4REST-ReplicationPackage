<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>465</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/465</ISSUEURL>
  <TITLE>Java 1.8 version used is generating invalid byte-code</TITLE>
  <DESCRIPTION>I've been debugging an issue for quite a while where a certain code executes correctly on my machines, but always fail on drone.io. It turns out that drone.io uses an older release of the Java 1.8 SDK which contains a [code generation bug](http://bugs.java.com/view_bug.do?bug_id=8036942). In essence, if a lambda expression contains a multicatch statement, then the wrong catch clause is entered. Specifically in my case, [this is the code segment](https://github.com/project-iris/iris-java/blob/68b72fc6a5bda058e0b9f4f1a36d950d7a770b01/src/test/java/com/karalabe/iris/RequestTest.java#L287) that is executed, and the [drone.io output](https://drone.io/github.com/project-iris/iris-java/142). Code snippet: ``` java new Thread(() -&gt; { try { conn.request(TestConfigs.CLUSTER_NAME, new byte[]{0x00}, 1000); } catch (IOException | RemoteException | TimeoutException ignore) { ignore.printStackTrace(); // Not what we expected, time out } catch (ClosedException ignore) { done.release(); } }).start(); ``` Output snippet: ``` com.karalabe.iris.RequestTest &gt; terminate STANDARD_ERROR com.karalabe.iris.exceptions.ClosedException: java.lang.InterruptedException at com.karalabe.iris.schemes.RequestScheme.request(RequestScheme.java:80) at com.karalabe.iris.Connection.request(Connection.java:120) at com.karalabe.iris.RequestTest.lambda$terminate$4(RequestTest.java:285) at com.karalabe.iris.RequestTest$$Lambda$14/912498451.run(Unknown Source) at java.lang.Thread.run(Thread.java:744) Caused by: java.lang.InterruptedException at java.lang.Object.wait(Native Method) at java.lang.Object.wait(Object.java:502) at com.karalabe.iris.schemes.RequestScheme.request(RequestScheme.java:78) ``` As you can see, the first catch clause catches the ClosedException, even though only the second one should be able to.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'temp' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#464)</MESSAGE>
    <SHA>9110ce7f060d44211355fb195fd8b68f9d21d272</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [code-695]: fix username and password on forms (#465)</MESSAGE>
      <SHA>fdfa3ff39f98e66d7cfc3285808216db58a326c7</SHA>
      <PATCHEDFILES>
        <FILE>web/src/components/NewRepoModalButton/ImportForm/ImportForm.tsx</FILE>
        <FILE>web/src/components/NewSpaceModalButton/ImportSpaceForm/ImportSpaceForm.tsx</FILE>
        <FILE>web/src/utils/GitUtils.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
