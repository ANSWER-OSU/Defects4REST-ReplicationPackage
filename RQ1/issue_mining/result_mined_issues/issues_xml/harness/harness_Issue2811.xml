<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2811</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2811</ISSUEURL>
  <TITLE>Current build stage target variable</TITLE>
  <DESCRIPTION>It would be useful to have access to the current deploy promotion target within a step. This is to avoid potential duplicate step commands for differing targets. E.g. instead of: ``` name: deployTest image: ... commands: - ./deploy.sh test when: event: [ promote ] target: [test] name: deployProd image: ... commands: - ./deploy.sh prod when: event: [ promote ] target: [prod] ``` Have: ``` name: deploy image: ... commands: - ./deploy.sh $DRONE_BUILD_STAGE when: event: [ promote ] ``` Or, if the stage is an empty string when not promoted: ``` name: deploy image: ... commands: - ./deploy.sh $DRONE_BUILD_STAGE ```</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: [CODE-2134]: replace include_description with exclude_description param (#2808)</MESSAGE>
    <SHA>4d577bb378917b09f368b3af6aad762a21ef8d8c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [AH-433]: write DB migrator tool for Artifact Registry - export postgres FS (#2811) * feat: [AH-433]: write DB migrator tool for Artifact Registry - export postgres FS</MESSAGE>
      <SHA>6614040555c071a01e4b219b9272d8d82713b4dd</SHA>
      <PATCHEDFILES>
        <FILE>app/store/database/migrate/migrate.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
