<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>265</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/265</ISSUEURL>
  <TITLE>URLs from Slack and github has been broken.</TITLE>
  <DESCRIPTION>Seems https://github.com/drone/drone/pull/247/files changed to require a branch parameter, which is missing from some of the places that links to build, at least for me slack notify and link from github pull request are failing now. They use these urls respectively: from slack: http://myserver.com/github.com/Nordaaker/Input/commit/14fb2f277a7fa5042b2b2ef67cda2dc5e0018c3d gives sql: no rows in result set and from github: http://myserver.com/github.com/Nordaaker/Input/commit/reset-pwd/14fb2f277a7fa5042b2b2ef67cda2dc5e0018c3d (Github pull requests - gives a 404) Not sure if the right fix here is to make those old urls work or to only use the first format with ?branch=&lt;...&gt; added.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #269 from alexandre-butynski/fix-login-bug Fix regression due to #261</MESSAGE>
    <SHA>7646e9e5d3cb1d374c25a99ec0b9b0fcff8890db</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Correct url building for branch query. Fixes drone/drone#265</MESSAGE>
      <SHA>4fef8ad7d49bdb22676879193d832aaba7c2df6f</SHA>
      <PATCHEDFILES>
        <FILE>pkg/plugin/notify/slack.go</FILE>
        <FILE>pkg/plugin/notify/slack_test.go</FILE>
        <FILE>pkg/queue/worker.go</FILE>
        <FILE>pkg/queue/worker_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'eb/code-684' of _OKE5H2PQKOUfzFFDuD4FA/default/CODE/gitness (#265)</MESSAGE>
      <SHA>a85df2b43aea14d3fb9e05ae04087805f404d796</SHA>
      <PATCHEDFILES>
        <FILE>internal/api/controller/pullreq/merge.go</FILE>
        <FILE>types/pullreq.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
