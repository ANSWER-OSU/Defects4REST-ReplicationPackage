<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3430</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/3430</ISSUEURL>
  <TITLE>Can not login to dockerhub</TITLE>
  <DESCRIPTION>I am using [harness/gitness:3.0.0-beta.4](https://hub.docker.com/layers/harness/gitness/3.0.0-beta.4/images/sha256-a56874dd941eac647a6777678adbd6bcc791ad24d1d61f4b5cc9447cfd6433bb?context=explore). But when I using docker plugin in pipeline, something went wrong. I find [solution](https://docs.drone.io/plugins/popular/docker/#missing-username-or-password) in docs.drone.io, but it is not work for me. I am sure that password is correct, which can login success by command line. My pipeline file like below ```yaml kind: pipeline spec: stages: - name: build spec: platform: arch: amd64 os: linux steps: - type: plugin spec: name: docker inputs: auto_tag: true debug: true dockerfile: Dockerfile dry_run: &quot;false&quot; email: myemail force_tag: true password: dckr_pat_hxxxxxxxxxxxx_hvaQu-Kt5Tw // Anonymous token purge: &quot;true&quot; repo: ijkzen/javdb_spider username: ijkzen type: ci version: 1 ``` debug_log is following ``` script latest: Pulling from plugins/docker Digest: sha256:2f157400c2cb7de1b309b0f044f119375108218e54d38e1340e00b9f93abdefb Status: Image is up to date for plugins/docker:latest + /usr/local/bin/dockerd --data-root /var/lib/docker --host=unix:///var/run/docker.sock time=&quot;2023-11-24T13:22:03.069913755Z&quot; level=info msg=&quot;Starting up&quot; time=&quot;2023-11-24T13:22:03.070797784Z&quot; level=warning msg=&quot;could not change group /var/run/docker.sock to docker: group docker not found&quot; time=&quot;2023-11-24T13:22:03.071411451Z&quot; level=info msg=&quot;libcontainerd: started new containerd process&quot; pid=35 time=&quot;2023-11-24T13:22:03.071432847Z&quot; level=info msg=&quot;parsed scheme: \&quot;unix\&quot;&quot; module=grpc time=&quot;2023-11-24T13:22:03.071438966Z&quot; level=info msg=&quot;scheme \&quot;unix\&quot; not registered, fallback to default scheme&quot; module=grpc time=&quot;2023-11-24T13:22:03.071452056Z&quot; level=info msg=&quot;ccResolverWrapper: sending update to cc: {[{unix:///var/run/docker/containerd/containerd.sock &lt;nil&gt; 0 &lt;nil&gt;}] &lt;nil&gt; &lt;nil&gt;}&quot; module=grpc time=&quot;2023-11-24T13:22:03.071461408Z&quot; level=info msg=&quot;ClientConn switching balancer to \&quot;pick_first\&quot;&quot; module=grpc time=&quot;2023-11-24T13:22:03Z&quot; level=warning msg=&quot;deprecated version : `1`, please switch to version `2`&quot; time=&quot;2023-11-24T13:22:03.082555618Z&quot; level=info msg=&quot;starting containerd&quot; revision=3df54a852345ae127d1fa3092b95168e4a88e2f8 version=v1.5.11 t ime=&quot;2023-11-24T13:22:03.100989653Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.content.v1.content\&quot;...&quot; type=io.containerd.content.v1 time=&quot;2023-11-24T13:22:03.101107154Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.snapshotter.v1.aufs\&quot;...&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.106887444Z&quot; level=info msg=&quot;skip loading plugin \&quot;io.containerd.snapshotter.v1.aufs\&quot;...&quot; error=&quot;aufs is not supported (modprobe aufs failed: exit status 1 \&quot;ip: can't find device 'aufs'\\nmodprobe: can't change directory to '/lib/modules': No such file or directory\\n\&quot;): skip plugin&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.106911188Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.snapshotter.v1.btrfs\&quot;...&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107111110Z&quot; level=info msg=&quot;skip loading plugin \&quot;io.containerd.snapshotter.v1.btrfs\&quot;...&quot; error=&quot;path /var/lib/docker/containerd/daemon/io.containerd.snapshotter.v1.btrfs (ext4) must be a btrfs filesystem to be used with the btrfs snapshotter: skip plugin&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107136050Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.snapshotter.v1.devmapper\&quot;...&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107155549Z&quot; level=warning msg=&quot;failed to load plugin io.containerd.snapshotter.v1.devmapper&quot; error=&quot;devmapper not configured&quot; time=&quot;2023-11-24T13:22:03.107164009Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.snapshotter.v1.native\&quot;...&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107286874Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.snapshotter.v1.overlayfs\&quot;...&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107475990Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.snapshotter.v1.zfs\&quot;...&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107625693Z&quot; level=info msg=&quot;skip loading plugin \&quot;io.containerd.snapshotter.v1.zfs\&quot;...&quot; error=&quot;path /var/lib/docker/containerd/daemon/io.containerd.snapshotter.v1.zfs must be a zfs filesystem to be used with the zfs snapshotter: skip plugin&quot; type=io.containerd.snapshotter.v1 time=&quot;2023-11-24T13:22:03.107644722Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.metadata.v1.bolt\&quot;...&quot; type=io.containerd.metadata.v1 time=&quot;2023-11-24T13:22:03.107692272Z&quot; level=warning msg=&quot;could not use snapshotter devmapper in metadata plugin&quot; error=&quot;devmapper not configured&quot; time=&quot;2023-11-24T13:22:03.107702507Z&quot; level=info msg=&quot;metadata content store policy set&quot; policy=shared time=&quot;2023-11-24T13:22:03.109805594Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.differ.v1.walking\&quot;...&quot; type=io.containerd.differ.v1 time=&quot;2023-11-24T13:22:03.109827243Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.gc.v1.scheduler\&quot;...&quot; type=io.containerd.gc.v1 time=&quot;2023-11-24T13:22:03.109879255Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.introspection-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.109924718Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.containers-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.109967415Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.content-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110043712Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.diff-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110057430Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.images-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110067469Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.leases-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110093248Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.namespaces-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110115255Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.snapshots-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110136203Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.runtime.v1.linux\&quot;...&quot; type=io.containerd.runtime.v1 t ime=&quot;2023-11-24T13:22:03.110338429Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.runtime.v2.task\&quot;...&quot; type=io.containerd.runtime.v2 time=&quot;2023-11-24T13:22:03.110452834Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.monitor.v1.cgroups\&quot;...&quot; type=io.containerd.monitor.v1 time=&quot;2023-11-24T13:22:03.110686716Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.service.v1.tasks-service\&quot;...&quot; type=io.containerd.service.v1 time=&quot;2023-11-24T13:22:03.110713604Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.internal.v1.restart\&quot;...&quot; type=io.containerd.internal.v1 time=&quot;2023-11-24T13:22:03.110756511Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.containers\&quot;...&quot; type=io.containerd.grpc.v1 t ime=&quot;2023-11-24T13:22:03.110767713Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.content\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110787296Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.diff\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110795777Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.events\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110804828Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.healthcheck\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110813677Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.images\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110822966Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.leases\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110833586Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.namespaces\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.110842360Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.internal.v1.opt\&quot;...&quot; type=io.containerd.internal.v1 time=&quot;2023-11-24T13:22:03.111021383Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.snapshots\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.111043977Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.tasks\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.111053949Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.version\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.111062391Z&quot; level=info msg=&quot;loading plugin \&quot;io.containerd.grpc.v1.introspection\&quot;...&quot; type=io.containerd.grpc.v1 time=&quot;2023-11-24T13:22:03.111283097Z&quot; level=info msg=serving... address=/var/run/docker/containerd/containerd-debug.sock time=&quot;2023-11-24T13:22:03.111349767Z&quot; level=info msg=serving... address=/var/run/docker/containerd/containerd.sock.ttrpc time=&quot;2023-11-24T13:22:03.111408874Z&quot; level=info msg=serving... address=/var/run/docker/containerd/containerd.sock time=&quot;2023-11-24T13:22:03.111443227Z&quot; level=info msg=&quot;containerd successfully booted in 0.030134s&quot; time=&quot;2023-11-24T13:22:03.115054195Z&quot; level=info msg=&quot;parsed scheme: \&quot;unix\&quot;&quot; module=grpc time=&quot;2023-11-24T13:22:03.115069431Z&quot; level=info msg=&quot;scheme \&quot;unix\&quot; not registered, fallback to default scheme&quot; module=grpc time=&quot;2023-11-24T13:22:03.115081380Z&quot; level=info msg=&quot;ccResolverWrapper: sending update to cc: {[{unix:///var/run/docker/containerd/containerd.sock &lt;nil&gt; 0 &lt;nil&gt;}] &lt;nil&gt; &lt;nil&gt;}&quot; module=grpc time=&quot;2023-11-24T13:22:03.115088118Z&quot; level=info msg=&quot;ClientConn switching balancer to \&quot;pick_first\&quot;&quot; module=grpc time=&quot;2023-11-24T13:22:03.115639278Z&quot; level=info msg=&quot;parsed scheme: \&quot;unix\&quot;&quot; module=grpc time=&quot;2023-11-24T13:22:03.115651128Z&quot; level=info msg=&quot;scheme \&quot;unix\&quot; not registered, fallback to default scheme&quot; module=grpc time=&quot;2023-11-24T13:22:03.115661973Z&quot; level=info msg=&quot;ccResolverWrapper: sending update to cc: {[{unix:///var/run/docker/containerd/containerd.sock &lt;nil&gt; 0 &lt;nil&gt;}] &lt;nil&gt; &lt;nil&gt;}&quot; module=grpc time=&quot;2023-11-24T13:22:03.115670029Z&quot; level=info msg=&quot;ClientConn switching balancer to \&quot;pick_first\&quot;&quot; module=grpc time=&quot;2023-11-24T13:22:03.129429406Z&quot; level=info msg=&quot;Loading containers: start.&quot; time=&quot;2023-11-24T13:22:03.170303636Z&quot; level=info msg=&quot;Default bridge (docker0) is assigned with an IP address 172.17.0.0/16. Daemon option --bip can be used to set a preferred IP address&quot; time=&quot;2023-11-24T13:22:03.195610323Z&quot; level=info msg=&quot;Loading containers: done.&quot; time=&quot;2023-11-24T13:22:03.203655327Z&quot; level=info msg=&quot;Docker daemon&quot; commit=87a90dc graphdriver(s)=overlay2 version=20.10.14 time=&quot;2023-11-24T13:22:03.203759420Z&quot; level=info msg=&quot;Daemon has completed initialization&quot; time=&quot;2023-11-24T13:22:03.223018955Z&quot; level=info msg=&quot;API listen on /var/run/docker.sock&quot; Detected registry credentials unknown shorthand flag: 'e' in -e See 'docker login --help'. time=&quot;2023-11-24T13:22:04Z&quot; level=fatal msg=&quot;error authenticating: exit status 1&quot; ``` Please Help me. Thank you!</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [AH-944]: remove gradle option from create registry form (#3446) * feat: [AH-944]: remove gradle option from create registry form</MESSAGE>
    <SHA>c1b3e2dda04800965ca4992f1ea1bd80819c76d0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>chore: [ML-660]: moved aiAgent, genAi and capabilities codebase from gitness to harness-intelligence (#3430) * wire gen * remove slack messaging code * Merge branch 'main' of https://git0.harness.io/l7B_kbSEQD2wjrM7PShm5w/PROD/Harness_Commons/gitness into ML-660 * chore: [ML-660]: removed execution analysis types Signed-off-by: Saranya-jena &lt;saranya.jena@harness.io&gt; * chore: [ML-660]: removed capabilities Signed-off-by: Saranya-jena &lt;saranya.jena@harness.io&gt; * chore: [ML-660]: updated branch Signed-off-by: Saranya-jena &lt;saranya.jena@harness.io&gt; * Merge branch 'main' of https://git0.harness.io/l7B_kbSEQD2wjrM7PShm5w/PROD/Harness_Commons/gitness into ML-660 * chore: [ML-660]: removed aiAgent and capabilities codebase Signed-off-by: Saranya-jena &lt;saranya.jena@harness.io&gt;</MESSAGE>
      <SHA>06c48f3d3d63786ea49cc63f6f0abd6bcbe33862</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/aiagent/analyse_execution.go</FILE>
        <FILE>app/api/controller/aiagent/controller.go</FILE>
        <FILE>app/api/controller/aiagent/generate_pipeline.go</FILE>
        <FILE>app/api/controller/aiagent/generate_pipeline_stage.go</FILE>
        <FILE>app/api/controller/aiagent/generate_pipeline_step.go</FILE>
        <FILE>app/api/controller/aiagent/slackbot.go</FILE>
        <FILE>app/api/controller/aiagent/suggest_pipelines.go</FILE>
        <FILE>app/api/controller/aiagent/types/chat.go</FILE>
        <FILE>app/api/controller/aiagent/types/common.go</FILE>
        <FILE>app/api/controller/aiagent/types/enum/actions.go</FILE>
        <FILE>app/api/controller/aiagent/types/enum/message_type.go</FILE>
        <FILE>app/api/controller/aiagent/types/enum/request_action_types.go</FILE>
        <FILE>app/api/controller/aiagent/types/enum/role.go</FILE>
        <FILE>app/api/controller/aiagent/types/enum/stage_type.go</FILE>
        <FILE>app/api/controller/aiagent/types/pipeline.go</FILE>
        <FILE>app/api/controller/aiagent/types/stage.go</FILE>
        <FILE>app/api/controller/aiagent/types/step.go</FILE>
        <FILE>app/api/controller/aiagent/update_pipeline.go</FILE>
        <FILE>app/api/controller/aiagent/update_pipeline_step.go</FILE>
        <FILE>app/api/controller/aiagent/wire.go</FILE>
        <FILE>app/api/controller/capabilities/controller.go</FILE>
        <FILE>app/api/controller/capabilities/run_capabilities.go</FILE>
        <FILE>app/api/controller/capabilities/wire.go</FILE>
        <FILE>app/api/handler/aiagent/analyse_execution.go</FILE>
        <FILE>app/api/handler/aiagent/generate_pipeline.go</FILE>
        <FILE>app/api/handler/aiagent/generate_pipeline_step.go</FILE>
        <FILE>app/api/handler/aiagent/sanitize.go</FILE>
        <FILE>app/api/handler/aiagent/sanitize_test.go</FILE>
        <FILE>app/api/handler/aiagent/slackbot.go</FILE>
        <FILE>app/api/handler/aiagent/suggest_pipelines.go</FILE>
        <FILE>app/api/handler/aiagent/update_pipeline.go</FILE>
        <FILE>app/api/handler/capabilities/run_capabilities.go</FILE>
        <FILE>app/router/api.go</FILE>
        <FILE>app/router/wire.go</FILE>
        <FILE>app/services/aiagent/intelligence.go</FILE>
        <FILE>app/services/aiagent/wire.go</FILE>
        <FILE>app/services/capabilities/capabilities.go</FILE>
        <FILE>app/services/capabilities/display_error.go</FILE>
        <FILE>app/services/capabilities/display_yaml.go</FILE>
        <FILE>app/services/capabilities/get_file.go</FILE>
        <FILE>app/services/capabilities/list_files.go</FILE>
        <FILE>app/services/capabilities/wire.go</FILE>
        <FILE>app/services/messaging/slack.go</FILE>
        <FILE>app/services/messaging/wire.go</FILE>
        <FILE>cmd/gitness/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>genai/genai.go</FILE>
        <FILE>types/aigenerate/common.go</FILE>
        <FILE>types/aigenerate/pipeline.go</FILE>
        <FILE>types/aigenerate/stage.go</FILE>
        <FILE>types/aigenerate/step.go</FILE>
        <FILE>types/capabilities/capabilities.go</FILE>
        <FILE>types/execution_analysis.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
