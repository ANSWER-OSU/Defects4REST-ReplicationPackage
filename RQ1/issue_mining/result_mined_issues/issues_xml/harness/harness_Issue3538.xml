<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3538</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/3538</ISSUEURL>
  <TITLE>How to use S3 or GCS to store repos?</TITLE>
  <DESCRIPTION>How can I configure S3 storage in Gitness to store Git repositories? I noticed that GCS is configured in this repository: https://github.com/harness/gitness/tree/main/blob. Is it used for storing repositories? If so, which environment variables or paths need to be configured to mount S3-compatible storage for storing the Git repositories?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [CODE-2528]: Support Git LFS (#3506) * Apply suggestion from code review * Merge branch 'feature/GitLFSv1' of https://git0.harness.io/l7B_kbSEQD2wjrM7PShm5w/PROD/Harness_Commons/gitness into feature/GitLFSv1 * pr comments * Apply suggestion from code review * PR comments and lints * lints * pr comments * self review-code cleaning * feat: [CODE-2528]: implement gcs download func (#3505) * revert ui changes that sneaked into my pr * rely on repoCore * merge main into feature branch * fix: parsing LFS OIDs in git (#3470) * Detect missing lfs objects on pre-receive (#3378) * use principal type to generate token for remote auth (#3385) * Revert &quot;feat: [PIPE-24548]: Add label creation to pullreq creation (#3276)&quot; This reverts commit 6391117c6137a574934b9adb57b46ca7d7feaa19. * feat: [CODE-2528] Git LFS Over SSH (#3279) * feat: [PIPE-24548]: Add label creation to pullreq creation (#3276) * Refactor label select base const and its use * Add created labels to create pr response * Merge remote-tracking branch 'origin/main' into dd</MESSAGE>
    <SHA>0a573a566c3114c5a370919dcf9a1754d8126761</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CDE-681]: Find infra from DB and status from GCP (#3538) (#3540) * feat: [CDE-681]: Find infra from DB and status from GCP (#3538) * Merge branch 'hybrid' into CDE-681 * feat: [CDE-681]: fix lint * feat: [CDE-681]: fix lint * feat: [CDE-681]: merge * feat: [CDE-681]: fix wiring * feat: [CDE-681]: handle delete and fallback for it * feat: [CDE-681]: handle delete and fallback for it * feat: [CDE-681]: Find infra from DB and status from GCP * feat: [CDE-681]: Find infra from DB and status from GCP * feat: [CDE-681]: Find infra from DB and status from GCP * feat: [CDE-681]: Find infra from DB and status from GCP * feat: [CDE-681]: Find infra from DB and status from GCP * feat: [CDE-681]: merge * feat: [CDE-661]: set starting state by default in resume * Merge branch 'main' into hybrid * feat: [CDE-661]: fix host and port (#3511) * feat: [CDE-661]: fix host and port * feat: [CDE-661]: fix host and port * feat: [CDE-661]: send remove request for hybrid (#3500) * feat: [CDE-661]: add debug logs * feat: [CDE-661]: send remove request for hybrid * feat:</MESSAGE>
      <SHA>ff18742bdd96a6c1a94d2c47d3f5ae3c8e0ada9e</SHA>
      <PATCHEDFILES>
        <FILE>app/events/gitspaceoperations/category.go</FILE>
        <FILE>app/events/gitspaceoperations/events.go</FILE>
        <FILE>app/events/gitspaceoperations/reader.go</FILE>
        <FILE>app/events/gitspaceoperations/reporter.go</FILE>
        <FILE>app/events/gitspaceoperations/wire.go</FILE>
        <FILE>app/gitspace/infrastructure/find.go</FILE>
        <FILE>app/gitspace/infrastructure/infra_post_exec.go</FILE>
        <FILE>app/gitspace/infrastructure/trigger_infra_event.go</FILE>
        <FILE>app/gitspace/orchestrator/container/container_orchestrator.go</FILE>
        <FILE>app/gitspace/orchestrator/container/devcontainer_container_utils.go</FILE>
        <FILE>app/gitspace/orchestrator/container/embedded_docker_container_orchestrator.go</FILE>
        <FILE>app/gitspace/orchestrator/container/orchestrator_factory.go</FILE>
        <FILE>app/gitspace/orchestrator/container/response/delete.go</FILE>
        <FILE>app/gitspace/orchestrator/container/response/start.go</FILE>
        <FILE>app/gitspace/orchestrator/container/types.go</FILE>
        <FILE>app/gitspace/orchestrator/container/util.go</FILE>
        <FILE>app/gitspace/orchestrator/container/wire.go</FILE>
        <FILE>app/gitspace/orchestrator/orchestrator_resume.go</FILE>
        <FILE>app/gitspace/orchestrator/orchestrator_trigger.go</FILE>
        <FILE>app/gitspace/orchestrator/utils/secret.go</FILE>
        <FILE>app/gitspace/orchestrator/wire.go</FILE>
        <FILE>app/services/gitspaceinfraevent/handler.go</FILE>
        <FILE>app/services/gitspaceoperationsevent/handler.go</FILE>
        <FILE>app/services/gitspaceoperationsevent/service.go</FILE>
        <FILE>app/services/gitspaceoperationsevent/wire.go</FILE>
        <FILE>app/services/gitspaceservice/wire.go</FILE>
        <FILE>app/services/wire.go</FILE>
        <FILE>app/store/database.go</FILE>
        <FILE>app/store/database/migrate/postgres/0102_alter_table_delegate_provision_details_add_column_task_details.down.sql</FILE>
        <FILE>app/store/database/migrate/postgres/0102_alter_table_delegate_provision_details_add_column_task_details.up.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0102_alter_table_delegate_provision_details_add_column_task_details.down.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0102_alter_table_delegate_provision_details_add_column_task_details.up.sql</FILE>
        <FILE>cmd/gitness/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>events/reporter.go</FILE>
        <FILE>infraprovider/docker_provider.go</FILE>
        <FILE>infraprovider/infra_provider.go</FILE>
        <FILE>types/enum/gitspace_operations_event.go</FILE>
        <FILE>types/infrastructure.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
