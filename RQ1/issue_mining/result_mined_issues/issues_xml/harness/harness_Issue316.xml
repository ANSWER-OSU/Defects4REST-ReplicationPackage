<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>316</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/316</ISSUEURL>
  <TITLE>Run docker on drone.io?</TITLE>
  <DESCRIPTION>Hi, I'm wondering if I can run a docker on drone.io? I have some Dockerfiles and a shell script. The script will use those Dockerfiles to somehow build a docker images. Therefore, I'll need a docker client &amp; docker daemon. I try to install &amp; run docker via the following commands on drone.io: ``` sudo apt-get update sudo apt-get install -y linux-image-extra-`uname -r` sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 36A1D7869245C8950F966E92D8576A8BA88D21E9 sudo sh -c &quot;echo deb http://get.docker.io/ubuntu docker main\ &gt; /etc/apt/sources.list.d/docker.list&quot; sudo apt-get update sudo apt-get install -y lxc-docker sudo service docker status sudo cat /var/log/upstart/docker.log sleep 60 sudo service docker status sudo docker -H unix:///var/run/docker.sock version ``` However, the docker status gives: ``` sudo service docker status docker stop/waiting ``` and the log `/var/log/upstart/docker.log`: ``` $ sudo cat /var/log/upstart/docker.log mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only mount: block device cgroup is write-protected, mounting read-only mount: cannot mount block device cgroup read-only 2014/05/22 07:01:41 WARNING: You are running linux kernel version 3.2.0-23-virtual, which might be unstable running docker. Please upgrade your kernel to 3.8.0. 2014/05/22 07:01:41 docker daemon: 0.11.1 fb99f99; execdriver: native; graphdriver: [7210a4bc] +job serveapi(unix:///var/run/docker.sock) [7210a4bc] +job initserver() [7210a4bc.initserver()] Creating server 2014/05/22 07:01:41 Listening for HTTP on unix (/var/run/docker.sock) permission denied [7210a4bc] -job initserver() = ERR (1) 2014/05/22 07:01:41 permission denied ``` and the `docker info` gives ``` $ sudo docker -H unix:///var/run/docker.sock version Client version: 0.11.1 Client API version: 1.11 Go version (client): go1.2.1 Git commit (client): fb99f99 2014/05/22 07:02:41 Cannot connect to the Docker daemon. Is 'docker -d' running on this host? ``` Did I miss something?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [code-121]: add reviewers and tags sidebar (#317)</MESSAGE>
    <SHA>f2358bd4ec0fcdc23674d83ec67b5c6fe5d9f3e0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [code-120]: internal page refresh button (#316)</MESSAGE>
      <SHA>e179696678cad7c5510d58e810475babcbaeb2eb</SHA>
      <PATCHEDFILES>
        <FILE>web/src/components/Changes/Changes.module.scss</FILE>
        <FILE>web/src/components/Changes/Changes.module.scss.d.ts</FILE>
        <FILE>web/src/components/Changes/Changes.tsx</FILE>
        <FILE>web/src/components/CommitsView/CommitsView.module.scss</FILE>
        <FILE>web/src/components/CommitsView/CommitsView.module.scss.d.ts</FILE>
        <FILE>web/src/components/CommitsView/CommitsView.tsx</FILE>
        <FILE>web/src/framework/strings/stringTypes.ts</FILE>
        <FILE>web/src/i18n/strings.en.yaml</FILE>
        <FILE>web/src/pages/PullRequest/Conversation/Conversation.module.scss</FILE>
        <FILE>web/src/pages/PullRequest/Conversation/Conversation.module.scss.d.ts</FILE>
        <FILE>web/src/pages/PullRequest/Conversation/Conversation.tsx</FILE>
        <FILE>web/src/pages/PullRequest/Conversation/PullRequestSideBar/PullRequestSideBar.tsx</FILE>
        <FILE>web/src/pages/PullRequest/PullRequest.tsx</FILE>
        <FILE>web/src/pages/PullRequest/PullRequestCommits/PullRequestCommits.tsx</FILE>
        <FILE>web/src/utils/Utils.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: [code-741]: fix token generation links (#316)</MESSAGE>
      <SHA>225ca6332a6bd0b7b13a4d62e9c47c9ef8efce37</SHA>
      <PATCHEDFILES>
        <FILE>web/src/pages/Repository/EmptyRepositoryInfo.tsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
