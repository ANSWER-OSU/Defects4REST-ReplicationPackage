<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2658</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/2658</ISSUEURL>
  <TITLE>Sync issues when repository deleted and re-created</TITLE>
  <DESCRIPTION>When a repository is deleted and then re-created with the same name, Drone is unable to add the repository to list because an entry with the same name exists but a different unique identifier. We should be able to account for this in the synchornization process. If not, we should log some sort of error and then give a way to manually purge a repository by name from the database as a workaround.</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>175</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>log subscriber pipeline type and kind</MESSAGE>
    <SHA>74b62fc08a7f4dd4fd90b1c03c97676357281aed</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>add test case that demonstrates issue #2658</MESSAGE>
      <SHA>440f192730a523c632db8ab40fa5ca13d5584fc0</SHA>
      <PATCHEDFILES>
        <FILE>core/batch.go</FILE>
        <FILE>go.mod</FILE>
        <FILE>go.sum</FILE>
        <FILE>store/batch/batch_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
