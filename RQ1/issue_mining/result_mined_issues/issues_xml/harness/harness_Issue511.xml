<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>511</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/511</ISSUEURL>
  <TITLE>Enableing DualStack transport</TITLE>
  <DESCRIPTION>This is workaround for enabling [DualStack](https://golang.org/src/pkg/net/dial.go#L41) flag for IPv6 only hosts. If you have IPv6 (without IPv4 routes) host and `github.enterprise.com` that have IPv4 **and** IPv6 adresses - go will pick IPv4 by default. This will cause next error: `Error exchanging token. Post https://github.enterprise.com/login/oauth/access_token: dial tcp x.x.x.x:443: no route to host` You will need pass `Transport` to `oauth.Transport` calls. For github you should modify [github.go](https://github.com/drone/drone/blob/5f950d21c494c48ffae6e32cf9e381ea3ee6125a/plugin/remote/github/github.go#L81): ``` go // Do not forget to import `net` in the head of file var trans = &amp;oauth.Transport{Config: config, Transport: &amp;http.Transport{Dial: (&amp;net.Dialer{DualStack: true}).Dial}} ``` Also [helper.go](https://github.com/drone/drone/blob/5f950d21c494c48ffae6e32cf9e381ea3ee6125a/plugin/remote/github/helper.go#L20) should be modified in the same way. Seems like `Transport` should be refactored in one place and be configurable (`dualstack` in config would be nice).</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>4</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[MISC] Minor Change in Import/Export Progress Reporting (#509)</MESSAGE>
    <SHA>682efb9dba7f115d7017e916060d7f4c3dec260f</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[GITRPC] Disable Credential Helper For Puhs (#511)</MESSAGE>
      <SHA>e88a518da461a86d6bef9e83cca071e294a6f257</SHA>
      <PATCHEDFILES>
        <FILE>gitrpc/internal/gitea/repo.go</FILE>
        <FILE>gitrpc/internal/service/shared_repo.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
