<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3378</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/3378</ISSUEURL>
  <TITLE>Gitness on Docker with Network Macvlan</TITLE>
  <DESCRIPTION>I tried to run gitness on a machine with docker and the network mode macvlan. This works with Drone 2: - Start the drone-server with: `docker run --name drone-server --net=macvlan_netname -t -d drone/drone` - Start the drone-runner-docker with: `docker run --name node01 --net=macvlan_netname -t -d -e DRONE_RUNNER_NETWORKS=macvlan_netname -v /var/run/docker.sock:/var/run/docker.sock drone/drone-runner-docker` Right now the clone failed because the clone step can not resolve http://host.docker.internal:3000. This is expected with the used network mode because macvlan allows container-to-container but not container-to-host communication. Drone allows this kind of setup via `DRONE_RUNNER_NETWORKS`. Is there a similar option within gitness to support macvlan?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>466</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [AH-933]: implement webhook execution (#3444) * feat: [AH-933]: implement webhook execution * feat: [AH-933]: implement webhook execution</MESSAGE>
    <SHA>6da9821bc7f719f4aac94cba82208626ed573770</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: [CODE-2528]: Support Git LFS (#3506) * Apply suggestion from code review * Merge branch 'feature/GitLFSv1' of https://git0.harness.io/l7B_kbSEQD2wjrM7PShm5w/PROD/Harness_Commons/gitness into feature/GitLFSv1 * pr comments * Apply suggestion from code review * PR comments and lints * lints * pr comments * self review-code cleaning * feat: [CODE-2528]: implement gcs download func (#3505) * revert ui changes that sneaked into my pr * rely on repoCore * merge main into feature branch * fix: parsing LFS OIDs in git (#3470) * Detect missing lfs objects on pre-receive (#3378) * use principal type to generate token for remote auth (#3385) * Revert &quot;feat: [PIPE-24548]: Add label creation to pullreq creation (#3276)&quot; This reverts commit 6391117c6137a574934b9adb57b46ca7d7feaa19. * feat: [CODE-2528] Git LFS Over SSH (#3279) * feat: [PIPE-24548]: Add label creation to pullreq creation (#3276) * Refactor label select base const and its use * Add created labels to create pr response * Merge remote-tracking branch 'origin/main' into dd</MESSAGE>
      <SHA>0a573a566c3114c5a370919dcf9a1754d8126761</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/githook/controller.go</FILE>
        <FILE>app/api/controller/githook/git.go</FILE>
        <FILE>app/api/controller/githook/pre_receive.go</FILE>
        <FILE>app/api/controller/githook/pre_receive_file_size_limit.go</FILE>
        <FILE>app/api/controller/githook/pre_receive_lfs_objects.go</FILE>
        <FILE>app/api/controller/githook/wire.go</FILE>
        <FILE>app/api/controller/lfs/authenticate.go</FILE>
        <FILE>app/api/controller/lfs/controller.go</FILE>
        <FILE>app/api/controller/lfs/download.go</FILE>
        <FILE>app/api/controller/lfs/errors.go</FILE>
        <FILE>app/api/controller/lfs/transfer.go</FILE>
        <FILE>app/api/controller/lfs/types.go</FILE>
        <FILE>app/api/controller/lfs/upload.go</FILE>
        <FILE>app/api/controller/lfs/wire.go</FILE>
        <FILE>app/api/controller/upload/download.go</FILE>
        <FILE>app/api/controller/user/login.go</FILE>
        <FILE>app/api/handler/lfs/download.go</FILE>
        <FILE>app/api/handler/lfs/transfer.go</FILE>
        <FILE>app/api/handler/lfs/upload.go</FILE>
        <FILE>app/api/handler/repo/git_info_refs.go</FILE>
        <FILE>app/api/handler/repo/git_service_pack.go</FILE>
        <FILE>app/api/render/render.go</FILE>
        <FILE>app/api/request/lfs.go</FILE>
        <FILE>app/auth/authn/jwt.go</FILE>
        <FILE>app/router/git.go</FILE>
        <FILE>app/router/wire.go</FILE>
        <FILE>app/services/remoteauth/user_jwt_provider.go</FILE>
        <FILE>app/services/remoteauth/wire.go</FILE>
        <FILE>app/store/database.go</FILE>
        <FILE>app/store/database/lfs_objects.go</FILE>
        <FILE>app/store/database/migrate/postgres/0103_create_table_lfs_objects.down.sql</FILE>
        <FILE>app/store/database/migrate/postgres/0103_create_table_lfs_objects.up.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0103_create_table_lfs_objects.down.sql</FILE>
        <FILE>app/store/database/migrate/sqlite/0103_create_table_lfs_objects.up.sql</FILE>
        <FILE>app/store/database/wire.go</FILE>
        <FILE>app/token/token.go</FILE>
        <FILE>blob/filesystem.go</FILE>
        <FILE>blob/gcs.go</FILE>
        <FILE>blob/interface.go</FILE>
        <FILE>cmd/gitness/wire.go</FILE>
        <FILE>cmd/gitness/wire_gen.go</FILE>
        <FILE>git/blob.go</FILE>
        <FILE>git/interface.go</FILE>
        <FILE>git/parser/lfs_pointers.go</FILE>
        <FILE>go.mod</FILE>
        <FILE>go.sum</FILE>
        <FILE>ssh/server.go</FILE>
        <FILE>ssh/wire.go</FILE>
        <FILE>types/enum/git_lfs.go</FILE>
        <FILE>types/enum/token.go</FILE>
        <FILE>types/lfs.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
