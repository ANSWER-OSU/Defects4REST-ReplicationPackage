<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1070</ISSUENO>
  <ISSUEURL>https://github.com/harness/harness/issues/1070</ISSUEURL>
  <TITLE>Question about build matrix</TITLE>
  <DESCRIPTION>Hi, I have a question about the build matrix new feature, but I don't think it's possible using the current format. What is the best solution for this use case: I have an application which I want to be able to run on x86/x64 but also on arm architecture. I can add 2 build workers for this (1 for x64 and one for arm), but I have the following questions: 1. Can drone worker run on arm architecture ? 2. How can I make sure that one build will go on arm server and one on x64 server ? 3. I need different services images, for example `redis` for x64 and `arm-redis` for arm. Is this supported by build matrix ?</DESCRIPTION>
  <REPONAME>harness</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: [code-1438]: add new branch rule (#1072)</MESSAGE>
    <SHA>0d38047153599f5ccb57f7b104c5b0f93a02dcbb</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Log error translation under requestID to improve traceability (#1070)</MESSAGE>
      <SHA>73ffe71afe71e1638f64f7d142bbbbd2248fd841</SHA>
      <PATCHEDFILES>
        <FILE>app/api/controller/pullreq/locks.go</FILE>
        <FILE>app/api/controller/user/login.go</FILE>
        <FILE>app/api/handler/account/login.go</FILE>
        <FILE>app/api/handler/account/logout.go</FILE>
        <FILE>app/api/handler/account/register.go</FILE>
        <FILE>app/api/handler/check/check_list.go</FILE>
        <FILE>app/api/handler/check/check_recent.go</FILE>
        <FILE>app/api/handler/check/check_report.go</FILE>
        <FILE>app/api/handler/connector/create.go</FILE>
        <FILE>app/api/handler/connector/delete.go</FILE>
        <FILE>app/api/handler/connector/find.go</FILE>
        <FILE>app/api/handler/connector/update.go</FILE>
        <FILE>app/api/handler/execution/cancel.go</FILE>
        <FILE>app/api/handler/execution/create.go</FILE>
        <FILE>app/api/handler/execution/delete.go</FILE>
        <FILE>app/api/handler/execution/find.go</FILE>
        <FILE>app/api/handler/execution/list.go</FILE>
        <FILE>app/api/handler/githook/post_receive.go</FILE>
        <FILE>app/api/handler/githook/pre_receive.go</FILE>
        <FILE>app/api/handler/githook/update.go</FILE>
        <FILE>app/api/handler/keywordsearch/search.go</FILE>
        <FILE>app/api/handler/logs/find.go</FILE>
        <FILE>app/api/handler/logs/tail.go</FILE>
        <FILE>app/api/handler/pipeline/create.go</FILE>
        <FILE>app/api/handler/pipeline/delete.go</FILE>
        <FILE>app/api/handler/pipeline/find.go</FILE>
        <FILE>app/api/handler/pipeline/update.go</FILE>
        <FILE>app/api/handler/plugin/list.go</FILE>
        <FILE>app/api/handler/principal/search.go</FILE>
        <FILE>app/api/handler/pullreq/activity_list.go</FILE>
        <FILE>app/api/handler/pullreq/check_list.go</FILE>
        <FILE>app/api/handler/pullreq/codeowner.go</FILE>
        <FILE>app/api/handler/pullreq/comment_create.go</FILE>
        <FILE>app/api/handler/pullreq/comment_delete.go</FILE>
        <FILE>app/api/handler/pullreq/comment_status.go</FILE>
        <FILE>app/api/handler/pullreq/comment_update.go</FILE>
        <FILE>app/api/handler/pullreq/file_view_add.go</FILE>
        <FILE>app/api/handler/pullreq/file_view_delete.go</FILE>
        <FILE>app/api/handler/pullreq/file_view_list.go</FILE>
        <FILE>app/api/handler/pullreq/merge.go</FILE>
        <FILE>app/api/handler/pullreq/pr_commits.go</FILE>
        <FILE>app/api/handler/pullreq/pr_create.go</FILE>
        <FILE>app/api/handler/pullreq/pr_diff.go</FILE>
        <FILE>app/api/handler/pullreq/pr_find.go</FILE>
        <FILE>app/api/handler/pullreq/pr_list.go</FILE>
        <FILE>app/api/handler/pullreq/pr_metadata.go</FILE>
        <FILE>app/api/handler/pullreq/pr_state.go</FILE>
        <FILE>app/api/handler/pullreq/pr_update.go</FILE>
        <FILE>app/api/handler/pullreq/review_submit.go</FILE>
        <FILE>app/api/handler/pullreq/reviewer_add.go</FILE>
        <FILE>app/api/handler/pullreq/reviewer_delete.go</FILE>
        <FILE>app/api/handler/pullreq/reviewer_list.go</FILE>
        <FILE>app/api/handler/repo/blame.go</FILE>
        <FILE>app/api/handler/repo/calculate_commit_divergence.go</FILE>
        <FILE>app/api/handler/repo/codeowner_validate.go</FILE>
        <FILE>app/api/handler/repo/commit.go</FILE>
        <FILE>app/api/handler/repo/content_get.go</FILE>
        <FILE>app/api/handler/repo/content_paths_details.go</FILE>
        <FILE>app/api/handler/repo/create.go</FILE>
        <FILE>app/api/handler/repo/create_branch.go</FILE>
        <FILE>app/api/handler/repo/create_commit_tag.go</FILE>
        <FILE>app/api/handler/repo/default_branch.go</FILE>
        <FILE>app/api/handler/repo/delete_branch.go</FILE>
        <FILE>app/api/handler/repo/delete_tag.go</FILE>
        <FILE>app/api/handler/repo/diff.go</FILE>
        <FILE>app/api/handler/repo/find.go</FILE>
        <FILE>app/api/handler/repo/find_redirect.go</FILE>
        <FILE>app/api/handler/repo/get_branch.go</FILE>
        <FILE>app/api/handler/repo/get_commit.go</FILE>
        <FILE>app/api/handler/repo/git_info_refs.go</FILE>
        <FILE>app/api/handler/repo/git_service_pack.go</FILE>
        <FILE>app/api/handler/repo/import.go</FILE>
        <FILE>app/api/handler/repo/import_progress.go</FILE>
        <FILE>app/api/handler/repo/list_branches.go</FILE>
        <FILE>app/api/handler/repo/list_commit_tags.go</FILE>
        <FILE>app/api/handler/repo/list_commits.go</FILE>
        <FILE>app/api/handler/repo/list_pipelines.go</FILE>
        <FILE>app/api/handler/repo/list_service_accounts.go</FILE>
        <FILE>app/api/handler/repo/merge_check.go</FILE>
        <FILE>app/api/handler/repo/move.go</FILE>
        <FILE>app/api/handler/repo/pipeline_generate.go</FILE>
        <FILE>app/api/handler/repo/purge.go</FILE>
        <FILE>app/api/handler/repo/raw.go</FILE>
        <FILE>app/api/handler/repo/restore.go</FILE>
        <FILE>app/api/handler/repo/rule_create.go</FILE>
        <FILE>app/api/handler/repo/rule_delete.go</FILE>
        <FILE>app/api/handler/repo/rule_find.go</FILE>
        <FILE>app/api/handler/repo/rule_list.go</FILE>
        <FILE>app/api/handler/repo/rule_update.go</FILE>
        <FILE>app/api/handler/repo/soft_delete.go</FILE>
        <FILE>app/api/handler/repo/update.go</FILE>
        <FILE>app/api/handler/resource/resource.go</FILE>
        <FILE>app/api/handler/secret/create.go</FILE>
        <FILE>app/api/handler/secret/delete.go</FILE>
        <FILE>app/api/handler/secret/find.go</FILE>
        <FILE>app/api/handler/secret/update.go</FILE>
        <FILE>app/api/handler/serviceaccount/create.go</FILE>
        <FILE>app/api/handler/serviceaccount/create_token.go</FILE>
        <FILE>app/api/handler/serviceaccount/delete.go</FILE>
        <FILE>app/api/handler/serviceaccount/delete_token.go</FILE>
        <FILE>app/api/handler/serviceaccount/find.go</FILE>
        <FILE>app/api/handler/serviceaccount/list_tokens.go</FILE>
        <FILE>app/api/handler/space/create.go</FILE>
        <FILE>app/api/handler/space/delete.go</FILE>
        <FILE>app/api/handler/space/events.go</FILE>
        <FILE>app/api/handler/space/export.go</FILE>
        <FILE>app/api/handler/space/export_progress.go</FILE>
        <FILE>app/api/handler/space/find.go</FILE>
        <FILE>app/api/handler/space/import.go</FILE>
        <FILE>app/api/handler/space/import_repositories.go</FILE>
        <FILE>app/api/handler/space/list.go</FILE>
        <FILE>app/api/handler/space/list_connectors.go</FILE>
        <FILE>app/api/handler/space/list_repos.go</FILE>
        <FILE>app/api/handler/space/list_secrets.go</FILE>
        <FILE>app/api/handler/space/list_service_accounts.go</FILE>
        <FILE>app/api/handler/space/list_templates.go</FILE>
        <FILE>app/api/handler/space/membership_add.go</FILE>
        <FILE>app/api/handler/space/membership_delete.go</FILE>
        <FILE>app/api/handler/space/membership_list.go</FILE>
        <FILE>app/api/handler/space/membership_update.go</FILE>
        <FILE>app/api/handler/space/move.go</FILE>
        <FILE>app/api/handler/space/update.go</FILE>
        <FILE>app/api/handler/system/list_config.go</FILE>
        <FILE>app/api/handler/template/create.go</FILE>
        <FILE>app/api/handler/template/delete.go</FILE>
        <FILE>app/api/handler/template/find.go</FILE>
        <FILE>app/api/handler/template/update.go</FILE>
        <FILE>app/api/handler/trigger/create.go</FILE>
        <FILE>app/api/handler/trigger/delete.go</FILE>
        <FILE>app/api/handler/trigger/find.go</FILE>
        <FILE>app/api/handler/trigger/list.go</FILE>
        <FILE>app/api/handler/trigger/update.go</FILE>
        <FILE>app/api/handler/upload/download.go</FILE>
        <FILE>app/api/handler/upload/upload.go</FILE>
        <FILE>app/api/handler/user/create_access_token.go</FILE>
        <FILE>app/api/handler/user/delete_token.go</FILE>
        <FILE>app/api/handler/user/find.go</FILE>
        <FILE>app/api/handler/user/list_tokens.go</FILE>
        <FILE>app/api/handler/user/membership_spaces.go</FILE>
        <FILE>app/api/handler/user/update.go</FILE>
        <FILE>app/api/handler/user/update_admin.go</FILE>
        <FILE>app/api/handler/users/create.go</FILE>
        <FILE>app/api/handler/users/delete.go</FILE>
        <FILE>app/api/handler/users/find.go</FILE>
        <FILE>app/api/handler/users/list.go</FILE>
        <FILE>app/api/handler/users/update.go</FILE>
        <FILE>app/api/handler/webhook/create.go</FILE>
        <FILE>app/api/handler/webhook/delete.go</FILE>
        <FILE>app/api/handler/webhook/find.go</FILE>
        <FILE>app/api/handler/webhook/find_execution.go</FILE>
        <FILE>app/api/handler/webhook/list.go</FILE>
        <FILE>app/api/handler/webhook/list_executions.go</FILE>
        <FILE>app/api/handler/webhook/retrigger_execution.go</FILE>
        <FILE>app/api/handler/webhook/update.go</FILE>
        <FILE>app/api/middleware/authn/authn.go</FILE>
        <FILE>app/api/middleware/authz/authz.go</FILE>
        <FILE>app/api/middleware/encode/encode.go</FILE>
        <FILE>app/api/middleware/principal/principal.go</FILE>
        <FILE>app/api/render/render.go</FILE>
        <FILE>app/api/render/render_error.go</FILE>
        <FILE>app/api/render/render_test.go</FILE>
        <FILE>app/api/render/sse.go</FILE>
        <FILE>app/api/usererror/translate.go</FILE>
        <FILE>app/router/api.go</FILE>
        <FILE>app/router/router.go</FILE>
        <FILE>app/router/web.go</FILE>
        <FILE>app/store/database/check.go</FILE>
        <FILE>app/store/database/code_comment.go</FILE>
        <FILE>app/store/database/connector.go</FILE>
        <FILE>app/store/database/execution.go</FILE>
        <FILE>app/store/database/job.go</FILE>
        <FILE>app/store/database/membership.go</FILE>
        <FILE>app/store/database/migrate/migrate_0039_alter_table_webhooks_uid.go</FILE>
        <FILE>app/store/database/migrate/migrate_0042_alter_table_rules.go</FILE>
        <FILE>app/store/database/pipeline.go</FILE>
        <FILE>app/store/database/plugin.go</FILE>
        <FILE>app/store/database/principal.go</FILE>
        <FILE>app/store/database/principal_info.go</FILE>
        <FILE>app/store/database/principal_service.go</FILE>
        <FILE>app/store/database/principal_service_account.go</FILE>
        <FILE>app/store/database/principal_user.go</FILE>
        <FILE>app/store/database/pullreq.go</FILE>
        <FILE>app/store/database/pullreq_activity.go</FILE>
        <FILE>app/store/database/pullreq_file_view_store.go</FILE>
        <FILE>app/store/database/pullreq_reviewers.go</FILE>
        <FILE>app/store/database/pullreq_reviews.go</FILE>
        <FILE>app/store/database/repo.go</FILE>
        <FILE>app/store/database/repo_git_info.go</FILE>
        <FILE>app/store/database/rule.go</FILE>
        <FILE>app/store/database/secret.go</FILE>
        <FILE>app/store/database/space.go</FILE>
        <FILE>app/store/database/space_path.go</FILE>
        <FILE>app/store/database/stage.go</FILE>
        <FILE>app/store/database/step.go</FILE>
        <FILE>app/store/database/template.go</FILE>
        <FILE>app/store/database/token.go</FILE>
        <FILE>app/store/database/trigger.go</FILE>
        <FILE>app/store/database/webhook.go</FILE>
        <FILE>app/store/database/webhook_execution.go</FILE>
        <FILE>app/store/logs/db.go</FILE>
        <FILE>git/repo.go</FILE>
        <FILE>store/database/util.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
