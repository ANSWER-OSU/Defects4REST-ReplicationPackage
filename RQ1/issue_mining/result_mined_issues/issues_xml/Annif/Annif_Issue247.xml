<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>247</ISSUENO>
  <ISSUEURL>https://github.com/NatLibFi/Annif/issues/247</ISSUEURL>
  <TITLE>eval command sometimes reports precision as &quot;nan&quot;</TITLE>
  <DESCRIPTION>For example when using `annif eval` with the 20news dataset, the Precision@K values are reported as `nan`: ``` $ annif eval vw 20news100.tsv Precision (doc avg): 0.09399999999999999 Recall (doc avg): 0.94 F1 score (doc avg): 0.170909090909091 Precision (conc avg): 0.09934443130487655 Recall (conc avg): 0.93 F1 score (conc avg): 0.17739629326278103 Precision (microavg): 0.09494949494949495 Recall (microavg): 0.94 F1 score (microavg): 0.1724770642201835 NDCG: 0.7578547650886536 NDCG@5: 0.7387738112464632 NDCG@10: 0.7578547650886536 Precision@1: nan Precision@3: nan Precision@5: nan LRAP: 0.7025119047619048 True positives: 94 False positives: 896 False negatives: 6 Documents evaluated: 100 ``` PR coming up soon...</DESCRIPTION>
  <REPONAME>Annif</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #246 from NatLibFi/issue237-access-levels Implement access levels for projects</MESSAGE>
    <SHA>3804bf9b416df17c1e1c2c41b677672e94c615f1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Avoid returnin nan values for Precision@K. Fixes #247</MESSAGE>
      <SHA>03571b09b674fe039fae9950a3a259ee43b42b06</SHA>
      <PATCHEDFILES>
        <FILE>annif/eval.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
