<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>158</ISSUENO>
  <ISSUEURL>https://github.com/NatLibFi/Annif/issues/158</ISSUEURL>
  <TITLE>Refactor the way analysis results are returned</TITLE>
  <DESCRIPTION>Related to #141 The way results are returned from backends should be re-architected. Currently the results are returned as sequences of AnalysisHit objects, but this makes it impossible to use e.g. sklearn metrics or any other vector based processing. Instead hits should be returned as objects that implement an ABC, which could be called AnalysisHits. The ABC should have methods (or properties) that give the results either as a sequence of AnalysisHit objects (as currently used) or as vectors of size N, where N is the number of subjects in the vocabulary.</DESCRIPTION>
  <REPONAME>Annif</REPONAME>
  <TIMEDIFFERENCEDAYS>22</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #156 from NatLibFi/issue155-example-config Rename projects.cfg into projects.cfg.dist so deployments can use their own copy. Fixes #155</MESSAGE>
    <SHA>fad67352804e6907338e4ed00e2c9ad691b33f65</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Return hits from backends and projects as AnalysisHits instead of plain list. Fixes #158</MESSAGE>
      <SHA>8cff3d593807da2bc565d16cce6e00d19321cefc</SHA>
      <PATCHEDFILES>
        <FILE>annif/backend/dummy.py</FILE>
        <FILE>annif/backend/fasttext.py</FILE>
        <FILE>annif/backend/tfidf.py</FILE>
        <FILE>annif/hit.py</FILE>
        <FILE>annif/util.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
