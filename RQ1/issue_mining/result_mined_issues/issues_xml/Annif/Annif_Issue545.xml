<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>545</ISSUENO>
  <ISSUEURL>https://github.com/NatLibFi/Annif/issues/545</ISSUEURL>
  <TITLE>Select metrics for eval command using an option</TITLE>
  <DESCRIPTION>Currently the `annif eval` command produces more than 20 different metrics. Some of these require non-trivial calculation and often a smaller set would be enough (e.g. F1@5 and NDCG). There should be an option for choosing the metrics to calculate. We could use the same command line option (`-m`, `--metric`) that is already used for the `annif hyperopt` command to select the metric to target. Something like: annif eval my-project -m &quot;F1@5,NDCG&quot; /path/to/my-corpus As an alternative it could be possible to repeat the option as well: annif eval my-project -m &quot;F1@5&quot; -m &quot;NDCG&quot; /path/to/my-corpus</DESCRIPTION>
  <REPONAME>Annif</REPONAME>
  <TIMEDIFFERENCEDAYS>37</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #557 from NatLibFi/issue546-eval-metrics-file Output eval metrics as a JSON file compatible with DVC</MESSAGE>
    <SHA>49aa5dfbad256fcf75c5627c077f96acc915a0e0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add --metric/-m option to eval command to select metric(s). Fixes #545</MESSAGE>
      <SHA>8da9e49ba48bdfbe6fa433bc05605d8928af6db2</SHA>
      <PATCHEDFILES>
        <FILE>annif/cli.py</FILE>
        <FILE>annif/eval.py</FILE>
        <FILE>tests/test_cli.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
