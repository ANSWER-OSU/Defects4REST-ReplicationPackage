<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>429</ISSUENO>
  <ISSUEURL>https://github.com/NatLibFi/Annif/issues/429</ISSUEURL>
  <TITLE>Parallelize suggest operations during nn_ensemble training</TITLE>
  <DESCRIPTION>Both the `eval` and `hyperopt` commands can now perform `suggest` operations in parallel on multiple CPUs. When training the nn_ensemble, running the documents through the source projects is the main bottleneck. We could speed it up by implementing parallel suggest operations there as well. There should probably be a new `jobs` parameter for the `train` CLI command specifying the number of parallel jobs, just like for `eval` and `hyperopt`.</DESCRIPTION>
  <REPONAME>Annif</REPONAME>
  <TIMEDIFFERENCEDAYS>569</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #567 from NatLibFi/issue526-loadvoc-force-param Add --force option to loadvoc CLI command</MESSAGE>
    <SHA>736834b22992a166305e845bcfb57fe9465e19c8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Perform suggest operations in parallel using multiprocessing in nn_ensemble. Fixes #429</MESSAGE>
      <SHA>acd3111007362a2055d68b3a1eca312488a957a0</SHA>
      <PATCHEDFILES>
        <FILE>annif/backend/nn_ensemble.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
