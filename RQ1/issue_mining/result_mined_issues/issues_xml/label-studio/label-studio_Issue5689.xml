<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5689</ISSUENO>
  <ISSUEURL>https://github.com/HumanSignal/label-studio/issues/5689</ISSUEURL>
  <TITLE>prd: Relation side panel improvements</TITLE>
  <DESCRIPTION>&lt;!-- Problem: Relations sidepanel list ordering and visibility --&gt; # prd: Relation side panel improvements ## Problem 1. When adding a new relations, it gets added at the bottom of the list, requiring scrolling to label it. 2. There is no easy way to hide/show all relations at once. ## Proof of Concept (PoC) Notes A working branch implementing the relations list ordering and visibility toggle can be found at: https://github.com/Precious-Macaulay/label-studio https://github.com/HumanSignal/label-studio/assets/87583799/40dc423d-b03d-4285-9a03-ace94a19c261 Key highlights: - Added ordering dropdown to toolbar with creation time options - Added visibility toggle icon next to &quot;Relations&quot; label - State is persisted in local storage ## User Stories ### Relations list ordering As a user, I want to be able to order the relations list by creation time (ascending or descending) so that I can easily find and label new relations. ### Relations visibility toggle As a user, I want a toggle to hide/show all relations at once so that I can quickly analyze connections between entities. ## Acceptance Criteria ### Relations side panel list ordering - [ ] Adds options to order relations list by creation time (ascending and descending) - [ ] Unit tests for ordering functionality ### Relations visibility toggle - [ ] Adds a toggle icon next to &quot;Relations&quot; label - [ ] Toggle hides all relationships when one or more are visible - [ ] Toggle shows all relationships when all are hidden - [ ] Persists visibility state between sessions - [ ] Unit tests for visibility functionality</DESCRIPTION>
  <REPONAME>label-studio</REPONAME>
  <TIMEDIFFERENCEDAYS>67</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix: LEAP-933: Fix security vulnerabilities (#5705)</MESSAGE>
    <SHA>1676190788e9490ab6b0892f186e652b87e8d4f8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>feat: Relation side panel improvements (#5689)</MESSAGE>
      <SHA>9f37660294f5a5c9fb50b8d4a043764f25ad3be6</SHA>
      <PATCHEDFILES>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/DetailsPanel.styl</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/DetailsPanel.tsx</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/Relations.tsx</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/RelationsControls.styl</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/RelationsControls.tsx</FILE>
        <FILE>web/libs/editor/src/stores/RelationStore.js</FILE>
        <FILE>web/libs/editor/tests/integration/e2e/relations/hide-all.cy.ts</FILE>
        <FILE>web/libs/editor/tests/integration/e2e/relations/order.cy.ts</FILE>
        <FILE>web/libs/frontend-test/src/helpers/LSF/Relations.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>feat: LEAP-1020: Relation side panel improvements (#5711) &lt;!-- feat: Relations side panel improvements --&gt; ## Overview This PR implements improvements to the relations list based on the accepted [prd: Relations list improvements] See #5689 #5447 #5446 https://github.com/HumanSignal/label-studio/assets/87583799/ec5276b1-b940-4d55-ac54-546380a6ef0b ## Changes ### Relations list ordering - Added ordering options to relations list sidepanel - Ordering by creation time (ascending or descending) - Ordering preference persists between sessions ### Relations visibility toggle - Added toggle icon next to &quot;Relations&quot; label - Toggle hides all relations when one or more are visible - Toggle shows all relations when all are hidden - Visibility state persists between sessions ## Testing - Added unit tests for ordering and visibility functionality - Updated documentation with usage instructions ## PR Requirements - [x] Commit message(s) and PR title follows the format - [x] Tests for the changes have been added/updated - [x] Docs have been added/updated - [x] Best efforts for concise/coherent code #### Areas Impacted - [ ] Product design - [ ] Backend (Database) - [ ] Backend (API) - [x] Frontend ### Change Details This is a new feature implementing relations list ordering and visibility toggling based on the provided requirements. No libraries were added or updated. This change should have a positive performance impact by allowing users to easily focus on relevant relations. This change does not impact security. Alternatives were manually hiding relations and scrolling down which is tedious. No feature flags were used. ### Breaking Change - [ ] Yes, and covered entirely by feature flags - [ ] Yes, and covered partially by feature flags - [x] No - [ ] Not sure ### Testing - [ ] e2e - [x] integration - [ ] unit ### Affected Domains - Relations Details Panel ## Acceptance Criteria - [x] Adds options to order relations list by creation time (ascending and descending) - [x] Persists ordering preference between sessions - [x] Integration test for ordering functionality - [x] Adds a toggle icon next to &quot;Relations&quot; label - [x] Toggle hides all relations when one or more are visible - [x] Toggle shows all relations when all are hidden - [x] Persists visibility state between sessions - [x] Integration tests for visibility functionality Closes #5689 #5447 #5446 --------- Co-authored-by: bmartel &lt;brandonmartel@gmail.com&gt;</MESSAGE>
      <SHA>9df4eb93ccd4a94a587375f50a225bd754d0df1d</SHA>
      <PATCHEDFILES>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/DetailsPanel.styl</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/DetailsPanel.tsx</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/Relations.tsx</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/RelationsControls.styl</FILE>
        <FILE>web/libs/editor/src/components/SidePanels/DetailsPanel/RelationsControls.tsx</FILE>
        <FILE>web/libs/editor/src/stores/RelationStore.js</FILE>
        <FILE>web/libs/editor/tests/integration/e2e/relations/hide-all.cy.ts</FILE>
        <FILE>web/libs/editor/tests/integration/e2e/relations/order.cy.ts</FILE>
        <FILE>web/libs/frontend-test/src/helpers/LSF/Relations.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
