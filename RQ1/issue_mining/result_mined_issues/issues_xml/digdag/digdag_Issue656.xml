<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>656</ISSUENO>
  <ISSUEURL>https://github.com/treasure-data/digdag/issues/656</ISSUEURL>
  <TITLE>Failed to update secret value when new-value is shorter than old-value.</TITLE>
  <DESCRIPTION>Prepared 2 script. **test.dig** ```yaml timezone: UTC +test_secret: _env: s: ${secret:secret_val} py&gt;: tasks.secret_test.test ``` **tasks/secret_test.py** ```py import digdag import os def test(): print('secret_value:', os.environ.get('s')) ``` Set secret value and run workflow. ```sh $ digdag secrets --local --set secret_val=12345 $ digdag run test.dig --rerun ``` output: ``` secret_value: 12345 ``` Reset secret value and rerun workflow. ```sh $ digdag secrets --local --set secret_val=67 $ digdag run test.dig --rerun ``` output: ``` secret_value: 67345 ``` Failed to update value 12345 -&gt; 67. FYI:Success to update secret value after delete old-value.</DESCRIPTION>
  <REPONAME>digdag</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #650 from treasure-data/store-result-in-jdbc-ops Support 'store_result' option in the JDBC operator family</MESSAGE>
    <SHA>f9ffdc4fd0631f7a5930c8ae0a3a65168edccaf0</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #657 from szyn/fix-issue-656 Fix issue #656</MESSAGE>
      <SHA>05f7686cc8bf472688c378bede296f80d8b575bf</SHA>
      <PATCHEDFILES>
        <FILE>digdag-cli/src/main/java/io/digdag/cli/client/Secrets.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/SecretsIT.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
