<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>35</ISSUENO>
  <ISSUEURL>https://github.com/treasure-data/digdag/issues/35</ISSUEURL>
  <TITLE>digdag sometimes uses local ./digdag.yml scope and sometimes global scope</TITLE>
  <DESCRIPTION>``` digdag schedules 2016-04-11 15:04:37 -0700: Digdag v0.5.9 Schedules: id: 2 repository: dano-churn-prediction-poc workflow: +main next session time: 2016-04-13 00:00:00 +0900 next runs at: 2016-04-12 15:00:00 -0700 (23h 55m 21s later) 1 entries. Use `digdag workflows +NAME` to show workflow details. ``` and ``` digdag check 2016-04-11 15:04:54 -0700: Digdag v0.5.9 System default timezone: America/Los_Angeles Definitions (1 workflows): +main (1 tasks) Parameters: timezone: &quot;America/Los_Angeles&quot; Schedules (0 entries): ``` As a user I'm really confused about how scheduling works =)</DESCRIPTION>
  <REPONAME>digdag</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>WM-1302 Implement account routing (#11) Account routing for executor,agent,scheduler Co-authored-by: Shota Suzuki &lt;aqr.aqua@gmail.com&gt;</MESSAGE>
    <SHA>8f4f8c1c7acded75128af2d16a6eda4e21accd50</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>WM-1436 add parameters to clear schedules in &quot;PUT /api/projects&quot; (#35) * WM-1436 add parameters in 'PUT /api/projects' * Refactoring. Add unit tests. * Support clear_schedule, clear_schedule_all in DigdagClient</MESSAGE>
      <SHA>542abc19b48bf63ebb6da95451c1a2d0ef8730d4</SHA>
      <PATCHEDFILES>
        <FILE>build.gradle</FILE>
        <FILE>digdag-client/src/main/java/io/digdag/client/DigdagClient.java</FILE>
        <FILE>digdag-commons/src/testFixtures/java/io/digdag/commons/AssertUtil.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseProjectStoreManager.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControl.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControlStore.java</FILE>
        <FILE>digdag-core/src/test/java/io/digdag/core/database/DatabaseScheduleStoreManagerTest.java</FILE>
        <FILE>digdag-server/build.gradle</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ServerModule.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/ProjectResource.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/ProjectClearScheduleParam.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/PutProjectsValidator.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/ProjectClearScheduleParamTest.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/PutProjectsValidatorTest.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/ApiProjectsIT.java</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule1.dig</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule2.dig</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>WM-1436 add parameters to clear schedules in &quot;PUT /api/projects&quot; (#35) * WM-1436 add parameters in 'PUT /api/projects' * Refactoring. Add unit tests. * Support clear_schedule, clear_schedule_all in DigdagClient</MESSAGE>
      <SHA>bd9d69dda2a536ad956d4eef6cc50c35340ca4f8</SHA>
      <PATCHEDFILES>
        <FILE>build.gradle</FILE>
        <FILE>digdag-client/src/main/java/io/digdag/client/DigdagClient.java</FILE>
        <FILE>digdag-commons/src/testFixtures/java/io/digdag/commons/AssertUtil.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseProjectStoreManager.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControl.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControlStore.java</FILE>
        <FILE>digdag-core/src/test/java/io/digdag/core/database/DatabaseScheduleStoreManagerTest.java</FILE>
        <FILE>digdag-server/build.gradle</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ServerModule.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/ProjectResource.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/ProjectClearScheduleParam.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/PutProjectsValidator.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/ProjectClearScheduleParamTest.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/PutProjectsValidatorTest.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/ApiProjectsIT.java</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule1.dig</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule2.dig</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>WM-1436 add parameters to clear schedules in &quot;PUT /api/projects&quot; (#35) * WM-1436 add parameters in 'PUT /api/projects' * Refactoring. Add unit tests. * Support clear_schedule, clear_schedule_all in DigdagClient</MESSAGE>
      <SHA>0e582bfb9031d21433048a7b66594ea8b818f036</SHA>
      <PATCHEDFILES>
        <FILE>build.gradle</FILE>
        <FILE>digdag-client/src/main/java/io/digdag/client/DigdagClient.java</FILE>
        <FILE>digdag-commons/src/testFixtures/java/io/digdag/commons/AssertUtil.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseProjectStoreManager.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControl.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControlStore.java</FILE>
        <FILE>digdag-core/src/test/java/io/digdag/core/database/DatabaseScheduleStoreManagerTest.java</FILE>
        <FILE>digdag-server/build.gradle</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ServerModule.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/ProjectResource.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/ProjectClearScheduleParam.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/PutProjectsValidator.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/ProjectClearScheduleParamTest.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/PutProjectsValidatorTest.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/ApiProjectsIT.java</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule1.dig</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule2.dig</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[Backport] Add parameters to clear schedules in &quot;PUT /api/projects&quot; (#1800) * Add an extension point to check pushed project content (#1618) * Add ProjectContentTarget * Add a test case for project content check in AccessControllerIT#putProject * Add project content check test in AccessControllerIT * WM-1436 add parameters to clear schedules in &quot;PUT /api/projects&quot; (#35) * WM-1436 add parameters in 'PUT /api/projects' * Refactoring. Add unit tests. * Support clear_schedule, clear_schedule_all in DigdagClient --------- Co-authored-by: Mitsunori Komatsu &lt;komamitsu@gmail.com&gt; Co-authored-by: yoyama &lt;you.yamagata@treasure-data.com&gt;</MESSAGE>
      <SHA>e56f73e683a0608de7538c08c4e9091a212d727a</SHA>
      <PATCHEDFILES>
        <FILE>build.gradle</FILE>
        <FILE>digdag-client/src/main/java/io/digdag/client/DigdagClient.java</FILE>
        <FILE>digdag-commons/src/testFixtures/java/io/digdag/commons/AssertUtil.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/database/DatabaseProjectStoreManager.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControl.java</FILE>
        <FILE>digdag-core/src/main/java/io/digdag/core/repository/ProjectControlStore.java</FILE>
        <FILE>digdag-core/src/test/java/io/digdag/core/database/DatabaseScheduleStoreManagerTest.java</FILE>
        <FILE>digdag-core/src/test/java/io/digdag/core/workflow/DummyAccessController.java</FILE>
        <FILE>digdag-server/build.gradle</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ServerModule.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/ac/DefaultAccessController.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/ProjectResource.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/ProjectClearScheduleParam.java</FILE>
        <FILE>digdag-server/src/main/java/io/digdag/server/rs/project/PutProjectsValidator.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/ProjectClearScheduleParamTest.java</FILE>
        <FILE>digdag-server/src/test/java/io/digdag/server/rs/project/PutProjectsValidatorTest.java</FILE>
        <FILE>digdag-spi/src/main/java/io/digdag/spi/ac/AccessController.java</FILE>
        <FILE>digdag-spi/src/main/java/io/digdag/spi/ac/ProjectContentTarget.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/AccessControllerIT.java</FILE>
        <FILE>digdag-tests/src/test/java/acceptance/ApiProjectsIT.java</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule1.dig</FILE>
        <FILE>digdag-tests/src/test/resources/acceptance/api_projects/schedule2.dig</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
