<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4168</ISSUENO>
  <ISSUEURL>https://github.com/nightscout/cgm-remote-monitor/issues/4168</ISSUEURL>
  <TITLE>Add &quot;Blood Sugar&quot; metric/invocation to Alexa Plugin</TITLE>
  <DESCRIPTION>In the UK we use the words Blood Sugar often rather than Blood Glucose. It would be nice if we could add &quot;Blood Sugar&quot; to the list of questions we could ask. Thanks Henry</DESCRIPTION>
  <REPONAME>cgm-remote-monitor</REPONAME>
  <TIMEDIFFERENCEDAYS>294</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Update --bug-report.md Adding auto-labeling of bugs with the bug label</MESSAGE>
    <SHA>11c6086678415883f7d7a110a032bb26a4be8543</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #4272 from nightscout/release/0.11 Draft release notes for upcoming 0.11 release (currently release candidate phase). # Changes Over 360 commits, 89 files changed, +8,428 / −6,569 lines of changes (full list of changes here: https://github.com/nightscout/cgm-remote-monitor/pull/4022/commits ) ## New features - Fully secure by default out of the box. Unsecure access via http is not allowed anymore by default. This might force you to re-authenticate with your `API_SECRET` or token if you were using unsecure access. (@PieterGit ) - No outdated packages with vulnerabilities are being used anymore (@PieterGit ) - Add Week to Week report (@jpcunningh, https://github.com/nightscout/cgm-remote-monitor/pull/4123 ) - Add Loopalyzer report to analyse looping. Visualize your loop (@lixgbg, https://github.com/nightscout/cgm-remote-monitor/pull/3629 https://github.com/nightscout/cgm-remote-monitor/pull/4235 ) - Add predictions support to Day to Day report (@lixgbg, https://github.com/nightscout/cgm-remote-monitor/pull/3179 ) - Add cgm sensor stop to Careportal (@jpcunningh, https://github.com/nightscout/cgm-remote-monitor/pull/4060) ## Removed features - remove `mqtt` module, because it had a security issue and was not used - remove `sgvdata` module, because it had a security issue, added a lot of complexity and wasn't needed (@PieterGit ). Replacement implementation for CSV and TSV export (@sulkaharo ). ## Improvements - Fix MongoDB database insert handling. Log error on inserts and don't crash in case the MongoDB disk is full or MongoDB quota is reached (@sulkaharo and @jpcunningh) - Upgrade packages to recent version, fixing all known security issues with dependencies (@PieterGit) - Redirect redirect HTTP to HTTPS and implement HSTS (@jweismann, @PieterGit, https://github.com/nightscout/cgm-remote-monitor/pull/4044 and https://github.com/nightscout/cgm-remote-monitor/issues/4010 and https://github.com/nightscout/cgm-remote-monitor/pull/4253 ) - Technical improvement: Migrate from `uglify-js` to `terser-webpack-plugin` (@PieterGit) - Streamlined Heroku deployment template with more descriptive text and more appropriate defaults for new users (@unsoluble, https://github.com/nightscout/cgm-remote-monitor/pull/4116 ) ## Bug fixes - Fix CGM voltageb battery warning level to match xDrip+ (@jpcunningh, https://github.com/nightscout/cgm-remote-monitor/pull/3954 ) - Fix daylight saving and reloading bug in profile editor, (@DigitalDan1, @Kywalh https://github.com/nightscout/cgm-remote-monitor/pull/4029 and https://github.com/nightscout/cgm-remote-monitor/pull/4074 ) - Reduce the amount of Profile Switch treatments being loaded to fix UI slowdown and Nightscout home screen losing AAPS data from &gt;3 hours ago, (@sulkaharo, @vickster1, https://github.com/nightscout/cgm-remote-monitor/issues/4055 ) - Upgrade to [share2nightscout 0.2.0](https://github.com/nightscout/share2nightscout-bridge/releases/tag/0.2.0). Prevent Nightscout server crashes in case Dexcom server does not respond (@PieterGit, @veryfancy) - Fix UI so pills are updated immediately after new data is loaded (@sulkaharo) - Fixes to If-Modified-Since HTTP header handling for BG data (@sulkaharo) ## Documentation and language updates - Language updates for Danish, Dutch, German, Hebrew, Norwegian, Russian - New languages: Japanese, Turkish - Update Alexa documentation. Note that some Alexa improvements are postponed to Nightscout 0.12 because the Alexa plugin needs refactoring, see https://github.com/nightscout/cgm-remote-monitor/issues/4168#issuecomment-451701994 - Update IFTTT maker-setup.md docs (@Dave9111, @unsoluble, https://github.com/nightscout/cgm-remote-monitor/pull/4206 ) - Updated various docs, including [CONTRIBUTING](https://github.com/nightscout/cgm-remote-monitor/blob/dev/CONTRIBUTING.md) documentation # Upgrade notes - We only allow Nightscout to start with a secure Node JS. - Latest Node 8 LTS (8.15.0 or later) and Latest Node 10 LTS (10.15.1 or later) are recommended and supported. - Latest Node version on Azure (currently 10.14.0) is tolerated, but not recommended - Other versions will not start - The [rawbg](https://github.com/nightscout/cgm-remote-monitor#rawbg-raw-bg) settings are converted to a single setting tri-state variable. - We improved security and added several new environment variables such as [INSECURE_USE_HTTP and SECURE_HSTS_HEADER](https://github.com/nightscout/cgm-remote-monitor/#predefined-values-for-your-server-settings-optional) - Your site redirects to https by default. If you don't want that or use a Nginx or Apache proxy, set `INSECURE_USE_HTTP` to `true`. - We enabled [HTTP Strict Transport Security (HSTS)](https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security) headers by default, settings `SECURE_HSTS_HEADER` and `SECURE_HSTS_HEADER_*` ## Upgrade notes for Azure users We recommend Azure users consider migrating their hosting to Heroku, as we've observed Heroku users have significantly less issues with having their sites work reliably. If you want to continue using Azure, change the following configuration variables in Azure before updating to the latest Nightscout version: ``` WEBSITE_NODE_DEFAULT_VERSION=10.14.1 SCM_COMMAND_IDLE_TIMEOUT=300 ``` # Install instructions Install instructions can be found: https://github.com/nightscout/cgm-remote-monitor/blob/master/README.md#install # Contributors to this release The release coordination for this release was done by @PieterGit We would like to thank the following people for their contribution (in alphabetical order): @anderser, @apanasef, @balshor, @bewest, @blocklist_twitter, @CaroGo, @cascer1, @cluckj, @danamlewis, @Dave9111, @diabetlum, @herzogmedia, @janrpn, @jasoncalabrese, @jpcunningh, @jweismann, @kenstack, @Kywalh, @lixgbg, @LuminaryXion, @MilosKozak, @mitrei, @PaperT1D, @PieterGit, @unsoluble, @rarneson, @renegadeandy, @scottleibrand, @sulkaharo, @T-o-b-i-a-s, @tynbendad, @unsoluble, @veryfancy, @viq, @wootmasterslick (if I forgot somebody, please respond) # TODO TODO: Translations, Languages with less than 80% will be removed in a future Nightscout version. Currently the following languages are at risk: 中文（繁體） (zh_tw), Hrvatski (hr), Ελληνικά (el), 한국어 (ko) See https://gitter.im/nightscout/public?at=5bef2f34de42d46bba766f66 TODO: Fix Codacy errors, https://app.codacy.com/app/Nightscout/cgm-remote-monitor/issues?bid=2452379&amp;filters=W3siaWQiOiJDYXRlZ29yeSIsInZhbHVlcyI6WyJFcnJvciBQcm9uZSJdfV0= TODO: test dev after all new features are merged for at least two weeks</MESSAGE>
      <SHA>48c0f59088f42ff767b401390f8aa857a1376ca1</SHA>
      <PATCHEDFILES>
        <FILE>.nvmrc</FILE>
        <FILE>.travis.yml</FILE>
        <FILE>CONTRIBUTING.md</FILE>
        <FILE>Makefile</FILE>
        <FILE>README.md</FILE>
        <FILE>app.js</FILE>
        <FILE>app.json</FILE>
        <FILE>bundle/index.js</FILE>
        <FILE>docs/plugins/alexa-plugin.md</FILE>
        <FILE>docs/plugins/maker-setup-images/action_search.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/blue_that.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/config_vars_enable.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/config_vars_maker.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/maker_key.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/notification_message.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/service_search.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/service_settings_search.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/set_trigger.jpg</FILE>
        <FILE>docs/plugins/maker-setup-images/webhooks_settings.jpg</FILE>
        <FILE>docs/plugins/maker-setup.md</FILE>
        <FILE>env.js</FILE>
        <FILE>lib/admin_plugins/cleanentriesdb.js</FILE>
        <FILE>lib/admin_plugins/cleanstatusdb.js</FILE>
        <FILE>lib/admin_plugins/cleantreatmentsdb.js</FILE>
        <FILE>lib/admin_plugins/index.js</FILE>
        <FILE>lib/api/devicestatus/index.js</FILE>
        <FILE>lib/api/entries/index.js</FILE>
        <FILE>lib/api/profile/index.js</FILE>
        <FILE>lib/api/treatments/index.js</FILE>
        <FILE>lib/authorization/storage.js</FILE>
        <FILE>lib/client/index.js</FILE>
        <FILE>lib/client/renderer.js</FILE>
        <FILE>lib/data/dataloader.js</FILE>
        <FILE>lib/hashauth.js</FILE>
        <FILE>lib/language.js</FILE>
        <FILE>lib/plugins/careportal.js</FILE>
        <FILE>lib/plugins/maker-setup.md</FILE>
        <FILE>lib/plugins/rawbg.js</FILE>
        <FILE>lib/plugins/xdrip-js.js</FILE>
        <FILE>lib/report_plugins/daytoday.js</FILE>
        <FILE>lib/report_plugins/glucosedistribution.js</FILE>
        <FILE>lib/report_plugins/index.js</FILE>
        <FILE>lib/report_plugins/loopalyzer.js</FILE>
        <FILE>lib/report_plugins/weektoweek.js</FILE>
        <FILE>lib/server/activity.js</FILE>
        <FILE>lib/server/bootevent.js</FILE>
        <FILE>lib/server/devicestatus.js</FILE>
        <FILE>lib/server/entries.js</FILE>
        <FILE>lib/server/food.js</FILE>
        <FILE>lib/server/mqtt.js</FILE>
        <FILE>lib/server/profile.js</FILE>
        <FILE>lib/server/treatments.js</FILE>
        <FILE>lib/server/websocket.js</FILE>
        <FILE>lib/settings.js</FILE>
        <FILE>lib/storage/mongo-storage.js</FILE>
        <FILE>npm-shrinkwrap.json</FILE>
        <FILE>package.json</FILE>
        <FILE>server.js</FILE>
        <FILE>setup.sh</FILE>
        <FILE>static/colorbrewer/README.md</FILE>
        <FILE>static/css/main.css</FILE>
        <FILE>static/glyphs/css/fontello-embedded.css</FILE>
        <FILE>static/glyphs/css/fontello.css</FILE>
        <FILE>static/glyphs/demo.html</FILE>
        <FILE>static/glyphs/font/fontello.eot</FILE>
        <FILE>static/glyphs/font/fontello.svg</FILE>
        <FILE>static/glyphs/font/fontello.ttf</FILE>
        <FILE>static/glyphs/font/fontello.woff</FILE>
        <FILE>static/glyphs/font/fontello.woff2</FILE>
        <FILE>static/profile/js/profileeditor.js</FILE>
        <FILE>static/report/js/loopalyzer.js</FILE>
        <FILE>static/report/js/predictions.js</FILE>
        <FILE>static/report/js/report.js</FILE>
        <FILE>swagger.json</FILE>
        <FILE>swagger.yaml</FILE>
        <FILE>tests/admintools.test.js</FILE>
        <FILE>tests/api.devicestatus.test.js</FILE>
        <FILE>tests/api.entries.test.js</FILE>
        <FILE>tests/api.treatments.test.js</FILE>
        <FILE>tests/env.test.js</FILE>
        <FILE>tests/mqtt.test.js</FILE>
        <FILE>tests/pluginbase.test.js</FILE>
        <FILE>tests/reports.test.js</FILE>
        <FILE>tests/settings.test.js</FILE>
        <FILE>update.png</FILE>
        <FILE>views/bgclock.html</FILE>
        <FILE>views/index.html</FILE>
        <FILE>views/reportindex.html</FILE>
        <FILE>webpack.config.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
