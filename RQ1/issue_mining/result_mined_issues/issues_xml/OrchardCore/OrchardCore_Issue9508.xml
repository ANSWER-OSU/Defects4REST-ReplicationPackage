<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>9508</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/9508</ISSUEURL>
  <TITLE>Workflow : Recaptcha with application/json header Content-Type fails.</TITLE>
  <DESCRIPTION>Here is the issue I get when using application/json with the reCaptcha : ![MicrosoftTeams-image](https://user-images.githubusercontent.com/3228637/119055846-b4d52580-b997-11eb-9843-797c418c42a3.png) So basically I'm trying to validate the recaptcha with it's data-callback method to get it's validation token. Send it to the Workflow as g-recaptcha-response form value so that it passes. As soon as I add the reCaptcha task to the Workflow it faults with an error message saying : &quot;Incorrect Content Type : application/json&quot;</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Test for multipart/form-data and application/x-www-form-urlencoded</MESSAGE>
    <SHA>0ba03d6873e9e7d2b6a8094ef57341588412cc29</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge branch 'dev' into skrypt/#9508</MESSAGE>
      <SHA>226a8d60c5a52e6f0abfd838fd5aaebe6eff074a</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/WorkflowTypeController.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Abstractions/Handlers/IUserEventHandler.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Abstractions/Handlers/UserCreateContext.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Abstractions/Handlers/UserDeleteContext.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Abstractions/Handlers/UserUpdateContext.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Core/Services/UserStore.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
