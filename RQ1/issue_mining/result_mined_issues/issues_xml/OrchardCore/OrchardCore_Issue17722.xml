<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>17722</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/17722</ISSUEURL>
  <TITLE>Imported Queries have empty Query (template) field</TITLE>
  <DESCRIPTION>&lt;!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --&gt; &lt;!-- Please replace all placeholders such as this below. --&gt; ### Describe the bug Importing a Query yields that the imported Query has an empty Query (template) field. This is the case also when exporting a Query from the Blog recipe. ### Orchard Core version Latest `main` (64e55380321b98d7b9a85b7dd8012040e0f5f237) has it, but was the case with 2.1.6 at latest. ### To Reproduce 1. Fresh Blog setup. 2. Create Deployment Plan with only the All Queries step, and execute it. The resulting recipe will contain the default `RecentBlogPosts` SQL Query. 3. Open the recipe, change the Query's `Name` property to `ImportedRecentBlogPosts`, and import it under JSON Import. 4. Open the newly imported Query and observe that its Query field is empty, unlike that of the original Query's. Interestingly, executing local recipes from the Recipes screen doesn't have this issue. This affects Lucene and Elasticsearch Queries too. ### Expected behavior The Query field contains the previously exported value. ### Logs and screenshots &lt;!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. --&gt;</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix media resource dependencies (#17720)</MESSAGE>
    <SHA>9bf2991e770e17047fc08173271bab561b11ae8d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Import Properties for Queries Fix #17722</MESSAGE>
      <SHA>d1cbb2313623ac53a4aef90401abc5d53f996c11</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Queries.Core/Services/DefaultQueryManager.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Import Properties for Queries (#17723) Fix #17722</MESSAGE>
      <SHA>78373a5681bd2be8554b326799db2a7a3f45976f</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Queries.Core/Services/DefaultQueryManager.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Import Properties for Queries Fix #17722</MESSAGE>
      <SHA>dbcbfea37d588f8fe76e09950693ea89071ced69</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Queries.Core/Services/DefaultQueryManager.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Import Properties for Queries Fix #17722 (#17724)</MESSAGE>
      <SHA>7dbe9e40c732b07e292d74c9822fd9ce7c06fa0e</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Queries.Core/Services/DefaultQueryManager.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
