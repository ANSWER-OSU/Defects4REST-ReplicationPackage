<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>12544</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/12544</ISSUEURL>
  <TITLE>Make UpdateAtomic Delegates distinct</TITLE>
  <DESCRIPTION>Maybe I'm alone to use `IVolatileDocumentManager.UpdateAtomicAsync()`, see #10673 where we fixed a first problem but the 2nd concern is still there, otherwise it works well. So, when enlisting multiple update delegates (not allowed with the regular UpdateAsync()) in bulk actions, we can still enlist multiple times the same delegate, we wanted to make the results of the delegate invocation list distincts, but they are wrapped objects for which the equality operator overload is not sufficient. I fixed it locally by checking the `Target` directly on the the delegates passed as parameters, this in place of checking the delegates retrieved from the invocation list of the combined delegate. I will do a PR.</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Elasticsearch regression: Add Lucene deployment plan migration (#12591)</MESSAGE>
    <SHA>b938b7205de59b7dd832e0128e805055f1461790</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #12544: Make UpdateAtomic Delegates distinct (#12545)</MESSAGE>
      <SHA>7c443846f49bc312c9d757a662bb60a48af1306d</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Infrastructure/Documents/VolatileDocumentManager.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
