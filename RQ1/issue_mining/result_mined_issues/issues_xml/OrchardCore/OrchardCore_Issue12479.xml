<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>12479</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/12479</ISSUEURL>
  <TITLE>Unit Test reporting &quot;Fail&quot; in CI</TITLE>
  <DESCRIPTION>![image](https://user-images.githubusercontent.com/3228637/191848857-66550697-1cf1-41b9-8922-8f4f31554218.png) The current CI reports issues when running Unit Tests. See the latest Workflow actions to troubleshoot. I'm not sure why as of now but the Unit Tests are not set to a failing state afterward either.</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>all-contributors-cli 6.22.0</MESSAGE>
    <SHA>33757f3f6801df3d5f0d968e95bfa22689413638</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #12479: Set HttpContext before using ShellScope in Unit Tests (#12480)</MESSAGE>
      <SHA>c35ffc65a19081c64ae44060a34b78266fd4ea0f</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.Abstractions/BackgroundTasks/ShellContextExtensions.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/ContentManagement/ContentApiController/BlogPostApiControllerTests.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/ContentManagement/DeploymentPlans/BlogPostContentStepIdempotentTests.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/ContentManagement/DeploymentPlans/BlogPostCreateDeploymentPlanTests.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/ContentManagement/DeploymentPlans/BlogPostUpdateDeploymentPlanTests.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/Context/AgencyContext.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/Context/BlogContext.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/Context/BlogPostApiControllerContext.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/Context/BlogPostDeploymentContext.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/Context/SiteContext.cs</FILE>
        <FILE>test/OrchardCore.Tests/Apis/Lucene/LuceneContext.cs</FILE>
        <FILE>test/OrchardCore.Tests/Modules/OrchardCore.Tenants/Services/TenantValidatorTests.cs</FILE>
        <FILE>test/OrchardCore.Tests/Shell/ShellHostTests.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
