<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>17216</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/17216</ISSUEURL>
  <TITLE>Custom roles overwritten after upgrading to OC 2.1.x</TITLE>
  <DESCRIPTION>I am using custom roles where RoleClaims is empty (director, sales manager): ![image](https://github.com/user-attachments/assets/43704a4a-4276-4bf4-a9af-550dd95198af) After upgrading to Orchard Core 2.1.x (from 2.0.2), I noticed that all users are assigned the `Administrator` role. I suspect the issue is related to the following line of code: https://github.com/OrchardCMS/OrchardCore/blob/4ab7c345f3c1f57e8fe4f7bcf173e86ad41aa5d8/src/OrchardCore.Modules/OrchardCore.Roles/Migrations/RolesMigrations.cs#L46</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Update dependency Serilog.AspNetCore to v9 (#17190) Co-authored-by: Zoltán Lehóczky &lt;zoltan.lehoczky@lombiq.com&gt;</MESSAGE>
    <SHA>4ab7c345f3c1f57e8fe4f7bcf173e86ad41aa5d8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Roles with no permission are auto migrated to Administrator roles Fix #17216</MESSAGE>
      <SHA>6d3d83671e5c7c33d93b4813ad71462e6d19a1e1</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.Roles/Migrations/RolesMigrations.cs</FILE>
        <FILE>src/docs/releases/2.1.3.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
