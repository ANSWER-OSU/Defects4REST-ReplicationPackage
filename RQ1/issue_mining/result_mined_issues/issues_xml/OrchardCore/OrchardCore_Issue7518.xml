<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7518</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/7518</ISSUEURL>
  <TITLE>Background tasks, time zones should be converted</TITLE>
  <DESCRIPTION>![image](https://user-images.githubusercontent.com/16968103/98220126-d2f1b000-1f88-11eb-9251-6d5532a15986.png) ![image](https://user-images.githubusercontent.com/16968103/98220575-72af3e00-1f89-11eb-9a16-5d64e82f7b76.png) China UTC Plus 8, 8 a.m ： 0 8 * * * now ： 0 0 * * *</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>95</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>support for &quot;now&quot; function which returns current DateTime in Utc</MESSAGE>
    <SHA>21be992ca22a77e69c4c284fb91db3534325fc0c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#7518 background tasks, nextStartTime is assumed as local time (site time)</MESSAGE>
      <SHA>826daa4b6959b0c14c5d7ed623f7b789fbc024be</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore/BackgroundTasks/BackgroundTaskScheduler.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/Modules/ModularBackgroundService.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/OrchardCore.csproj</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge branch 'dev' into lampersky/#7518</MESSAGE>
      <SHA>c3c88964f7e03fea96008b6d8ef3f77de5f9771c</SHA>
      <PATCHEDFILES>
        <FILE>.github/workflows/functional_all_db.yml</FILE>
        <FILE>.github/workflows/pr_ci.yml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/GraphQL/Types/HtmlFieldQueryObjectType.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/AdminTabs.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/Card.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/CardContainer.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/Column.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/ColumnContainer.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/LocalNavigation.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/Tab.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/TabContainer.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Views/_ViewImports.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Deployment/Deployment/DeploymentPlanDeploymentSource.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.Display/ContentDisplay/ContentItemDisplayCoordinator.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.DisplayManagement/ViewModels/GroupViewModel.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.DisplayManagement/Zones/ZoneShapes.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/Shell/Distributed/DistributedShellHostedService.cs</FILE>
        <FILE>src/docs/reference/core/Configuration/README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#7518 background tasks, nextStartTime is assumed as local time (site time)</MESSAGE>
      <SHA>b215a94ebccf2b49b0183b0174a9469b203ed29c</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore/BackgroundTasks/BackgroundTaskScheduler.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/Modules/ModularBackgroundService.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/OrchardCore.csproj</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#7518 background tasks, nextStartTime is assumed as local time (site time) (#8548) Co-authored-by: Dawid Lamperski &lt;dl@oddslife.com&gt;</MESSAGE>
      <SHA>d95d388072de583b8dbb28a94267996dc1558d3b</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore/BackgroundTasks/BackgroundTaskScheduler.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/Modules/ModularBackgroundService.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/OrchardCore.csproj</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#7518 background tasks, nextStartTime is assumed as local time (site time)</MESSAGE>
      <SHA>f8a8242117f45836651dbcfc76d6ecb1b71bd4c3</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore/BackgroundTasks/BackgroundTaskScheduler.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore/Modules/ModularBackgroundService.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
