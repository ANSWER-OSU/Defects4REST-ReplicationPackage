<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>15702</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/15702</ISSUEURL>
  <TITLE>Replace ReCaptchaLoginFilter with drivers</TITLE>
  <DESCRIPTION>Filters are expensive and should be used very lightly. The `ReCaptchaLoginFilter` is called on every request when the reCapcha feature is enabled. We should be able to improve `ForgotPassword.cshtml` by using shapes to create the form `ForgotPasswordForm`. Also, improve `Register.cshtml` by using shapes to create the `RegisterForm` shape. Finally, improve `ResetPassword.cshtml` by using shapes to create the `ResetPasswordForm` shape. This will allow us to inject reCapcha and other shapes into these forms without having the need to use filter.</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>9</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix Issue-15709: Fix NullReferenceException in CacheTicketStore.RenewAsync method (#15711)</MESSAGE>
    <SHA>70cc05569429b5b69536ed17c0d35d107db2a66e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Convert FogotPassword views to shapes Fix #15702 Fix #12705</MESSAGE>
      <SHA>9a6ad961d7883946451885e5b11d515dce05e796</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.ReCaptcha/Drivers/ReCaptchaForgotPasswordFormDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ReCaptcha/Drivers/ReCaptchaLoginFormDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ReCaptcha/ReCaptchaLoginFilter.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ReCaptcha/Startup.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ReCaptcha/Views/FormReCaptcha.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Controllers/ResetPasswordController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Drivers/ForgotPasswordFormDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Drivers/LoginFormDisplayDriver.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Startup.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/ViewModels/ForgotPasswordViewModel.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Views/ForgotPasswordForm.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Views/ForgotPasswordFormIdentifier.Edit.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Views/ResetPassword/ForgotPassword.cshtml</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Views/ResetPassword/ForgotPasswordConfirmation.cshtml</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Core/Models/ForgotPasswordForm.cs</FILE>
        <FILE>src/OrchardCore/OrchardCore.Users.Core/Services/UserService.cs</FILE>
        <FILE>src/docs/releases/1.9.0.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
