<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>5253</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/5253</ISSUEURL>
  <TITLE>Remove IUpdateModel from AdminController and use ControllerModelUpdater instead</TITLE>
  <DESCRIPTION>Remove `IUpdateModel` from following `public class AdminController : Controller, IUpdateModel` and instead of passing `this` in BuildEditor `var model = await _contentItemDisplayManager.BuildEditorAsync(contentItem, this, true);` Inject `IUpdateModelAccessor updateModelAccessor` and pass updater from service. ``` var updater = _updateModelAccessor.ModelUpdater; var model = await _contentItemDisplayManager.BuildEditorAsync(contentItem, updater , true); ``` This would allows flexibility to add/modify IUpdateModel interface definition or override methods for e.g. `TryUpdateModelAsync` in `ControllerModelUpdater` without overriding every controllers. Also it stays consistent with other areas of orchard core.</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>20</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Standard display option for each field (#5321) Fixes #5219</MESSAGE>
    <SHA>0480fdb56b04b7d915b45a701832c26356d87d59</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #5253</MESSAGE>
      <SHA>61bffedd08afbd25ee1136c912bea005d5c63706</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.AdminMenu/Controllers/MenuController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.AdminMenu/Controllers/NodeController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.BackgroundTasks/Controllers/BackgroundTaskController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Controllers/ContentCulturePickerController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentPreview/Controllers/PreviewController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Controllers/ItemController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Demo/Controllers/ContentController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Deployment/Controllers/DeploymentPlanController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Deployment/Controllers/StepController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Email/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Feeds/Controllers/FeedController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Feeds/OrchardCore.Feeds.csproj</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Layers/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Menu/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.OpenId/Controllers/ServerConfigurationController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.OpenId/Controllers/ValidationConfigurationController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Queries/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Settings/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Templates/Controllers/PreviewController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Templates/Controllers/TemplateController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/ActivityController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/WorkflowController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/WorkflowTypeController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Using ControllerModelUpdater on controller instead of implementing IUpdateModel (#5339) Fixes #5253</MESSAGE>
      <SHA>67a028b6629364cfbe098a38228b05760ac6d1ee</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.AdminMenu/Controllers/MenuController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.AdminMenu/Controllers/NodeController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.BackgroundTasks/Controllers/BackgroundTaskController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentLocalization/Controllers/ContentCulturePickerController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentPreview/Controllers/PreviewController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentTypes/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Contents/Controllers/ItemController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Demo/Controllers/ContentController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Deployment/Controllers/DeploymentPlanController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Deployment/Controllers/StepController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Email/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Feeds/Controllers/FeedController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Feeds/OrchardCore.Feeds.csproj</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Flows/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Layers/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Menu/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.OpenId/Controllers/ServerConfigurationController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.OpenId/Controllers/ValidationConfigurationController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Queries/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Settings/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Taxonomies/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Templates/Controllers/PreviewController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Templates/Controllers/TemplateController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Users/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Widgets/Controllers/AdminController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/ActivityController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/WorkflowController.cs</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Workflows/Controllers/WorkflowTypeController.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
