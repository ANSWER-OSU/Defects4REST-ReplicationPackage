<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>11904</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/11904</ISSUEURL>
  <TITLE>TypeFeatureProvider throws if a Razor Page has no PageModel</TITLE>
  <DESCRIPTION>### Describe the bug We now can use the `[Feature()]` attribute on a razor `PageModel` and we use the `ITypeFeatureProvider` to retrieve the feature related to a given `PageModel`. The problem is that when no `PageModel` is defined for a razor page, e.g. only `@functions` handlers, the related page `ModelType` is then of type `Object`. In that case `ITypeFeatureProvider.GetFeatureForDependency(pageModelType)` throw an exception. ### To Reproduce Steps to reproduce the behavior: 1. Create a Razor @page without defining a `PageModel` (e.g. only `@functions` handlers). 2. Start the app and see `_typeFeatureProvider` failing. ### Expected behavior A Razor @page without defining a `PageModel` should work. Fixed on my side, will push a PR</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix CORS policy (#11898)</MESSAGE>
    <SHA>3cd619b6ada347f557a0dd2da9e2a538ca383924</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #11904 TypeFeatureProvider throws if a Razor Page has no PageModel (#11905) * Update ModularPageApplicationModelProvider.cs * Create HelloWorld.cshtml</MESSAGE>
      <SHA>e11e4e888dd3564553513ded30e89c636ec27268</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.Demo/Pages/HelloWorld.cshtml</FILE>
        <FILE>src/OrchardCore/OrchardCore.Mvc.Core/RazorPages/ModularPageApplicationModelProvider.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
