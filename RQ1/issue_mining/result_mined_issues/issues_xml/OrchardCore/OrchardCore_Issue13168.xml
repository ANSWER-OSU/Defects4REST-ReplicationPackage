<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>13168</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/13168</ISSUEURL>
  <TITLE>GraphQL: Error trying to resolve field 'contentItems'</TITLE>
  <DESCRIPTION>I'm getting an error on a GraphQL query which was working before in `1.4`, but breaks in `1.5`. The error: ``` GraphQL.Execution.UnhandledError: Error trying to resolve field 'contentItems'. ---&gt; System.ArgumentNullException: Value cannot be null. (Parameter 'provider') at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider) at OrchardCore.Apis.GraphQL.ResolveFieldContextExtensions.Page[T,TSource](IResolveFieldContext`1 context, IEnumerable`1 source) at GraphQL.Resolvers.FuncFieldResolver`2.GraphQL.Resolvers.IFieldResolver.Resolve(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 158 at GraphQL.Resolvers.FuncFieldResolver`2.&lt;&gt;c__DisplayClass3_0.&lt;GetResolverFor&gt;b__2(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 91 at GraphQL.Resolvers.FuncFieldResolver`2.GraphQL.Resolvers.IFieldResolver.Resolve(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 158 at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 391 --- End of inner exception stack trace --- ``` ### To Reproduce 1. Create ContentType: `TestContentType` 2. Add a bag NamePart `TestNamedBag` 3. Enable `Collapes` (Check to collapse fields in the GraphQL schema.) 4. Add a simple content type to the bag, for example a `text area`. 5. Save 6. Execute GraphQL like this ```graphql query MyQuery { testContentType { contentItems { ... on TextArea { displayText modifiedUtc } } } } ``` As a workaround, I changed the BagPart to a FlowPart which is fixing the issue. However, I prefer to use the BagPart.</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add @DotCat1985 as a contributor</MESSAGE>
    <SHA>f7c10a69b2fd64037f8427e1fa47bc3f184cecc1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix null exception trying to resolve contentItems #13168</MESSAGE>
      <SHA>eb35db8721fb461121317b397159413d705a2daa</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.GraphQL/Queries/Types/TypedContentTypeBuilder.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix null exception trying to resolve contentItems in GraphQL #13168 (#13189) Co-authored-by: Thieme van Selm &lt;thieme.van.selm@econnect.eu&gt;</MESSAGE>
      <SHA>5587fee5acbfa21f3a7ab34d3d0deae76f41a80b</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore/OrchardCore.ContentManagement.GraphQL/Queries/Types/TypedContentTypeBuilder.cs</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
