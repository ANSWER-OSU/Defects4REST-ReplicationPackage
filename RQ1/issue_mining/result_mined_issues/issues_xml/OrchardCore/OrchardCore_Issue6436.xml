<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>6436</ISSUENO>
  <ISSUEURL>https://github.com/OrchardCMS/OrchardCore/issues/6436</ISSUEURL>
  <TITLE>Insert Media will insert into all open Trumbowyg editors</TITLE>
  <DESCRIPTION>1. Set up site with the Blog recipe. 2. Change the Raw Html Widget's Html Field to use the Trumbowyg editor. 3. Add two Raw Html widgets to a Page. 4. Insert Media (any image provided by the recipe) to one of the open editors. So far so good. 5. Insert different Media into the other editor. Now both editors have the same `[image]` tags, i.e. the tags were overridden in both editors. 6. Repeated Media insertion will also overwrite tags in the other editor. Repro (only managed to insert the first image on the second try :)): ![Media insert bug](https://user-images.githubusercontent.com/1976647/84714436-efeffd00-af6d-11ea-800c-59b792466bc8.gif)</DESCRIPTION>
  <REPONAME>OrchardCore</REPONAME>
  <TIMEDIFFERENCEDAYS>5</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge remote-tracking branch 'upstream/dev' into trumbowyg_media_url_multiple_add_fix</MESSAGE>
    <SHA>ff057d39c11c03650ffd75060e13b4cbbea4aed8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>code to solve issue #6436 added code to reset the onclick event over the media modal button to avoid multiple subscriber on the same event.</MESSAGE>
      <SHA>2f29b4ccd31687b87c0fb9ecd188b26f2e07751b</SHA>
      <PATCHEDFILES>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/Assets/trumbowyg.media.tag.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/Assets/trumbowyg.media.url.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/wwwroot/Scripts/trumbowyg.media.tag.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/wwwroot/Scripts/trumbowyg.media.tag.min.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/wwwroot/Scripts/trumbowyg.media.url.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.ContentFields/wwwroot/Scripts/trumbowyg.media.url.min.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/Assets/trumbowyg.media.tag.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/Assets/trumbowyg.media.url.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/wwwroot/Scripts/trumbowyg.media.tag.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/wwwroot/Scripts/trumbowyg.media.tag.min.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/wwwroot/Scripts/trumbowyg.media.url.js</FILE>
        <FILE>src/OrchardCore.Modules/OrchardCore.Html/wwwroot/Scripts/trumbowyg.media.url.min.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
