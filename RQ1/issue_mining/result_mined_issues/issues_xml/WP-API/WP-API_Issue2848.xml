<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2848</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/2848</ISSUEURL>
  <TITLE>Avoid use of wp_filter_post_kses to prevent lossy slash handling</TITLE>
  <DESCRIPTION>As [discussed in slack](https://wordpress.slack.com/archives/core-restapi/p1476715005007733) following #2840, there are other places than https://github.com/WP-API/WP-API/pull/2788 where @westonruter's comments around the lossy slash handling in `wp_filter_post_kses` come into play; we should standardize these to use the underlying `wp_kses` functions. Quoting @rachelbaker, &gt; if we are not trusting the slash handling of `wp_filter_post_kses()` then we should do that consistently, and switch to `wp_kses_post()` or `wp_kses()` with the {filter_name}</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>16</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #2863 from desrosj/2790-block-draft-trash-comments Comments: Return an error when commenting on a trashed or draft post.</MESSAGE>
    <SHA>cd783ea5eb9fbdc6d7e492f02d94f4341fc618c9</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Avoid use of wp_filter_post_kses() #2848</MESSAGE>
      <SHA>a2379146cd776150abed3c15bc76aa4a8dbb5d98</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-rest-posts-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
