<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1395</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/1395</ISSUEURL>
  <TITLE>Taxonomy term IDs not the same as what Wordpress actually wants?</TITLE>
  <DESCRIPTION>I'm seeing some very strange behavior when creating and then associating terms via the REST API: - The API will create the new term as requested and return a well-formed response including the new term ID. - Attempting to associate the new term using the returned ID to an existing post will succeed as well (HTTP 201). - However, when viewing the post in WP-Admin, some of the term associations are either missing or entirely wrong. What's really strange is that I can import a term via the API and then go search for it in WP-Admin as well. The ID that I got back in my REST response is NOT the term ID that Wordpress is using to render the Edit form for the term. That seems a red flag to me, but I'm not sure how or why it's happening. Attached are screenshots of importing the term, associating the term, searching for the term against the REST API -- these are all in agreement with each other. ![screen shot 2015-07-11 at 1 50 26 pm](https://cloud.githubusercontent.com/assets/643118/8634836/5c4406b4-27d7-11e5-8569-b9565d331183.png) ![screen shot 2015-07-11 at 2 05 33 pm](https://cloud.githubusercontent.com/assets/643118/8634838/697a5b80-27d7-11e5-9775-fd90a95aa364.png) ![screen shot 2015-07-11 at 2 19 15 pm](https://cloud.githubusercontent.com/assets/643118/8634851/fc4c0ff8-27d7-11e5-88a8-08f046b292e3.png) ![screen shot 2015-07-11 at 1 53 00 pm](https://cloud.githubusercontent.com/assets/643118/8634840/784d96f4-27d7-11e5-9c90-78514d77fd95.png) The last two screenshots are from the WP-Admin, and they clearly show that &quot;Women's Tennis&quot; is not associated to the Post, and the term ID is also different (27564 != 27580). ![screen shot 2015-07-11 at 1 56 15 pm](https://cloud.githubusercontent.com/assets/643118/8634841/7cb7723c-27d7-11e5-8371-cb4e8fb09216.png) ![screen shot 2015-07-11 at 1 56 52 pm](https://cloud.githubusercontent.com/assets/643118/8634842/7fa41388-27d7-11e5-8bad-7dfa14c07241.png) Any idea what's going wrong here?</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>130</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #1427 from alleyinteractive/enable-post-hook Re-enables the rest_insert_post action hook for WP_REST_Posts_Controller</MESSAGE>
    <SHA>fc9e949b1559e37211920c2725ccff3baf3234d7</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#1395: When associating terms to posts, align WP-API use of term_taxonomy_id with WP core's use of term_id.</MESSAGE>
      <SHA>3fe3199245bce6111ad12276ab796ae7f80cfe44</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-rest-posts-terms-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>#1395: When creating terms, if a term exists, inform the client of the term_taxonomy_id, not the term_id. The term_id is useless to the client.</MESSAGE>
      <SHA>48bbc821ff37458a3e84c494a07efe7583fbf5ef</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-rest-terms-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
