<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2426</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/2426</ISSUEURL>
  <TITLE>Inconsistent type returned for user capabilities.</TITLE>
  <DESCRIPTION>When a WP user has capabilities and a call is made to `/users/:id?context=edit`, a JSON object/map is returned (`&quot;capabilities&quot;: {&quot;a&quot;:&quot;foo&quot;, &quot;b&quot;:&quot;bar&quot;}`). However, when a user has no capabilities (`- No role for this site -` selected in wp-admin), an empty array is returned (`&quot;capabilities&quot;: []`).</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>79</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge remote-tracking branch 'refs/remotes/WP-API/develop' into develop</MESSAGE>
    <SHA>73d3cc93c3f6650881720ed15563cd0806522024</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>#2426-inconsistent-type-for-user-caps Fixes #2426, returns an empty object for users without capabilities.</MESSAGE>
      <SHA>7a36c337e6bcec244ca6edda3e1050e3597c89f2</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-rest-users-controller.php</FILE>
        <FILE>tests/test-rest-users-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge remote-tracking branch 'refs/remotes/WP-API/develop' into #2426-inconsistent-type-for-user-caps</MESSAGE>
      <SHA>5625313439353373c780f397f3be6e207e2018b4</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-rest-controller.php</FILE>
        <FILE>lib/endpoints/class-wp-rest-posts-controller.php</FILE>
        <FILE>lib/endpoints/class-wp-rest-terms-controller.php</FILE>
        <FILE>lib/endpoints/class-wp-rest-users-controller.php</FILE>
        <FILE>plugin.php</FILE>
        <FILE>tests/test-rest-controller.php</FILE>
        <FILE>tests/test-rest-users-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge remote-tracking branch 'refs/remotes/WP-API/develop' into #2426-inconsistent-type-for-user-caps</MESSAGE>
      <SHA>268e4c00268e9c78e010487e85ade45f6cf4b6d8</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #2429 from BE-Webdesign/#2426-inconsistent-type-for-user-caps #2426 inconsistent type for user caps</MESSAGE>
      <SHA>d8f8f8a1bdacd2646c3b36b6d6f4a48f9bd1599d</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-rest-users-controller.php</FILE>
        <FILE>tests/test-rest-users-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
