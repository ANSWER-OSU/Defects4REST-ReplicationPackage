<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1023</ISSUENO>
  <ISSUEURL>https://github.com/WP-API/WP-API/issues/1023</ISSUEURL>
  <TITLE>Fix comment schema; return error when response data doesn't match schema</TITLE>
  <DESCRIPTION>In #955, @rmccue was able to change the response format for a comment without updating the schema. The API shouldn't ever return a response that doesn't match the declared schema. In this issue, we should: 1. Fix the schema, somewhat contingent on #1022 2. Return a 500 error when the produced response doesn't match the schema, instead of a malformed object. Note for the second, I'm just referring to fields in the response that are missing or of a different format than in the declared schema. Additional fields can be ignored.</DESCRIPTION>
  <REPONAME>WP-API</REPONAME>
  <TIMEDIFFERENCEDAYS>9</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Contexts for post types and statuses</MESSAGE>
    <SHA>04d6b5f5e07d649a3762e00fe4d3a9b5427c625c</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Clarify contexts for comment schema Related #1023</MESSAGE>
      <SHA>d65168da43451b13ebf57e845fe9de8e27e5b0b7</SHA>
      <PATCHEDFILES>
        <FILE>lib/endpoints/class-wp-json-comments-controller.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
