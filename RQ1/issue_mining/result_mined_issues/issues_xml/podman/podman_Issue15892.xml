<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>15892</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/15892</ISSUEURL>
  <TITLE>CI broken: golint 1.46.2</TITLE>
  <DESCRIPTION>About 1/3 of CI jobs are failing with: ``` VERSION=1.46.2 ./hack/install_golangci.sh Installing golangci-lint v1.46.2 into ./bin/golangci-lint golangci/golangci-lint info checking GitHub for tag 'v1.46.2' golangci/golangci-lint info found version: 1.46.2 for v1.46.2/linux/amd64 make: *** [Makefile:861: .install.golangci-lint] Error 28 &lt;---- EDIT: curl 28 = timeout ``` Even in CI jobs that have nothing to do with lint, such as `sys` and `int` and `upgrade` tests. 1. Let's get this fixed 2. Let's avoid doing this step in places where it's not needed EDIT: curl(1) sez: ``` EXIT CODES ... 28 Operation timeout. The specified time-out period was reached according to the conditions. ```</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #15916 from ashley-cui/machstarting Fix machine starting state</MESSAGE>
    <SHA>f51aeb45d497379b6e0a11414d69435e83908efa</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>CI: only make install.tools when needed Reintroduce .install.foo targets into Makefile, and invoke only the bare-minimum ones needed for each individual CI step in setup_environment.sh. Also add a retry to the golangci-lint curl, in hopes of dealing with network flakes. And remove the -f (fail) because it produces unhelpful logs. Reason: saw about 25% CI flakes yesterday due to the golangci-lint fetch, something about a timeout, and this was especially frustrating because none of the steps actually needed lint. Quick reminder: avoid network fetches unless absolutely necessary. Fixes: #15892 Signed-off-by: Ed Santiago &lt;santiago@redhat.com&gt;</MESSAGE>
      <SHA>0fb95f95d2af7bcc2529f896fec9904b3357b580</SHA>
      <PATCHEDFILES>
        <FILE>Makefile</FILE>
        <FILE>contrib/cirrus/setup_environment.sh</FILE>
        <FILE>hack/install_golangci.sh</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
