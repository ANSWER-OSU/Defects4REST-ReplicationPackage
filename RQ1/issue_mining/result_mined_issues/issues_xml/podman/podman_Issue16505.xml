<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>16505</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/16505</ISSUEURL>
  <TITLE>podman-remote restart: Error sending SIGKILL: container state improper: stopped</TITLE>
  <DESCRIPTION>Another signal flake. Only seen once [int remote f37 root](https://api.cirrus-ci.com/v1/artifact/task/6108071903100928/html/int-remote-fedora-37-root-host.log.html#t--podman-restart-stopped-container-by-ID--1): ```console # podman-remote [options] start 755ed1a8ac74984410bd7817cec045e56038e06a2133ab9592e70bc9da623c62 755ed1a8ac74984410bd7817cec045e56038e06a2133ab9592e70bc9da623c62 # podman-remote [options] restart 755ed1a8ac74984410bd7817cec045e56038e06a2133ab9592e70bc9da623c62 open pidfd: No such process Error: sending SIGKILL to container 755ed1a8ac74984410bd7817cec045e56038e06a2133ab9592e70bc9da623c62: container state improper: stopped ``` Looks exactly the same as #16142, down to the &quot;pidfd&quot; message, but this one is in *restart* not *rm*.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #16380 from flouthoc/compat-build-fix compat,build: handle `docker's` preconfigured `cacheTo`,`cacheFrom`</MESSAGE>
    <SHA>6c37cf332439989148e408af49afaf7c0cb6e166</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>e2e tests: fix restart race It's so easy to forget that &quot;podman start&quot; is nonblocking. So podman create, start, restart has a race where &quot;restart&quot; can run before the container actually starts. Solution: start --attach. Thanks to @vrothberg for noticing that. There are still a handful of other suspicious-looking restarts in this test, but all involve &quot;top&quot; which of course has to be detached. Since those don't have any flakes that I know of, I choose to ignore them. Fixes: #16505 Signed-off-by: Ed Santiago &lt;santiago@redhat.com&gt;</MESSAGE>
      <SHA>58869dcc3076e2b5b403cf2faaabde45e817d8e1</SHA>
      <PATCHEDFILES>
        <FILE>test/e2e/restart_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
