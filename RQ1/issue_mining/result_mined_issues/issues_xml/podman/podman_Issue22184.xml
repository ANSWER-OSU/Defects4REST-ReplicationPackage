<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>22184</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/22184</ISSUEURL>
  <TITLE>Include manifest list or boolean attribute in libpod image list</TITLE>
  <DESCRIPTION>### Feature request description From Podman Desktop POV, we're displaying images. We would like to display as well multi-arch images. These images are part of the `libpod/images/json` enpoint But then, currently there is no way to know if the image being listed is a true image or part of a manifest. From Podman Desktop, we need to know when image is a multi-arch to let the people know the arch/os of the manifest. ### Suggest potential solution include either `manifests` field corresponding to something like `manifest inspect` result ```json { &quot;schemaVersion&quot;: 2, &quot;mediaType&quot;: &quot;application/vnd.oci.image.index.v1+json&quot;, &quot;manifests&quot;: [ { &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+json&quot;, &quot;size&quot;: 1930, &quot;digest&quot;: &quot;sha256:94d0d9c033b913aba7b23976bcedfbda80cd6fbfa5abf605484f1eabf225a03a&quot;, &quot;platform&quot;: { &quot;architecture&quot;: &quot;amd64&quot;, &quot;os&quot;: &quot;linux&quot; } }, { &quot;mediaType&quot;: &quot;application/vnd.oci.image.manifest.v1+json&quot;, &quot;size&quot;: 1933, &quot;digest&quot;: &quot;sha256:e351b67dc93670018f56c891dc0e49d8bd6b99813e567170310446f89a61ca8b&quot;, &quot;platform&quot;: { &quot;architecture&quot;: &quot;arm64&quot;, &quot;os&quot;: &quot;linux&quot; } } ] } ``` in that case, it means that Podman Desktop with one query to the list endpoint is able to grab all arch/os of image manifests other option include a boolean field like `isManifest: true` or `Manifest:true` then we know it's a manifest and we'll need to query for each matching manifest/image a call to the Manifest API endpoint to know more about images We're also fine if for example we need to include a parameter like ?showMoreThings on the endpoint ### Have you considered any alternatives? A clear and concise description of any alternative solutions or features you've considered. ### Additional context Add any other context or screenshots about the feature request here.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>15</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #22260 from baude/validatepr [CI:DOCS]Initial PR validation</MESSAGE>
    <SHA>0b0335259e672c8e9640c2852722a0d7974ef830</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add os, arch, and ismanifest to libpod image list when listing images through the restful service, consumers want to know if the image they are listing is a manifest or not because the libpod endpoint returns both images and manifest lists. in addition, we now add `arch` and `os` as fields in the libpod endpoint for image listing as well. Fixes: #22184 Fixes: #22185 Signed-off-by: Brent Baude &lt;bbaude@redhat.com&gt;</MESSAGE>
      <SHA>08a49389c8574b173d41feb10b5aa0e6a4d6d005</SHA>
      <PATCHEDFILES>
        <FILE>hack/xref-helpmsgs-manpages</FILE>
        <FILE>pkg/api/handlers/compat/images.go</FILE>
        <FILE>pkg/domain/entities/images.go</FILE>
        <FILE>pkg/domain/entities/types/images.go</FILE>
        <FILE>pkg/domain/infra/abi/images_list.go</FILE>
        <FILE>test/apiv2/12-imagesMore.at</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
