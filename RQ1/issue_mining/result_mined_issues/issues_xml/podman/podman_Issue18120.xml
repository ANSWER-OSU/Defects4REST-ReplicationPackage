<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>18120</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/18120</ISSUEURL>
  <TITLE>Allowing an option to redirect stdout to a file instead of explicitly suppressing it with /dev/null</TITLE>
  <DESCRIPTION>### Feature request description Podman has a boolean parameter, `--noout`, that suppresses output. This is done by opening &quot;/dev/null&quot; and re-assigning it to `os.Stdout`. Instead of explicitly redirecting it to &quot;/dev/null&quot;, it would be significantly more useful to add an output parameter that allows the user to specify a file. This allows for the ability to capture anything produced by podman (such as anything produced with `--format json`), and if suppression is still necessary it can be done by specifying &quot;/dev/null&quot; explicitly. ### Suggest potential solution PR #16518 is unrelated, but appears to be the same code and seems like it could be fairly easy to convert the &quot;noout&quot; parameter to something like &quot;out&quot; and promote it to a `StringFlag`. Then instead of stashing a bool in `PodmanConfig`, it would be a string...and then finally in `nooutHook`, you would `os.OpenFile` the parameter and leave the fd dangling. ### Have you considered any alternatives? Well.. you can spawn `/bin/sh` as your ppid, but if you can use `/bin/sh` anyways, then I'm unsure of the original purpose for the `--noout` parameter. ### Additional context My orignal intention was to just capture the image id to a file without having to spawn a shell, similar to the `--uuid-file` parameter from the dead rkt container-engine project.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>58</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #18577 from rhatdan/build Support podman --remote when Containerfile is not in context directory</MESSAGE>
    <SHA>710315d33c76e1e803b3f18bc0266640b9916248</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>podman: added the --out option for capturing formatted output emitted by various commands Commands like podman-create(1), podman-run(1), podman-inspect(1), podman-ps(1) will emit formatted output upon success. This allows the output from commands to be emitted directly to a file and can supersede the --noout parameter by using /dev/null. An issue with --noout was also remedied. This closes issue #18120. Signed-off-by: Ali Rizvi-Santiago &lt;arizvisa@gmail.com&gt;</MESSAGE>
      <SHA>bb2deef8e15422d4c28a97564d2ce4a64762e804</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/containers/run.go</FILE>
        <FILE>cmd/podman/root.go</FILE>
        <FILE>docs/source/markdown/podman.1.md</FILE>
        <FILE>test/system/001-basic.bats</FILE>
        <FILE>test/system/030-run.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #18657 from arizvisa/GH-18120 Added the &quot;--out&quot; parameter and fixed an issue with &quot;--noout&quot; which prevented stdout from being written to.</MESSAGE>
      <SHA>eec15a108ab602d13cc04fd1e3d5149bf470684c</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/containers/run.go</FILE>
        <FILE>cmd/podman/root.go</FILE>
        <FILE>docs/source/markdown/podman.1.md</FILE>
        <FILE>test/system/001-basic.bats</FILE>
        <FILE>test/system/030-run.bats</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
