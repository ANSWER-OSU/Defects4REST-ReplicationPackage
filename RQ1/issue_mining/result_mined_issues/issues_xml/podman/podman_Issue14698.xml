<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>14698</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/14698</ISSUEURL>
  <TITLE>fetch directly a ready-to-use image for podman machine on Windows</TITLE>
  <DESCRIPTION>**Is this a BUG REPORT or FEATURE REQUEST? (leave only one on its own line)** /kind feature On macOS, when perfoming `podman machine init` it fetches a pre-built `fedora-coreos-36*-qemu.x86_64.qcow2.xz` file and then it unpacks it and start machine from there. But on Windows, it's fetching a `fedora-35-x86_64.tar.xz` file and then we're entering in updates/installation of RPM packages. I would expect to have a ready-to-use image, and not going to the process of updating/installing standalone RPM files. In case of offline mode, I can't do `podman machine init` step even if I've locally the `fedora-35-x86_64.tar.xz` file. Also it's taking a very long time to perform all these small update/install process. And creating another machine, we go to all these steps again and again. &lt;!-- Briefly describe the problem you are having in a few paragraphs. --&gt; **Steps to reproduce the issue:** 1. `podman machine init` on Windows 2. creates another machine, `podman machine init foo` it'll try to install packages, etc again. **Describe the results you received:** Installing packages, updating fedora, etc. **Describe the results you expected:** Just boot the prebuilt VM, ready-to-use, no need to have post-start actions **Additional information you deem important (e.g. issue happens only occasionally):** **Output of `podman version`:** ``` 4.1.1 ``` **Output of `podman info --debug`:** ``` (paste your output here) ``` **Package info (e.g. output of `rpm -q podman` or `apt list podman`):** ``` (paste your output here) ``` **Have you tested with the latest version of Podman and have you checked the Podman Troubleshooting Guide? (https://github.com/containers/podman/blob/main/troubleshooting.md)** Yes/No **Additional environment details (AWS, VirtualBox, physical, etc.):**</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>22</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #14910 from flouthoc/fix-test test,manifest-run: declare `TARGETPLATFORM` in test containerfile.</MESSAGE>
    <SHA>255740bdf8a45e644039a83082d6f829c1018512</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #14698 Use prepared image for WSL2 machine init This commit introduces a prepared image for setting up the WSL2 environment. This means that the deployment will take considerable less time to finish (as it does not need to run an update and package install), but also allows to rely on a cached image to re-init the environment without the need for an internet connection. [NO NEW TESTS NEEDED] Signed-off-by: Gerard Braad &lt;me@gbraad.nl&gt;</MESSAGE>
      <SHA>0f53abd093d171fe134fb5aa00f1679f0efed370</SHA>
      <PATCHEDFILES>
        <FILE>pkg/machine/fedora.go</FILE>
        <FILE>pkg/machine/wsl/machine.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
