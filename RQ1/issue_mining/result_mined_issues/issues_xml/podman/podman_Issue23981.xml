<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>23981</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/23981</ISSUEURL>
  <TITLE>Processes top api service incompatibility</TITLE>
  <DESCRIPTION>### Issue Description Describe your issue The compat endpoints do not behave the same - Api docs of docker &lt;https://docs.docker.com/reference/api/engine/version/v1.39/#tag/Container/operation/ContainerTop&gt; - Api docs of podman &lt;https://docs.podman.io/en/latest/_static/api.html#tag/containers-(compat)/operation/ContainerTop&gt; ### Steps to reproduce the issue Steps to reproduce the issue 1. Get processes list using libpod compat endpoint 2. Get processes list using docker api engine endpoint 3. Compare ### Describe the results you received Describe the results you received Received a list of strings ### Describe the results you expected Describe the results you expected Receive a list of lists of strings ### podman info output ```yaml Podman is working fine on 5.2.2 ``` ### Podman in a container No ### Privileged Or Rootless None ### Upstream Latest Release Yes ### Additional environment details It happens on any environment ### Additional information _No response_</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #23948 from l0rd/build-with-volumes-on-windows Convert windows paths in volume arg of the build command</MESSAGE>
    <SHA>47b85af6351518df314532987e303796237141e2</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Match output of Compat Top API to Docker We were only splitting on tabs, not spaces, so we returned just a single line most of the time, not an array of the fields in the output of `ps`. Unfortunately, some of these fields are allowed to contain spaces themselves, which makes things complicated, but we got lucky in that Docker took the simplest possible solution and just assumed that only one field would contain spaces and it would always be the last one, which is easy enough to duplicate on our end. Fixes #23981 Signed-off-by: Matt Heon &lt;mheon@redhat.com&gt;</MESSAGE>
      <SHA>e04668c8ca5056e8704fa110fd79ae19e4ef7adb</SHA>
      <PATCHEDFILES>
        <FILE>pkg/api/handlers/compat/containers_top.go</FILE>
        <FILE>test/apiv2/20-containers.at</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
