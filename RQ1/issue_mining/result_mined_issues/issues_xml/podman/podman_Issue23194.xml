<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>23194</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/23194</ISSUEURL>
  <TITLE>libkrun machine start stucks if cpus greater than available on the machine</TITLE>
  <DESCRIPTION>### Issue Description On my Mac M2Pro I tried to run `podman machine init --cpus 12 --memory 16384` --now and the process is stuck I noticed that the limit on my machine is 8 and system info reports I have 8 cpus for performance and 4 for efficiency ### Steps to reproduce the issue Steps to reproduce the issue 1. Enable libkrun 2. `podman machine init --cpus 12 --memory 16384` ### Describe the results you received Process never returns ### Describe the results you expected Podman machine should start ### podman info output ```yaml N/A ``` ### Podman in a container No ### Privileged Or Rootless None ### Upstream Latest Release No ### Additional environment details Using podman from main branch ### Additional information Additional information like issue happens only occasionally or issue happens with a particular architecture or on a particular setting</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>15</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #23323 from Luap99/machine-decompress-empty pkg/machine/compression: skip decompress bar for empty file</MESSAGE>
    <SHA>8a53e8eb677f4b10f31f69714ab0f3f964e508cd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Bump bundled krunkit to 0.1.2 Bump the bundled krunkit version from 0.1.1 to 0.1.2. Fixes: #23194 Signed-off-by: Sergio Lopez &lt;slp@redhat.com&gt;</MESSAGE>
      <SHA>5a7199015ad4e981edbc6dd21657c7a772d67e4b</SHA>
      <PATCHEDFILES>
        <FILE>contrib/pkginstaller/Makefile</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
