<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>24875</ISSUENO>
  <ISSUEURL>https://github.com/containers/podman/issues/24875</ISSUEURL>
  <TITLE>Allow `podman start` to take environment variables</TITLE>
  <DESCRIPTION>### Feature request description `podman start` should be able to pass environment variables to the container. My use case is to turn DEBUG on/off for development, without recreating the container. ### Suggest potential solution Adding the same `--env, -e=env` flags as for [podman run](https://docs.podman.io/en/latest/markdown/podman-run.1.html#env-e-env) would solve the problem. ### Have you considered any alternatives? Recreating the container is a workaround, but that is annoying and cumbersome when you just want to pass a debugging flag once and the container is initially created and run by systemd or some other service management system. ### Additional context The [same issue exists in docker](https://github.com/moby/moby/issues/7561) since over 10 years, with overwhelming community demand but unwillingness from the developers to implement it.</DESCRIPTION>
  <REPONAME>podman</REPONAME>
  <TIMEDIFFERENCEDAYS>92</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add &quot;create&quot; and &quot;remove&quot; events for secrets. This commit adds the &quot;secret&quot; Event type and emits &quot;create&quot; and &quot;remove&quot; events for this Event type when Secret is created or removed. This can be used for example by podman interfaces to view and manage secrets. Fixes: #24030 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
    <SHA>20523152f8dab4d092bc65155888516cdcecbd57</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is extended to take these two list of environment variables and handle them in the internal update method using the envLib package. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>59aee17b0b0926405608c15d94a3d6e042bbec5e</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is extended to take these two list of environment variables and handle them in the internal update method using the envLib package. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>058fc036da12e276e975fd273c3540426d8248ad</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is extended to take these two list of environment variables and handle them in the internal update method using the envLib package. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>39f49c1598972df456115779653aedcd8238aacd</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is extended to take these two list of environment variables and handle them in the internal update method using the envLib package. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>56ead7f626549776efc1f7bf82aed97255bbf317</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is extended to take these two list of environment variables and handle them in the internal update method using the envLib package. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>d0523a72a11a7327198e56bb283c4f31545df4a8</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is extended to take these two list of environment variables and handle them in the internal update method using the envLib package. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>bef209c86d713489a0c01f6053c894d3f59b774a</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is refactored to take the ContainerUpdateOptions as an input to limit the number of its arguments. The Env and UnsetEnv lists are later handled using the envLib package and the Container is updated. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>90440e4db18fdf93745fd2e7876d7d2786df2cd1</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is refactored to take the ContainerUpdateOptions as an input to limit the number of its arguments. The Env and UnsetEnv lists are later handled using the envLib package and the Container is updated. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>6b5517187b3e0b5250b2ccf8eeb2a6c04d07296a</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is refactored to take the ContainerUpdateOptions as an input to limit the number of its arguments. The Env and UnsetEnv lists are later handled using the envLib package and the Container is updated. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>3ea50eab23a8f771b7ae9e414bdef929b9be0490</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is refactored to take the ContainerUpdateOptions as an input to limit the number of its arguments. The Env and UnsetEnv lists are later handled using the envLib package and the Container is updated. The remote API is also extended to handle Env and EnvUnset. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>f912720408b18b85853da8d58a1f5c52138a0142</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/api/handlers/types.go</FILE>
        <FILE>pkg/bindings/containers/update.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Add --env and --unsetenv to podman update. The --env is used to add new environment variable to container or override the existing one. The --unsetenv is used to remove the environment variable. It is done by sharing &quot;env&quot; and &quot;unsetenv&quot; flags between both &quot;update&quot; and &quot;create&quot; commands and later handling these flags in the &quot;update&quot; command handler. The list of environment variables to add/remove is stored in newly added variables in the ContainerUpdateOptions. The Container.Update API call is refactored to take the ContainerUpdateOptions as an input to limit the number of its arguments. The Env and UnsetEnv lists are later handled using the envLib package and the Container is updated. The remote API is also extended to handle Env and EnvUnset. Fixes: #24875 Signed-off-by: Jan Kaluza &lt;jkaluza@redhat.com&gt;</MESSAGE>
      <SHA>701aade26244684aff2447903953d7cb89fdf473</SHA>
      <PATCHEDFILES>
        <FILE>cmd/podman/common/create.go</FILE>
        <FILE>cmd/podman/containers/update.go</FILE>
        <FILE>docs/source/markdown/options/env.update.md</FILE>
        <FILE>docs/source/markdown/options/unsetenv.update.md</FILE>
        <FILE>docs/source/markdown/podman-update.1.md.in</FILE>
        <FILE>libpod/container_api.go</FILE>
        <FILE>libpod/container_internal.go</FILE>
        <FILE>pkg/api/handlers/compat/containers.go</FILE>
        <FILE>pkg/api/handlers/libpod/containers.go</FILE>
        <FILE>pkg/api/handlers/types.go</FILE>
        <FILE>pkg/bindings/containers/update.go</FILE>
        <FILE>pkg/domain/entities/types/containers.go</FILE>
        <FILE>pkg/domain/infra/abi/containers.go</FILE>
        <FILE>test/e2e/update_test.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
