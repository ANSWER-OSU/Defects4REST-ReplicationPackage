<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>654</ISSUENO>
  <ISSUEURL>https://github.com/bbernhard/signal-cli-rest-api/issues/654</ISSUEURL>
  <TITLE>Parameter notify_self only works for group chats</TITLE>
  <DESCRIPTION>### The problem When sending a message the `notify_self` parameter set to false is only take effect when the recipient of the message is a group. I guess the reason is that the parameter is not being passed to the function [SignalCliSendRequest](https://github.com/bbernhard/signal-cli-rest-api/blob/42f10c3dd73826cb0c3019eae154abd272469e20/src/client/client.go#L793). I think it doesn't work either if a username is used, but I haven't tested it. #### Release version ```shell ➜ curl -X GET 'http://127.0.0.1:8999/v1/about' {&quot;versions&quot;:[&quot;v1&quot;,&quot;v2&quot;],&quot;build&quot;:2,&quot;mode&quot;:&quot;native&quot;,&quot;version&quot;:&quot;0.91&quot;,&quot;capabilities&quot;:{&quot;v2/send&quot;:[&quot;quotes&quot;,&quot;mentions&quot;]}} ``` #### Test curl to a group ```shell ➜ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;message&quot;: &quot;Hello World!&quot;, &quot;number&quot;: &quot;+XXX&quot;, &quot;recipients&quot;: [&quot;group.SDh0aW9PbVUze[...]TL0VqND0=&quot;], &quot;notify_self&quot;: false}' 'http://127.0.0.1:8999/v2/send' time=&quot;2025-02-09T13:01:53Z&quot; level=debug msg=&quot;*) echo 'Hello World!' | signal-cli-native --config /home/.local/share/signal-cli -a +XXX send --message-from-stdin -g H8tio[...]z0atS/Ej4=&quot; ``` #### Test curl to a phone number ```shell ➜ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;message&quot;: &quot;Hello World!&quot;, &quot;number&quot;: &quot;+XXX&quot;, &quot;recipients&quot;: [&quot;+XXX&quot;], &quot;notify_self&quot;: false}' 'http://127.0.0.1:8999/v2/send' time=&quot;2025-02-09T13:05:35Z&quot; level=debug msg=&quot;*) echo 'Hello World!' | signal-cli-native --config /home/.local/share/signal-cli -a +XXX send --message-from-stdin +XXX --notify-self&quot; ``` ### Are you using the latest released version? - [x] Yes ### Have you read the troubleshooting page? - [x] Yes ### What type of installation are you running? signal-cli-rest-api Docker Container ### In which mode are you using the docker container? Native Mode ### What's the architecture of your host system? x86-64 ### Additional information _No response_</DESCRIPTION>
  <REPONAME>signal-cli-rest-api</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fixed broken build</MESSAGE>
    <SHA>42f10c3dd73826cb0c3019eae154abd272469e20</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fixed bug in send method * allow notify self not only when sending a message to a group, but also to individual recipients. see #654</MESSAGE>
      <SHA>845ea54d0ab6107b554618bded5adcf893985ef9</SHA>
      <PATCHEDFILES>
        <FILE>src/client/client.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
