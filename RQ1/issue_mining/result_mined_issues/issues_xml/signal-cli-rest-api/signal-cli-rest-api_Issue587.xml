<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>587</ISSUENO>
  <ISSUEURL>https://github.com/bbernhard/signal-cli-rest-api/issues/587</ISSUEURL>
  <TITLE>Disappearing / expiring group chat messages</TITLE>
  <DESCRIPTION>### The problem My Signal CLI device was not respecting the message expiration timer in group chats. The secondary CLI device is sending alerts to a group channel, and while the other members of the channel have their messages disappear as expected the untouched message history is made visible when logged into Signal Android with the primary device. I found references that this was touched on a few years ago, but didn't see any matching documentation in this project's API: https://github.com/AsamK/signal-cli/issues/620 https://github.com/AsamK/signal-cli/blob/master/man/signal-cli.1.adoc &gt; **updateGroup** &gt; `-e EXPIRATION_SECONDS, --expiration EXPIRATION_SECONDS` &gt; _Set expiration time of messages (seconds). To disable expiration set expiration time to 0._ Although undocumented I passed the following body to the `PUT /v1/groups/{number}/{groupid}` endpoint and I _believe_ it's having the correct impact (but needs more testing). ``` { &quot;EXPIRATION_SECONDS&quot;: &quot;86400&quot; } ``` Hoping to both confirm this was correct and the setting will remain sticky and respected for the secondary CLI device and if so hopefully get it documented. Thanks! ### Are you using the latest released version? - [X] Yes ### Have you read the troubleshooting page? - [X] Yes ### What type of installation are you running? signal-cli-rest-api Docker Container ### In which mode are you using the docker container? JSON-RPC Mode ### What's the architecture of your host system? x86-64 ### Additional information _No response_</DESCRIPTION>
  <REPONAME>signal-cli-rest-api</REPONAME>
  <TIMEDIFFERENCEDAYS>98</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fixed signal-cli-native version in Dockerfile</MESSAGE>
    <SHA>1506c1c9d4002d51bd40c4004861534964eb5054</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>added expiration_time parameter to create group endpoint see #587</MESSAGE>
      <SHA>94e93cbe3531e41378f912823f1ad1bbe186c983</SHA>
      <PATCHEDFILES>
        <FILE>src/api/api.go</FILE>
        <FILE>src/client/client.go</FILE>
        <FILE>src/docs/docs.go</FILE>
        <FILE>src/docs/swagger.json</FILE>
        <FILE>src/docs/swagger.yaml</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
