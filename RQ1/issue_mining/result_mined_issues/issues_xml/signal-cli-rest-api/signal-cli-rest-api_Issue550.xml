<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>550</ISSUENO>
  <ISSUEURL>https://github.com/bbernhard/signal-cli-rest-api/issues/550</ISSUEURL>
  <TITLE>Using UUID with Signal CLI REST API</TITLE>
  <DESCRIPTION>### The problem Hi everyone, I'm having an issue with the Signal CLI REST API and could use some help. **Problem:** When I receive a message using the Signal CLI REST API, I only get a UUID as the sender information. Here is an example of a received message: ```json [ { &quot;envelope&quot;: { &quot;source&quot;: &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;, &quot;sourceNumber&quot;: null, &quot;sourceUuid&quot;: &quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;, &quot;sourceName&quot;: &quot;xxxx&quot;, &quot;sourceDevice&quot;: 4, &quot;timestamp&quot;: 1718816184062, &quot;dataMessage&quot;: { &quot;timestamp&quot;: 1718816184062, &quot;message&quot;: &quot;Test&quot;, &quot;expiresInSeconds&quot;: 0, &quot;viewOnce&quot;: false } }, &quot;account&quot;: &quot;+49xxxxxxxxxxxxx&quot; } ] ``` As you can see, I only get the UUID (`xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`) as the sender information. **Question:** How can I reply to this message when I only have the UUID? I tried sending a message using the following curl command, but it doesn't work: ```sh curl -X POST -H &quot;Content-Type: application/json&quot; \ -d '{ &quot;message&quot;: &quot;Hello!&quot;, &quot;number&quot;: &quot;+49xxxxxxxxxxxxx&quot;, &quot;recipients&quot;: [&quot;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&quot;] }' \ https://example.com/signal/v2/send ``` I receive the following error: ```json {&quot;error&quot;:&quot;java.lang.RuntimeException: org.signal.libsignal.usernames.MissingSeparatorException: Username must contain a '.'\n\tat org.asamk.signal.manager.helper.RecipientHelper.resolveRecipientByUsernameOrLink(RecipientHelper.java:105)\n\tat org.asamk.signal.manager.helper.RecipientHelper.resolveRecipient(RecipientHelper.java:93)\n\tat org.asamk.signal.manager.internal.ManagerImpl.sendMessage(ManagerImpl.java:622)\n\tat org.asamk.signal.manager.internal.ManagerImpl.sendMessage(ManagerImpl.java:598)\n\tat org.asamk.signal.manager.internal.ManagerImpl.sendMessage(ManagerImpl.java:726)\n\tat org.asamk.signal.commands.SendCommand.handleCommand(SendCommand.java:245)\n\tat org.asamk.signal.commands.CommandHandler.handleLocalCommand(CommandHandler.java:35)\n\tat org.asamk.signal.App.handleLocalCommand(App.java:278)\n\tat org.asamk.signal.App.handleCommand(App.java:179)\n\tat org.asamk.signal.App.init(App.java:144)\n\tat org.asamk.signal.Main.main(Main.java:56)\nCaused by: org.signal.libsignal.usernames.MissingSeparatorException: Username must contain a '.'\n\tat org.signal.libsignal.internal.Native.Username_Hash(Native Method)\n\tat org.signal.libsignal.usernames.Username.lambda$hash$6(Username.java:148)\n\tat org.signal.libsignal.internal.FilterExceptions.filterExceptions(FilterExceptions.java:143)\n\tat org.signal.libsignal.usernames.Username.hash(Username.java:148)\n\tat org.signal.libsignal.usernames.Username.\u003cinit\u003e(Username.java:57)\n\tat org.asamk.signal.manager.helper.RecipientHelper.getUsernameFromUsernameOrLink(RecipientHelper.java:137)\n\tat org.asamk.signal.manager.helper.RecipientHelper.resolveRecipientByUsernameOrLink(RecipientHelper.java:103)\n\t... 10 more\n&quot;} ``` It seems like the UUID is being interpreted as a username, which must contain a `.` (there is a similar question open but it does not mention the uuid problem). Is there a way to send a message directly to a UUID, or do I need to identify the sender differently? Am I perhaps using the API request incorrectly? Any help or example request would be greatly appreciated! Thank you in advance! ### Are you using the latest released version? - [X] Yes ### Have you read the troubleshooting page? - [X] Yes ### What type of installation are you running? signal-cli-rest-api Docker Container ### In which mode are you using the docker container? Normal Mode ### What's the architecture of your host system? x86-64 ### Additional information _No response_</DESCRIPTION>
  <REPONAME>signal-cli-rest-api</REPONAME>
  <TIMEDIFFERENCEDAYS>29</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>rebuilt swagger documentation</MESSAGE>
    <SHA>f44462239718e6f2ad3bfb2572beae93c286a6fd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fixed bug in send method * allow sending messages to the sourceUuid see #550</MESSAGE>
      <SHA>911b6867787fc79c878064dbf7db9cfa078b1144</SHA>
      <PATCHEDFILES>
        <FILE>src/client/client.go</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
