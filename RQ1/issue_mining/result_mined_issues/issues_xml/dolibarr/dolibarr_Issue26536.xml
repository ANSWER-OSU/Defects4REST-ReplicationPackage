<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>26536</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/26536</ISSUEURL>
  <TITLE>Divided lines in the bank account balance</TITLE>
  <DESCRIPTION>### Bug [EN] We migrated from version 16 to version 18.0.2. Since, some accounts are divided into several lines in the balance. The total remains correct, but impossible to find a common point between these divided lines. Yesterday, we updated to version 18.0.3. On 2023 some lines have disappeared, only 2 accounts remain (5121110 and 602250), but on 2022 it's worse than before, new divided lines appeared. I can send more screeshots or give you access to our Dolibarr online if needed. [FR] Nous avons migré de la version 16 à la version 18.0.2. Depuis, certains comptes sont divisés en plusieurs lignes dans la balance. Le total reste bon, mais impossible de trouver un point commun entre ces lignes divisées. Hier, nous avons fait la mise à jour vers la version 18.0.3, sur 2023 certaines lignes ont disparues, il n'en reste plus que sur 2 comptes (5121110 et 602250), par contre sur 2022 cela a empiré, d'autres lignes sont apparues. Je peux envoyer d'autres captures d'écran ou vous donner la main sur notre instance en ligne. ### Environment Version 18.0.3 ### Environment OS Debian 5.10.197-1 ### Environment Web server Apache 2 ### Environment PHP 8.1.25 ### Environment Database mysqlnd 8.1.25 ### Environment URL(s) accountancy/bookkeeping/balance.php ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files ![exemple 1](https://github.com/Dolibarr/dolibarr/assets/45743169/35af795e-601d-4ea6-a28b-7f1b82dd42e0) ![exemple 2](https://github.com/Dolibarr/dolibarr/assets/45743169/921e9706-cf5b-412b-858c-09481d7f2789)</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>overall percentage of advancement is false if specials lines (#26522)</MESSAGE>
    <SHA>09696078f37da3b5e37e72b3d3ea42fa205a8f28</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX #26536 Accountancy - Balance - Not divided lines by label &amp; account, only by account</MESSAGE>
      <SHA>1c54e0d1b3ec4f7ffa393524d36862c8a8bc901e</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/accountancy/bookkeeping/balance.php</FILE>
        <FILE>htdocs/accountancy/class/bookkeeping.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #26536 Accountancy - Balance - Not divided lines by label &amp; account, only by account (#26547)</MESSAGE>
      <SHA>2e458d9390bd75132f82fa3a3a14813a3abc11e5</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/accountancy/bookkeeping/balance.php</FILE>
        <FILE>htdocs/accountancy/class/bookkeeping.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #26536 Accountancy - Balance - Not divided lines by label &amp; account, only by account</MESSAGE>
      <SHA>0d2fcccfd201d6aafcd2361e1ff47366344a6401</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/accountancy/bookkeeping/balance.php</FILE>
        <FILE>htdocs/accountancy/class/bookkeeping.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #637 from Easya-Solutions/2022.5.3_sclisttype FIX #26536 Accountancy - Balance - Not divided lines by label &amp; account, only by account</MESSAGE>
      <SHA>eed9315f1805b0e0e73ceb5bf95a6740ec6be16f</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/accountancy/bookkeeping/balance.php</FILE>
        <FILE>htdocs/accountancy/class/bookkeeping.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
