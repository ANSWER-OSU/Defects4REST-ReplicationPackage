<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>30846</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/30846</ISSUEURL>
  <TITLE>Special characters in email personalization</TITLE>
  <DESCRIPTION>### Bug I have set up an email template where the subject line says &quot;Připomenutí splatné faktury&quot; If I send the email to the customer manually, e.g. in the invoice, the characters are correct. But if this task is performed by the crone set in dolibar, the customer will receive this. ![image](https://github.com/user-attachments/assets/f71c7e66-349f-4770-9125-4d1f9f30243c) Mail set SMTP ### Dolibarr Version 18.0.2 ### Environment PHP 8.x.x ### Environment Database MySQL ### Steps to reproduce the behavior and expected behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>174</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'Dolibarr:develop' into develop</MESSAGE>
    <SHA>d8c7d4899d8f18a9512d41988e1909f943490a7b</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes https://github.com/Dolibarr/dolibarr/issues/30846</MESSAGE>
      <SHA>c9141afb2d35c84983f417193575f1639ad269ec</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/actions_sendmails.inc.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
