<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>33863</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/33863</ISSUEURL>
  <TITLE>Error urlencode(): Passing null to parameter #1 ($string) of type string is deprecated (/core/tpl/extrafields_list_search_param.tpl.php:53)</TITLE>
  <DESCRIPTION>### Bug PHP reports an error on /core/tpl/extrafields_list_search_param.tpl.php:53 when $val is null ### Dolibarr Version 21.0.1 ### Environment PHP 8.2 ### Environment Database mariaDB 11.4 ### Steps to reproduce the behavior and expected behavior - Create a 'Complementary attribute' of String (1 Line) type. - On the list view, activate de complementary attibute. Now when a registrer has its complementary attribute empty, the error is logged on DebugBar You must activate the DegubBar and DebugLogs modules to see the log ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>18</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix CI branch 21.0 (#33851)</MESSAGE>
    <SHA>67962812d1ab50827f6ecf4a9fcba0dc3f551007</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX to #33863 When $var is null; the evaluation of urlencode($var) generates an error log because of ($var !== '') is true</MESSAGE>
      <SHA>23e73dc2842a3b1b9bc65409528514e9fde8cd80</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/tpl/extrafields_list_search_param.tpl.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update extrafields_list_search_param.tpl.php Fix to #33863</MESSAGE>
      <SHA>f6bf2e3291506e85d5dc8a713e4f0d7dd57863c0</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/tpl/extrafields_list_search_param.tpl.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update extrafields_list_search_param.tpl.php (#34033) Fix to #33863</MESSAGE>
      <SHA>0acc8d6b478fab62f446b672a95522fb38d475c5</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/tpl/extrafields_list_search_param.tpl.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
