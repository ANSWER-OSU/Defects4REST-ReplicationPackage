<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>24298</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/24298</ISSUEURL>
  <TITLE>V16 et V17 Data truncated for column de type Prix lorsque l'on remet rien sur les devis</TITLE>
  <DESCRIPTION>### Bug Bonjour, J'ai des attributs supplémentaires de type Prix sur les devis, commande et facture. Sur les devis uniquement lorsque l'on met un valeur, celle-ci est bien enregistrée. Lorsque l'on revient dessus et que l'on met rien, on a un message &quot;Data truncated for column...&quot;. Cela ne se produit pas sur les commandes ni les factures. Par ailleurs nous avons constaté que pour le devis, sur une autre configuration, lorsque l'on mettais rien, dans la base on se retrouvé avec la valeur 0.00000 sans le message d'erreur et NULL sur les commandes. Nous avons fait le test sur des Dol 16.0.3 et un 17.0.0. Voilà ! ### Environment Version 16.0.3 et 17.0.0 ### Environment OS _No response_ ### Environment Web server _No response_ ### Environment PHP 7.4 ### Environment Database _No response_ ### Environment URL(s) _No response_ ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>9</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #24305 from Easya-Solutions/15.0_fix-html-form-select-date-of FIX change date on select date input when prefix is used</MESSAGE>
    <SHA>b59e3ba06c90253a0183bb75c4db80392e4e4bd1</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX|Fix #24298 No error or 0.00 instead of NULL in database anymore when emptying an extrafield of type price on a propal card</MESSAGE>
      <SHA>885b767a1f8617f2508d3b79cc9d92052cb7df4e</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/comm/propal/card.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #24298 No error or 0.00 instead of NULL in database anymore when emptying an extrafield of type price on a propal card</MESSAGE>
      <SHA>e35c8d7a8b22a81ba19d4896bf81379d99e37a8a</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/comm/propal/card.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #24298 No error or 0.00 instead of NULL in database anymore when emptying an extrafield of type price on a propal card</MESSAGE>
      <SHA>2627a7af358acd2546cc4b3fdfa7772d632ce5a8</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/comm/propal/card.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #24325 from Gilles-L-Artaban/15.0 FIX|Fix #24298 No error or 0.00 instead of NULL in database anymore w…</MESSAGE>
      <SHA>ee3664743e574e238f21069f85741ef8861ed8af</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/comm/propal/card.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
