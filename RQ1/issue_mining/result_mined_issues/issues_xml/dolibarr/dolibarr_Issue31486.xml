<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31486</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/31486</ISSUEURL>
  <TITLE>Creating a service via a BOM send us to the product creation page</TITLE>
  <DESCRIPTION>### Bug On the BOM page, in the BOM's services table, the &quot;+&quot; button sends us to the same link as the BOM's product &quot;+&quot; button. It's just missing the `leftmenu=service&amp;type=1` to the url params. I guess it's those lines https://github.com/Dolibarr/dolibarr/blob/a185fb4296717deb8d10e86f97acb78542692177/htdocs/bom/tpl/objectline_create.tpl.php#L145-L146 ### Dolibarr Version 20.0.1 ### Environment PHP 8.2.7 ### Environment Database mariaDB 11.5.2 ### Steps to reproduce the behavior and expected behavior - Create a BOM - Create a service from the BOM's page ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix phpstan (#31479) * fix phpstan * fix phpstan</MESSAGE>
    <SHA>a185fb4296717deb8d10e86f97acb78542692177</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX #31486 Add missing url params considering filtertype Add missing url params to the BOM's create product (or service) button taking into account the filtertype</MESSAGE>
      <SHA>397a5e93a75e172ab1b7abe853fe3fb32634cb51</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/bom/tpl/objectline_create.tpl.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #31486 Add missing url params considering filtertype (#31488) Add missing url params to the BOM's create product (or service) button taking into account the filtertype</MESSAGE>
      <SHA>853f62dfaccc867897ddeb3d23f566b3cb70ceb0</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/bom/tpl/objectline_create.tpl.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
