<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>33090</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/33090</ISSUEURL>
  <TITLE>EEC/EU and SEPA zones are mixed in Bank transferts files</TITLE>
  <DESCRIPTION>### Bug EEC (now EU) is mixed up with SEPA zone for bank transfert files. The SEPA Zone [contains other countries than EU (former EEC), such as Switzerland](https://www.ecb.europa.eu/paym/integration/retail/sepa/html/index.en.html). As a results, banks in those countries accept SEPA mandates, while Dolibarr output an error and do not generate the files. One should replace `/htdocs/compta/prelevement/class/bonprelevement.class.php` line `1827` (in develop) call to `isInEEC` by a newly create `isInSEPA`. Calls to `isInEEC` are still valids for VAT purposes. While I think EEC should be replaced by EU. Ideally, we should link to the bank account. Must also be corrected in: - htdocs/compta/prelevement/class/bonprelevement.class.php - 1827 - htdocs/compta/bank/card.php - 609, 867, 1210 - htdocs/compta/prelevement/create.php - 328, 350 New function is expected in `htdocs/societe/class/societe.class.php` around 4277) ### Dolibarr Version 14 at least ### Environment PHP _No response_ ### Environment Database _No response_ ### Steps to reproduce the behavior and expected behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>6</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge branch 'develop' of git@github.com:Dolibarr/dolibarr.git into develop</MESSAGE>
    <SHA>b8978e5cb9fb1471d3da85660c925d65d3db2a74</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #33091 from francoisPE/isInSEPA FIX #33090 Is in sepa</MESSAGE>
      <SHA>c7325f07e78754ecee69f019680a78607a958f3c</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/compta/bank/card.php</FILE>
        <FILE>htdocs/compta/prelevement/class/bonprelevement.class.php</FILE>
        <FILE>htdocs/compta/prelevement/create.php</FILE>
        <FILE>htdocs/core/lib/company.lib.php</FILE>
        <FILE>htdocs/societe/class/societe.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
