<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>29424</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/29424</ISSUEURL>
  <TITLE>BUG: in API GET member categories</TITLE>
  <DESCRIPTION>### Bug If you in dolibarr version 20-alpha tries to use the API to get member categories it does not respect when you supply a non existing member id, where as in version 18.0.5 it does respect and gives an error. ### Dolibarr Version 20.0.0-alpha ### Environment PHP 8.2.7 ### Environment Database 10.11.7-MariaDB-1:10.11.7+maria~ubu2204 ### Steps to reproduce the behavior and expected behavior create some member categories and assign some members to them. use the API to get the member categories for a non existing member expected is an error better than the one in 18.0.5, because in 18.0.5 it says that the category does not exist, but it is the member that does not exist. ### Attached files v20 ignores non existing members ![get_member_categories_v20_ignores_nonexisting_member](https://github.com/Dolibarr/dolibarr/assets/2551481/5a054bc6-4608-47c9-8ad1-6d83b1033e82)</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>209</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>fix null vaue in stocktransfer_card (#31886) Co-authored-by: Hystepik &lt;lmarcouiller@nltechno.com&gt;</MESSAGE>
    <SHA>c96b9097273fda895dd2df3f7a85676affc11721</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX #29424 API GET member categories (#31881) * Fix members categories when user is not found * Return empty array instead of 0 when member does not have category assigned</MESSAGE>
      <SHA>be72bfa6645cfe57e5061c5fa5d0af839bbb80ad</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/adherents/class/api_members.class.php</FILE>
        <FILE>htdocs/categories/class/categorie.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
