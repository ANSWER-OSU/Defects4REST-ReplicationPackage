<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>26033</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/26033</ISSUEURL>
  <TITLE>[BUG] Stock Movement associated with project doesn't show up in Project / Overview window</TITLE>
  <DESCRIPTION>### Bug Stock movements associated with a Project do not display, although the code appears to exist for it already in htdocs/projet/element.php Likely this functionality was broken at some point in the past, but since I find a need for it I will see if I can resolve this and create a pull request. ### Environment Version 18.0.1 ### Environment OS Linux ### Environment Web server Linux ### Environment PHP _No response_ ### Environment Database _No response_ ### Environment URL(s) _No response_ ### Expected and actual behavior Expected: Stock movements associated with a project to appear in the Projects / Overview Tab, but it is missing ![image](https://github.com/Dolibarr/dolibarr/assets/84393940/34d8fb02-0f4b-426f-a112-658d081c3663) ### Steps to reproduce the behavior Enable Projects, Stocks, Advanced Stock Transfer Create new Project Create new stock movement associated with project (Using the Advanced Stock Transfer) The project is visible when viewing the stock transfers page, but is not visible from the overview page of the Project. ### Attached files There is a check for the module around Line 88 ``` if (isModEnabled('stock')) { require_once DOL_DOCUMENT_ROOT.'/product/stock/class/entrepot.class.php'; require_once DOL_DOCUMENT_ROOT.'/product/stock/class/mouvementstock.class.php'; } ``` Around line 615 appears to encode this functionality ``` 'stock_mouvement'=&gt;array( 'name'=&gt;&quot;MouvementStockAssociated&quot;, 'title'=&gt;&quot;ListMouvementStockProject&quot;, 'class'=&gt;'MouvementStock', 'table'=&gt;'stock_mouvement', 'datefieldname'=&gt;'datem', 'margin'=&gt;'minus', 'disableamount'=&gt;0, 'test'=&gt;isModEnabled('stock') &amp;&amp; $user-&gt;hasRight('stock', 'mouvement', 'lire') &amp;&amp; !empty($conf-&gt;global-&gt;STOCK_MOVEMENT_INTO_PROJECT_OVERVIEW) ), ```</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix phpunit regression</MESSAGE>
    <SHA>c1b74f9338f1da166d037a52b8ed67cd214043d8</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Merge pull request #26047 from TheRealBeef/develop FIX #26033 Stock Movement associated with project doesn't show up in Project / Overview window</MESSAGE>
      <SHA>f7ac851c50c33274eb27e2e163c026ccd73d3538</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/projet/class/project.class.php</FILE>
        <FILE>htdocs/projet/element.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
