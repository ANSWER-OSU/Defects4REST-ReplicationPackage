<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>27048</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/27048</ISSUEURL>
  <TITLE>Add Yes/No Form to Variations Module to globally set &quot;VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT&quot; variable - concerns Issue #26965</TITLE>
  <DESCRIPTION>### Feature Request In Issue #26965 the missing check for the Variable &quot;VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT&quot; was discussed and fixed in the PR #26967 Now I propose a change in the Variants module settings page to allow the user to set this global variable. This would also be the first and only way to set this variable via an option. ### Use case When a user activates the variations module and checks the possible options inside the module the user will be able to see that there is a possibility to allow the stock movements for the variant parent products as well. ### Suggested implementation Use the same syntax as with the &quot;HideProductCombinations&quot;: https://github.com/Dolibarr/dolibarr/blob/e4536e0a2ebb87a91a09bf595242c2181889c0b4/htdocs/variants/admin/admin.php#L75-L76 Generally add a form with a yes/no option to the options page ```php $form-&gt;selectyesno() ``` Together with a similar syntax as in the Lines 40-56 one could implement and set the variable globally: https://github.com/Dolibarr/dolibarr/blob/e4536e0a2ebb87a91a09bf595242c2181889c0b4/htdocs/variants/admin/admin.php#L40-L56 ### Suggested steps - add Option to variants/admin/admin.php via $form-&gt;selectyesno() - add translationkey for new option to langs/en_US</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>62</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Debug v19</MESSAGE>
    <SHA>230371a6c9e524b4e05d0254141bdb0db3e0e23d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>CLOSE #27048 add form to globally set &quot;VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT&quot; variable This commit adds another option to the variants module to set the global variable &quot;VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT&quot;. This variable allows the variant parent product to be used in stock movements.</MESSAGE>
      <SHA>caaed45dd4ca68df47340f60a8cef5e7d9b18d7c</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/langs/en_US/products.lang</FILE>
        <FILE>htdocs/variants/admin/admin.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>CLOSE #27048 add form to globally set &quot;VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT&quot; variable (#27049) This commit adds another option to the variants module to set the global variable &quot;VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT&quot;. This variable allows the variant parent product to be used in stock movements. Co-authored-by: Laurent Destailleur &lt;eldy@destailleur.fr&gt;</MESSAGE>
      <SHA>870395b69cce46967f4e015b9cfdb6245636050e</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/langs/en_US/products.lang</FILE>
        <FILE>htdocs/variants/admin/admin.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
