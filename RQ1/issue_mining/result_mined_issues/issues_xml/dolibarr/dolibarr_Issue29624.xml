<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>29624</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/29624</ISSUEURL>
  <TITLE>Substitution KEY __DATE_DELIVERY__ return null</TITLE>
  <DESCRIPTION>### Bug Hello, you need to change the line 8265 in htdocs/core/lib/functions.lib.php Change $substitutionarray['__DATE_DELIVERY__'] = (isset($object-&gt;date_delivery) ? dol_print_date($object-&gt;date_delivery, 'day', 0, $outputlangs) : ''); To $substitutionarray['__DATE_DELIVERY__'] = (isset($object-&gt;delivery_date) ? dol_print_date($object-&gt;date_delivery, 'day', 0, $outputlangs) : ''); And all the times date_delivery is used in PROPAL,. Thanks. ### Dolibarr Version 19.0.1 ### Environment PHP All ### Environment Database Mysql ### Steps to reproduce the behavior and expected behavior Try to used the KEY __DATE_DELIVERY__ in email templates. It return all the time nothing. ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>253</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #32468 from hregis/fix_19_cannot_convert_if_prov FIX #28702</MESSAGE>
    <SHA>9e8fcba04ac6287ac2f18387b0888fcf042bc208</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #29624 Wrong property of commande fournisseur used for substitution.</MESSAGE>
      <SHA>83abe6aa345a484a7c4c1e4c64cb5d33d2d0d3ff</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/lib/functions.lib.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #32507 from priojk/patch-14 FIX #29624 - substitution of __DATE_DELIVERY__</MESSAGE>
      <SHA>54477083d4f03a58bb495a16dc0c72a35d8fb5e7</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/core/lib/functions.lib.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
