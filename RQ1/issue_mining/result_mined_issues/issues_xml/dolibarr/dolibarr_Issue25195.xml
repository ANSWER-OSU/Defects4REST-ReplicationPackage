<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>25195</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/25195</ISSUEURL>
  <TITLE>BUG in ficherinterstats.class.php</TITLE>
  <DESCRIPTION>### Bug when user has not the permission $user-&gt;rights-&gt;societe-&gt;client-&gt;voir then stats cause sql error to fix this we need to change the line 75 of fichinterstats.class.php in /htdocs/fichinter change from if (empty($user-&gt;rights-&gt;societe-&gt;client-&gt;voir) &amp;&amp; !$this-&gt;socid) { to if (!empty($user-&gt;rights-&gt;societe-&gt;client-&gt;voir) &amp;&amp; !$this-&gt;socid) { will fix this BUG the ! before empty is important ### Environment Version _No response_ ### Environment OS _No response_ ### Environment Web server _No response_ ### Environment PHP _No response_ ### Environment Database _No response_ ### Environment URL(s) _No response_ ### Expected and actual behavior _No response_ ### Steps to reproduce the behavior _No response_ ### Attached files _No response_</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #25211 from jyhere/jyhere/fix-shipmentlist-nbfield FIX: missing nbfield++ on some columns</MESSAGE>
    <SHA>e8d3e1ee84e7a0f6a3737945956b2e04f8163c8d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix #25195 : mysql fatal error on ficheinterstat.class.php</MESSAGE>
      <SHA>498daacf51dffe276613a4d0678f740a30165276</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/fichinter/class/fichinterstats.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #25213 from Hystepik/develop#4 Fix #25195 : mysql fatal error on ficheinterstat.class.php</MESSAGE>
      <SHA>29689f49d6b28f04344228d1f4872f3d93f00518</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/fichinter/class/fichinterstats.class.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
