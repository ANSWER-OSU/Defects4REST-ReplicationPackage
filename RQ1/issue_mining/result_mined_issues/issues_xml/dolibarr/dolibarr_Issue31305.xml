<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>31305</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/31305</ISSUEURL>
  <TITLE>[EPC-QR, Sponge]: No translation of &quot;INVOICE_ADD_EPC_QR_CODEPay&quot;, Runtime error/misplaced text when INVOICE_ADD_EPC_QR_CODE==bottom</TITLE>
  <DESCRIPTION>### Bug Hi, While playing with the account name issue in EPC QR, I also noticed that there is no translation of &quot;INVOICE_ADD_EPC_QR_CODEPay&quot; due to a missing domain in loadlangs. When placing the QR code at the bottom with &quot;INVOICE_ADD_EPC_QR_CODE&quot;==bottom I got a runtime error because $langs was not available there (outputlangs is) and the descriptory text was placed within the QR code. The attached patch fixes all issues for me. Maybe it's of some use. Cheers, Michael ### Dolibarr Version 20.0 ### Environment PHP 8.2.20-1~deb12u1 ### Environment Database PostgreSQL 15.8-0+deb12u1 ### Steps to reproduce the behavior and expected behavior _No response_ ### Attached files Patch fixing translation, QR Text placement (bottom) and runtime error (bottom) [epc-translation.patch.txt](https://github.com/user-attachments/files/17281419/epc-translation.patch.txt)</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix missing css fieldrequired</MESSAGE>
    <SHA>03fa3aebd970dc9afdb21a17db6451e07a9f020d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX #31305 Translation of INVOICE_ADD_EPC_QR_CodePay moved from admin to bills Signed-off-by: Michael Bussmann &lt;bus+git@mb-net.net&gt;</MESSAGE>
      <SHA>7b4717af4cf8dfad8558737035acf429499fa114</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/langs/am_ET/admin.lang</FILE>
        <FILE>htdocs/langs/am_ET/bills.lang</FILE>
        <FILE>htdocs/langs/ar_DZ/admin.lang</FILE>
        <FILE>htdocs/langs/ar_DZ/bills.lang</FILE>
        <FILE>htdocs/langs/ar_SA/admin.lang</FILE>
        <FILE>htdocs/langs/ar_SA/bills.lang</FILE>
        <FILE>htdocs/langs/az_AZ/admin.lang</FILE>
        <FILE>htdocs/langs/az_AZ/bills.lang</FILE>
        <FILE>htdocs/langs/bg_BG/admin.lang</FILE>
        <FILE>htdocs/langs/bg_BG/bills.lang</FILE>
        <FILE>htdocs/langs/bn_BD/admin.lang</FILE>
        <FILE>htdocs/langs/bn_BD/bills.lang</FILE>
        <FILE>htdocs/langs/bn_IN/admin.lang</FILE>
        <FILE>htdocs/langs/bn_IN/bills.lang</FILE>
        <FILE>htdocs/langs/bs_BA/admin.lang</FILE>
        <FILE>htdocs/langs/bs_BA/bills.lang</FILE>
        <FILE>htdocs/langs/ca_ES/admin.lang</FILE>
        <FILE>htdocs/langs/ca_ES/bills.lang</FILE>
        <FILE>htdocs/langs/cs_CZ/admin.lang</FILE>
        <FILE>htdocs/langs/cs_CZ/bills.lang</FILE>
        <FILE>htdocs/langs/cy_GB/admin.lang</FILE>
        <FILE>htdocs/langs/cy_GB/bills.lang</FILE>
        <FILE>htdocs/langs/da_DK/admin.lang</FILE>
        <FILE>htdocs/langs/da_DK/bills.lang</FILE>
        <FILE>htdocs/langs/de_DE/admin.lang</FILE>
        <FILE>htdocs/langs/de_DE/bills.lang</FILE>
        <FILE>htdocs/langs/el_GR/admin.lang</FILE>
        <FILE>htdocs/langs/el_GR/bills.lang</FILE>
        <FILE>htdocs/langs/es_ES/admin.lang</FILE>
        <FILE>htdocs/langs/es_ES/bills.lang</FILE>
        <FILE>htdocs/langs/et_EE/admin.lang</FILE>
        <FILE>htdocs/langs/et_EE/bills.lang</FILE>
        <FILE>htdocs/langs/eu_ES/admin.lang</FILE>
        <FILE>htdocs/langs/eu_ES/bills.lang</FILE>
        <FILE>htdocs/langs/fa_IR/admin.lang</FILE>
        <FILE>htdocs/langs/fa_IR/bills.lang</FILE>
        <FILE>htdocs/langs/fi_FI/admin.lang</FILE>
        <FILE>htdocs/langs/fi_FI/bills.lang</FILE>
        <FILE>htdocs/langs/fr_FR/admin.lang</FILE>
        <FILE>htdocs/langs/fr_FR/bills.lang</FILE>
        <FILE>htdocs/langs/gl_ES/admin.lang</FILE>
        <FILE>htdocs/langs/gl_ES/bills.lang</FILE>
        <FILE>htdocs/langs/he_IL/admin.lang</FILE>
        <FILE>htdocs/langs/he_IL/bills.lang</FILE>
        <FILE>htdocs/langs/hr_HR/admin.lang</FILE>
        <FILE>htdocs/langs/hr_HR/bills.lang</FILE>
        <FILE>htdocs/langs/hu_HU/admin.lang</FILE>
        <FILE>htdocs/langs/hu_HU/bills.lang</FILE>
        <FILE>htdocs/langs/id_ID/admin.lang</FILE>
        <FILE>htdocs/langs/id_ID/bills.lang</FILE>
        <FILE>htdocs/langs/is_IS/admin.lang</FILE>
        <FILE>htdocs/langs/is_IS/bills.lang</FILE>
        <FILE>htdocs/langs/it_IT/admin.lang</FILE>
        <FILE>htdocs/langs/it_IT/bills.lang</FILE>
        <FILE>htdocs/langs/ja_JP/admin.lang</FILE>
        <FILE>htdocs/langs/ja_JP/bills.lang</FILE>
        <FILE>htdocs/langs/ka_GE/admin.lang</FILE>
        <FILE>htdocs/langs/ka_GE/bills.lang</FILE>
        <FILE>htdocs/langs/kk_KZ/admin.lang</FILE>
        <FILE>htdocs/langs/kk_KZ/bills.lang</FILE>
        <FILE>htdocs/langs/km_KH/admin.lang</FILE>
        <FILE>htdocs/langs/km_KH/bills.lang</FILE>
        <FILE>htdocs/langs/ko_KR/admin.lang</FILE>
        <FILE>htdocs/langs/ko_KR/bills.lang</FILE>
        <FILE>htdocs/langs/ku_IQ/admin.lang</FILE>
        <FILE>htdocs/langs/ku_IQ/bills.lang</FILE>
        <FILE>htdocs/langs/lo_LA/admin.lang</FILE>
        <FILE>htdocs/langs/lo_LA/bills.lang</FILE>
        <FILE>htdocs/langs/lt_LT/admin.lang</FILE>
        <FILE>htdocs/langs/lt_LT/bills.lang</FILE>
        <FILE>htdocs/langs/lv_LV/admin.lang</FILE>
        <FILE>htdocs/langs/lv_LV/bills.lang</FILE>
        <FILE>htdocs/langs/mk_MK/admin.lang</FILE>
        <FILE>htdocs/langs/mk_MK/bills.lang</FILE>
        <FILE>htdocs/langs/nb_NO/admin.lang</FILE>
        <FILE>htdocs/langs/nb_NO/bills.lang</FILE>
        <FILE>htdocs/langs/nl_NL/admin.lang</FILE>
        <FILE>htdocs/langs/nl_NL/bills.lang</FILE>
        <FILE>htdocs/langs/pl_PL/admin.lang</FILE>
        <FILE>htdocs/langs/pl_PL/bills.lang</FILE>
        <FILE>htdocs/langs/pt_PT/admin.lang</FILE>
        <FILE>htdocs/langs/pt_PT/bills.lang</FILE>
        <FILE>htdocs/langs/ro_RO/admin.lang</FILE>
        <FILE>htdocs/langs/ro_RO/bills.lang</FILE>
        <FILE>htdocs/langs/ru_RU/admin.lang</FILE>
        <FILE>htdocs/langs/ru_RU/bills.lang</FILE>
        <FILE>htdocs/langs/sk_SK/admin.lang</FILE>
        <FILE>htdocs/langs/sk_SK/bills.lang</FILE>
        <FILE>htdocs/langs/sl_SI/admin.lang</FILE>
        <FILE>htdocs/langs/sl_SI/bills.lang</FILE>
        <FILE>htdocs/langs/sq_AL/admin.lang</FILE>
        <FILE>htdocs/langs/sq_AL/bills.lang</FILE>
        <FILE>htdocs/langs/sr_RS/admin.lang</FILE>
        <FILE>htdocs/langs/sr_RS/bills.lang</FILE>
        <FILE>htdocs/langs/sv_SE/admin.lang</FILE>
        <FILE>htdocs/langs/sv_SE/bills.lang</FILE>
        <FILE>htdocs/langs/sw_SW/admin.lang</FILE>
        <FILE>htdocs/langs/sw_SW/bills.lang</FILE>
        <FILE>htdocs/langs/ta_IN/admin.lang</FILE>
        <FILE>htdocs/langs/ta_IN/bills.lang</FILE>
        <FILE>htdocs/langs/tg_TJ/admin.lang</FILE>
        <FILE>htdocs/langs/tg_TJ/bills.lang</FILE>
        <FILE>htdocs/langs/th_TH/admin.lang</FILE>
        <FILE>htdocs/langs/th_TH/bills.lang</FILE>
        <FILE>htdocs/langs/tr_TR/admin.lang</FILE>
        <FILE>htdocs/langs/tr_TR/bills.lang</FILE>
        <FILE>htdocs/langs/uk_UA/admin.lang</FILE>
        <FILE>htdocs/langs/uk_UA/bills.lang</FILE>
        <FILE>htdocs/langs/ur_PK/admin.lang</FILE>
        <FILE>htdocs/langs/ur_PK/bills.lang</FILE>
        <FILE>htdocs/langs/uz_UZ/admin.lang</FILE>
        <FILE>htdocs/langs/uz_UZ/bills.lang</FILE>
        <FILE>htdocs/langs/vi_VN/admin.lang</FILE>
        <FILE>htdocs/langs/vi_VN/bills.lang</FILE>
        <FILE>htdocs/langs/zh_CN/admin.lang</FILE>
        <FILE>htdocs/langs/zh_CN/bills.lang</FILE>
        <FILE>htdocs/langs/zh_HK/admin.lang</FILE>
        <FILE>htdocs/langs/zh_HK/bills.lang</FILE>
        <FILE>htdocs/langs/zh_TW/admin.lang</FILE>
        <FILE>htdocs/langs/zh_TW/bills.lang</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>FIX #31305 Translation of INVOICE_ADD_EPC_QR_CodePay moved from admin to bills (#31441) Signed-off-by: Michael Bussmann &lt;bus+git@mb-net.net&gt;</MESSAGE>
      <SHA>286d2e767000e8381c2dff7a26b899fce0a1673b</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/langs/am_ET/admin.lang</FILE>
        <FILE>htdocs/langs/am_ET/bills.lang</FILE>
        <FILE>htdocs/langs/ar_DZ/admin.lang</FILE>
        <FILE>htdocs/langs/ar_DZ/bills.lang</FILE>
        <FILE>htdocs/langs/ar_SA/admin.lang</FILE>
        <FILE>htdocs/langs/ar_SA/bills.lang</FILE>
        <FILE>htdocs/langs/az_AZ/admin.lang</FILE>
        <FILE>htdocs/langs/az_AZ/bills.lang</FILE>
        <FILE>htdocs/langs/bg_BG/admin.lang</FILE>
        <FILE>htdocs/langs/bg_BG/bills.lang</FILE>
        <FILE>htdocs/langs/bn_BD/admin.lang</FILE>
        <FILE>htdocs/langs/bn_BD/bills.lang</FILE>
        <FILE>htdocs/langs/bn_IN/admin.lang</FILE>
        <FILE>htdocs/langs/bn_IN/bills.lang</FILE>
        <FILE>htdocs/langs/bs_BA/admin.lang</FILE>
        <FILE>htdocs/langs/bs_BA/bills.lang</FILE>
        <FILE>htdocs/langs/ca_ES/admin.lang</FILE>
        <FILE>htdocs/langs/ca_ES/bills.lang</FILE>
        <FILE>htdocs/langs/cs_CZ/admin.lang</FILE>
        <FILE>htdocs/langs/cs_CZ/bills.lang</FILE>
        <FILE>htdocs/langs/cy_GB/admin.lang</FILE>
        <FILE>htdocs/langs/cy_GB/bills.lang</FILE>
        <FILE>htdocs/langs/da_DK/admin.lang</FILE>
        <FILE>htdocs/langs/da_DK/bills.lang</FILE>
        <FILE>htdocs/langs/de_DE/admin.lang</FILE>
        <FILE>htdocs/langs/de_DE/bills.lang</FILE>
        <FILE>htdocs/langs/el_GR/admin.lang</FILE>
        <FILE>htdocs/langs/el_GR/bills.lang</FILE>
        <FILE>htdocs/langs/es_ES/admin.lang</FILE>
        <FILE>htdocs/langs/es_ES/bills.lang</FILE>
        <FILE>htdocs/langs/et_EE/admin.lang</FILE>
        <FILE>htdocs/langs/et_EE/bills.lang</FILE>
        <FILE>htdocs/langs/eu_ES/admin.lang</FILE>
        <FILE>htdocs/langs/eu_ES/bills.lang</FILE>
        <FILE>htdocs/langs/fa_IR/admin.lang</FILE>
        <FILE>htdocs/langs/fa_IR/bills.lang</FILE>
        <FILE>htdocs/langs/fi_FI/admin.lang</FILE>
        <FILE>htdocs/langs/fi_FI/bills.lang</FILE>
        <FILE>htdocs/langs/fr_FR/admin.lang</FILE>
        <FILE>htdocs/langs/fr_FR/bills.lang</FILE>
        <FILE>htdocs/langs/gl_ES/admin.lang</FILE>
        <FILE>htdocs/langs/gl_ES/bills.lang</FILE>
        <FILE>htdocs/langs/he_IL/admin.lang</FILE>
        <FILE>htdocs/langs/he_IL/bills.lang</FILE>
        <FILE>htdocs/langs/hr_HR/admin.lang</FILE>
        <FILE>htdocs/langs/hr_HR/bills.lang</FILE>
        <FILE>htdocs/langs/hu_HU/admin.lang</FILE>
        <FILE>htdocs/langs/hu_HU/bills.lang</FILE>
        <FILE>htdocs/langs/id_ID/admin.lang</FILE>
        <FILE>htdocs/langs/id_ID/bills.lang</FILE>
        <FILE>htdocs/langs/is_IS/admin.lang</FILE>
        <FILE>htdocs/langs/is_IS/bills.lang</FILE>
        <FILE>htdocs/langs/it_IT/admin.lang</FILE>
        <FILE>htdocs/langs/it_IT/bills.lang</FILE>
        <FILE>htdocs/langs/ja_JP/admin.lang</FILE>
        <FILE>htdocs/langs/ja_JP/bills.lang</FILE>
        <FILE>htdocs/langs/ka_GE/admin.lang</FILE>
        <FILE>htdocs/langs/ka_GE/bills.lang</FILE>
        <FILE>htdocs/langs/kk_KZ/admin.lang</FILE>
        <FILE>htdocs/langs/kk_KZ/bills.lang</FILE>
        <FILE>htdocs/langs/km_KH/admin.lang</FILE>
        <FILE>htdocs/langs/km_KH/bills.lang</FILE>
        <FILE>htdocs/langs/ko_KR/admin.lang</FILE>
        <FILE>htdocs/langs/ko_KR/bills.lang</FILE>
        <FILE>htdocs/langs/ku_IQ/admin.lang</FILE>
        <FILE>htdocs/langs/ku_IQ/bills.lang</FILE>
        <FILE>htdocs/langs/lo_LA/admin.lang</FILE>
        <FILE>htdocs/langs/lo_LA/bills.lang</FILE>
        <FILE>htdocs/langs/lt_LT/admin.lang</FILE>
        <FILE>htdocs/langs/lt_LT/bills.lang</FILE>
        <FILE>htdocs/langs/lv_LV/admin.lang</FILE>
        <FILE>htdocs/langs/lv_LV/bills.lang</FILE>
        <FILE>htdocs/langs/mk_MK/admin.lang</FILE>
        <FILE>htdocs/langs/mk_MK/bills.lang</FILE>
        <FILE>htdocs/langs/nb_NO/admin.lang</FILE>
        <FILE>htdocs/langs/nb_NO/bills.lang</FILE>
        <FILE>htdocs/langs/nl_NL/admin.lang</FILE>
        <FILE>htdocs/langs/nl_NL/bills.lang</FILE>
        <FILE>htdocs/langs/pl_PL/admin.lang</FILE>
        <FILE>htdocs/langs/pl_PL/bills.lang</FILE>
        <FILE>htdocs/langs/pt_PT/admin.lang</FILE>
        <FILE>htdocs/langs/pt_PT/bills.lang</FILE>
        <FILE>htdocs/langs/ro_RO/admin.lang</FILE>
        <FILE>htdocs/langs/ro_RO/bills.lang</FILE>
        <FILE>htdocs/langs/ru_RU/admin.lang</FILE>
        <FILE>htdocs/langs/ru_RU/bills.lang</FILE>
        <FILE>htdocs/langs/sk_SK/admin.lang</FILE>
        <FILE>htdocs/langs/sk_SK/bills.lang</FILE>
        <FILE>htdocs/langs/sl_SI/admin.lang</FILE>
        <FILE>htdocs/langs/sl_SI/bills.lang</FILE>
        <FILE>htdocs/langs/sq_AL/admin.lang</FILE>
        <FILE>htdocs/langs/sq_AL/bills.lang</FILE>
        <FILE>htdocs/langs/sr_RS/admin.lang</FILE>
        <FILE>htdocs/langs/sr_RS/bills.lang</FILE>
        <FILE>htdocs/langs/sv_SE/admin.lang</FILE>
        <FILE>htdocs/langs/sv_SE/bills.lang</FILE>
        <FILE>htdocs/langs/sw_SW/admin.lang</FILE>
        <FILE>htdocs/langs/sw_SW/bills.lang</FILE>
        <FILE>htdocs/langs/ta_IN/admin.lang</FILE>
        <FILE>htdocs/langs/ta_IN/bills.lang</FILE>
        <FILE>htdocs/langs/tg_TJ/admin.lang</FILE>
        <FILE>htdocs/langs/tg_TJ/bills.lang</FILE>
        <FILE>htdocs/langs/th_TH/admin.lang</FILE>
        <FILE>htdocs/langs/th_TH/bills.lang</FILE>
        <FILE>htdocs/langs/tr_TR/admin.lang</FILE>
        <FILE>htdocs/langs/tr_TR/bills.lang</FILE>
        <FILE>htdocs/langs/uk_UA/admin.lang</FILE>
        <FILE>htdocs/langs/uk_UA/bills.lang</FILE>
        <FILE>htdocs/langs/ur_PK/admin.lang</FILE>
        <FILE>htdocs/langs/ur_PK/bills.lang</FILE>
        <FILE>htdocs/langs/uz_UZ/admin.lang</FILE>
        <FILE>htdocs/langs/uz_UZ/bills.lang</FILE>
        <FILE>htdocs/langs/vi_VN/admin.lang</FILE>
        <FILE>htdocs/langs/vi_VN/bills.lang</FILE>
        <FILE>htdocs/langs/zh_CN/admin.lang</FILE>
        <FILE>htdocs/langs/zh_CN/bills.lang</FILE>
        <FILE>htdocs/langs/zh_HK/admin.lang</FILE>
        <FILE>htdocs/langs/zh_HK/bills.lang</FILE>
        <FILE>htdocs/langs/zh_TW/admin.lang</FILE>
        <FILE>htdocs/langs/zh_TW/bills.lang</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
