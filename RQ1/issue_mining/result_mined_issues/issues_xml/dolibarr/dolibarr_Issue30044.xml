<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>30044</ISSUENO>
  <ISSUEURL>https://github.com/Dolibarr/dolibarr/issues/30044</ISSUEURL>
  <TITLE>When billing multiple orders, all order numbers are implicitly added in Public Note without the ability to edit/remove</TITLE>
  <DESCRIPTION>### Bug As the title says. If we select sales orders SO0001, SO0002, SO0003 and bill them as &quot;one invoice for al third party&quot;, there is added a box on the invoice containing the text SO0001 (date), SO0002 and so on, but this information is added on-the-fly in `core/lib/pdf.lib.php`, with the side effect that we cannot remove it and there is no setting to not do this. Suggestion: instead of letting `pdf_getLinkedObject()` handle this on the fly, make an actual Public Note immediately when clicking &quot;Bill orders&quot;. That way, we can edit the note to whatever we want (in this case we want to delete all the information). ### Dolibarr Version 19.0, probably all versions ### Environment PHP _No response_ ### Environment Database _No response_ ### Steps to reproduce the behavior and expected behavior 1. Go to sales orders and choose minimum 2 from the same third party 2. Click Bill orders in top menu 3. Select &quot;Yes&quot; on &quot;Create one invoice per third party&quot; For the new invoice draft, generate the pdf-file and see the sales order info in the box, while Public Note is empty (i.e. you cannot edit it). ### Attached files ![2024-06-15_173418](https://github.com/Dolibarr/dolibarr/assets/11036018/0c98cdd7-0e8e-4ce2-b177-fd598ebb155b) ![2024-06-15_173447](https://github.com/Dolibarr/dolibarr/assets/11036018/e3414fe5-a3b8-4a4a-aa24-33dac69632b9)</DESCRIPTION>
  <REPONAME>dolibarr</REPONAME>
  <TIMEDIFFERENCEDAYS>19</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Add tooltip to help debug</MESSAGE>
    <SHA>3516746a10e321f9629918de10e254b8ce07a1c5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>FIX #30044</MESSAGE>
      <SHA>90f0372cba8256c8ae273aaacd1941a9bce65d41</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/commande/list.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>NEW #30044 (#30071) * FIX #30044 * Update list.php * Update list.php * Update pdf.lib.php * Update list.php * Update list.php * Update list.php * Update list.php * Update list.php * Update list.php * Update list.php * Update list.php * Update list.php * Update list.php --------- Co-authored-by: Laurent Destailleur &lt;eldy@destailleur.fr&gt;</MESSAGE>
      <SHA>e7f694cddf09f2a1f09e9dcdc29f312ef240303b</SHA>
      <PATCHEDFILES>
        <FILE>htdocs/commande/list.php</FILE>
        <FILE>htdocs/core/lib/pdf.lib.php</FILE>
        <FILE>htdocs/fourn/commande/list.php</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
