<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>130</ISSUENO>
  <ISSUEURL>https://github.com/spring-petclinic/spring-petclinic-rest/issues/130</ISSUEURL>
  <TITLE>Handle 404 error while adding a pet to an owner</TITLE>
  <DESCRIPTION>The `POST /owners/{ownerId}/pets` does not return a 404 error when the `ownerId` does not exist but an error `400` ``` { &quot;className&quot;: &quot;org.springframework.dao.DataIntegrityViolationException&quot;, &quot;exMessage&quot;: &quot;could not execute statement [integrity constraint violation: foreign key no parent ; FK_PETS_OWNERS table: PETS value: 222] [insert into pets (birth_date,name,owner_id,type_id,id) values (?,?,?,?,default)]; SQL [insert into pets (birth_date,name,owner_id,type_id,id) values (?,?,?,?,default)]; constraint [FK_PETS_OWNERS]&quot; } ``` Same behaviour when a Pet does not exist</DESCRIPTION>
  <REPONAME>spring-petclinic-rest</REPONAME>
  <TIMEDIFFERENCEDAYS>231</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #135 from earlspilner/detached fix: security configuration updated for 6.3.x version</MESSAGE>
    <SHA>08778e6008511e28ef15184a3f0b486d72769b2e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix: implemented notfound 404 error handling for issue #130</MESSAGE>
      <SHA>10fca57b666a03b06c6f4357acb696eea56c2902</SHA>
      <PATCHEDFILES>
        <FILE>src/main/java/org/springframework/samples/petclinic/rest/advice/ExceptionControllerAdvice.java</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
