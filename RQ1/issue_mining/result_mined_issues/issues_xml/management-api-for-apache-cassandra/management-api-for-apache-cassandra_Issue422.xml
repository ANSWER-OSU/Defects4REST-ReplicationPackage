<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>422</ISSUENO>
  <ISSUEURL>https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/422</ISSUEURL>
  <TITLE>Metrics endpoint fails to start for some DSE images</TITLE>
  <DESCRIPTION>Some newer DSE images fail to startup the metrics endpoint due to library upgrades: ``` ERROR [DSE main thread] 2023-11-14 13:13:12,810 MetricsInterceptor.java:92 - Unable to start metrics endpoint java.lang.NoSuchMethodError: org.yaml.snakeyaml.parser.ParserImpl.&lt;init&gt;(Lorg/yaml/snakeyaml/reader/StreamReader;)V at com.fasterxml.jackson.dataformat.yaml.YAMLParser.&lt;init&gt;(YAMLParser.java:178) at com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createParser(YAMLFactory.java:471) at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:375) at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:15) at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3642) at io.k8ssandra.metrics.config.ConfigReader.readConfig(ConfigReader.java:38) at io.k8ssandra.metrics.interceptors.MetricsInterceptor.intercept(MetricsInterceptor.java:68) at org.apache.cassandra.service.CassandraDaemon.start(CassandraDaemon.java) at com.datastax.bdp.server.DseDaemon.start(DseDaemon.java:559) at org.apache.cassandra.service.CassandraDaemon.activate0(CassandraDaemon.java:830) at org.apache.cassandra.service.CassandraDaemon.access$100(CassandraDaemon.java:93) at org.apache.cassandra.service.CassandraDaemon$3.run(CassandraDaemon.java:738) ```</DESCRIPTION>
  <REPONAME>management-api-for-apache-cassandra</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Refactor shaded library project</MESSAGE>
    <SHA>ba983afb3daff595b81dd3f5cdce90f34815519e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Release v0.1.71 * [CHANGE] [#425](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/425) Shade Jackson libraries in agents * [BUGFIX] [#413](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/413) UBI8 images do not terminate correctly * [BUGFIX] [#360](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/360) Support Cassandra 5.0-alpha1 * [BUGFIX] [#415](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/415) Some jvm_* metrics aren't labelled correctly * [BUGFIX] [#422](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/422) Metrics endpoint fails to start for some DSE images * [FEATURE] [#398](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/398) Make Management API port configurable * [FEATURE] [#419](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/419) Add DSE 6.8.40 to the build matrix * [FEATURE] [#397](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/397) Add Cassandra 4.0.11, 4.1.3 5.0-alpha2</MESSAGE>
      <SHA>9795d838e7c965c50a0a6a0d687c93db70344255</SHA>
      <PATCHEDFILES>
        <FILE>CHANGELOG.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
