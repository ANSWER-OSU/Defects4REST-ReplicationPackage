<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>553</ISSUENO>
  <ISSUEURL>https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/553</ISSUEURL>
  <TITLE>Major compaction tracking metric is broken in 5.0.2</TITLE>
  <DESCRIPTION>Currently, we do cast to a OperationType, however this approach will not work in the extended metrics anymore as we use an older version of the class in agent-common. This causes major compactions to be filtered out from metrics due to a IllegalArgumentException (this Exception is not printed in the logs). In 5.0.2, we need a newer version or we need to simply do this filtering through some string handling to get what we want. ┆Issue is synchronized with this [Jira Story](https://datastax.jira.com/browse/MAPI-74) by [Unito](https://www.unito.io) ┆Issue Number: MAPI-74</DESCRIPTION>
  <REPONAME>management-api-for-apache-cassandra</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix version detection in agent-common (#563)</MESSAGE>
    <SHA>0ae3cd595f770a4a0177589cf86f7aa8dfe5c110</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Release v0.1.88 * [CHANGE] [#556](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/556) Update Management API dependencies to address CVEs * [CHANGE] [#547](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/547) Deprecate Cassandra 3.11 support * [FEATURE] [#551](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/551) Add Cassandra 5.0.2 to the build matrix * [FEATURE] [#549](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/549) Add DSE 6.9.3 to the build matrix * [ENHANCEMENT] [#552](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/552) Improve &quot;liveness&quot; probe implementation * [BUGFIX] [#553](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/553) Fix CassandraTaskExports metric filtering to make it work with 5.0.x Major compactions * [BUGFIX] [#560](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/560) Fix LatencyMetrics bucketing on 4.1 and 5.0 as their reservoir stores the data in microseconds, not nano (unlike 3.11 and 4.0) * [BUGFIX] [#562](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/562) Fix version detection</MESSAGE>
      <SHA>7ba34b39c2ce7e37009bff057bd13a108eb0b32d</SHA>
      <PATCHEDFILES>
        <FILE>CHANGELOG.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
