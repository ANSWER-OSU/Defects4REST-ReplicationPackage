<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>19195</ISSUENO>
  <ISSUEURL>https://github.com/netbox-community/netbox/issues/19195</ISSUEURL>
  <TITLE>Language cookie should respect `SESSION_COOKIE_SECURE` value</TITLE>
  <DESCRIPTION>### Deployment Type Self-hosted ### NetBox Version v4.2.7 ### Python Version 3.10 ### Steps to Reproduce N/A ### Expected Behavior When a cookie is set ([here](https://github.com/netbox-community/netbox/blob/70cc7c7563fa5923b543d2faad6dbb2d1823f109/netbox/netbox/middleware.py#L46), for instance) indicating the user's preferred language, it should be marked as &quot;secure&quot; if `SESSION_COOKIE_SECURE` is True (the same as the session cookie). ### Observed Behavior The language cookie is always set with `secure=False` (the default).</DESCRIPTION>
  <REPONAME>netbox</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fixes #19169: Remove horizontal padding from highlighted text (#19181)</MESSAGE>
    <SHA>70cc7c7563fa5923b543d2faad6dbb2d1823f109</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes #19195: Language cookie should respect SESSION_COOKIE_SECURE value</MESSAGE>
      <SHA>5813f9c638e3e379ccfa8a7ea5067be581a4d3e4</SHA>
      <PATCHEDFILES>
        <FILE>netbox/account/views.py</FILE>
        <FILE>netbox/netbox/middleware.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixes #19195: Language cookie should respect SESSION_COOKIE_SECURE value (#19197)</MESSAGE>
      <SHA>27b26ec49c713826f4945bcbfefa64fa5e2efd8e</SHA>
      <PATCHEDFILES>
        <FILE>netbox/account/views.py</FILE>
        <FILE>netbox/netbox/middleware.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
