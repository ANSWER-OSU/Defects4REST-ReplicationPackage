<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>18447</ISSUENO>
  <ISSUEURL>https://github.com/netbox-community/netbox/issues/18447</ISSUEURL>
  <TITLE>Sort by MAC address crashes &quot;interfaces&quot; tab view...</TITLE>
  <DESCRIPTION>### Deployment Type Self-hosted ### NetBox Version v4.2.2 ### Python Version 3.11 ### Steps to Reproduce 1. Once logged in, clic &quot;virtualization&quot;, 2. clic &quot;Virtual machines&quot; 3. clic a VM name which owns more than one interface (in order to be able to sort) 4. clic &quot;interfaces&quot; 5. clic to sort by &quot;mac address&quot;. It's dead, you can not come back to ani &quot;interfaces&quot; tab anymore ### Expected Behavior View &quot;interfaces&quot; tab like before MAC ADDRESS became an object. ### Observed Behavior Server Error There was a problem with your request. Please contact an administrator. The complete exception is provided below: &lt;class 'django.core.exceptions.FieldError'&gt; Cannot resolve keyword 'mac_address' into field. Choices are: _name, bookmarks, bridge, bridge_id, bridge_interfaces, child_interfaces, created, custom_field_data, description, enabled, fhrp_group_assignments, id, ip_addresses, journal_entries, l2vpn_terminations, last_updated, mac_addresses, mode, mtu, name, parent, parent_id, primary_mac_address, primary_mac_address_id, qinq_svlan, qinq_svlan_id, subscriptions, tagged_items, tagged_vlans, tags, tunnel_terminations, untagged_vlan, untagged_vlan_id, virtual_machine, virtual_machine_id, vlan_translation_policy, vlan_translation_policy_id, vrf, vrf_id Python version: 3.11.2 NetBox version: 4.2.2 Plugins: None installed If further assistance is required, please post to the [NetBox discussion forum](https://github.com/netbox-community/netbox/discussions) on GitHub. [Home Page](http://netbox.sud.minint.fr/)</DESCRIPTION>
  <REPONAME>netbox</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fixes #18438: Specify batch_size for migrations which run bulk_update()</MESSAGE>
    <SHA>b91366129783d34b474d36e5dbf65e0d09016983</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes: #18447 - Fix sorting by `mac_address` field * Disable sorting by `mac_address` for legacy `mac_address` field for Device and VM Interfaces * Ensure `primary_mac_address` field is included in field list for Device and VM Interfaces</MESSAGE>
      <SHA>d1914595f6f30e8fa45e873ec1fa88998e8d89f0</SHA>
      <PATCHEDFILES>
        <FILE>netbox/dcim/tables/devices.py</FILE>
        <FILE>netbox/virtualization/tables/virtualmachines.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #18450 from netbox-community/18447-fix-legacy-macaddress-sorting Fixes: #18447 - Fix sorting by `mac_address` field</MESSAGE>
      <SHA>a8168899b8390e4468c983176bffcaff4c9b6f03</SHA>
      <PATCHEDFILES>
        <FILE>netbox/dcim/tables/devices.py</FILE>
        <FILE>netbox/virtualization/tables/virtualmachines.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixes: #18447 - Fix sorting by `mac_address` field * Disable sorting by `mac_address` for legacy `mac_address` field for Device and VM Interfaces * Ensure `primary_mac_address` field is included in field list for Device and VM Interfaces</MESSAGE>
      <SHA>51544b2b1d3f8c66a70a884096393b25b7bd34e5</SHA>
      <PATCHEDFILES>
        <FILE>netbox/dcim/tables/devices.py</FILE>
        <FILE>netbox/virtualization/tables/virtualmachines.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixes: #18447 - Fix sorting by `mac_address` field * Disable sorting by `mac_address` for legacy `mac_address` field for Device and VM Interfaces * Ensure `primary_mac_address` field is included in field list for Device and VM Interfaces</MESSAGE>
      <SHA>b8370c57cc5fb99ca8dd4ffa0da35ddec5fd901e</SHA>
      <PATCHEDFILES>
        <FILE>netbox/dcim/tables/devices.py</FILE>
        <FILE>netbox/virtualization/tables/virtualmachines.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
