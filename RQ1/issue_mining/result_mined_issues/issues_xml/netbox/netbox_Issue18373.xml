<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>18373</ISSUENO>
  <ISSUEURL>https://github.com/netbox-community/netbox/issues/18373</ISSUEURL>
  <TITLE>Cannot Assign devices to Cluster</TITLE>
  <DESCRIPTION>### Deployment Type Self-hosted ### Triage priority N/A ### NetBox Version v.4.2.1 ### Python Version 3.11 ### Steps to Reproduce 1. Create a new Cluster, fill out only required fields 2. Click on Assign Device to Cluster, and fill out only required fields 3. Click Add Devices ### Expected Behavior Device(s) are assigned to Cluster ### Observed Behavior Server Error from NetBox ``` &lt;class 'AttributeError'&gt; 'Cluster' object has no attribute 'site' Python version: 3.11.2 NetBox version: 4.2.1 Plugins: netbox_branching: 0.5.2 netbox_device_view: 0.1.7 netbox_reorder_rack: 1.1.3 ```</DESCRIPTION>
  <REPONAME>netbox</REPONAME>
  <TIMEDIFFERENCEDAYS>7</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fixes: #18350 - Remove 'site' and 'provider_network' from CircuitTerminationIndex.display_attrs (#18351) * Remove 'site' and 'provider_network' from CircuitTerminationIndex.display_attrs * Use '_site' and '_provider_network' in display_attrs * Replace private fields with 'termination'</MESSAGE>
    <SHA>c3efa2149c14f6b55ebb79be72eef6e37c86a072</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fixes: #18373 - Fix validation of site in Assign Device to Cluster flow (#18375) * Fix validation of site in Assign Device to Cluster flow * Validate Location as well as Site scope</MESSAGE>
      <SHA>993d8f1480be287b4f7347011a6d8af7e1a22150</SHA>
      <PATCHEDFILES>
        <FILE>netbox/virtualization/forms/model_forms.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixes: #18373 - Fix validation of site in Assign Device to Cluster flow (#18375) * Fix validation of site in Assign Device to Cluster flow * Validate Location as well as Site scope</MESSAGE>
      <SHA>b6e30f24841646d971b44a5afaac02b9f2b8bf2b</SHA>
      <PATCHEDFILES>
        <FILE>netbox/virtualization/forms/model_forms.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fixes: #18373 - Fix validation of site in Assign Device to Cluster flow (#18375) * Fix validation of site in Assign Device to Cluster flow * Validate Location as well as Site scope</MESSAGE>
      <SHA>00b891000f2fa570e0636ae0e6068531a8358c21</SHA>
      <PATCHEDFILES>
        <FILE>netbox/virtualization/forms/model_forms.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
