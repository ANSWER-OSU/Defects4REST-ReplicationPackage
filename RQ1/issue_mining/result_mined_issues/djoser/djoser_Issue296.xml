<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>296</ISSUENO>
  <ISSUEURL>https://github.com/sunscrapers/djoser/issues/296</ISSUEURL>
  <TITLE>Password reset link remains valid after usage</TITLE>
  <DESCRIPTION>The password reset link generated by `djoser.views.PasswordResetView` remains valid after use. In fact, when requesting a password reset again, the same link is sent. This is a bit of a security risk, because anyone with that link (even if it has been years ago that you requested a password reset) can change your password. I don't think users would expect that the link remains valid after usage, and might not be as careful with it as they should be. Of course, the current scheme has the adventage that it is stateless on the server. A link that is invalidated after use requires some information to be stored somehow. I think it would be a trade-off i'm willing to make: some database storage for improved security.</DESCRIPTION>
  <REPONAME>djoser</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #295 from akalipetis/hotfix-drf-docs Add a test to make sure that DRF docs work</MESSAGE>
    <SHA>dbf7236af62bad1dcf26c7522632101e9c074bcd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix validity of reset link after password is reset. Closes #296</MESSAGE>
      <SHA>500ded9a2146682aa87a7cc2650ca08c7d13e02b</SHA>
      <PATCHEDFILES>
        <FILE>djoser/views.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #298 from dekoza/fix/passchange Fix validity of reset link after password is reset. Closes #296</MESSAGE>
      <SHA>ab825cb57785e77c8618abaf4301a25b66b4071f</SHA>
      <PATCHEDFILES>
        <FILE>djoser/views.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
