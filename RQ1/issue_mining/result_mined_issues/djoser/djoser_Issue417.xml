<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>417</ISSUENO>
  <ISSUEURL>https://github.com/sunscrapers/djoser/issues/417</ISSUEURL>
  <TITLE>user &quot;delete&quot; permissions and serializer settings not respected</TITLE>
  <DESCRIPTION>The permission_class setting for &quot;user_delete&quot; is not respected as `UserViewSet.get_permissions` doesn't check for action `delete` or (`me` with method `DELETE`). Instead, it just uses the default class permission. Also the `UserViewSet.get_serializer_class` doesn't work for `user_delete` as the action that is checked is `remove` while the real action should be `delete`. This serializer setting is important as out-of-the-box it requires the user's password before deleting.</DESCRIPTION>
  <REPONAME>djoser</REPONAME>
  <TIMEDIFFERENCEDAYS>11</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>update dependencies</MESSAGE>
    <SHA>84f2ca4e7ce3dd05ce9b145fcc5353e77ebffc05</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Properly use deletion serializer and permission classes; Fixes #417</MESSAGE>
      <SHA>42d7d4b7a26a3c2d99cf73d39e888c9754cdeddf</SHA>
      <PATCHEDFILES>
        <FILE>djoser/__init__.py</FILE>
        <FILE>djoser/views.py</FILE>
        <FILE>setup.py</FILE>
        <FILE>testproject/testapp/tests/common.py</FILE>
        <FILE>testproject/testapp/tests/test_user_delete.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge pull request #419 from dekoza/fix/417 Properly use deletion serializer and permission classes; Fixes #417</MESSAGE>
      <SHA>b8f3645b116f2aa96deeb86c79425375c56f3df7</SHA>
      <PATCHEDFILES>
        <FILE>djoser/__init__.py</FILE>
        <FILE>djoser/views.py</FILE>
        <FILE>setup.py</FILE>
        <FILE>testproject/testapp/tests/common.py</FILE>
        <FILE>testproject/testapp/tests/test_user_delete.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
