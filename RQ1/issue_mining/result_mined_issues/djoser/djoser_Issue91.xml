<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>91</ISSUENO>
  <ISSUEURL>https://github.com/sunscrapers/djoser/issues/91</ISSUEURL>
  <TITLE>possible E-mail improvement</TITLE>
  <DESCRIPTION>I want to quickly say first Djoser is a great package to kickoff DRF REST API projects and I've used it to its absolute maximal intent and beyond. Great job! I figure I would add my 2cents on some improvements though. Well, actually it's just one, the rest I found very flexible and inline with OOP/DRY. With respect to sending e-mails, I would look into decoupling it from the DRF Views completely. Say for example you have attachments (which is not so uncommon), with Djoser as is, I had to make some minor but ugly modifications to Djoser and email views I sub-classed. Currently Djoser does something similar with Email as TemplateView (or more generally, class based views) in Django, in that there is a &quot;get_context_data&quot; method etc...that is passed in to render the text (the e-mail subject, body etc...) given the path to the template (subject.html, body.html etc...). This isn't bad, in most cases, but again, if I have to deal with attachments, and also with different types of scenarios (send to multiple recipients, bccs etc...), this may not be the best solution. Instead of coupling that to the DRF Views, I would decouple it completely and anytime Email functionality is needed, simply reference an Email class within the code and call it. Here is simple email class I wrote (I called it mixin class by accident) I'm using currently in one of my projects with djoser: https://github.com/apokinsocha/django-email-mixin/blob/master/django-email-mixin.py It maybe a bit redundant with respect to djangos existing email function, but I wanted to encapsulate some additional common functionality with respect to e-mails. Usage example: ``` python _file = some_file html_body = DjangoEmailWrapper.get_template_text('email_body.txt', context=context) subject = DjangoEmailWrapper.get_template_text('subject.txt', context=context, inline=True) emails = ['test@gmail.com', 'test2@gmail.com'] msg = DjangoEmailWrapper(subject, getattr(settings, 'DEFAULT_FROM_EMAIL', None), html_body, bcc=emails, html_body=html_body) msg.attach_file(_file) msg.send_email() ``` I can do a PR in the near future to integrate it, if there is foreseeable use beyond my own. A pretty simple change in my view, but I think it cleans things up a bit and also allows to easily call DjangoEmailWrapper in other non-djoser views.</DESCRIPTION>
  <REPONAME>djoser</REPONAME>
  <TIMEDIFFERENCEDAYS>692</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #128 from sunscrapers/custom_serializers Introduced DJOSER[SERIALIZERS]</MESSAGE>
    <SHA>73c2451e2dc3713436ba5a1a473d255be5953710</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Refactor SendEmailMixin. Prepare #91.</MESSAGE>
      <SHA>1a188330aff8ca6df47d8f44e1f6550e9290fc0f</SHA>
      <PATCHEDFILES>
        <FILE>djoser/utils.py</FILE>
        <FILE>djoser/views.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Refactor SendEmailMixin. Prepare #91.</MESSAGE>
      <SHA>ef7a8ceb24ca83f3b756c9e6696d68cb07698480</SHA>
      <PATCHEDFILES>
        <FILE>djoser/utils.py</FILE>
        <FILE>djoser/views.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
