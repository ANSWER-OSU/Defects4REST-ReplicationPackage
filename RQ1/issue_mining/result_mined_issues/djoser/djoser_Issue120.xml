<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>120</ISSUENO>
  <ISSUEURL>https://github.com/sunscrapers/djoser/issues/120</ISSUEURL>
  <TITLE>Activation token invalidated by user login</TITLE>
  <DESCRIPTION>Hello, thanks for the great work on this library! `ActivationView` uses Django's `PasswordResetTokenGenerator` to generate the activation token. To create this token, this class hashes internal user state, including the user's last login time. This means if the user logs in before clicking the activation link (in situations where the activation link is sent, but the user is not required to click it before logging in), the token is invalidated and will not work. The API returns a 400 with `INVALID_TOKEN_ERROR`. This token hashing behavior makes sense for password reset tokens, however when creating activation tokens we should not hash the user's last login. This will allow djoser to support optional activation/confirmation links. What are your thoughts on this? Would you be willing to accept a pull request?</DESCRIPTION>
  <REPONAME>djoser</REPONAME>
  <TIMEDIFFERENCEDAYS>2788</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Merge pull request #128 from sunscrapers/custom_serializers Introduced DJOSER[SERIALIZERS]</MESSAGE>
    <SHA>73c2451e2dc3713436ba5a1a473d255be5953710</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fixed issue #120: Activation token invalidated by user login * added TokenGenerator customization in settings and utils module * added flag for setting new user Active by default</MESSAGE>
      <SHA>78d6ee9cbdcfa29c9f2f59aa04aad1dc70e9526a</SHA>
      <PATCHEDFILES>
        <FILE>README.md</FILE>
        <FILE>djoser/serializers.py</FILE>
        <FILE>djoser/settings.py</FILE>
        <FILE>djoser/utils.py</FILE>
        <FILE>djoser/views.py</FILE>
        <FILE>testproject/settings.py</FILE>
        <FILE>testproject/testapp/tests.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
