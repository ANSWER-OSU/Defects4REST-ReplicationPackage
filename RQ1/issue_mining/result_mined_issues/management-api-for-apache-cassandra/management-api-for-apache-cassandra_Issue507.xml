<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>507</ISSUENO>
  <ISSUEURL>https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/507</ISSUEURL>
  <TITLE>SSL Context Hot Reloading doesn't work as expected</TITLE>
  <DESCRIPTION>[SSLContext reload](https://github.com/k8ssandra/management-api-for-apache-cassandra/pull/376) does not seem to be updated when cert files are changed. It seems that even though a log message is displayed that changes have been detected in the files, the actual SSLContext for the server remains unchanged. Steps to reproduce. 1. Create a short lived cert that will expire in a few minutes to use as a cert for the server 2. Update cert to a longer lived cert 3. Verify the `Detected change in the SSL/TLS certificates, reloading` log occurs 4. Execute a local curl command e.g. `curl --cert tls.crt --key tls.key --cacert ca.crt https://localhost:8080/api/v0/lifecycle/pid` with updated certs 5. Output of above command will be `SSL certificate problem: certificate has expired` even though the certs should have been updated to the long-lived cert Restarting the management api process (and therefore restarting Cassandra) will result in the process picking up the new cert, however, it would be great if the restart was not necessary</DESCRIPTION>
  <REPONAME>management-api-for-apache-cassandra</REPONAME>
  <TIMEDIFFERENCEDAYS>14</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Change relabeling rules for processing internode (inbound / outbound)â€¦ (#515) * Change relabeling rules for processing internode (inbound / outbound) metrics</MESSAGE>
    <SHA>ecb26749b296ab23f127a92e4707d63c72155b5a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Release v0.1.83 * [BUGFIX] [#510](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/510) CDC is not working in the OSS images (at least not UBI) * [BUGFIX] [#507](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/507) Fix the SSLContext reloading in the initChannel when certificates have changed. * [FEATURE] [#511](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/511) Add DSE 6.8.50 and DSE 6.9.0-rc.3 to the build matrix * [BUGFIX] [#512](https://github.com/k8ssandra/management-api-for-apache-cassandra/issues/512) Add relabeling rules for internode connection metrics (inbound and outbound)</MESSAGE>
      <SHA>8594a4fbea95580e1d25e05b14e7dd971f538576</SHA>
      <PATCHEDFILES>
        <FILE>CHANGELOG.md</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
