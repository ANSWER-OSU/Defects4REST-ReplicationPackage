<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2999</ISSUENO>
  <ISSUEURL>https://github.com/louislam/uptime-kuma/issues/2999</ISSUEURL>
  <TITLE>EMail: Ignore TLS error doesn't suppress selfsigned cert errors</TITLE>
  <DESCRIPTION>### ⚠️ Please verify that this bug has NOT been raised before. - [X] I checked and didn't find similar issue ### ️ Security Policy - [X] I agree to have read this project [Security Policy](https://github.com/louislam/uptime-kuma/security/policy) ### Description The flag `Ignore TLS error` doesn't suppress errors generated by selfsigned certificates: ![grafik](https://user-images.githubusercontent.com/22315436/228795826-99203aec-ed71-4ea7-a3cb-6a12da31d7b6.png) ![grafik](https://user-images.githubusercontent.com/22315436/228795672-67337141-3ee9-40d6-b6bf-db1c04febc41.png) ### Reproduction steps 1. Create a new notification of type `EMail (SMTP)` 2. Chose an SMTP server which uses encryption with a selfsigned certificate 3. Select `TLS` security 4. Select `Ignore TLS error` 5. Hit `Test` ### Expected behavior The TLS error should be ignored. ### Actual Behavior `self signed certificate in certificate chain` ### Uptime-Kuma Version 1.21.1 ### Operating System and Arch Ubuntu 22.04 ### Browser Firefox ### Docker Version _No response_ ### NodeJS Version _No response_ ### Relevant log output ```shell Error: self signed certificate in certificate chain at TLSSocket.onConnectSecure (node:_tls_wrap:1539:34) at TLSSocket.emit (node:events:513:28) at TLSSocket._finishInit (node:_tls_wrap:953:8) at TLSWrap.ssl.onhandshakedone (node:_tls_wrap:734:12) { code: 'ESOCKET', command: 'CONN' } ``` ```</DESCRIPTION>
  <REPONAME>uptime-kuma</REPONAME>
  <TIMEDIFFERENCEDAYS>114</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>feat: Tailscale ping monitor (#3178) * Add boilerplate for tailscale ping * tailscale initial commit draft * Refactor TailscalePing &amp; better error handling Split check function into two methods and added async/await syntax for readability/modularity Switched to promise-based error handling (takes into account different types of error such as &quot;Execution error&quot;, &quot;Error in output&quot;, &quot;no matching peer&quot;, and &quot;is local Tailscale IP&quot;) and throws them as JavaScript errors. * Minor update * minor update (again) * Update server/monitor-types/tailscale-ping.js Co-authored-by: Frank Elsinga &lt;frank@elsinga.de&gt; * Update server/monitor-types/tailscale-ping.js Co-authored-by: Frank Elsinga &lt;frank@elsinga.de&gt; * Update server/monitor-types/tailscale-ping.js Co-authored-by: Frank Elsinga &lt;frank@elsinga.de&gt; * Update server/monitor-types/tailscale-ping.js Co-authored-by: Frank Elsinga &lt;frank@elsinga.de&gt; * timeout revision * JSDoc * Removed long explainers * eslint tailscale-ping.js --fix * reran eslint * Fix: Use hostname rather than url * Fixed NaN on monitor interval now interval value is correctly passed to runTailscalePing * Add warning message --------- Co-authored-by: Louis Lam &lt;louislam@users.noreply.github.com&gt; Co-authored-by: Frank Elsinga &lt;frank@elsinga.de&gt;</MESSAGE>
    <SHA>1d9a28e9abf7628409db7428f1c30acd43aef0cd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix: SMTP notification &quot;Ignore TLS Error&quot; option (#2999)</MESSAGE>
      <SHA>173059612b6d9448d4fbf97ab07315a5d65b7e15</SHA>
      <PATCHEDFILES>
        <FILE>server/notification-providers/smtp.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Fix: SMTP notification &quot;Ignore TLS Error&quot; option (#2999) (#3465)</MESSAGE>
      <SHA>5ccf2d23fc695c1854154dcff2b78c1a7c297476</SHA>
      <PATCHEDFILES>
        <FILE>server/notification-providers/smtp.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
