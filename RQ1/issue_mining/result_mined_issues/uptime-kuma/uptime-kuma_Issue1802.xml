<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1802</ISSUENO>
  <ISSUEURL>https://github.com/louislam/uptime-kuma/issues/1802</ISSUEURL>
  <TITLE>New http monitors add port as empty string</TITLE>
  <DESCRIPTION>### ⚠️ Please verify that this bug has NOT been raised before. - [X] I checked and didn't find similar issue ### ️ Security Policy - [X] I agree to have read this project [Security Policy](https://github.com/louislam/uptime-kuma/security/policy) ### Description Hello- I am attempting to write my own RESTful API for Uptime Kuma and have been poking around the database. I noticed that if I add a new https monitor through the Uptime Kuma gui, the `port` column in the database is added as an empty string. Well in my RESTful API I am going to enforce strict type checking at the API level (both incoming and outgoing data using [pydantic](https://pydantic-docs.helpmanual.io/usage/types/)), so I want to enforce this to be an `INTEGER` only or `NULL`. This is because a port **cannot** be anything other than an `INTEGER`. I noticed that in previous Uptime Kuma builds (months ago), https monitors had the value of `port` as `NULL`, then it was changed somewhere along the way to be empty strings. Now I see [SQLite embraces dynamic type checking](https://www.sqlite.org/flextypegood.html), but am wondering if this was a conscious design decision to make new `port` entries an empty string as opposed to `NULL`. I can make my API handle empty strings as well, but I would prefer making it a strict `NULL` or `INTEGER`. I wanted to check if it was a bug first though. I would argue that if the front end only allows an `INTEGER` to be selected (which is the case), then it is a bug. :) -Joe ### Reproduction steps 1. Make a new https monitor. 2. Look in the database and see `port` is an empty string, not `NULL`. ### Expected behavior I would expect a monitor without a used `port` to be added as `NULL`. ### Actual Behavior It is added as an empty string. ### Uptime-Kuma Version 1.16.1 ### Operating System and Arch MacOS 11.6.6 ### Browser Chrome Version 102.0.5005.115 ### Docker Version Docker version 20.10.12, build e91ed5707e ### NodeJS Version _No response_ ### Relevant log output ```shell Here is the output from my pydantic logs: pydantic.error_wrappers.ValidationError: 1 validation error for Monitor response -&gt; 0 -&gt; port value is not a valid integer (type=type_error.integer) &lt;class 'str'&gt; ``` ```</DESCRIPTION>
  <REPONAME>uptime-kuma</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix logo height in the status page list</MESSAGE>
    <SHA>a7063b8acaff71482badc07fd0094200c12b2d66</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Fix port data type #1802</MESSAGE>
      <SHA>c36d9a4b8b4a41f429ebfa792f47041fccdcca97</SHA>
      <PATCHEDFILES>
        <FILE>server/server.js</FILE>
        <FILE>src/pages/EditMonitor.vue</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
