<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2878</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/2878</ISSUEURL>
  <TITLE>now dev return spawn E2BIG</TITLE>
  <DESCRIPTION># Bug report Suddenly after a couple weeks of development, my now dev command line doesn't work anymore. It started when I closed the terminal where it was running and opened a new one. Now, it does the same even with a basic nextjs project ![image](https://user-images.githubusercontent.com/9078109/63739652-8e688000-c8c0-11e9-8c19-b7aac913e48f.png) And even with the now init nextjs command line ![image](https://user-images.githubusercontent.com/9078109/63739719-db4c5680-c8c0-11e9-811d-0cae92f37176.png) ## To Reproduce now init nextjs cd nextjs now dev ## Expected behavior The now dev server is properly launched and I can debug my code. ## System information - OS : macOS 10.14.6 - Memory: 16 GB - Node : v10.16.0 (but tested with 8.x.x also) - yarn 1.16.0 (but tested with 1.14 and 1.15 also) - Version of Next.js: 9.0.5 ## Additional context It happened to my collegues too. After a while, the command line just doesn't work anymore. We have tried : - Reinstall node, update node, downgrade node - Reinstall yarn, update yarn, downgrade yarn - Uninstall / Reinstall now - rm -rf /Users/....../Library/Caches/co.zeit.now/ Nothing works. The command line throw the error directly after the yarn command, just like if it was a problem with the size of a file (maybe logs ?) or the number of arguments in a function? Anyone can help ? Thank you very much</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>1904</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[cli] Add telemetry for `vercel link` (#12360) This one required adding unit tests for the `--repo` flag, which was a bit tricky.</MESSAGE>
    <SHA>3f16870fc2932ab74200f53bbe78b3700461f3ba</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[cli] add `VERCEL_ENV` and `VERCEL` to process to simulate runtime (#12358) In https://github.com/vercel/vercel/pull/11526 we stopped pulling down environment variables that are set by the runtime into `.env` files since this really is an appropriate location for them and blank values can cause issues for some customers. However, we were relying on these so that `vercel dev` had a similar set of variables as the platform at runtime. Losing these was a breaking change. This PR sets them within the development sever itself to better simulate our actual runtime environment. I wasn't quite sure of the use of `projectSettings?.autoExposeSystemEnvs` [here](https://github.com/vercel/vercel/blob/804b94fa6177198728b1d6cd497aad787b452130/packages/cli/src/util/dev/server.ts#L709-L711) and potentially the correct location for these is within that `if` block? Closes #2878 --------- Co-authored-by: Nathan Rajlich &lt;n@n8.io&gt;</MESSAGE>
      <SHA>7984210e0e0522953e5d148ddc4be7b289afc667</SHA>
      <PATCHEDFILES>
        <FILE>.changeset/five-donkeys-reply.md</FILE>
        <FILE>packages/cli/src/util/dev/server.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
