<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2941</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/2941</ISSUEURL>
  <TITLE>now alias without any arguments is broken</TITLE>
  <DESCRIPTION>Hey Zeit team, It looks like the latest update broke using `now alias` without any arguments. This seems to be the responsible code: https://github.com/zeit/now/commit/7c421f92e144778c0074a27a212157be9901b681#diff-b79436b8a38c46520f80ad57562b4817R82-R91 We have our alias's set up in JSON config files and I believe the old functionality was such that you could call `now alias` and specify a config with `{ ... &quot;alias&quot;: &quot;some-alias.com&quot; ... }` and it would read the alias name from the config and default to the latest deployment when you supplied no arguments. This doesn't appear to be working in our CI/CD anymore: ``` $ now alias --local-config=now.production.json -t TOKEN -T TEAM_NAME &gt; WARN! The &quot;--team&quot; flag is deprecated. Please use &quot;--scope&quot; instead. &gt; Error! The provided argument &quot;undefined&quot; is not a valid deployment ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[CircleCI] Remove `publish-stable` and `publish-canary` steps (#2957) Publishing to npm is now handled by GitHub Actions. Aside from that, the Circle publishing was broken. See: https://circleci.com/gh/zeit/now/7213</MESSAGE>
    <SHA>6e43c322cc0f4566e58fa505626ea39bd8bbb4b5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-cli] Fix `now alias` with no arguments Fixes #2941.</MESSAGE>
      <SHA>a2e3118dea6513bfb0cd883926f1271d289aa084</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/alias/set.ts</FILE>
        <FILE>packages/now-cli/src/util/alias/get-inferred-targets.ts</FILE>
        <FILE>packages/now-cli/test/integration.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now-cli] Fix `now alias` with no arguments (#2959) Fixes #2941.</MESSAGE>
      <SHA>a60f107e4bd2f5155f160c91fb0d373b56d628d3</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/alias/set.ts</FILE>
        <FILE>packages/now-cli/src/util/alias/get-inferred-targets.ts</FILE>
        <FILE>packages/now-cli/test/integration.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now-cli] Fix `now alias` with no arguments (#2959) Fixes #2941.</MESSAGE>
      <SHA>903f819c5d3c460684947236e5d0d897a2c24181</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/alias/set.ts</FILE>
        <FILE>packages/now-cli/src/util/alias/get-inferred-targets.ts</FILE>
        <FILE>packages/now-cli/test/integration.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
