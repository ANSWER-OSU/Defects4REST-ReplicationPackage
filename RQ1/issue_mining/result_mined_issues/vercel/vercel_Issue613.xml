<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>613</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/613</ISSUEURL>
  <TITLE>Windows: Doesn't work because of .bin executable issue</TITLE>
  <DESCRIPTION>### Environment * **OS**: Windows 7/10 * **Node**: 8 * **now**: latest * **CLI**: git for windows (2.13) ### Steps #### Install `npm install now` #### Run ```sh ./node_modules/.bin/now -v ``` #### Error ```sh ./node_modules/.bin/now: line 1: /../now/download/dist/now: No such file or directory ``` ### Findings ### Current: node_modules/.bin/now ```sh &quot;$basedir/../now/download/dist/now&quot; &quot;$@&quot; exit $? ``` ### Expected: node_modules/.bin/now ```sh #!/bin/sh basedir=$(dirname &quot;$(echo &quot;$0&quot; | sed -e 's,\\,/,g')&quot;) case `uname` in *CYGWIN*) basedir=`cygpath -w &quot;$basedir&quot;`;; esac if [ -x &quot;$basedir/node&quot; ]; then &quot;$basedir/node&quot; &quot;$basedir/../now/download/dist/now&quot; &quot;$@&quot; ret=$? else node &quot;$basedir/../now/download/dist/now&quot; &quot;$@&quot; ret=$? fi exit $ret ``` **Note: By making this change it fixes the issue** ### ESLint example I used ESLint generated code and replaced the file paths. ```sh #!/bin/sh basedir=$(dirname &quot;$(echo &quot;$0&quot; | sed -e 's,\\,/,g')&quot;) case `uname` in *CYGWIN*) basedir=`cygpath -w &quot;$basedir&quot;`;; esac if [ -x &quot;$basedir/node&quot; ]; then &quot;$basedir/node&quot; &quot;$basedir/../eslint/bin/eslint.js&quot; &quot;$@&quot; ret=$? else node &quot;$basedir/../eslint/bin/eslint.js&quot; &quot;$@&quot; ret=$? fi exit $ret ``` ### Notes/Questions * Really not sure why this is happening, maybe how its packaged? * We at `ESLint` doesn't do anything special and all this is generated by npm install process. * Sorry if this is duplicate. I did try searching :smile: .</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>165</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>use async-retry restart after 'incorrect header check'</MESSAGE>
    <SHA>b23780ce38e34edc0423ce5b79581842ffa8ec4a</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>fix for #613</MESSAGE>
      <SHA>a4d87342d7e7980e74468ca3c0cb54529288de29</SHA>
      <PATCHEDFILES>
        <FILE>download/src/index.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Support for Node.js 0.10 and Git for Windows (#713) * add support of nodejs 0.10 * handle 'incorrect header check' error from gunzip * fix progress bar * use async-retry restart after 'incorrect header check' * fix for #613</MESSAGE>
      <SHA>316d711a9ca092e6c8f1fcc20842dd8570431ae0</SHA>
      <PATCHEDFILES>
        <FILE>download/src/index.js</FILE>
        <FILE>download/src/log.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
