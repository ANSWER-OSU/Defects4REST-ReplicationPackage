<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3209</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/3209</ISSUEURL>
  <TITLE>bug: CLI uses folder name instead of `name` property specified in custom config</TITLE>
  <DESCRIPTION>When running the following command: ```bash now ./dist/myproject-dashboard --local-config ./now-staging.json --token ${NOW_TOKEN} ``` With the following `now-staging.json`: ```json { &quot;name&quot;: &quot;myproject-dashboard-preview&quot;, &quot;scope&quot;: &quot;myorg&quot;, &quot;version&quot;: 2, &quot;alias&quot;: &quot;dashboard.preview.myproject.com&quot;, &quot;routes&quot;: [{ &quot;handle&quot;: &quot;filesystem&quot; }, { &quot;src&quot;: &quot;/.*&quot;, &quot;dest&quot;: &quot;/index.html&quot; }] } ``` The CLI will upload the code to a project matching the folder name (`myproject-dashboard`) instead of correctly using the specified `name` in the custom config. CLI version: ``` ‚ùØ now -v 16.4.3 ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>19</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Publish Canary - gatsby-plugin-now@1.2.6-canary.0 - @now/build-utils@1.0.1-canary.0 - @now/cgi@1.0.1-canary.0 - now@16.5.3-canary.0 - now-client@5.2.4-canary.0 - @now/go@1.0.1-canary.0 - @now/next@1.0.6-canary.0 - @now/node-bridge@1.2.7-canary.1 - @now/node@1.1.3-canary.0 - @now/python@1.0.1-canary.0 - @now/routing-utils@1.3.4-canary.0 - @now/ruby@1.0.1-canary.0 - @now/static-build@0.12.3-canary.0</MESSAGE>
    <SHA>8e293dd633ed249f969417cf137abd17ae7653ed</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-cli] Fix `localConfig` when file is above the target directory (#3293) Fixes #3209</MESSAGE>
      <SHA>46b615a96332d49b71dbc8fadf85d9668a39403e</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/deploy/index.js</FILE>
        <FILE>packages/now-cli/test/helpers/prepare.js</FILE>
        <FILE>packages/now-cli/test/integration.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
