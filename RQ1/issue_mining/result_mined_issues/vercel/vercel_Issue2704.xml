<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2704</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/2704</ISSUEURL>
  <TITLE>Prompt to accept incoming connections on Mac OS when running `now dev`</TITLE>
  <DESCRIPTION>When activating the firewall on MacOS, I start getting these prompts **each time** running `now dev` (sorry for the french): &lt;img width=&quot;448&quot; alt=&quot;Capture d’écran 2019-08-05 à 21 24 33&quot; src=&quot;https://user-images.githubusercontent.com/6616955/62489690-ae2bed00-b7c7-11e9-986f-ed2007decfbf.png&quot;&gt; I would expect to accept it only once the first time I run `now dev`, or not at all because I'm not trying to access &quot;internet&quot; or expose a server to the outside world with `now dev`. One possible root cause for this is that the `now dev` server is listening on `0.0.0.0` instead of `localhost`. Listening on `localhost` wouldn't prompt this message. Also worth noting that I'm not getting these prompts when running other servers in dev mode (for example, `yarn run next`).</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>3</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>15.9.0-canary.28</MESSAGE>
    <SHA>9a6ad1ae43f2b15ab0729f8113a3ed83fa81b4a6</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now dev] Add `--bind` / `-b` flag This changes the default network interface that `now dev` binds to, in order to prevent operating system firewalls from showing a confirmation prompt in order to run. Fixes #2704.</MESSAGE>
      <SHA>db0246b64f6e619b0117720c6c287da585d0e723</SHA>
      <PATCHEDFILES>
        <FILE>src/commands/dev/dev.ts</FILE>
        <FILE>src/commands/dev/index.ts</FILE>
        <FILE>src/util/dev/server.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now dev] Add `--bind` / `-b` flag (#2705) This changes the default network interface that `now dev` binds to, in order to prevent operating system firewalls from showing a confirmation prompt in order to run. Fixes #2704.</MESSAGE>
      <SHA>efe0ca57f0a416acc94e916db99822e9909ba659</SHA>
      <PATCHEDFILES>
        <FILE>src/commands/dev/dev.ts</FILE>
        <FILE>src/commands/dev/index.ts</FILE>
        <FILE>src/util/dev/server.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now dev] Add `--listen` / `-l` flag, deprecate `--port` / `-p` (#2720) * [now dev] Add `--bind` / `-b` flag This changes the default network interface that `now dev` binds to, in order to prevent operating system firewalls from showing a confirmation prompt in order to run. Fixes #2704. * Change to `--listen` * Default port 3000 * Fix unit * Fix `--port` * Use `-l` for integration tests * Add unit tests</MESSAGE>
      <SHA>c86a9217c49805e75e03e5901a5ec059a609ab7e</SHA>
      <PATCHEDFILES>
        <FILE>src/commands/dev/dev.ts</FILE>
        <FILE>src/commands/dev/index.ts</FILE>
        <FILE>src/util/dev/parse-listen.ts</FILE>
        <FILE>src/util/dev/server.ts</FILE>
        <FILE>src/util/dev/types.ts</FILE>
        <FILE>test/dev-server.unit.js</FILE>
        <FILE>test/dev/integration.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
