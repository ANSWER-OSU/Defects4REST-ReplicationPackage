<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>11130</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/11130</ISSUEURL>
  <TITLE>`vercel` cli has not option to update existing values</TITLE>
  <DESCRIPTION>Hello. We use the vercel cli in our CICD platform and we've noticed that using `vercel env add` command will fail one existing secrets. It would be ideal if the CLI had an `--update` flag to make the vercel CLI overwrite the existing env secret rather than failing with an error. This will ensure we set the most recent secrets and not keeping around any old values.</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>62</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[cli] Add explicit vitest import to unit test for isZeroConfigBuild utility (#11341)</MESSAGE>
    <SHA>8a16e8eb6531d354a4708a778345f3fb0262fc0e</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[cli] optional override of existing environment variables (#11130)</MESSAGE>
      <SHA>5d9aa97de0adfcd61c9fdd94173710bc6e9f38d3</SHA>
      <PATCHEDFILES>
        <FILE>packages/cli/src/commands/env/add.ts</FILE>
        <FILE>packages/cli/src/commands/env/command.ts</FILE>
        <FILE>packages/cli/src/util/env/add-env-record.ts</FILE>
        <FILE>packages/cli/test/helpers/prepare.js</FILE>
        <FILE>packages/cli/test/integration-2.test.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[cli] optional override of existing environment variables (#11348) ## Why Closes #11130 ## Changelog Added `--force` argument to upsert existing environment variables (#11130) ## References - Vercel API `/v10/projects/{idOrName}/env` https://vercel.com/docs/rest-api/endpoints/projects#create-one-or-more-environment-variables</MESSAGE>
      <SHA>7259a324c2b0c4be714e6fdfa7f96b16ce5b86fd</SHA>
      <PATCHEDFILES>
        <FILE>.changeset/healthy-ducks-try.md</FILE>
        <FILE>packages/cli/src/commands/env/add.ts</FILE>
        <FILE>packages/cli/src/commands/env/command.ts</FILE>
        <FILE>packages/cli/src/commands/env/index.ts</FILE>
        <FILE>packages/cli/src/util/env/add-env-record.ts</FILE>
        <FILE>packages/cli/src/util/env/get-env-records.ts</FILE>
        <FILE>packages/cli/src/util/env/known-error.ts</FILE>
        <FILE>packages/cli/src/util/env/remove-env-record.ts</FILE>
        <FILE>packages/cli/test/helpers/prepare.js</FILE>
        <FILE>packages/cli/test/integration-2.test.ts</FILE>
        <FILE>packages/cli/test/mocks/project.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[cli] optional override of existing environment variables (#11348) ## Why Closes #11130 ## Changelog Added `--force` argument to upsert existing environment variables (#11130) ## References - Vercel API `/v10/projects/{idOrName}/env` https://vercel.com/docs/rest-api/endpoints/projects#create-one-or-more-environment-variables</MESSAGE>
      <SHA>9b2cdd926831d18f8d0423159d1879266e79dc97</SHA>
      <PATCHEDFILES>
        <FILE>.changeset/healthy-ducks-try.md</FILE>
        <FILE>packages/cli/src/commands/env/add.ts</FILE>
        <FILE>packages/cli/src/commands/env/command.ts</FILE>
        <FILE>packages/cli/src/commands/env/index.ts</FILE>
        <FILE>packages/cli/src/util/env/add-env-record.ts</FILE>
        <FILE>packages/cli/src/util/env/get-env-records.ts</FILE>
        <FILE>packages/cli/src/util/env/known-error.ts</FILE>
        <FILE>packages/cli/src/util/env/remove-env-record.ts</FILE>
        <FILE>packages/cli/test/helpers/prepare.js</FILE>
        <FILE>packages/cli/test/integration-2.test.ts</FILE>
        <FILE>packages/cli/test/mocks/project.ts</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
