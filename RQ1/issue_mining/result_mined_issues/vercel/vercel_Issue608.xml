<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>608</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/608</ISSUEURL>
  <TITLE>Spawn multiple process of update-notifier when upgrade now-cli@6.2.3 using npm@5</TITLE>
  <DESCRIPTION>Hi!, I'm getting these process spawned automatically, it happends after running this command: npm install -g now@latest (6.2.3) The CPU started to raise and running ps -fA | grep now brings =&gt; 501 23637 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23643 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23646 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23656 1 0 5:07PM ?? 0:00.49 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23657 23656 0 5:07PM ?? 0:00.48 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23658 23657 0 5:07PM ?? 0:00.48 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23663 23658 0 5:07PM ?? 0:00.47 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23664 23663 0 5:07PM ?? 0:00.46 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23665 23664 0 5:07PM ?? 0:00.47 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23670 23665 0 5:07PM ?? 0:00.41 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23683 23670 0 5:07PM ?? 0:00.20 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} 501 23692 23683 0 5:07PM ?? 0:00.02 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {&quot;pkg&quot;:{&quot;name&quot;:&quot;now&quot;,&quot;version&quot;:&quot;6.2.3&quot;}} I get rid of those with this command: pkill -f now It keep spawning process periodically.</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>0</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now-next] Humanize message about `now-build` (#607) Some users read this message as a warning that required action (the captain caps lock WARNING didn't help). Users should never need to define a `now-build` script unless they grow out of running `next build`.</MESSAGE>
    <SHA>215f6367d6edcbd460bedd894af745dc47cfc3cd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-md] Fix `shouldServe()` logic (#608) * [now-md] Fix `shouldServe()` logic Since this builder is not a 1-1 mapping of the input -&gt; output names, the default `shouldServe()` function needs to be augmented such that the `.html` requestPath is &quot;considered like&quot; a `.md` file. * Remove &quot;ends with .html&quot; optimization It breaks index files, i.e. `GET /`</MESSAGE>
      <SHA>2e95dd53296648b27bd87dda9302dba3f4849886</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-md/index.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
