<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3761</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/3761</ISSUEURL>
  <TITLE>Now dev uses start script instead of build script</TITLE>
  <DESCRIPTION>Hey, I have recently stumbled upon an issue where now dev runs the start script defined inside package.json (which is &quot;react-scripts start&quot; from CRA) instead of the build script. This causes to start the default CRA development server which prevents the actual start of now dev. I'm not sure when this originally started happening (I'm pretty sure it's not more than 14 days), but I've observed similar behavior happening in all projects I've tried so far (including CRA and Next apps). It makes now dev unusable for me. ![Screenshot 2020-02-06 at 18 00 05](https://user-images.githubusercontent.com/52152407/73966629-af74d880-4916-11ea-9296-3df187f44345.jpeg) &lt;img width=&quot;464&quot; alt=&quot;Screenshot 2020-02-06 at 18 00 14&quot; src=&quot;https://user-images.githubusercontent.com/52152407/73966632-b0a60580-4916-11ea-842f-02fb59fce684.png&quot;&gt; ![Screenshot 2020-02-06 at 19 30 40](https://user-images.githubusercontent.com/52152407/73966904-31650180-4917-11ea-8583-2126b77e7563.png) I've already tried reinstalling the CLI but that unfortunately didn't seem to make any effect. I've also tried reverting to the last commit that I was sure it was working, but that didn't help either, supporting my conclusion that this isn't a project related issue. Is there any way I can make now dev command use the build script again? (Started on cli version 16.7.3, current version 17.0.1). I'd be thankful for any help. Thank you!</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[api] Add `hasDetectors` property (#3770)</MESSAGE>
    <SHA>b67f324e101752eda22bd1e1ed8f40635461b07d</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-cli] Fix port assignment for `now dev` (#3769) This fixes a regression from #3749 where the PORT env var was removed. This is necessary so frameworks like create-react-app and gatsby can proxy to `now dev`. Fixes #3761</MESSAGE>
      <SHA>e938b298e20fcf26b2f8505577f7c3b20e8a69a5</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/util/dev/server.ts</FILE>
        <FILE>packages/now-cli/test/dev/fixtures/04-create-react-app/.env</FILE>
        <FILE>packages/now-cli/test/dev/fixtures/04-create-react-app/.gitignore</FILE>
        <FILE>packages/now-cli/test/dev/integration.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
