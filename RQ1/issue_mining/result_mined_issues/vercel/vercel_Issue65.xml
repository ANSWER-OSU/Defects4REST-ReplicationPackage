<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>65</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/65</ISSUEURL>
  <TITLE>git based dependencies doesn't work</TITLE>
  <DESCRIPTION>Example deploy: https://code-flow-svuzhcsykp.now.sh/ The problem is that `image-to-ascii` contains a git based dependency, which `now` can't install, and throws an `UnhandledPromiseRejectionWarning` from a `404 (see logs in URL above). This is the dep tree: ``` ├─┬ image-to-ascii@3.0.3 │ ├─┬ asciify-pixel-matrix@1.0.4 │ │ └─┬ asciify-pixel@1.2.4 │ │ ├─┬ couleurs@6.0.3 │ │ │ ├─┬ ansy@1.0.4 │ │ │ │ ├── ansi-styles@2.1.0 (git://github.com/chalk/ansi-styles.git#5dadc5c6333127f95dc0dc09ada4fbde8bf66e69) ``` I tried to make `ansi-styles@2.1.0` a direct dependency of my project to allow the code to still run, but the failed install process doesn't allow my project to start, so I can't work around the issue. Essentially the 404 is a total blocker for using this `image-to-ascii` project (pending a PR to _it's_ repo!). For reference, since the source doesn't work on the deployment (not sure why), here's the `package.json` dependencies: ``` &quot;dependencies&quot;: { &quot;ansi-styles&quot;: &quot;^2.1.0&quot;, &quot;busboy&quot;: &quot;^0.2.13&quot;, &quot;express&quot;: &quot;^4.14.0&quot;, &quot;image-to-ascii&quot;: &quot;^3.0.3&quot;, &quot;multer&quot;: &quot;^1.2.0&quot; } ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>138</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now-cgi] add `HTTPS` and `SERVER_SOFTWARE` env vars</MESSAGE>
    <SHA>e276342a6f4e89d572e554eb12b37a411ae6dbce</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Test env vars (#65) * move 02-others to 10-others * add 02-env-vars for node-server * added 02-env-vars for now/node</MESSAGE>
      <SHA>0909aaf2b311f8a0a870673f5445771a1e095fc2</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-node-server/test/fixtures/02-env-vars/build-env/index.js</FILE>
        <FILE>packages/now-node-server/test/fixtures/02-env-vars/build-env/now-build.js</FILE>
        <FILE>packages/now-node-server/test/fixtures/02-env-vars/build-env/package.json</FILE>
        <FILE>packages/now-node-server/test/fixtures/02-env-vars/env/index.js</FILE>
        <FILE>packages/now-node-server/test/fixtures/02-env-vars/now.json</FILE>
        <FILE>packages/now-node-server/test/fixtures/10-others/apollo/index.js</FILE>
        <FILE>packages/now-node-server/test/fixtures/10-others/apollo/package.json</FILE>
        <FILE>packages/now-node-server/test/fixtures/10-others/apollo/yarn.lock</FILE>
        <FILE>packages/now-node-server/test/fixtures/10-others/now.json</FILE>
        <FILE>packages/now-node-server/test/test.js</FILE>
        <FILE>packages/now-node/test/fixtures/02-env-vars/build-env/index.js</FILE>
        <FILE>packages/now-node/test/fixtures/02-env-vars/build-env/now-build.js</FILE>
        <FILE>packages/now-node/test/fixtures/02-env-vars/build-env/package.json</FILE>
        <FILE>packages/now-node/test/fixtures/02-env-vars/env/index.js</FILE>
        <FILE>packages/now-node/test/fixtures/02-env-vars/now.json</FILE>
        <FILE>packages/now-node/test/test.js</FILE>
        <FILE>test/lib/deployment/now-deploy.js</FILE>
        <FILE>test/lib/deployment/test-deployment.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
