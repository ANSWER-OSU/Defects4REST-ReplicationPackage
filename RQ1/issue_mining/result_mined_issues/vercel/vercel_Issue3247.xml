<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>3247</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/3247</ISSUEURL>
  <TITLE>Saving Gatsby cache between builds</TITLE>
  <DESCRIPTION>I have a Gatsby site deployed with Now and I have noticed that it takes a long time to generate image thumbnails on every build. This could be improved by adding the `.cache` folder Gatsby generates to the cache that Now creates after each build. Is there a way to do this today? If not, are you planning on adding a way to do this manually or even automatically in the future?</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>2</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now-client] Add `.nowignore` test (#3264) This adds a test for https://github.com/zeit/now/pull/3186</MESSAGE>
    <SHA>7ecdfbb0439642234de0d32e9a17afe24589fd34</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-static-build] Cache `.cache` folder for gatsby deployments (#3260) Fix https://github.com/zeit/now/issues/3247. Adds `.cache` folder to the Now cache for Gatsby deployments. Also adds a generic optional `cachePattern` property to the frameworks array so we can optimize cache paths for other frameworks in the future.</MESSAGE>
      <SHA>7e20c585a1b0c99b3d084d984954670b78409fcc</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-static-build/.gitignore</FILE>
        <FILE>packages/now-static-build/src/frameworks.ts</FILE>
        <FILE>packages/now-static-build/src/index.ts</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/index.js</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/node_modules/file</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/package-lock.json</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/yarn.lock</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/.cache/file</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/package.json</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/yarn.lock</FILE>
        <FILE>packages/now-static-build/test/cache.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now-static-build] Cache `.cache` folder for gatsby deployments (#3260) Fix https://github.com/zeit/now/issues/3247. Adds `.cache` folder to the Now cache for Gatsby deployments. Also adds a generic optional `cachePattern` property to the frameworks array so we can optimize cache paths for other frameworks in the future.</MESSAGE>
      <SHA>77348ea71eb7e504a6c1f53015c0c36c43345f9e</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-static-build/.gitignore</FILE>
        <FILE>packages/now-static-build/src/frameworks.ts</FILE>
        <FILE>packages/now-static-build/src/index.ts</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/index.js</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/node_modules/file</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/package-lock.json</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/yarn.lock</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/.cache/file</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/package.json</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/yarn.lock</FILE>
        <FILE>packages/now-static-build/test/cache.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now-static-build] Cache `.cache` folder for gatsby deployments (#3260) Fix https://github.com/zeit/now/issues/3247. Adds `.cache` folder to the Now cache for Gatsby deployments. Also adds a generic optional `cachePattern` property to the frameworks array so we can optimize cache paths for other frameworks in the future.</MESSAGE>
      <SHA>5b386c119bdb1512400a66373ab49b95557ec15d</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-static-build/.gitignore</FILE>
        <FILE>packages/now-static-build/src/frameworks.ts</FILE>
        <FILE>packages/now-static-build/src/index.ts</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/index.js</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/node_modules/file</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/package-lock.json</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/default/yarn.lock</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/.cache/file</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/package.json</FILE>
        <FILE>packages/now-static-build/test/cache-fixtures/gatsby/yarn.lock</FILE>
        <FILE>packages/now-static-build/test/cache.test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
