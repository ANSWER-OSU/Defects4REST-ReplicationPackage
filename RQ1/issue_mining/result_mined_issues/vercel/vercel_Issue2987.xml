<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2987</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/2987</ISSUEURL>
  <TITLE>Cannot read property 'replace' of undefined</TITLE>
  <DESCRIPTION>![image](https://user-images.githubusercontent.com/6170607/64567443-872d8180-d358-11e9-9b98-7b25bcf408ee.png)</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[now-build-utils] Add function `runBundleInstall()` (#2986) * [now-build-utils] Add function `runBundleInstall` * Add additional flags * Set jobs to number of cpus * Format * Fix formatting * Add BUNDLE_APP_CONFIG</MESSAGE>
    <SHA>0d1c0e0f30a0f136d85641244330862e5640d710</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[now-cli] Render correct command for `now ls $path_alias_url` Previously, if you ran `now ls` with a URL for a path alias, then an error message `Cannot read property 'replace' of undefined` would occur. Now, a message is logged saying to instead run `now alias ls $url` which is the correct command to get path rules relevant to a path alias URL. &gt; Found matching path alias: rules.domain.com &gt; Please run `now alias ls rules.domain.com` instead Fixes #2987.</MESSAGE>
      <SHA>faf9254db7be6dc1eb97538c9a1ea000eadc8e56</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/list.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge canary into fix/gh-2987</MESSAGE>
      <SHA>9712eed3363b7c08c1a3939fc07d0513b98cf316</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-build-utils/package.json</FILE>
        <FILE>packages/now-cli/package.json</FILE>
        <FILE>packages/now-cli/src/commands/logs.js</FILE>
        <FILE>packages/now-cli/test/integration.js</FILE>
        <FILE>packages/now-next/package.json</FILE>
        <FILE>packages/now-node/package.json</FILE>
        <FILE>yarn.lock</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge canary into fix/gh-2987</MESSAGE>
      <SHA>972086f866a806fa2dac365f549c48c4138f337b</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-build-utils/src/fs/run-user-scripts.ts</FILE>
        <FILE>packages/now-static-build/src/frameworks.ts</FILE>
        <FILE>packages/now-static-build/src/index.ts</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/.gitignore</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/404.html</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/Gemfile</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/Gemfile.lock</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/_config.yml</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/_posts/2019-09-06-welcome-to-jekyll.markdown</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/about.md</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/index.md</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/now.json</FILE>
        <FILE>packages/now-static-build/test/fixtures/30-jekyll/package.json</FILE>
        <FILE>packages/now-static-build/test/test.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Merge canary into fix/gh-2987</MESSAGE>
      <SHA>0ec45800d9e047f941ec3432e6015b2a0326e836</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-build-utils/package.json</FILE>
        <FILE>packages/now-static-build/package.json</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now-cli] Render correct command for `now ls $path_alias_url` (#2988) Previously, if you ran `now ls` with a URL for a path alias, then an error message `Cannot read property 'replace' of undefined` would occur. Now, a message is logged saying to instead run `now alias ls $url` which is the correct command to get path rules relevant to a path alias URL. &gt; Found matching path alias: rules.domain.com &gt; Please run `now alias ls rules.domain.com` instead Fixes #2987.</MESSAGE>
      <SHA>f15deaa51e454a63f6e1301d007218ce4f9c187d</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/list.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>[now-cli] Render correct command for `now ls $path_alias_url` (#2988) Previously, if you ran `now ls` with a URL for a path alias, then an error message `Cannot read property 'replace' of undefined` would occur. Now, a message is logged saying to instead run `now alias ls $url` which is the correct command to get path rules relevant to a path alias URL. &gt; Found matching path alias: rules.domain.com &gt; Please run `now alias ls rules.domain.com` instead Fixes #2987.</MESSAGE>
      <SHA>14a1446fafb094a9093db60b51e2aba31028a2c8</SHA>
      <PATCHEDFILES>
        <FILE>packages/now-cli/src/commands/list.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
