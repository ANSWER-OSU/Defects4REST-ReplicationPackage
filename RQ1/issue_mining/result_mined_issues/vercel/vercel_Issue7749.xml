<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>7749</ISSUENO>
  <ISSUEURL>https://github.com/vercel/vercel/issues/7749</ISSUEURL>
  <TITLE>[Monorepo Detection] Add getWorkspacePackagePaths helper function</TITLE>
  <DESCRIPTION>```ts /** * Gets the list of workspace package paths based on the configuration * * @example * * my-repo * |-- packages * | |-- api-1 * | |-- api-2 * |-- package.json * |-- pnpm-workspaces.yaml // packages: [&quot;packages/*&quot;] * * const fs = new ... // based on 'my-repo' * const workspace = { ..., type: &quot;pnpm&quot; } * getWorkspacePackagePaths({ fs, workspace }) =&gt; [ * &quot;my-repo/packages/api-1&quot;, * &quot;my-repo/packages/api-2&quot; * ] */ function getWorkspacePackagePaths(fs: DetectorFilesystem, workspace: Workspace): string[] ```</DESCRIPTION>
  <REPONAME>vercel</REPONAME>
  <TIMEDIFFERENCEDAYS>34</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>[node] Add support for `EdgeFunction` output type (#7877) Adds support for `@vercel/node` to return an `EdgeFunction` output when it detects `runtime: 'experimental-edge'` from the static `config` object. This is implemented in `@vercel/node` so that it can share the same file extension (`.js`/`.ts`) as Node.js Serverless Functions without modifying the zero-config detection logic. **Example:** ```js export const config = { runtime: 'experimental-edge', }; export default req =&gt; { return new Response(`Hi, from an Edge Function!`); }; ```</MESSAGE>
    <SHA>3ac238cf0840faa0a2ea5714b8a1c3eeda357dfa</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>[build-utils] Add getWorkspacePackagePaths function (#7859) Gets the package paths from the workspace definition for a given git repository ```ts /** * Gets the list of workspace package paths based on the configuration * * @example * * my-repo * |-- packages * | |-- api-1 * | |-- api-2 * |-- package.json * |-- pnpm-workspaces.yaml // packages: [&quot;packages/*&quot;] * * const fs = new ... // based on 'my-repo' * const workspace = { ..., type: &quot;pnpm&quot; } * getWorkspacePackagePaths({ fs, workspace }) =&gt; [ * &quot;my-repo/packages/api-1&quot;, * &quot;my-repo/packages/api-2&quot; * ] */ function getWorkspacePackagePaths(fs: DetectorFilesystem, workspace: Workspace): string[] ``` ### Related Issues Closes https://github.com/vercel/vercel/issues/7749 ### Checklist &lt;!-- Please keep your PR as a Draft until the checklist is complete --&gt; #### Tests - [x] The code changed/added as part of this PR has been covered with tests - [x] All tests pass locally with `yarn test-unit` #### Code Review - [x] This PR has a concise title and thorough description useful to a reviewer - [x] Issue from task tracker has a link to this PR</MESSAGE>
      <SHA>c4a39c8d29a5ec537e84caa4845a073d59eafa95</SHA>
      <PATCHEDFILES>
        <FILE>packages/build-utils/package.json</FILE>
        <FILE>packages/build-utils/src/fs/get-glob-fs.ts</FILE>
        <FILE>packages/build-utils/src/index.ts</FILE>
        <FILE>packages/build-utils/src/workspaces/get-workspace-package-paths.ts</FILE>
        <FILE>packages/build-utils/src/workspaces/get-workspaces.ts</FILE>
        <FILE>packages/build-utils/test/fixtures/25-multiple-lock-files-yarn/a/package.json</FILE>
        <FILE>packages/build-utils/test/fixtures/25-multiple-lock-files-yarn/b/package.json</FILE>
        <FILE>packages/build-utils/test/fixtures/26-multiple-lock-files-pnpm/a/package.json</FILE>
        <FILE>packages/build-utils/test/fixtures/26-multiple-lock-files-pnpm/b/package.json</FILE>
        <FILE>packages/build-utils/test/fixtures/26-multiple-lock-files-pnpm/pnpm-lock.yaml</FILE>
        <FILE>packages/build-utils/test/unit.get-workspaces-package-paths.test.ts</FILE>
        <FILE>yarn.lock</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
