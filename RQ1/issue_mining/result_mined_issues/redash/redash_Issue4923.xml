<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>4923</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/4923</ISSUEURL>
  <TITLE>&quot;Fork Query&quot; is disabled outside of &quot;View Source&quot; mode</TITLE>
  <DESCRIPTION>&lt;!-- We use GitHub only for bug reports Anything else should be posted to https://discuss.redash.io For support, help &amp; questions use https://discuss.redash.io/c/support For feature requests &amp; ideas use https://discuss.redash.io/c/feature-requests **Found a security vulnerability?** Please email security@redash.io to report any security vulnerabilities. We will acknowledge receipt of your vulnerability and strive to send you regular updates about our progress. If you're curious about the status of your disclosure please feel free to email us again. If you want to encrypt your disclosure email, you can use this PGP key. --&gt; ### Issue Summary See screenshots. When viewing a query the fork link is disabled unless a user enters &quot;View Source&quot; mode. #### Disabled ![first](https://user-images.githubusercontent.com/17067911/83022832-ba509780-9ff1-11ea-8388-728b0506067f.png) #### Enabled ![second](https://user-images.githubusercontent.com/17067911/83022855-c3416900-9ff1-11ea-8bc9-dca38906c876.png) ### Steps to Reproduce 1. Visit any query 2. Click the `⋮` button to observe the fork option is disabled. 3. Click **Edit Source** 4. Click the `⋮` button to observe that the fork option is now enabled This is a regression from V8. ### Technical details: * Redash Version: v9 Alpha * Browser/OS: Safari / MacOS * How did you install Redash: SaaS / Preview Instance</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>1</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Athena: set query cost (#4077)</MESSAGE>
    <SHA>d1044c1963394f3136978feab277fca453da0644</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>getredash/redash#4923 Fork button disabled on View Query page for non-admin users</MESSAGE>
      <SHA>f80c0b7551053ac24d0d2cbeb0dfcc67a476ab26</SHA>
      <PATCHEDFILES>
        <FILE>client/app/pages/queries/QueryView.jsx</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
