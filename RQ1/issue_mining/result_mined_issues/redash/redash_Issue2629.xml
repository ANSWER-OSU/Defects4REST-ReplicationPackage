<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>2629</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/2629</ISSUEURL>
  <TITLE>Allow the user to decide how to handle null values in charts</TITLE>
  <DESCRIPTION>When preparing chart data, we convert `null` values to zeros: https://github.com/getredash/redash/blob/4384959760cad9ccd880c3e9004fd730ddeec035/client/app/services/query-result.js#L278-L280 This is not always what the user needs. The user should have the option to disable this behavior.</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>440</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>When we fork a query, make sure we create the new visualizations in the same order as per the source query (#4067)</MESSAGE>
    <SHA>d49514abe91417fa95269023149931ecc84414cd</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>getredash/redash#2629 Refactor Chart visualization, add option for handling NULL values (keep/convert to 0.0)</MESSAGE>
      <SHA>24bef64fbbb94e729b2ce1723f38ff23c766c9d1</SHA>
      <PATCHEDFILES>
        <FILE>client/app/lib/value-format.js</FILE>
        <FILE>client/app/visualizations/chart/chart-editor.html</FILE>
        <FILE>client/app/visualizations/chart/getChartData.js</FILE>
        <FILE>client/app/visualizations/chart/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/applyLayoutFixes.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareDefaultData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareHeatmapData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/preparePieData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/updateData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/utils.js</FILE>
        <FILE>client/app/visualizations/choropleth/utils.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Allow the user to decide how to handle null values in charts (#4071) * getredash/redash#2629 Refactor Chart visualization, add option for handling NULL values (keep/convert to 0.0) * Handle null values in line/area stacking code; some cleanup * Handle edge case: line/area stacking when last value of one of series is missing * Mjnor update to line/area stacking code * Fix line/area normalize to percents feature * Unit tests * Refine tests; add tests for prepareLayout function * Tests for prepareData (heatmap) function * Tests for prepareData (pie) function * Tests for prepareData (bar, line, area) function * Tests for prepareData (scatter, bubble) function * Tests for prepareData (box) function * Remove unused file</MESSAGE>
      <SHA>2c98f0425d58ec2d127cc55cf24e08e1e99e9f98</SHA>
      <PATCHEDFILES>
        <FILE>client/app/lib/value-format.js</FILE>
        <FILE>client/app/visualizations/chart/chart-editor.html</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-grouped.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-multiple-y.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-sorted.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/single-series.json</FILE>
        <FILE>client/app/visualizations/chart/getChartData.js</FILE>
        <FILE>client/app/visualizations/chart/getChartData.test.js</FILE>
        <FILE>client/app/visualizations/chart/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/applyLayoutFixes.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/with-points.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bubble/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted-reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/with-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/keep-missing-values.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/missing-values-0.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized-stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/custom-tooltip.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-x.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-stacking.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-without-legend.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-multiple-series.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-without-annotations.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareDefaultData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareHeatmapData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/preparePieData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/updateData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/utils.js</FILE>
        <FILE>client/app/visualizations/choropleth/utils.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Update v8 branch to v8-beta.2 (#4149) * Migrate Parameters component to React (#4006) * Start Parameters Migration * Add dirtyCount * Use workaround with setState * Apply Changes * Add EditSettingsDialog * Add Cmd/Ctrl + Enter behavior * Remove isApplying * Delete Angular version of parameters * Update tests * Remove angular stuff * Update jest * Drag placeholder * Update events * Use old button styling and move css * Reviewing code * Add parameter rearrange test * Add Parameter Settings title change test * Update Parameter Settings button styling * Move parameter url logic back to Parameters * Disable url update when query is new * Styling changes (#4019) * Ran's title width styling * Update drag test * Improve sizing for Number inputs Co-Authored-By: Ran Byron &lt;ranbena@gmail.com&gt; * Fix issue with dragged parameter wrapping Co-Authored-By: Ran Byron &lt;ranbena@gmail.com&gt; * Don't reevaluate dirtyParamCount * Allow multiple values :) * Fix parameter alignments * Fix Select width on search * Update client/app/components/Parameters.less Co-Authored-By: Ran Byron &lt;ranbena@gmail.com&gt; * Humanize param.name * Make sure angular updates Execute disabled status * Add more flake8 tests and fail build if any test fails (#4055) * Add more flake8 tests and fail build if any test fails Run all flake8 E9xx + F63x + F7xx + F82x tests. * long = long in Python 2 * Fix: MySQL connections without SSL are failing (#4090) * Move connection logic into a single method &amp; make sure not to pass ssl value if not used. * Remove wildcard import and format file. * Removed redash-newstyle.less (#4017) * Make sure we always pass a list to _get_column_lists (#4095) (some data sources might return None as the columns list) * [Data Sources] Add: Azure Data Explorer (Kusto) query runner (#4091) * [Data Sources] Add: Azure Data Explorer (Kusto) query runner * CodeClimate fixes * Remove TODO * Fixed configuration properties names for Azure Kusto * Azure Kusto: get_schema in one query * azure-kusto-data update to 0.0.32 * Add Kusto to the default query runners list * [Qubole] - Adding support to process Quantum query types. (#4066) * [Qubole] - Adding support to process Quantum query types. Quantum is a serverless interactive service that offers direct SQL access to user's data lake. Changes are made to accept `quantum` query type from user which makes `Cluster Label` as optional. * -Making quantum as defult query. -Dictionary safe access to connection parmeters * keeping pep8 standards * Maintainig pep8 std * Use latest version of qds-sdk * Use qds-sdk v1.13.0 * Use qds-sdk v1.12.0 * Use qds-sdk v1.13.0 * Updating SDK with verified version * hive as default query type * qds-sdk : Locking most recent release version * qds-sdk : Locking recent release version * falling back to original version of qds-sdk * Dashboard: when updating parameters, run only relevant queries (#3804) * refresh only affected queries in dashboard when parameters are changed * rename pendingParameters to updatedParameters * select which widgets to update according to their mapping as a dashboard-level parameter * use lodash's include * Migrate with SQL statements. (#4105) * Update badge in README.md to link to CircleCI (#4104) * Update README.md * Update README.md * Update README.md Co-Authored-By: Ran Byron &lt;ranbena@gmail.com&gt; * Update README.md * Fix widget bottom element alignment (#4110) * Fix: allow users with view only acces to use the queries in Query Results (#4112) * Fix: allow users with view only acces to access the queries * Add tests * Update error message * Update error message. Take 2 * Fix Dropdown parameter options appearing behind Dialog (#4109) * Add ability to use Ant's Table loading property when using ItemsTable (#4117) * Display data source icon in query editor (#4119) * Move annotation logic into Query Runner (#4113) * Code formatting * Move annotation logic into query runner, so it can be overriden in the query runner. * Add mixin to __all__ * Switch to flag instead of mixin * Feature (Redshift): option to set query group for adhoc/scheduled queries (#4114) * Add scheduled status to query job metadata. * Add: option to set query group for adhoc/scheduled Redshift queries * Scheduled might not be set for already enqueued queries. * Fix number param value normlization (#4116) * Use ng-src for data source icons (#4123) * hive_ds: show a user friendly error message when possible (#4121) * Update botocore, to get pass pip warning (#4122) * Widget table scroll-x visible (#4101) * Table viz horizontal scroll made visible * Added tests * Fixed snapshot pre-condition * Perhaps this would trigger percy * Upgrade Sentry-SDK and enable additional integratoins (#4127) * Update sentry-sdk version * Add additional Sentry integrations * Migrate Counter visualization to React (#4106) * Migrate Counter to React: Renderer * Migrate Counter to React: Editor * Cleanup * Review and fix rows indexing algorithm * Counter not properly scaled in editor * Fix wrong label for/input id pair * Tests * Tests * Fix vendor prefixes * Remove unnecessary useEffect dependencies * Update tests * Fix Percy snapshot names * Sync botocor eversions across requirements files. (#4128) * Decrease size of widget pagination (#4120) * Added tests * Perhaps this would trigger percy * Decrease size of widget pagination * Removed unused attr * Updated tests * Allow the user to decide how to handle null values in charts (#4071) * getredash/redash#2629 Refactor Chart visualization, add option for handling NULL values (keep/convert to 0.0) * Handle null values in line/area stacking code; some cleanup * Handle edge case: line/area stacking when last value of one of series is missing * Mjnor update to line/area stacking code * Fix line/area normalize to percents feature * Unit tests * Refine tests; add tests for prepareLayout function * Tests for prepareData (heatmap) function * Tests for prepareData (pie) function * Tests for prepareData (bar, line, area) function * Tests for prepareData (scatter, bubble) function * Tests for prepareData (box) function * Remove unused file * Alerts: Add more condition comparison options (#4134) * getredash/redash#4132 Add more condition comparison options * Add arguments to fallback lambda * Remove duplicate messages method (#4131) * Migrate Chart visualization to React Part 1: Renderer (#4130) * Migrate Chart visualization: Renderer * Refine PlotlyChart component; move stylesheets to visualization's folder * Migrate Custom JS Chart to React * Cleanup * Add jsconfig settings with '@' webpack alias (#4135) * Counter Editor: move components to own files (#4138) * Allow users to share aggregated usage information with us (#4108) * Initial commit of BeaconConsent component * Add comment about being able to change setting * Use &lt;Text&gt; correctly * Final version of consent screen * Show beacon consent message on homepage only if it wasn't enabled already. * Add consent setting to organization settings screen. * Add support for custom message in OrgSetting.save. * Implmenet consent saving. * If consent given, send extra data * Add HelpTrigger * Make CodeClimate happy * Wrap everything with DynamicComponent * CHANGELOG for V8-beta. (#4057) * CHANGELOG for V8-beta. * Update CHANGELOG.md * Update CHANGELOG.md * Update CHANGELOG.md * Bug fix: Query view doesn't sync parameters when selecting and deleting (#4146) * Query Snippets: Use onClick instead of link for 'Click here' option (#4144) * Snippets: Don't change url when not needed * Revert &quot;Snippets: Don't change url when not needed&quot; This reverts commit 2f346f3bb4aaf8cf6271a73eed9919ef6b600bd1. * Query Snippets: use onClick instead of link * Color picker component (#4136) * Widget filters overlapped by visualization (#4137) * Fix: widget filters overlapped by visualization * Fix tests * Fix tests * CHANGELOG for v8.0.0-beta.2 (#4145) * Stop building tarballs. * Update version reference. * CHANGELOG for 8.0.0-beta.2</MESSAGE>
      <SHA>7ac60585fafce8f311e4f2e1bfb5807bd9c5ebaf</SHA>
      <PATCHEDFILES>
        <FILE>.circleci/config.yml</FILE>
        <FILE>CHANGELOG.md</FILE>
        <FILE>README.md</FILE>
        <FILE>bin/flake8_tests.sh</FILE>
        <FILE>client/app/assets/images/db-logos/azure_kusto.png</FILE>
        <FILE>client/app/assets/less/ant.less</FILE>
        <FILE>client/app/assets/less/inc/alert.less</FILE>
        <FILE>client/app/assets/less/inc/base.less</FILE>
        <FILE>client/app/assets/less/inc/bootstrap-overrides.less</FILE>
        <FILE>client/app/assets/less/inc/button.less</FILE>
        <FILE>client/app/assets/less/inc/form.less</FILE>
        <FILE>client/app/assets/less/inc/generics.less</FILE>
        <FILE>client/app/assets/less/inc/label.less</FILE>
        <FILE>client/app/assets/less/inc/list-group.less</FILE>
        <FILE>client/app/assets/less/inc/navbar.less</FILE>
        <FILE>client/app/assets/less/inc/pagination.less</FILE>
        <FILE>client/app/assets/less/inc/popover.less</FILE>
        <FILE>client/app/assets/less/inc/tab.less</FILE>
        <FILE>client/app/assets/less/inc/table.less</FILE>
        <FILE>client/app/assets/less/inc/tile.less</FILE>
        <FILE>client/app/assets/less/inc/variables.less</FILE>
        <FILE>client/app/assets/less/inc/visualizations/counter-render.less</FILE>
        <FILE>client/app/assets/less/inc/visualizations/pivot-table.less</FILE>
        <FILE>client/app/assets/less/main.less</FILE>
        <FILE>client/app/assets/less/redash/loading-indicator.less</FILE>
        <FILE>client/app/assets/less/redash/query.less</FILE>
        <FILE>client/app/assets/less/redash/redash-newstyle.less</FILE>
        <FILE>client/app/assets/less/server.less</FILE>
        <FILE>client/app/components/BeaconConsent.jsx</FILE>
        <FILE>client/app/components/ColorBox.jsx</FILE>
        <FILE>client/app/components/ColorPicker/Input.jsx</FILE>
        <FILE>client/app/components/ColorPicker/Swatch.jsx</FILE>
        <FILE>client/app/components/ColorPicker/index.jsx</FILE>
        <FILE>client/app/components/ColorPicker/index.less</FILE>
        <FILE>client/app/components/ColorPicker/input.less</FILE>
        <FILE>client/app/components/ColorPicker/swatch.less</FILE>
        <FILE>client/app/components/EditParameterSettingsDialog.jsx</FILE>
        <FILE>client/app/components/HelpTrigger.jsx</FILE>
        <FILE>client/app/components/ParameterApplyButton.jsx</FILE>
        <FILE>client/app/components/ParameterMappingInput.jsx</FILE>
        <FILE>client/app/components/ParameterValueInput.jsx</FILE>
        <FILE>client/app/components/ParameterValueInput.less</FILE>
        <FILE>client/app/components/Parameters.jsx</FILE>
        <FILE>client/app/components/Parameters.less</FILE>
        <FILE>client/app/components/QueryBasedParameterInput.jsx</FILE>
        <FILE>client/app/components/cards-list/CardsList.jsx</FILE>
        <FILE>client/app/components/cards-list/CardsList.less</FILE>
        <FILE>client/app/components/color-box.less</FILE>
        <FILE>client/app/components/dashboards/widget-dialog.html</FILE>
        <FILE>client/app/components/dashboards/widget.html</FILE>
        <FILE>client/app/components/dashboards/widget.js</FILE>
        <FILE>client/app/components/dashboards/widget.less</FILE>
        <FILE>client/app/components/items-list/components/ItemsTable.jsx</FILE>
        <FILE>client/app/components/parameters.html</FILE>
        <FILE>client/app/components/parameters.js</FILE>
        <FILE>client/app/components/queries/visualization-embed.html</FILE>
        <FILE>client/app/lib/value-format.js</FILE>
        <FILE>client/app/pages/dashboards/dashboard.js</FILE>
        <FILE>client/app/pages/dashboards/dashboard.less</FILE>
        <FILE>client/app/pages/home/home.html</FILE>
        <FILE>client/app/pages/queries/query.html</FILE>
        <FILE>client/app/pages/queries/view.js</FILE>
        <FILE>client/app/pages/query-snippets/QuerySnippetsList.jsx</FILE>
        <FILE>client/app/pages/settings/OrganizationSettings.jsx</FILE>
        <FILE>client/app/services/organizationSettings.js</FILE>
        <FILE>client/app/services/query.js</FILE>
        <FILE>client/app/visualizations/EditVisualizationDialog.jsx</FILE>
        <FILE>client/app/visualizations/VisualizationRenderer.jsx</FILE>
        <FILE>client/app/visualizations/chart/Renderer/CustomPlotlyChart.jsx</FILE>
        <FILE>client/app/visualizations/chart/Renderer/PlotlyChart.jsx</FILE>
        <FILE>client/app/visualizations/chart/Renderer/index.jsx</FILE>
        <FILE>client/app/visualizations/chart/Renderer/renderer.less</FILE>
        <FILE>client/app/visualizations/chart/chart-editor.html</FILE>
        <FILE>client/app/visualizations/chart/chart.html</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-grouped.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-multiple-y.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-sorted.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/single-series.json</FILE>
        <FILE>client/app/visualizations/chart/getChartData.js</FILE>
        <FILE>client/app/visualizations/chart/getChartData.test.js</FILE>
        <FILE>client/app/visualizations/chart/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/applyLayoutFixes.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/customChartUtils.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/with-points.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bubble/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted-reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/with-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/keep-missing-values.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/missing-values-0.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized-stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/custom-tooltip.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-x.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-stacking.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-without-legend.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-multiple-series.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-without-annotations.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareDefaultData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareHeatmapData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/preparePieData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/updateData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/utils.js</FILE>
        <FILE>client/app/visualizations/choropleth/utils.js</FILE>
        <FILE>client/app/visualizations/counter/Editor/FormatSettings.jsx</FILE>
        <FILE>client/app/visualizations/counter/Editor/GeneralSettings.jsx</FILE>
        <FILE>client/app/visualizations/counter/Editor/index.jsx</FILE>
        <FILE>client/app/visualizations/counter/Renderer.jsx</FILE>
        <FILE>client/app/visualizations/counter/counter-editor.html</FILE>
        <FILE>client/app/visualizations/counter/counter.html</FILE>
        <FILE>client/app/visualizations/counter/index.js</FILE>
        <FILE>client/app/visualizations/counter/render.less</FILE>
        <FILE>client/app/visualizations/counter/utils.js</FILE>
        <FILE>client/app/visualizations/index.js</FILE>
        <FILE>client/app/visualizations/table/Renderer.jsx</FILE>
        <FILE>client/app/visualizations/table/renderer.less</FILE>
        <FILE>client/cypress/integration/dashboard/grid_compliant_widgets_spec.js</FILE>
        <FILE>client/cypress/integration/dashboard/widget_spec.js</FILE>
        <FILE>client/cypress/integration/query/parameter_spec.js</FILE>
        <FILE>client/cypress/integration/visualizations/counter_spec.js</FILE>
        <FILE>client/cypress/support/commands.js</FILE>
        <FILE>client/cypress/support/dashboard/index.js</FILE>
        <FILE>client/jsconfig.json</FILE>
        <FILE>migrations/versions/969126bd800f_.py</FILE>
        <FILE>package-lock.json</FILE>
        <FILE>package.json</FILE>
        <FILE>redash/__init__.py</FILE>
        <FILE>redash/authentication/saml_auth.py</FILE>
        <FILE>redash/handlers/authentication.py</FILE>
        <FILE>redash/models/__init__.py</FILE>
        <FILE>redash/models/parameterized_query.py</FILE>
        <FILE>redash/query_runner/__init__.py</FILE>
        <FILE>redash/query_runner/athena.py</FILE>
        <FILE>redash/query_runner/azure_kusto.py</FILE>
        <FILE>redash/query_runner/big_query.py</FILE>
        <FILE>redash/query_runner/couchbase.py</FILE>
        <FILE>redash/query_runner/dgraph.py</FILE>
        <FILE>redash/query_runner/drill.py</FILE>
        <FILE>redash/query_runner/dynamodb_sql.py</FILE>
        <FILE>redash/query_runner/elasticsearch.py</FILE>
        <FILE>redash/query_runner/google_analytics.py</FILE>
        <FILE>redash/query_runner/google_spreadsheets.py</FILE>
        <FILE>redash/query_runner/graphite.py</FILE>
        <FILE>redash/query_runner/hive_ds.py</FILE>
        <FILE>redash/query_runner/influx_db.py</FILE>
        <FILE>redash/query_runner/jql.py</FILE>
        <FILE>redash/query_runner/json_ds.py</FILE>
        <FILE>redash/query_runner/memsql_ds.py</FILE>
        <FILE>redash/query_runner/mongodb.py</FILE>
        <FILE>redash/query_runner/mssql.py</FILE>
        <FILE>redash/query_runner/mssql_odbc.py</FILE>
        <FILE>redash/query_runner/mysql.py</FILE>
        <FILE>redash/query_runner/pg.py</FILE>
        <FILE>redash/query_runner/prometheus.py</FILE>
        <FILE>redash/query_runner/python.py</FILE>
        <FILE>redash/query_runner/qubole.py</FILE>
        <FILE>redash/query_runner/query_results.py</FILE>
        <FILE>redash/query_runner/salesforce.py</FILE>
        <FILE>redash/query_runner/script.py</FILE>
        <FILE>redash/query_runner/treasuredata.py</FILE>
        <FILE>redash/query_runner/uptycs.py</FILE>
        <FILE>redash/query_runner/url.py</FILE>
        <FILE>redash/query_runner/yandex_metrica.py</FILE>
        <FILE>redash/serializers/query_result.py</FILE>
        <FILE>redash/settings/__init__.py</FILE>
        <FILE>redash/settings/organization.py</FILE>
        <FILE>redash/tasks/queries.py</FILE>
        <FILE>redash/utils/__init__.py</FILE>
        <FILE>redash/utils/compat.py</FILE>
        <FILE>redash/utils/sentry.py</FILE>
        <FILE>redash/version_check.py</FILE>
        <FILE>requirements.txt</FILE>
        <FILE>requirements_all_ds.txt</FILE>
        <FILE>requirements_dev.txt</FILE>
        <FILE>tests/query_runner/test_query_results.py</FILE>
        <FILE>tests/test_utils.py</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Allow the user to decide how to handle null values in charts (#4071) * getredash/redash#2629 Refactor Chart visualization, add option for handling NULL values (keep/convert to 0.0) * Handle null values in line/area stacking code; some cleanup * Handle edge case: line/area stacking when last value of one of series is missing * Mjnor update to line/area stacking code * Fix line/area normalize to percents feature * Unit tests * Refine tests; add tests for prepareLayout function * Tests for prepareData (heatmap) function * Tests for prepareData (pie) function * Tests for prepareData (bar, line, area) function * Tests for prepareData (scatter, bubble) function * Tests for prepareData (box) function * Remove unused file</MESSAGE>
      <SHA>d2d78e767665df4a684efd5c318b8e0aee4875fe</SHA>
      <PATCHEDFILES>
        <FILE>client/app/lib/value-format.js</FILE>
        <FILE>client/app/visualizations/chart/chart-editor.html</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-grouped.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-multiple-y.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-sorted.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/single-series.json</FILE>
        <FILE>client/app/visualizations/chart/getChartData.js</FILE>
        <FILE>client/app/visualizations/chart/getChartData.test.js</FILE>
        <FILE>client/app/visualizations/chart/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/applyLayoutFixes.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/with-points.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bubble/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted-reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/with-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/keep-missing-values.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/missing-values-0.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized-stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/custom-tooltip.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-x.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-stacking.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-without-legend.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-multiple-series.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-without-annotations.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareDefaultData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareHeatmapData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/preparePieData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/updateData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/utils.js</FILE>
        <FILE>client/app/visualizations/choropleth/utils.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Allow the user to decide how to handle null values in charts (#4071) * getredash/redash#2629 Refactor Chart visualization, add option for handling NULL values (keep/convert to 0.0) * Handle null values in line/area stacking code; some cleanup * Handle edge case: line/area stacking when last value of one of series is missing * Mjnor update to line/area stacking code * Fix line/area normalize to percents feature * Unit tests * Refine tests; add tests for prepareLayout function * Tests for prepareData (heatmap) function * Tests for prepareData (pie) function * Tests for prepareData (bar, line, area) function * Tests for prepareData (scatter, bubble) function * Tests for prepareData (box) function * Remove unused file</MESSAGE>
      <SHA>b13622ce178b71f17f931a5db8b03bee7bd1b341</SHA>
      <PATCHEDFILES>
        <FILE>client/app/lib/value-format.js</FILE>
        <FILE>client/app/visualizations/chart/chart-editor.html</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-grouped.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-multiple-y.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/multiple-series-sorted.json</FILE>
        <FILE>client/app/visualizations/chart/fixtures/getChartData/single-series.json</FILE>
        <FILE>client/app/visualizations/chart/getChartData.js</FILE>
        <FILE>client/app/visualizations/chart/getChartData.test.js</FILE>
        <FILE>client/app/visualizations/chart/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/applyLayoutFixes.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bar/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/box/with-points.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/bubble/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted-reversed.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/sorted.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/heatmap/with-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/keep-missing-values.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/missing-values-0.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized-stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/normalized.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/line-area/stacked.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/custom-tooltip.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/pie/without-x.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/default.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareData/scatter/without-labels.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/box-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-single-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-second-axis.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-with-stacking.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/default-without-legend.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-multiple-series.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie-without-annotations.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/fixtures/prepareLayout/pie.json</FILE>
        <FILE>client/app/visualizations/chart/plotly/index.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareData.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareDefaultData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareHeatmapData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/prepareLayout.test.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/preparePieData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/updateData.js</FILE>
        <FILE>client/app/visualizations/chart/plotly/utils.js</FILE>
        <FILE>client/app/visualizations/choropleth/utils.js</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
