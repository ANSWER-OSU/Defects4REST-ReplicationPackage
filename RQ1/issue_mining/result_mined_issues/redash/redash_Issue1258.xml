<?xml version="1.0" ?>
<ISSUE>
  <ISSUENO>1258</ISSUENO>
  <ISSUEURL>https://github.com/getredash/redash/issues/1258</ISSUEURL>
  <TITLE>Issues when upgrading to Python 2.7.12 as per 16.04.1 LTS (Xenial Xerus)</TITLE>
  <DESCRIPTION>### Issue Summary After installing latest release to Debian I've found issues with the following libraries - requests (error was AttributeError: 'module' object has no attribute 'PROTOCOL_SSLv3') - kombu (ImportError: cannot import name _uuid_generate_random ) Solution was to run: - sudo pip install -U requests - sudo pip install -U kombu Please note that running an upgrade based on fab fails as requirements.txt are pointing to old library versions. reDash version is: redash.0.11.1.b2095 ### Steps to Reproduce Upgrade debian box to latest version ### Technical details: - Redash Version: redash.0.11.1.b2095 - OS: 16.04.1 LTS (Xenial Xerus) - How did you install Redash: Amzn AMI upgraded to latest Debian and reDash updated via fab.py</DESCRIPTION>
  <REPONAME>redash</REPONAME>
  <TIMEDIFFERENCEDAYS>43</TIMEDIFFERENCEDAYS>
  <BUGGYCOMMIT>
    <MESSAGE>Fix: Redis memory leak. We were appending new QueryTaskTracker ids to query_task_trackers sorted set but we were never removing them... Also removed the migration to create index on org_id as it created by default by Peewee for foreign keys.</MESSAGE>
    <SHA>4d47583a94d54b4b7ca7bf3e0cf218e4c672cef5</SHA>
  </BUGGYCOMMIT>
  <PATCHCOMMITS>
    <COMMIT>
      <MESSAGE>Change: upgrade Requests to latest version. Closes #643. Related #1258.</MESSAGE>
      <SHA>7cc22c71a1bf98f8cb471af4f2d940640db4362c</SHA>
      <PATCHEDFILES>
        <FILE>requirements.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Celery: Upgrade Celery to more recent version. This might help with worker stopping to take new tasks after some time. Closes #1258.</MESSAGE>
      <SHA>2565af604e883851fd12b4a2d32697d87b7395c2</SHA>
      <PATCHEDFILES>
        <FILE>requirements.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Change: upgrade Requests to latest version. Closes #643. Related #1258.</MESSAGE>
      <SHA>3a4754303d190b9de8341dcf66db23869046d32c</SHA>
      <PATCHEDFILES>
        <FILE>requirements.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
    <COMMIT>
      <MESSAGE>Celery: Upgrade Celery to more recent version. This might help with worker stopping to take new tasks after some time. Closes #1258.</MESSAGE>
      <SHA>6775f01684fcbb5cc0685fe0bf9e740b11730d67</SHA>
      <PATCHEDFILES>
        <FILE>requirements.txt</FILE>
      </PATCHEDFILES>
    </COMMIT>
  </PATCHCOMMITS>
</ISSUE>
