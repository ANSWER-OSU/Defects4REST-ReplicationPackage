issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence,combined_text
165,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/165,Error when executing requests with basic auth under non-admin,"After creating a user with ROLE_OWNER_ADMIN and trying to make requests using Basic Authentication, I get a 401 Unauthorized response. The following error appears in the logs:  java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id ""null"" at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:289) at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:237) at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$LazyPasswordEncoder.matches(AuthenticationConfiguration.java:321) at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147) at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) at io.micrometer.observation.Observation.observe(Observation.java:565) at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)",source-file | source-file,executing requests basic auth non admin creating user role owner admin trying make requests basic authentication get unauthorized response following appears logs lang illegalargumentexception passwordencoder mapped null springframework security crypto password delegatingpasswordencoder unmappedidpasswordencoder matches delegatingpasswordencoder springframework security crypto password delegatingpasswordencoder matches delegatingpasswordencoder springframework security config annotation authentication configuration authenticationconfiguration lazypasswordencoder matches authenticationconfiguration springframework security authentication dao daoauthenticationprovider additionalauthenticationchecks daoauthenticationprovider springframework security authentication dao abstractuserdetailsauthenticationprovider authenticate abstractuserdetailsauthenticationprovider springframework security authentication providermanager authenticate providermanager springframework security authentication providermanager authenticate providermanager springframework security authentication observationauthenticationmanager lambda authenticate observationauthenticationmanager micrometer observation observation observe observation springframework security authentication observationauthenticationmanager authenticate observationauthenticationmanager springframework security web authentication www basicauthenticationfilter dofilterinternal basicauthenticationfilter springframework web filter onceperrequestfilter dofilter onceperrequestfilter springframework security web observationfilterchaindecorator observationfilter wrapfilter observationfilterchaindecorator,bug,0.9,"Error when executing requests with basic auth under non-admin After creating a user with ROLE_OWNER_ADMIN and trying to make requests using Basic Authentication, I get a 401 Unauthorized response. The following error appears in the logs:  java.lang.IllegalArgumentException: There is no PasswordEncoder mapped for the id ""null"" at org.springframework.security.crypto.password.DelegatingPasswordEncoder$UnmappedIdPasswordEncoder.matches(DelegatingPasswordEncoder.java:289) at org.springframework.security.crypto.password.DelegatingPasswordEncoder.matches(DelegatingPasswordEncoder.java:237) at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$LazyPasswordEncoder.matches(AuthenticationConfiguration.java:321) at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:86) at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147) at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) at io.micrometer.observation.Observation.observe(Observation.java:565) at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)"
61,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/61,petDto not working propely,"petDto is creating the following body { ""birthDate"": ""Mon Sep 06 21:00:00 UTC 2010"", ""name"": ""Leo"", ""type"": { ""name"": ""cat"" }, ""typeId"": 1 } with this the push operation is refused and the following message is returned ( that is after changing the date to the yyyy-MM-dd format ) cache-control: no-cacheno-storemax-age=0must-revalidate connection: close content-length: 0 date: Sat20 Nov 2021 06:08:20 GMT errors: [{""objectName"":""petDto"",""fieldName"":""id"",""fieldValue"":""null"",""errorMessage"":""not null""},{""objectName"":""petDto"",""fieldName"":""type.id"",""fieldValue"":""null"",""errorMessage"":""not null""}] expires: 0 pragma: no-cache vary: OriginAccess-Control-Request-MethodAccess-Control-Request-Headers x-content-type-options: nosniff x-frame-options: DENY x-xss-protection: 1; mode=block",documentation-file | documentation-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file,petdto working propely petdto creating following body birthdate sep utc name leo type name cat typeid push operation refused following message returned changing date yyyy format cache control cacheno storemax age must revalidate connection close content length date nov gmt errors objectname petdto fieldname fieldvalue null errormessage null objectname petdto fieldname type fieldvalue null errormessage null expires pragma cache vary originaccess control methodaccess control headers content type options nosniff frame options deny xss protection mode block,bug,0.9,"petDto not working propely petDto is creating the following body { ""birthDate"": ""Mon Sep 06 21:00:00 UTC 2010"", ""name"": ""Leo"", ""type"": { ""name"": ""cat"" }, ""typeId"": 1 } with this the push operation is refused and the following message is returned ( that is after changing the date to the yyyy-MM-dd format ) cache-control: no-cacheno-storemax-age=0must-revalidate connection: close content-length: 0 date: Sat20 Nov 2021 06:08:20 GMT errors: [{""objectName"":""petDto"",""fieldName"":""id"",""fieldValue"":""null"",""errorMessage"":""not null""},{""objectName"":""petDto"",""fieldName"":""type.id"",""fieldValue"":""null"",""errorMessage"":""not null""}] expires: 0 pragma: no-cache vary: OriginAccess-Control-Request-MethodAccess-Control-Request-Headers x-content-type-options: nosniff x-frame-options: DENY x-xss-protection: 1; mode=block"
9,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/9,Request body of POST /pets,"I am using spring-petclinic-rest as an example of a REST API. As a part of that, I am attempting to perform a POST request against /pets in order to create a new Pet record. It however seems that the 'id' field is required, with the associated behaviour that - I can replace the contents of an existing pet via a POST to /pets (which does return a 201 instead of a 200) - if I want to create an entirely new Pet record, I need to know which values for 'id' are not in use, rather than leave 'id' out and have an available value be assigned to it",other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,body post pets spring petclinic rest example rest api part attempting perform post pets order create new pet record however seems field required associated behaviour replace contents existing pet via post pets return instead want create entirely new pet record need know values use rather leave available value assigned,bug,0.9,"Request body of POST /pets I am using spring-petclinic-rest as an example of a REST API. As a part of that, I am attempting to perform a POST request against /pets in order to create a new Pet record. It however seems that the 'id' field is required, with the associated behaviour that - I can replace the contents of an existing pet via a POST to /pets (which does return a 201 instead of a 200) - if I want to create an entirely new Pet record, I need to know which values for 'id' are not in use, rather than leave 'id' out and have an available value be assigned to it"
17,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/17,self-href urls are not proper in rest api,"I was trying to run spring-petclinic-rest in my local. I was able to run and build properly. But when I hit the URL http://localhost:9966/petclinic/ This shows me below response ` { ""_links"" : { ""petTypes"" : { ""href"" : ""http://localhost:9966/petclinic/petTypes"" }, ""vets"" : { ""href"" : ""http://localhost:9966/petclinic/vets"" }, ""users"" : { ""href"" : ""http://localhost:9966/petclinic/users"" }, ""visits"" : { ""href"" : ""http://localhost:9966/petclinic/visits"" }, ""pets"" : { ""href"" : ""http://localhost:9966/petclinic/pets"" }, ""specialties"" : { ""href"" : ""http://localhost:9966/petclinic/specialties"" }, ""owners"" : { ""href"" : ""http://localhost:9966/petclinic/owners"" }, ""profile"" : { ""href"" : ""http://localhost:9966/petclinic/profile"" } } } ` Upon clicking vets link from above, I got below response - ` { ""firstName"" : ""Helena"", ""lastName"" : ""Leary"", ""_links"" : { ""self"" : { ""href"" : ""http://localhost:9966/petclinic/vets/1"" }, ""vet"" : { ""href"" : ""http://localhost:9966/petclinic/vets/1"" }, ""specialties"" : { ""href"" : ""http://localhost:9966/petclinic/vets/1/specialties"" } } } ` But when I click on the self href url- it end up in being GET method not supported exception. Actual URL for getting vets by id is http://localhost:9966/petclinic/api/vets/1 In code I could not find where it is configured or from where these links are coming. Can someone suggest how to add api in self href urls.",config-file | source-file,self href urls proper rest api trying spring petclinic rest local able properly hit url http localhost petclinic shows response links pettypes href http localhost petclinic pettypes vets href http localhost petclinic vets users href http localhost petclinic users visits href http localhost petclinic visits pets href http localhost petclinic pets specialties href http localhost petclinic specialties owners href http localhost petclinic owners profile href http localhost petclinic profile upon clicking vets link got response firstname helena lastname leary links self href http localhost petclinic vets vet href http localhost petclinic vets specialties href http localhost petclinic vets specialties click self href url end get method supported exception actual url getting vets http localhost petclinic api vets could find configured links coming someone suggest api self href urls,bug,0.9,"self-href urls are not proper in rest api I was trying to run spring-petclinic-rest in my local. I was able to run and build properly. But when I hit the URL http://localhost:9966/petclinic/ This shows me below response ` { ""_links"" : { ""petTypes"" : { ""href"" : ""http://localhost:9966/petclinic/petTypes"" }, ""vets"" : { ""href"" : ""http://localhost:9966/petclinic/vets"" }, ""users"" : { ""href"" : ""http://localhost:9966/petclinic/users"" }, ""visits"" : { ""href"" : ""http://localhost:9966/petclinic/visits"" }, ""pets"" : { ""href"" : ""http://localhost:9966/petclinic/pets"" }, ""specialties"" : { ""href"" : ""http://localhost:9966/petclinic/specialties"" }, ""owners"" : { ""href"" : ""http://localhost:9966/petclinic/owners"" }, ""profile"" : { ""href"" : ""http://localhost:9966/petclinic/profile"" } } } ` Upon clicking vets link from above, I got below response - ` { ""firstName"" : ""Helena"", ""lastName"" : ""Leary"", ""_links"" : { ""self"" : { ""href"" : ""http://localhost:9966/petclinic/vets/1"" }, ""vet"" : { ""href"" : ""http://localhost:9966/petclinic/vets/1"" }, ""specialties"" : { ""href"" : ""http://localhost:9966/petclinic/vets/1/specialties"" } } } ` But when I click on the self href url- it end up in being GET method not supported exception. Actual URL for getting vets by id is http://localhost:9966/petclinic/api/vets/1 In code I could not find where it is configured or from where these links are coming. Can someone suggest how to add api in self href urls."
86,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/86,Create pet endpoint,"According to the open API spec, there is the following endpoint to create a pet: `http://localhost:9966/petclinic/api/pets`, however I am getting a `501` error whenever I send a POST request to that URL, indicating that it is not implemented. Is this the case?",documentation-file | source-file | test-file,create pet endpoint according open api spec following endpoint create pet http localhost petclinic api pets however getting whenever send post url indicating implemented case,bug,0.9,"Create pet endpoint According to the open API spec, there is the following endpoint to create a pet: `http://localhost:9966/petclinic/api/pets`, however I am getting a `501` error whenever I send a POST request to that URL, indicating that it is not implemented. Is this the case?"
220,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/220,PUT /api/owners/{ownerId}/pets/{petId} Endpoint Not Implemented,"The `PUT /api/owners/{ownerId}/pets/{petId}` endpoint is defined in the OpenAPI spec, but has not been implemented in the application's controller layer. When sending a request to this endpoint, the API returns: `HTTP 501 Not Implemented` ![Image](https://github.com/user-attachments/assets/14aa9e59-d67d-4291-86ff-7e48f4ebfcef) - The OpenAPI spec defines a `PUT method` for `/api/owners/{ownerId}/pets/{petId}`. - However, I checked both files ([`OwnerRestController.java`](../blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/OwnerRestController.java) and [`PetRestController.java`](../blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/PetRestController.java) to make sure if either of them has the corresponding method, but it does not contain a method to handle this route. - Impact that i see: - It is currently not possible to validate a owner's pet data updates via the REST API. - The documentation is out of sync with the actual implementation, which may confuse API consumers. - With this issue, the development of a second API test scenario with the recently implemented Newman in #219 is unfeasible. ## What we can do? - Implement the PUT method in the corresponding controller to handle pet updates. - Ensuring input validation matches constraints defined in the OpenAPI spec - Returns `204 No content` or `200 OK` with the updated pet object _(The latter [200], would facilitate assertion in Postman + Newman test scenarios.)_ - Add appropriate unit and/or integration tests",source-file | test-file | source-file | test-file | source-file | test-file,put api owners ownerid pets petid endpoint implemented put api owners ownerid pets petid endpoint defined openapi spec implemented application controller layer sending endpoint api returns http implemented image https github user attachments assets ebfcef openapi spec defines put method api owners ownerid pets petid however checked files ownerrestcontroller blob springframework samples petclinic rest controller ownerrestcontroller petrestcontroller blob springframework samples petclinic rest controller petrestcontroller make sure either corresponding method contain method handle route impact see currently possible validate owner pet data updates via rest api documentation sync actual implementation may confuse api consumers development second api scenario recently implemented newman unfeasible implement put method corresponding controller handle pet updates ensuring input validation matches constraints defined openapi spec returns content updated pet object latter would facilitate assertion postman newman scenarios appropriate unit integration tests,bug,0.95,"PUT /api/owners/{ownerId}/pets/{petId} Endpoint Not Implemented The `PUT /api/owners/{ownerId}/pets/{petId}` endpoint is defined in the OpenAPI spec, but has not been implemented in the application's controller layer. When sending a request to this endpoint, the API returns: `HTTP 501 Not Implemented` ![Image](https://github.com/user-attachments/assets/14aa9e59-d67d-4291-86ff-7e48f4ebfcef) - The OpenAPI spec defines a `PUT method` for `/api/owners/{ownerId}/pets/{petId}`. - However, I checked both files ([`OwnerRestController.java`](../blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/OwnerRestController.java) and [`PetRestController.java`](../blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/PetRestController.java) to make sure if either of them has the corresponding method, but it does not contain a method to handle this route. - Impact that i see: - It is currently not possible to validate a owner's pet data updates via the REST API. - The documentation is out of sync with the actual implementation, which may confuse API consumers. - With this issue, the development of a second API test scenario with the recently implemented Newman in #219 is unfeasible. ## What we can do? - Implement the PUT method in the corresponding controller to handle pet updates. - Ensuring input validation matches constraints defined in the OpenAPI spec - Returns `204 No content` or `200 OK` with the updated pet object _(The latter [200], would facilitate assertion in Postman + Newman test scenarios.)_ - Add appropriate unit and/or integration tests"
102,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/102,Location header on specialties endpoint is wrong,https://github.com/spring-petclinic/spring-petclinic-rest/blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/SpecialtyRestController.java#L80 describes the /specialties endpoint as /specialtys on the location header,source-file | data-file | source-file | data-file,location header specialties endpoint wrong https github spring petclinic spring petclinic rest blob springframework samples petclinic rest controller specialtyrestcontroller describes specialties endpoint specialtys location header,bug,0.9,Location header on specialties endpoint is wrong https://github.com/spring-petclinic/spring-petclinic-rest/blob/master/src/main/java/org/springframework/samples/petclinic/rest/controller/SpecialtyRestController.java#L80 describes the /specialties endpoint as /specialtys on the location header
145,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/145,Bad Request Error while trying to get pet for a specific owner,"The `GET/api/owners/{id}/pets/{petId}` endpoint seems to be returning an incorrect response or handling errors improperly. This issue was encountered while attempting to retrieve specific pet for a given owner. cURL: bash curl -X 'GET' \ 'http://localhost:9966/petclinic/api/owners/1/pets/1' \ -H 'accept: application/json'  Response on Swagger-ui: `Error: response status is 400` I tried to debug code and found out that it comes from `OwnerRestController` : java @RestController @RequestMapping(""/api"") public class OwnerRestController implements OwnersApi { //  @PreAuthorize(""hasRole(@roles.OWNER_ADMIN)"") @Override public ResponseEntity<PetDto> getOwnersPet(Integer ownerId, Integer petId) { Owner owner = this.clinicService.findOwnerById(ownerId); Pet pet = this.clinicService.findPetById(petId); if (owner == null || pet == null) { return new ResponseEntity<>(HttpStatus.NOT_FOUND); } else { if (!pet.getOwner().equals(owner)) { return new ResponseEntity<>(HttpStatus.BAD_REQUEST); } else { return new ResponseEntity<>(petMapper.toPetDto(pet), HttpStatus.OK); } } } }  The problem is here : `if (!pet.getOwner().equals(owner)) {}`: the `equals()` check returns `false`. Ive checked the entity Owner class and found out that it doesn't have `equals` and `hashcode()` (same for Pet entity class), which is not recommended !",source-file | test-file | source-file | test-file | data-file | source-file | source-file | source-file | source-file | data-file | test-file,bad trying get pet specific owner get api owners pets petid endpoint seems returning incorrect response handling errors improperly encountered attempting retrieve specific pet given owner curl bash curl get http localhost petclinic api owners pets accept application json response swagger response status tried found comes ownerrestcontroller restcontroller requestmapping api public class ownerrestcontroller implements ownersapi preauthorize hasrole roles owner admin override public responseentity petdto getownerspet integer ownerid integer petid owner owner clinicservice findownerbyid ownerid pet pet clinicservice findpetbyid petid owner null pet null return new responseentity httpstatus found else pet getowner equals owner return new responseentity httpstatus bad else return new responseentity petmapper topetdto pet httpstatus pet getowner equals owner equals check returns false ive checked entity owner class found equals hashcode pet entity class recommended,bug,0.95,"Bad Request Error while trying to get pet for a specific owner The `GET/api/owners/{id}/pets/{petId}` endpoint seems to be returning an incorrect response or handling errors improperly. This issue was encountered while attempting to retrieve specific pet for a given owner. cURL: bash curl -X 'GET' \ 'http://localhost:9966/petclinic/api/owners/1/pets/1' \ -H 'accept: application/json'  Response on Swagger-ui: `Error: response status is 400` I tried to debug code and found out that it comes from `OwnerRestController` : java @RestController @RequestMapping(""/api"") public class OwnerRestController implements OwnersApi { //  @PreAuthorize(""hasRole(@roles.OWNER_ADMIN)"") @Override public ResponseEntity<PetDto> getOwnersPet(Integer ownerId, Integer petId) { Owner owner = this.clinicService.findOwnerById(ownerId); Pet pet = this.clinicService.findPetById(petId); if (owner == null || pet == null) { return new ResponseEntity<>(HttpStatus.NOT_FOUND); } else { if (!pet.getOwner().equals(owner)) { return new ResponseEntity<>(HttpStatus.BAD_REQUEST); } else { return new ResponseEntity<>(petMapper.toPetDto(pet), HttpStatus.OK); } } } }  The problem is here : `if (!pet.getOwner().equals(owner)) {}`: the `equals()` check returns `false`. Ive checked the entity Owner class and found out that it doesn't have `equals` and `hashcode()` (same for Pet entity class), which is not recommended !"
130,spring-petclinic-rest,https://github.com/spring-petclinic/spring-petclinic-rest/issues/130,Handle 404 error while adding a pet to an owner,"The `POST /owners/{ownerId}/pets` does not return a 404 error when the `ownerId` does not exist but an error `400`  { ""className"": ""org.springframework.dao.DataIntegrityViolationException"", ""exMessage"": ""could not execute statement [integrity constraint violation: foreign key no parent ; FK_PETS_OWNERS table: PETS value: 222] [insert into pets (birth_date,name,owner_id,type_id,id) values (?,?,?,?,default)]; SQL [insert into pets (birth_date,name,owner_id,type_id,id) values (?,?,?,?,default)]; constraint [FK_PETS_OWNERS]"" }  Same behaviour when a Pet does not exist",source-file,handle adding pet owner post owners ownerid pets return ownerid exist classname springframework dao dataintegrityviolationexception exmessage could execute statement integrity constraint violation foreign key parent pets owners table pets value insert pets birth date name owner type values default sql insert pets birth date name owner type values default constraint pets owners behaviour pet exist,bug,0.95,"Handle 404 error while adding a pet to an owner The `POST /owners/{ownerId}/pets` does not return a 404 error when the `ownerId` does not exist but an error `400`  { ""className"": ""org.springframework.dao.DataIntegrityViolationException"", ""exMessage"": ""could not execute statement [integrity constraint violation: foreign key no parent ; FK_PETS_OWNERS table: PETS value: 222] [insert into pets (birth_date,name,owner_id,type_id,id) values (?,?,?,?,default)]; SQL [insert into pets (birth_date,name,owner_id,type_id,id) values (?,?,?,?,default)]; constraint [FK_PETS_OWNERS]"" }  Same behaviour when a Pet does not exist"
