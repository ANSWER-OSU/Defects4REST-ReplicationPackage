issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence,combined_text
23201,strapi,https://github.com/strapi/strapi/issues/23201,Users-Permission Admin error when updating a user,"Node Version v20.18.2  NPM/Yarn/PNPM Version Yarn 1.22.22  Strapi Version 5.11.3  Operating System Linux (Debian/Ubuntu)  Database SQLite  Javascript or Typescript Javascript  Reproduction URL _No response_  Bug Description When updating a user in the admin panel (username, password, ect) and you save an error is shown in the admin console but the data is still updated. Looks like the admin is trying to refetch the data using the Document ID rather than the integer ID  Steps to Reproduce 1. Create an app 2. Create a user for users-permissions 3. Try to update the user's username and save 4. See Error in Admin 5. Check API response and see that the data was properly updated  Expected Behavior Should not throw an error (more specifically it shouldn't be doing any kind of documentID valication on users-permissions since it doesn't use the document Service  Logs shell   Code Snippets _No response_  Media Reproduction video https://www.loom.com/share/df1e50020c394fffa98d17a4dd0474bf?sid=20d6b168-d721-4eab-8f53-7eb4bee58f5f  Additional information _No response_  Confirmation Checklist - [x] I have checked the existing [issues](https://github.com/strapi/strapi/issues) for duplicates. - [x] I agree to follow this project's [Code of Conduct](https://github.com/strapi/strapi/blob/develop/CODE_OF_CONDUCT.md).",source-file | source-file,users permission admin updating user node npm yarn pnpm yarn operating system linux debian ubuntu database sqlite javascript typescript javascript reproduction url response bug description updating user admin panel username password ect save shown admin console data still updated looks like admin trying refetch data document rather integer steps reproduce create app create user users permissions user username save see admin check api response see data properly updated expected behavior throw specifically kind documentid valication users permissions since use document service logs shell snippets response media reproduction video https www loom share fffa sid eab bee additional information response confirmation checklist checked existing issues https github issues duplicates agree follow project conduct https github blob develop conduct,bug,0.9,"Users-Permission Admin error when updating a user Node Version v20.18.2  NPM/Yarn/PNPM Version Yarn 1.22.22  Strapi Version 5.11.3  Operating System Linux (Debian/Ubuntu)  Database SQLite  Javascript or Typescript Javascript  Reproduction URL _No response_  Bug Description When updating a user in the admin panel (username, password, ect) and you save an error is shown in the admin console but the data is still updated. Looks like the admin is trying to refetch the data using the Document ID rather than the integer ID  Steps to Reproduce 1. Create an app 2. Create a user for users-permissions 3. Try to update the user's username and save 4. See Error in Admin 5. Check API response and see that the data was properly updated  Expected Behavior Should not throw an error (more specifically it shouldn't be doing any kind of documentID valication on users-permissions since it doesn't use the document Service  Logs shell   Code Snippets _No response_  Media Reproduction video https://www.loom.com/share/df1e50020c394fffa98d17a4dd0474bf?sid=20d6b168-d721-4eab-8f53-7eb4bee58f5f  Additional information _No response_  Confirmation Checklist - [x] I have checked the existing [issues](https://github.com/strapi/strapi/issues) for duplicates. - [x] I agree to follow this project's [Code of Conduct](https://github.com/strapi/strapi/blob/develop/CODE_OF_CONDUCT.md)."
21450,strapi,https://github.com/strapi/strapi/issues/21450,"[BUG] Forgot Password respond with ""ok"" for non-existent users or blocked users","<!-- Hello Thank you for submitting an issue. Before you start, please make sure your issue is understandable and reproducible. To make your issue readable make sure you use valid Markdown syntax. https://guides.github.com/features/mastering-markdown/ Please ensure you have also read and understand the contributing guide. https://github.com/strapi/strapi/blob/main/CONTRIBUTING.md#reporting-an-issue --> ## Bug report  Required System information - Node.js version: v20.0.0 - NPM version:10.2.4 - Strapi version:5.0.0 - Database: - Operating system:MacOs 14.5 - Is your project Javascript or Typescript: <!-- Did you know you can run `yarn strapi report` or `npm run strapi report` to get this information easier? -->  Describe the bug Forgot password always returns ok even for blocked or non-existent users, causing unintended behavior  Expected behavior A clear and concise description of what you expected to happen.  Screenshots <img width=""721"" alt=""image"" src=""https://github.com/user-attachments/assets/a97158bc-9527-4d5c-9b15-60ba943bfd38"">",source-file | source-file | source-file,bug forgot password respond non existent users blocked users hello thank submitting start please make sure understandable reproducible make readable make sure use valid markdown syntax https guides github features mastering markdown please ensure also read understand contributing guide https github blob contributing reporting bug report required system information node npm database operating system macos project javascript typescript know yarn report npm report get information easier describe bug forgot password always returns even blocked non existent users causing unintended behavior expected behavior clear concise description expected happen screenshots img width alt image https github user attachments assets bfd,bug,0.95,"[BUG] Forgot Password respond with ""ok"" for non-existent users or blocked users <!-- Hello Thank you for submitting an issue. Before you start, please make sure your issue is understandable and reproducible. To make your issue readable make sure you use valid Markdown syntax. https://guides.github.com/features/mastering-markdown/ Please ensure you have also read and understand the contributing guide. https://github.com/strapi/strapi/blob/main/CONTRIBUTING.md#reporting-an-issue --> ## Bug report  Required System information - Node.js version: v20.0.0 - NPM version:10.2.4 - Strapi version:5.0.0 - Database: - Operating system:MacOs 14.5 - Is your project Javascript or Typescript: <!-- Did you know you can run `yarn strapi report` or `npm run strapi report` to get this information easier? -->  Describe the bug Forgot password always returns ok even for blocked or non-existent users, causing unintended behavior  Expected behavior A clear and concise description of what you expected to happen.  Screenshots <img width=""721"" alt=""image"" src=""https://github.com/user-attachments/assets/a97158bc-9527-4d5c-9b15-60ba943bfd38"">"
21534,strapi,https://github.com/strapi/strapi/issues/21534,useFetchClient only handles json responses,"## Bug report  Describe the bug we are migrating several local admin plugins to strapi5 - which is pretty awesome btw, so many great new apis to work with :heart: we want to download a zip file, which is created on the server. obviously zip files cannot be parsed as json - therfore the new `useFetchClient` with its responseInterceptor takes over, and just returns an empty list without any error https://github.com/strapi/strapi/blob/develop/packages/core/admin/admin/src/utils/getFetchClient.ts#L123  Steps to reproduce the behavior 1. use the new useFetchClient 2. return anything than json from a plugin api 3. wonder why you get any empty file  Expected behavior depending on the content-type, return `text()` / `blob()` or `json()`",source-file | source-file,usefetchclient handles json responses bug report describe bug migrating several local admin plugins pretty awesome btw many great new apis work heart want download zip created server obviously zip files cannot parsed json therfore new usefetchclient responseinterceptor takes returns empty list without https github blob develop packages core admin admin utils getfetchclient steps reproduce behavior use new usefetchclient return anything json plugin api wonder get empty expected behavior depending content type return text blob json,bug,0.9,"useFetchClient only handles json responses ## Bug report  Describe the bug we are migrating several local admin plugins to strapi5 - which is pretty awesome btw, so many great new apis to work with :heart: we want to download a zip file, which is created on the server. obviously zip files cannot be parsed as json - therfore the new `useFetchClient` with its responseInterceptor takes over, and just returns an empty list without any error https://github.com/strapi/strapi/blob/develop/packages/core/admin/admin/src/utils/getFetchClient.ts#L123  Steps to reproduce the behavior 1. use the new useFetchClient 2. return anything than json from a plugin api 3. wonder why you get any empty file  Expected behavior depending on the content-type, return `text()` / `blob()` or `json()`"
20509,strapi,https://github.com/strapi/strapi/issues/20509,Relation <> does not exists,"<!-- Hello Thank you for submitting an issue. Before you start, please make sure your issue is understandable and reproducible. To make your issue readable make sure you use valid Markdown syntax. https://guides.github.com/features/mastering-markdown/ Please ensure you have also read and understand the contributing guide. https://github.com/strapi/strapi/blob/main/CONTRIBUTING.md#reporting-an-issue --> ## Bug report  Required System information <!-- Please ensure you are using the Node LTS version (v18 or v20) --> <!-- Strapi v3 is no longer supported, please update to Strapi v4 --> <!-- If you are reporting a frontend bug please provide error logs after setting STRAPI_ENFORCE_SOURCEMAPS=true in your .env --> <!-- This environment variable makes frontend errors easier to read and trace --> - Node.js version: 20.11.1 - NPM version: 10.2.4 - Strapi version: 4.25.0 - Database: postgres - Operating system: macos m1 chip (app in docker node:20.11.1-alpine3.19) - Is your project Javascript or Typescript: Typescript <!-- Did you know you can run `yarn strapi report` or `npm run strapi report` to get this information easier? -->  Describe the bug Hi all. When I try to click the duplicate entry button in colletion types, I get an Internal Server Error error on the UI admin panel. In this case, the following error is displayed in the log: sh strapi-1 | [2024-06-13 13:52:28.056] error: update ""products_by_region_ep_product_links"" as ""t1"" set ""product_by_region_order"" = (select max(product_by_region_order) + 1 from ""products_by_region_ep_product_links"" as ""t2"" where t2.ep_product_id = t1.ep_product_id) where ""t1"".""product_by_region_id"" = $1 - relation ""products_by_region_ep_product_links"" does not exist strapi-1 | error: update ""products_by_region_ep_product_links"" as ""t1"" set ""product_by_region_order"" = (select max(product_by_region_order) + 1 from ""products_by_region_ep_product_links"" as ""t2"" where t2.ep_product_id = t1.ep_product_id) where ""t1"".""product_by_region_id"" = $1 - relation ""products_by_region_ep_product_links"" does not exist  I looked in the database and there is a created table `products_by_region_ep_product_links`. I also found a ticket that talks about a similar problem: https://github.com/strapi/strapi/issues/17672. I did what was recommended there (cleared the `strapi_database_schema` table) and it didn't help. Looking at the error, you can understand that he has some problems with relation to another collection type.  Steps to reproduce the behavior 1. Go to 'Content manager' 2. Click on 'Open collection type' 3. Select a line and click the duplicate button  Expected behavior The recording was successfully duplicated  Screenshots ![image](https://github.com/strapi/strapi/assets/12433983/1c532c85-fd59-4139-ae99-1c7fe6a18cbc)  Code snippets If applicable, add code samples to help explain your problem.  Additional context Add any other context about the problem here.",source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | config-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | test-file | other-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | documentation-file | source-file | source-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | data-file | other-file | data-file | source-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | source-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | source-file | documentation-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | source-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | documentation-file | source-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | test-file | documentation-file | other-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | config-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | documentation-file | documentation-file | source-file | documentation-file | source-file | other-file | config-file | config-file | test-file | documentation-file | other-file | other-file | source-file | documentation-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | test-file | documentation-file | documentation-file | test-file | other-file | documentation-file | test-file | documentation-file | documentation-file | source-file | data-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,relation exists hello thank submitting start please make sure understandable reproducible make readable make sure use valid markdown syntax https guides github features mastering markdown please ensure also read understand contributing guide https github blob contributing reporting bug report required system information please ensure node lts longer supported please reporting frontend bug please provide logs setting enforce sourcemaps true env environment variable makes frontend errors easier read trace node npm database postgres operating system macos chip app docker node alpine project javascript typescript typescript know yarn report npm report get information easier describe bug click duplicate entry button colletion types get internal server admin panel case following displayed log products region product links set product region order select max product region order products region product links product product product region relation products region product links exist products region product links set product region order select max product region order products region product links product product product region relation products region product links exist looked database created table products region product links also found ticket talks similar https github issues recommended cleared database schema table help looking understand problems relation another collection type steps reproduce behavior content manager click open collection type select click duplicate button expected behavior recording successfully duplicated screenshots image https github assets cbc snippets applicable samples help explain additional context context,bug,0.9,"Relation <> does not exists <!-- Hello Thank you for submitting an issue. Before you start, please make sure your issue is understandable and reproducible. To make your issue readable make sure you use valid Markdown syntax. https://guides.github.com/features/mastering-markdown/ Please ensure you have also read and understand the contributing guide. https://github.com/strapi/strapi/blob/main/CONTRIBUTING.md#reporting-an-issue --> ## Bug report  Required System information <!-- Please ensure you are using the Node LTS version (v18 or v20) --> <!-- Strapi v3 is no longer supported, please update to Strapi v4 --> <!-- If you are reporting a frontend bug please provide error logs after setting STRAPI_ENFORCE_SOURCEMAPS=true in your .env --> <!-- This environment variable makes frontend errors easier to read and trace --> - Node.js version: 20.11.1 - NPM version: 10.2.4 - Strapi version: 4.25.0 - Database: postgres - Operating system: macos m1 chip (app in docker node:20.11.1-alpine3.19) - Is your project Javascript or Typescript: Typescript <!-- Did you know you can run `yarn strapi report` or `npm run strapi report` to get this information easier? -->  Describe the bug Hi all. When I try to click the duplicate entry button in colletion types, I get an Internal Server Error error on the UI admin panel. In this case, the following error is displayed in the log: sh strapi-1 | [2024-06-13 13:52:28.056] error: update ""products_by_region_ep_product_links"" as ""t1"" set ""product_by_region_order"" = (select max(product_by_region_order) + 1 from ""products_by_region_ep_product_links"" as ""t2"" where t2.ep_product_id = t1.ep_product_id) where ""t1"".""product_by_region_id"" = $1 - relation ""products_by_region_ep_product_links"" does not exist strapi-1 | error: update ""products_by_region_ep_product_links"" as ""t1"" set ""product_by_region_order"" = (select max(product_by_region_order) + 1 from ""products_by_region_ep_product_links"" as ""t2"" where t2.ep_product_id = t1.ep_product_id) where ""t1"".""product_by_region_id"" = $1 - relation ""products_by_region_ep_product_links"" does not exist  I looked in the database and there is a created table `products_by_region_ep_product_links`. I also found a ticket that talks about a similar problem: https://github.com/strapi/strapi/issues/17672. I did what was recommended there (cleared the `strapi_database_schema` table) and it didn't help. Looking at the error, you can understand that he has some problems with relation to another collection type.  Steps to reproduce the behavior 1. Go to 'Content manager' 2. Click on 'Open collection type' 3. Select a line and click the duplicate button  Expected behavior The recording was successfully duplicated  Screenshots ![image](https://github.com/strapi/strapi/assets/12433983/1c532c85-fd59-4139-ae99-1c7fe6a18cbc)  Code snippets If applicable, add code samples to help explain your problem.  Additional context Add any other context about the problem here."
20271,strapi,https://github.com/strapi/strapi/issues/20271,"Filter by text field with ""&"" symbol doesn't work","## Bug report  Required System information - Node.js version: 18.20.2 - Yarn version: 1.22.22 - Strapi version: v4.24.1 - Database: postgres - Operating system: darwin-arm64 - Is your project Javascript or Typescript: Javascript  Describe the bug Filter by text field with ""&"" symbol doesn't work. Search string is cut up to & symbol and no results with ""is"" operand  Steps to reproduce the behavior 1. Create any entity at collection type that text field contains ampersand (&) symbol. Eg, create article with title ""Test article & issue reproduce"" ![image](https://github.com/strapi/strapi/assets/46565276/45583861-aee0-4676-a799-e95fd37bd7c9) 2. Go to list of collection type and using ""Filters"" button select text field, ""is"" operand and text with & symbol ![image](https://github.com/strapi/strapi/assets/46565276/9f4de5c7-ebe8-4cc0-a419-741dec696377) 3. Click ""Add filter"" 4. Check what filter is applied ![image](https://github.com/strapi/strapi/assets/46565276/8358f163-5c7b-4177-ad09-520b90d967cb)  Expected behavior Filter should be applied correctly and display found record, like if there are no & symbol in search: ![image](https://github.com/strapi/strapi/assets/46565276/415c28ca-fb0a-447e-940f-7aa27f65afed)  Additional context Some details from network tab: Request URL: `http://127.0.0.1:1337/content-manager/collection-types/api::article.article?page=1&pageSize=10&sort=title:ASC&filters[$and][0][title][$eq]=Test%20article%20&%20issue%20reproduce=` Query parameters that applied:  page: 1 pageSize: 10 sort: title:ASC filters[$and][0][title][$eq]: Test article issue reproduce:  ![image](https://github.com/strapi/strapi/assets/46565276/fa98341b-2dcd-4b3f-9883-54c8c2e48e86)",other-file | other-file | source-file | other-file | test-file | other-file,filter text field symbol work bug report required system information node yarn database postgres operating system darwin arm project javascript typescript javascript describe bug filter text field symbol work search string cut symbol results operand steps reproduce behavior create entity collection type text field contains ampersand symbol create article title article reproduce image https github assets aee list collection type filters button select text field operand text symbol image https github assets ebe dec click filter check filter applied image https github assets expected behavior filter applied correctly display found record like symbol search image https github assets afed additional context details network tab url http content manager collection types api article article page pagesize sort title asc filters title article reproduce query parameters applied page pagesize sort title asc filters title article reproduce image https github assets dcd,bug,0.95,"Filter by text field with ""&"" symbol doesn't work ## Bug report  Required System information - Node.js version: 18.20.2 - Yarn version: 1.22.22 - Strapi version: v4.24.1 - Database: postgres - Operating system: darwin-arm64 - Is your project Javascript or Typescript: Javascript  Describe the bug Filter by text field with ""&"" symbol doesn't work. Search string is cut up to & symbol and no results with ""is"" operand  Steps to reproduce the behavior 1. Create any entity at collection type that text field contains ampersand (&) symbol. Eg, create article with title ""Test article & issue reproduce"" ![image](https://github.com/strapi/strapi/assets/46565276/45583861-aee0-4676-a799-e95fd37bd7c9) 2. Go to list of collection type and using ""Filters"" button select text field, ""is"" operand and text with & symbol ![image](https://github.com/strapi/strapi/assets/46565276/9f4de5c7-ebe8-4cc0-a419-741dec696377) 3. Click ""Add filter"" 4. Check what filter is applied ![image](https://github.com/strapi/strapi/assets/46565276/8358f163-5c7b-4177-ad09-520b90d967cb)  Expected behavior Filter should be applied correctly and display found record, like if there are no & symbol in search: ![image](https://github.com/strapi/strapi/assets/46565276/415c28ca-fb0a-447e-940f-7aa27f65afed)  Additional context Some details from network tab: Request URL: `http://127.0.0.1:1337/content-manager/collection-types/api::article.article?page=1&pageSize=10&sort=title:ASC&filters[$and][0][title][$eq]=Test%20article%20&%20issue%20reproduce=` Query parameters that applied:  page: 1 pageSize: 10 sort: title:ASC filters[$and][0][title][$eq]: Test article issue reproduce:  ![image](https://github.com/strapi/strapi/assets/46565276/fa98341b-2dcd-4b3f-9883-54c8c2e48e86)"
20383,strapi,https://github.com/strapi/strapi/issues/20383,[v5] Using pagination query params at root level of query returns incorrect error,"## Bug report  Required System information Launched In: 646 ms Environment: development OS: darwin-arm64 Strapi Version: 5.0.0-beta.8 Node/Yarn Version: yarn/4.0.1 npm/? node/v20.9.0 darwin arm64 Edition: Enterprise Database: sqlite  Describe the bug Sending a query like `?page=1&pageSize=10` instead of `?pagination[page]=1&pagination[pageSize]=10` returns the error: json { ""data"": null, ""error"": { ""status"": 400, ""name"": ""PaginationError"", ""message"": ""Invalid pagination attributes. You cannot use page and offset pagination in the same query"", ""details"": {} } }  The error is incorrect and very misleading.  Steps to reproduce the behavior See description of bug above  Expected behavior I would expect one of the following (haven't put too much thought into it): - a validation error saying that page parameters are incorrect and must be in the pagination object OR - for the parameters to work anyway OR - for nothing to happen with pagination; since page and pageSize are not in the pagination object they should be ignored and the defaults should be used",source-file,pagination query params root level query returns incorrect bug report required system information launched environment development darwin arm beta node yarn yarn npm node darwin arm edition enterprise database sqlite describe bug sending query like page pagesize instead pagination page pagination pagesize returns json data null status name paginationerror message invalid pagination attributes cannot use page offset pagination query details incorrect misleading steps reproduce behavior see description bug expected behavior would expect one following put much thought validation saying page parameters incorrect must pagination object parameters work anyway nothing happen pagination since page pagesize pagination object ignored defaults used,bug,0.9,"[v5] Using pagination query params at root level of query returns incorrect error ## Bug report  Required System information Launched In: 646 ms Environment: development OS: darwin-arm64 Strapi Version: 5.0.0-beta.8 Node/Yarn Version: yarn/4.0.1 npm/? node/v20.9.0 darwin arm64 Edition: Enterprise Database: sqlite  Describe the bug Sending a query like `?page=1&pageSize=10` instead of `?pagination[page]=1&pagination[pageSize]=10` returns the error: json { ""data"": null, ""error"": { ""status"": 400, ""name"": ""PaginationError"", ""message"": ""Invalid pagination attributes. You cannot use page and offset pagination in the same query"", ""details"": {} } }  The error is incorrect and very misleading.  Steps to reproduce the behavior See description of bug above  Expected behavior I would expect one of the following (haven't put too much thought into it): - a validation error saying that page parameters are incorrect and must be in the pagination object OR - for the parameters to work anyway OR - for nothing to happen with pagination; since page and pageSize are not in the pagination object they should be ignored and the defaults should be used"
21367,strapi,https://github.com/strapi/strapi/issues/21367,Caching issue media-lib new folder,Steps to reproduce: - Start with 0 folders - Upload a few images - Try to move a file from the list view and see there is no sub folder to move to - click creat folder fill and save the form - try to move the same file again - The select is still empty - Refresh the page - do the same operation and the select is now filled correctly,source-file,caching media new folder steps reproduce start folders upload images move list view see sub folder move click creat folder fill save form move select still empty refresh page operation select filled correctly,bug,0.7,Caching issue media-lib new folder Steps to reproduce: - Start with 0 folders - Upload a few images - Try to move a file from the list view and see there is no sub folder to move to - click creat folder fill and save the form - try to move the same file again - The select is still empty - Refresh the page - do the same operation and the select is now filled correctly
