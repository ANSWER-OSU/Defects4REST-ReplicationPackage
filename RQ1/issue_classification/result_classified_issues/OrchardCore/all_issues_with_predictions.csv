issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence
17350,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17350,All Vue.js scripts should explicitly depend on version 2.x by default.," Issue Currently, all of our scripts that depend on Vue.js automatically resolve to the latest registered version. In OrchardCore, we have registered Vue.js version `2.6` as that is the version we currently use. However, if a project registers a newer version, such as `3.5`, under the same resource name (`vuejs`), all our scripts will default to using version `3.5`. This would lead to compatibility issues, as our scripts are designed to work specifically with Vue.js `2.x` and are not compatible with `3.x`. To prevent such issues, we should explicitly add a dependency on version `2.x` to ensure that the correct and compatible version is always resolved.  Workaround Don't register vue.js v3 using `vuejs` resource tag.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"All Vue.js scripts should explicitly depend on version 2.x by default.  Issue Currently, all of our scripts that depend on Vue.js automatically resolve to the latest registered version. In OrchardCore, we have registered Vue.js version `2.6` as that is the version we currently use. However, if a project registers a newer version, such as `3.5`, under the same resource name (`vuejs`), all our scripts will default to using version `3.5`. This would lead to compatibility issues, as our scripts are designed to work specifically with Vue.js `2.x` and are not compatible with `3.x`. To prevent such issues, we should explicitly add a dependency on version `2.x` to ensure that the correct and compatible version is always resolved.  Workaround Don't register vue.js v3 using `vuejs` resource tag. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
16570,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16570,Check if `OrchardCore.Layers.AdminController.Index(LayersIndexViewModel)` can be refactored,There is an argument in this method which might not be necessary. Description in this comment: https://github.com/OrchardCMS/OrchardCore/pull/16567#discussion_r1718451707,other-file,Check if `OrchardCore.Layers.AdminController.Index(LayersIndexViewModel)` can be refactored There is an argument in this method which might not be necessary. Description in this comment: https://github.com/OrchardCMS/OrchardCore/pull/16567#discussion_r1718451707 other-file,no-bug,0.9
9512,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9512,Documents are still persisted after an unhandled exception is thrown," Describe the bug  To Reproduce Steps to reproduce the behavior: - enlist an entity for save with `_session.Save(entity)` - throw an unhandled exception - entity is still commited by the `RegisterBeforeDispose` in the shell scope  Expected behavior We've resolved this ourselves with some exception handling middleware, which specifically calls `await _session.CancelAsync()` Should we put this, or a similar solution, into the shellscope, so that `RegisterBeforeDispose` can potentially have an option to execute operations, like `SaveChangesAsync()` only if there are no exceptions. /cc @jtkech have we talked about this before, I thought we had?",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Documents are still persisted after an unhandled exception is thrown  Describe the bug  To Reproduce Steps to reproduce the behavior: - enlist an entity for save with `_session.Save(entity)` - throw an unhandled exception - entity is still commited by the `RegisterBeforeDispose` in the shell scope  Expected behavior We've resolved this ourselves with some exception handling middleware, which specifically calls `await _session.CancelAsync()` Should we put this, or a similar solution, into the shellscope, so that `RegisterBeforeDispose` can potentially have an option to execute operations, like `SaveChangesAsync()` only if there are no exceptions. /cc @jtkech have we talked about this before, I thought we had? other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
15211,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15211,.net8+orchardcore blazorserver mode render component error," Describe the bug .net8+orchardcore create webpage, use blazorserver mode @(await Html.RenderComponentAsync<Component>(RenderMode.ServerPrerendered)) error. error content: System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state.  To Reproduce Steps to reproduce the behavior: 1. Create a OrchardCore app, add module, and add WebPage page. 2. Create blazorclasslibrary project, add default Component. 3. call Html.RenderComponentAsync in webpage. 4. browser webpage.  Expected behavior System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state.  Screenshots ![a1](https://github.com/OrchardCMS/OrchardCore/assets/247791/3e38534d-55d4-4a24-954a-7b37c0305abe) ![a2](https://github.com/OrchardCMS/OrchardCore/assets/247791/b01c7b95-c949-4f94-b71b-1da7f72974ba)",other-file | other-file | other-file,".net8+orchardcore blazorserver mode render component error  Describe the bug .net8+orchardcore create webpage, use blazorserver mode @(await Html.RenderComponentAsync<Component>(RenderMode.ServerPrerendered)) error. error content: System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state.  To Reproduce Steps to reproduce the behavior: 1. Create a OrchardCore app, add module, and add WebPage page. 2. Create blazorclasslibrary project, add default Component. 3. call Html.RenderComponentAsync in webpage. 4. browser webpage.  Expected behavior System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state.  Screenshots ![a1](https://github.com/OrchardCMS/OrchardCore/assets/247791/3e38534d-55d4-4a24-954a-7b37c0305abe) ![a2](https://github.com/OrchardCMS/OrchardCore/assets/247791/b01c7b95-c949-4f94-b71b-1da7f72974ba) other-file other-file other-file",no-bug,0.9
16675,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16675,Refactor Culture and supported_cultures,"In this PR https://github.com/OrchardCMS/OrchardCore/pull/16208 1. `Culture` was introduced to represent the selected culture for the context. We should just be able to return a new ObjectValue with the current culture in it and not have to proxy every property since `CultureInfo` is already registered. 1. `supported_cultures` should not be a filter, because it's not using the `input`. We could pass anything to it and it would still work. I suggest we register a FluidValue like `SupportedCultures` so we can write `for cultures in SupportedCultures`. 1. We should find a better way or improve Fluid to be able to register values and resolve its properties with lambdas. Instead of creating a `XXXFluidAccessor` then register it, like `Environment`, `Culture`, ",other-file | other-file | documentation-file,"Refactor Culture and supported_cultures In this PR https://github.com/OrchardCMS/OrchardCore/pull/16208 1. `Culture` was introduced to represent the selected culture for the context. We should just be able to return a new ObjectValue with the current culture in it and not have to proxy every property since `CultureInfo` is already registered. 1. `supported_cultures` should not be a filter, because it's not using the `input`. We could pass anything to it and it would still work. I suggest we register a FluidValue like `SupportedCultures` so we can write `for cultures in SupportedCultures`. 1. We should find a better way or improve Fluid to be able to register values and resolve its properties with lambdas. Instead of creating a `XXXFluidAccessor` then register it, like `Environment`, `Culture`,  other-file other-file documentation-file",no-bug,0.9
13854,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13854,ContainedPart is not attached during editing content item," Describe the bug I have content type called `Transaction` and another called `Customer`. A transaction must have a customer either by manually selecting a customer using a content field picker or if the `Transaction` content item has `ContainedPart` which identifies the customer it would belong to. The `Transaction` content type has a part that required the user to select a customer. However, if the new `Transaction` being created contained in a ListPart, then I should not show the customer picker since the container will tell us which customer this transaction should belong to. I can control when not to sure the customer picker using a shape table provider like this C# public class CustomerShapeTableProvider : IShapeTableProvider { public void Discover(ShapeTableBuilder builder) { builder.Describe(""ContentPickerField_Edit"") .Placement(context => { // We should not need to render a customer picker if the content Item is part of a list part. if (context.Differentiator == ""RequiredCustomerPart-Customer"" && context.ZoneShape.TryGetProperty(""ContentItem"", out ContentItem contentItem)) { return contentItem.Has<ContainedPart>() && contentItem.As<ContainedPart>().ListContentType == ""Customer"") } return false; }, new PlacementInfo { Location = ""-"" }); } }  The above works after the ContentItem has been saved. However, if the ContentItem is new, the `ContainedPart` does not exists on the ContentItem as expected. The [ContainedPartDisplayDriver ](https://github.com/OrchardCMS/OrchardCore/blob/3e937abcfc761ef06469a43f535a01ec75b7f4ec/src/OrchardCore.Modules/OrchardCore.Lists/Drivers/ContainedPartDisplayDriver.cs#L50) is responsible of attaching `ContainedPart` on the content item when ListPart is used. However, it only attach it on `Update` request not on `Edit`. Since we know the content item is going to have a ListPart, we should attach the `ContainedPart` to the content item if it does not already exists allowing logic is handlers like ShapeTable to work.",other-file,"ContainedPart is not attached during editing content item  Describe the bug I have content type called `Transaction` and another called `Customer`. A transaction must have a customer either by manually selecting a customer using a content field picker or if the `Transaction` content item has `ContainedPart` which identifies the customer it would belong to. The `Transaction` content type has a part that required the user to select a customer. However, if the new `Transaction` being created contained in a ListPart, then I should not show the customer picker since the container will tell us which customer this transaction should belong to. I can control when not to sure the customer picker using a shape table provider like this C# public class CustomerShapeTableProvider : IShapeTableProvider { public void Discover(ShapeTableBuilder builder) { builder.Describe(""ContentPickerField_Edit"") .Placement(context => { // We should not need to render a customer picker if the content Item is part of a list part. if (context.Differentiator == ""RequiredCustomerPart-Customer"" && context.ZoneShape.TryGetProperty(""ContentItem"", out ContentItem contentItem)) { return contentItem.Has<ContainedPart>() && contentItem.As<ContainedPart>().ListContentType == ""Customer"") } return false; }, new PlacementInfo { Location = ""-"" }); } }  The above works after the ContentItem has been saved. However, if the ContentItem is new, the `ContainedPart` does not exists on the ContentItem as expected. The [ContainedPartDisplayDriver ](https://github.com/OrchardCMS/OrchardCore/blob/3e937abcfc761ef06469a43f535a01ec75b7f4ec/src/OrchardCore.Modules/OrchardCore.Lists/Drivers/ContainedPartDisplayDriver.cs#L50) is responsible of attaching `ContainedPart` on the content item when ListPart is used. However, it only attach it on `Update` request not on `Edit`. Since we know the content item is going to have a ListPart, we should attach the `ContainedPart` to the content item if it does not already exists allowing logic is handlers like ShapeTable to work. other-file",no-bug,0.9
15133,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15133,Eliminate the anti-discovery pattern in Elasticsearch,"Currently, Elasticsearch module follows an anti-dicovery pattern where if ES is not configured, none of it's services is registers. This cause exceptions in some services that needs it. I'll submit a PR to fix this.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Eliminate the anti-discovery pattern in Elasticsearch Currently, Elasticsearch module follows an anti-dicovery pattern where if ES is not configured, none of it's services is registers. This cause exceptions in some services that needs it. I'll submit a PR to fix this. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
14991,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14991,ArgumentNullException from ResourceManager.FindMatchingResource when multiple resources are defined with the same name and at least one doesn't specify a version.," Describe the bug I have 2 scripts defined. A ""default"" version that doesn't specify a version. In another module, I define an override of that resource by defining a resource with the same name and specifying a version number. When I run the site, the script resources fail to load due to an ArgumentNullException. The issue lies in [ResourceManager.FindMatchingResource](https://github.com/OrchardCMS/OrchardCore/blob/87f7a4314e01315070f3e58fff286ebe2200e9df/src/OrchardCore/OrchardCore.ResourceManagement/ResourceManager.cs#L211), because when evaluating the second match, `resource.Version` is null, which causes `new Version(resource.Version)` to throw the ArgumentNullException. Note that [earlier in the method](https://github.com/OrchardCMS/OrchardCore/blob/87f7a4314e01315070f3e58fff286ebe2200e9df/src/OrchardCore/OrchardCore.ResourceManagement/ResourceManager.cs#L197), the code takes care to avoid the ArgumentNullException by checking for null. A work around for this issue is to just make sure that all resources specify a version, but since the version is not required by the API, it should handle null gracefully.  To Reproduce Steps to reproduce the behavior: 1. In an `IConfigureOptions<ResourceManagementOptions>`, register a new resource. For example, a script called ""MyScript"". Don't specify a version. 2. Additionally, register a second resource with the same name and this time also call `SetVersion` with a valid version number. For example, ""MyScript"" with a version of ""1.0.0"". 3. Require the resource. For example, in `Layout.cshtml`, use the script tag helper to require ""MyScript"" and don't specify a version. 4. Run the site and notice that the script doesn't load (in fact, no scripts load). Also notice that you receive the following error in the log:  2024-01-04T14:01:25.6549337-05:00|Local|0HN0DATOGCGSU:00000007|OrchardCore.ResourceManagement.TagHelpers.ResourcesTagHelper|ERR|An error occurred while rendering ""HeadScript"" resource. System.ArgumentNullException: Value cannot be null. (Parameter 'input') at System.ArgumentNullException.Throw(String paramName) at System.Version.Parse(String input) at System.Version..ctor(String version) at OrchardCore.ResourceManagement.ResourceManager.FindMatchingResource(IEnumerable`1 stream, RequireSettings settings, String name) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings, Boolean resolveInlineDefinitions) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings) at OrchardCore.ResourceManagement.ResourceManager.DoGetRequiredResources(String resourceType) at OrchardCore.ResourceManagement.ResourceManager.RenderHeadScript(TextWriter writer) at OrchardCore.ResourceManagement.TagHelpers.ResourcesTagHelper.Process(TagHelperContext tagHelperContext, TagHelperOutput output) 2024-01-04T14:01:25.7205291-05:00|Local|0HN0DATOGCGSU:00000007|OrchardCore.ResourceManagement.TagHelpers.ResourcesTagHelper|ERR|An error occurred while rendering ""FootScript"" resource. System.ArgumentNullException: Value cannot be null. (Parameter 'input') at System.ArgumentNullException.Throw(String paramName) at System.Version.Parse(String input) at System.Version..ctor(String version) at OrchardCore.ResourceManagement.ResourceManager.FindMatchingResource(IEnumerable`1 stream, RequireSettings settings, String name) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings, Boolean resolveInlineDefinitions) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings) at OrchardCore.ResourceManagement.ResourceManager.DoGetRequiredResources(String resourceType) at OrchardCore.ResourceManagement.ResourceManager.RenderFootScript(TextWriter writer)   Expected behavior I would expect version 1.0.0 of the resource to be loaded on the page (winning out over the one without a version, and not throwing an error).  Screenshots If applicable, add screenshots to help explain your problem.",other-file,"ArgumentNullException from ResourceManager.FindMatchingResource when multiple resources are defined with the same name and at least one doesn't specify a version.  Describe the bug I have 2 scripts defined. A ""default"" version that doesn't specify a version. In another module, I define an override of that resource by defining a resource with the same name and specifying a version number. When I run the site, the script resources fail to load due to an ArgumentNullException. The issue lies in [ResourceManager.FindMatchingResource](https://github.com/OrchardCMS/OrchardCore/blob/87f7a4314e01315070f3e58fff286ebe2200e9df/src/OrchardCore/OrchardCore.ResourceManagement/ResourceManager.cs#L211), because when evaluating the second match, `resource.Version` is null, which causes `new Version(resource.Version)` to throw the ArgumentNullException. Note that [earlier in the method](https://github.com/OrchardCMS/OrchardCore/blob/87f7a4314e01315070f3e58fff286ebe2200e9df/src/OrchardCore/OrchardCore.ResourceManagement/ResourceManager.cs#L197), the code takes care to avoid the ArgumentNullException by checking for null. A work around for this issue is to just make sure that all resources specify a version, but since the version is not required by the API, it should handle null gracefully.  To Reproduce Steps to reproduce the behavior: 1. In an `IConfigureOptions<ResourceManagementOptions>`, register a new resource. For example, a script called ""MyScript"". Don't specify a version. 2. Additionally, register a second resource with the same name and this time also call `SetVersion` with a valid version number. For example, ""MyScript"" with a version of ""1.0.0"". 3. Require the resource. For example, in `Layout.cshtml`, use the script tag helper to require ""MyScript"" and don't specify a version. 4. Run the site and notice that the script doesn't load (in fact, no scripts load). Also notice that you receive the following error in the log:  2024-01-04T14:01:25.6549337-05:00|Local|0HN0DATOGCGSU:00000007|OrchardCore.ResourceManagement.TagHelpers.ResourcesTagHelper|ERR|An error occurred while rendering ""HeadScript"" resource. System.ArgumentNullException: Value cannot be null. (Parameter 'input') at System.ArgumentNullException.Throw(String paramName) at System.Version.Parse(String input) at System.Version..ctor(String version) at OrchardCore.ResourceManagement.ResourceManager.FindMatchingResource(IEnumerable`1 stream, RequireSettings settings, String name) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings, Boolean resolveInlineDefinitions) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings) at OrchardCore.ResourceManagement.ResourceManager.DoGetRequiredResources(String resourceType) at OrchardCore.ResourceManagement.ResourceManager.RenderHeadScript(TextWriter writer) at OrchardCore.ResourceManagement.TagHelpers.ResourcesTagHelper.Process(TagHelperContext tagHelperContext, TagHelperOutput output) 2024-01-04T14:01:25.7205291-05:00|Local|0HN0DATOGCGSU:00000007|OrchardCore.ResourceManagement.TagHelpers.ResourcesTagHelper|ERR|An error occurred while rendering ""FootScript"" resource. System.ArgumentNullException: Value cannot be null. (Parameter 'input') at System.ArgumentNullException.Throw(String paramName) at System.Version.Parse(String input) at System.Version..ctor(String version) at OrchardCore.ResourceManagement.ResourceManager.FindMatchingResource(IEnumerable`1 stream, RequireSettings settings, String name) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings, Boolean resolveInlineDefinitions) at OrchardCore.ResourceManagement.ResourceManager.FindResource(RequireSettings settings) at OrchardCore.ResourceManagement.ResourceManager.DoGetRequiredResources(String resourceType) at OrchardCore.ResourceManagement.ResourceManager.RenderFootScript(TextWriter writer)   Expected behavior I would expect version 1.0.0 of the resource to be loaded on the page (winning out over the one without a version, and not throwing an error).  Screenshots If applicable, add screenshots to help explain your problem. other-file",no-bug,0.9
8547,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8547,Brand new setup error,"I configured a brand new installation with 2 databases. One for the content called MainDB and one for the shell called ConfigDB. I set my appsettings.json file with shell config and default table. When I run the setup page for the first time I get only 2 tables with the prefix of default. Default_Documents and Default_Identifiers The rest of the tables have no prefix. The webpage simply goes back to the setup page.  ""OrchardCore"": { ""ConnectionString"": ""Server=;"", // Set to the database connection string., ""DatabaseProvider"": ""SqlConnection"", ""OrchardCore_Shells_Database"": { ""DatabaseProvider"": ""SqlConnection"", // Set to a supported database provider. ""ConnectionString"": ""Server="", // Set to the database connection string. ""TablePrefix"": ""OrchardConfig_"", // Optionally, configure a table prefix. ""MigrateFromFiles"": false // Optionally, enable to migrate existing App_Data files to Database automatically. }, ""Default"": { ""TablePrefix"": ""Default"" } } ",other-file,"Brand new setup error I configured a brand new installation with 2 databases. One for the content called MainDB and one for the shell called ConfigDB. I set my appsettings.json file with shell config and default table. When I run the setup page for the first time I get only 2 tables with the prefix of default. Default_Documents and Default_Identifiers The rest of the tables have no prefix. The webpage simply goes back to the setup page.  ""OrchardCore"": { ""ConnectionString"": ""Server=;"", // Set to the database connection string., ""DatabaseProvider"": ""SqlConnection"", ""OrchardCore_Shells_Database"": { ""DatabaseProvider"": ""SqlConnection"", // Set to a supported database provider. ""ConnectionString"": ""Server="", // Set to the database connection string. ""TablePrefix"": ""OrchardConfig_"", // Optionally, configure a table prefix. ""MigrateFromFiles"": false // Optionally, enable to migrate existing App_Data files to Database automatically. }, ""Default"": { ""TablePrefix"": ""Default"" } }  other-file",no-bug,0.9
16340,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16340,Target attribute on menus breaks HTML validation," Describe the bug Since `target` attribute has been added to menu links (#15541) validation via `html-validate` fails. This is because if there is no target specified, it creates an empty attribute, like `<a class=""nav-link px-lg-3 py-3 py-lg-4"" href=""/"" target="""">Home</a>`. This is not valid. If there is no target specified, the attribute should be omitted. Note: [according to MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target) the default is `target=""_self""` so falling back to that value is also acceptable when omitting the `target` attribute would be complicated.  Orchard Core version Latest preview, at least TheBlogTheme package is affected.  Expected behavior Menu should produce valid HTML.  Logs and screenshots An example entry of the validation report: json { ""ruleId"": ""attribute-allowed-values"", ""severity"": 2, ""message"": ""Attribute \""target\"" has invalid value \""\"""", ""offset"": 2331, ""line"": 55, ""column"": 6, ""size"": 1, ""selector"": ""#navbarResponsive > ul > li:nth-child(2) > a"", ""ruleUrl"": ""https://html-validate.org/rules/attribute-allowed-values.html"", ""context"": { ""element"": ""a"", ""attribute"": ""target"", ""value"": """", ""allowed"": { ""enum"": [ {}, ""_blank"", ""_self"", ""_parent"", ""_top"" ] } } } ",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Target attribute on menus breaks HTML validation  Describe the bug Since `target` attribute has been added to menu links (#15541) validation via `html-validate` fails. This is because if there is no target specified, it creates an empty attribute, like `<a class=""nav-link px-lg-3 py-3 py-lg-4"" href=""/"" target="""">Home</a>`. This is not valid. If there is no target specified, the attribute should be omitted. Note: [according to MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target) the default is `target=""_self""` so falling back to that value is also acceptable when omitting the `target` attribute would be complicated.  Orchard Core version Latest preview, at least TheBlogTheme package is affected.  Expected behavior Menu should produce valid HTML.  Logs and screenshots An example entry of the validation report: json { ""ruleId"": ""attribute-allowed-values"", ""severity"": 2, ""message"": ""Attribute \""target\"" has invalid value \""\"""", ""offset"": 2331, ""line"": 55, ""column"": 6, ""size"": 1, ""selector"": ""#navbarResponsive > ul > li:nth-child(2) > a"", ""ruleUrl"": ""https://html-validate.org/rules/attribute-allowed-values.html"", ""context"": { ""element"": ""a"", ""attribute"": ""target"", ""value"": """", ""allowed"": { ""enum"": [ {}, ""_blank"", ""_self"", ""_parent"", ""_top"" ] } } }  other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
17571,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17571,Uncaught TypeError: Vue is not a constructor,@Skrypt if you try to edit any content with FlowPart you'll get the following in the console > Uncaught TypeError: window.Vue.component is not a function Here are the files that are reporting the same error - vuedraggable.umd.min.js - shortcodes.min.js - media.min.js Also Source map error: request failed with status 404 Resource URL: https://localhost:44300/blog3/OrchardCore.Resources/Vendor/vue-draggable-2.24.3/vuedraggable.umd.min.js?v=SSiHFZxJmSPDd4N40RGDlB7qdsV02FrXbJxAhsBHaZQ Source Map URL: vuedraggable.umd.min.js.map Source map error: Error: request failed with status 404 Stack in the worker:networkRequest@resource://devtools/client/shared/source-map-loader/utils/network-request.js:43:9 Resource URL: https://localhost:44300/blog3/OrchardCore.Resources/Vendor/vue-draggable-2.24.3/vuedraggable.umd.min.js?v=SSiHFZxJmSPDd4N40RGDlB7qdsV02FrXbJxAhsBHaZQ Source Map URL: vuedraggable.umd.min.js.map,other-file,Uncaught TypeError: Vue is not a constructor @Skrypt if you try to edit any content with FlowPart you'll get the following in the console > Uncaught TypeError: window.Vue.component is not a function Here are the files that are reporting the same error - vuedraggable.umd.min.js - shortcodes.min.js - media.min.js Also Source map error: request failed with status 404 Resource URL: https://localhost:44300/blog3/OrchardCore.Resources/Vendor/vue-draggable-2.24.3/vuedraggable.umd.min.js?v=SSiHFZxJmSPDd4N40RGDlB7qdsV02FrXbJxAhsBHaZQ Source Map URL: vuedraggable.umd.min.js.map Source map error: Error: request failed with status 404 Stack in the worker:networkRequest@resource://devtools/client/shared/source-map-loader/utils/network-request.js:43:9 Resource URL: https://localhost:44300/blog3/OrchardCore.Resources/Vendor/vue-draggable-2.24.3/vuedraggable.umd.min.js?v=SSiHFZxJmSPDd4N40RGDlB7qdsV02FrXbJxAhsBHaZQ Source Map URL: vuedraggable.umd.min.js.map other-file,no-bug,0.9
17725,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17725,Error when trying to import recipe that sets custom user settings.," Describe the bug Error when trying to import recipe that sets custom user settings.  Orchard Core version 2.1.6  To Reproduce 1. Go to '/Admin/DeploymentPlan/Import/Index' 2. Select your recipe and import 3. See error  Expected behavior I would expect the custom settings to set free from error. I used this same structure in older versions and it worked.  Logs and screenshots Here is a sample recipe:  { ""name"": ""Create Custom Settings"", ""displayName"": """", ""description"": ""Last updated: 08.05.2024"", ""author"": ""Test"", ""website"": """", ""version"": ""1"", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""custom-user-settings"", ""custom-user-settings"": [ { ""userId"": ""4rhe8cxd8vnjk0prqx6bbtw1wg"", ""user-custom-user-settings"": [ { ""ContentType"": ""MySettings"", ""MySettings"": { ""MyField"": { ""Text"": ""MyValue"" } } } ] } ] } ] }  After clicking the import button I get this message on the interface: > The import failed with the following errors: Unexpected error occurred while executing the 'custom-user-settings' step. Here is the stacktrace:  OrchardCore.Deployment.Controllers.ImportController|ERROR|Unable to import a deployment package. OrchardCore.Recipes.Models.RecipeExecutionException: The node already has a parent. > System.InvalidOperationException: The node already has a parent. at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_NodeAlreadyHasParent() at System.Text.Json.Nodes.JsonObject.SetItem(String propertyName, JsonNode value) at OrchardCore.Users.Recipes.CustomUserSettingsStep.HandleAsync(RecipeExecutionContext context) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass8_0.<<ExecuteStepAsync>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken)  End of inner exception stack trace  at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeDeploymentTargetHandler.ImportFromFileAsync(IFileProvider fileProvider) at OrchardCore.Deployment.Core.Services.DeploymentManager.ImportDeploymentPackageAsync(IFileProvider deploymentPackage) at OrchardCore.Deployment.Controllers.ImportController.Import(IFormFile importedPackage) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeDeploymentTargetHandler.ImportFromFileAsync(IFileProvider fileProvider) at OrchardCore.Deployment.Core.Services.DeploymentManager.ImportDeploymentPackageAsync(IFileProvider deploymentPackage) at OrchardCore.Deployment.Controllers.ImportController.Import(IFormFile importedPackage) ",other-file | other-file,"Error when trying to import recipe that sets custom user settings.  Describe the bug Error when trying to import recipe that sets custom user settings.  Orchard Core version 2.1.6  To Reproduce 1. Go to '/Admin/DeploymentPlan/Import/Index' 2. Select your recipe and import 3. See error  Expected behavior I would expect the custom settings to set free from error. I used this same structure in older versions and it worked.  Logs and screenshots Here is a sample recipe:  { ""name"": ""Create Custom Settings"", ""displayName"": """", ""description"": ""Last updated: 08.05.2024"", ""author"": ""Test"", ""website"": """", ""version"": ""1"", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""custom-user-settings"", ""custom-user-settings"": [ { ""userId"": ""4rhe8cxd8vnjk0prqx6bbtw1wg"", ""user-custom-user-settings"": [ { ""ContentType"": ""MySettings"", ""MySettings"": { ""MyField"": { ""Text"": ""MyValue"" } } } ] } ] } ] }  After clicking the import button I get this message on the interface: > The import failed with the following errors: Unexpected error occurred while executing the 'custom-user-settings' step. Here is the stacktrace:  OrchardCore.Deployment.Controllers.ImportController|ERROR|Unable to import a deployment package. OrchardCore.Recipes.Models.RecipeExecutionException: The node already has a parent. > System.InvalidOperationException: The node already has a parent. at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_NodeAlreadyHasParent() at System.Text.Json.Nodes.JsonObject.SetItem(String propertyName, JsonNode value) at OrchardCore.Users.Recipes.CustomUserSettingsStep.HandleAsync(RecipeExecutionContext context) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass8_0.<<ExecuteStepAsync>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken)  End of inner exception stack trace  at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeDeploymentTargetHandler.ImportFromFileAsync(IFileProvider fileProvider) at OrchardCore.Deployment.Core.Services.DeploymentManager.ImportDeploymentPackageAsync(IFileProvider deploymentPackage) at OrchardCore.Deployment.Controllers.ImportController.Import(IFormFile importedPackage) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, IDictionary`2 environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeDeploymentTargetHandler.ImportFromFileAsync(IFileProvider fileProvider) at OrchardCore.Deployment.Core.Services.DeploymentManager.ImportDeploymentPackageAsync(IFileProvider deploymentPackage) at OrchardCore.Deployment.Controllers.ImportController.Import(IFormFile importedPackage)  other-file other-file",no-bug,0.8
13382,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13382,Add support for build-in and custom elasticsearch analyzers," Is your feature request related to a problem? Please describe. Currently, we only have support for `stanadard` analyzer which is good in most cases. But, we do not allow for implementing custom analyzer or use [built-in analyzers](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html).  Describe the solution you'd like Add support for the [built-in analyzers](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html)",other-file | other-file | other-file,"Add support for build-in and custom elasticsearch analyzers  Is your feature request related to a problem? Please describe. Currently, we only have support for `stanadard` analyzer which is good in most cases. But, we do not allow for implementing custom analyzer or use [built-in analyzers](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html).  Describe the solution you'd like Add support for the [built-in analyzers](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html) other-file other-file other-file",no-bug,0.9
6184,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6184,Expose Route property on HttpRequest through Liquid,"Similar to the way the `HttpRequest` object is exposed via properties like `QueryString`, `Query`, `Cookies` etc, we should expose `Route`. Which becomes extra useful in combination with #5305",other-file,"Expose Route property on HttpRequest through Liquid Similar to the way the `HttpRequest` object is exposed via properties like `QueryString`, `Query`, `Cookies` etc, we should expose `Route`. Which becomes extra useful in combination with #5305 other-file",no-bug,0.9
7577,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7577,Admin Menu permissions not evaluated correctly (UserId regression),Now that we have the UserId we should be evaluating it instead of the UserName.,other-file | other-file | config-file | documentation-file | other-file | documentation-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Admin Menu permissions not evaluated correctly (UserId regression) Now that we have the UserId we should be evaluating it instead of the UserName. other-file other-file config-file documentation-file other-file documentation-file config-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.7
13024,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13024,Dynamic permission can't save in role,"bug in pull: https://github.com/OrchardCMS/OrchardCore/pull/12510 1. Edit a role 2. Select some dynamic permissions , like 'ExecuteApi_RecentBlogPosts' 3. Click save . 4. Reopen the role , ExecuteApi_RecentBlogPosts is not checked cuz the code only can load the static permissions , the program will break on line 235 https://github.com/OrchardCMS/OrchardCore/blob/083d5d7f9885b6ba034f642259cb94326af9e551/src/OrchardCore.Modules/OrchardCore.Roles/Controllers/AdminController.cs#L219-L252 We should load all permissions this way: https://github.com/OrchardCMS/OrchardCore/blob/083d5d7f9885b6ba034f642259cb94326af9e551/src/OrchardCore.Modules/OrchardCore.Roles/Controllers/AdminController.cs#L184-L185",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"Dynamic permission can't save in role bug in pull: https://github.com/OrchardCMS/OrchardCore/pull/12510 1. Edit a role 2. Select some dynamic permissions , like 'ExecuteApi_RecentBlogPosts' 3. Click save . 4. Reopen the role , ExecuteApi_RecentBlogPosts is not checked cuz the code only can load the static permissions , the program will break on line 235 https://github.com/OrchardCMS/OrchardCore/blob/083d5d7f9885b6ba034f642259cb94326af9e551/src/OrchardCore.Modules/OrchardCore.Roles/Controllers/AdminController.cs#L219-L252 We should load all permissions this way: https://github.com/OrchardCMS/OrchardCore/blob/083d5d7f9885b6ba034f642259cb94326af9e551/src/OrchardCore.Modules/OrchardCore.Roles/Controllers/AdminController.cs#L184-L185 other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.9
8064,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8064,Content Localization: Documentation,Add CulturePicker configuration section and link in appsettings.json,documentation-file | documentation-file | documentation-file | documentation-file,Content Localization: Documentation Add CulturePicker configuration section and link in appsettings.json documentation-file documentation-file documentation-file documentation-file,no-bug,0.95
15541,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15541,Add optional target='_blank' to the Menus and AdminMenus,In some cases we need to always open external links in new pages,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Add optional target='_blank' to the Menus and AdminMenus In some cases we need to always open external links in new pages other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
16389,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16389,Style blockquote in markdown editor preview," Describe the bug Then using TheAdmin and edit content item using Markdown editor (MarkdownBodyPart and MarkdownBodyField), blockquotes are not styles in the preview.  Orchard Core version 2.0.0-previews.  To Reproduce Steps to reproduce the behavior: 1. Create Content Type A and attach MarkdownBodyPart 2. Create a new content item of A. 3. Click on ""Preview"" model of the markdown editor and add a blockquote like this ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/6e0d10a3-0f8c-45ee-8e13-cc6c2045d0a4) The blockquote are not being styles.  Expected behavior I expect blockquote to be styled using something like this > blockquote style example",other-file | other-file | other-file | other-file,"Style blockquote in markdown editor preview  Describe the bug Then using TheAdmin and edit content item using Markdown editor (MarkdownBodyPart and MarkdownBodyField), blockquotes are not styles in the preview.  Orchard Core version 2.0.0-previews.  To Reproduce Steps to reproduce the behavior: 1. Create Content Type A and attach MarkdownBodyPart 2. Create a new content item of A. 3. Click on ""Preview"" model of the markdown editor and add a blockquote like this ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/6e0d10a3-0f8c-45ee-8e13-cc6c2045d0a4) The blockquote are not being styles.  Expected behavior I expect blockquote to be styled using something like this > blockquote style example other-file other-file other-file other-file",no-bug,0.9
5087,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5087,Feature request: CodeMirror editor for TextField,Implement a TextField editor (with settings) for CodeMirror,other-file | other-file | documentation-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file,Feature request: CodeMirror editor for TextField Implement a TextField editor (with settings) for CodeMirror other-file other-file documentation-file other-file source-file source-file source-file source-file source-file source-file other-file other-file,no-bug,0.9
7983,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7983,"trumbowyg, highlight plugin generate errors","Hi all, I have see in my chrome console an error coming from highlight plugin of trumbowyg:  Uncaught ReferenceError: Prism is not defined at trumbowyg-plugins.js?v=O0-IrrJql8_bnSfH8FpzDlJIUYcF2QeILO51JmCT2aA:1418  For now, the only issue I have seen, it's about the missing translation of the interface. Thank you.",source-file | other-file | other-file | source-file | source-file | other-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file,"trumbowyg, highlight plugin generate errors Hi all, I have see in my chrome console an error coming from highlight plugin of trumbowyg:  Uncaught ReferenceError: Prism is not defined at trumbowyg-plugins.js?v=O0-IrrJql8_bnSfH8FpzDlJIUYcF2QeILO51JmCT2aA:1418  For now, the only issue I have seen, it's about the missing translation of the interface. Thank you. source-file other-file other-file source-file source-file other-file other-file source-file other-file other-file source-file source-file other-file other-file",no-bug,0.9
16056,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16056,Show recipe error instead if throwing an exeption,"Currently when importing a recipe and something goes throw, an exception is thrown. In a production environment, the user gets a white page which leaves them lost on what had happened. Instead, we should catch these exceptions and show the error to the user so they have feedback instead of dumping exception or a white page.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Show recipe error instead if throwing an exeption Currently when importing a recipe and something goes throw, an exception is thrown. In a production environment, the user gets a white page which leaves them lost on what had happened. Instead, we should catch these exceptions and show the error to the user so they have feedback instead of dumping exception or a white page. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
13888,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13888,Make 2FA requirement extensible," Is your feature request related to a problem? Please describe. Currently, two factor authentication is decided the settings found in `LoginSettings.RequireTwoFactorAuthentication`. In some case, a user may have additional logic to determine if 2FA should be required or not. Here are some examples - Require authentication after x amount of login. - Require 2FA if the user is on external network. - Require 2FA if the user is not on a known network.  Describe the solution you'd like Use handler to determine 2FA should be required or not.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Make 2FA requirement extensible  Is your feature request related to a problem? Please describe. Currently, two factor authentication is decided the settings found in `LoginSettings.RequireTwoFactorAuthentication`. In some case, a user may have additional logic to determine if 2FA should be required or not. Here are some examples - Require authentication after x amount of login. - Require 2FA if the user is on external network. - Require 2FA if the user is not on a known network.  Describe the solution you'd like Use handler to determine 2FA should be required or not. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5869,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5869,Feature Request? Content specific assets,I'm not sure if this exists. I want the ability to upload assets such as images or movie clips or whatever that are specific to a content item. I think possibly this would be referred to as an AssetsPart. Then in the html of the content item you can reference these assets.,documentation-file | documentation-file | documentation-file,Feature Request? Content specific assets I'm not sure if this exists. I want the ability to upload assets such as images or movie clips or whatever that are specific to a content item. I think possibly this would be referred to as an AssetsPart. Then in the html of the content item you can reference these assets. documentation-file documentation-file documentation-file,no-bug,0.95
6079,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6079,Hide title part for form and label type,"As per below comment by @jwu-au on PR #6053 , > Hi @ns8482e , do we want to make below as default for this PR? > >  > { > ""TitlePart"": [ > { > // hides title part for form and label type > ""displayType"": ""Detail"", > ""contentType"": [""Form"", ""Label""], > ""place"": ""-"" > } > ] > } >  Following options to hide TitlePart, Option 1: revert deletion of widget-form.cshtml and widget-label.cshtml Option 2: Use placement as above Option 3: Create ""Render Title"" in TitlePart setting to hide title on UI, also a solution for issue #5959 [suggested changes]( https://github.com/OrchardCMS/OrchardCore/compare/devsurevelox:ns8482e/%236079) Suggestions? /cc @sebastienros @deanmarcussen @Piedone",other-file | documentation-file | other-file | config-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file,"Hide title part for form and label type As per below comment by @jwu-au on PR #6053 , > Hi @ns8482e , do we want to make below as default for this PR? > >  > { > ""TitlePart"": [ > { > // hides title part for form and label type > ""displayType"": ""Detail"", > ""contentType"": [""Form"", ""Label""], > ""place"": ""-"" > } > ] > } >  Following options to hide TitlePart, Option 1: revert deletion of widget-form.cshtml and widget-label.cshtml Option 2: Use placement as above Option 3: Create ""Render Title"" in TitlePart setting to hide title on UI, also a solution for issue #5959 [suggested changes]( https://github.com/OrchardCMS/OrchardCore/compare/devsurevelox:ns8482e/%236079) Suggestions? /cc @sebastienros @deanmarcussen @Piedone other-file documentation-file other-file config-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file documentation-file other-file documentation-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file",no-bug,0.9
5761,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5761,FlowPart: layout for second HTML widget is broken,"When adding two widgets with an HTML field to a FlowPart, layout is broken for the second widget: ![flow-layout](https://user-images.githubusercontent.com/3008547/77164819-540b3e00-6ab1-11ea-9280-786bf6c9c37f.png) It's working fine when adding the widget, this happens when you edit an existing item.",other-file,"FlowPart: layout for second HTML widget is broken When adding two widgets with an HTML field to a FlowPart, layout is broken for the second widget: ![flow-layout](https://user-images.githubusercontent.com/3008547/77164819-540b3e00-6ab1-11ea-9280-786bf6c9c37f.png) It's working fine when adding the widget, this happens when you edit an existing item. other-file",no-bug,0.95
11953,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11953,InvalidOperationException when using responseWrite scripting method,"I'm getting **InvalidOperationException** when using **responseWrite** scripting method.  info: Microsoft.AspNetCore.Hosting.Diagnostics[1] Request starting HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request starting HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - OrchardCore.Modules.ModularTenantRouterMiddleware: Information: Begin Routing Request info: OrchardCore.Modules.ModularTenantRouterMiddleware[0] Begin Routing Request Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executing endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0] Executing endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Route matched with {area = ""OrchardCore.Workflows"", action = ""Invoke"", controller = ""HttpWorkflow""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoke(System.String) on controller OrchardCore.Workflows.Http.Controllers.HttpWorkflowController (OrchardCore.Workflows). info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[3] Route matched with {area = ""OrchardCore.Workflows"", action = ""Invoke"", controller = ""HttpWorkflow""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoke(System.String) on controller OrchardCore.Workflows.Http.Controllers.HttpWorkflowController (OrchardCore.Workflows). OrchardCore.Workflows.Http.Controllers.HttpWorkflowController: Debug: Invoking new workflow of type '4qcvrdnwpnck85v99s6cypg3ws' with start activity '4vpxs6hpwaxc45qzeqzbqh95dh' dbug: OrchardCore.Workflows.Http.Controllers.HttpWorkflowController[0] Invoking new workflow of type '4qcvrdnwpnck85v99s6cypg3ws' with start activity '4vpxs6hpwaxc45qzeqzbqh95dh' Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Information: Executing AcceptedResult, writing value of type 'null'. info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1] Executing AcceptedResult, writing value of type 'null'. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Executed action OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows) in 17.1947ms info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[2] Executed action OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows) in 17.1947ms Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executed endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1] Executed endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: Error: An unhandled exception has occurred while executing the request. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) fail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[1] An unhandled exception has occurred while executing the request. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: Warning: The response has already started, the error page middleware will not be executed. warn: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[2] The response has already started, the error page middleware will not be executed. fail: Microsoft.AspNetCore.Server.Kestrel[13] Connection id ""0HMITFOP71NAH"", Request id ""0HMITFOP71NAH:00000002"": An unhandled exception was thrown by the application. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application) Microsoft.AspNetCore.Server.Kestrel: Error: Connection id ""0HMITFOP71NAH"", Request id ""0HMITFOP71NAH:00000002"": An unhandled exception was thrown by the application. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application) Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request finished HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - - 200 - - 237.3082ms info: Microsoft.AspNetCore.Hosting.Diagnostics[2] Request finished HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - - 200 - - 237.3082ms info: OrchardCore.Modules.ModularBackgroundService[0] Start processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'. OrchardCore.Modules.ModularBackgroundService: Information: Start processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'. info: OrchardCore.Modules.ModularBackgroundService[0] Finished processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'. OrchardCore.Modules.ModularBackgroundService: Information: Finished processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'.  you can try to repro this issue, using simple workflow:  { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""Feature"", ""enable"": [ ""Application.Default"", ""TryOrchardCore.Web"", ""OrchardCore.Settings"", ""OrchardCore.Admin"", ""OrchardCore.Liquid"", ""OrchardCore.Contents"", ""OrchardCore.ContentTypes"", ""OrchardCore.Templates"", ""OrchardCore.Alias"", ""OrchardCore.Autoroute"", ""OrchardCore.Resources"", ""OrchardCore.Features"", ""OrchardCore.Scripting"", ""OrchardCore.Recipes"", ""OrchardCore.Shortcodes"", ""OrchardCore.ContentFields"", ""OrchardCore.Users"", ""OrchardCore.ContentPreview"", ""OrchardCore.Deployment"", ""OrchardCore.CustomSettings"", ""OrchardCore.Deployment.Remote"", ""OrchardCore.Diagnostics"", ""OrchardCore.DynamicCache"", ""OrchardCore.Widgets"", ""OrchardCore.Flows"", ""OrchardCore.HomeRoute"", ""OrchardCore.Html"", ""OrchardCore.Rules"", ""OrchardCore.Layers"", ""OrchardCore.Lists"", ""OrchardCore.Markdown"", ""OrchardCore.Media"", ""OrchardCore.Title"", ""OrchardCore.Menu"", ""OrchardCore.Navigation"", ""OrchardCore.Placements"", ""OrchardCore.Queries"", ""OrchardCore.Roles"", ""OrchardCore.Security"", ""OrchardCore.Shortcodes.Templates"", ""OrchardCore.Themes"", ""OrchardCore.Workflows"", ""OrchardCore.Workflows.Http"", ""SafeMode"", ""TheAdmin"", ""TheAgencyTheme"" ] }, { ""name"": ""WorkflowType"", ""data"": [ { ""WorkflowTypeId"": ""4qcvrdnwpnck85v99s6cypg3ws"", ""Name"": ""responseWriteTest"", ""IsEnabled"": true, ""IsSingleton"": false, ""LockTimeout"": 0, ""LockExpiration"": 0, ""DeleteFinishedWorkflows"": true, ""Activities"": [ { ""ActivityId"": ""4vpxs6hpwaxc45qzeqzbqh95dh"", ""Name"": ""HttpRequestEvent"", ""X"": 0, ""Y"": 0, ""IsStart"": true, ""Properties"": { ""ActivityMetadata"": { ""Title"": null }, ""HttpMethod"": ""GET"", ""Url"": ""/mv33qwd2/workflows/Invoke?token=CfDJ8ERCgEhYWqBJtj7bUEDc0fqUPbpgxfg6fGm5_29QA9X0adxzwJYSBMqpF7lqjVg57ZwZ4YWHONHLTaJxdnsv0Cg07i6xZpqyttyqYbUzYg50oc86WgCB4XlH3MFREe90ITOBeiQEKsfTASx_dlkmCpDY28Y-VQwbMqYmtd7LfNAHUOZk9NUS7B2ptdaJ1ehrnKyljz2DuJRJBGGTCfp37MtTo4BfOFPsOEqz7a2F15MH"", ""ValidateAntiforgeryToken"": false, ""TokenLifeSpan"": 0 } }, { ""ActivityId"": ""407yt6pq132en6n1p71art555v"", ""Name"": ""ScriptTask"", ""X"": 460, ""Y"": 10, ""IsStart"": false, ""Properties"": { ""ActivityMetadata"": { ""Title"": null }, ""AvailableOutcomes"": [ ""Done"" ], ""Script"": { ""Expression"": ""responseWrite(\""<h1>hello world</h1>\"");\r\nsetOutcome('Done');"" } } } ], ""Transitions"": [ { ""Id"": 0, ""SourceActivityId"": ""4vpxs6hpwaxc45qzeqzbqh95dh"", ""SourceOutcomeName"": ""Done"", ""DestinationActivityId"": ""407yt6pq132en6n1p71art555v"" } ] } ] } ] }  (You may need to regenerate HttpRequestEvent url.)",other-file,"InvalidOperationException when using responseWrite scripting method I'm getting **InvalidOperationException** when using **responseWrite** scripting method.  info: Microsoft.AspNetCore.Hosting.Diagnostics[1] Request starting HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request starting HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - OrchardCore.Modules.ModularTenantRouterMiddleware: Information: Begin Routing Request info: OrchardCore.Modules.ModularTenantRouterMiddleware[0] Begin Routing Request Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executing endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0] Executing endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Route matched with {area = ""OrchardCore.Workflows"", action = ""Invoke"", controller = ""HttpWorkflow""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoke(System.String) on controller OrchardCore.Workflows.Http.Controllers.HttpWorkflowController (OrchardCore.Workflows). info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[3] Route matched with {area = ""OrchardCore.Workflows"", action = ""Invoke"", controller = ""HttpWorkflow""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Invoke(System.String) on controller OrchardCore.Workflows.Http.Controllers.HttpWorkflowController (OrchardCore.Workflows). OrchardCore.Workflows.Http.Controllers.HttpWorkflowController: Debug: Invoking new workflow of type '4qcvrdnwpnck85v99s6cypg3ws' with start activity '4vpxs6hpwaxc45qzeqzbqh95dh' dbug: OrchardCore.Workflows.Http.Controllers.HttpWorkflowController[0] Invoking new workflow of type '4qcvrdnwpnck85v99s6cypg3ws' with start activity '4vpxs6hpwaxc45qzeqzbqh95dh' Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Information: Executing AcceptedResult, writing value of type 'null'. info: Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor[1] Executing AcceptedResult, writing value of type 'null'. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Executed action OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows) in 17.1947ms info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[2] Executed action OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows) in 17.1947ms Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executed endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1] Executed endpoint 'OrchardCore.Workflows.Http.Controllers.HttpWorkflowController.Invoke (OrchardCore.Workflows)' Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: Error: An unhandled exception has occurred while executing the request. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) fail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[1] An unhandled exception has occurred while executing the request. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: Warning: The response has already started, the error page middleware will not be executed. warn: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[2] The response has already started, the error page middleware will not be executed. fail: Microsoft.AspNetCore.Server.Kestrel[13] Connection id ""0HMITFOP71NAH"", Request id ""0HMITFOP71NAH:00000002"": An unhandled exception was thrown by the application. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application) Microsoft.AspNetCore.Server.Kestrel: Error: Connection id ""0HMITFOP71NAH"", Request id ""0HMITFOP71NAH:00000002"": An unhandled exception was thrown by the application. System.InvalidOperationException: StatusCode cannot be set because the response has already started. at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_StatusCode(Int32 value) at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.AcceptedResult.OnFormatting(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value) at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result) at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()  End of stack trace from previous location  at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at OrchardCore.Apis.GraphQL.GraphQLMiddleware.Invoke(HttpContext context, IAuthorizationService authorizationService, IAuthenticationService authenticationService, ISchemaFactory schemaService) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__1_1>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application) Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request finished HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - - 200 - - 237.3082ms info: Microsoft.AspNetCore.Hosting.Diagnostics[2] Request finished HTTP/1.1 GET https://localhost:5001/workflows/Invoke?token=CfDJ8Eccv2rzJ8pOsQGIv-oI-6cWwyOvjunMaqTWq_jcEcY0NkLbf5JNyYB2ZbY1fj27bFXUunUUNKXl2FSfHa4zfffO0VytS91u4s7j3ozewqW_M_JPrPST0i4urJCrPTzFKoIvKA95lC1Pl0SashQXbhL_9TaWCOiK6YaNYRwGWkGY8jf8HENyNCOWm3aqD8PCDO2lpbnTr4ky9_GWDQTkMrbxTkqYMVQE41AM-0ez343a - - - 200 - - 237.3082ms info: OrchardCore.Modules.ModularBackgroundService[0] Start processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'. OrchardCore.Modules.ModularBackgroundService: Information: Start processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'. info: OrchardCore.Modules.ModularBackgroundService[0] Finished processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'. OrchardCore.Modules.ModularBackgroundService: Information: Finished processing background task 'OrchardCore.Workflows.Timers.TimerBackgroundTask' on tenant 'Default'.  you can try to repro this issue, using simple workflow:  { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""Feature"", ""enable"": [ ""Application.Default"", ""TryOrchardCore.Web"", ""OrchardCore.Settings"", ""OrchardCore.Admin"", ""OrchardCore.Liquid"", ""OrchardCore.Contents"", ""OrchardCore.ContentTypes"", ""OrchardCore.Templates"", ""OrchardCore.Alias"", ""OrchardCore.Autoroute"", ""OrchardCore.Resources"", ""OrchardCore.Features"", ""OrchardCore.Scripting"", ""OrchardCore.Recipes"", ""OrchardCore.Shortcodes"", ""OrchardCore.ContentFields"", ""OrchardCore.Users"", ""OrchardCore.ContentPreview"", ""OrchardCore.Deployment"", ""OrchardCore.CustomSettings"", ""OrchardCore.Deployment.Remote"", ""OrchardCore.Diagnostics"", ""OrchardCore.DynamicCache"", ""OrchardCore.Widgets"", ""OrchardCore.Flows"", ""OrchardCore.HomeRoute"", ""OrchardCore.Html"", ""OrchardCore.Rules"", ""OrchardCore.Layers"", ""OrchardCore.Lists"", ""OrchardCore.Markdown"", ""OrchardCore.Media"", ""OrchardCore.Title"", ""OrchardCore.Menu"", ""OrchardCore.Navigation"", ""OrchardCore.Placements"", ""OrchardCore.Queries"", ""OrchardCore.Roles"", ""OrchardCore.Security"", ""OrchardCore.Shortcodes.Templates"", ""OrchardCore.Themes"", ""OrchardCore.Workflows"", ""OrchardCore.Workflows.Http"", ""SafeMode"", ""TheAdmin"", ""TheAgencyTheme"" ] }, { ""name"": ""WorkflowType"", ""data"": [ { ""WorkflowTypeId"": ""4qcvrdnwpnck85v99s6cypg3ws"", ""Name"": ""responseWriteTest"", ""IsEnabled"": true, ""IsSingleton"": false, ""LockTimeout"": 0, ""LockExpiration"": 0, ""DeleteFinishedWorkflows"": true, ""Activities"": [ { ""ActivityId"": ""4vpxs6hpwaxc45qzeqzbqh95dh"", ""Name"": ""HttpRequestEvent"", ""X"": 0, ""Y"": 0, ""IsStart"": true, ""Properties"": { ""ActivityMetadata"": { ""Title"": null }, ""HttpMethod"": ""GET"", ""Url"": ""/mv33qwd2/workflows/Invoke?token=CfDJ8ERCgEhYWqBJtj7bUEDc0fqUPbpgxfg6fGm5_29QA9X0adxzwJYSBMqpF7lqjVg57ZwZ4YWHONHLTaJxdnsv0Cg07i6xZpqyttyqYbUzYg50oc86WgCB4XlH3MFREe90ITOBeiQEKsfTASx_dlkmCpDY28Y-VQwbMqYmtd7LfNAHUOZk9NUS7B2ptdaJ1ehrnKyljz2DuJRJBGGTCfp37MtTo4BfOFPsOEqz7a2F15MH"", ""ValidateAntiforgeryToken"": false, ""TokenLifeSpan"": 0 } }, { ""ActivityId"": ""407yt6pq132en6n1p71art555v"", ""Name"": ""ScriptTask"", ""X"": 460, ""Y"": 10, ""IsStart"": false, ""Properties"": { ""ActivityMetadata"": { ""Title"": null }, ""AvailableOutcomes"": [ ""Done"" ], ""Script"": { ""Expression"": ""responseWrite(\""<h1>hello world</h1>\"");\r\nsetOutcome('Done');"" } } } ], ""Transitions"": [ { ""Id"": 0, ""SourceActivityId"": ""4vpxs6hpwaxc45qzeqzbqh95dh"", ""SourceOutcomeName"": ""Done"", ""DestinationActivityId"": ""407yt6pq132en6n1p71art555v"" } ] } ] } ] }  (You may need to regenerate HttpRequestEvent url.) other-file",bug,0.9
17185,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17185,Can't query on content type from Elasticsearch and sample is wrong,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug I can't seem to create an Elasticsearch query that filters on content type. The `RecentBlogPosts` query in TheBlog theme's recipe, as well as all the samples in the documentation are broken too.  Orchard Core version Latest `main` (238ed0e2414341bfda514275e4f5e40c76d8bda6). This used to work in 1.8.x.  To Reproduce 1. Run Elasticsearch locally or else, and configure it in appsettings. 2. Set up with the Blog recipe. 3. Run the ""Blog - Elasticsearch Query"" recipe. 4. Open the `RecentBlogPosts` Query. Notice that its ""Query"" textbox is empty. This is bug 1. 5. Try to run the same Elasticsearch query that was in the recipe and used to work under 1.8.x, see below, and observe that it doesn't return any items, though it should the Blog Post created during setup. This is bug 2. json { ""query"": { ""term"": { ""Content.ContentItem.ContentType"": ""BlogPost"" } }, ""sort"": [ { ""Content.ContentItem.CreatedUtc"": ""desc"" } ], ""size"": 3 }  Using these variations doesn't return any items either: json { ""query"": { ""term"": { ""Content.ContentItem.ContentType.keyword"": ""BlogPost"" } } }  json { ""query"": { ""match"": { ""Content.ContentItem.ContentType.keyword"": ""BlogPost"" } } }  json { ""query"": { ""match"": { ""Content.ContentItem.ContentType"": ""BlogPost"" } } }  They field is correctly mapped (as a keyword): json { ""aliases"": {}, ""mappings"": { ""dynamic_templates"": [ { ""*.Inherited"": { ""match_mapping_type"": ""string"", ""path_match"": ""*.Inherited"", ""mapping"": { ""type"": ""keyword"" } } }, { ""*.Ids"": { ""match_mapping_type"": ""string"", ""path_match"": ""*.Ids"", ""mapping"": { ""type"": ""keyword"" } } }, { ""*.Location"": { ""match_mapping_type"": ""object"", ""path_match"": ""*.Location"", ""mapping"": { ""type"": ""geo_point"" } } } ], ""_meta"": { ""last_task_id"": 7 }, ""properties"": { ""Content"": { ""properties"": { ""BodyAspect"": { ""properties"": { ""Body"": { ""fields"": { ""keyword"": { ""ignore_above"": 256, ""type"": ""keyword"" } }, ""type"": ""text"" } }, ""type"": ""object"" }, ""ContentItem"": { ""properties"": { ""Author"": { ""fields"": { ""keyword"": { ""ignore_above"": 256, ""type"": ""keyword"" } }, ""type"": ""text"" }, ""ContainedPart"": { ""properties"": { ""Ids"": { ""type"": ""keyword"" }, ""Order"": { ""type"": ""float"" } }, ""type"": ""object"" }, ""ContentType"": { ""type"": ""keyword"" }, ""CreatedUtc"": { ""type"": ""date"" }, ""DisplayText"": { ""properties"": { ""Analyzed"": { ""type"": ""text"" }, ""Keyword"": { ""type"": ""keyword"" }, ""Normalized"": { ""type"": ""keyword"" }, ""keyword"": { ""fields"": { ""keyword"": { ""ignore_above"": 256, ""type"": ""keyword"" } }, ""type"": ""text"" } }, ""type"": ""object"" }, ""FullText"": { ""type"": ""text"" }, ""Latest"": { ""type"": ""boolean"" }, ""ModifiedUtc"": { ""type"": ""date"" }, ""Owner"": { ""type"": ""keyword"" }, ""Published"": { ""type"": ""boolean"" }, ""PublishedUtc"": { ""type"": ""date"" } }, ""type"": ""object"" } }, ""type"": ""object"" }, ""ContentItemId"": { ""type"": ""keyword"" }, ""ContentItemVersionId"": { ""type"": ""keyword"" } }, ""_source"": { ""enabled"": true, ""excludes"": [ ""Content.ContentItem.DisplayText.Analyzed"" ] } }, ""settings"": { ""index"": { ""analysis"": { ""analyzer"": { ""standard"": { ""type"": ""standard"" } } }, ""creation_date"": 1733704276685, ""number_of_replicas"": ""1"", ""number_of_shards"": ""1"", ""provided_name"": ""default_search"", ""routing"": { ""allocation"": { ""include"": { ""_tier_preference"": ""data_content"" } } }, ""uuid"": ""eyiyt9TNTfmnkPV3dA4Egw"", ""version"": { ""created"": ""8518000"" } } } }  Keyword search from under /Search still works.  Expected behavior The Query from the recipe should work. Also, samples like the ones under https://docs.orchardcore.net/en/latest/guides/query-content-items-based-on-taxonomy/ should also work (they're for Lucene, but this is supposed to work the same).  Logs and screenshots <!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. -->",other-file | other-file,"Can't query on content type from Elasticsearch and sample is wrong <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug I can't seem to create an Elasticsearch query that filters on content type. The `RecentBlogPosts` query in TheBlog theme's recipe, as well as all the samples in the documentation are broken too.  Orchard Core version Latest `main` (238ed0e2414341bfda514275e4f5e40c76d8bda6). This used to work in 1.8.x.  To Reproduce 1. Run Elasticsearch locally or else, and configure it in appsettings. 2. Set up with the Blog recipe. 3. Run the ""Blog - Elasticsearch Query"" recipe. 4. Open the `RecentBlogPosts` Query. Notice that its ""Query"" textbox is empty. This is bug 1. 5. Try to run the same Elasticsearch query that was in the recipe and used to work under 1.8.x, see below, and observe that it doesn't return any items, though it should the Blog Post created during setup. This is bug 2. json { ""query"": { ""term"": { ""Content.ContentItem.ContentType"": ""BlogPost"" } }, ""sort"": [ { ""Content.ContentItem.CreatedUtc"": ""desc"" } ], ""size"": 3 }  Using these variations doesn't return any items either: json { ""query"": { ""term"": { ""Content.ContentItem.ContentType.keyword"": ""BlogPost"" } } }  json { ""query"": { ""match"": { ""Content.ContentItem.ContentType.keyword"": ""BlogPost"" } } }  json { ""query"": { ""match"": { ""Content.ContentItem.ContentType"": ""BlogPost"" } } }  They field is correctly mapped (as a keyword): json { ""aliases"": {}, ""mappings"": { ""dynamic_templates"": [ { ""*.Inherited"": { ""match_mapping_type"": ""string"", ""path_match"": ""*.Inherited"", ""mapping"": { ""type"": ""keyword"" } } }, { ""*.Ids"": { ""match_mapping_type"": ""string"", ""path_match"": ""*.Ids"", ""mapping"": { ""type"": ""keyword"" } } }, { ""*.Location"": { ""match_mapping_type"": ""object"", ""path_match"": ""*.Location"", ""mapping"": { ""type"": ""geo_point"" } } } ], ""_meta"": { ""last_task_id"": 7 }, ""properties"": { ""Content"": { ""properties"": { ""BodyAspect"": { ""properties"": { ""Body"": { ""fields"": { ""keyword"": { ""ignore_above"": 256, ""type"": ""keyword"" } }, ""type"": ""text"" } }, ""type"": ""object"" }, ""ContentItem"": { ""properties"": { ""Author"": { ""fields"": { ""keyword"": { ""ignore_above"": 256, ""type"": ""keyword"" } }, ""type"": ""text"" }, ""ContainedPart"": { ""properties"": { ""Ids"": { ""type"": ""keyword"" }, ""Order"": { ""type"": ""float"" } }, ""type"": ""object"" }, ""ContentType"": { ""type"": ""keyword"" }, ""CreatedUtc"": { ""type"": ""date"" }, ""DisplayText"": { ""properties"": { ""Analyzed"": { ""type"": ""text"" }, ""Keyword"": { ""type"": ""keyword"" }, ""Normalized"": { ""type"": ""keyword"" }, ""keyword"": { ""fields"": { ""keyword"": { ""ignore_above"": 256, ""type"": ""keyword"" } }, ""type"": ""text"" } }, ""type"": ""object"" }, ""FullText"": { ""type"": ""text"" }, ""Latest"": { ""type"": ""boolean"" }, ""ModifiedUtc"": { ""type"": ""date"" }, ""Owner"": { ""type"": ""keyword"" }, ""Published"": { ""type"": ""boolean"" }, ""PublishedUtc"": { ""type"": ""date"" } }, ""type"": ""object"" } }, ""type"": ""object"" }, ""ContentItemId"": { ""type"": ""keyword"" }, ""ContentItemVersionId"": { ""type"": ""keyword"" } }, ""_source"": { ""enabled"": true, ""excludes"": [ ""Content.ContentItem.DisplayText.Analyzed"" ] } }, ""settings"": { ""index"": { ""analysis"": { ""analyzer"": { ""standard"": { ""type"": ""standard"" } } }, ""creation_date"": 1733704276685, ""number_of_replicas"": ""1"", ""number_of_shards"": ""1"", ""provided_name"": ""default_search"", ""routing"": { ""allocation"": { ""include"": { ""_tier_preference"": ""data_content"" } } }, ""uuid"": ""eyiyt9TNTfmnkPV3dA4Egw"", ""version"": { ""created"": ""8518000"" } } } }  Keyword search from under /Search still works.  Expected behavior The Query from the recipe should work. Also, samples like the ones under https://docs.orchardcore.net/en/latest/guides/query-content-items-based-on-taxonomy/ should also work (they're for Lucene, but this is supposed to work the same).  Logs and screenshots <!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. --> other-file other-file",no-bug,0.9
11612,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11612,Add HtmlPrefix parameter to IDisplayManager<TModel>," Is your feature request related to a problem? Please describe. I have a need to create a function that would create users in bulk from excel file. Now, that I have a collection of data (user data), I need a way to tell drivers the prefix that should be use when building the ShapeResult. For example, the UserDisplayDriver tries to bind the data from the request to `EditUserViewModel`. However, if the request has data that are prefixed with `Users[0].User_` the binding engine would not know how to bind the data in the request to the viewmodel.  Describe the solution you'd like Change the IDisplayManager<TModel> to the following  public interface IDisplayManager<TModel> { Task<IShape> BuildDisplayAsync(TModel model, IUpdateModel updater, string displayType = """", string groupId = """", string htmlPrefix = """"); Task<IShape> BuildEditorAsync(TModel model, IUpdateModel updater, bool isNew, string groupId = """", string htmlPrefix = """"); Task<IShape> UpdateEditorAsync(TModel model, IUpdateModel updater, bool isNew, string groupId = """", string htmlPrefix = """"); }  Now with that change, during the post request on creating the user I can do something like this  for(int i = 0; i < model.Record.Length; i++) { var user = new User(); var prefix = $""{nameof(model.Record)}[{i}]""; // prefix would be ""Record[0]"" var shape = await _userDisplayManager.UpdateEditorAsync(user, updater: _updateModelAccessor.ModelUpdater, isNew: true, htmlPrefix = prefix); await _userService.CreateUserAsync(user, null, ModelState.AddModelError); }  If this is an acceptable approach I can submit a PR",other-file | other-file | other-file | other-file | other-file | other-file,"Add HtmlPrefix parameter to IDisplayManager<TModel>  Is your feature request related to a problem? Please describe. I have a need to create a function that would create users in bulk from excel file. Now, that I have a collection of data (user data), I need a way to tell drivers the prefix that should be use when building the ShapeResult. For example, the UserDisplayDriver tries to bind the data from the request to `EditUserViewModel`. However, if the request has data that are prefixed with `Users[0].User_` the binding engine would not know how to bind the data in the request to the viewmodel.  Describe the solution you'd like Change the IDisplayManager<TModel> to the following  public interface IDisplayManager<TModel> { Task<IShape> BuildDisplayAsync(TModel model, IUpdateModel updater, string displayType = """", string groupId = """", string htmlPrefix = """"); Task<IShape> BuildEditorAsync(TModel model, IUpdateModel updater, bool isNew, string groupId = """", string htmlPrefix = """"); Task<IShape> UpdateEditorAsync(TModel model, IUpdateModel updater, bool isNew, string groupId = """", string htmlPrefix = """"); }  Now with that change, during the post request on creating the user I can do something like this  for(int i = 0; i < model.Record.Length; i++) { var user = new User(); var prefix = $""{nameof(model.Record)}[{i}]""; // prefix would be ""Record[0]"" var shape = await _userDisplayManager.UpdateEditorAsync(user, updater: _updateModelAccessor.ModelUpdater, isNew: true, htmlPrefix = prefix); await _userService.CreateUserAsync(user, null, ModelState.AddModelError); }  If this is an acceptable approach I can submit a PR other-file other-file other-file other-file other-file other-file",no-bug,0.9
9262,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9262,Admin favicon,"Using the latest packages, the LinkTagHelper for the admin favicon is not correctly rendered in the HTML source: `<link asp-src=""~/OrchardCore.Admin/favicon.ico"" type=""image/x-icon"" rel=""shortcut icon"" />`",other-file,"Admin favicon Using the latest packages, the LinkTagHelper for the admin favicon is not correctly rendered in the HTML source: `<link asp-src=""~/OrchardCore.Admin/favicon.ico"" type=""image/x-icon"" rel=""shortcut icon"" />` other-file",no-bug,0.9
9395,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9395,Admin dashboard: does not work on tenant?," Describe the bug I can create and unpublish dashboard widgets, but can not modify or delete. It has happened to me on 2 projects and only difference between others is that they run more tenants (with Tenants feature enabled). When there is only default tenant, everything is ok. What happens is that if I click on Edit button: ![image](https://user-images.githubusercontent.com/52829889/117619661-d5b7a280-b16f-11eb-9d66-22cc48dca783.png) (leads here: /Admin/dashboard/manage?returnUrl=%2FAdmin%2Fdashboard%2Fmanage) it only refreshes page AND also updates last changed date, but does not even open editor view. Delete does nothing at all, unpublish works.  Expected behavior A clear and concise description of what you expected to happen. Edit should open edit view, delete should delete.",other-file | other-file,"Admin dashboard: does not work on tenant?  Describe the bug I can create and unpublish dashboard widgets, but can not modify or delete. It has happened to me on 2 projects and only difference between others is that they run more tenants (with Tenants feature enabled). When there is only default tenant, everything is ok. What happens is that if I click on Edit button: ![image](https://user-images.githubusercontent.com/52829889/117619661-d5b7a280-b16f-11eb-9d66-22cc48dca783.png) (leads here: /Admin/dashboard/manage?returnUrl=%2FAdmin%2Fdashboard%2Fmanage) it only refreshes page AND also updates last changed date, but does not even open editor view. Delete does nothing at all, unpublish works.  Expected behavior A clear and concise description of what you expected to happen. Edit should open edit view, delete should delete. other-file other-file",no-bug,0.8
14319,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14319,Add new settings to AdminSettings to visit the site on the same page,"Currently, when a user clicks on ""Visit Site"" on the navbar on the admin theme, a new tab opens every time. For some users, it is better to visit the site on the same page. Adding an option on `AdminSettings` like this will be helpful. c# public bool VisitSiteOnNewTab { get; set; } = true ",other-file,"Add new settings to AdminSettings to visit the site on the same page Currently, when a user clicks on ""Visit Site"" on the navbar on the admin theme, a new tab opens every time. For some users, it is better to visit the site on the same page. Adding an option on `AdminSettings` like this will be helpful. c# public bool VisitSiteOnNewTab { get; set; } = true  other-file",no-bug,0.9
6133,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6133,RazorPages with IContentItemDisplayManager.UpdateEditorAsync ModelState is always valid in Admin,When used RazorPages in Admin to Edit content item using IContentItemDisplayManager - `BuildEditorAsync` and `UpdateEditorAsync` ModelState is not reflecting the actual errors It always returns valid.,other-file | other-file | other-file,RazorPages with IContentItemDisplayManager.UpdateEditorAsync ModelState is always valid in Admin When used RazorPages in Admin to Edit content item using IContentItemDisplayManager - `BuildEditorAsync` and `UpdateEditorAsync` ModelState is not reflecting the actual errors It always returns valid. other-file other-file other-file,no-bug,0.8
12406,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12406,When the roles feature is disable the site breaks," Describe the bug If the user disable the roles module the site crashes because the Users needs the following services to work - IRoleService - RoleManager<IRole> - IRoleStore<IRole>  To Reproduce Steps to reproduce the behavior: 1. Disable the Roles module  Expected behavior No exception when disabling the roles module. There are 2 possible fixes here. 1. In the users module add `OrchardCore.Roles` to the dependency list. But this would force the user to use the roles modules to be able to authenticate users in OC. 2. Add the following services to the Users startup file  services.TryAddScoped<IRoleService, RoleService>(); services.TryAddScoped<RoleManager<IRole>>(); services.TryAddScoped<IRoleStore<IRole>, RoleStore>();  But to do we have to move `RolesDocument`, `RoleService` and `RoleStore` from `OrchardCore.Roles` to `OrchardCore.Roles.Core` which I believe where they should live anyway.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"When the roles feature is disable the site breaks  Describe the bug If the user disable the roles module the site crashes because the Users needs the following services to work - IRoleService - RoleManager<IRole> - IRoleStore<IRole>  To Reproduce Steps to reproduce the behavior: 1. Disable the Roles module  Expected behavior No exception when disabling the roles module. There are 2 possible fixes here. 1. In the users module add `OrchardCore.Roles` to the dependency list. But this would force the user to use the roles modules to be able to authenticate users in OC. 2. Add the following services to the Users startup file  services.TryAddScoped<IRoleService, RoleService>(); services.TryAddScoped<RoleManager<IRole>>(); services.TryAddScoped<IRoleStore<IRole>, RoleStore>();  But to do we have to move `RolesDocument`, `RoleService` and `RoleStore` from `OrchardCore.Roles` to `OrchardCore.Roles.Core` which I believe where they should live anyway. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
12351,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12351,Adding a shortcode with no categories throws and exception," Describe the bug When adding a custom shortcode without setting the categories some views throw null exceptions. In the views we group categories using this code  var categories = shortcodeDescriptors .SelectMany(s => s.Categories) .GroupBy(c => c, StringComparer.OrdinalIgnoreCase) .Select(g => g.Key);  That code should be changed to  var categories = shortcodeDescriptors .Where(s => s.Categories != null) // this will prevent the error .SelectMany(s => s.Categories) .GroupBy(c => c, StringComparer.OrdinalIgnoreCase) .Select(g => g.Key); ",other-file | other-file | other-file | other-file | other-file | other-file,"Adding a shortcode with no categories throws and exception  Describe the bug When adding a custom shortcode without setting the categories some views throw null exceptions. In the views we group categories using this code  var categories = shortcodeDescriptors .SelectMany(s => s.Categories) .GroupBy(c => c, StringComparer.OrdinalIgnoreCase) .Select(g => g.Key);  That code should be changed to  var categories = shortcodeDescriptors .Where(s => s.Categories != null) // this will prevent the error .SelectMany(s => s.Categories) .GroupBy(c => c, StringComparer.OrdinalIgnoreCase) .Select(g => g.Key);  other-file other-file other-file other-file other-file other-file",no-bug,0.9
5990,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5990,Deployment plans search,I just noticed that `DeploymentPlans` did not get the new look for the search filters that was added everywhere else some time ago ![deployment plans](https://user-images.githubusercontent.com/13782679/79729323-37983680-82e7-11ea-9d9d-293bb0629426.PNG) //cc @agriffard,other-file | other-file | other-file | other-file | other-file | other-file,Deployment plans search I just noticed that `DeploymentPlans` did not get the new look for the search filters that was added everywhere else some time ago ![deployment plans](https://user-images.githubusercontent.com/13782679/79729323-37983680-82e7-11ea-9d9d-293bb0629426.PNG) //cc @agriffard other-file other-file other-file other-file other-file other-file,no-bug,0.9
5218,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5218,Drag and drop widgets not working anymore,"In the admin page to edit the Layers and Widgets, it is not possible anymore to drag and drop a widget to order it or move it into another zone.",other-file | other-file,"Drag and drop widgets not working anymore In the admin page to edit the Layers and Widgets, it is not possible anymore to drag and drop a widget to order it or move it into another zone. other-file other-file",no-bug,0.9
13769,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13769,Add stereotype as filter for contents UI," Is your feature request related to a problem? Please describe. In some cases, we want to create a menu item that would allow the user to manage content items of a specific stereotype. Currently, we only support single content type but not stereotype.  Describe the solution you'd like Add query parameter `stereotype` that would allow us to manage only content items that share the same given stereotype.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Add stereotype as filter for contents UI  Is your feature request related to a problem? Please describe. In some cases, we want to create a menu item that would allow the user to manage content items of a specific stereotype. Currently, we only support single content type but not stereotype.  Describe the solution you'd like Add query parameter `stereotype` that would allow us to manage only content items that share the same given stereotype. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5325,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5325,There is no way to export custom site settings like Login settings,"Couldn't find a way to create a deployment plan where I can export settings other than general settings. One example could be exporting Login/Registration settings. Site Settings deployment step UI only offers to check the general settings. What I could do is to write the JSON manually so when I import the recipe the `SettingStep` catches them and imports them to the Site entity.  { ""name"": ""settings"", ""LayerSettings"": { ""Zones"": [ ""Header"", ""Messages"", ""Footer"" ] }, ""LoginSettings"": { ""UseSiteTheme"": true } }  So this is imported perfectly but there is no way to create an export file containing the LoginSettings JSON property using the UI.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"There is no way to export custom site settings like Login settings Couldn't find a way to create a deployment plan where I can export settings other than general settings. One example could be exporting Login/Registration settings. Site Settings deployment step UI only offers to check the general settings. What I could do is to write the JSON manually so when I import the recipe the `SettingStep` catches them and imports them to the Site entity.  { ""name"": ""settings"", ""LayerSettings"": { ""Zones"": [ ""Header"", ""Messages"", ""Footer"" ] }, ""LoginSettings"": { ""UseSiteTheme"": true } }  So this is imported perfectly but there is no way to create an export file containing the LoginSettings JSON property using the UI. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
11558,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11558,Feature attribute is not working for razor page," Describe the bug Feature attribute is not applied to razor page. Razor pages are always tied to the module.  To Reproduce 1. Create a Module with a feature 2. Add a Razor Page 3. Add Feature attribute to razor page 4. Enable the module and the feature, it will serve Razor page 5. Disable Feature - notice that Razor page is still served.  Expected behavior When feature is disabled it should not serve the Razor Page.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Feature attribute is not working for razor page  Describe the bug Feature attribute is not applied to razor page. Razor pages are always tied to the module.  To Reproduce 1. Create a Module with a feature 2. Add a Razor Page 3. Add Feature attribute to razor page 4. Enable the module and the feature, it will serve Razor page 5. Disable Feature - notice that Razor page is still served.  Expected behavior When feature is disabled it should not serve the Razor Page. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8728,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8728,Add new dashboard widget,We are not able to add a new dashboard widget when we are in Edit Mode. /cc @ns8482e,other-file | other-file,Add new dashboard widget We are not able to add a new dashboard widget when we are in Edit Mode. /cc @ns8482e other-file other-file,no-bug,0.9
17110,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17110,Layers enhancements,"1. **Layer Creation Flow**: When a user creates a new layer, the UI currently redirects them to the layer's index page. Instead, it should redirect to the layers **edit page**. This is the next logical step after creating a layer, as it enables users to immediately add layer rules and configure other settings without having to navigate manually. 2. **Widget Layer Selection**: When creating a new widget, the UI should **not** automatically select the first available layer. Instead, it should require the user to manually choose a layer. This will improve the user experience by allowing the user to make a conscious selection, especially in scenarios with multiple layers, preventing any confusion or incorrect configurations. 3. **Widget Title Requirement**: When adding a new widget, the title should be a **mandatory field**. This is essential for clarity, especially when managing multiple widgets, to avoid confusion in identifying their purpose. Although there is an existing setting that determines whether the title should be displayed on the front-end, it should still be required in the admin UI for better organization and management.",other-file | other-file | other-file | other-file | other-file | other-file,"Layers enhancements 1. **Layer Creation Flow**: When a user creates a new layer, the UI currently redirects them to the layer's index page. Instead, it should redirect to the layers **edit page**. This is the next logical step after creating a layer, as it enables users to immediately add layer rules and configure other settings without having to navigate manually. 2. **Widget Layer Selection**: When creating a new widget, the UI should **not** automatically select the first available layer. Instead, it should require the user to manually choose a layer. This will improve the user experience by allowing the user to make a conscious selection, especially in scenarios with multiple layers, preventing any confusion or incorrect configurations. 3. **Widget Title Requirement**: When adding a new widget, the title should be a **mandatory field**. This is essential for clarity, especially when managing multiple widgets, to avoid confusion in identifying their purpose. Although there is an existing setting that determines whether the title should be displayed on the front-end, it should still be required in the admin UI for better organization and management. other-file other-file other-file other-file other-file other-file",no-bug,0.9
17286,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17286,Browser can't load fb.js and fbsdk.js from Orchardcore.Facebook,"In Browser console i get this error. Refused to execute script from 'https:///OrchardCore.Facebook/sdk/fbsdk.js' because its MIME type ('') is not executable, and strict MIME type checking is enabled.",other-file,"Browser can't load fb.js and fbsdk.js from Orchardcore.Facebook In Browser console i get this error. Refused to execute script from 'https:OrchardCore.Facebook/sdk/fbsdk.js' because its MIME type ('') is not executable, and strict MIME type checking is enabled. other-file",no-bug,0.9
17722,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17722,Imported Queries have empty Query (template) field,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug Importing a Query yields that the imported Query has an empty Query (template) field. This is the case also when exporting a Query from the Blog recipe.  Orchard Core version Latest `main` (64e55380321b98d7b9a85b7dd8012040e0f5f237) has it, but was the case with 2.1.6 at latest.  To Reproduce 1. Fresh Blog setup. 2. Create Deployment Plan with only the All Queries step, and execute it. The resulting recipe will contain the default `RecentBlogPosts` SQL Query. 3. Open the recipe, change the Query's `Name` property to `ImportedRecentBlogPosts`, and import it under JSON Import. 4. Open the newly imported Query and observe that its Query field is empty, unlike that of the original Query's. Interestingly, executing local recipes from the Recipes screen doesn't have this issue. This affects Lucene and Elasticsearch Queries too.  Expected behavior The Query field contains the previously exported value.  Logs and screenshots <!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. -->",other-file | other-file | other-file | other-file,"Imported Queries have empty Query (template) field <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug Importing a Query yields that the imported Query has an empty Query (template) field. This is the case also when exporting a Query from the Blog recipe.  Orchard Core version Latest `main` (64e55380321b98d7b9a85b7dd8012040e0f5f237) has it, but was the case with 2.1.6 at latest.  To Reproduce 1. Fresh Blog setup. 2. Create Deployment Plan with only the All Queries step, and execute it. The resulting recipe will contain the default `RecentBlogPosts` SQL Query. 3. Open the recipe, change the Query's `Name` property to `ImportedRecentBlogPosts`, and import it under JSON Import. 4. Open the newly imported Query and observe that its Query field is empty, unlike that of the original Query's. Interestingly, executing local recipes from the Recipes screen doesn't have this issue. This affects Lucene and Elasticsearch Queries too.  Expected behavior The Query field contains the previously exported value.  Logs and screenshots <!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. --> other-file other-file other-file other-file",no-bug,0.9
6177,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6177,Saves Invalid Date fields.,"Server side validation are not performed for required Date, Time and DateTimeFields. When disabled the browser default form validation via developer tools. ![invalid-dates](https://user-images.githubusercontent.com/23270244/81751801-c1b26580-9475-11ea-9ee4-30210fbb0a96.gif)",other-file | other-file | other-file | other-file,"Saves Invalid Date fields. Server side validation are not performed for required Date, Time and DateTimeFields. When disabled the browser default form validation via developer tools. ![invalid-dates](https://user-images.githubusercontent.com/23270244/81751801-c1b26580-9475-11ea-9ee4-30210fbb0a96.gif) other-file other-file other-file other-file",no-bug,0.8
11405,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11405,"Ability to export content items in bulk, but not all from a given type"," Is your feature request related to a problem? Please describe. Currently, you can either export a single content item (either directly with Export to Deployment Target or from a Content Item Step), or all content items of the given content type (with the Content Step). There is no way though to export multiple, selected content items at once.  Describe the solution you'd like A way to implemented this would be to utilize Queries with a ""Queried Content Items"" Deployment Step: It would utilize an existing Query to select matching content items, and would include those in the export. Then, in the Query, you could have any arbitrary selection criteria, even dynamic ones. (Perhaps we'd need the ability to inject parameters into the query from the Deployment Step?)  Describe alternatives you've considered A bulk action in the content item list. This would be a useful feature if you only want to export a handful of selected items just once.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Ability to export content items in bulk, but not all from a given type  Is your feature request related to a problem? Please describe. Currently, you can either export a single content item (either directly with Export to Deployment Target or from a Content Item Step), or all content items of the given content type (with the Content Step). There is no way though to export multiple, selected content items at once.  Describe the solution you'd like A way to implemented this would be to utilize Queries with a ""Queried Content Items"" Deployment Step: It would utilize an existing Query to select matching content items, and would include those in the export. Then, in the Query, you could have any arbitrary selection criteria, even dynamic ones. (Perhaps we'd need the ability to inject parameters into the query from the Deployment Step?)  Describe alternatives you've considered A bulk action in the content item list. This would be a useful feature if you only want to export a handful of selected items just once. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6102,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6102,Media Field loses value when publishing before Edit Page is fully loaded (RC1),"In the AdminTheme, adding some media to a Media Field, publishing, then immediately publishing again will cause the media field to be empty if the second publish happens early enough in the page load process. This can happen any time a publish happens fast enough during page load, even with content that's been there for months. I discovered this because I recently updated some Content Types, went through and republished every page on a website to add the new Parts to GraphQL, then had no media left on the site .",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | config-file | documentation-file | documentation-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | source-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | other-file,"Media Field loses value when publishing before Edit Page is fully loaded (RC1) In the AdminTheme, adding some media to a Media Field, publishing, then immediately publishing again will cause the media field to be empty if the second publish happens early enough in the page load process. This can happen any time a publish happens fast enough during page load, even with content that's been there for months. I discovered this because I recently updated some Content Types, went through and republished every page on a website to add the new Parts to GraphQL, then had no media left on the site . source-file source-file source-file source-file source-file source-file source-file source-file documentation-file other-file config-file documentation-file documentation-file config-file config-file documentation-file documentation-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file source-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file source-file source-file source-file source-file other-file documentation-file documentation-file source-file source-file other-file other-file source-file documentation-file documentation-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file source-file documentation-file documentation-file documentation-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file test-file other-file",no-bug,0.8
14338,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14338,"MySQL, OrchardCore.ContentFields.Indexing.SQL, Specified key was too long; max key length is 3072 bytes","Multiple exceptions were thrown when I started a new MySQL based instance of Orchard Core CMS. Full log is at the end of this issue. Also, this looks like a regression bug to me as a similar issue happened in the past: https://github.com/OrchardCMS/OrchardCore/issues/4753  To Reproduce Sorry, I don't really have a step by step instruction. All I know is that I upgraded from `1.5.0` to `1.7.0` and this happens. Revert back to `1.5.0` fixes the issue for me. Also, to make sure I'm not chasing phantom issue, I ran the following cmd between downgrades and upgrades:  dotnet nuget locals all --clear // clear Nuget cache git clean -ffdxq // clear local workspace, including all node_modules folders   Environment - I ran my application inside Docker Desktop which ran inside Windows 11.  Expected behavior Application starts successfully without any exception.  Full log  2023-09-15 13:55:37 warn: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[60] 2023-09-15 13:55:37 Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. 2023-09-15 13:55:37 info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[62] 2023-09-15 13:55:37 User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 2023-09-15 13:55:37 info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[58] 2023-09-15 13:55:37 Creating key {a789d72e-e3e4-4643-9157-8cf98b06f27b} with creation date 2023-09-15 06:55:37Z, activation date 2023-09-15 06:55:37Z, and expiration date 2023-12-14 06:55:37Z. 2023-09-15 13:55:37 warn: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[35] 2023-09-15 13:55:37 No XML encryptor configured. Key {a789d72e-e3e4-4643-9157-8cf98b06f27b} may be persisted to storage in unencrypted form. 2023-09-15 13:55:37 info: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[39] 2023-09-15 13:55:37 Writing data to file '/root/.aspnet/DataProtection-Keys/key-a789d72e-e3e4-4643-9157-8cf98b06f27b.xml'. 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[14] 2023-09-15 13:55:37 Now listening on: http://0.0.0.0:5000 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[0] 2023-09-15 13:55:37 Application started. Press Ctrl+C to shut down. 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[0] 2023-09-15 13:55:37 Hosting environment: Production 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[0] 2023-09-15 13:55:37 Content root path: /miniskylab/ 2023-09-15 13:57:39 info: Microsoft.AspNetCore.Hosting.Diagnostics[1] 2023-09-15 13:57:39 Request starting HTTP/1.1 GET http://www.minilocallab.com/tachyon-cms - - 2023-09-15 13:57:40 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:40 Error while running migration version 0 for 'OrchardCore.ContentFields.Indexing.SQL'. 2023-09-15 13:57:40 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:40 > MySqlConnector.MySqlException (0x80004005): Specified key was too long; max key length is 3072 bytes 2023-09-15 13:57:40 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:40 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:40 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:40 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:40 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:40 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:40 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:40 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:40 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilder.AlterTable(String name, Action`1 table) 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilder.AlterIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilderExtensions.AlterIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:40 at OrchardCore.ContentFields.Indexing.SQL.Migrations.Create() 2023-09-15 13:57:40 at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor) 2023-09-15 13:57:40 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:40  End of inner exception stack trace  2023-09-15 13:57:40 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:40 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:40 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Contents'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__ContentItemIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.ContentManagement.Records.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.ContentFields.Indexing.SQL'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__TextFieldIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.ContentFields.Indexing.SQL.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Alias'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__AliasPartIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Alias.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Autoroute'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__AutoroutePartIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Autoroute.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Users'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__UserIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Users.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Deployment'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__DeploymentPlanIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Deployment.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Indexing'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__IndexingTask' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateTable(String name, Action`1 table) 2023-09-15 13:57:42 at OrchardCore.Indexing.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Layers'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__LayerMetadataIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Layers.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Lists'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__ContainedPartIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Lists.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Recipes.Services.RecipeMigrator[0] 2023-09-15 13:57:42 IRecipeEnvironmentProvider thrown from OrchardCore.Settings.RecipeEnvironmentSiteNameProvider by InvalidOperationException 2023-09-15 13:57:42 System.InvalidOperationException: Incorrect attempt to update an object that doesn't exist. Ensure a new object was not saved with an identifier value. 2023-09-15 13:57:42 at YesSql.Session.UpdateEntityAsync(Object entity, Boolean tracked, String collection) 2023-09-15 13:57:42 at YesSql.Session.FlushAsync() 2023-09-15 13:57:42 at YesSql.Session.FlushAsync() 2023-09-15 13:57:42 at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() 2023-09-15 13:57:42 at OrchardCore.Data.Documents.DocumentStore.GetOrCreateImmutableAsync[T](Func`1 factoryAsync) 2023-09-15 13:57:42 at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) 2023-09-15 13:57:42 at OrchardCore.Settings.Services.SiteService.GetSiteSettingsAsync() 2023-09-15 13:57:42 at OrchardCore.Settings.RecipeEnvironmentSiteNameProvider.PopulateEnvironmentAsync(IDictionary`2 environment) 2023-09-15 13:57:42 at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.OpenId'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__OpenId_OpenIdApplicationIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.OpenId.YesSql.Migrations.OpenIdMigrations.Create() 2023-09-15 13:57:42 at InvokeStub_OpenIdMigrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 info: Microsoft.AspNetCore.Hosting.Diagnostics[2] 2023-09-15 13:57:42 Request finished HTTP/1.1 GET http://www.minilocallab.com/tachyon-cms - - - 302 0 - 2805.2999ms 2023-09-15 13:57:42 info: Microsoft.AspNetCore.Hosting.Diagnostics[1] 2023-09-15 13:57:42 Request starting HTTP/1.1 GET http://www.minilocallab.com/ - - 2023-09-15 13:57:43 info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[58] 2023-09-15 13:57:43 Creating key {9679f2e7-1db3-4abf-9b33-3bd082b50a85} with creation date 2023-09-15 06:57:43Z, activation date 2023-09-15 06:57:43Z, and expiration date 2023-12-14 06:57:43Z. 2023-09-15 13:57:43 info: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[39] 2023-09-15 13:57:43 Writing data to file '/miniskylab/App_Data/Sites/Default/DataProtection-Keys/key-9679f2e7-1db3-4abf-9b33-3bd082b50a85.xml'. 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7] 2023-09-15 13:57:43 Identity.Application was not authenticated. Failure message: Unprotect ticket failed 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0] 2023-09-15 13:57:43 Executing endpoint 'MiniSkyLab.Tachyon.TachyonPageController.Get (Orchard.Tachyon)' 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102] 2023-09-15 13:57:43 Route matched with {area = ""Orchard.Tachyon"", action = ""Get"", controller = ""TachyonPage""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller MiniSkyLab.Tachyon.TachyonPageController (Orchard.Tachyon). 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Mvc.StatusCodeResult[1] 2023-09-15 13:57:43 Executing StatusCodeResult, setting HTTP status code 404 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105] 2023-09-15 13:57:43 Executed action MiniSkyLab.Tachyon.TachyonPageController.Get (Orchard.Tachyon) in 59.29ms 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1] 2023-09-15 13:57:43 Executed endpoint 'MiniSkyLab.Tachyon.TachyonPageController.Get (Orchard.Tachyon)' 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Hosting.Diagnostics[2] 2023-09-15 13:57:43 Request finished HTTP/1.1 GET http://www.minilocallab.com/ - - - 404 0 - 908.7476ms ",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | test-file,"MySQL, OrchardCore.ContentFields.Indexing.SQL, Specified key was too long; max key length is 3072 bytes Multiple exceptions were thrown when I started a new MySQL based instance of Orchard Core CMS. Full log is at the end of this issue. Also, this looks like a regression bug to me as a similar issue happened in the past: https://github.com/OrchardCMS/OrchardCore/issues/4753  To Reproduce Sorry, I don't really have a step by step instruction. All I know is that I upgraded from `1.5.0` to `1.7.0` and this happens. Revert back to `1.5.0` fixes the issue for me. Also, to make sure I'm not chasing phantom issue, I ran the following cmd between downgrades and upgrades:  dotnet nuget locals all --clear // clear Nuget cache git clean -ffdxq // clear local workspace, including all node_modules folders   Environment - I ran my application inside Docker Desktop which ran inside Windows 11.  Expected behavior Application starts successfully without any exception.  Full log  2023-09-15 13:55:37 warn: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[60] 2023-09-15 13:55:37 Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. 2023-09-15 13:55:37 info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[62] 2023-09-15 13:55:37 User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 2023-09-15 13:55:37 info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[58] 2023-09-15 13:55:37 Creating key {a789d72e-e3e4-4643-9157-8cf98b06f27b} with creation date 2023-09-15 06:55:37Z, activation date 2023-09-15 06:55:37Z, and expiration date 2023-12-14 06:55:37Z. 2023-09-15 13:55:37 warn: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[35] 2023-09-15 13:55:37 No XML encryptor configured. Key {a789d72e-e3e4-4643-9157-8cf98b06f27b} may be persisted to storage in unencrypted form. 2023-09-15 13:55:37 info: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[39] 2023-09-15 13:55:37 Writing data to file '/root/.aspnet/DataProtection-Keys/key-a789d72e-e3e4-4643-9157-8cf98b06f27b.xml'. 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[14] 2023-09-15 13:55:37 Now listening on: http://0.0.0.0:5000 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[0] 2023-09-15 13:55:37 Application started. Press Ctrl+C to shut down. 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[0] 2023-09-15 13:55:37 Hosting environment: Production 2023-09-15 13:55:37 info: Microsoft.Hosting.Lifetime[0] 2023-09-15 13:55:37 Content root path: /miniskylab/ 2023-09-15 13:57:39 info: Microsoft.AspNetCore.Hosting.Diagnostics[1] 2023-09-15 13:57:39 Request starting HTTP/1.1 GET http://www.minilocallab.com/tachyon-cms - - 2023-09-15 13:57:40 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:40 Error while running migration version 0 for 'OrchardCore.ContentFields.Indexing.SQL'. 2023-09-15 13:57:40 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:40 > MySqlConnector.MySqlException (0x80004005): Specified key was too long; max key length is 3072 bytes 2023-09-15 13:57:40 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:40 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:40 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:40 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:40 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:40 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:40 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:40 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:40 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilder.AlterTable(String name, Action`1 table) 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilder.AlterIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:40 at YesSql.Sql.SchemaBuilderExtensions.AlterIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:40 at OrchardCore.ContentFields.Indexing.SQL.Migrations.Create() 2023-09-15 13:57:40 at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor) 2023-09-15 13:57:40 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:40  End of inner exception stack trace  2023-09-15 13:57:40 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:40 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:40 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Contents'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__ContentItemIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.ContentManagement.Records.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.ContentFields.Indexing.SQL'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__TextFieldIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.ContentFields.Indexing.SQL.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Alias'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__AliasPartIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Alias.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Autoroute'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__AutoroutePartIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Autoroute.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Users'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__UserIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Users.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Deployment'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__DeploymentPlanIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Deployment.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Indexing'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__IndexingTask' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateTable(String name, Action`1 table) 2023-09-15 13:57:42 at OrchardCore.Indexing.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Layers'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__LayerMetadataIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Layers.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.Lists'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__ContainedPartIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.Lists.Migrations.Create() 2023-09-15 13:57:42 at InvokeStub_Migrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 fail: OrchardCore.Recipes.Services.RecipeMigrator[0] 2023-09-15 13:57:42 IRecipeEnvironmentProvider thrown from OrchardCore.Settings.RecipeEnvironmentSiteNameProvider by InvalidOperationException 2023-09-15 13:57:42 System.InvalidOperationException: Incorrect attempt to update an object that doesn't exist. Ensure a new object was not saved with an identifier value. 2023-09-15 13:57:42 at YesSql.Session.UpdateEntityAsync(Object entity, Boolean tracked, String collection) 2023-09-15 13:57:42 at YesSql.Session.FlushAsync() 2023-09-15 13:57:42 at YesSql.Session.FlushAsync() 2023-09-15 13:57:42 at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() 2023-09-15 13:57:42 at OrchardCore.Data.Documents.DocumentStore.GetOrCreateImmutableAsync[T](Func`1 factoryAsync) 2023-09-15 13:57:42 at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) 2023-09-15 13:57:42 at OrchardCore.Settings.Services.SiteService.GetSiteSettingsAsync() 2023-09-15 13:57:42 at OrchardCore.Settings.RecipeEnvironmentSiteNameProvider.PopulateEnvironmentAsync(IDictionary`2 environment) 2023-09-15 13:57:42 at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) 2023-09-15 13:57:42 fail: OrchardCore.Data.Migration.DataMigrationManager[0] 2023-09-15 13:57:42 Error while running migration version 0 for 'OrchardCore.OpenId'. 2023-09-15 13:57:42 System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. 2023-09-15 13:57:42 > MySqlConnector.MySqlException (0x80004005): Table 'OC__OpenId_OpenIdApplicationIndex' already exists 2023-09-15 13:57:42 at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 43 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 130 2023-09-15 13:57:42 at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 468 2023-09-15 13:57:42 at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 56 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQueryAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 296 2023-09-15 13:57:42 at MySqlConnector.MySqlCommand.ExecuteNonQuery() in /_/src/MySqlConnector/MySqlCommand.cs:line 107 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2848 2023-09-15 13:57:42 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 581 2023-09-15 13:57:42 at Dapper.SqlMapper.Execute(IDbConnection cnn, String sql, Object param, IDbTransaction transaction, Nullable`1 commandTimeout, Nullable`1 commandType) in /_/Dapper/SqlMapper.cs:line 452 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilder.CreateMapIndexTable(Type indexType, Action`1 table, String collection) 2023-09-15 13:57:42 at YesSql.Sql.SchemaBuilderExtensions.CreateMapIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) 2023-09-15 13:57:42 at OrchardCore.OpenId.YesSql.Migrations.OpenIdMigrations.Create() 2023-09-15 13:57:42 at InvokeStub_OpenIdMigrations.Create(Object, Object, IntPtr*) 2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42  End of inner exception stack trace  2023-09-15 13:57:42 at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr) 2023-09-15 13:57:42 at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) 2023-09-15 13:57:42 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) 2023-09-15 13:57:42 info: Microsoft.AspNetCore.Hosting.Diagnostics[2] 2023-09-15 13:57:42 Request finished HTTP/1.1 GET http://www.minilocallab.com/tachyon-cms - - - 302 0 - 2805.2999ms 2023-09-15 13:57:42 info: Microsoft.AspNetCore.Hosting.Diagnostics[1] 2023-09-15 13:57:42 Request starting HTTP/1.1 GET http://www.minilocallab.com/ - - 2023-09-15 13:57:43 info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[58] 2023-09-15 13:57:43 Creating key {9679f2e7-1db3-4abf-9b33-3bd082b50a85} with creation date 2023-09-15 06:57:43Z, activation date 2023-09-15 06:57:43Z, and expiration date 2023-12-14 06:57:43Z. 2023-09-15 13:57:43 info: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[39] 2023-09-15 13:57:43 Writing data to file '/miniskylab/App_Data/Sites/Default/DataProtection-Keys/key-9679f2e7-1db3-4abf-9b33-3bd082b50a85.xml'. 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7] 2023-09-15 13:57:43 Identity.Application was not authenticated. Failure message: Unprotect ticket failed 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0] 2023-09-15 13:57:43 Executing endpoint 'MiniSkyLab.Tachyon.TachyonPageController.Get (Orchard.Tachyon)' 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[102] 2023-09-15 13:57:43 Route matched with {area = ""Orchard.Tachyon"", action = ""Get"", controller = ""TachyonPage""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller MiniSkyLab.Tachyon.TachyonPageController (Orchard.Tachyon). 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Mvc.StatusCodeResult[1] 2023-09-15 13:57:43 Executing StatusCodeResult, setting HTTP status code 404 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker[105] 2023-09-15 13:57:43 Executed action MiniSkyLab.Tachyon.TachyonPageController.Get (Orchard.Tachyon) in 59.29ms 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Routing.EndpointMiddleware[1] 2023-09-15 13:57:43 Executed endpoint 'MiniSkyLab.Tachyon.TachyonPageController.Get (Orchard.Tachyon)' 2023-09-15 13:57:43 info: Microsoft.AspNetCore.Hosting.Diagnostics[2] 2023-09-15 13:57:43 Request finished HTTP/1.1 GET http://www.minilocallab.com/ - - - 404 0 - 908.7476ms  other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file test-file",no-bug,0.95
8509,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8509,Apply sr-only on all filters,Same as https://github.com/OrchardCMS/OrchardCore/pull/8506 /cc @scleaver,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Apply sr-only on all filters Same as https://github.com/OrchardCMS/OrchardCore/pull/8506 /cc @scleaver other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
8709,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8709,FlowPart button needs to be more pronounced in the editor,The flow part button is impossible to see or notice. Perhaps work on making the flow part more obvious?,other-file | other-file | other-file | other-file | other-file | other-file,FlowPart button needs to be more pronounced in the editor The flow part button is impossible to see or notice. Perhaps work on making the flow part more obvious? other-file other-file other-file other-file other-file other-file,no-bug,0.95
16421,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16421,IndexPrefix setting for ElasticSearch does not work for Queries and ElasticContentPicker,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug When [IndexPrefix setting ](https://docs.orchardcore.net/en/latest/reference/modules/Elasticsearch/#elasticsearch-configuration) for ElasticSearch set in config, Elastic Search Query and ElasticContentPicker functionality do not work.  Orchard Core version 1.8.2  To Reproduce Steps to reproduce the behavior: 1. Set IndexPrefix in config to ""dev"" 2. Go to ElasticSearch Indexes and create index ""pages"". ( phisical name of index will be dev_default_pages ) 3. Configure index and make shure that documents added to index 4. On ""ElasticSearch Indexes"" page press ""Query"" button for ""pages"" index and execute match_all request. 5. Results are empty/  Expected behavior Documents from pages (dev_default_pages ) index should be displayed in results.  Dev details Current implementation of OrchardCore.Search.ElasticSearch.Core assembly contains three places for direct manipulation with IElasticClient. - OrchardCore.Search.Elasticsearch.Core.Services.ElasticIndexManager - OrchardCore.Search.Elasticsearch.Core.Services.ElasticQueryService - OrchardCore.Search.Elasticsearch.Core.Providers.ElasticContentPickerResultProvider All listed clasees have its own code for building final name of index that will be used in ES.  Proposal Refactor current code to isolate all manipulation with IElasticClient in single class.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"IndexPrefix setting for ElasticSearch does not work for Queries and ElasticContentPicker <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug When [IndexPrefix setting ](https://docs.orchardcore.net/en/latest/reference/modules/Elasticsearch/#elasticsearch-configuration) for ElasticSearch set in config, Elastic Search Query and ElasticContentPicker functionality do not work.  Orchard Core version 1.8.2  To Reproduce Steps to reproduce the behavior: 1. Set IndexPrefix in config to ""dev"" 2. Go to ElasticSearch Indexes and create index ""pages"". ( phisical name of index will be dev_default_pages ) 3. Configure index and make shure that documents added to index 4. On ""ElasticSearch Indexes"" page press ""Query"" button for ""pages"" index and execute match_all request. 5. Results are empty/  Expected behavior Documents from pages (dev_default_pages ) index should be displayed in results.  Dev details Current implementation of OrchardCore.Search.ElasticSearch.Core assembly contains three places for direct manipulation with IElasticClient. - OrchardCore.Search.Elasticsearch.Core.Services.ElasticIndexManager - OrchardCore.Search.Elasticsearch.Core.Services.ElasticQueryService - OrchardCore.Search.Elasticsearch.Core.Providers.ElasticContentPickerResultProvider All listed clasees have its own code for building final name of index that will be used in ES.  Proposal Refactor current code to isolate all manipulation with IElasticClient in single class. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
17665,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17665,"I click Save , but message told me Delete","<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug <!-- What is the issue you're seeing? -->  Orchard Core version 2.1.6  To Reproduce <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug <!-- What is the issue you're seeing? -->  Orchard Core version <!-- Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code. -->  To Reproduce 1. Go to 'Admin panel' 2. Click on 'Content Parts' 3. Click 'Product Part' 4. click Edit Placement 5. click MediaField called ProductImage 6. click Edit for it. 7. click Edit Placement, choose it for Summary 8. it gave me automatically  [ { ""displayType"": ""Summary"", ""differentiator"": ""ProductPart-ProductImage"" } ]  6. Click Save 7. it saved successfully, but Deleted on the green bar ![Image](https://github.com/user-attachments/assets/d02e0c2c-22b3-4efd-bb0a-2f0cec0f9bd3)  Expected behavior Save  Logs and screenshots <!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. -->",other-file,"I click Save , but message told me Delete <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug <!-- What is the issue you're seeing? -->  Orchard Core version 2.1.6  To Reproduce <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug <!-- What is the issue you're seeing? -->  Orchard Core version <!-- Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code. -->  To Reproduce 1. Go to 'Admin panel' 2. Click on 'Content Parts' 3. Click 'Product Part' 4. click Edit Placement 5. click MediaField called ProductImage 6. click Edit for it. 7. click Edit Placement, choose it for Summary 8. it gave me automatically  [ { ""displayType"": ""Summary"", ""differentiator"": ""ProductPart-ProductImage"" } ]  6. Click Save 7. it saved successfully, but Deleted on the green bar ![Image](https://github.com/user-attachments/assets/d02e0c2c-22b3-4efd-bb0a-2f0cec0f9bd3)  Expected behavior Save  Logs and screenshots <!-- If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. --> other-file",no-bug,0.9
14202,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14202,Do not specify placement position in ContentPartDriver," Describe the bug Content elements or fields can be attached to content type. Their UI placement should follow the subsequent guidelines. So if first step defines a position, we use that position and look no further. 1. DisplayDriver 2. A placement defined on the UI using the `OrchardCore.Placements` 3. `placements.json` file 4. Default Position in the content type 5. Otherwise, it should fall back to the physical placement of the object in the content definition. For this logic to work as expected, by default `ContentPartDisplayDriver` or `ContentFieldDisplayDriver` should define a placement location by default, but not placement position. This way, we can allow to change the order using Step 2-5 as needed. In the following drivers, we seems to be defining a placement position which prevents the user from able to change that position at all. 1. FacebookPluginPartDisplayDriver 2. BagPartDisplayDriver 3. FlowPartDisplayDriver 4. HtmlBodyPartDisplayDriver 5. LiquidPartDisplayDriver 7. MarkdownBodyPartDisplayDriver 8. TaxonomyPartDisplayDriver 9. TitlePartDisplayDriver For example, today if you use `HtmlBodyPart`, there is no easy way to change it's placement because the `HtmlBodyPartDisplayDriver` defines a position `5`.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Do not specify placement position in ContentPartDriver  Describe the bug Content elements or fields can be attached to content type. Their UI placement should follow the subsequent guidelines. So if first step defines a position, we use that position and look no further. 1. DisplayDriver 2. A placement defined on the UI using the `OrchardCore.Placements` 3. `placements.json` file 4. Default Position in the content type 5. Otherwise, it should fall back to the physical placement of the object in the content definition. For this logic to work as expected, by default `ContentPartDisplayDriver` or `ContentFieldDisplayDriver` should define a placement location by default, but not placement position. This way, we can allow to change the order using Step 2-5 as needed. In the following drivers, we seems to be defining a placement position which prevents the user from able to change that position at all. 1. FacebookPluginPartDisplayDriver 2. BagPartDisplayDriver 3. FlowPartDisplayDriver 4. HtmlBodyPartDisplayDriver 5. LiquidPartDisplayDriver 7. MarkdownBodyPartDisplayDriver 8. TaxonomyPartDisplayDriver 9. TitlePartDisplayDriver For example, today if you use `HtmlBodyPart`, there is no easy way to change it's placement because the `HtmlBodyPartDisplayDriver` defines a position `5`. other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6562,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6562,Deprecated warning for Vue Draggable when editing MediaField,"This warning (in Firefox it's an error) appears when editing a MediaField: Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props Based on the migration guide this is a simple solution, and we should update [this file](https://github.com/OrchardCMS/OrchardCore/blob/a202ae204ac02b40de1c82d6af16468f54e7ccc6/src/OrchardCore.Modules/OrchardCore.Media/Assets/js/MediaField/mediaFieldThumbsContainer.js) and based on a quick search [this one](https://github.com/OrchardCMS/OrchardCore/blob/6cddd9f9904ff117ba82587f39fc76f49fac3cc3/src/OrchardCore.Modules/OrchardCore.ContentFields/Views/TextFieldPredefinedListEditorSettings.Edit.cshtml) is affected as well. Also, though it is not strictly related to this issue but I think it would be much nicer to refactor these Vue component template code to a shape instead of hardcoding it to a JavaScript file making developers unable to override it (or actually easy to find).",other-file | other-file,"Deprecated warning for Vue Draggable when editing MediaField This warning (in Firefox it's an error) appears when editing a MediaField: Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props Based on the migration guide this is a simple solution, and we should update [this file](https://github.com/OrchardCMS/OrchardCore/blob/a202ae204ac02b40de1c82d6af16468f54e7ccc6/src/OrchardCore.Modules/OrchardCore.Media/Assets/js/MediaField/mediaFieldThumbsContainer.js) and based on a quick search [this one](https://github.com/OrchardCMS/OrchardCore/blob/6cddd9f9904ff117ba82587f39fc76f49fac3cc3/src/OrchardCore.Modules/OrchardCore.ContentFields/Views/TextFieldPredefinedListEditorSettings.Edit.cshtml) is affected as well. Also, though it is not strictly related to this issue but I think it would be much nicer to refactor these Vue component template code to a shape instead of hardcoding it to a JavaScript file making developers unable to override it (or actually easy to find). other-file other-file",no-bug,0.9
15033,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15033,Search Form does not show up when using Azure Search AI,"There is a bug in the `TheBlogTheme` theme that I have no explanation for as of now. If you enable `Azure Search AI` and `Search` features, the search form does NOT show up. To workaround this issue, you have to enabled either `Lucene` or `Elasticsearch` features for the search bar to show up. When the request is made to `/search` endpoint, the line is reached https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.Search/Controllers/SearchController.cs#L91 which returns the Search.cshtml view https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.Search/Views/Search/Search.cshtml That view would render `Search__List` shape, which then renders `Search__Form` and `Search__Results` shapes. What could be causing this views not to render? Everything works using other themes like TheDefault theme which tells me that there is something about the blog theme that isn't working as it should. ![azure-cognitive-search-4](https://github.com/OrchardCMS/OrchardCore/assets/24724371/f934c216-8e5e-4519-8c67-f66f9070c90e) @Skrypt Do you have any idea why this could be happening?",other-file | other-file | other-file | other-file | other-file,"Search Form does not show up when using Azure Search AI There is a bug in the `TheBlogTheme` theme that I have no explanation for as of now. If you enable `Azure Search AI` and `Search` features, the search form does NOT show up. To workaround this issue, you have to enabled either `Lucene` or `Elasticsearch` features for the search bar to show up. When the request is made to `/search` endpoint, the line is reached https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.Search/Controllers/SearchController.cs#L91 which returns the Search.cshtml view https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.Search/Views/Search/Search.cshtml That view would render `Search__List` shape, which then renders `Search__Form` and `Search__Results` shapes. What could be causing this views not to render? Everything works using other themes like TheDefault theme which tells me that there is something about the blog theme that isn't working as it should. ![azure-cognitive-search-4](https://github.com/OrchardCMS/OrchardCore/assets/24724371/f934c216-8e5e-4519-8c67-f66f9070c90e) @Skrypt Do you have any idea why this could be happening? other-file other-file other-file other-file other-file",no-bug,0.85
16537,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16537,Unable to remove taxonomy with nested terms," Describe the bug If we have a taxonomy with nested terms, trying to remove a child node will not work.  Orchard Core version 2.0.0-previews  To Reproduce Steps to reproduce the behavior: 1. Create a taxonomy item 2. add nested items to look like this - A - B - 1 - 2 - I - II - III - 3 - C 3. Try removing the III item, you'll get a success message but nothing gets removed.  Expected behavior I expect the item to be removed.",other-file,"Unable to remove taxonomy with nested terms  Describe the bug If we have a taxonomy with nested terms, trying to remove a child node will not work.  Orchard Core version 2.0.0-previews  To Reproduce Steps to reproduce the behavior: 1. Create a taxonomy item 2. add nested items to look like this - A - B - 1 - 2 - I - II - III - 3 - C 3. Try removing the III item, you'll get a success message but nothing gets removed.  Expected behavior I expect the item to be removed. other-file",no-bug,0.8
14842,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14842,Provide a way to run a custom Elasticsearch query as the default search," Is your feature request related to a problem? Please describe. In the search module, the only available option to conduct a search is using query-string or multi-match query by providing a list of default fields to search. What if I want to customize the query for example by using [fuzziness](https://www.elastic.co/guide/en/elasticsearch/reference/7.17/common-options.html#fuzziness) or other options? Currently, there is no simply way to configure the default search to use advance search options.  Describe the solution you'd like I think we should add a way for the user to define the a custom query that we would use to perform the search. For example, I want to define this query to be used when the a user search the default index.  { ""query"": { ""match"": { ""Content.ContentItem.FullText"": { ""query"": ""{{ term }}"", ""fuzziness"": ""AUTO"", ""analyzer"": ""whitespace"" } } } } ",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Provide a way to run a custom Elasticsearch query as the default search  Is your feature request related to a problem? Please describe. In the search module, the only available option to conduct a search is using query-string or multi-match query by providing a list of default fields to search. What if I want to customize the query for example by using [fuzziness](https://www.elastic.co/guide/en/elasticsearch/reference/7.17/common-options.html#fuzziness) or other options? Currently, there is no simply way to configure the default search to use advance search options.  Describe the solution you'd like I think we should add a way for the user to define the a custom query that we would use to perform the search. For example, I want to define this query to be used when the a user search the default index.  { ""query"": { ""match"": { ""Content.ContentItem.FullText"": { ""query"": ""{{ term }}"", ""fuzziness"": ""AUTO"", ""analyzer"": ""whitespace"" } } } }  other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6651,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6651,Can't setup Registration and Login Script with Recipe,"I'm currently trying to setup a recipe to ""bootstrap"" my cms. however i the login/register script wont get set. the login settings (inside the settings step) look like this:  ""LoginSettings"": { ""UseScriptToSyncRoles"": true, ""SyncRolesScript"": ""Test"" }  but the script wont get set. the same applies for the register script",other-file | other-file | other-file | other-file,"Can't setup Registration and Login Script with Recipe I'm currently trying to setup a recipe to ""bootstrap"" my cms. however i the login/register script wont get set. the login settings (inside the settings step) look like this:  ""LoginSettings"": { ""UseScriptToSyncRoles"": true, ""SyncRolesScript"": ""Test"" }  but the script wont get set. the same applies for the register script other-file other-file other-file other-file",no-bug,0.8
6714,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6714,Smtp -> Email,"IMHO using `Email` instead of `Smtp` in Admin menu is better, because `Smtp` is more technical term",other-file | other-file | other-file | other-file | other-file | other-file,"Smtp -> Email IMHO using `Email` instead of `Smtp` in Admin menu is better, because `Smtp` is more technical term other-file other-file other-file other-file other-file other-file",no-bug,0.9
15752,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15752,Null reference exception in the Admin theme,"While upgrading our website from 1.6 to 1.82, we ran into an issue with the Admin theme. Line 12 in NavigationItemLink-admin.cshtml is not checking for null, which prevents the theme from rendering. Original: if (Model.Href.ToString() == ""#"") Changed to: if ( ( Model.Href?.ToString() ?? ""#"" ) == ""#"") Thanks",other-file,"Null reference exception in the Admin theme While upgrading our website from 1.6 to 1.82, we ran into an issue with the Admin theme. Line 12 in NavigationItemLink-admin.cshtml is not checking for null, which prevents the theme from rendering. Original: if (Model.Href.ToString() == ""#"") Changed to: if ( ( Model.Href?.ToString() ?? ""#"" ) == ""#"") Thanks other-file",no-bug,0.9
8339,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8339,Error executing setup twice,"Hi I've just cloned the core from here: https://github.com/OrchardCMS/OrchardCore.git. I then built it and configured a default super user login (for some reason password is restricted to just 6 chars). After logging in as super, I then navigated to design/themes and made any of agency/blog/commingsoon themes the current site theme and then clicked the view site icon top right, and the following error occurs re: IOC when hitting https://localhost:44300/. I can still hit the admin theme https://localhost:44300/Admin/Themes without exception.  InvalidOperationException: No service for type 'OrchardCore.Liquid.ILiquidTemplateManager' has been registered. Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType) Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService<T>(IServiceProvider provider) OrchardCore.DisplayManagement.Shapes.PageTitleShapes.PageTitle() in PageTitleShapes.cs + var liquidTemplateManager = ShellScope.Services.GetRequiredService<ILiquidTemplateManager>(); OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|12_0(Task<IHtmlContent> task) in DefaultHtmlDisplay.cs + return CoerceHtmlString(await task); System.Threading.Tasks.ValueTask<TResult>.get_Result() OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + shape.Metadata.ChildContent = await ProcessAsync(actualBinding, shape, localContext); OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + } OrchardCore.DisplayManagement.Liquid.Filters.LiquidViewFilters.<ShapeStringify>g__Awaited|10_0(Task<IHtmlContent> task) in LiquidViewFilters.cs + return new HtmlContentValue(await task); Fluid.Ast.FilterExpression.EvaluateAsync(TemplateContext context) System.Threading.Tasks.ValueTask<TResult>.get_Result() Fluid.Ast.OutputStatement.<WriteToAsync>g__Awaited|7_0(ValueTask<FluidValue> t, TextWriter w, TextEncoder enc, TemplateContext ctx) Fluid.BaseFluidTemplate<T>.Awaited(ValueTask<Completion> task, TextWriter writer, TextEncoder encoder, TemplateContext context, List<Statement> statements, int startIndex) OrchardCore.DisplayManagement.Liquid.LiquidViewTemplate.RenderAsync(RazorPage<object> page) in LiquidViewTemplate.cs + await template.RenderAsync(page.Output, htmlEncoder, context); Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, bool invokeViewStarts) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(string partialViewName, object model, ViewDataDictionary viewData, TextWriter writer) Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(string partialViewName, object model, ViewDataDictionary viewData) OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|12_0(Task<IHtmlContent> task) in DefaultHtmlDisplay.cs + return CoerceHtmlString(await task); System.Threading.Tasks.ValueTask<TResult>.get_Result() OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + shape.Metadata.ChildContent = await ProcessAsync(actualBinding, shape, localContext); OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + } CallSite.Target(Closure , CallSite , object ) OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() in ThemeLayout.cs + Write(await DisplayAsync(ThemeLayout)); Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, bool invokeViewStarts) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, string contentType, Nullable<int> statusCode) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, string contentType, Nullable<int> statusCode) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, string contentType, Nullable<int> statusCode) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0<TFilter, TFilterAsync>(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext<TFilter, TFilterAsync>(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+<>c__DisplayClass3_0+<<Configure>b__1>d.MoveNext() in DiagnosticsStartupFilter.cs + await next(); Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) in ModularTenantRouterMiddleware.cs + await shellContext.Pipeline.Invoke(httpContext); OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) in ShellScope.cs + await execute(this); OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in ModularTenantContainerMiddleware.cs + await shellScope.UsingAsync(scope => _next.Invoke(httpContext)); Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) ",other-file | other-file | other-file | other-file,"Error executing setup twice Hi I've just cloned the core from here: https://github.com/OrchardCMS/OrchardCore.git. I then built it and configured a default super user login (for some reason password is restricted to just 6 chars). After logging in as super, I then navigated to design/themes and made any of agency/blog/commingsoon themes the current site theme and then clicked the view site icon top right, and the following error occurs re: IOC when hitting https://localhost:44300/. I can still hit the admin theme https://localhost:44300/Admin/Themes without exception.  InvalidOperationException: No service for type 'OrchardCore.Liquid.ILiquidTemplateManager' has been registered. Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType) Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService<T>(IServiceProvider provider) OrchardCore.DisplayManagement.Shapes.PageTitleShapes.PageTitle() in PageTitleShapes.cs + var liquidTemplateManager = ShellScope.Services.GetRequiredService<ILiquidTemplateManager>(); OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|12_0(Task<IHtmlContent> task) in DefaultHtmlDisplay.cs + return CoerceHtmlString(await task); System.Threading.Tasks.ValueTask<TResult>.get_Result() OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + shape.Metadata.ChildContent = await ProcessAsync(actualBinding, shape, localContext); OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + } OrchardCore.DisplayManagement.Liquid.Filters.LiquidViewFilters.<ShapeStringify>g__Awaited|10_0(Task<IHtmlContent> task) in LiquidViewFilters.cs + return new HtmlContentValue(await task); Fluid.Ast.FilterExpression.EvaluateAsync(TemplateContext context) System.Threading.Tasks.ValueTask<TResult>.get_Result() Fluid.Ast.OutputStatement.<WriteToAsync>g__Awaited|7_0(ValueTask<FluidValue> t, TextWriter w, TextEncoder enc, TemplateContext ctx) Fluid.BaseFluidTemplate<T>.Awaited(ValueTask<Completion> task, TextWriter writer, TextEncoder encoder, TemplateContext context, List<Statement> statements, int startIndex) OrchardCore.DisplayManagement.Liquid.LiquidViewTemplate.RenderAsync(RazorPage<object> page) in LiquidViewTemplate.cs + await template.RenderAsync(page.Output, htmlEncoder, context); Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, bool invokeViewStarts) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(string partialViewName, object model, ViewDataDictionary viewData, TextWriter writer) Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(string partialViewName, object model, ViewDataDictionary viewData) OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|12_0(Task<IHtmlContent> task) in DefaultHtmlDisplay.cs + return CoerceHtmlString(await task); System.Threading.Tasks.ValueTask<TResult>.get_Result() OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + shape.Metadata.ChildContent = await ProcessAsync(actualBinding, shape, localContext); OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) in DefaultHtmlDisplay.cs + } CallSite.Target(Closure , CallSite , object ) OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() in ThemeLayout.cs + Write(await DisplayAsync(ThemeLayout)); Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, bool invokeViewStarts) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, string contentType, Nullable<int> statusCode) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, string contentType, Nullable<int> statusCode) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, string contentType, Nullable<int> statusCode) Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0<TFilter, TFilterAsync>(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext<TFilter, TFilterAsync>(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+<>c__DisplayClass3_0+<<Configure>b__1>d.MoveNext() in DiagnosticsStartupFilter.cs + await next(); Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) in ModularTenantRouterMiddleware.cs + await shellContext.Pipeline.Invoke(httpContext); OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) in ShellScope.cs + await execute(this); OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in ModularTenantContainerMiddleware.cs + await shellScope.UsingAsync(scope => _next.Invoke(httpContext)); Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)  other-file other-file other-file other-file",no-bug,0.9
13825,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13825,Only include Google Analytics tracking script if the privacy consent was given," Is your feature request related to a problem? Please describe. The Google Analytics feature always includes the GA tracking script in `GoogleAnalyticsFilter`. Instead, it should only include this if the user gave consent to tracking, otherwise, it's a legal risk under GDPR for EU companies. Potentially something similar for websites run by other entities around the world too.  Describe the solution you'd like The built-in ASP.NET Core feature can be used for this, just by adding the below check to `GoogleAnalyticsFilter`: c# var trackingConsentFeature = _hca.HttpContext.Features.Get<ITrackingConsentFeature>(); if (trackingConsentFeature is null || trackingConsentFeature.CanTrack) { // Only insert the tracking script here. }   Describe alternatives you've considered There are no alternatives, and I'm afraid because this is what our legal counsel told us: ![image](https://github.com/OrchardCMS/OrchardCore/assets/1976647/b138e48e-ead1-4e0d-8470-b8f4aaea9635)",other-file | other-file,"Only include Google Analytics tracking script if the privacy consent was given  Is your feature request related to a problem? Please describe. The Google Analytics feature always includes the GA tracking script in `GoogleAnalyticsFilter`. Instead, it should only include this if the user gave consent to tracking, otherwise, it's a legal risk under GDPR for EU companies. Potentially something similar for websites run by other entities around the world too.  Describe the solution you'd like The built-in ASP.NET Core feature can be used for this, just by adding the below check to `GoogleAnalyticsFilter`: c# var trackingConsentFeature = _hca.HttpContext.Features.Get<ITrackingConsentFeature>(); if (trackingConsentFeature is null || trackingConsentFeature.CanTrack) { // Only insert the tracking script here. }   Describe alternatives you've considered There are no alternatives, and I'm afraid because this is what our legal counsel told us: ![image](https://github.com/OrchardCMS/OrchardCore/assets/1976647/b138e48e-ead1-4e0d-8470-b8f4aaea9635) other-file other-file",no-bug,0.95
15726,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15726,Frontend assets are outdated," Describe the bug The `assets_validation` workflow didn't catch this, because it has a bug, but if you [build the frontend assets](https://docs.orchardcore.net/en/latest/docs/guides/gulp-pipeline/) then there will be changed files. This means that when you run OC, the client-side assets are actually outdated. See a correctly failing `assets_validation` [here](https://github.com/OrchardCMS/OrchardCore/actions/runs/8638115705). Once https://github.com/OrchardCMS/OrchardCore/pull/15619 is merged, `assets_validation` will be fixed.  To Reproduce In the root of the repo: 1. `npm install` 2. `gulp rebuild`  Expected behavior No files changed. Also, we should run `assets_validation` as a CI workflow too, this shouldn't be just on-demand. So, add the following triggers to it:  on: push: paths-ignore: - '**/*.md' - 'mkdocs.yml' - 'src/docs/**/*' branches: [ main ] pull_request: branches: [ main, release/** ] concurrency: group: ${{ github.head_ref || github.run_id }} cancel-in-progress: true   Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/1976647/f09fd0a7-ba8c-417f-baa7-ebf46c725073)",config-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file,"Frontend assets are outdated  Describe the bug The `assets_validation` workflow didn't catch this, because it has a bug, but if you [build the frontend assets](https://docs.orchardcore.net/en/latest/docs/guides/gulp-pipeline/) then there will be changed files. This means that when you run OC, the client-side assets are actually outdated. See a correctly failing `assets_validation` [here](https://github.com/OrchardCMS/OrchardCore/actions/runs/8638115705). Once https://github.com/OrchardCMS/OrchardCore/pull/15619 is merged, `assets_validation` will be fixed.  To Reproduce In the root of the repo: 1. `npm install` 2. `gulp rebuild`  Expected behavior No files changed. Also, we should run `assets_validation` as a CI workflow too, this shouldn't be just on-demand. So, add the following triggers to it:  on: push: paths-ignore: - '**/*.md' - 'mkdocs.yml' - 'src/docs/**/*' branches: [ main ] pull_request: branches: [ main, release/** ] concurrency: group: ${{ github.head_ref || github.run_id }} cancel-in-progress: true   Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/1976647/f09fd0a7-ba8c-417f-baa7-ebf46c725073) config-file source-file source-file other-file other-file other-file other-file other-file",no-bug,0.95
7402,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7402,Admin Dark mode,"There are some incorrect displays when you are in Admin Dark mode: - `nav` with css class='admin-toolbar' have a light background. - List of admin menus has a light background and the type of menu is not displayed because it is in black: ![image](https://user-images.githubusercontent.com/703248/97286174-77fee100-1843-11eb-86e6-a2f038dfdff5.png) ![image](https://user-images.githubusercontent.com/703248/97286270-94028280-1843-11eb-9eac-9c6ecd7897d6.png) - Text in input-group is not displayed. Ex: Permalink in Create Sitemap or Autoroute: ![image](https://user-images.githubusercontent.com/703248/97286425-c3b18a80-1843-11eb-9642-e8b4dd92f70b.png) - Readonly input is grey on grey bg. Ex: Technical name in Edit Content type, Edit Layer: ![image](https://user-images.githubusercontent.com/703248/97287083-71249e00-1844-11eb-973e-c023e5207143.png) - Font picker icons are not displayed: ![image](https://user-images.githubusercontent.com/703248/97287588-0fb0ff00-1845-11eb-840a-dcb15a2c7fca.png)",other-file | other-file | other-file,"Admin Dark mode There are some incorrect displays when you are in Admin Dark mode: - `nav` with css class='admin-toolbar' have a light background. - List of admin menus has a light background and the type of menu is not displayed because it is in black: ![image](https://user-images.githubusercontent.com/703248/97286174-77fee100-1843-11eb-86e6-a2f038dfdff5.png) ![image](https://user-images.githubusercontent.com/703248/97286270-94028280-1843-11eb-9eac-9c6ecd7897d6.png) - Text in input-group is not displayed. Ex: Permalink in Create Sitemap or Autoroute: ![image](https://user-images.githubusercontent.com/703248/97286425-c3b18a80-1843-11eb-9642-e8b4dd92f70b.png) - Readonly input is grey on grey bg. Ex: Technical name in Edit Content type, Edit Layer: ![image](https://user-images.githubusercontent.com/703248/97287083-71249e00-1844-11eb-973e-c023e5207143.png) - Font picker icons are not displayed: ![image](https://user-images.githubusercontent.com/703248/97287588-0fb0ff00-1845-11eb-840a-dcb15a2c7fca.png) other-file other-file other-file",no-bug,0.95
17554,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17554,User/Content Picker not loading for builds 18524-18529,List view is missing. Perhaps due to VUE rework? @Skrypt ?,other-file,User/Content Picker not loading for builds 18524-18529 List view is missing. Perhaps due to VUE rework? @Skrypt ? other-file,no-bug,0.7
15702,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15702,Replace ReCaptchaLoginFilter with drivers,"Filters are expensive and should be used very lightly. The `ReCaptchaLoginFilter` is called on every request when the reCapcha feature is enabled. We should be able to improve `ForgotPassword.cshtml` by using shapes to create the form `ForgotPasswordForm`. Also, improve `Register.cshtml` by using shapes to create the `RegisterForm` shape. Finally, improve `ResetPassword.cshtml` by using shapes to create the `ResetPasswordForm` shape. This will allow us to inject reCapcha and other shapes into these forms without having the need to use filter.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"Replace ReCaptchaLoginFilter with drivers Filters are expensive and should be used very lightly. The `ReCaptchaLoginFilter` is called on every request when the reCapcha feature is enabled. We should be able to improve `ForgotPassword.cshtml` by using shapes to create the form `ForgotPasswordForm`. Also, improve `Register.cshtml` by using shapes to create the `RegisterForm` shape. Finally, improve `ResetPassword.cshtml` by using shapes to create the `ResetPasswordForm` shape. This will allow us to inject reCapcha and other shapes into these forms without having the need to use filter. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.9
9295,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9295,Shortcodes app in Monaco editor is broken,"Cannot open the shortcodes app from within monaco editor, Steps to reproduce the behavior: 1. Add an html field to a content type 2. Use monaco editor 3. Create a new content item of that type and press alt+s or f1 and go to shortcodes command 4. A reference error is thrown ReferenceError: shortcodesApp is not defined at Object.run (Edit?returnUrl=%2FAdmin%2FContents%2FContentItems%3Fadmin%3D-1359458048:493) at se (editor.main.js:716) at p.invokeFunction (editor.main.js:600) at F.executeCommand (editor.main.js:714) at D._doDispatch (editor.main.js:602) at D._dispatch (editor.main.js:602) at HTMLDivElement.<anonymous> (editor.main.js:714)",other-file | other-file,"Shortcodes app in Monaco editor is broken Cannot open the shortcodes app from within monaco editor, Steps to reproduce the behavior: 1. Add an html field to a content type 2. Use monaco editor 3. Create a new content item of that type and press alt+s or f1 and go to shortcodes command 4. A reference error is thrown ReferenceError: shortcodesApp is not defined at Object.run (Edit?returnUrl=%2FAdmin%2FContents%2FContentItems%3Fadmin%3D-1359458048:493) at se (editor.main.js:716) at p.invokeFunction (editor.main.js:600) at F.executeCommand (editor.main.js:714) at D._doDispatch (editor.main.js:602) at D._dispatch (editor.main.js:602) at HTMLDivElement.<anonymous> (editor.main.js:714) other-file other-file",no-bug,0.9
6237,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6237,Setup favicon invisible on light browser UIs,I'd like to complain about the setup screen improvements as asked by @sebastienros under https://github.com/OrchardCMS/OrchardCore/pull/5781#issuecomment-606937463. The new favicon is good on dark browser UIs but invisible on light ones: ![image](https://user-images.githubusercontent.com/1976647/82598226-97198880-9baa-11ea-98ab-946db7d8e6cb.png) This is when the tab is not in focus: ![image](https://user-images.githubusercontent.com/1976647/82598252-a6003b00-9baa-11ea-9cde-5196a5eb74bc.png),other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Setup favicon invisible on light browser UIs I'd like to complain about the setup screen improvements as asked by @sebastienros under https://github.com/OrchardCMS/OrchardCore/pull/5781#issuecomment-606937463. The new favicon is good on dark browser UIs but invisible on light ones: ![image](https://user-images.githubusercontent.com/1976647/82598226-97198880-9baa-11ea-98ab-946db7d8e6cb.png) This is when the tab is not in focus: ![image](https://user-images.githubusercontent.com/1976647/82598252-a6003b00-9baa-11ea-9cde-5196a5eb74bc.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.95
14703,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14703,"Deploy preview docker image for Windows setp in the ""Preview - CI"" is failing",Strange error in the CI. It's failing. I am wondering if it is pulling from cache for some reason. The same step works on Ubuntu. https://github.com/OrchardCMS/OrchardCore/actions/runs/6881515041/job/18718018240#step:13:230  Sending build context to Docker daemon 580.4MB Step 1/6 : FROM mcr.microsoft.com/dotnet/aspnet:8.0 8.0: Pulling from dotnet/aspnet no matching manifest for windows/amd64 10.0.20348 in the manifest list entries Login Succeeded An image does not exist locally with the tag: /orchardcore-cms-windows The push refers to repository [docker.io//orchardcore-cms-windows] Error: Process completed with exit code 1.  @sebastienros @jtkech any idea why this step is failing?,config-file | config-file | container-file,"Deploy preview docker image for Windows setp in the ""Preview - CI"" is failing Strange error in the CI. It's failing. I am wondering if it is pulling from cache for some reason. The same step works on Ubuntu. https://github.com/OrchardCMS/OrchardCore/actions/runs/6881515041/job/18718018240#step:13:230  Sending build context to Docker daemon 580.4MB Step 1/6 : FROM mcr.microsoft.com/dotnet/aspnet:8.0 8.0: Pulling from dotnet/aspnet no matching manifest for windows/amd64 10.0.20348 in the manifest list entries Login Succeeded An image does not exist locally with the tag: /orchardcore-cms-windows The push refers to repository [docker.io//orchardcore-cms-windows] Error: Process completed with exit code 1.  @sebastienros @jtkech any idea why this step is failing? config-file config-file container-file",no-bug,0.9
12944,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12944,When adding a default value for Select Input widget the JS code fails," Describe the bug When adding a default value for Select Input widget the JS code fails  To Reproduce Steps to reproduce the behavior: 1. In a content type where Widget can be added, add ""Select"" widget and then in the options editor provide the following  [ { ""text"": ""Select a state"", ""value"": """" }, { ""text"": ""Alabama"", ""value"": ""AL"" }, { ""text"": ""Alaska"", ""value"": ""AK"" }, { ""text"": ""American Samoa"", ""value"": ""AS"" }, { ""text"": ""Arizona"", ""value"": ""AZ"" }, { ""text"": ""Arkansas"", ""value"": ""AR"" }, { ""text"": ""California"", ""value"": ""CA"" }, { ""text"": ""Colorado"", ""value"": ""CO"" }, { ""text"": ""Connecticut"", ""value"": ""CT"" }, { ""text"": ""Delaware"", ""value"": ""DE"" }, { ""text"": ""District Of Columbia"", ""value"": ""DC"" }, { ""text"": ""Federated States Of Micronesia"", ""value"": ""FM"" }, { ""text"": ""Florida"", ""value"": ""FL"" }, { ""text"": ""Georgia"", ""value"": ""GA"" }, { ""text"": ""Guam Gu"", ""value"": ""GU"" }, { ""text"": ""Hawaii"", ""value"": ""HI"" }, { ""text"": ""Idaho"", ""value"": ""ID"" }, { ""text"": ""Illinois"", ""value"": ""IL"" }, { ""text"": ""Indiana"", ""value"": ""IN"" }, { ""text"": ""Iowa"", ""value"": ""IA"" }, { ""text"": ""Kansas"", ""value"": ""KS"" }, { ""text"": ""Kentucky"", ""value"": ""KY"" }, { ""text"": ""Louisiana"", ""value"": ""LA"" }, { ""text"": ""Maine"", ""value"": ""ME"" }, { ""text"": ""Marshall Islands"", ""value"": ""MH"" }, { ""text"": ""Maryland"", ""value"": ""MD"" }, { ""text"": ""Massachusetts"", ""value"": ""MA"" }, { ""text"": ""Michigan"", ""value"": ""MI"" }, { ""text"": ""Minnesota"", ""value"": ""MN"" }, { ""text"": ""Mississippi"", ""value"": ""MS"" }, { ""text"": ""Missouri"", ""value"": ""MO"" }, { ""text"": ""Montana"", ""value"": ""MT"" }, { ""text"": ""Nebraska"", ""value"": ""NE"" }, { ""text"": ""Nevada"", ""value"": ""NV"" }, { ""text"": ""New Hampshire"", ""value"": ""NH"" }, { ""text"": ""New Jersey"", ""value"": ""NJ"" }, { ""text"": ""New Mexico"", ""value"": ""NM"" }, { ""text"": ""New York"", ""value"": ""NY"" }, { ""text"": ""North Carolina"", ""value"": ""NC"" }, { ""text"": ""North Dakota"", ""value"": ""ND"" }, { ""text"": ""Northern Mariana Islands"", ""value"": ""MP"" }, { ""text"": ""Ohio"", ""value"": ""OH"" }, { ""text"": ""Oklahoma"", ""value"": ""OK"" }, { ""text"": ""Oregon"", ""value"": ""OR"" }, { ""text"": ""Palau"", ""value"": ""PW"" }, { ""text"": ""Pennsylvania"", ""value"": ""PA"" }, { ""text"": ""Puerto Rico"", ""value"": ""PR"" }, { ""text"": ""Rhode Island"", ""value"": ""RI"" }, { ""text"": ""South Carolina"", ""value"": ""SC"" }, { ""text"": ""South Dakota"", ""value"": ""SD"" }, { ""text"": ""Tennessee"", ""value"": ""TN"" }, { ""text"": ""Texas"", ""value"": ""TX"" }, { ""text"": ""Utah"", ""value"": ""UT"" }, { ""text"": ""Vermont"", ""value"": ""VT"" }, { ""text"": ""Virgin Islands"", ""value"": ""VI"" }, { ""text"": ""Virginia"", ""value"": ""VA"" }, { ""text"": ""Washington"", ""value"": ""WA"" }, { ""text"": ""West Virginia"", ""value"": ""WV"" }, { ""text"": ""Wisconsin"", ""value"": ""WI"" }, { ""text"": ""Wyoming"", ""value"": ""WY"" } ]  2. Set the first options as the default value. 3. Save 4. When the page loaded for the second time, you'll see a JS error in the console.",other-file | other-file,"When adding a default value for Select Input widget the JS code fails  Describe the bug When adding a default value for Select Input widget the JS code fails  To Reproduce Steps to reproduce the behavior: 1. In a content type where Widget can be added, add ""Select"" widget and then in the options editor provide the following  [ { ""text"": ""Select a state"", ""value"": """" }, { ""text"": ""Alabama"", ""value"": ""AL"" }, { ""text"": ""Alaska"", ""value"": ""AK"" }, { ""text"": ""American Samoa"", ""value"": ""AS"" }, { ""text"": ""Arizona"", ""value"": ""AZ"" }, { ""text"": ""Arkansas"", ""value"": ""AR"" }, { ""text"": ""California"", ""value"": ""CA"" }, { ""text"": ""Colorado"", ""value"": ""CO"" }, { ""text"": ""Connecticut"", ""value"": ""CT"" }, { ""text"": ""Delaware"", ""value"": ""DE"" }, { ""text"": ""District Of Columbia"", ""value"": ""DC"" }, { ""text"": ""Federated States Of Micronesia"", ""value"": ""FM"" }, { ""text"": ""Florida"", ""value"": ""FL"" }, { ""text"": ""Georgia"", ""value"": ""GA"" }, { ""text"": ""Guam Gu"", ""value"": ""GU"" }, { ""text"": ""Hawaii"", ""value"": ""HI"" }, { ""text"": ""Idaho"", ""value"": ""ID"" }, { ""text"": ""Illinois"", ""value"": ""IL"" }, { ""text"": ""Indiana"", ""value"": ""IN"" }, { ""text"": ""Iowa"", ""value"": ""IA"" }, { ""text"": ""Kansas"", ""value"": ""KS"" }, { ""text"": ""Kentucky"", ""value"": ""KY"" }, { ""text"": ""Louisiana"", ""value"": ""LA"" }, { ""text"": ""Maine"", ""value"": ""ME"" }, { ""text"": ""Marshall Islands"", ""value"": ""MH"" }, { ""text"": ""Maryland"", ""value"": ""MD"" }, { ""text"": ""Massachusetts"", ""value"": ""MA"" }, { ""text"": ""Michigan"", ""value"": ""MI"" }, { ""text"": ""Minnesota"", ""value"": ""MN"" }, { ""text"": ""Mississippi"", ""value"": ""MS"" }, { ""text"": ""Missouri"", ""value"": ""MO"" }, { ""text"": ""Montana"", ""value"": ""MT"" }, { ""text"": ""Nebraska"", ""value"": ""NE"" }, { ""text"": ""Nevada"", ""value"": ""NV"" }, { ""text"": ""New Hampshire"", ""value"": ""NH"" }, { ""text"": ""New Jersey"", ""value"": ""NJ"" }, { ""text"": ""New Mexico"", ""value"": ""NM"" }, { ""text"": ""New York"", ""value"": ""NY"" }, { ""text"": ""North Carolina"", ""value"": ""NC"" }, { ""text"": ""North Dakota"", ""value"": ""ND"" }, { ""text"": ""Northern Mariana Islands"", ""value"": ""MP"" }, { ""text"": ""Ohio"", ""value"": ""OH"" }, { ""text"": ""Oklahoma"", ""value"": ""OK"" }, { ""text"": ""Oregon"", ""value"": ""OR"" }, { ""text"": ""Palau"", ""value"": ""PW"" }, { ""text"": ""Pennsylvania"", ""value"": ""PA"" }, { ""text"": ""Puerto Rico"", ""value"": ""PR"" }, { ""text"": ""Rhode Island"", ""value"": ""RI"" }, { ""text"": ""South Carolina"", ""value"": ""SC"" }, { ""text"": ""South Dakota"", ""value"": ""SD"" }, { ""text"": ""Tennessee"", ""value"": ""TN"" }, { ""text"": ""Texas"", ""value"": ""TX"" }, { ""text"": ""Utah"", ""value"": ""UT"" }, { ""text"": ""Vermont"", ""value"": ""VT"" }, { ""text"": ""Virgin Islands"", ""value"": ""VI"" }, { ""text"": ""Virginia"", ""value"": ""VA"" }, { ""text"": ""Washington"", ""value"": ""WA"" }, { ""text"": ""West Virginia"", ""value"": ""WV"" }, { ""text"": ""Wisconsin"", ""value"": ""WI"" }, { ""text"": ""Wyoming"", ""value"": ""WY"" } ]  2. Set the first options as the default value. 3. Save 4. When the page loaded for the second time, you'll see a JS error in the console. other-file other-file",no-bug,0.9
17021,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17021,Replace Nest package with Elastic.Clients.Elasticsearch,"Nest package is deprecated are was replaced with Elastic.Clients.Elasticsearch few years back. Once that is done, we can change the way we deserialize the custom analyzers and custom token-filters. The code will look more like this  using System.Collections.Concurrent; using System.Text.Json; using System.Text.Json.Nodes; using Elasticsearch.Net; using Microsoft.Extensions.Logging; using Microsoft.Extensions.Options; using Nest; using OrchardCore.ContentManagement; using OrchardCore.Contents.Indexing; using OrchardCore.Environment.Shell; using OrchardCore.Indexing; using OrchardCore.Modules; using OrchardCore.Search.Elasticsearch.Core.Mappings; using OrchardCore.Search.Elasticsearch.Core.Models; namespace OrchardCore.Search.Elasticsearch.Core.Services;  <summary>  Provides methods to manage Elasticsearch indices.  </summary> public sealed class ElasticIndexManager { private const string _separator = ""_""; private readonly IElasticClient _elasticClient; private readonly ShellSettings _shellSettings; private readonly IClock _clock; private readonly ILogger _logger; private readonly ElasticsearchOptions _elasticSearchOptions; private readonly ConcurrentDictionary<string, DateTime> _timestamps = new(StringComparer.OrdinalIgnoreCase); private const string _lastTaskId = ""last_task_id""; private static readonly Dictionary<string, Type> _analyzerGetter = new(StringComparer.OrdinalIgnoreCase) { { ElasticsearchConstants.DefaultAnalyzer, typeof(StandardAnalyzer) }, { ElasticsearchConstants.SimpleAnalyzer, typeof(SimpleAnalyzer) }, { ElasticsearchConstants.KeywordAnalyzer, typeof(KeywordAnalyzer) }, { ElasticsearchConstants.WhitespaceAnalyzer, typeof(WhitespaceAnalyzer) }, { ElasticsearchConstants.PatternAnalyzer, typeof(PatternAnalyzer) }, { ElasticsearchConstants.LanguageAnalyzer, typeof(LanguageAnalyzer) }, { ElasticsearchConstants.FingerprintAnalyzer, typeof(FingerprintAnalyzer) }, { ElasticsearchConstants.CustomAnalyzer, typeof(CustomAnalyzer) }, { ElasticsearchConstants.StopAnalyzer, typeof(StopAnalyzer) }, }; private static readonly Dictionary<string, Type> _tokenFilterGetter = new(StringComparer.OrdinalIgnoreCase) { { ""asciifolding"", typeof(AsciiFoldingTokenFilter) }, { ""common_grams"", typeof(CommonGramsTokenFilter) }, { ""condition"", typeof(ConditionTokenFilter) }, { ""delimited_payload"", typeof(DelimitedPayloadTokenFilter) }, { ""dictionary_decompounder"", typeof(DictionaryDecompounderTokenFilter) }, { ""edge_ngram"", typeof(EdgeNGramTokenFilter) }, { ""elision"", typeof(ElisionTokenFilter) }, { ""fingerprint"", typeof(FingerprintTokenFilter) }, { ""hunspell"", typeof(HunspellTokenFilter) }, { ""hyphenation_decompounder"", typeof(HyphenationDecompounderTokenFilter) }, { ""icu_collation"", typeof(IcuCollationTokenFilter) }, { ""icu_folding"", typeof(IcuFoldingTokenFilter) }, { ""icu_normalizer"", typeof(IcuNormalizationTokenFilter) }, { ""icu_transform"", typeof(IcuTransformTokenFilter) }, { ""keep_types"", typeof(KeepTypesTokenFilter) }, { ""keep"", typeof(KeepWordsTokenFilter) }, { ""keyword_marker"", typeof(KeywordMarkerTokenFilter) }, { ""kstem"", typeof(KStemTokenFilter) }, { ""kuromoji_part_of_speech"", typeof(KuromojiPartOfSpeechTokenFilter) }, { ""kuromoji_readingform"", typeof(KuromojiReadingFormTokenFilter) }, { ""kuromoji_stemmer"", typeof(KuromojiStemmerTokenFilter) }, { ""length"", typeof(LengthTokenFilter) }, { ""limit"", typeof(LimitTokenCountTokenFilter) }, { ""lowercase"", typeof(LowercaseTokenFilter) }, { ""multiplexer"", typeof(MultiplexerTokenFilter) }, { ""ngram"", typeof(NGramTokenFilter) }, { ""nori_part_of_speech"", typeof(NoriPartOfSpeechTokenFilter) }, { ""pattern_capture"", typeof(PatternCaptureTokenFilter) }, { ""pattern_replace"", typeof(PatternReplaceTokenFilter) }, { ""phonetic"", typeof(PhoneticTokenFilter) }, { ""porter_stem"", typeof(PorterStemTokenFilter) }, { ""remove_duplicates"", typeof(RemoveDuplicatesTokenFilter) }, { ""reverse"", typeof(ReverseTokenFilter) }, { ""shingle"", typeof(ShingleTokenFilter) }, { ""snowball"", typeof(SnowballTokenFilter) }, { ""stemmer_override"", typeof(StemmerOverrideTokenFilter) }, { ""stemmer"", typeof(StemmerTokenFilter) }, { ""stop"", typeof(StopTokenFilter) }, { ""synonym_graph"", typeof(SynonymGraphTokenFilter) }, { ""synonym"", typeof(SynonymTokenFilter) }, { ""trim"", typeof(TrimTokenFilter) }, { ""truncate"", typeof(TruncateTokenFilter) }, { ""unique"", typeof(UniqueTokenFilter) }, { ""uppercase"", typeof(UppercaseTokenFilter) }, { ""word_delimiter_graph"", typeof(WordDelimiterGraphTokenFilter) }, { ""word_delimiter"", typeof(WordDelimiterTokenFilter) } }; private static readonly List<char> _charsToRemove = [ '\\', '/', '*', '\""', '|', '<', '>', '`', '\'', ' ', '#', ':', '.', ]; private string _indexPrefix; public ElasticIndexManager( IElasticClient elasticClient, ShellSettings shellSettings, IOptions<ElasticsearchOptions> elasticsearchOptions, IClock clock, ILogger<ElasticIndexManager> logger ) { _elasticClient = elasticClient; _shellSettings = shellSettings; _clock = clock; _logger = logger; _elasticSearchOptions = elasticsearchOptions.Value; }  <summary>  <para>Creates an Elasticsearch index with _source mapping.</para>  <para><see href=""https://www.elastic.co/guide/en/elasticsearch/reference/8.3/mapping-source-field.html#disable-source-field""/>.</para>  <para>Specify an analyzer for an index based on the ElasticsearchIndexSettings.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/current/specify-analyzer.html#specify-index-time-default-analyzer""/>,  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/master/analysis-analyzers.html""/>.  </para>  </summary>  <returns><see cref=""bool""/>.</returns> public async Task<bool> CreateIndexAsync(ElasticIndexSettings elasticIndexSettings) { // Get Index name scoped by ShellName if (await ExistsAsync(elasticIndexSettings.IndexName)) { return true; } var analysisDescriptor = new AnalysisDescriptor(); var indexSettingsDescriptor = new IndexSettingsDescriptor(); // The name ""standardanalyzer"" is a legacy used prior OC 1.6 release. It can be removed in future releases. var analyzerName = (elasticIndexSettings.AnalyzerName == ""standardanalyzer"" ? null : elasticIndexSettings.AnalyzerName) ?? ElasticsearchConstants.DefaultAnalyzer; if (_elasticSearchOptions.Analyzers is not null && _elasticSearchOptions.Analyzers.TryGetValue(analyzerName, out var analyzerProperties)) { var analyzer = GetAnalyzer(analyzerProperties); analysisDescriptor.Analyzers(a => a.UserDefined(analyzerName, analyzer)); } if (_elasticSearchOptions.TokenFilters is not null && _elasticSearchOptions.TokenFilters.Count > 0) { var tokenFiltersDescriptor = GetTokenFiltersDescriptor(_elasticSearchOptions.TokenFilters); analysisDescriptor.TokenFilters(d => tokenFiltersDescriptor); } indexSettingsDescriptor.Analysis(a => analysisDescriptor); // Custom metadata to store the last indexing task id. var IndexingState = new FluentDictionary<string, object>() { { _lastTaskId, 0 }, }; var fullIndexName = GetFullIndexName(elasticIndexSettings.IndexName); var createIndexDescriptor = new CreateIndexDescriptor(fullIndexName) .Settings(s => indexSettingsDescriptor) .Map(m => m .SourceField(s => s .Enabled(elasticIndexSettings.StoreSourceData) .Excludes([IndexingConstants.DisplayTextAnalyzedKey])) .Meta(me => IndexingState)); var response = await _elasticClient.Indices.CreateAsync(createIndexDescriptor); // We force some mappings for common fields. await _elasticClient.MapAsync<string>(p => p .Index(fullIndexName) .Properties(p => p .Keyword(obj => obj .Name(IndexingConstants.ContentItemIdKey) ) .Keyword(obj => obj .Name(IndexingConstants.ContentItemVersionIdKey) ) .Keyword(obj => obj .Name(IndexingConstants.OwnerKey) ) .Text(obj => obj .Name(IndexingConstants.FullTextKey) ) )); // ContainedPart mappings. await _elasticClient.MapAsync<ContainedPartModel>(p => p .Index(fullIndexName) .Properties(p => p .Object<ContainedPartModel>(obj => obj .Name(IndexingConstants.ContainedPartKey) .AutoMap() ) )); // We map DisplayText here because we have 3 different fields with it. // We can't have Content.ContentItem.DisplayText as it is mapped as an Object in Elasticsearch. await _elasticClient.MapAsync<DisplayTextModel>(p => p .Index(fullIndexName) .Properties(p => p .Object<DisplayTextModel>(obj => obj .Name(IndexingConstants.DisplayTextKey) .AutoMap() ) )); // We map ContentType as a keyword because else the automatic mapping will break the queries. // We need to access it with Content.ContentItem.ContentType as a keyword // for the ContentPickerResultProvider(s). await _elasticClient.MapAsync<string>(p => p .Index(fullIndexName) .Properties(p => p .Keyword(obj => obj .Name(IndexingConstants.ContentTypeKey) ) )); // DynamicTemplates mapping for Taxonomy indexing mostly. await _elasticClient.MapAsync<string>(p => p .Index(fullIndexName) .DynamicTemplates(d => d .DynamicTemplate(""*.Inherited"", dyn => dyn .MatchMappingType(""string"") .PathMatch(""*"" + IndexingConstants.InheritedKey) .Mapping(m => m .Keyword(k => k)) ) .DynamicTemplate(""*.Ids"", dyn => dyn .MatchMappingType(""string"") .PathMatch(""*"" + IndexingConstants.IdsKey) .Mapping(m => m .Keyword(k => k)) ) ) ); // DynamicTemplates mapping for Geo fields, the GeoPointFieldIndexHandler adds a Location index by default. await _elasticClient.MapAsync<object>(p => p .Index(fullIndexName) .DynamicTemplates(d => d .DynamicTemplate(""*.Location"", dyn => dyn .MatchMappingType(""object"") .PathMatch(""*"" + "".Location"") .Mapping(m => m.GeoPoint(g => g)) ) ) ); return response.Acknowledged; } private static TokenFiltersDescriptor GetTokenFiltersDescriptor(Dictionary<string, JsonObject> filters) { var descriptor = new TokenFiltersDescriptor(); foreach (var filter in filters) { if (!filter.Value.TryGetPropertyValue(""type"", out var typeObject) || !_tokenFilterGetter.TryGetValue(typeObject.ToString(), out var tokenFilterType)) { continue; } RemoveTypeNode(filter.Value); var tokenFilter = filter.Value.ToObject(tokenFilterType) as ITokenFilter; if (tokenFilter is not null) { descriptor.UserDefined(filter.Key, tokenFilter); } } return descriptor; } private static IAnalyzer GetAnalyzer(JsonObject analyzerProperties) { IAnalyzer analyzer = null; if (analyzerProperties.TryGetPropertyValue(""type"", out var typeObject) && _analyzerGetter.TryGetValue(typeObject.ToString(), out var analyzerType)) { RemoveTypeNode(analyzerProperties); analyzer = analyzerProperties.ToObject(analyzerType) as IAnalyzer; } if (analyzer == null) { if (_analyzerGetter.TryGetValue(ElasticsearchConstants.DefaultAnalyzer, out analyzerType)) { RemoveTypeNode(analyzerProperties); analyzer = analyzerProperties.ToObject(analyzerType) as IAnalyzer; } else { RemoveTypeNode(analyzerProperties); analyzer = analyzerProperties.ToObject(_analyzerGetter.First().Value) as IAnalyzer; } } return analyzer; } private static void RemoveTypeNode(JsonObject analyzerProperties) { var typeKey = analyzerProperties.FirstOrDefault(x => x.Key.Equals(""type"", StringComparison.OrdinalIgnoreCase)).Key; if (typeKey is not null) { analyzerProperties.Remove(typeKey); } } public async Task<string> GetIndexMappings(string indexName) { var response = await _elasticClient.LowLevel.Indices.GetMappingAsync<StringResponse>(GetFullIndexName(indexName)); if (!response.Success) { _logger.LogWarning(""There were issues retrieving index mappings from Elasticsearch. {OriginalException}"", response.OriginalException); } return response.Body; } public async Task<string> GetIndexSettings(string indexName) { var response = await _elasticClient.LowLevel.Indices.GetSettingsAsync<StringResponse>(GetFullIndexName(indexName)); if (!response.Success) { _logger.LogWarning(""There were issues retrieving index settings from Elasticsearch. {OriginalException}"", response.OriginalException); } return response.Body; } public async Task<string> GetIndexInfo(string indexName) { var response = await _elasticClient.LowLevel.Indices.GetAsync<StringResponse>(GetFullIndexName(indexName)); if (!response.Success) { _logger.LogWarning(""There were issues retrieving index info from Elasticsearch. {OriginalException}"", response.OriginalException); } return response.Body; }  <summary>  Store a last_task_id in the Elasticsearch index _meta mappings.  This allows storing the last indexing task id executed on the Elasticsearch index.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-meta-field.html""/>.  </summary> public async Task SetLastTaskId(string indexName, long lastTaskId) { var IndexingState = new FluentDictionary<string, object>() { { _lastTaskId, lastTaskId }, }; var putMappingRequest = new PutMappingRequest(GetFullIndexName(indexName)) { Meta = IndexingState }; await _elasticClient.Indices.PutMappingAsync(putMappingRequest); }  <summary>  Get a last_task_id in the Elasticsearch index _meta mappings.  This allows retrieving the last indexing task id executed on the index.  </summary> public async Task<long> GetLastTaskId(string indexName) { var jsonDocument = JsonDocument.Parse(await GetIndexMappings(indexName)); jsonDocument.RootElement.TryGetProperty(GetFullIndexName(indexName), out var jsonElement); jsonElement.TryGetProperty(""mappings"", out var mappings); mappings.TryGetProperty(""_meta"", out var meta); meta.TryGetProperty(_lastTaskId, out var lastTaskId); lastTaskId.TryGetInt64(out var longValue); return longValue; } public async Task<bool> DeleteDocumentsAsync(string indexName, IEnumerable<string> contentItemIds) { var success = true; if (contentItemIds.Any()) { var descriptor = new BulkDescriptor(); foreach (var id in contentItemIds) { descriptor.Delete<Dictionary<string, object>>(d => d .Index(GetFullIndexName(indexName)) .Id(id) ); } var response = await _elasticClient.BulkAsync(descriptor); if (response.Errors) { _logger.LogWarning(""There were issues deleting documents from Elasticsearch. {OriginalException}"", response.OriginalException); } success = response.IsValid; } return success; }  <summary>  Deletes all documents in an index in one request.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/master/docs-delete-by-query.html""/>.  </summary> public async Task<bool> DeleteAllDocumentsAsync(string indexName) { var response = await _elasticClient.DeleteByQueryAsync<Dictionary<string, object>>(del => del .Index(GetFullIndexName(indexName)) .Query(q => q.MatchAll()) ); return response.IsValid; } public async Task<bool> DeleteIndex(string indexName) { if (await ExistsAsync(indexName)) { var result = await _elasticClient.Indices.DeleteAsync(GetFullIndexName(indexName)); return result.Acknowledged; } return true; }  <summary>  Verify if an index exists for the current tenant.  </summary> public async Task<bool> ExistsAsync(string indexName) { if (string.IsNullOrWhiteSpace(indexName)) { return false; } var existResponse = await _elasticClient.Indices.ExistsAsync(GetFullIndexName(indexName)); return existResponse.Exists; }  <summary>  Makes sure that the index names are compliant with Elasticsearch specifications.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html#indices-create-api-path-params""/>.  </summary> public static string ToSafeIndexName(string indexName) { indexName = indexName.ToLowerInvariant(); if (indexName[0] == '-' || indexName[0] == '_' || indexName[0] == '+' || indexName[0] == '.') { indexName = indexName.Remove(0, 1); } _charsToRemove.ForEach(c => indexName = indexName.Replace(c.ToString(), string.Empty)); return indexName; } public async Task StoreDocumentsAsync(string indexName, IEnumerable<DocumentIndex> indexDocuments) { var documents = new List<Dictionary<string, object>>(); foreach (var indexDocument in indexDocuments) { documents.Add(CreateElasticDocument(indexDocument)); } if (documents.Count > 0) { var descriptor = new BulkDescriptor(); foreach (var document in documents) { descriptor.Index<Dictionary<string, object>>(op => op .Id(document.GetValueOrDefault(""ContentItemId"").ToString()) .Document(document) .Index(GetFullIndexName(indexName)) ); } var result = await _elasticClient.BulkAsync(d => descriptor); if (result.Errors) { _logger.LogWarning(""There were issues reported indexing the documents. {ServerError}"", result.ServerError); } } }  <summary>  Returns results from a search made with a NEST QueryContainer query.  </summary>  <param name=""indexName""></param>  <param name=""query""></param>  <param name=""sort""></param>  <param name=""from""></param>  <param name=""size""></param>  <returns><see cref=""ElasticTopDocs""/>.</returns> public async Task<ElasticTopDocs> SearchAsync(string indexName, QueryContainer query, List<ISort> sort, int from, int size) { ArgumentException.ThrowIfNullOrEmpty(indexName); ArgumentNullException.ThrowIfNull(query); var elasticTopDocs = new ElasticTopDocs() { TopDocs = [], }; if (await ExistsAsync(indexName)) { var fullIndexName = GetFullIndexName(indexName); var searchRequest = new SearchRequest(fullIndexName) { Query = query, From = from, Size = size, Sort = sort ?? [], }; var searchResponse = await _elasticClient.SearchAsync<Dictionary<string, object>>(searchRequest); if (searchResponse.IsValid) { elasticTopDocs.Count = searchResponse.Hits.Count; var documents = searchResponse.Documents.GetEnumerator(); var hits = searchResponse.Hits.GetEnumerator(); while (documents.MoveNext() && hits.MoveNext()) { var document = documents.Current; if (document != null) { elasticTopDocs.TopDocs.Add(document); continue; } var hit = hits.Current; var topDoc = new Dictionary<string, object> { { nameof(ContentItem.ContentItemId), hit.Id }, }; elasticTopDocs.TopDocs.Add(topDoc); } } _timestamps[fullIndexName] = _clock.UtcNow; } return elasticTopDocs; }  <summary>  Returns results from a search made with NEST Fluent DSL query.  </summary> public async Task SearchAsync(string indexName, Func<IElasticClient, Task> elasticClient) { ArgumentException.ThrowIfNullOrEmpty(indexName); if (await ExistsAsync(indexName)) { await elasticClient(_elasticClient); _timestamps[GetFullIndexName(indexName)] = _clock.UtcNow; } } private static Dictionary<string, object> CreateElasticDocument(DocumentIndex documentIndex) { var entries = new Dictionary<string, object> { { IndexingConstants.ContentItemIdKey, documentIndex.ContentItemId }, { IndexingConstants.ContentItemVersionIdKey, documentIndex.ContentItemVersionId } }; foreach (var entry in documentIndex.Entries) { switch (entry.Type) { case DocumentIndexBase.Types.Boolean: if (entry.Value is bool boolValue) { AddValue(entries, entry.Name, boolValue); } break; case DocumentIndexBase.Types.DateTime: if (entry.Value is DateTimeOffset offsetValue) { AddValue(entries, entry.Name, offsetValue); } else if (entry.Value is DateTime dateTimeValue) { AddValue(entries, entry.Name, dateTimeValue.ToUniversalTime()); } break; case DocumentIndexBase.Types.Integer: if (entry.Value != null && long.TryParse(entry.Value.ToString(), out var value)) { AddValue(entries, entry.Name, value); } break; case DocumentIndexBase.Types.Number: if (entry.Value != null) { AddValue(entries, entry.Name, Convert.ToDouble(entry.Value)); } break; case DocumentIndexBase.Types.Text: if (entry.Value != null) { var stringValue = Convert.ToString(entry.Value); if (!string.IsNullOrEmpty(stringValue)) { AddValue(entries, entry.Name, stringValue); } } break; case DocumentIndexBase.Types.GeoPoint: if (entry.Value is DocumentIndexBase.GeoPoint point) { AddValue(entries, entry.Name, new GeoLocation((double)point.Latitude, (double)point.Longitude)); } break; } } return entries; } public string GetFullIndexName(string indexName) { ArgumentException.ThrowIfNullOrEmpty(indexName); return GetIndexPrefix() + _separator + indexName; } private static void AddValue(Dictionary<string, object> entries, string key, object value) { if (entries.TryAdd(key, value)) { return; } // At this point, we know that a value already exists. if (entries[key] is List<object> list) { list.Add(value); entries[key] = list; return; } // Convert the existing value to a list of values. var values = new List<object>() { entries[key], value, }; entries[key] = values; } private string GetIndexPrefix() { if (_indexPrefix == null) { var parts = new List<string>(); if (!string.IsNullOrWhiteSpace(_elasticSearchOptions.IndexPrefix)) { parts.Add(_elasticSearchOptions.IndexPrefix.ToLowerInvariant()); } parts.Add(_shellSettings.Name.ToLowerInvariant()); _indexPrefix = string.Join(_separator, parts); } return _indexPrefix; } } ",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Replace Nest package with Elastic.Clients.Elasticsearch Nest package is deprecated are was replaced with Elastic.Clients.Elasticsearch few years back. Once that is done, we can change the way we deserialize the custom analyzers and custom token-filters. The code will look more like this  using System.Collections.Concurrent; using System.Text.Json; using System.Text.Json.Nodes; using Elasticsearch.Net; using Microsoft.Extensions.Logging; using Microsoft.Extensions.Options; using Nest; using OrchardCore.ContentManagement; using OrchardCore.Contents.Indexing; using OrchardCore.Environment.Shell; using OrchardCore.Indexing; using OrchardCore.Modules; using OrchardCore.Search.Elasticsearch.Core.Mappings; using OrchardCore.Search.Elasticsearch.Core.Models; namespace OrchardCore.Search.Elasticsearch.Core.Services;  <summary>  Provides methods to manage Elasticsearch indices.  </summary> public sealed class ElasticIndexManager { private const string _separator = ""_""; private readonly IElasticClient _elasticClient; private readonly ShellSettings _shellSettings; private readonly IClock _clock; private readonly ILogger _logger; private readonly ElasticsearchOptions _elasticSearchOptions; private readonly ConcurrentDictionary<string, DateTime> _timestamps = new(StringComparer.OrdinalIgnoreCase); private const string _lastTaskId = ""last_task_id""; private static readonly Dictionary<string, Type> _analyzerGetter = new(StringComparer.OrdinalIgnoreCase) { { ElasticsearchConstants.DefaultAnalyzer, typeof(StandardAnalyzer) }, { ElasticsearchConstants.SimpleAnalyzer, typeof(SimpleAnalyzer) }, { ElasticsearchConstants.KeywordAnalyzer, typeof(KeywordAnalyzer) }, { ElasticsearchConstants.WhitespaceAnalyzer, typeof(WhitespaceAnalyzer) }, { ElasticsearchConstants.PatternAnalyzer, typeof(PatternAnalyzer) }, { ElasticsearchConstants.LanguageAnalyzer, typeof(LanguageAnalyzer) }, { ElasticsearchConstants.FingerprintAnalyzer, typeof(FingerprintAnalyzer) }, { ElasticsearchConstants.CustomAnalyzer, typeof(CustomAnalyzer) }, { ElasticsearchConstants.StopAnalyzer, typeof(StopAnalyzer) }, }; private static readonly Dictionary<string, Type> _tokenFilterGetter = new(StringComparer.OrdinalIgnoreCase) { { ""asciifolding"", typeof(AsciiFoldingTokenFilter) }, { ""common_grams"", typeof(CommonGramsTokenFilter) }, { ""condition"", typeof(ConditionTokenFilter) }, { ""delimited_payload"", typeof(DelimitedPayloadTokenFilter) }, { ""dictionary_decompounder"", typeof(DictionaryDecompounderTokenFilter) }, { ""edge_ngram"", typeof(EdgeNGramTokenFilter) }, { ""elision"", typeof(ElisionTokenFilter) }, { ""fingerprint"", typeof(FingerprintTokenFilter) }, { ""hunspell"", typeof(HunspellTokenFilter) }, { ""hyphenation_decompounder"", typeof(HyphenationDecompounderTokenFilter) }, { ""icu_collation"", typeof(IcuCollationTokenFilter) }, { ""icu_folding"", typeof(IcuFoldingTokenFilter) }, { ""icu_normalizer"", typeof(IcuNormalizationTokenFilter) }, { ""icu_transform"", typeof(IcuTransformTokenFilter) }, { ""keep_types"", typeof(KeepTypesTokenFilter) }, { ""keep"", typeof(KeepWordsTokenFilter) }, { ""keyword_marker"", typeof(KeywordMarkerTokenFilter) }, { ""kstem"", typeof(KStemTokenFilter) }, { ""kuromoji_part_of_speech"", typeof(KuromojiPartOfSpeechTokenFilter) }, { ""kuromoji_readingform"", typeof(KuromojiReadingFormTokenFilter) }, { ""kuromoji_stemmer"", typeof(KuromojiStemmerTokenFilter) }, { ""length"", typeof(LengthTokenFilter) }, { ""limit"", typeof(LimitTokenCountTokenFilter) }, { ""lowercase"", typeof(LowercaseTokenFilter) }, { ""multiplexer"", typeof(MultiplexerTokenFilter) }, { ""ngram"", typeof(NGramTokenFilter) }, { ""nori_part_of_speech"", typeof(NoriPartOfSpeechTokenFilter) }, { ""pattern_capture"", typeof(PatternCaptureTokenFilter) }, { ""pattern_replace"", typeof(PatternReplaceTokenFilter) }, { ""phonetic"", typeof(PhoneticTokenFilter) }, { ""porter_stem"", typeof(PorterStemTokenFilter) }, { ""remove_duplicates"", typeof(RemoveDuplicatesTokenFilter) }, { ""reverse"", typeof(ReverseTokenFilter) }, { ""shingle"", typeof(ShingleTokenFilter) }, { ""snowball"", typeof(SnowballTokenFilter) }, { ""stemmer_override"", typeof(StemmerOverrideTokenFilter) }, { ""stemmer"", typeof(StemmerTokenFilter) }, { ""stop"", typeof(StopTokenFilter) }, { ""synonym_graph"", typeof(SynonymGraphTokenFilter) }, { ""synonym"", typeof(SynonymTokenFilter) }, { ""trim"", typeof(TrimTokenFilter) }, { ""truncate"", typeof(TruncateTokenFilter) }, { ""unique"", typeof(UniqueTokenFilter) }, { ""uppercase"", typeof(UppercaseTokenFilter) }, { ""word_delimiter_graph"", typeof(WordDelimiterGraphTokenFilter) }, { ""word_delimiter"", typeof(WordDelimiterTokenFilter) } }; private static readonly List<char> _charsToRemove = [ '\\', '/', '*', '\""', '|', '<', '>', '`', '\'', ' ', '#', ':', '.', ]; private string _indexPrefix; public ElasticIndexManager( IElasticClient elasticClient, ShellSettings shellSettings, IOptions<ElasticsearchOptions> elasticsearchOptions, IClock clock, ILogger<ElasticIndexManager> logger ) { _elasticClient = elasticClient; _shellSettings = shellSettings; _clock = clock; _logger = logger; _elasticSearchOptions = elasticsearchOptions.Value; }  <summary>  <para>Creates an Elasticsearch index with _source mapping.</para>  <para><see href=""https://www.elastic.co/guide/en/elasticsearch/reference/8.3/mapping-source-field.html#disable-source-field""/>.</para>  <para>Specify an analyzer for an index based on the ElasticsearchIndexSettings.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/current/specify-analyzer.html#specify-index-time-default-analyzer""/>,  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/master/analysis-analyzers.html""/>.  </para>  </summary>  <returns><see cref=""bool""/>.</returns> public async Task<bool> CreateIndexAsync(ElasticIndexSettings elasticIndexSettings) { // Get Index name scoped by ShellName if (await ExistsAsync(elasticIndexSettings.IndexName)) { return true; } var analysisDescriptor = new AnalysisDescriptor(); var indexSettingsDescriptor = new IndexSettingsDescriptor(); // The name ""standardanalyzer"" is a legacy used prior OC 1.6 release. It can be removed in future releases. var analyzerName = (elasticIndexSettings.AnalyzerName == ""standardanalyzer"" ? null : elasticIndexSettings.AnalyzerName) ?? ElasticsearchConstants.DefaultAnalyzer; if (_elasticSearchOptions.Analyzers is not null && _elasticSearchOptions.Analyzers.TryGetValue(analyzerName, out var analyzerProperties)) { var analyzer = GetAnalyzer(analyzerProperties); analysisDescriptor.Analyzers(a => a.UserDefined(analyzerName, analyzer)); } if (_elasticSearchOptions.TokenFilters is not null && _elasticSearchOptions.TokenFilters.Count > 0) { var tokenFiltersDescriptor = GetTokenFiltersDescriptor(_elasticSearchOptions.TokenFilters); analysisDescriptor.TokenFilters(d => tokenFiltersDescriptor); } indexSettingsDescriptor.Analysis(a => analysisDescriptor); // Custom metadata to store the last indexing task id. var IndexingState = new FluentDictionary<string, object>() { { _lastTaskId, 0 }, }; var fullIndexName = GetFullIndexName(elasticIndexSettings.IndexName); var createIndexDescriptor = new CreateIndexDescriptor(fullIndexName) .Settings(s => indexSettingsDescriptor) .Map(m => m .SourceField(s => s .Enabled(elasticIndexSettings.StoreSourceData) .Excludes([IndexingConstants.DisplayTextAnalyzedKey])) .Meta(me => IndexingState)); var response = await _elasticClient.Indices.CreateAsync(createIndexDescriptor); // We force some mappings for common fields. await _elasticClient.MapAsync<string>(p => p .Index(fullIndexName) .Properties(p => p .Keyword(obj => obj .Name(IndexingConstants.ContentItemIdKey) ) .Keyword(obj => obj .Name(IndexingConstants.ContentItemVersionIdKey) ) .Keyword(obj => obj .Name(IndexingConstants.OwnerKey) ) .Text(obj => obj .Name(IndexingConstants.FullTextKey) ) )); // ContainedPart mappings. await _elasticClient.MapAsync<ContainedPartModel>(p => p .Index(fullIndexName) .Properties(p => p .Object<ContainedPartModel>(obj => obj .Name(IndexingConstants.ContainedPartKey) .AutoMap() ) )); // We map DisplayText here because we have 3 different fields with it. // We can't have Content.ContentItem.DisplayText as it is mapped as an Object in Elasticsearch. await _elasticClient.MapAsync<DisplayTextModel>(p => p .Index(fullIndexName) .Properties(p => p .Object<DisplayTextModel>(obj => obj .Name(IndexingConstants.DisplayTextKey) .AutoMap() ) )); // We map ContentType as a keyword because else the automatic mapping will break the queries. // We need to access it with Content.ContentItem.ContentType as a keyword // for the ContentPickerResultProvider(s). await _elasticClient.MapAsync<string>(p => p .Index(fullIndexName) .Properties(p => p .Keyword(obj => obj .Name(IndexingConstants.ContentTypeKey) ) )); // DynamicTemplates mapping for Taxonomy indexing mostly. await _elasticClient.MapAsync<string>(p => p .Index(fullIndexName) .DynamicTemplates(d => d .DynamicTemplate(""*.Inherited"", dyn => dyn .MatchMappingType(""string"") .PathMatch(""*"" + IndexingConstants.InheritedKey) .Mapping(m => m .Keyword(k => k)) ) .DynamicTemplate(""*.Ids"", dyn => dyn .MatchMappingType(""string"") .PathMatch(""*"" + IndexingConstants.IdsKey) .Mapping(m => m .Keyword(k => k)) ) ) ); // DynamicTemplates mapping for Geo fields, the GeoPointFieldIndexHandler adds a Location index by default. await _elasticClient.MapAsync<object>(p => p .Index(fullIndexName) .DynamicTemplates(d => d .DynamicTemplate(""*.Location"", dyn => dyn .MatchMappingType(""object"") .PathMatch(""*"" + "".Location"") .Mapping(m => m.GeoPoint(g => g)) ) ) ); return response.Acknowledged; } private static TokenFiltersDescriptor GetTokenFiltersDescriptor(Dictionary<string, JsonObject> filters) { var descriptor = new TokenFiltersDescriptor(); foreach (var filter in filters) { if (!filter.Value.TryGetPropertyValue(""type"", out var typeObject) || !_tokenFilterGetter.TryGetValue(typeObject.ToString(), out var tokenFilterType)) { continue; } RemoveTypeNode(filter.Value); var tokenFilter = filter.Value.ToObject(tokenFilterType) as ITokenFilter; if (tokenFilter is not null) { descriptor.UserDefined(filter.Key, tokenFilter); } } return descriptor; } private static IAnalyzer GetAnalyzer(JsonObject analyzerProperties) { IAnalyzer analyzer = null; if (analyzerProperties.TryGetPropertyValue(""type"", out var typeObject) && _analyzerGetter.TryGetValue(typeObject.ToString(), out var analyzerType)) { RemoveTypeNode(analyzerProperties); analyzer = analyzerProperties.ToObject(analyzerType) as IAnalyzer; } if (analyzer == null) { if (_analyzerGetter.TryGetValue(ElasticsearchConstants.DefaultAnalyzer, out analyzerType)) { RemoveTypeNode(analyzerProperties); analyzer = analyzerProperties.ToObject(analyzerType) as IAnalyzer; } else { RemoveTypeNode(analyzerProperties); analyzer = analyzerProperties.ToObject(_analyzerGetter.First().Value) as IAnalyzer; } } return analyzer; } private static void RemoveTypeNode(JsonObject analyzerProperties) { var typeKey = analyzerProperties.FirstOrDefault(x => x.Key.Equals(""type"", StringComparison.OrdinalIgnoreCase)).Key; if (typeKey is not null) { analyzerProperties.Remove(typeKey); } } public async Task<string> GetIndexMappings(string indexName) { var response = await _elasticClient.LowLevel.Indices.GetMappingAsync<StringResponse>(GetFullIndexName(indexName)); if (!response.Success) { _logger.LogWarning(""There were issues retrieving index mappings from Elasticsearch. {OriginalException}"", response.OriginalException); } return response.Body; } public async Task<string> GetIndexSettings(string indexName) { var response = await _elasticClient.LowLevel.Indices.GetSettingsAsync<StringResponse>(GetFullIndexName(indexName)); if (!response.Success) { _logger.LogWarning(""There were issues retrieving index settings from Elasticsearch. {OriginalException}"", response.OriginalException); } return response.Body; } public async Task<string> GetIndexInfo(string indexName) { var response = await _elasticClient.LowLevel.Indices.GetAsync<StringResponse>(GetFullIndexName(indexName)); if (!response.Success) { _logger.LogWarning(""There were issues retrieving index info from Elasticsearch. {OriginalException}"", response.OriginalException); } return response.Body; }  <summary>  Store a last_task_id in the Elasticsearch index _meta mappings.  This allows storing the last indexing task id executed on the Elasticsearch index.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-meta-field.html""/>.  </summary> public async Task SetLastTaskId(string indexName, long lastTaskId) { var IndexingState = new FluentDictionary<string, object>() { { _lastTaskId, lastTaskId }, }; var putMappingRequest = new PutMappingRequest(GetFullIndexName(indexName)) { Meta = IndexingState }; await _elasticClient.Indices.PutMappingAsync(putMappingRequest); }  <summary>  Get a last_task_id in the Elasticsearch index _meta mappings.  This allows retrieving the last indexing task id executed on the index.  </summary> public async Task<long> GetLastTaskId(string indexName) { var jsonDocument = JsonDocument.Parse(await GetIndexMappings(indexName)); jsonDocument.RootElement.TryGetProperty(GetFullIndexName(indexName), out var jsonElement); jsonElement.TryGetProperty(""mappings"", out var mappings); mappings.TryGetProperty(""_meta"", out var meta); meta.TryGetProperty(_lastTaskId, out var lastTaskId); lastTaskId.TryGetInt64(out var longValue); return longValue; } public async Task<bool> DeleteDocumentsAsync(string indexName, IEnumerable<string> contentItemIds) { var success = true; if (contentItemIds.Any()) { var descriptor = new BulkDescriptor(); foreach (var id in contentItemIds) { descriptor.Delete<Dictionary<string, object>>(d => d .Index(GetFullIndexName(indexName)) .Id(id) ); } var response = await _elasticClient.BulkAsync(descriptor); if (response.Errors) { _logger.LogWarning(""There were issues deleting documents from Elasticsearch. {OriginalException}"", response.OriginalException); } success = response.IsValid; } return success; }  <summary>  Deletes all documents in an index in one request.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/master/docs-delete-by-query.html""/>.  </summary> public async Task<bool> DeleteAllDocumentsAsync(string indexName) { var response = await _elasticClient.DeleteByQueryAsync<Dictionary<string, object>>(del => del .Index(GetFullIndexName(indexName)) .Query(q => q.MatchAll()) ); return response.IsValid; } public async Task<bool> DeleteIndex(string indexName) { if (await ExistsAsync(indexName)) { var result = await _elasticClient.Indices.DeleteAsync(GetFullIndexName(indexName)); return result.Acknowledged; } return true; }  <summary>  Verify if an index exists for the current tenant.  </summary> public async Task<bool> ExistsAsync(string indexName) { if (string.IsNullOrWhiteSpace(indexName)) { return false; } var existResponse = await _elasticClient.Indices.ExistsAsync(GetFullIndexName(indexName)); return existResponse.Exists; }  <summary>  Makes sure that the index names are compliant with Elasticsearch specifications.  <see href=""https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html#indices-create-api-path-params""/>.  </summary> public static string ToSafeIndexName(string indexName) { indexName = indexName.ToLowerInvariant(); if (indexName[0] == '-' || indexName[0] == '_' || indexName[0] == '+' || indexName[0] == '.') { indexName = indexName.Remove(0, 1); } _charsToRemove.ForEach(c => indexName = indexName.Replace(c.ToString(), string.Empty)); return indexName; } public async Task StoreDocumentsAsync(string indexName, IEnumerable<DocumentIndex> indexDocuments) { var documents = new List<Dictionary<string, object>>(); foreach (var indexDocument in indexDocuments) { documents.Add(CreateElasticDocument(indexDocument)); } if (documents.Count > 0) { var descriptor = new BulkDescriptor(); foreach (var document in documents) { descriptor.Index<Dictionary<string, object>>(op => op .Id(document.GetValueOrDefault(""ContentItemId"").ToString()) .Document(document) .Index(GetFullIndexName(indexName)) ); } var result = await _elasticClient.BulkAsync(d => descriptor); if (result.Errors) { _logger.LogWarning(""There were issues reported indexing the documents. {ServerError}"", result.ServerError); } } }  <summary>  Returns results from a search made with a NEST QueryContainer query.  </summary>  <param name=""indexName""></param>  <param name=""query""></param>  <param name=""sort""></param>  <param name=""from""></param>  <param name=""size""></param>  <returns><see cref=""ElasticTopDocs""/>.</returns> public async Task<ElasticTopDocs> SearchAsync(string indexName, QueryContainer query, List<ISort> sort, int from, int size) { ArgumentException.ThrowIfNullOrEmpty(indexName); ArgumentNullException.ThrowIfNull(query); var elasticTopDocs = new ElasticTopDocs() { TopDocs = [], }; if (await ExistsAsync(indexName)) { var fullIndexName = GetFullIndexName(indexName); var searchRequest = new SearchRequest(fullIndexName) { Query = query, From = from, Size = size, Sort = sort ?? [], }; var searchResponse = await _elasticClient.SearchAsync<Dictionary<string, object>>(searchRequest); if (searchResponse.IsValid) { elasticTopDocs.Count = searchResponse.Hits.Count; var documents = searchResponse.Documents.GetEnumerator(); var hits = searchResponse.Hits.GetEnumerator(); while (documents.MoveNext() && hits.MoveNext()) { var document = documents.Current; if (document != null) { elasticTopDocs.TopDocs.Add(document); continue; } var hit = hits.Current; var topDoc = new Dictionary<string, object> { { nameof(ContentItem.ContentItemId), hit.Id }, }; elasticTopDocs.TopDocs.Add(topDoc); } } _timestamps[fullIndexName] = _clock.UtcNow; } return elasticTopDocs; }  <summary>  Returns results from a search made with NEST Fluent DSL query.  </summary> public async Task SearchAsync(string indexName, Func<IElasticClient, Task> elasticClient) { ArgumentException.ThrowIfNullOrEmpty(indexName); if (await ExistsAsync(indexName)) { await elasticClient(_elasticClient); _timestamps[GetFullIndexName(indexName)] = _clock.UtcNow; } } private static Dictionary<string, object> CreateElasticDocument(DocumentIndex documentIndex) { var entries = new Dictionary<string, object> { { IndexingConstants.ContentItemIdKey, documentIndex.ContentItemId }, { IndexingConstants.ContentItemVersionIdKey, documentIndex.ContentItemVersionId } }; foreach (var entry in documentIndex.Entries) { switch (entry.Type) { case DocumentIndexBase.Types.Boolean: if (entry.Value is bool boolValue) { AddValue(entries, entry.Name, boolValue); } break; case DocumentIndexBase.Types.DateTime: if (entry.Value is DateTimeOffset offsetValue) { AddValue(entries, entry.Name, offsetValue); } else if (entry.Value is DateTime dateTimeValue) { AddValue(entries, entry.Name, dateTimeValue.ToUniversalTime()); } break; case DocumentIndexBase.Types.Integer: if (entry.Value != null && long.TryParse(entry.Value.ToString(), out var value)) { AddValue(entries, entry.Name, value); } break; case DocumentIndexBase.Types.Number: if (entry.Value != null) { AddValue(entries, entry.Name, Convert.ToDouble(entry.Value)); } break; case DocumentIndexBase.Types.Text: if (entry.Value != null) { var stringValue = Convert.ToString(entry.Value); if (!string.IsNullOrEmpty(stringValue)) { AddValue(entries, entry.Name, stringValue); } } break; case DocumentIndexBase.Types.GeoPoint: if (entry.Value is DocumentIndexBase.GeoPoint point) { AddValue(entries, entry.Name, new GeoLocation((double)point.Latitude, (double)point.Longitude)); } break; } } return entries; } public string GetFullIndexName(string indexName) { ArgumentException.ThrowIfNullOrEmpty(indexName); return GetIndexPrefix() + _separator + indexName; } private static void AddValue(Dictionary<string, object> entries, string key, object value) { if (entries.TryAdd(key, value)) { return; } // At this point, we know that a value already exists. if (entries[key] is List<object> list) { list.Add(value); entries[key] = list; return; } // Convert the existing value to a list of values. var values = new List<object>() { entries[key], value, }; entries[key] = values; } private string GetIndexPrefix() { if (_indexPrefix == null) { var parts = new List<string>(); if (!string.IsNullOrWhiteSpace(_elasticSearchOptions.IndexPrefix)) { parts.Add(_elasticSearchOptions.IndexPrefix.ToLowerInvariant()); } parts.Add(_shellSettings.Name.ToLowerInvariant()); _indexPrefix = string.Join(_separator, parts); } return _indexPrefix; } }  other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6338,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6338,There is no preview part to add,"Configuring the Preview feature for Blog Posts [this guide](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/), you describe: - Edit the content definition of Blog Post, click Add Parts, then select Preview. Click Save. - In the list of parts, for Preview, click on Edit to change its settings for this content type. - In the Pattern textbox, enter /blogpost/{{ ContentItem.Content.AliasPart.Alias }} which is the way to generate the same URL as the route which is configured in the Razor page. But there is no **Preview Part** at that list of Content Parts. How can I add the preview part to PostBlog definition type? [Screenshot](https://github.com/devhomecali/OrchardCore/blob/master/PreviwPart-NoFound.png)",other-file | other-file,"There is no preview part to add Configuring the Preview feature for Blog Posts [this guide](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/), you describe: - Edit the content definition of Blog Post, click Add Parts, then select Preview. Click Save. - In the list of parts, for Preview, click on Edit to change its settings for this content type. - In the Pattern textbox, enter /blogpost/{{ ContentItem.Content.AliasPart.Alias }} which is the way to generate the same URL as the route which is configured in the Razor page. But there is no **Preview Part** at that list of Content Parts. How can I add the preview part to PostBlog definition type? [Screenshot](https://github.com/devhomecali/OrchardCore/blob/master/PreviwPart-NoFound.png) other-file other-file",no-bug,0.9
16059,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16059,Support deserializing string to numeric property,"Previously using Newtonsoft, we ere able to deserialize a string from a string to numeric. In other words the following two json worked  {""name"":""One"",""value"":""1"",""Weight"":1}   {""name"":""One"",""value"":""1"",""Weight"":""1""}  when deserializing to  public sealed class CustomListValueOption : ListValueOption { public string Name { get; set; } public string Value { get; set; } public double? Weight { get; set; } }  This no longer works after converting to using System Json Text.",other-file | test-file,"Support deserializing string to numeric property Previously using Newtonsoft, we ere able to deserialize a string from a string to numeric. In other words the following two json worked  {""name"":""One"",""value"":""1"",""Weight"":1}   {""name"":""One"",""value"":""1"",""Weight"":""1""}  when deserializing to  public sealed class CustomListValueOption : ListValueOption { public string Name { get; set; } public string Value { get; set; } public double? Weight { get; set; } }  This no longer works after converting to using System Json Text. other-file test-file",bug,0.9
14312,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14312,crypto.randomUUID is not a function," Describe the bug When I access the media library and upload a file, nothing happens and I get the error `Uncaught TypeError: crypto.randomUUID is not a function` in the console. `orchardproject/orchardcore-cms-linux:1.7.0`  To Reproduce Steps to reproduce the behavior: 1. Enable Media feature 2. Access `Content/Media Library`  Expected behavior Can upload media files.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/32150676/304e624c-91f3-436b-b592-b4000633b203) ![image](https://github.com/OrchardCMS/OrchardCore/assets/32150676/5d1c22f1-e326-406a-976b-44223c35cff3)",documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"crypto.randomUUID is not a function  Describe the bug When I access the media library and upload a file, nothing happens and I get the error `Uncaught TypeError: crypto.randomUUID is not a function` in the console. `orchardproject/orchardcore-cms-linux:1.7.0`  To Reproduce Steps to reproduce the behavior: 1. Enable Media feature 2. Access `Content/Media Library`  Expected behavior Can upload media files.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/32150676/304e624c-91f3-436b-b592-b4000633b203) ![image](https://github.com/OrchardCMS/OrchardCore/assets/32150676/5d1c22f1-e326-406a-976b-44223c35cff3) documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
15700,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15700,"""Register as a new user"" and ""Forgot your password?"" links are showing up on the login form when their features are disabled."," Describe the bug The same problem with both the ""OrchardCore.Users.ResetPassword"" and ""OrchardCore.Users.Registration"" features,  To Reproduce Steps to reproduce the behavior: 1. Enable Reset Password Feature 2. Configure the site settings to allow allow the user to reset their password. 3. Disable the Rest Password feature 4. Try to login in. 5. You'll see the links showing up.  Expected behavior I expect the links to only show up when the feature is enabled and the settings is set.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"""Register as a new user"" and ""Forgot your password?"" links are showing up on the login form when their features are disabled.  Describe the bug The same problem with both the ""OrchardCore.Users.ResetPassword"" and ""OrchardCore.Users.Registration"" features,  To Reproduce Steps to reproduce the behavior: 1. Enable Reset Password Feature 2. Configure the site settings to allow allow the user to reset their password. 3. Disable the Rest Password feature 4. Try to login in. 5. You'll see the links showing up.  Expected behavior I expect the links to only show up when the feature is enabled and the settings is set. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.9
6958,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6958,Dropping a password during setup doesn't work,"This tripped me up for a while during setup, I'm using a password manager which allows you to drag & drop saved or generated passwords onto input fields. During setup, if we do this rather than focus then type or paste, the tick appears in the input, but the strength indicator doesn't update and clicking ""Finish setup"" just does nothing with no indication. I think we need to update strength.js to check for the ""drop"" event.",source-file | source-file | source-file | source-file | source-file | source-file,"Dropping a password during setup doesn't work This tripped me up for a while during setup, I'm using a password manager which allows you to drag & drop saved or generated passwords onto input fields. During setup, if we do this rather than focus then type or paste, the tick appears in the input, but the strength indicator doesn't update and clicking ""Finish setup"" just does nothing with no indication. I think we need to update strength.js to check for the ""drop"" event. source-file source-file source-file source-file source-file source-file",no-bug,0.9
14370,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14370,crypto.randomUUID is not a function when uploading images,"after uploading image to the media, I get the following error in console  crypto.randomUUID is not a function  It seems that `crypto.randomUUID()` function is only available in HTTPS context not HTTP",documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"crypto.randomUUID is not a function when uploading images after uploading image to the media, I get the following error in console  crypto.randomUUID is not a function  It seems that `crypto.randomUUID()` function is only available in HTTPS context not HTTP documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.85
15718,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15718,"[GraphQL] Error when trying to resolve fields (DateField, DateTimeField)","With latest version from main, I can't get value from DateField nor DateTimeField via GraphiQL editor. repro steps: - create content type, - add DateField, - add DateTimeField, - try to query via GraphQL. ![image](https://github.com/OrchardCMS/OrchardCore/assets/6403130/fc8e0eff-40b4-4e34-92a3-0fdb9fb0ab6f)  { ""errors"": [ { ""message"": ""Error trying to resolve field 'dateField'."", ""locations"": [ { ""line"": 3, ""column"": 5 } ], ""path"": [ ""asdfasdfasdf"", 0, ""dateField"" ], ""extensions"": { ""code"": ""INVALID_OPERATION"", ""codes"": [ ""INVALID_OPERATION"" ], ""details"": ""GraphQL.Execution.UnhandledError: Error trying to resolve field 'dateField'.\r\n > System.InvalidOperationException: Unable to serialize '2024-04-10T00:00:00' value of type 'String' to the scalar type 'Date'.\r\n at GraphQL.Types.ScalarGraphType.ThrowSerializationError(Object value) in /_/src/GraphQL/Types/Scalars/ScalarGraphType.cs:line 259\r\n at GraphQL.Types.DateGraphType.Serialize(Object value) in /_/src/GraphQL/Types/Scalars/DateGraphType.cs:line 43\r\n at GraphQL.Execution.ExecutionStrategy.CompleteNodeAsync(ExecutionContext context, ExecutionNode node)\r\n  End of inner exception stack trace "" } }, { ""message"": ""Error trying to resolve field 'dateTimeField'."", ""locations"": [ { ""line"": 4, ""column"": 5 } ], ""path"": [ ""asdfasdfasdf"", 0, ""dateTimeField"" ], ""extensions"": { ""code"": ""INVALID_OPERATION"", ""codes"": [ ""INVALID_OPERATION"" ], ""details"": ""GraphQL.Execution.UnhandledError: Error trying to resolve field 'dateTimeField'.\r\n > System.InvalidOperationException: Unable to serialize '2024-04-10T13:50:00Z' value of type 'String' to the scalar type 'DateTime'.\r\n at GraphQL.Types.ScalarGraphType.ThrowSerializationError(Object value) in /_/src/GraphQL/Types/Scalars/ScalarGraphType.cs:line 259\r\n at GraphQL.Types.DateTimeGraphType.Serialize(Object value) in /_/src/GraphQL/Types/Scalars/DateTimeGraphType.cs:line 65\r\n at GraphQL.Execution.ExecutionStrategy.CompleteNodeAsync(ExecutionContext context, ExecutionNode node)\r\n  End of inner exception stack trace "" } } ], ""data"": { ""asdfasdfasdf"": [ { ""dateField"": null, ""dateTimeField"": null, ""boolField"": true, ""textField"": ""hello world"", ""numericField"": 1234 } ] } } ",other-file,"[GraphQL] Error when trying to resolve fields (DateField, DateTimeField) With latest version from main, I can't get value from DateField nor DateTimeField via GraphiQL editor. repro steps: - create content type, - add DateField, - add DateTimeField, - try to query via GraphQL. ![image](https://github.com/OrchardCMS/OrchardCore/assets/6403130/fc8e0eff-40b4-4e34-92a3-0fdb9fb0ab6f)  { ""errors"": [ { ""message"": ""Error trying to resolve field 'dateField'."", ""locations"": [ { ""line"": 3, ""column"": 5 } ], ""path"": [ ""asdfasdfasdf"", 0, ""dateField"" ], ""extensions"": { ""code"": ""INVALID_OPERATION"", ""codes"": [ ""INVALID_OPERATION"" ], ""details"": ""GraphQL.Execution.UnhandledError: Error trying to resolve field 'dateField'.\r\n > System.InvalidOperationException: Unable to serialize '2024-04-10T00:00:00' value of type 'String' to the scalar type 'Date'.\r\n at GraphQL.Types.ScalarGraphType.ThrowSerializationError(Object value) in /_/src/GraphQL/Types/Scalars/ScalarGraphType.cs:line 259\r\n at GraphQL.Types.DateGraphType.Serialize(Object value) in /_/src/GraphQL/Types/Scalars/DateGraphType.cs:line 43\r\n at GraphQL.Execution.ExecutionStrategy.CompleteNodeAsync(ExecutionContext context, ExecutionNode node)\r\n  End of inner exception stack trace "" } }, { ""message"": ""Error trying to resolve field 'dateTimeField'."", ""locations"": [ { ""line"": 4, ""column"": 5 } ], ""path"": [ ""asdfasdfasdf"", 0, ""dateTimeField"" ], ""extensions"": { ""code"": ""INVALID_OPERATION"", ""codes"": [ ""INVALID_OPERATION"" ], ""details"": ""GraphQL.Execution.UnhandledError: Error trying to resolve field 'dateTimeField'.\r\n > System.InvalidOperationException: Unable to serialize '2024-04-10T13:50:00Z' value of type 'String' to the scalar type 'DateTime'.\r\n at GraphQL.Types.ScalarGraphType.ThrowSerializationError(Object value) in /_/src/GraphQL/Types/Scalars/ScalarGraphType.cs:line 259\r\n at GraphQL.Types.DateTimeGraphType.Serialize(Object value) in /_/src/GraphQL/Types/Scalars/DateTimeGraphType.cs:line 65\r\n at GraphQL.Execution.ExecutionStrategy.CompleteNodeAsync(ExecutionContext context, ExecutionNode node)\r\n  End of inner exception stack trace "" } } ], ""data"": { ""asdfasdfasdf"": [ { ""dateField"": null, ""dateTimeField"": null, ""boolField"": true, ""textField"": ""hello world"", ""numericField"": 1234 } ] } }  other-file",no-bug,0.9
9604,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9604,Media library appears empty when using Azure provider and .NET 6 preview 4," Describe the bug When navigating to the media library (using the Azure file storage provider) in the Admin tool, the folder and file list appear empty. Upon further investigation, the files are still in Azure, just not displayed in the UX.  To Reproduce Steps to reproduce the behavior: 1. Upgrade to .NET 6 preview 4 2. Run project, go to Admin page 3. Click on Media Library in left hand navigation 4. Observe no files or folders are shown  Expected behavior Existing files and folders should be shown  Screenshots If applicable, add screenshots to help explain your problem. ![image](https://user-images.githubusercontent.com/1692895/120518754-e5f22480-c39f-11eb-922d-dbc522962070.png) Further investigation in the logs:  2021-06-02 12:07:56.9398|Default|00-521add71d6b10e8fa1df420ac31f8e49-aee88540b26e97b6-00||Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|ERROR|An unhandled exception has occurred while executing the request. **System.ArgumentOutOfRangeException: Not a valid Win32 FileTime.** at System.DateTime.ToFileTimeUtc() in System.Private.CoreLib.dll:token 0x6000ccc+0x45 at System.DateTimeOffset.ToFileTime() in System.Private.CoreLib.dll:token 0x6000d41+0x7 at SixLabors.ImageSharp.Web.Middleware.ImageContext.ComputeLastModified() in SixLabors.ImageSharp.Web.dll:token 0x60000c3+0x60 at SixLabors.ImageSharp.Web.Middleware.ImageContext.ComprehendRequestHeaders(DateTimeOffset lastModified, Int64 length) in SixLabors.ImageSharp.Web.dll:token 0x60000bc+0xe at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.SendResponseAsync(ImageContext imageContext, String key, ImageCacheMetadata metadata, IImageCacheResolver cacheResolver) in SixLabors.ImageSharp.Web.dll:token 0x60000d1+0x28 at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.ProcessRequestAsync(HttpContext context, IImageResolver sourceImageResolver, ImageContext imageContext, IDictionary`2 commands) in SixLabors.ImageSharp.Web.dll:token 0x60000ce+0x2fb at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) in SixLabors.ImageSharp.Web.dll:token 0x60000cd+0x381 at OrchardCore.Media.Services.MediaFileStoreResolverMiddleware.Invoke(HttpContext context) in OrchardCore.Media.dll:token 0x6000106+0x45d at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) in Microsoft.AspNetCore.Authorization.Policy.dll:token 0x600000b+0x3f1 ",other-file | other-file,"Media library appears empty when using Azure provider and .NET 6 preview 4  Describe the bug When navigating to the media library (using the Azure file storage provider) in the Admin tool, the folder and file list appear empty. Upon further investigation, the files are still in Azure, just not displayed in the UX.  To Reproduce Steps to reproduce the behavior: 1. Upgrade to .NET 6 preview 4 2. Run project, go to Admin page 3. Click on Media Library in left hand navigation 4. Observe no files or folders are shown  Expected behavior Existing files and folders should be shown  Screenshots If applicable, add screenshots to help explain your problem. ![image](https://user-images.githubusercontent.com/1692895/120518754-e5f22480-c39f-11eb-922d-dbc522962070.png) Further investigation in the logs:  2021-06-02 12:07:56.9398|Default|00-521add71d6b10e8fa1df420ac31f8e49-aee88540b26e97b6-00||Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|ERROR|An unhandled exception has occurred while executing the request. **System.ArgumentOutOfRangeException: Not a valid Win32 FileTime.** at System.DateTime.ToFileTimeUtc() in System.Private.CoreLib.dll:token 0x6000ccc+0x45 at System.DateTimeOffset.ToFileTime() in System.Private.CoreLib.dll:token 0x6000d41+0x7 at SixLabors.ImageSharp.Web.Middleware.ImageContext.ComputeLastModified() in SixLabors.ImageSharp.Web.dll:token 0x60000c3+0x60 at SixLabors.ImageSharp.Web.Middleware.ImageContext.ComprehendRequestHeaders(DateTimeOffset lastModified, Int64 length) in SixLabors.ImageSharp.Web.dll:token 0x60000bc+0xe at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.SendResponseAsync(ImageContext imageContext, String key, ImageCacheMetadata metadata, IImageCacheResolver cacheResolver) in SixLabors.ImageSharp.Web.dll:token 0x60000d1+0x28 at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.ProcessRequestAsync(HttpContext context, IImageResolver sourceImageResolver, ImageContext imageContext, IDictionary`2 commands) in SixLabors.ImageSharp.Web.dll:token 0x60000ce+0x2fb at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) in SixLabors.ImageSharp.Web.dll:token 0x60000cd+0x381 at OrchardCore.Media.Services.MediaFileStoreResolverMiddleware.Invoke(HttpContext context) in OrchardCore.Media.dll:token 0x6000106+0x45d at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) in Microsoft.AspNetCore.Authorization.Policy.dll:token 0x600000b+0x3f1  other-file other-file",no-bug,0.8
13829,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13829,Drive `/robots.txt` from settings," Is your feature request related to a problem? Please describe. The only way to expose `robots.txt` file, is to create the file on the [file system](https://docs.orchardcore.net/en/latest/docs/reference/modules/Tenants/#robotstxt-for-tenants). There is no easy way to provide and update the `robots.txt` file.  Describe the solution you'd like Create a settings in the SEO module that would allow the user to update the content of the `robots.txt` from the settings.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Drive `/robots.txt` from settings  Is your feature request related to a problem? Please describe. The only way to expose `robots.txt` file, is to create the file on the [file system](https://docs.orchardcore.net/en/latest/docs/reference/modules/Tenants/#robotstxt-for-tenants). There is no easy way to provide and update the `robots.txt` file.  Describe the solution you'd like Create a settings in the SEO module that would allow the user to update the content of the `robots.txt` from the settings. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
17054,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17054,ObjectDisposedException - Problem with Database shell settings and Configuration,![image](https://github.com/user-attachments/assets/8bed4001-8d15-4fe3-b5f8-1bcda09465ac) Changing these lines was a mistake https://github.com/OrchardCMS/OrchardCore/commit/8413ef1649cd0937ae8c567acc4d75cd17ed4506#diff-f5aa894cdbf1a3406e880002dc5e43d02d9b0132cbbf87eadce0af1db8a42f32 https://github.com/OrchardCMS/OrchardCore/commit/8413ef1649cd0937ae8c567acc4d75cd17ed4506#diff-34a9b52f82b5e3080b24526ef2bef6da78b60ec6b3e591149cfa70b443d4a50b  Orchard Core version 2.1.0  To Reproduce  builder.Services.AddOrchardCms() .AddMvc() .AddDatabaseShellsConfiguration() ,other-file | other-file | other-file | other-file,ObjectDisposedException - Problem with Database shell settings and Configuration ![image](https://github.com/user-attachments/assets/8bed4001-8d15-4fe3-b5f8-1bcda09465ac) Changing these lines was a mistake https://github.com/OrchardCMS/OrchardCore/commit/8413ef1649cd0937ae8c567acc4d75cd17ed4506#diff-f5aa894cdbf1a3406e880002dc5e43d02d9b0132cbbf87eadce0af1db8a42f32 https://github.com/OrchardCMS/OrchardCore/commit/8413ef1649cd0937ae8c567acc4d75cd17ed4506#diff-34a9b52f82b5e3080b24526ef2bef6da78b60ec6b3e591149cfa70b443d4a50b  Orchard Core version 2.1.0  To Reproduce  builder.Services.AddOrchardCms() .AddMvc() .AddDatabaseShellsConfiguration()  other-file other-file other-file other-file,no-bug,0.9
15614,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15614,Unable to add a sub Taxonomy term to the Taxonomies," Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Create a new Taxonomy items 2. Add a new Term ""A"" 3. Under the Term ""A"" add a sub term ""A.1"" 4. You get the following error > JsonException: The converter 'OrchardCore.ContentManagement.ContentItemConverter' read too much or not enough. Path: $ | LineNumber: 0 | BytePositionInLine: 1005.  System.Text.Json.JsonException: The converter 'OrchardCore.ContentManagement.ContentItemConverter' read too much or not enough. Path: $ | LineNumber: 0 | BytePositionInLine: 1005. at System.Text.Json.ThrowHelper.ThrowJsonException_SerializationConverterRead(JsonConverter converter) at System.Text.Json.Serialization.JsonConverter`1.VerifyRead(JsonTokenType tokenType, Int32 depth, Int64 bytesConsumed, Boolean isValueConverter, Utf8JsonReader& reader) at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromNode[TValue](JsonNode node, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.Nodes.JNode.ToObject[T](JsonNode jsonNode, JsonSerializerOptions options) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Json\Nodes\JNode.cs:line 101 at OrchardCore.Autoroute.Core.Indexes.AutoroutePartIndexProvider.PopulateContainedContentItemIndexesAsync(List`1 results, ContentItem containerContentItem, ContainedContentItemsAspect containedContentItemsAspect, JsonObject content, String basePath) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Autoroute.Core\Indexes\AutoroutePartIndex.cs:line 168 at OrchardCore.Autoroute.Core.Indexes.AutoroutePartIndexProvider.<Describe>b__14_1(ContentItem contentItem) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Autoroute.Core\Indexes\AutoroutePartIndex.cs:line 154 at YesSql.Indexes.IndexDescriptor`3.<YesSql.Indexes.IDescribeFor.GetMap>b__21_0(Object x) at YesSql.Session.MapNew(Document document, Object obj, String collection) at YesSql.Session.UpdateEntityAsync(Object entity, Boolean tracked, String collection) at YesSql.Session.FlushAsync() at YesSql.Session.FlushAsync() at YesSql.Session.SaveChangesAsync() at YesSql.Session.SaveChangesAsync() at OrchardCore.Data.Documents.DocumentStore.CommitAsync() in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Data.YesSql\Documents\DocumentStore.cs:line 121 at OrchardCore.Environment.Shell.Scope.ShellScope.BeforeDisposeAsync() in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 397 at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 267 at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 269 at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore\Modules\ModularTenantContainerMiddleware.cs:line 59 at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)   Expected behavior A clear and concise description of what you expected to happen.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/51043a43-8bad-4059-895c-20a28bb22e4b)",other-file | other-file,"Unable to add a sub Taxonomy term to the Taxonomies  Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Create a new Taxonomy items 2. Add a new Term ""A"" 3. Under the Term ""A"" add a sub term ""A.1"" 4. You get the following error > JsonException: The converter 'OrchardCore.ContentManagement.ContentItemConverter' read too much or not enough. Path: $ | LineNumber: 0 | BytePositionInLine: 1005.  System.Text.Json.JsonException: The converter 'OrchardCore.ContentManagement.ContentItemConverter' read too much or not enough. Path: $ | LineNumber: 0 | BytePositionInLine: 1005. at System.Text.Json.ThrowHelper.ThrowJsonException_SerializationConverterRead(JsonConverter converter) at System.Text.Json.Serialization.JsonConverter`1.VerifyRead(JsonTokenType tokenType, Int32 depth, Int64 bytesConsumed, Boolean isValueConverter, Utf8JsonReader& reader) at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromNode[TValue](JsonNode node, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.Nodes.JNode.ToObject[T](JsonNode jsonNode, JsonSerializerOptions options) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Json\Nodes\JNode.cs:line 101 at OrchardCore.Autoroute.Core.Indexes.AutoroutePartIndexProvider.PopulateContainedContentItemIndexesAsync(List`1 results, ContentItem containerContentItem, ContainedContentItemsAspect containedContentItemsAspect, JsonObject content, String basePath) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Autoroute.Core\Indexes\AutoroutePartIndex.cs:line 168 at OrchardCore.Autoroute.Core.Indexes.AutoroutePartIndexProvider.<Describe>b__14_1(ContentItem contentItem) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Autoroute.Core\Indexes\AutoroutePartIndex.cs:line 154 at YesSql.Indexes.IndexDescriptor`3.<YesSql.Indexes.IDescribeFor.GetMap>b__21_0(Object x) at YesSql.Session.MapNew(Document document, Object obj, String collection) at YesSql.Session.UpdateEntityAsync(Object entity, Boolean tracked, String collection) at YesSql.Session.FlushAsync() at YesSql.Session.FlushAsync() at YesSql.Session.SaveChangesAsync() at YesSql.Session.SaveChangesAsync() at OrchardCore.Data.Documents.DocumentStore.CommitAsync() in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Data.YesSql\Documents\DocumentStore.cs:line 121 at OrchardCore.Environment.Shell.Scope.ShellScope.BeforeDisposeAsync() in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 397 at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 267 at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 269 at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in C:\Code\OrchardCMS\OrchardCore\src\OrchardCore\OrchardCore\Modules\ModularTenantContainerMiddleware.cs:line 59 at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)   Expected behavior A clear and concise description of what you expected to happen.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/51043a43-8bad-4059-895c-20a28bb22e4b) other-file other-file",no-bug,0.7
12679,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12679,The provided connection string is invalid or server is unreachable,"First of all, I found that I could not add tenants in my program. I kept prompting that the connection string was incorrect or the server was unavailable. In fact, there was no problem with the database server. My project uses OC 1.5.0-preview-17106 And Setup page not work. After filling in all the contents, submit without prompting any error, and still stay on the Setup page ![image](https://user-images.githubusercontent.com/15613121/197240301-87041513-5488-4770-be3c-5fd984a2e733.png) To verify this problem, I pulled the latest code and ran the installation program directly using the latest source code. The same problem applies",other-file | other-file | other-file | other-file,"The provided connection string is invalid or server is unreachable First of all, I found that I could not add tenants in my program. I kept prompting that the connection string was incorrect or the server was unavailable. In fact, there was no problem with the database server. My project uses OC 1.5.0-preview-17106 And Setup page not work. After filling in all the contents, submit without prompting any error, and still stay on the Setup page ![image](https://user-images.githubusercontent.com/15613121/197240301-87041513-5488-4770-be3c-5fd984a2e733.png) To verify this problem, I pulled the latest code and ran the installation program directly using the latest source code. The same problem applies other-file other-file other-file other-file",no-bug,0.9
8601,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8601,"Dashboard Enhancement - Support Drag, Drop and Resize"," Is your feature request related to a problem? Please describe. Admin Dashboard Usability - Support Drag, Drop and Resize  Describe the solution you'd like As per https://github.com/OrchardCMS/OrchardCore/pull/7943#issuecomment-774180173 - ""snap grid"" - Have a button to go in edit/view mode, and the edit mode being protected by a permission. In edit mode we can add new widgets, move, edit, resize and delete them. - All widgets can always be moved or resized with `ManageAdminDashboard` Permission - Show ""undo"" when there is a change.",documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file,"Dashboard Enhancement - Support Drag, Drop and Resize  Is your feature request related to a problem? Please describe. Admin Dashboard Usability - Support Drag, Drop and Resize  Describe the solution you'd like As per https://github.com/OrchardCMS/OrchardCore/pull/7943#issuecomment-774180173 - ""snap grid"" - Have a button to go in edit/view mode, and the edit mode being protected by a permission. In edit mode we can add new widgets, move, edit, resize and delete them. - All widgets can always be moved or resized with `ManageAdminDashboard` Permission - Show ""undo"" when there is a change. documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file",no-bug,0.95
14466,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14466,Unable to drag/drop a widget into different zone,"Describe the begin the widgets UI, we are unable to drag/drop a widget into a zone that has no widgets.",other-file | other-file | other-file | other-file,"Unable to drag/drop a widget into different zone Describe the begin the widgets UI, we are unable to drag/drop a widget into a zone that has no widgets. other-file other-file other-file other-file",no-bug,0.9
7186,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7186,Create shortcode to render image url only,,other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file,Create shortcode to render image url only  other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file other-file other-file test-file test-file,no-bug,0.9
14269,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14269,Large modal is showing up under the top navbar," Describe the bug When a modal is open, it show be the most visible. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/3abb82e4-b9dd-44ea-8467-547990e5a4a8)",other-file | other-file | other-file,"Large modal is showing up under the top navbar  Describe the bug When a modal is open, it show be the most visible. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/3abb82e4-b9dd-44ea-8467-547990e5a4a8) other-file other-file other-file",no-bug,0.95
16434,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16434,Sitemap import/export does not work," Describe the bug I've found two STJ problems with sitemap import & export. Both are related to polymorphic deserialization so it's the same bug. 1. If you try to export a new site map, the sitemap source will only contain the `Id` property, all other details are lost. It seems like the object is serialized as just `SitemapSource` instead of the derived type `ContentTypesSitemapSource`. See in the repro below. 2. When the site tries to parse a recipe from OC 1.8 containing the `""Sitemaps""` step, it throws the following, even before the recipe is executed. You can find the example error and the JSON that causes it below:  Orchard Core version The latest `main` branch and 2.0.0-preview-18268 Cloudsmith package.  To Reproduce Steps to reproduce the export error: 1. Create a site (example using Blog recipe). 2. Enable the ""Sitemaps"" feature. 3. Go to Admin > Configuration > SEO > Sitemaps. 4. Add a sitemap and a ""Sitemap Content Types"" source (I unchecked ""Index All Content Types"" and picked just Page and BlogPost). 5. Go to Admin > Configuration > Import/Export > Deployment Plans. 6. Create a deployment plan and add the ""All Sitemaps"" step. 7. Execute the deployment and open the resulting JSON. 8. Observe, that the `SitemapSources` is missing all details (expected something similar to the JSON in the logs section instead): json { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""Sitemaps"", ""data"": [ { ""SitemapId"": ""4g45p23q02vgpvm40vznd49t56"", ""Name"": ""Sitemap"", ""Enabled"": true, ""Path"": ""sitemap.xml"", ""SitemapSources"": [ { ""Id"": ""4nqc3qwb76te707aq12qapkh4y"" } ], ""Identifier"": ""4vtsxzdvm15qmxv5fbttrhh054"" } ] } ] }  9. Go to Admin > Configuration > Import/Export > JSON Import 10. Paste the freshly exported site map. 11. Observe the error message **Unexpected error occurred while executing the 'Sitemaps' step.** 12. Observe the error in the log: Unable to import a recipe from JSON input. OrchardCore.Recipes.Models.RecipeExecutionException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.  Expected behavior If possible, import from OC 1.x recipe should work. If that's not feasible, a note should be added into the release notes breaking changes section. Export should include all  Logs and screenshots If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. This is example sitemap recipe from OC 1.8 that used to work: json { ""name"": ""Redacted.Sitemaps"", ""displayName"": ""Redacted - Content - Sitemaps Definition"", ""description"": ""Sitemaps for Redacted site."", ""author"": ""Lombiq"", ""version"": ""1.0"", ""categories"": [ ""content"" ], ""tags"": [ ""sitemaps"" ], ""steps"": [ { ""name"": ""Sitemaps"", ""data"": [ { ""$type"": ""OrchardCore.Sitemaps.Models.Sitemap, OrchardCore.Sitemaps.Abstractions"", ""SitemapId"": ""4vbscpv3kgcnz192hnwwggh0d7"", ""Name"": ""Sitemap"", ""Enabled"": true, ""Path"": ""sitemap.xml"", ""SitemapSources"": [ { ""$type"": ""OrchardCore.Sitemaps.Models.ContentTypesSitemapSource, OrchardCore.Sitemaps.Abstractions"", ""IndexAll"": false, ""LimitItems"": false, ""ChangeFrequency"": 0, ""Priority"": 5, ""ContentTypes"": [ { ""ContentTypeName"": ""BlogPost"", ""ChangeFrequency"": 0, ""Priority"": 0 }, { ""ContentTypeName"": ""Page"", ""ChangeFrequency"": 0, ""Priority"": 0 } ], ""Id"": ""45naf8my0kdgd3tsf5vwtf94xq"" } ], ""Identifier"": ""4mg5ntbxrs9c57w8nybtgvyvcf"" } ] } ] }  This is the error log that shows up now:  2024-07-12 16:21:28.3105|test|00-6c4d175cf6fcafcbc633522a4d8c5e63-82c762aa10e7f9c7-00||OrchardCore.Setup.Services.SetupService|ERROR|Unable to import a recipe during setup. OrchardCore.Recipes.Models.RecipeExecutionException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'. Path: $ | LineNumber: 0 | BytePositionInLine: 1. > System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'. Path: $ | LineNumber: 0 | BytePositionInLine: 1. > System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'.  End of inner exception stack trace  at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, NotSupportedException ex) at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(Type type, Utf8JsonReader& reader, ReadStack& state) at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value) at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount) at System.Text.Json.JsonSerializer.ReadFromNode[TValue](JsonNode node, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.JsonSerializer.Deserialize[TValue](JsonNode node, JsonSerializerOptions options) at System.Text.Json.Nodes.JNode.ToObject[T](JsonNode jsonNode, JsonSerializerOptions options) at OrchardCore.Sitemaps.Recipes.SitemapsStep.ExecuteAsync(RecipeExecutionContext context) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass8_0.<<ExecuteStepAsync>b__0>d.MoveNext() ",other-file | other-file | other-file | other-file | other-file | other-file,"Sitemap import/export does not work  Describe the bug I've found two STJ problems with sitemap import & export. Both are related to polymorphic deserialization so it's the same bug. 1. If you try to export a new site map, the sitemap source will only contain the `Id` property, all other details are lost. It seems like the object is serialized as just `SitemapSource` instead of the derived type `ContentTypesSitemapSource`. See in the repro below. 2. When the site tries to parse a recipe from OC 1.8 containing the `""Sitemaps""` step, it throws the following, even before the recipe is executed. You can find the example error and the JSON that causes it below:  Orchard Core version The latest `main` branch and 2.0.0-preview-18268 Cloudsmith package.  To Reproduce Steps to reproduce the export error: 1. Create a site (example using Blog recipe). 2. Enable the ""Sitemaps"" feature. 3. Go to Admin > Configuration > SEO > Sitemaps. 4. Add a sitemap and a ""Sitemap Content Types"" source (I unchecked ""Index All Content Types"" and picked just Page and BlogPost). 5. Go to Admin > Configuration > Import/Export > Deployment Plans. 6. Create a deployment plan and add the ""All Sitemaps"" step. 7. Execute the deployment and open the resulting JSON. 8. Observe, that the `SitemapSources` is missing all details (expected something similar to the JSON in the logs section instead): json { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""Sitemaps"", ""data"": [ { ""SitemapId"": ""4g45p23q02vgpvm40vznd49t56"", ""Name"": ""Sitemap"", ""Enabled"": true, ""Path"": ""sitemap.xml"", ""SitemapSources"": [ { ""Id"": ""4nqc3qwb76te707aq12qapkh4y"" } ], ""Identifier"": ""4vtsxzdvm15qmxv5fbttrhh054"" } ] } ] }  9. Go to Admin > Configuration > Import/Export > JSON Import 10. Paste the freshly exported site map. 11. Observe the error message **Unexpected error occurred while executing the 'Sitemaps' step.** 12. Observe the error in the log: Unable to import a recipe from JSON input. OrchardCore.Recipes.Models.RecipeExecutionException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.  Expected behavior If possible, import from OC 1.x recipe should work. If that's not feasible, a note should be added into the release notes breaking changes section. Export should include all  Logs and screenshots If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. This is example sitemap recipe from OC 1.8 that used to work: json { ""name"": ""Redacted.Sitemaps"", ""displayName"": ""Redacted - Content - Sitemaps Definition"", ""description"": ""Sitemaps for Redacted site."", ""author"": ""Lombiq"", ""version"": ""1.0"", ""categories"": [ ""content"" ], ""tags"": [ ""sitemaps"" ], ""steps"": [ { ""name"": ""Sitemaps"", ""data"": [ { ""$type"": ""OrchardCore.Sitemaps.Models.Sitemap, OrchardCore.Sitemaps.Abstractions"", ""SitemapId"": ""4vbscpv3kgcnz192hnwwggh0d7"", ""Name"": ""Sitemap"", ""Enabled"": true, ""Path"": ""sitemap.xml"", ""SitemapSources"": [ { ""$type"": ""OrchardCore.Sitemaps.Models.ContentTypesSitemapSource, OrchardCore.Sitemaps.Abstractions"", ""IndexAll"": false, ""LimitItems"": false, ""ChangeFrequency"": 0, ""Priority"": 5, ""ContentTypes"": [ { ""ContentTypeName"": ""BlogPost"", ""ChangeFrequency"": 0, ""Priority"": 0 }, { ""ContentTypeName"": ""Page"", ""ChangeFrequency"": 0, ""Priority"": 0 } ], ""Id"": ""45naf8my0kdgd3tsf5vwtf94xq"" } ], ""Identifier"": ""4mg5ntbxrs9c57w8nybtgvyvcf"" } ] } ] }  This is the error log that shows up now:  2024-07-12 16:21:28.3105|test|00-6c4d175cf6fcafcbc633522a4d8c5e63-82c762aa10e7f9c7-00||OrchardCore.Setup.Services.SetupService|ERROR|Unable to import a recipe during setup. OrchardCore.Recipes.Models.RecipeExecutionException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'. Path: $ | LineNumber: 0 | BytePositionInLine: 1. > System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'. Path: $ | LineNumber: 0 | BytePositionInLine: 1. > System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'OrchardCore.Sitemaps.Models.SitemapType'.  End of inner exception stack trace  at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, NotSupportedException ex) at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(Type type, Utf8JsonReader& reader, ReadStack& state) at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value) at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount) at System.Text.Json.JsonSerializer.ReadFromNode[TValue](JsonNode node, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.JsonSerializer.Deserialize[TValue](JsonNode node, JsonSerializerOptions options) at System.Text.Json.Nodes.JNode.ToObject[T](JsonNode jsonNode, JsonSerializerOptions options) at OrchardCore.Sitemaps.Recipes.SitemapsStep.ExecuteAsync(RecipeExecutionContext context) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass8_0.<<ExecuteStepAsync>b__0>d.MoveNext()  other-file other-file other-file other-file other-file other-file",bug,0.95
17717,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17717,Code shortcut icon is covering the remove item in FlowPart,![Image](https://github.com/user-attachments/assets/4ebc6a2b-b22a-4b63-973e-a69974800d4f) @Skrypt I this this is an impact of the recent changes to the resource. But the Trash button next to an item inside FlowPart is showing as you see above.,other-file | other-file | other-file | other-file,Code shortcut icon is covering the remove item in FlowPart ![Image](https://github.com/user-attachments/assets/4ebc6a2b-b22a-4b63-973e-a69974800d4f) @Skrypt I this this is an impact of the recent changes to the resource. But the Trash button next to an item inside FlowPart is showing as you see above. other-file other-file other-file other-file,no-bug,0.9
6629,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6629,"I'm experiencing very slow razor compilations (at runtime), both on RC1 and RC2","Hello, I understand no one else is experiencing this which means it is very likely down to the environmental setup on my machine, however I would appreciate it if anyone has any ideas as to how I can diagnose what the root issue may be? I first noticed this issue when upgrading our projects to RC2, so I attempted to replicate it using the OrchardCore repository, and I could. Here are the following steps I used to run into this issue; 1. Cloned the OrchardCore git repository. 1. Checked out the RC2 tag, 1. Launched the `OrchardCore.Cms.Web` project. 1. Created a SQL Server db and installed ""The Agency"" setup recipe 1. Went to `/Admin` using the credentials I used for the Orchard setup. I then restarted to enable detailed logging, and went back to the `/Admin` path to see what the compilation times were like, attached is the full logging from that request with the logging level set to debug, this request took 45 seconds to complete. [AdminRequest.log](https://github.com/OrchardCMS/OrchardCore/files/4903250/AdminRequest.log) As always happy to provide more info if needed. Here is my `dotnet --info` output: <details> <summary>dotnet info</summary>  .NET Core SDK (reflecting any global.json): Version: 3.1.301 Commit: 7feb845744 Runtime Environment: OS Name: Windows OS Version: 10.0.18362 OS Platform: Windows RID: win10-x64 Base Path: C:\Program Files\dotnet\sdk\3.1.301\ Host (useful for support): Version: 3.1.5 Commit: 65cd789777 .NET Core SDKs installed: 1.1.0 [C:\Program Files\dotnet\sdk] 2.0.0 [C:\Program Files\dotnet\sdk] 2.1.4 [C:\Program Files\dotnet\sdk] 2.1.103 [C:\Program Files\dotnet\sdk] 2.1.201 [C:\Program Files\dotnet\sdk] 2.1.202 [C:\Program Files\dotnet\sdk] 2.1.300 [C:\Program Files\dotnet\sdk] 2.1.301 [C:\Program Files\dotnet\sdk] 2.1.400 [C:\Program Files\dotnet\sdk] 2.1.401 [C:\Program Files\dotnet\sdk] 2.1.402 [C:\Program Files\dotnet\sdk] 2.1.403 [C:\Program Files\dotnet\sdk] 2.1.500 [C:\Program Files\dotnet\sdk] 2.1.502 [C:\Program Files\dotnet\sdk] 2.1.503 [C:\Program Files\dotnet\sdk] 2.1.504 [C:\Program Files\dotnet\sdk] 2.1.505 [C:\Program Files\dotnet\sdk] 2.1.507 [C:\Program Files\dotnet\sdk] 2.1.508 [C:\Program Files\dotnet\sdk] 2.1.509 [C:\Program Files\dotnet\sdk] 2.1.511 [C:\Program Files\dotnet\sdk] 2.1.512 [C:\Program Files\dotnet\sdk] 2.1.513 [C:\Program Files\dotnet\sdk] 2.1.514 [C:\Program Files\dotnet\sdk] 2.1.515 [C:\Program Files\dotnet\sdk] 2.1.700 [C:\Program Files\dotnet\sdk] 2.1.701 [C:\Program Files\dotnet\sdk] 2.1.801 [C:\Program Files\dotnet\sdk] 2.1.802 [C:\Program Files\dotnet\sdk] 2.2.101 [C:\Program Files\dotnet\sdk] 2.2.300 [C:\Program Files\dotnet\sdk] 2.2.301 [C:\Program Files\dotnet\sdk] 2.2.401 [C:\Program Files\dotnet\sdk] 2.2.402 [C:\Program Files\dotnet\sdk] 3.1.301 [C:\Program Files\dotnet\sdk] .NET Core runtimes installed: Microsoft.AspNetCore.All 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.1 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.4 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.11 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.12 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.15 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.16 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.17 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.18 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.19 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.1 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.4 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.11 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.12 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.15 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.16 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.17 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.18 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.19 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 3.1.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.NETCore.App 1.0.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 1.1.2 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.1 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.3 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.4 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.11 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.12 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.15 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.16 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.17 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.18 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.19 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.8 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 3.1.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.WindowsDesktop.App 3.1.5 [C:\Program Files\dotnet\shared\Microsoft.WindowsDesktop.App] To install additional .NET Core runtimes or SDKs: https://aka.ms/dotnet-download  </details> I have a 4c/8t intel cpu and 16gb of ram, and neither of those resources appear to be the bottleneck.",other-file,"I'm experiencing very slow razor compilations (at runtime), both on RC1 and RC2 Hello, I understand no one else is experiencing this which means it is very likely down to the environmental setup on my machine, however I would appreciate it if anyone has any ideas as to how I can diagnose what the root issue may be? I first noticed this issue when upgrading our projects to RC2, so I attempted to replicate it using the OrchardCore repository, and I could. Here are the following steps I used to run into this issue; 1. Cloned the OrchardCore git repository. 1. Checked out the RC2 tag, 1. Launched the `OrchardCore.Cms.Web` project. 1. Created a SQL Server db and installed ""The Agency"" setup recipe 1. Went to `/Admin` using the credentials I used for the Orchard setup. I then restarted to enable detailed logging, and went back to the `/Admin` path to see what the compilation times were like, attached is the full logging from that request with the logging level set to debug, this request took 45 seconds to complete. [AdminRequest.log](https://github.com/OrchardCMS/OrchardCore/files/4903250/AdminRequest.log) As always happy to provide more info if needed. Here is my `dotnet --info` output: <details> <summary>dotnet info</summary>  .NET Core SDK (reflecting any global.json): Version: 3.1.301 Commit: 7feb845744 Runtime Environment: OS Name: Windows OS Version: 10.0.18362 OS Platform: Windows RID: win10-x64 Base Path: C:\Program Files\dotnet\sdk\3.1.301\ Host (useful for support): Version: 3.1.5 Commit: 65cd789777 .NET Core SDKs installed: 1.1.0 [C:\Program Files\dotnet\sdk] 2.0.0 [C:\Program Files\dotnet\sdk] 2.1.4 [C:\Program Files\dotnet\sdk] 2.1.103 [C:\Program Files\dotnet\sdk] 2.1.201 [C:\Program Files\dotnet\sdk] 2.1.202 [C:\Program Files\dotnet\sdk] 2.1.300 [C:\Program Files\dotnet\sdk] 2.1.301 [C:\Program Files\dotnet\sdk] 2.1.400 [C:\Program Files\dotnet\sdk] 2.1.401 [C:\Program Files\dotnet\sdk] 2.1.402 [C:\Program Files\dotnet\sdk] 2.1.403 [C:\Program Files\dotnet\sdk] 2.1.500 [C:\Program Files\dotnet\sdk] 2.1.502 [C:\Program Files\dotnet\sdk] 2.1.503 [C:\Program Files\dotnet\sdk] 2.1.504 [C:\Program Files\dotnet\sdk] 2.1.505 [C:\Program Files\dotnet\sdk] 2.1.507 [C:\Program Files\dotnet\sdk] 2.1.508 [C:\Program Files\dotnet\sdk] 2.1.509 [C:\Program Files\dotnet\sdk] 2.1.511 [C:\Program Files\dotnet\sdk] 2.1.512 [C:\Program Files\dotnet\sdk] 2.1.513 [C:\Program Files\dotnet\sdk] 2.1.514 [C:\Program Files\dotnet\sdk] 2.1.515 [C:\Program Files\dotnet\sdk] 2.1.700 [C:\Program Files\dotnet\sdk] 2.1.701 [C:\Program Files\dotnet\sdk] 2.1.801 [C:\Program Files\dotnet\sdk] 2.1.802 [C:\Program Files\dotnet\sdk] 2.2.101 [C:\Program Files\dotnet\sdk] 2.2.300 [C:\Program Files\dotnet\sdk] 2.2.301 [C:\Program Files\dotnet\sdk] 2.2.401 [C:\Program Files\dotnet\sdk] 2.2.402 [C:\Program Files\dotnet\sdk] 3.1.301 [C:\Program Files\dotnet\sdk] .NET Core runtimes installed: Microsoft.AspNetCore.All 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.1 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.4 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.11 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.12 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.15 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.16 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.17 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.18 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.1.19 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.All 2.2.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All] Microsoft.AspNetCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.1 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.4 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.11 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.12 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.15 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.16 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.17 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.18 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.1.19 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.6 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 2.2.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.AspNetCore.App 3.1.5 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App] Microsoft.NETCore.App 1.0.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 1.1.2 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.0.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.1 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.3 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.4 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.11 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.12 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.15 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.16 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.17 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.18 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.1.19 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 2.2.8 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.NETCore.App 3.1.5 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App] Microsoft.WindowsDesktop.App 3.1.5 [C:\Program Files\dotnet\shared\Microsoft.WindowsDesktop.App] To install additional .NET Core runtimes or SDKs: https://aka.ms/dotnet-download  </details> I have a 4c/8t intel cpu and 16gb of ram, and neither of those resources appear to be the bottleneck. other-file",no-bug,0.95
8914,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8914,Shortcode only works once," To Reproduce 1. Create a test shortcode [lorem] that just replaces itself with <strong>lorem ipsum </strong> 2. Create some content with a HTML body and use that shortcode more than once. Something like:  <p>Here is [lorem]</p> <p>And some more [lorem]</p> <p>And even more [lorem]</p>   Expected behavior In the final content all the [lorem] shortcodes will be replaced.  Actual Only the first [lorem] is transformed. If there are two different shortcodes and more then one of each, then only the first of both will be rendered correctly.",other-file,"Shortcode only works once  To Reproduce 1. Create a test shortcode [lorem] that just replaces itself with <strong>lorem ipsum </strong> 2. Create some content with a HTML body and use that shortcode more than once. Something like:  <p>Here is [lorem]</p> <p>And some more [lorem]</p> <p>And even more [lorem]</p>   Expected behavior In the final content all the [lorem] shortcodes will be replaced.  Actual Only the first [lorem] is transformed. If there are two different shortcodes and more then one of each, then only the first of both will be rendered correctly. other-file",no-bug,0.9
14780,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14780,Eliminate the double scroll from the notification navbar item,The notification menu shows up double scroll bar where there are multiple notifications. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/0e24e14f-1260-4d33-a21a-07df839ac00d),other-file | other-file,Eliminate the double scroll from the notification navbar item The notification menu shows up double scroll bar where there are multiple notifications. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/0e24e14f-1260-4d33-a21a-07df839ac00d) other-file other-file,no-bug,0.9
13548,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13548,"When a user has ""AccessAdminPanel"" but not to ""AccessAdminDashboard"", render AdminDashboard shape"," Is your feature request related to a problem? Please describe. Currently, when AdminDashboard feature is enabled, the `/admin` route is handled by `Index` action in `DashboardController` controller. This works great when the user has permission to `AccessAdminDashboard`. However when they don't, they get the generic fobid error message. In some case, we don't want to give the user access to the admin widgets, but want them to still access the admin dashboard. In this case they will not be able to see the dashboard unless they type the exact path they want to access in the browser. Also, add `ViewContent` check to be able to allow some user to not view all widgets.  Describe the solution you'd like In the `DashboardController/Index` method, instead of returning `Forbid()` when `AccessAdminDashboard` is not granted, return `View(""~/OrchardCore.Admin/Views/Admin/Index.cshtml"")` which will simply render `AdminDashboard` shape.  Describe alternatives you've considered A clear and concise description of any alternative solutions or features you've considered.",other-file | other-file | other-file | other-file | other-file | other-file,"When a user has ""AccessAdminPanel"" but not to ""AccessAdminDashboard"", render AdminDashboard shape  Is your feature request related to a problem? Please describe. Currently, when AdminDashboard feature is enabled, the `/admin` route is handled by `Index` action in `DashboardController` controller. This works great when the user has permission to `AccessAdminDashboard`. However when they don't, they get the generic fobid error message. In some case, we don't want to give the user access to the admin widgets, but want them to still access the admin dashboard. In this case they will not be able to see the dashboard unless they type the exact path they want to access in the browser. Also, add `ViewContent` check to be able to allow some user to not view all widgets.  Describe the solution you'd like In the `DashboardController/Index` method, instead of returning `Forbid()` when `AccessAdminDashboard` is not granted, return `View(""~/OrchardCore.Admin/Views/Admin/Index.cshtml"")` which will simply render `AdminDashboard` shape.  Describe alternatives you've considered A clear and concise description of any alternative solutions or features you've considered. other-file other-file other-file other-file other-file other-file",no-bug,0.9
17565,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17565,Javascript errors in the admin,"The latest update to the new asset manager broke some scripts in the admin. E.g. in: https://github.com/OrchardCMS/OrchardCore/blob/4b92d86ce9af656c2004f4f959cfe28060081465/src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Admin/AddFieldTo.cshtml#L71 `getTechnicalName` is missing in the admin, it looks like it's minified away or renamed. /cc @Skrypt",other-file | other-file | other-file,"Javascript errors in the admin The latest update to the new asset manager broke some scripts in the admin. E.g. in: https://github.com/OrchardCMS/OrchardCore/blob/4b92d86ce9af656c2004f4f959cfe28060081465/src/OrchardCore.Modules/OrchardCore.ContentTypes/Views/Admin/AddFieldTo.cshtml#L71 `getTechnicalName` is missing in the admin, it looks like it's minified away or renamed. /cc @Skrypt other-file other-file other-file",no-bug,0.9
6576,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6576,"AgencyTheme, gulp build/rebuild doesn't work: Cannot find module './src/OrchardCore.Themes/TheAgencyTheme/wwwroot/gulpfile'","After merge the #6227 the gulpfile in the TheAgencyTheme is removed but the ""main"" gulpfile require it.",source-file | other-file | source-file | other-file,"AgencyTheme, gulp build/rebuild doesn't work: Cannot find module './src/OrchardCore.Themes/TheAgencyTheme/wwwroot/gulpfile' After merge the #6227 the gulpfile in the TheAgencyTheme is removed but the ""main"" gulpfile require it. source-file other-file source-file other-file",no-bug,0.9
9188,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9188,Orchardcore with .net5.0 version can't deploy in mysql database,"Orchardcore with .net5.0 version can't deploy in mysql database , error happen: ""The requested tenant is currently initializing"". then never step into next.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Orchardcore with .net5.0 version can't deploy in mysql database Orchardcore with .net5.0 version can't deploy in mysql database , error happen: ""The requested tenant is currently initializing"". then never step into next. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
13168,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13168,GraphQL: Error trying to resolve field 'contentItems',"I'm getting an error on a GraphQL query which was working before in `1.4`, but breaks in `1.5`. The error:  GraphQL.Execution.UnhandledError: Error trying to resolve field 'contentItems'. > System.ArgumentNullException: Value cannot be null. (Parameter 'provider') at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider) at OrchardCore.Apis.GraphQL.ResolveFieldContextExtensions.Page[T,TSource](IResolveFieldContext`1 context, IEnumerable`1 source) at GraphQL.Resolvers.FuncFieldResolver`2.GraphQL.Resolvers.IFieldResolver.Resolve(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 158 at GraphQL.Resolvers.FuncFieldResolver`2.<>c__DisplayClass3_0.<GetResolverFor>b__2(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 91 at GraphQL.Resolvers.FuncFieldResolver`2.GraphQL.Resolvers.IFieldResolver.Resolve(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 158 at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 391  End of inner exception stack trace    To Reproduce 1. Create ContentType: `TestContentType` 2. Add a bag NamePart `TestNamedBag` 3. Enable `Collapes` (Check to collapse fields in the GraphQL schema.) 4. Add a simple content type to the bag, for example a `text area`. 5. Save 6. Execute GraphQL like this graphql query MyQuery { testContentType { contentItems {  on TextArea { displayText modifiedUtc } } } }  As a workaround, I changed the BagPart to a FlowPart which is fixing the issue. However, I prefer to use the BagPart.",other-file | other-file,"GraphQL: Error trying to resolve field 'contentItems' I'm getting an error on a GraphQL query which was working before in `1.4`, but breaks in `1.5`. The error:  GraphQL.Execution.UnhandledError: Error trying to resolve field 'contentItems'. > System.ArgumentNullException: Value cannot be null. (Parameter 'provider') at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider) at OrchardCore.Apis.GraphQL.ResolveFieldContextExtensions.Page[T,TSource](IResolveFieldContext`1 context, IEnumerable`1 source) at GraphQL.Resolvers.FuncFieldResolver`2.GraphQL.Resolvers.IFieldResolver.Resolve(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 158 at GraphQL.Resolvers.FuncFieldResolver`2.<>c__DisplayClass3_0.<GetResolverFor>b__2(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 91 at GraphQL.Resolvers.FuncFieldResolver`2.GraphQL.Resolvers.IFieldResolver.Resolve(IResolveFieldContext context) in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 158 at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 391  End of inner exception stack trace    To Reproduce 1. Create ContentType: `TestContentType` 2. Add a bag NamePart `TestNamedBag` 3. Enable `Collapes` (Check to collapse fields in the GraphQL schema.) 4. Add a simple content type to the bag, for example a `text area`. 5. Save 6. Execute GraphQL like this graphql query MyQuery { testContentType { contentItems {  on TextArea { displayText modifiedUtc } } } }  As a workaround, I changed the BagPart to a FlowPart which is fixing the issue. However, I prefer to use the BagPart. other-file other-file",no-bug,0.9
6505,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6505,Serve static content of web application to all tenants,"When static contents are added to web application `wwwroot ` which are not embedded in assembly - i.e. static content added by Blazor web assembly or static css, javascript or images etc, `app.UseStaticFiles()` only serves content for `Default` tenant. In multi-tenant scenario, If there is `'wwwroot/appfile1.html'` and have `Default`, `tenant1`, `tenant2` then it should serve `appfile1.html` to all tenants relative to tenant prefix. i.e. for default tenant `appfile1.html` should be served with url `/appfile1.html` and for `tenant1`and `tenant2` served with url `/tenant1/appfile1.html` and `/tenant2/appfile1.html`. Ref issue # https://github.com/OrchardCMS/OrchardCore/issues/6474#issuecomment-649139631 /cc @jtkech",other-file | other-file | documentation-file | other-file | documentation-file,"Serve static content of web application to all tenants When static contents are added to web application `wwwroot ` which are not embedded in assembly - i.e. static content added by Blazor web assembly or static css, javascript or images etc, `app.UseStaticFiles()` only serves content for `Default` tenant. In multi-tenant scenario, If there is `'wwwroot/appfile1.html'` and have `Default`, `tenant1`, `tenant2` then it should serve `appfile1.html` to all tenants relative to tenant prefix. i.e. for default tenant `appfile1.html` should be served with url `/appfile1.html` and for `tenant1`and `tenant2` served with url `/tenant1/appfile1.html` and `/tenant2/appfile1.html`. Ref issue # https://github.com/OrchardCMS/OrchardCore/issues/6474#issuecomment-649139631 /cc @jtkech other-file other-file documentation-file other-file documentation-file",no-bug,0.9
16429,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16429,"(OrchardCore.OpenId) contains CORS metadata, but a middleware was not found that supports CORS."," Describe the bug I am not sure if this is an issue or just a misuse. I run the main branch locally. I created a site using the blank recipe called `sso` and enabled the OpenId server feature. added `email` and `profile` scopes, then create a test application. Created another tenant locally called `ssoblog` using the blog recipe`. I enabled the OpenId Client feature and configured the client using the info I used to create the app with: ![image](https://github.com/user-attachments/assets/7a87125c-a17d-4f9f-b18c-f1ac52bf9fb0) When I went to https://localhost:44300/ssoblog/Login, and clicked on the ""Local SSO"" button. I get the following error > InvalidOperationException: Endpoint OrchardCore.OpenId.Controllers.AccessController.Authorize (OrchardCore.OpenId) contains CORS metadata, but a middleware was not found that supports CORS. Configure your application startup by adding app.UseCors() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(), the call to app.UseCors() must go between them. ![image](https://github.com/user-attachments/assets/899c42f4-2eda-47c7-bf3a-2c3e4b7a0be5) @kevinchalet I know we have updated OpenIdDict multiple times lately, if this a issue or am I doing something wrong during the setup? I have a feeling because I am doing this locally I may have to enable cors feature but want to make sure there isn't a real issue that we should worry about before I mess around with CORS.",other-file,"(OrchardCore.OpenId) contains CORS metadata, but a middleware was not found that supports CORS.  Describe the bug I am not sure if this is an issue or just a misuse. I run the main branch locally. I created a site using the blank recipe called `sso` and enabled the OpenId server feature. added `email` and `profile` scopes, then create a test application. Created another tenant locally called `ssoblog` using the blog recipe`. I enabled the OpenId Client feature and configured the client using the info I used to create the app with: ![image](https://github.com/user-attachments/assets/7a87125c-a17d-4f9f-b18c-f1ac52bf9fb0) When I went to https://localhost:44300/ssoblog/Login, and clicked on the ""Local SSO"" button. I get the following error > InvalidOperationException: Endpoint OrchardCore.OpenId.Controllers.AccessController.Authorize (OrchardCore.OpenId) contains CORS metadata, but a middleware was not found that supports CORS. Configure your application startup by adding app.UseCors() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(), the call to app.UseCors() must go between them. ![image](https://github.com/user-attachments/assets/899c42f4-2eda-47c7-bf3a-2c3e4b7a0be5) @kevinchalet I know we have updated OpenIdDict multiple times lately, if this a issue or am I doing something wrong during the setup? I have a feeling because I am doing this locally I may have to enable cors feature but want to make sure there isn't a real issue that we should worry about before I mess around with CORS. other-file",no-bug,0.9
17282,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17282,GraphQL failed to retrieve more than one type in single request," Describe the bug When request more than one GraphQL command that require DB aceess they execute in parellel and result wih error.  GraphQL.Execution.UnhandledError: Error trying to resolve field 'typeA'. > Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT \""Document\"".* FROM \""Document\"" INNER JOIN (SELECT \""Document\"".\""Id\"", MAX(\""ContentItemIndex_a1\"".\""CreatedUtc\"") AS \""order_1\"" FROM \""Document\"" INNER JOIN \""ContentItemIndex\"" AS \""ContentItemIndex_a1\"" ON \""ContentItemIndex_a1\"".\""DocumentId\"" = \""Document\"".\""Id\"" WHERE \""Document\"".\""Type\"" = @Type AND ((\""ContentItemIndex_a1\"".\""Published\"" = @p1) AND (\""ContentItemIndex_a1\"".\""ContentType\"" = @p2)) GROUP BY \""Document\"".\""Id\"" ORDER BY \""order_1\"" DESC limit 100) AS \""IndexQuery\"" ON \""IndexQuery\"".\""Id\"" = \""Document\"".\""Id\"" ORDER BY \""order_1\"" DESC at Npgsql.ThrowHelper.ThrowNpgsqlOperationInProgressException(NpgsqlCommand command) at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation) at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434 at YesSql.Store.<>c__DisplayClass44_0`2.<<ProduceAwaitedAsync>b__0>d.MoveNext()  End of stack trace from previous location  at YesSql.Data.WorkDispatcher`2.ScheduleAsync[TState](TKey key, TState state, Func`3 valueFactory) at YesSql.Store.ProduceAwaitedAsync[T,TState](WorkerQueryKey key, Func`3 work, TState state) at YesSql.Services.DefaultQuery.Query`1.ListImpl() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.ContentManagement.GraphQL.Queries.ContentItemsFieldType.ResolveAsync(IResolveFieldContext context) in C:\\Repo\\GitHub\\OrchardCore\\src\\OrchardCore\\OrchardCore.ContentManagement.GraphQL\\Queries\\ContentItemsFieldType.cs:line 116 at GraphQL.Resolvers.FuncFieldResolver`1.<>c__DisplayClass2_0.<<-ctor>b__0>d.MoveNext() in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 36  End of stack trace from previous location  at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 516  End of inner exception stack trace    Orchard Core version 2.1.0  To Reproduce 1. Instantiate new Orchard Site using PostgreSQL 2. Enable Content Types and GraphQL features 3. Create two types (TypeA and TypeB for example) 4. Go to GraphQL and execute request  query MyQuery { typeB { displayText } typeA { displayText } }   Logs and screenshots Seems like during migration on GrapgQL v7 LockedAsyncFieldResolver was incorrectly refactored. Method LockedAsyncFieldResolver was marked as 'new' and does not execute. https://github.com/OrchardCMS/OrchardCore/blob/d8168f2cf03b7c986e757aaaa8b060a255eb8c5b/src/OrchardCore/OrchardCore.Apis.GraphQL.Abstractions/Resolvers/LockedAsyncFieldResolver.cs#L13C42-L13C43",other-file | other-file | other-file,"GraphQL failed to retrieve more than one type in single request  Describe the bug When request more than one GraphQL command that require DB aceess they execute in parellel and result wih error.  GraphQL.Execution.UnhandledError: Error trying to resolve field 'typeA'. > Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT \""Document\"".* FROM \""Document\"" INNER JOIN (SELECT \""Document\"".\""Id\"", MAX(\""ContentItemIndex_a1\"".\""CreatedUtc\"") AS \""order_1\"" FROM \""Document\"" INNER JOIN \""ContentItemIndex\"" AS \""ContentItemIndex_a1\"" ON \""ContentItemIndex_a1\"".\""DocumentId\"" = \""Document\"".\""Id\"" WHERE \""Document\"".\""Type\"" = @Type AND ((\""ContentItemIndex_a1\"".\""Published\"" = @p1) AND (\""ContentItemIndex_a1\"".\""ContentType\"" = @p2)) GROUP BY \""Document\"".\""Id\"" ORDER BY \""order_1\"" DESC limit 100) AS \""IndexQuery\"" ON \""IndexQuery\"".\""Id\"" = \""Document\"".\""Id\"" ORDER BY \""order_1\"" DESC at Npgsql.ThrowHelper.ThrowNpgsqlOperationInProgressException(NpgsqlCommand command) at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|279_0(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation) at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) at Dapper.SqlMapper.QueryAsync[T](IDbConnection cnn, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 434 at YesSql.Store.<>c__DisplayClass44_0`2.<<ProduceAwaitedAsync>b__0>d.MoveNext()  End of stack trace from previous location  at YesSql.Data.WorkDispatcher`2.ScheduleAsync[TState](TKey key, TState state, Func`3 valueFactory) at YesSql.Store.ProduceAwaitedAsync[T,TState](WorkerQueryKey key, Func`3 work, TState state) at YesSql.Services.DefaultQuery.Query`1.ListImpl() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.ContentManagement.GraphQL.Queries.ContentItemsFieldType.ResolveAsync(IResolveFieldContext context) in C:\\Repo\\GitHub\\OrchardCore\\src\\OrchardCore\\OrchardCore.ContentManagement.GraphQL\\Queries\\ContentItemsFieldType.cs:line 116 at GraphQL.Resolvers.FuncFieldResolver`1.<>c__DisplayClass2_0.<<-ctor>b__0>d.MoveNext() in /_/src/GraphQL/Resolvers/FuncFieldResolver.cs:line 36  End of stack trace from previous location  at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 516  End of inner exception stack trace    Orchard Core version 2.1.0  To Reproduce 1. Instantiate new Orchard Site using PostgreSQL 2. Enable Content Types and GraphQL features 3. Create two types (TypeA and TypeB for example) 4. Go to GraphQL and execute request  query MyQuery { typeB { displayText } typeA { displayText } }   Logs and screenshots Seems like during migration on GrapgQL v7 LockedAsyncFieldResolver was incorrectly refactored. Method LockedAsyncFieldResolver was marked as 'new' and does not execute. https://github.com/OrchardCMS/OrchardCore/blob/d8168f2cf03b7c986e757aaaa8b060a255eb8c5b/src/OrchardCore/OrchardCore.Apis.GraphQL.Abstractions/Resolvers/LockedAsyncFieldResolver.cs#L13C42-L13C43 other-file other-file other-file",no-bug,0.8
8789,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8789,Solution build is failing," Describe the bug Running `dotnet build` in the root directory of the repository results in: `/Users/df/development/dafergu2/src/Templates/OrchardCore.ProjectTemplates/OrchardCore.ProjectTemplates.csproj(96,5): error MSB4044: The ""ReplaceFileText"" task was not given a value for the required parameter ""ReplacementText"".  To Reproduce Steps to reproduce the behavior: 1. Clone the repo 2. Execute `dotnet build` in the root of the repo with both net5.0 and netcoreapp3.1 sdk's installed  Expected behavior Build is successful",other-file,"Solution build is failing  Describe the bug Running `dotnet build` in the root directory of the repository results in: `/Users/df/development/dafergu2/src/Templates/OrchardCore.ProjectTemplates/OrchardCore.ProjectTemplates.csproj(96,5): error MSB4044: The ""ReplaceFileText"" task was not given a value for the required parameter ""ReplacementText"".  To Reproduce Steps to reproduce the behavior: 1. Clone the repo 2. Execute `dotnet build` in the root of the repo with both net5.0 and netcoreapp3.1 sdk's installed  Expected behavior Build is successful other-file",no-bug,0.95
8025,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8025,Draft and Published content: Show Preview and View buttons,/cc @urbanit,other-file | other-file | other-file | other-file,Draft and Published content: Show Preview and View buttons /cc @urbanit other-file other-file other-file other-file,no-bug,0.9
11876,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11876,Validate database connection before setting up a tenant," Is your feature request related to a problem? Please describe. In some cases, while trying to setup a new tenant on the ""Setup"" screen, the user is able to provide connection settings if the connection is not per-configured. In other case, the setup could fail and only some of the tables are created on the connection which leads to incomplete setup. If we run into an in-complete setup, the user should be notified that the tables already exists so they can change the connection or manually delete incomplete tables. Not sure if possible, if a setup fail, may be find out the created table and drop them manually? We would have to find a way to track created tables during setup before dropping table otherwise we could unintentionally drop wrong tables. Both cases above will lead to this exception ![image](https://user-images.githubusercontent.com/24724371/174127237-677c5ebb-b110-46de-87d8-0644cd034fa1.png)  Describe the solution you'd like I think we should validate the database connection before allowing the user to proceed the setup. Bonus, If possible, track a list new tables, and if the setup fail, drop them This issue is related to #1183 and #11863 but targets a different scenarios.",other-file | other-file | other-file | other-file | other-file | other-file,"Validate database connection before setting up a tenant  Is your feature request related to a problem? Please describe. In some cases, while trying to setup a new tenant on the ""Setup"" screen, the user is able to provide connection settings if the connection is not per-configured. In other case, the setup could fail and only some of the tables are created on the connection which leads to incomplete setup. If we run into an in-complete setup, the user should be notified that the tables already exists so they can change the connection or manually delete incomplete tables. Not sure if possible, if a setup fail, may be find out the created table and drop them manually? We would have to find a way to track created tables during setup before dropping table otherwise we could unintentionally drop wrong tables. Both cases above will lead to this exception ![image](https://user-images.githubusercontent.com/24724371/174127237-677c5ebb-b110-46de-87d8-0644cd034fa1.png)  Describe the solution you'd like I think we should validate the database connection before allowing the user to proceed the setup. Bonus, If possible, track a list new tables, and if the setup fail, drop them This issue is related to #1183 and #11863 but targets a different scenarios. other-file other-file other-file other-file other-file other-file",no-bug,0.9
14570,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14570,`WithField(fieldName)` should assign the fieldName as the display name by default.," Is your feature request related to a problem? Please describe. If we have the following migration  _contentDefinitionManager.AlterPartDefinition(""CustomPartName"", part => part .WithField(""Description"", part => part .OfType(""TextField"") .WithEditor(""TextArea"") ) .WithField(""Info"", part => part .OfType(""TextField"") .WithEditor(""TextArea"") ) .Attachable() );  There will be two fields added to the `CustomPartName`. The display name of both fields will be ""TextField"". I think by default, we should name then the ""Description"" and ""Info"" names unless the user uses `WithDisplayName(""Other Description"")` to change it.",other-file,"`WithField(fieldName)` should assign the fieldName as the display name by default.  Is your feature request related to a problem? Please describe. If we have the following migration  _contentDefinitionManager.AlterPartDefinition(""CustomPartName"", part => part .WithField(""Description"", part => part .OfType(""TextField"") .WithEditor(""TextArea"") ) .WithField(""Info"", part => part .OfType(""TextField"") .WithEditor(""TextArea"") ) .Attachable() );  There will be two fields added to the `CustomPartName`. The display name of both fields will be ""TextField"". I think by default, we should name then the ""Description"" and ""Info"" names unless the user uses `WithDisplayName(""Other Description"")` to change it. other-file",no-bug,0.9
5864,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5864,Culture vuejs select is slow,"The vuejs Culture Select is slow to select new cultures. To select an item from the cultures list when localization is enabled takes around 25 seconds for the add method to complete, and the culture to become selectable. I haven't had time for a good look, but I can see from the code we have fallen into a `v-for` and `v-if` trap. https://vuejs.org/v2/guide/list.html#v-for-with-v-if However I suspect it's the add method that is running slowly. Must be a regression as it wasn't running this slowly last time I used it.",other-file | other-file | documentation-file | source-file | other-file | source-file,"Culture vuejs select is slow The vuejs Culture Select is slow to select new cultures. To select an item from the cultures list when localization is enabled takes around 25 seconds for the add method to complete, and the culture to become selectable. I haven't had time for a good look, but I can see from the code we have fallen into a `v-for` and `v-if` trap. https://vuejs.org/v2/guide/list.html#v-for-with-v-if However I suspect it's the add method that is running slowly. Must be a regression as it wasn't running this slowly last time I used it. other-file other-file documentation-file source-file other-file source-file",no-bug,0.9
6174,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6174,Invalid fields are not highlighted while editing content item.,When editing content item in admin - if fields/parts has validation error validation summary is displayed but invalid fields/parts are not highlighted.  Fields - [x] TextField - [x] ContentPickerField - [x] LocalizationSetContentPickerField - [x] HtmlField - [x] LinkField - [x] NumericField - [x] YoutubeField - [x] MarkdownField - [x] MediaField - [x] DateField - [x] TimeField - [x] DateTimeField  Parts - [x] TitlePart - [x] HtmlBodyPart - [x] LiquidPart - [x] MarkdownPart,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | documentation-file | other-file | other-file | documentation-file | config-file | source-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | documentation-file | other-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Invalid fields are not highlighted while editing content item. When editing content item in admin - if fields/parts has validation error validation summary is displayed but invalid fields/parts are not highlighted.  Fields - [x] TextField - [x] ContentPickerField - [x] LocalizationSetContentPickerField - [x] HtmlField - [x] LinkField - [x] NumericField - [x] YoutubeField - [x] MarkdownField - [x] MediaField - [x] DateField - [x] TimeField - [x] DateTimeField  Parts - [x] TitlePart - [x] HtmlBodyPart - [x] LiquidPart - [x] MarkdownPart other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file documentation-file other-file other-file documentation-file config-file source-file config-file documentation-file documentation-file other-file other-file other-file other-file source-file source-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file config-file documentation-file other-file config-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
6141,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6141,HttpRequestFilterEvent can't be used as a waiting activity,Can only be used as a starting activity I fixed it and will do a PR **Update:** Fixed by #6142,other-file | other-file | other-file | other-file,HttpRequestFilterEvent can't be used as a waiting activity Can only be used as a starting activity I fixed it and will do a PR **Update:** Fixed by #6142 other-file other-file other-file other-file,no-bug,0.9
13177,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13177,OrchardCore_Media_AmazonS3 - BasePath folder name issue with multi-tenant," Describe the bug When configuring the Feature `OrchardCore_Media_AmazonS3` I have configured the `BasePath` value as below:  ""BasePath"": ""{{ ShellSettings.Name }}/Media"",  My expectation was that for each Tenant, there would be a subfolder created for each Tenant with a unique name. What is happening though is that the folder in the S3 bucket is actually being generated as below: <img width=""407"" alt=""image"" src=""https://user-images.githubusercontent.com/63015960/215571718-6c3ec1ab-04af-4b7f-9be4-265269789a48.png""> The Liquid value is never being interpreted. The files still get uploaded, but they all get dropped in that same incorrectly named (and shared) folder.  Expected behavior If I have 2 tenants named `Tenant01` and `Tenant02` I expect two subfolders be created off of the root of the site. The Media for those tenant sites will be dropped in the relevant folder for the tenant.  Possible solution I made two changes locally to test a theory - `OrchardCore\OrchardCore.FileSTorage.AmazonS3\AwsFileStorage.cs` : constructor is modified to use `IOptions<AwsStorageOptions> instead of just `AwsStorageOptions`  public AwsFileStore(IClock clock, IOptions<AwsStorageOptions> options, IAmazonS3 amazonS3Client) { _options = options.Value;  - `OrchardCore.Modules\OrchardCore.Media.AmazonS3\Startup.cs : alter the initialization of the `AwsFileStore` as follows:  IOptions<AwsStorageOptions> options = serviceProvider.GetRequiredService<IOptions<AwsStorageOptions>>(); var fileStore = new AwsFileStore(clock, options, amazonS3Client); ",other-file,"OrchardCore_Media_AmazonS3 - BasePath folder name issue with multi-tenant  Describe the bug When configuring the Feature `OrchardCore_Media_AmazonS3` I have configured the `BasePath` value as below:  ""BasePath"": ""{{ ShellSettings.Name }}/Media"",  My expectation was that for each Tenant, there would be a subfolder created for each Tenant with a unique name. What is happening though is that the folder in the S3 bucket is actually being generated as below: <img width=""407"" alt=""image"" src=""https://user-images.githubusercontent.com/63015960/215571718-6c3ec1ab-04af-4b7f-9be4-265269789a48.png""> The Liquid value is never being interpreted. The files still get uploaded, but they all get dropped in that same incorrectly named (and shared) folder.  Expected behavior If I have 2 tenants named `Tenant01` and `Tenant02` I expect two subfolders be created off of the root of the site. The Media for those tenant sites will be dropped in the relevant folder for the tenant.  Possible solution I made two changes locally to test a theory - `OrchardCore\OrchardCore.FileSTorage.AmazonS3\AwsFileStorage.cs` : constructor is modified to use `IOptions<AwsStorageOptions> instead of just `AwsStorageOptions`  public AwsFileStore(IClock clock, IOptions<AwsStorageOptions> options, IAmazonS3 amazonS3Client) { _options = options.Value;  - `OrchardCore.Modules\OrchardCore.Media.AmazonS3\Startup.cs : alter the initialization of the `AwsFileStore` as follows:  IOptions<AwsStorageOptions> options = serviceProvider.GetRequiredService<IOptions<AwsStorageOptions>>(); var fileStore = new AwsFileStore(clock, options, amazonS3Client);  other-file",no-bug,0.8
15246,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15246,AdminMenuNavigationProvidersCoordinator issue in main branch,I'm getting a lot of these in logs.  2024-02-03 12:39:15.9619|Default|00-4bc7e8b97123fe0446aeb1b4d56c3eee-022055cef940b42d-00||OrchardCore.AdminMenu.Services.AdminMenuNavigationProvidersCoordinator|ERROR|No Builder registered for admin node of type 'AdminNode' ,other-file,AdminMenuNavigationProvidersCoordinator issue in main branch I'm getting a lot of these in logs.  2024-02-03 12:39:15.9619|Default|00-4bc7e8b97123fe0446aeb1b4d56c3eee-022055cef940b42d-00||OrchardCore.AdminMenu.Services.AdminMenuNavigationProvidersCoordinator|ERROR|No Builder registered for admin node of type 'AdminNode'  other-file,no-bug,0.9
5427,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5427,Validate Field activity: Required error message,"When you use a Validate Field activity in a Workflow, the Error message should be required or else, it can lead to an argument null exception when it is triggered.",other-file | other-file | other-file,"Validate Field activity: Required error message When you use a Validate Field activity in a Workflow, the Error message should be required or else, it can lead to an argument null exception when it is triggered. other-file other-file other-file",no-bug,0.9
16202,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16202,Hard to implement a ContentCulturePicker in Liquid,"@sebastienros > ContentCulturePicker.cshtml should resolve the cultures like before, and then invoke a new ContentCulturePickerContainer with this model. The driver can then use the ContentCulturePickerContainer instead, and rendering ContentCulturePicker will work like before. no, it does not in 2.0.0-preview-18222: before, it was possible to override the shape with liquid and get all the required data as part of the Model. I guess the problem is, that `ContentCulturePickerContainer` is not invoked anymore, so you directly need to override `ContentCulturePicker` As the `ContentCulturePicker` does not work with a Model, but creates variables with the required data inside the template itself, there is no way to access this data inside a liquid template, which overrides the template. Am I missing a way to call this in liquid to get the equivalent for `Model.SupportedCultures`? `var supportedCultures = (await LocalizationService.GetSupportedCulturesAsync()).Select(c => CultureInfo.GetCultureInfo(c));` _Originally posted by @bashuss in https://github.com/OrchardCMS/OrchardCore/issues/15148#issuecomment-2134979300_",other-file | other-file | other-file | documentation-file,"Hard to implement a ContentCulturePicker in Liquid @sebastienros > ContentCulturePicker.cshtml should resolve the cultures like before, and then invoke a new ContentCulturePickerContainer with this model. The driver can then use the ContentCulturePickerContainer instead, and rendering ContentCulturePicker will work like before. no, it does not in 2.0.0-preview-18222: before, it was possible to override the shape with liquid and get all the required data as part of the Model. I guess the problem is, that `ContentCulturePickerContainer` is not invoked anymore, so you directly need to override `ContentCulturePicker` As the `ContentCulturePicker` does not work with a Model, but creates variables with the required data inside the template itself, there is no way to access this data inside a liquid template, which overrides the template. Am I missing a way to call this in liquid to get the equivalent for `Model.SupportedCultures`? `var supportedCultures = (await LocalizationService.GetSupportedCulturesAsync()).Select(c => CultureInfo.GetCultureInfo(c));` _Originally posted by @bashuss in https://github.com/OrchardCMS/OrchardCore/issues/15148#issuecomment-2134979300_ other-file other-file other-file documentation-file",no-bug,0.9
15397,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15397,"""ContentDefinition.PopulateSettings"" inconsistent documentation"," Describe the bug The documentation comment of [`ContentDefinition.Settings`](https://github.com/OrchardCMS/OrchardCore/blob/bbbc79ab90e88bac4a13efeef1fcb5ee32932cef/src/OrchardCore/OrchardCore.ContentManagement.Abstractions/Metadata/Models/ContentDefinition.cs#L14) says > Do not access this property directly. Migrate to use GetSettings and **PopulateSettings**. But `PopulateSettings` has been removed in #14572. This makes the property documentation confusing, and also makes migration to 1.9.0 harder. I see that in the PR usages of the method have been [expanded into direct access](https://github.com/OrchardCMS/OrchardCore/pull/14572/files#diff-fa1e2ac156a7991674caa1250f26d5ef3e38211e2844cd58f806d874cc071359L13) of `ContentDefinition.Settings`.  Discussion Based on the above linked change in #14572, is the ""Do not access this property directly."" instruction no longer applicable? Also, is it safe to access the settings like `partFieldDefinition.Settings.ToObject<BooleanFieldSettings>()` instead of of `partFieldDefinition.GetSettings<BooleanFieldSettings>()`?  Suggestion To avoid confusion, I think we should: - Update the linked documentation comment. - Restore `PopulateSettings`, even just as a stub method that has `[Obsolete]` and throws `NotSupportedException` to aid migration. - Mention the removal of `PopulateSettings` in [1.9.0.md](https://github.com/OrchardCMS/OrchardCore/blob/main/src/docs/releases/1.9.0.md). - Replace `definition.Settings.ToObject<T>()` with `definition.GetSettings<T>()`? If you have no objections, I will do the above and submit a PR in the coming days.",documentation-file,"""ContentDefinition.PopulateSettings"" inconsistent documentation  Describe the bug The documentation comment of [`ContentDefinition.Settings`](https://github.com/OrchardCMS/OrchardCore/blob/bbbc79ab90e88bac4a13efeef1fcb5ee32932cef/src/OrchardCore/OrchardCore.ContentManagement.Abstractions/Metadata/Models/ContentDefinition.cs#L14) says > Do not access this property directly. Migrate to use GetSettings and **PopulateSettings**. But `PopulateSettings` has been removed in #14572. This makes the property documentation confusing, and also makes migration to 1.9.0 harder. I see that in the PR usages of the method have been [expanded into direct access](https://github.com/OrchardCMS/OrchardCore/pull/14572/files#diff-fa1e2ac156a7991674caa1250f26d5ef3e38211e2844cd58f806d874cc071359L13) of `ContentDefinition.Settings`.  Discussion Based on the above linked change in #14572, is the ""Do not access this property directly."" instruction no longer applicable? Also, is it safe to access the settings like `partFieldDefinition.Settings.ToObject<BooleanFieldSettings>()` instead of of `partFieldDefinition.GetSettings<BooleanFieldSettings>()`?  Suggestion To avoid confusion, I think we should: - Update the linked documentation comment. - Restore `PopulateSettings`, even just as a stub method that has `[Obsolete]` and throws `NotSupportedException` to aid migration. - Mention the removal of `PopulateSettings` in [1.9.0.md](https://github.com/OrchardCMS/OrchardCore/blob/main/src/docs/releases/1.9.0.md). - Replace `definition.Settings.ToObject<T>()` with `definition.GetSettings<T>()`? If you have no objections, I will do the above and submit a PR in the coming days. documentation-file",no-bug,0.9
6545,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6545,Script name,"If you use a script taghelper with a name, all the depending scripts in footer have that attribute. Ex in TextField-IconPicker.Edit.cshtml: `<script name=""fontpickerScript"">` =>  <script crossorigin=""anonymous"" integrity=""sha384-/LjQZzcpTzaYn7qWqRIWYC5l8FWEZ2bIHIz0D73Uzba4pShEcdLdZyZkI4Kv676E"" name=""fontpickerScript"" src=""https://code.jquery.com/jquery-3.5.1.js"" type=""text/javascript""></script> <script name=""fontpickerScript"" src=""/OrchardCore.ContentFields/Scripts/fontawesome-iconpicker.js"" type=""text/javascript""></script>  Is is the expected beahaviour?",other-file | other-file | other-file | other-file | other-file | other-file,"Script name If you use a script taghelper with a name, all the depending scripts in footer have that attribute. Ex in TextField-IconPicker.Edit.cshtml: `<script name=""fontpickerScript"">` =>  <script crossorigin=""anonymous"" integrity=""sha384-/LjQZzcpTzaYn7qWqRIWYC5l8FWEZ2bIHIz0D73Uzba4pShEcdLdZyZkI4Kv676E"" name=""fontpickerScript"" src=""https://code.jquery.com/jquery-3.5.1.js"" type=""text/javascript""></script> <script name=""fontpickerScript"" src=""/OrchardCore.ContentFields/Scripts/fontawesome-iconpicker.js"" type=""text/javascript""></script>  Is is the expected beahaviour? other-file other-file other-file other-file other-file other-file",no-bug,0.9
5346,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5346,Execute Recipe by importing a file from admin,"Goal: Provide a way to import a recipe file from the admin and execute it. Currently, a harvester is in charge of gathering all the *.recipe.json files in every modules and the UI list them and allows to execute a recipe.",other-file | other-file,"Execute Recipe by importing a file from admin Goal: Provide a way to import a recipe file from the admin and execute it. Currently, a harvester is in charge of gathering all the *.recipe.json files in every modules and the UI list them and allows to execute a recipe. other-file other-file",no-bug,0.9
5219,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5219,Default display option for fields without Standard display,"If you want to add a Display option for a field that does not have a Standard one, when you re-edit the settings and save, the new one will be selected even if you don't want it. Should we add a Standard option for all the fields or find a way to offer to select an empty one when there is only a custom one available?",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Default display option for fields without Standard display If you want to add a Display option for a field that does not have a Standard one, when you re-edit the settings and save, the new one will be selected even if you don't want it. Should we add a Standard option for all the fields or find a way to offer to select an empty one when there is only a custom one available? other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8939,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8939,Support multiple translation providers,Localization manager should be able to handle multiple instances of ITranslationProvider. This way we can create more methods for storing translations.,other-file | test-file | other-file | config-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | documentation-file | source-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | documentation-file | source-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file,Support multiple translation providers Localization manager should be able to handle multiple instances of ITranslationProvider. This way we can create more methods for storing translations. other-file test-file other-file config-file config-file config-file documentation-file documentation-file other-file other-file documentation-file source-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file documentation-file source-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file,no-bug,0.9
12019,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12019,Create user generate password does not consistently meet default password requirement," Describe the bug Password randomness occasionally omits a special character or number  To Reproduce Steps to reproduce the behavior: Got to create a new user >> click generate password.  Expected behavior Password should include a number, lower and uppercase letter, and special character.  Screenshots ![image](https://user-images.githubusercontent.com/1476149/179334507-46d00521-a03e-4821-87bb-c94402888ecb.png)",other-file,"Create user generate password does not consistently meet default password requirement  Describe the bug Password randomness occasionally omits a special character or number  To Reproduce Steps to reproduce the behavior: Got to create a new user >> click generate password.  Expected behavior Password should include a number, lower and uppercase letter, and special character.  Screenshots ![image](https://user-images.githubusercontent.com/1476149/179334507-46d00521-a03e-4821-87bb-c94402888ecb.png) other-file",no-bug,0.8
15678,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15678,Settings not reloaded on update, Describe the bug There is an issue with updating custom settings: when there is a change saved there is a redirect to edit page performed earlier than updated setting is saved to DB and cache is updated.  To Reproduce Steps to reproduce the behavior: 1. Go to custom settings page 2. Add some setting 3. Save' 4. Page is reloaded  Expected behavior Reloaded page does not contain newly added setting (this shows the edit page with settings loaded initially when navigating to the page)  Screenshots Reloaded page should contain actual data.,other-file | other-file,Settings not reloaded on update  Describe the bug There is an issue with updating custom settings: when there is a change saved there is a redirect to edit page performed earlier than updated setting is saved to DB and cache is updated.  To Reproduce Steps to reproduce the behavior: 1. Go to custom settings page 2. Add some setting 3. Save' 4. Page is reloaded  Expected behavior Reloaded page does not contain newly added setting (this shows the edit page with settings loaded initially when navigating to the page)  Screenshots Reloaded page should contain actual data. other-file other-file,no-bug,0.9
17239,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17239,Remove the checkbox next to each widget,"When editing widgets on the Layers UI (/Admin/Layers), each widget has a checkbox next to it. These checkboxes currently are useless and don't do anything. We should either remove the check box, or add a bulk action menu for each zone on the upper right hand side to allow us to Publish, Unpublish, or delete all selected widgets. But usually there isn't tons of widgets on that UI, so adding bulk action may not be used much. ![image](https://github.com/user-attachments/assets/4926b119-372e-4402-ad78-4c1d21a01838) ![image](https://github.com/user-attachments/assets/326f419c-f59a-4462-9745-49e83e921cb3)",other-file,"Remove the checkbox next to each widget When editing widgets on the Layers UI (/Admin/Layers), each widget has a checkbox next to it. These checkboxes currently are useless and don't do anything. We should either remove the check box, or add a bulk action menu for each zone on the upper right hand side to allow us to Publish, Unpublish, or delete all selected widgets. But usually there isn't tons of widgets on that UI, so adding bulk action may not be used much. ![image](https://github.com/user-attachments/assets/4926b119-372e-4402-ad78-4c1d21a01838) ![image](https://github.com/user-attachments/assets/326f419c-f59a-4462-9745-49e83e921cb3) other-file",no-bug,0.9
15363,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15363,Setting environment variable doesn't change log location.," Describe the bug As described in document [here ](https://docs.orchardcore.net/en/latest/docs/reference/core/Configuration/#orchard_app_data-environment-variable), Setting environment variable `orchard_app_data` doesn't change log location and logs are still placed under `APP_DATA`  To Reproduce Steps to reproduce the behavior: 1. Create environment variable `orchard_app_data` with value `C:\\orchard_data` 2. Run application and setup Default tenant 3. Notices Sites folder created at `C:\\orchard_data` but logs are are generated under `APP_DATA`  Expected behavior Logs should also be created under `C:\\orchard_data`",other-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | source-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | source-file | source-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Setting environment variable doesn't change log location.  Describe the bug As described in document [here ](https://docs.orchardcore.net/en/latest/docs/reference/core/Configuration/#orchard_app_data-environment-variable), Setting environment variable `orchard_app_data` doesn't change log location and logs are still placed under `APP_DATA`  To Reproduce Steps to reproduce the behavior: 1. Create environment variable `orchard_app_data` with value `C:\\orchard_data` 2. Run application and setup Default tenant 3. Notices Sites folder created at `C:\\orchard_data` but logs are are generated under `APP_DATA`  Expected behavior Logs should also be created under `C:\\orchard_data` other-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file source-file source-file other-file source-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file documentation-file documentation-file source-file source-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
11198,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11198,Recipe import fails with an exception when using an undefined variable," Describe the bug When tying to import a recipe with an undefined variable throws generic exception. The current error is this > ArgumentNullException: Value cannot be null. (Parameter 'value')  To Reproduce Steps to reproduce the behavior: If you import the following recipe you'll get a generic error that does not help much. Note in the recipe below the variable `someVariableNameThatDoesNotExists` is never defined  { ""variables"": { ""now"": ""[js: new Date().toISOString()]"" }, ""steps"": [ { ""name"": ""content"", ""data"": [ { ""ContentItemId"": ""[js: variables('someVariableNameThatDoesNotExists')]"", ""ContentItemVersionId"": ""[js: uuid()]"", ""ContentType"": ""Test"", ""DisplayText"": ""Dummy Items"", ""Latest"": true, ""Published"": true, ""ModifiedUtc"": ""[js: variables('now')]"", ""PublishedUtc"": ""[js: variables('now')]"", ""CreatedUtc"": ""[js: variables('now')]"", ""Owner"": ""[js: parameters('AdminUserId')]"", ""Author"": ""[js: parameters('AdminUsername')]"", ""LayerMetadata"": { ""RenderTitle"": false, ""Position"": 1, ""Zone"": ""Main"", ""Layer"": ""Home Page"" } } ] } ] }   Expected behavior I would think it would be nice to log something like > The variable ""someVariableNameThatDoesNotExists"" was not defined. Make sure you define ""someVariableNameThatDoesNotExists"" variable in the `variables` section of your recipe.  Screenshots If applicable, add screenshots to help explain your problem. ![image](https://user-images.githubusercontent.com/24724371/154357186-10d810e8-654b-4765-a7b1-0216870b0fbd.png)",other-file | other-file,"Recipe import fails with an exception when using an undefined variable  Describe the bug When tying to import a recipe with an undefined variable throws generic exception. The current error is this > ArgumentNullException: Value cannot be null. (Parameter 'value')  To Reproduce Steps to reproduce the behavior: If you import the following recipe you'll get a generic error that does not help much. Note in the recipe below the variable `someVariableNameThatDoesNotExists` is never defined  { ""variables"": { ""now"": ""[js: new Date().toISOString()]"" }, ""steps"": [ { ""name"": ""content"", ""data"": [ { ""ContentItemId"": ""[js: variables('someVariableNameThatDoesNotExists')]"", ""ContentItemVersionId"": ""[js: uuid()]"", ""ContentType"": ""Test"", ""DisplayText"": ""Dummy Items"", ""Latest"": true, ""Published"": true, ""ModifiedUtc"": ""[js: variables('now')]"", ""PublishedUtc"": ""[js: variables('now')]"", ""CreatedUtc"": ""[js: variables('now')]"", ""Owner"": ""[js: parameters('AdminUserId')]"", ""Author"": ""[js: parameters('AdminUsername')]"", ""LayerMetadata"": { ""RenderTitle"": false, ""Position"": 1, ""Zone"": ""Main"", ""Layer"": ""Home Page"" } } ] } ] }   Expected behavior I would think it would be nice to log something like > The variable ""someVariableNameThatDoesNotExists"" was not defined. Make sure you define ""someVariableNameThatDoesNotExists"" variable in the `variables` section of your recipe.  Screenshots If applicable, add screenshots to help explain your problem. ![image](https://user-images.githubusercontent.com/24724371/154357186-10d810e8-654b-4765-a7b1-0216870b0fbd.png) other-file other-file",no-bug,0.9
15062,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15062,Display name for a content part field in a recipe is being ignored on import / export," Describe the bug I'm trying to update to OC 1.8.1. In my recipe I specify a display name that is different than the technical name. This worked all the way up to OC 1.8, but in OC 1.8.1 my display name is being ignored and the technical name is used instead. Similarly, if I set the desired display name through the UI and export the content part field definition into a recipe, the display name is set to the technical name.  To Reproduce Steps to reproduce the behavior: 1. Create a new OC 1.8.1 site using the blog recipe 2. Create a new content type as follows: technical name ""MyContentType"", display name ""My Content Type"". 3. Add a boolean field to the content type as follows: technical name ""MyBooleanField"", display name ""My Boolean Field"" 4. Go to /Admin/DeploymentPlan/Index and create a new deployment plan. Add the ""Update Content Definitions"" step and check the box for ""My Content Type"" 5. Execute the deployment plan  Expected behavior The resulting recipe has the correct technical and display names for the content type, but not the content part.  { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""ContentDefinition"", ""ContentTypes"": [ { ""Name"": ""MyContentType"", ""DisplayName"": ""My Content Type"", ""Settings"": { ""ContentTypeSettings"": { ""Creatable"": true, ""Listable"": true, ""Draftable"": true, ""Versionable"": true, ""Securable"": true }, ""FullTextAspectSettings"": {} }, ""ContentTypePartDefinitionRecords"": [ { ""PartName"": ""MyContentType"", ""Name"": ""MyContentType"", ""Settings"": { ""ContentTypePartSettings"": { ""Position"": ""0"" } } } ] } ], ""ContentParts"": [ { ""Name"": ""MyContentType"", ""Settings"": {}, ""ContentPartFieldDefinitionRecords"": [ { ""FieldName"": ""BooleanField"", ""Name"": ""MyBooleanField"", ""Settings"": { ""ContentPartFieldSettings"": { ""DisplayName"": ""MyBooleanField"", ""Position"": ""0"" } } } ] } ] } ] }   To Reproduce the other issue Now, I start a brand new site from scratch. Instead of creating the content type from the UI, I import it from the following recipe (note the corrected display name). Go to /Admin/DeploymentPlan/Import/Json and paste in this recipe.  { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""ContentDefinition"", ""ContentTypes"": [ { ""Name"": ""MyContentType"", ""DisplayName"": ""My Content Type"", ""Settings"": { ""ContentTypeSettings"": { ""Creatable"": true, ""Listable"": true, ""Draftable"": true, ""Versionable"": true, ""Securable"": true }, ""FullTextAspectSettings"": {} }, ""ContentTypePartDefinitionRecords"": [ { ""PartName"": ""MyContentType"", ""Name"": ""MyContentType"", ""Settings"": { ""ContentTypePartSettings"": { ""Position"": ""0"" } } } ] } ], ""ContentParts"": [ { ""Name"": ""MyContentType"", ""Settings"": {}, ""ContentPartFieldDefinitionRecords"": [ { ""FieldName"": ""BooleanField"", ""Name"": ""MyBooleanField"", ""Settings"": { ""ContentPartFieldSettings"": { ""DisplayName"": ""My Boolean Field"", ""Position"": ""0"" } } } ] } ] } ] }  Go to /Admin/ContentParts/MyContentType/Fields/MyBooleanField/Edit and note the display name is incorrectly set to the technical name. ![image](https://github.com/OrchardCMS/OrchardCore/assets/68876423/fd94ff79-c57c-475b-9887-e2a339f7a782) @MikeAlhayek could this be related to #15013?",other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Display name for a content part field in a recipe is being ignored on import / export  Describe the bug I'm trying to update to OC 1.8.1. In my recipe I specify a display name that is different than the technical name. This worked all the way up to OC 1.8, but in OC 1.8.1 my display name is being ignored and the technical name is used instead. Similarly, if I set the desired display name through the UI and export the content part field definition into a recipe, the display name is set to the technical name.  To Reproduce Steps to reproduce the behavior: 1. Create a new OC 1.8.1 site using the blog recipe 2. Create a new content type as follows: technical name ""MyContentType"", display name ""My Content Type"". 3. Add a boolean field to the content type as follows: technical name ""MyBooleanField"", display name ""My Boolean Field"" 4. Go to /Admin/DeploymentPlan/Index and create a new deployment plan. Add the ""Update Content Definitions"" step and check the box for ""My Content Type"" 5. Execute the deployment plan  Expected behavior The resulting recipe has the correct technical and display names for the content type, but not the content part.  { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""ContentDefinition"", ""ContentTypes"": [ { ""Name"": ""MyContentType"", ""DisplayName"": ""My Content Type"", ""Settings"": { ""ContentTypeSettings"": { ""Creatable"": true, ""Listable"": true, ""Draftable"": true, ""Versionable"": true, ""Securable"": true }, ""FullTextAspectSettings"": {} }, ""ContentTypePartDefinitionRecords"": [ { ""PartName"": ""MyContentType"", ""Name"": ""MyContentType"", ""Settings"": { ""ContentTypePartSettings"": { ""Position"": ""0"" } } } ] } ], ""ContentParts"": [ { ""Name"": ""MyContentType"", ""Settings"": {}, ""ContentPartFieldDefinitionRecords"": [ { ""FieldName"": ""BooleanField"", ""Name"": ""MyBooleanField"", ""Settings"": { ""ContentPartFieldSettings"": { ""DisplayName"": ""MyBooleanField"", ""Position"": ""0"" } } } ] } ] } ] }   To Reproduce the other issue Now, I start a brand new site from scratch. Instead of creating the content type from the UI, I import it from the following recipe (note the corrected display name). Go to /Admin/DeploymentPlan/Import/Json and paste in this recipe.  { ""name"": """", ""displayName"": """", ""description"": """", ""author"": """", ""website"": """", ""version"": """", ""issetuprecipe"": false, ""categories"": [], ""tags"": [], ""steps"": [ { ""name"": ""ContentDefinition"", ""ContentTypes"": [ { ""Name"": ""MyContentType"", ""DisplayName"": ""My Content Type"", ""Settings"": { ""ContentTypeSettings"": { ""Creatable"": true, ""Listable"": true, ""Draftable"": true, ""Versionable"": true, ""Securable"": true }, ""FullTextAspectSettings"": {} }, ""ContentTypePartDefinitionRecords"": [ { ""PartName"": ""MyContentType"", ""Name"": ""MyContentType"", ""Settings"": { ""ContentTypePartSettings"": { ""Position"": ""0"" } } } ] } ], ""ContentParts"": [ { ""Name"": ""MyContentType"", ""Settings"": {}, ""ContentPartFieldDefinitionRecords"": [ { ""FieldName"": ""BooleanField"", ""Name"": ""MyBooleanField"", ""Settings"": { ""ContentPartFieldSettings"": { ""DisplayName"": ""My Boolean Field"", ""Position"": ""0"" } } } ] } ] } ] }  Go to /Admin/ContentParts/MyContentType/Fields/MyBooleanField/Edit and note the display name is incorrectly set to the technical name. ![image](https://github.com/OrchardCMS/OrchardCore/assets/68876423/fd94ff79-c57c-475b-9887-e2a339f7a782) @MikeAlhayek could this be related to #15013? other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8538,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8538,Support for now() helper function in SQL Queries,"Currently OrchardCore has few helper functions to play with dates, it would be good to also have **now()** function which could return current **DateTime** (utc). I've adjusted YesSql Dialects: https://github.com/lampersky/yessql/commit/051a39ddf7ef4d1836cadad4074b6dc737e8ab01 And also have updated **SqlParser** and **SqlGrammar** to support functions without any arguments: https://github.com/lampersky/OrchardCore/commit/6ce16c12eee05c03d50a0ba98cf36b52340c5060 /cc @sebastienros",other-file | other-file | other-file,"Support for now() helper function in SQL Queries Currently OrchardCore has few helper functions to play with dates, it would be good to also have **now()** function which could return current **DateTime** (utc). I've adjusted YesSql Dialects: https://github.com/lampersky/yessql/commit/051a39ddf7ef4d1836cadad4074b6dc737e8ab01 And also have updated **SqlParser** and **SqlGrammar** to support functions without any arguments: https://github.com/lampersky/OrchardCore/commit/6ce16c12eee05c03d50a0ba98cf36b52340c5060 /cc @sebastienros other-file other-file other-file",no-bug,0.9
16074,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16074,No IUserTwoFactorTokenProvider<TUser> named 'Default' is registered.," Describe the bug By default the users' admin controller expose a way for the admin to reset passwords. But by default we do not register any token provider. This causes an exception during the post request > No IUserTwoFactorTokenProvider<TUser> named 'Default' is registered.  To Reproduce Steps to reproduce the behavior: 1. disable two factor authentication features, and password reset feature. 2. do to the admin, find a user, and try to reset their password. 3. See error I'll fix this issue soon.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/cf00e4a9-e21b-41bd-8cd6-12d1770469f4)",other-file | other-file | other-file,"No IUserTwoFactorTokenProvider<TUser> named 'Default' is registered.  Describe the bug By default the users' admin controller expose a way for the admin to reset passwords. But by default we do not register any token provider. This causes an exception during the post request > No IUserTwoFactorTokenProvider<TUser> named 'Default' is registered.  To Reproduce Steps to reproduce the behavior: 1. disable two factor authentication features, and password reset feature. 2. do to the admin, find a user, and try to reset their password. 3. See error I'll fix this issue soon.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/cf00e4a9-e21b-41bd-8cd6-12d1770469f4) other-file other-file other-file",no-bug,0.8
5640,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5640,"Flow part needs ""expands all"" functionality",It's hard to use at the moment because you always have to expand each widget item individual. It's quite annoying and it breaks editing flow . ![expand](https://user-images.githubusercontent.com/1761249/75419901-8658ce00-593f-11ea-9d34-ccc36ef195a4.png),other-file | other-file | other-file | other-file,"Flow part needs ""expands all"" functionality It's hard to use at the moment because you always have to expand each widget item individual. It's quite annoying and it breaks editing flow . ![expand](https://user-images.githubusercontent.com/1761249/75419901-8658ce00-593f-11ea-9d34-ccc36ef195a4.png) other-file other-file other-file other-file",no-bug,0.9
16547,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16547,Add a way to automatically add a part to a content type," Is your feature request related to a problem? Please describe. If we look at the implementation of the [Admin Dashboard](https://docs.orchardcore.net/en/latest/reference/modules/AdminDashboard/), we'll notice that the user has to specify a `DashboardWidget ` Sterotype in addition to attaching `DashboardPart` part. I think there should be a way to allow us to inject a driver automatically based on conditions (for example stereotype).  Describe the solution you'd like I think we should add a way ""maybe options"" that would allow us to specify which part to attach and when. So we can say attach X part to Y content type everytime ""no optional"". User's can't remove it, but user can change it's position as needed. This will simplify the steps on user need to do for this kind of scenario. Maybe we can add event handling to the content definition manager where we can auto inject a part directly when loading/updating a content type of X stereotype (or any other custom logic). The add a new option to the content part definition ""IsRemovable"" for the UI.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"Add a way to automatically add a part to a content type  Is your feature request related to a problem? Please describe. If we look at the implementation of the [Admin Dashboard](https://docs.orchardcore.net/en/latest/reference/modules/AdminDashboard/), we'll notice that the user has to specify a `DashboardWidget ` Sterotype in addition to attaching `DashboardPart` part. I think there should be a way to allow us to inject a driver automatically based on conditions (for example stereotype).  Describe the solution you'd like I think we should add a way ""maybe options"" that would allow us to specify which part to attach and when. So we can say attach X part to Y content type everytime ""no optional"". User's can't remove it, but user can change it's position as needed. This will simplify the steps on user need to do for this kind of scenario. Maybe we can add event handling to the content definition manager where we can auto inject a part directly when loading/updating a content type of X stereotype (or any other custom logic). The add a new option to the content part definition ""IsRemovable"" for the UI. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.95
16006,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16006,Configure EnableThreadSafetyChecks for functional tests too," Is your feature request related to a problem? Please describe. The new YesSql option, `EnableThreadSafetyChecks`, is [enabled for some integrations tests](https://github.com/OrchardCMS/OrchardCore/blob/5a45ac58fc5aa24dfca1a1cf0e14b45690be158e/test/OrchardCore.Tests/Apis/Context/SiteStartup.cs#L33). This is good, because it'll make issues like https://github.com/OrchardCMS/OrchardCore/issues/15794 and https://github.com/OrchardCMS/OrchardCore/issues/15628 more apparent by directly failing the tests. However, this is also needed for functional tests for the same reason.  Describe the solution you'd like Most possibly, we need to pass a parameter to the web app when running it [here](https://github.com/OrchardCMS/OrchardCore/blob/5a45ac58fc5aa24dfca1a1cf0e14b45690be158e/test/OrchardCore.Tests.Functional/cypress-commands/src/test-runner.js#L35), and bind it to `EnableThreadSafetyChecks` out of the box. Then, we also need to update the default appsettings.json with an example (but it should still be off by default).  Describe alternatives you've considered I thought about not binding the config by default, but then we'd need to do some testing-specific change in the codebase still.",test-file | config-file | config-file | config-file | config-file | documentation-file | other-file | documentation-file,"Configure EnableThreadSafetyChecks for functional tests too  Is your feature request related to a problem? Please describe. The new YesSql option, `EnableThreadSafetyChecks`, is [enabled for some integrations tests](https://github.com/OrchardCMS/OrchardCore/blob/5a45ac58fc5aa24dfca1a1cf0e14b45690be158e/test/OrchardCore.Tests/Apis/Context/SiteStartup.cs#L33). This is good, because it'll make issues like https://github.com/OrchardCMS/OrchardCore/issues/15794 and https://github.com/OrchardCMS/OrchardCore/issues/15628 more apparent by directly failing the tests. However, this is also needed for functional tests for the same reason.  Describe the solution you'd like Most possibly, we need to pass a parameter to the web app when running it [here](https://github.com/OrchardCMS/OrchardCore/blob/5a45ac58fc5aa24dfca1a1cf0e14b45690be158e/test/OrchardCore.Tests.Functional/cypress-commands/src/test-runner.js#L35), and bind it to `EnableThreadSafetyChecks` out of the box. Then, we also need to update the default appsettings.json with an example (but it should still be off by default).  Describe alternatives you've considered I thought about not binding the config by default, but then we'd need to do some testing-specific change in the codebase still. test-file config-file config-file config-file config-file documentation-file other-file documentation-file",no-bug,0.95
14829,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14829,middleware must be in execution pipeline before UseRouting to 'Configure()' in the application startup code.,"@jtkech maybe this issue due to #14801 But, when I run my app now I get this error > middleware must be in execution pipeline before UseRouting to 'Configure()' in the application startup code. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/f8c881c9-0f9c-4264-80e5-f50b0c9671c6) I am using `IStartupFilter`  services.AddSingleton<IStartupFilter, DetectionStartupFilter>();   public class DetectionStartupFilter : IStartupFilter { public Action<IApplicationBuilder> Configure(Action<IApplicationBuilder> next) { return app => { app.UseDetection(); next(app); }; } }  The error is thrown here https://github.com/wangkanai/wangkanai/blob/2abff4ffcaf15a024b2c0705c941fb9353f2205d/Hosting/src/DependencyInjection/ApplicationBuilderExtensions.cs#L36",other-file,"middleware must be in execution pipeline before UseRouting to 'Configure()' in the application startup code. @jtkech maybe this issue due to #14801 But, when I run my app now I get this error > middleware must be in execution pipeline before UseRouting to 'Configure()' in the application startup code. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/f8c881c9-0f9c-4264-80e5-f50b0c9671c6) I am using `IStartupFilter`  services.AddSingleton<IStartupFilter, DetectionStartupFilter>();   public class DetectionStartupFilter : IStartupFilter { public Action<IApplicationBuilder> Configure(Action<IApplicationBuilder> next) { return app => { app.UseDetection(); next(app); }; } }  The error is thrown here https://github.com/wangkanai/wangkanai/blob/2abff4ffcaf15a024b2c0705c941fb9353f2205d/Hosting/src/DependencyInjection/ApplicationBuilderExtensions.cs#L36 other-file",no-bug,0.9
5790,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5790,A user without the ManageTenants permission can access to the tenants,"Repro: Create a user with the Moderator role and go to the admin, you will be able to see the Tenants menu.",other-file,"A user without the ManageTenants permission can access to the tenants Repro: Create a user with the Moderator role and go to the admin, you will be able to see the Tenants menu. other-file",no-bug,0.9
12479,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12479,"Unit Test reporting ""Fail"" in CI",![image](https://user-images.githubusercontent.com/3228637/191848857-66550697-1cf1-41b9-8922-8f4f31554218.png) The current CI reports issues when running Unit Tests. See the latest Workflow actions to troubleshoot. I'm not sure why as of now but the Unit Tests are not set to a failing state afterward either.,other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Unit Test reporting ""Fail"" in CI ![image](https://user-images.githubusercontent.com/3228637/191848857-66550697-1cf1-41b9-8922-8f4f31554218.png) The current CI reports issues when running Unit Tests. See the latest Workflow actions to troubleshoot. I'm not sure why as of now but the Unit Tests are not set to a failing state afterward either. other-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
14856,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14856,Table in invisible when added inside a Trumbowyg editor,"If you insert a table inside a Trumbowyg editor, it has no border so it is not visible to the user.",other-file | other-file | other-file,"Table in invisible when added inside a Trumbowyg editor If you insert a table inside a Trumbowyg editor, it has no border so it is not visible to the user. other-file other-file other-file",no-bug,0.9
16512,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16512,Unable to enable/disable workflow task from the workflow editor,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug When editing workflow, clicking on any event does not give you the power button where you can enable disable the event. The power button works for events but not for tasks.  Orchard Core version 2.0.0-preview Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code.  To Reproduce Steps to reproduce the behavior: 1. create a workflow 2. add task and try to enable it.  Expected behavior I should be able to enable/disable both task or event.  Logs and screenshots ![image](https://github.com/user-attachments/assets/71d990da-dcd5-4571-86dd-e91816fe1acf) ![image](https://github.com/user-attachments/assets/4f0f4ddb-6d8a-4430-93d0-52e4a5b016ee)",other-file,"Unable to enable/disable workflow task from the workflow editor <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug When editing workflow, clicking on any event does not give you the power button where you can enable disable the event. The power button works for events but not for tasks.  Orchard Core version 2.0.0-preview Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code.  To Reproduce Steps to reproduce the behavior: 1. create a workflow 2. add task and try to enable it.  Expected behavior I should be able to enable/disable both task or event.  Logs and screenshots ![image](https://github.com/user-attachments/assets/71d990da-dcd5-4571-86dd-e91816fe1acf) ![image](https://github.com/user-attachments/assets/4f0f4ddb-6d8a-4430-93d0-52e4a5b016ee) other-file",no-bug,0.9
16561,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16561,Insufficient level of logging in ElasticSearch IndexingBackgroundTask," Describe the bug I have an instance of OrchardCore with enabled ElasticSearch indexing and IndexingBackgroundTask. Several times per day I see in logs following error  ""message"":""Error while processing background task '\""OrchardCore.Search.Elasticsearch.Core.Services.IndexingBackgroundTask\""' on tenant '\""Default\""'."", ""exception"":""System.InvalidOperationException: Operation is not valid due to the current state of the object. at OrchardCore.Search.Elasticsearch.Core.Services.ElasticIndexManager.GetLastTaskId(String indexName) at OrchardCore.Search.Elasticsearch.Core.Services.ElasticIndexingService.ProcessContentItemsAsync(String indexName) at OrchardCore.Modules.ModularBackgroundService.<>c__DisplayClass11_2.<<RunAsync>b__1>d.MoveNext()"", ""task_name"":""OrchardCore.Search.Elasticsearch.Core.Services.IndexingBackgroundTask""  Of course it can be something with my instance of Elasticsearch but current level of logging does not allow to make some further investigation.  Orchard Core version 1.8.2  Expected behavior I expect to see error details from ElasticSearch request.",other-file | other-file | other-file,"Insufficient level of logging in ElasticSearch IndexingBackgroundTask  Describe the bug I have an instance of OrchardCore with enabled ElasticSearch indexing and IndexingBackgroundTask. Several times per day I see in logs following error  ""message"":""Error while processing background task '\""OrchardCore.Search.Elasticsearch.Core.Services.IndexingBackgroundTask\""' on tenant '\""Default\""'."", ""exception"":""System.InvalidOperationException: Operation is not valid due to the current state of the object. at OrchardCore.Search.Elasticsearch.Core.Services.ElasticIndexManager.GetLastTaskId(String indexName) at OrchardCore.Search.Elasticsearch.Core.Services.ElasticIndexingService.ProcessContentItemsAsync(String indexName) at OrchardCore.Modules.ModularBackgroundService.<>c__DisplayClass11_2.<<RunAsync>b__1>d.MoveNext()"", ""task_name"":""OrchardCore.Search.Elasticsearch.Core.Services.IndexingBackgroundTask""  Of course it can be something with my instance of Elasticsearch but current level of logging does not allow to make some further investigation.  Orchard Core version 1.8.2  Expected behavior I expect to see error details from ElasticSearch request. other-file other-file other-file",no-bug,0.9
5517,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5517,"Liquid ""limit"" and ""offset"" No Longer Work","In earlier versions of Orchared Core (maybe it is Fluid related, not sure) ""limit"" and ""offset"" worked fine. However, using this made up example you can test that it no longer works:  {% assign array = '1,2,3,4' | split: ',' %} {{ array | size }} {% comment %} outputs 4 {% endcomment %} {% for item in array limit:2 %} {{ item }} {% endfor %} {% for item in array offset:2 %} {{ item }} {% endfor %}  Instead, it throws this error:  ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.  The issue stems from the ""limit"" filter or ""offset"" filter (both used to work and now neither seems to). I have not traced it back to see if it is Orchard Core or Fluid",other-file,"Liquid ""limit"" and ""offset"" No Longer Work In earlier versions of Orchared Core (maybe it is Fluid related, not sure) ""limit"" and ""offset"" worked fine. However, using this made up example you can test that it no longer works:  {% assign array = '1,2,3,4' | split: ',' %} {{ array | size }} {% comment %} outputs 4 {% endcomment %} {% for item in array limit:2 %} {{ item }} {% endfor %} {% for item in array offset:2 %} {{ item }} {% endfor %}  Instead, it throws this error:  ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.  The issue stems from the ""limit"" filter or ""offset"" filter (both used to work and now neither seems to). I have not traced it back to see if it is Orchard Core or Fluid other-file",no-bug,0.9
11924,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11924,Add Manage Steps to the button to the deployemnt and add description to the feature," Is your feature request related to a problem? Please describe. When viewing deployment plans on the UI, clicking the title directs the user manage steps page which is great. However, there is no other indication about managing steps. In other words, the user does not know the different between edit or manage steps.  Describe the solution you'd like I think we should add a button called ""Manage Steps"" that also direct the user to the manage deployment plans. This way the user can easily understand that there are 2 edit function here (i.e., one for Editing the the steps and the other one for editing the deployment plant itself.) Also the Deployment feature should have some sort of description like `Provides a way to import and export packages`",other-file | other-file | other-file | other-file,"Add Manage Steps to the button to the deployemnt and add description to the feature  Is your feature request related to a problem? Please describe. When viewing deployment plans on the UI, clicking the title directs the user manage steps page which is great. However, there is no other indication about managing steps. In other words, the user does not know the different between edit or manage steps.  Describe the solution you'd like I think we should add a button called ""Manage Steps"" that also direct the user to the manage deployment plans. This way the user can easily understand that there are 2 edit function here (i.e., one for Editing the the steps and the other one for editing the deployment plant itself.) Also the Deployment feature should have some sort of description like `Provides a way to import and export packages` other-file other-file other-file other-file",no-bug,0.95
9245,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9245,Remove OrchardCore.Application.Targets dependency on YesSql,"Using the modular application scenario, you must be able to choose your data access layer, or even not use anyone. Actually there is a dependency on YesSql and by cascade on Dapper. Dependency graph : `OrchardCore.Application.Targets` => `OrchardCore` => `OrchardCore.Infrastructure.Abstractions` => `OrchardCore.Data.Abstractions` => `YesSql.Core` I think `OrchardCore.Data.Abstractions`, as an abstraction layer, should not rely on a specific implementation. Related discussion [here](https://github.com/OrchardCMS/OrchardCore/discussions/7716#discussioncomment-140165)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Remove OrchardCore.Application.Targets dependency on YesSql Using the modular application scenario, you must be able to choose your data access layer, or even not use anyone. Actually there is a dependency on YesSql and by cascade on Dapper. Dependency graph : `OrchardCore.Application.Targets` => `OrchardCore` => `OrchardCore.Infrastructure.Abstractions` => `OrchardCore.Data.Abstractions` => `YesSql.Core` I think `OrchardCore.Data.Abstractions`, as an abstraction layer, should not rely on a specific implementation. Related discussion [here](https://github.com/OrchardCMS/OrchardCore/discussions/7716#discussioncomment-140165) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8608,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8608,Adding Widget without layer breaks site," Adding Widget without layer breaks site There is no restriction in admin from creating a widget not assigned to any layer. Adding such widget breaks the site : ![Capture dcran 2021-02-16 151630](https://user-images.githubusercontent.com/7600804/108074882-fa691600-7069-11eb-9da3-a34f39c3e2eb.png)  To Reproduce Steps to reproduce the behavior: 1. Setup a new CMS instance with ""Blank"" template 2. Go to Content > Content Definition > Content Types and create a widget (eg. Html widget) 3. Go to Design > Settings > Zones and add a Zone (eg. Footer) 4. Go to Design > Widgets and click ""Add Widget"" (note the message ""Please create a layer before adding Widgets"" but it's still possible to create one) 5. Fill the form and Publish your widget 6. Open your site : its broken  Expected behavior - Don't allow to publish widget without layer - Don't throw if layer is missing",other-file | other-file | other-file | other-file,"Adding Widget without layer breaks site  Adding Widget without layer breaks site There is no restriction in admin from creating a widget not assigned to any layer. Adding such widget breaks the site : ![Capture dcran 2021-02-16 151630](https://user-images.githubusercontent.com/7600804/108074882-fa691600-7069-11eb-9da3-a34f39c3e2eb.png)  To Reproduce Steps to reproduce the behavior: 1. Setup a new CMS instance with ""Blank"" template 2. Go to Content > Content Definition > Content Types and create a widget (eg. Html widget) 3. Go to Design > Settings > Zones and add a Zone (eg. Footer) 4. Go to Design > Widgets and click ""Add Widget"" (note the message ""Please create a layer before adding Widgets"" but it's still possible to create one) 5. Fill the form and Publish your widget 6. Open your site : its broken  Expected behavior - Don't allow to publish widget without layer - Don't throw if layer is missing other-file other-file other-file other-file",no-bug,0.9
15673,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15673,Error with Content Culture Picker and TheTheme,"When I enable the `Content Culture Picker` and use the Default theme, there is an error on the home page (Saas recipe): `RuntimeBinderException: 'OrchardCore.DisplayManagement.Views.ShapeViewModel<OrchardCore.Admin.Models.Navbar>' does not contain a definition for 'CurrentCulture'`  AspNetCoreGeneratedDocument.Views_ContentCulturePicker.ExecuteAsync() in ContentCulturePicker.cshtml line 23 if (culture.Name != Model.CurrentCulture.Name)  ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/db70bb59-7313-4f02-b67e-8c5da541d669)",other-file | other-file,"Error with Content Culture Picker and TheTheme When I enable the `Content Culture Picker` and use the Default theme, there is an error on the home page (Saas recipe): `RuntimeBinderException: 'OrchardCore.DisplayManagement.Views.ShapeViewModel<OrchardCore.Admin.Models.Navbar>' does not contain a definition for 'CurrentCulture'`  AspNetCoreGeneratedDocument.Views_ContentCulturePicker.ExecuteAsync() in ContentCulturePicker.cshtml line 23 if (culture.Name != Model.CurrentCulture.Name)  ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/db70bb59-7313-4f02-b67e-8c5da541d669) other-file other-file",no-bug,0.9
5921,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5921,ShapeTableProvider from feature not recognized,"When adding an `IShapeTableProvider` as a feature the descriptor is not recognized by the `ShapeTableManager` until the site is hard reset. I think the static Shape Descriptor Dictionary already has an entry for the Feature, that the `IShapeTableProvider` is altering, so the new alteration is skipped on rebuild of the shape table. Clearing the `_shapeDescriptors.Clear()` resolves the issue, but not in a good way. For repro refer https://github.com/OrchardCMS/OrchardCore/pull/5862",other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file,"ShapeTableProvider from feature not recognized When adding an `IShapeTableProvider` as a feature the descriptor is not recognized by the `ShapeTableManager` until the site is hard reset. I think the static Shape Descriptor Dictionary already has an entry for the Feature, that the `IShapeTableProvider` is altering, so the new alteration is skipped on rebuild of the shape table. Clearing the `_shapeDescriptors.Clear()` resolves the issue, but not in a good way. For repro refer https://github.com/OrchardCMS/OrchardCore/pull/5862 other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file",no-bug,0.9
6811,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6811,Consider giving the localization module an explicit (negative) order to ensure it's always invoked early enough,"Currently, the localization module doesn't play well with the new OpenIddict 3.0 beta3 built-in localization support as it's not invoked early enough to have a chance to set `CurrentCulture`/`CurrentUICulture` before OpenIddict returns an error message. @jtkech any idea what would be an ideal value for `Order` here?",other-file,"Consider giving the localization module an explicit (negative) order to ensure it's always invoked early enough Currently, the localization module doesn't play well with the new OpenIddict 3.0 beta3 built-in localization support as it's not invoked early enough to have a chance to set `CurrentCulture`/`CurrentUICulture` before OpenIddict returns an error message. @jtkech any idea what would be an ideal value for `Order` here? other-file",no-bug,0.9
11088,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11088,Placement is not applied to ContentPart_Edit," Describe the bug When placement is defined for `ContentPart_Edit` none of them applied /cc @kdubious json { ""ContentPart_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container"" ] } ], ""BackgroundColor_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container"" ] } ], ""BootstrapColor_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container"" ] } ] }   To Reproduce Steps to reproduce the behavior: 1. Create Part `BootstrapColor` with `TextField` with PredefinedList as editor 2. Select Reusable 2. Add `BootstrapColor` Part as named part to `Container` content type with name `BackgroundColor ` 3. Add any of following placement rule in placement.json to hide . <br/> `""ContentPart_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container""], ""contentPart"" : [""BootstrapColor""], ""differentiator"": ""BackgroundColor"" } ]` OR <br/> `""BootstrapColor_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container""], ""contentPart"" : [""BootstrapColor""], ""differentiator"": ""BackgroundColor"" } ]` OR <br/> `""BootstrapColor"": [ { ""place"": ""-"", ""displayType"": ""Edit"", ""contentType"": [ ""Container""], ""contentPart"" : [""BootstrapColor""], ""differentiator"": ""BackgroundColor"" } ]` 4. See part is still visible while editing and placement rule is not applied.  Expected behavior The placement should apply  Screenshots NONE",other-file | other-file | other-file | other-file,"Placement is not applied to ContentPart_Edit  Describe the bug When placement is defined for `ContentPart_Edit` none of them applied /cc @kdubious json { ""ContentPart_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container"" ] } ], ""BackgroundColor_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container"" ] } ], ""BootstrapColor_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container"" ] } ] }   To Reproduce Steps to reproduce the behavior: 1. Create Part `BootstrapColor` with `TextField` with PredefinedList as editor 2. Select Reusable 2. Add `BootstrapColor` Part as named part to `Container` content type with name `BackgroundColor ` 3. Add any of following placement rule in placement.json to hide . <br/> `""ContentPart_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container""], ""contentPart"" : [""BootstrapColor""], ""differentiator"": ""BackgroundColor"" } ]` OR <br/> `""BootstrapColor_Edit"": [ { ""place"": ""-"", ""contentType"": [ ""Container""], ""contentPart"" : [""BootstrapColor""], ""differentiator"": ""BackgroundColor"" } ]` OR <br/> `""BootstrapColor"": [ { ""place"": ""-"", ""displayType"": ""Edit"", ""contentType"": [ ""Container""], ""contentPart"" : [""BootstrapColor""], ""differentiator"": ""BackgroundColor"" } ]` 4. See part is still visible while editing and placement rule is not applied.  Expected behavior The placement should apply  Screenshots NONE other-file other-file other-file other-file",no-bug,0.9
10986,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10986,Improve BagPart," Is your feature request related to a problem? Please describe. When creating multiple similar items into a BagPart, it would be nice to have a clone function.  Describe the solution you'd like Add a button to clone an item in a bag by adding a button next to the delete button. Also, when there is only one item type that can be added, instead of showing `Add Item`, show `Add [ItemDisplayText]. This just saved 1 extra click X the amount of items to add. The view will look something like this  @using OrchardCore.Flows.Models; @using OrchardCore.Flows.ViewModels; @using OrchardCore.Mvc.Utilities; @model BagPartEditViewModel @inject IContentManager ContentManager @inject OrchardCore.ContentManagement.Metadata.IContentDefinitionManager ContentDefinitionManager @inject OrchardCore.ContentManagement.Display.IContentItemDisplayManager ContentItemDisplayManager @{ var widgetTemplatePlaceholderId = Html.Id(""widgetTemplatePlaceholder""); var htmlFieldPrefix = ViewContext.ViewData.TemplateInfo.HtmlFieldPrefix; var parentContentType = Model.BagPart.ContentItem.ContentType; string partName = ((dynamic)Model).Metadata.Name; var totalItems = Model.ContainedContentTypeDefinitions.Count(); } <script asp-name=""jQuery-ui"" at=""Foot""></script> <div class=""form-group""> <div id=""@widgetTemplatePlaceholderId"" class=""widget-template-placeholder widget-template-placeholder-bagpart bagpart-@partName.HtmlClassify() row mx-0"" data-buildeditorurl=""@Url.Action(""BuildEditor"", ""Admin"", new { area = ""OrchardCore.Flows"" })""> @{ var index = 0; foreach (var widget in Model.BagPart.ContentItems) { //Create a Card Shape dynamic contentCard = await New.ContentCard( // FOR Updater CollectionShape: Model, //Shape Specific CollectionShapeType: nameof(BagPart), ContentItem: widget, BuildEditor: true, ParentContentType: parentContentType, CollectionPartName: partName, //Card Specific Properties TargetId: widgetTemplatePlaceholderId, Inline: false, CanMove: true, CanDelete: true, //Input hidden //Prefixes HtmlFieldPrefix: htmlFieldPrefix, PrefixValue: htmlFieldPrefix + '-' + (index++).ToString(), PrefixesId: Html.IdFor(x => x.Prefixes), PrefixesName: Html.NameFor(x => x.Prefixes), //Content Types ContentTypesId: Html.IdFor(x => x.ContentTypes), ContentTypesName: Html.NameFor(x => x.ContentTypes), //Content Items ContentItemsId: Html.IdFor(x => x.ContentItems), ContentItemsName: Html.NameFor(x => x.ContentItems) ); @await DisplayAsync(contentCard) } } </div> @if (totalItems == 1) { var type = Model.ContainedContentTypeDefinitions.First(); <a class=""btn btn-primary add-widget btn-sm"" data-target-id=""@widgetTemplatePlaceholderId"" data-html-field-prefix=""@htmlFieldPrefix"" data-prefixes-name=""@Html.NameFor(x => x.Prefixes)"" data-contenttypes-name=""@Html.NameFor(x => x.ContentTypes)"" data-contentitems-name=""@Html.NameFor(x => x.ContentItems)"" data-widget-type=""@type.Name"" data-flowmetadata=""false"" data-parent-content-type=""@parentContentType"" data-part-name=""@partName"" href=""javascript:;"">@type.DisplayName</a> } else if (totalItems > 1) { <div class=""btn-group btn-bag-add""> <button type=""button"" class=""btn btn-primary btn-sm dropdown-toggle"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false""> @T[""Add Item""] </button> <div class=""dropdown-menu""> @foreach (var type in Model.ContainedContentTypeDefinitions) { <a class=""dropdown-item add-widget btn-sm"" data-target-id=""@widgetTemplatePlaceholderId"" data-html-field-prefix=""@htmlFieldPrefix"" data-prefixes-name=""@Html.NameFor(x => x.Prefixes)"" data-contenttypes-name=""@Html.NameFor(x => x.ContentTypes)"" data-contentitems-name=""@Html.NameFor(x => x.ContentItems)"" data-widget-type=""@type.Name"" data-flowmetadata=""false"" data-parent-content-type=""@parentContentType"" data-part-name=""@partName"" href=""javascript:;"">@type.DisplayName</a> } </div> </div> } @* Rendered only once in case multiple BagPart (or FlowPart) are on the page *@ @if (Context.Items[""BagPart.Edit""] == null) { Context.Items[""BagPart.Edit""] = new object(); <script asp-src=""~/OrchardCore.Flows/Scripts/flows.edit.min.js"" debug-src=""~/OrchardCore.Flows/Scripts/flows.edit.js"" at=""Foot"" depends-on=""admin""></script> <style asp-src=""~/OrchardCore.Widgets/Styles/widgetslist.edit.min.css"" debug-src=""~/OrchardCore.Widgets/Styles/widgetslist.edit.css""></style> <style asp-src=""~/OrchardCore.Flows/Styles/flows.edit.min.css"" debug-src=""~/OrchardCore.Flows/Styles/flows.edit.css""></style> } @* Rendered only once per type to initialize the scripts its editor will need *@ @foreach (var type in Model.ContainedContentTypeDefinitions) { @if (Context.Items[""BagPart.Edit:"" + type.Name] == null) { Context.Items[""BagPart.Edit:"" + type.Name] = new object(); // Render a mock widget so that its resources are included in the page var contentItem = await ContentManager.NewAsync(type.Name); await DisplayAsync(await ContentItemDisplayManager.BuildEditorAsync(contentItem, Model.Updater, true, """", Guid.NewGuid().ToString(""n""; } } <script at=""Foot""> @*Only apply sortable if element is present in dom, do not call sortable on scripts for mock widgets *@ if ($('#@widgetTemplatePlaceholderId').length == 1) { $(""#@widgetTemplatePlaceholderId"").sortable({ handle: "".widget-editor-handle"", cursor: ""move"", opacity: 0.7, tolerance: ""pointer"", placeholder: { element: function(currentItem) { return $('<div class=""widget-dragdrop-placeholder""><div></div></div>')[0]; }, update: function (container, p) { return; } }, toleranceElement: '> div', start: function (event, ui) { widgetDragItem = ui.item; lastContainer = ui.item.parent(); lastContainer.toggleClass('widget-dropzone-hint'); widgetDragItem.find('.card').first().toggleClass('border-primary'); var classList = widgetDragItem.attr('class').split(' '); $.each(classList, function (id, item) { if (item.indexOf('col-md-')  0) ui.placeholder.addClass(item); }); }, stop: function (event, ui) { lastContainer.toggleClass('widget-dropzone-hint'); widgetDragItem.find('.card').first().toggleClass('border-primary'); //clear the global variables widgetDragItem = null; lastContainer = null; widgetItemSourceId = null; widgetItemDestId = null; $(document).trigger('contentpreview:render'); }, over: function (event, ui) { var $self = $(this); if (lastContainer[0] != this) { lastContainer.toggleClass('widget-dropzone-hint'); lastContainer = $self; $self.toggleClass('widget-dropzone-hint'); } } }); } </script> </div> ",other-file | other-file | other-file,"Improve BagPart  Is your feature request related to a problem? Please describe. When creating multiple similar items into a BagPart, it would be nice to have a clone function.  Describe the solution you'd like Add a button to clone an item in a bag by adding a button next to the delete button. Also, when there is only one item type that can be added, instead of showing `Add Item`, show `Add [ItemDisplayText]. This just saved 1 extra click X the amount of items to add. The view will look something like this  @using OrchardCore.Flows.Models; @using OrchardCore.Flows.ViewModels; @using OrchardCore.Mvc.Utilities; @model BagPartEditViewModel @inject IContentManager ContentManager @inject OrchardCore.ContentManagement.Metadata.IContentDefinitionManager ContentDefinitionManager @inject OrchardCore.ContentManagement.Display.IContentItemDisplayManager ContentItemDisplayManager @{ var widgetTemplatePlaceholderId = Html.Id(""widgetTemplatePlaceholder""); var htmlFieldPrefix = ViewContext.ViewData.TemplateInfo.HtmlFieldPrefix; var parentContentType = Model.BagPart.ContentItem.ContentType; string partName = ((dynamic)Model).Metadata.Name; var totalItems = Model.ContainedContentTypeDefinitions.Count(); } <script asp-name=""jQuery-ui"" at=""Foot""></script> <div class=""form-group""> <div id=""@widgetTemplatePlaceholderId"" class=""widget-template-placeholder widget-template-placeholder-bagpart bagpart-@partName.HtmlClassify() row mx-0"" data-buildeditorurl=""@Url.Action(""BuildEditor"", ""Admin"", new { area = ""OrchardCore.Flows"" })""> @{ var index = 0; foreach (var widget in Model.BagPart.ContentItems) { //Create a Card Shape dynamic contentCard = await New.ContentCard( // FOR Updater CollectionShape: Model, //Shape Specific CollectionShapeType: nameof(BagPart), ContentItem: widget, BuildEditor: true, ParentContentType: parentContentType, CollectionPartName: partName, //Card Specific Properties TargetId: widgetTemplatePlaceholderId, Inline: false, CanMove: true, CanDelete: true, //Input hidden //Prefixes HtmlFieldPrefix: htmlFieldPrefix, PrefixValue: htmlFieldPrefix + '-' + (index++).ToString(), PrefixesId: Html.IdFor(x => x.Prefixes), PrefixesName: Html.NameFor(x => x.Prefixes), //Content Types ContentTypesId: Html.IdFor(x => x.ContentTypes), ContentTypesName: Html.NameFor(x => x.ContentTypes), //Content Items ContentItemsId: Html.IdFor(x => x.ContentItems), ContentItemsName: Html.NameFor(x => x.ContentItems) ); @await DisplayAsync(contentCard) } } </div> @if (totalItems == 1) { var type = Model.ContainedContentTypeDefinitions.First(); <a class=""btn btn-primary add-widget btn-sm"" data-target-id=""@widgetTemplatePlaceholderId"" data-html-field-prefix=""@htmlFieldPrefix"" data-prefixes-name=""@Html.NameFor(x => x.Prefixes)"" data-contenttypes-name=""@Html.NameFor(x => x.ContentTypes)"" data-contentitems-name=""@Html.NameFor(x => x.ContentItems)"" data-widget-type=""@type.Name"" data-flowmetadata=""false"" data-parent-content-type=""@parentContentType"" data-part-name=""@partName"" href=""javascript:;"">@type.DisplayName</a> } else if (totalItems > 1) { <div class=""btn-group btn-bag-add""> <button type=""button"" class=""btn btn-primary btn-sm dropdown-toggle"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false""> @T[""Add Item""] </button> <div class=""dropdown-menu""> @foreach (var type in Model.ContainedContentTypeDefinitions) { <a class=""dropdown-item add-widget btn-sm"" data-target-id=""@widgetTemplatePlaceholderId"" data-html-field-prefix=""@htmlFieldPrefix"" data-prefixes-name=""@Html.NameFor(x => x.Prefixes)"" data-contenttypes-name=""@Html.NameFor(x => x.ContentTypes)"" data-contentitems-name=""@Html.NameFor(x => x.ContentItems)"" data-widget-type=""@type.Name"" data-flowmetadata=""false"" data-parent-content-type=""@parentContentType"" data-part-name=""@partName"" href=""javascript:;"">@type.DisplayName</a> } </div> </div> } @* Rendered only once in case multiple BagPart (or FlowPart) are on the page *@ @if (Context.Items[""BagPart.Edit""] == null) { Context.Items[""BagPart.Edit""] = new object(); <script asp-src=""~/OrchardCore.Flows/Scripts/flows.edit.min.js"" debug-src=""~/OrchardCore.Flows/Scripts/flows.edit.js"" at=""Foot"" depends-on=""admin""></script> <style asp-src=""~/OrchardCore.Widgets/Styles/widgetslist.edit.min.css"" debug-src=""~/OrchardCore.Widgets/Styles/widgetslist.edit.css""></style> <style asp-src=""~/OrchardCore.Flows/Styles/flows.edit.min.css"" debug-src=""~/OrchardCore.Flows/Styles/flows.edit.css""></style> } @* Rendered only once per type to initialize the scripts its editor will need *@ @foreach (var type in Model.ContainedContentTypeDefinitions) { @if (Context.Items[""BagPart.Edit:"" + type.Name] == null) { Context.Items[""BagPart.Edit:"" + type.Name] = new object(); // Render a mock widget so that its resources are included in the page var contentItem = await ContentManager.NewAsync(type.Name); await DisplayAsync(await ContentItemDisplayManager.BuildEditorAsync(contentItem, Model.Updater, true, """", Guid.NewGuid().ToString(""n""; } } <script at=""Foot""> @*Only apply sortable if element is present in dom, do not call sortable on scripts for mock widgets *@ if ($('#@widgetTemplatePlaceholderId').length == 1) { $(""#@widgetTemplatePlaceholderId"").sortable({ handle: "".widget-editor-handle"", cursor: ""move"", opacity: 0.7, tolerance: ""pointer"", placeholder: { element: function(currentItem) { return $('<div class=""widget-dragdrop-placeholder""><div></div></div>')[0]; }, update: function (container, p) { return; } }, toleranceElement: '> div', start: function (event, ui) { widgetDragItem = ui.item; lastContainer = ui.item.parent(); lastContainer.toggleClass('widget-dropzone-hint'); widgetDragItem.find('.card').first().toggleClass('border-primary'); var classList = widgetDragItem.attr('class').split(' '); $.each(classList, function (id, item) { if (item.indexOf('col-md-')  0) ui.placeholder.addClass(item); }); }, stop: function (event, ui) { lastContainer.toggleClass('widget-dropzone-hint'); widgetDragItem.find('.card').first().toggleClass('border-primary'); //clear the global variables widgetDragItem = null; lastContainer = null; widgetItemSourceId = null; widgetItemDestId = null; $(document).trigger('contentpreview:render'); }, over: function (event, ui) { var $self = $(this); if (lastContainer[0] != this) { lastContainer.toggleClass('widget-dropzone-hint'); lastContainer = $self; $self.toggleClass('widget-dropzone-hint'); } } }); } </script> </div>  other-file other-file other-file",no-bug,0.9
6436,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6436,Insert Media will insert into all open Trumbowyg editors,"1. Set up site with the Blog recipe. 2. Change the Raw Html Widget's Html Field to use the Trumbowyg editor. 3. Add two Raw Html widgets to a Page. 4. Insert Media (any image provided by the recipe) to one of the open editors. So far so good. 5. Insert different Media into the other editor. Now both editors have the same `[image]` tags, i.e. the tags were overridden in both editors. 6. Repeated Media insertion will also overwrite tags in the other editor. Repro (only managed to insert the first image on the second try :)): ![Media insert bug](https://user-images.githubusercontent.com/1976647/84714436-efeffd00-af6d-11ea-800c-59b792466bc8.gif)",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Insert Media will insert into all open Trumbowyg editors 1. Set up site with the Blog recipe. 2. Change the Raw Html Widget's Html Field to use the Trumbowyg editor. 3. Add two Raw Html widgets to a Page. 4. Insert Media (any image provided by the recipe) to one of the open editors. So far so good. 5. Insert different Media into the other editor. Now both editors have the same `[image]` tags, i.e. the tags were overridden in both editors. 6. Repeated Media insertion will also overwrite tags in the other editor. Repro (only managed to insert the first image on the second try :)): ![Media insert bug](https://user-images.githubusercontent.com/1976647/84714436-efeffd00-af6d-11ea-800c-59b792466bc8.gif) source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
17216,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17216,Custom roles overwritten after upgrading to OC 2.1.x,"I am using custom roles where RoleClaims is empty (director, sales manager): ![image](https://github.com/user-attachments/assets/43704a4a-4276-4bf4-a9af-550dd95198af) After upgrading to Orchard Core 2.1.x (from 2.0.2), I noticed that all users are assigned the `Administrator` role. I suspect the issue is related to the following line of code: https://github.com/OrchardCMS/OrchardCore/blob/4ab7c345f3c1f57e8fe4f7bcf173e86ad41aa5d8/src/OrchardCore.Modules/OrchardCore.Roles/Migrations/RolesMigrations.cs#L46",other-file | documentation-file,"Custom roles overwritten after upgrading to OC 2.1.x I am using custom roles where RoleClaims is empty (director, sales manager): ![image](https://github.com/user-attachments/assets/43704a4a-4276-4bf4-a9af-550dd95198af) After upgrading to Orchard Core 2.1.x (from 2.0.2), I noticed that all users are assigned the `Administrator` role. I suspect the issue is related to the following line of code: https://github.com/OrchardCMS/OrchardCore/blob/4ab7c345f3c1f57e8fe4f7bcf173e86ad41aa5d8/src/OrchardCore.Modules/OrchardCore.Roles/Migrations/RolesMigrations.cs#L46 other-file documentation-file",no-bug,0.8
6206,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6206,Display mode for parts and named shapes issue.,"After creating display mode for various custom parts (added by this pr #5329) and then tried to alter alter shapes position in my Content.cshtml using with the new part display mode :  @await DisplayAsync(Model.Content.TitlePart) @{Model.Content.Remove(""TitlePart"")};  This does not work. Instead you have to use the name of the custom display mode eg :  @await DisplayAsync(Model.Content.Named(""TitlePart-TitlePart_Display__MyCustomDisplayMode"")) @{Model.Content.Remove(""TitlePart-TitlePart_Display__MyCustomDisplayMode"")};  This is a bit cumbersome , having to know the display mode applied to work with the shape. Would it be possible to preserve the original part name , so you could work with shape part name , regardless of the display mode. ? So shape.Metadata.Name = ""TitlePart"" will not change based on the display mode ? @deanmarcussen Thanks.",other-file | other-file | other-file,"Display mode for parts and named shapes issue. After creating display mode for various custom parts (added by this pr #5329) and then tried to alter alter shapes position in my Content.cshtml using with the new part display mode :  @await DisplayAsync(Model.Content.TitlePart) @{Model.Content.Remove(""TitlePart"")};  This does not work. Instead you have to use the name of the custom display mode eg :  @await DisplayAsync(Model.Content.Named(""TitlePart-TitlePart_Display__MyCustomDisplayMode"")) @{Model.Content.Remove(""TitlePart-TitlePart_Display__MyCustomDisplayMode"")};  This is a bit cumbersome , having to know the display mode applied to work with the shape. Would it be possible to preserve the original part name , so you could work with shape part name , regardless of the display mode. ? So shape.Metadata.Name = ""TitlePart"" will not change based on the display mode ? @deanmarcussen Thanks. other-file other-file other-file",no-bug,0.9
16431,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16431,'System.Dynamic.ExpandoObject' does not contain a definition for 'propertiesToUpdate'," Describe the bug if we use `UseScriptToSyncRoles` option in the login settings and provide a script that does not use `propertiesToUpdate` property, we get the following exception.  eUserAsync threw an exception Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'System.Dynamic.ExpandoObject' does not contain a definition for 'propertiesToUpdate' at CallSite.Target(Closure, CallSite, Object) at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0) at CallSite.Target(Closure, CallSite, Object) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserInternal(UpdateUserContext context, LoginSettings loginSettings) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserAsync(UpdateUserContext context) at OrchardCore.Users.Controllers.AccountController.ExternalLoginSignInAsync(IUser user, ExternalLoginInfo info) at CallSite.Target(Closure, CallSite, Object) at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0) at CallSite.Target(Closure, CallSite, Object) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserInternal(UpdateUserContext context, LoginSettings loginSettings) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserAsync(UpdateUserContext context) at OrchardCore.Users.Controllers.AccountController.ExternalLoginSignInAsync(IUser user, ExternalLoginInfo info)   Orchard Core version main",other-file | other-file,"'System.Dynamic.ExpandoObject' does not contain a definition for 'propertiesToUpdate'  Describe the bug if we use `UseScriptToSyncRoles` option in the login settings and provide a script that does not use `propertiesToUpdate` property, we get the following exception.  eUserAsync threw an exception Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'System.Dynamic.ExpandoObject' does not contain a definition for 'propertiesToUpdate' at CallSite.Target(Closure, CallSite, Object) at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0) at CallSite.Target(Closure, CallSite, Object) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserInternal(UpdateUserContext context, LoginSettings loginSettings) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserAsync(UpdateUserContext context) at OrchardCore.Users.Controllers.AccountController.ExternalLoginSignInAsync(IUser user, ExternalLoginInfo info) at CallSite.Target(Closure, CallSite, Object) at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0) at CallSite.Target(Closure, CallSite, Object) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserInternal(UpdateUserContext context, LoginSettings loginSettings) at OrchardCore.Users.Handlers.ScriptExternalLoginEventHandler.UpdateUserAsync(UpdateUserContext context) at OrchardCore.Users.Controllers.AccountController.ExternalLoginSignInAsync(IUser user, ExternalLoginInfo info)   Orchard Core version main other-file other-file",no-bug,0.8
14487,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14487,Add new `Navbar` shape to allow other to easily inject item into the top navigation bar, Is your feature request related to a problem? Please describe. It is hard to current inject custom items into the Navbar. We also seems to have multiple shapes to act as menu items. Introduce a single `Navbar` shape like we did in `UserMenu` which allow us to easily inject items using driver instead of global filters.,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file,Add new `Navbar` shape to allow other to easily inject item into the top navigation bar  Is your feature request related to a problem? Please describe. It is hard to current inject custom items into the Navbar. We also seems to have multiple shapes to act as menu items. Introduce a single `Navbar` shape like we did in `UserMenu` which allow us to easily inject items using driver instead of global filters. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file,no-bug,0.95
11904,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11904,TypeFeatureProvider throws if a Razor Page has no PageModel," Describe the bug We now can use the `[Feature()]` attribute on a razor `PageModel` and we use the `ITypeFeatureProvider` to retrieve the feature related to a given `PageModel`. The problem is that when no `PageModel` is defined for a razor page, e.g. only `@functions` handlers, the related page `ModelType` is then of type `Object`. In that case `ITypeFeatureProvider.GetFeatureForDependency(pageModelType)` throw an exception.  To Reproduce Steps to reproduce the behavior: 1. Create a Razor @page without defining a `PageModel` (e.g. only `@functions` handlers). 2. Start the app and see `_typeFeatureProvider` failing.  Expected behavior A Razor @page without defining a `PageModel` should work. Fixed on my side, will push a PR",other-file | other-file,"TypeFeatureProvider throws if a Razor Page has no PageModel  Describe the bug We now can use the `[Feature()]` attribute on a razor `PageModel` and we use the `ITypeFeatureProvider` to retrieve the feature related to a given `PageModel`. The problem is that when no `PageModel` is defined for a razor page, e.g. only `@functions` handlers, the related page `ModelType` is then of type `Object`. In that case `ITypeFeatureProvider.GetFeatureForDependency(pageModelType)` throw an exception.  To Reproduce Steps to reproduce the behavior: 1. Create a Razor @page without defining a `PageModel` (e.g. only `@functions` handlers). 2. Start the app and see `_typeFeatureProvider` failing.  Expected behavior A Razor @page without defining a `PageModel` should work. Fixed on my side, will push a PR other-file other-file",no-bug,0.9
15505,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15505,Inconsistent JObject.SelectNode() behavior and feature loss," Describe the bug I have a few concerns with the new `JObject.SelectNode()` extension method: If you try to use it on a content part's `Content` property, it won't work unless you re-serialize the JSON object first, e.g.: csharp var content = (JsonObject)contentElement.Content; content.SelectNode(path); // This is null. JsonSerializer.SerializeToNode(content).SelectNode(path); // This is not null.  Also you can't chain `SelectNode` calls, the second call will still search from the same position, e.g.: ![image](https://github.com/OrchardCMS/OrchardCore/assets/4007293/feae5df1-1a00-4f3a-86f4-2a77e63680a3) I think when you query a `JsonObject`, it tries to query from its document root instead of the current element. This is unexpected. Finally, I'm not sure if anyone is affected, but after the migration to STJ we have lost full compliant JSONPath query support. The documentation of `JObject.SelectNode()` extension method [claims that it searches using ""a JSON path""](https://github.com/OrchardCMS/OrchardCore/blob/50583b0644fe90f0a7253c78885504c910c4175a/src/OrchardCore/OrchardCore.Abstractions/Json/Nodes/JObject.cs#L89), however this is misleading because it's compliant with [the JSONPath specification](https://www.ietf.org/archive/id/draft-goessner-dispatch-jsonpath-00.html). An example of a query that should work but doesn't (using the same JSON as above): csharp var data = JsonNode.Parse(""{\""SelectedContentItem\"":{\""ContentItemIds\"":[\""48yrgcwkhv7hkwarvtzpw3ccms\""]},\""Name\"":\""My Content\""}""); data.SelectNode(""SelectedContentItem.ContentItemIds""); // works, result: [ ""48yrgcwkhv7hkwarvtzpw3ccms"" ] data.SelectNode(""$.SelectedContentItem.ContentItemIds""); // works, result: [ ""48yrgcwkhv7hkwarvtzpw3ccms"" ] data.SelectNode(""$..ContentItemIds""); // doesn't work, result is null but it should be the same as above  You can verify that the last one should work using the [JSONPath Online Evaluator](https://jsonpath.com/): ![image](https://github.com/OrchardCMS/OrchardCore/assets/4007293/1d32f137-b6f1-42b7-aaa2-388e39824a9e) Also it works with Newtonsoft: ![image](https://github.com/OrchardCMS/OrchardCore/assets/4007293/cb74eef3-1283-4009-9e77-721891a603a2)  Expected behavior - `SelectNode` should query from the current element. - Ideally it should keep supporting full JSONPath.  Suggestion Beyond fixing `JObject.SelectNode` to search from the current node, the documentation should be updated: - The documentation comment I linked above should include a `<remarks>` section explaining what is and what isn't supported by the current implementation. - The 1.9 release notes should mention this breaking change in [the ""Drop Newtonsoft.Json Support"" section](https://github.com/OrchardCMS/OrchardCore/blob/50583b0644fe90f0a7253c78885504c910c4175a/src/docs/releases/1.9.0.md#drop-newtonsoftjson-support). Consider if there is a JSONPath library we can use instead of a homebrew implementation. I haven't used it yet, but [JsonPath.Net](https://www.nuget.org/packages/JsonPath.Net/0.1.3) of the [json-everything](https://github.com/gregsdennis/json-everything) project might be suitable? It's for STJ, MIT licensed and it seems to be actively maintained.",other-file | test-file,"Inconsistent JObject.SelectNode() behavior and feature loss  Describe the bug I have a few concerns with the new `JObject.SelectNode()` extension method: If you try to use it on a content part's `Content` property, it won't work unless you re-serialize the JSON object first, e.g.: csharp var content = (JsonObject)contentElement.Content; content.SelectNode(path); // This is null. JsonSerializer.SerializeToNode(content).SelectNode(path); // This is not null.  Also you can't chain `SelectNode` calls, the second call will still search from the same position, e.g.: ![image](https://github.com/OrchardCMS/OrchardCore/assets/4007293/feae5df1-1a00-4f3a-86f4-2a77e63680a3) I think when you query a `JsonObject`, it tries to query from its document root instead of the current element. This is unexpected. Finally, I'm not sure if anyone is affected, but after the migration to STJ we have lost full compliant JSONPath query support. The documentation of `JObject.SelectNode()` extension method [claims that it searches using ""a JSON path""](https://github.com/OrchardCMS/OrchardCore/blob/50583b0644fe90f0a7253c78885504c910c4175a/src/OrchardCore/OrchardCore.Abstractions/Json/Nodes/JObject.cs#L89), however this is misleading because it's compliant with [the JSONPath specification](https://www.ietf.org/archive/id/draft-goessner-dispatch-jsonpath-00.html). An example of a query that should work but doesn't (using the same JSON as above): csharp var data = JsonNode.Parse(""{\""SelectedContentItem\"":{\""ContentItemIds\"":[\""48yrgcwkhv7hkwarvtzpw3ccms\""]},\""Name\"":\""My Content\""}""); data.SelectNode(""SelectedContentItem.ContentItemIds""); // works, result: [ ""48yrgcwkhv7hkwarvtzpw3ccms"" ] data.SelectNode(""$.SelectedContentItem.ContentItemIds""); // works, result: [ ""48yrgcwkhv7hkwarvtzpw3ccms"" ] data.SelectNode(""$..ContentItemIds""); // doesn't work, result is null but it should be the same as above  You can verify that the last one should work using the [JSONPath Online Evaluator](https://jsonpath.com/): ![image](https://github.com/OrchardCMS/OrchardCore/assets/4007293/1d32f137-b6f1-42b7-aaa2-388e39824a9e) Also it works with Newtonsoft: ![image](https://github.com/OrchardCMS/OrchardCore/assets/4007293/cb74eef3-1283-4009-9e77-721891a603a2)  Expected behavior - `SelectNode` should query from the current element. - Ideally it should keep supporting full JSONPath.  Suggestion Beyond fixing `JObject.SelectNode` to search from the current node, the documentation should be updated: - The documentation comment I linked above should include a `<remarks>` section explaining what is and what isn't supported by the current implementation. - The 1.9 release notes should mention this breaking change in [the ""Drop Newtonsoft.Json Support"" section](https://github.com/OrchardCMS/OrchardCore/blob/50583b0644fe90f0a7253c78885504c910c4175a/src/docs/releases/1.9.0.md#drop-newtonsoftjson-support). Consider if there is a JSONPath library we can use instead of a homebrew implementation. I haven't used it yet, but [JsonPath.Net](https://www.nuget.org/packages/JsonPath.Net/0.1.3) of the [json-everything](https://github.com/gregsdennis/json-everything) project might be suitable? It's for STJ, MIT licensed and it seems to be actively maintained. other-file test-file",no-bug,0.9
5939,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5939,Possible InvalidOperationException in PermissionHandler when user is null,Casting from a nullable bool will cause an InvalidOperationException in this case: https://github.com/OrchardCMS/OrchardCore/blob/b48650e1a6054d63e95c9b13e59fdf5476fc6730/src/OrchardCore/OrchardCore.Infrastructure/Security/AuthorizationHandlers/PermissionHandler.cs#L14,other-file | other-file | other-file,Possible InvalidOperationException in PermissionHandler when user is null Casting from a nullable bool will cause an InvalidOperationException in this case: https://github.com/OrchardCMS/OrchardCore/blob/b48650e1a6054d63e95c9b13e59fdf5476fc6730/src/OrchardCore/OrchardCore.Infrastructure/Security/AuthorizationHandlers/PermissionHandler.cs#L14 other-file other-file other-file,no-bug,0.9
17500,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17500,Taxonomy terms are no longer showing on the editer UI,<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug PR #17481 tried to fix #17480 but introduced an issue where now we only show the selected taxonomy terms only instead of all of them terms that the user can select from.  Orchard Core version @yqzhen1990,other-file | other-file | other-file,Taxonomy terms are no longer showing on the editer UI <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug PR #17481 tried to fix #17480 but introduced an issue where now we only show the selected taxonomy terms only instead of all of them terms that the user can select from.  Orchard Core version @yqzhen1990 other-file other-file other-file,no-bug,0.8
9234,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9234,Some parts & fields disapeared of Content Items after I migrated to the latest version," Description I migrated a little website that uses SQLite DB. **In my local environment all is running fine**. But once deployed (with _dotnet publish_ command), lots of my custom content items become uneditable because the Edit page doesn't render some parts or fields. However the content definition is okay. All the custom Content Items was created via the Admin Zone. The single development of my application is the Theme. Any idea of what could causes that ?  **Exemple of the Edit Page of one of a Content Item:** ![image](https://user-images.githubusercontent.com/12090666/115294174-8c6bc880-a158-11eb-8427-e2bbddb7eafe.png)  **The definition of the Content Item:** ![image](https://user-images.githubusercontent.com/12090666/115294302-bd4bfd80-a158-11eb-9a0e-32914160a679.png)",other-file | other-file,"Some parts & fields disapeared of Content Items after I migrated to the latest version  Description I migrated a little website that uses SQLite DB. **In my local environment all is running fine**. But once deployed (with _dotnet publish_ command), lots of my custom content items become uneditable because the Edit page doesn't render some parts or fields. However the content definition is okay. All the custom Content Items was created via the Admin Zone. The single development of my application is the Theme. Any idea of what could causes that ?  **Exemple of the Edit Page of one of a Content Item:** ![image](https://user-images.githubusercontent.com/12090666/115294174-8c6bc880-a158-11eb-8427-e2bbddb7eafe.png)  **The definition of the Content Item:** ![image](https://user-images.githubusercontent.com/12090666/115294302-bd4bfd80-a158-11eb-9a0e-32914160a679.png) other-file other-file",no-bug,0.8
7806,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7806,Admin Title,"The title of the site, in the upper left of the admin, is not styled like previously. Before: ![image](https://user-images.githubusercontent.com/703248/100540958-07cbec80-3241-11eb-8138-e24d9b5f0b7e.png) Now: ![image](https://user-images.githubusercontent.com/703248/100540989-38138b00-3241-11eb-8be2-9d65fef80549.png) Could it be possible to find also a way to add a link to /admin? By clicking the logo for example?",other-file | other-file | other-file | other-file | other-file,"Admin Title The title of the site, in the upper left of the admin, is not styled like previously. Before: ![image](https://user-images.githubusercontent.com/703248/100540958-07cbec80-3241-11eb-8138-e24d9b5f0b7e.png) Now: ![image](https://user-images.githubusercontent.com/703248/100540989-38138b00-3241-11eb-8be2-9d65fef80549.png) Could it be possible to find also a way to add a link to /admin? By clicking the logo for example? other-file other-file other-file other-file other-file",no-bug,0.95
8532,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8532,Default tenant table PREFIX not working,"I added a table prefix setting like so to my appsettings.json: { ""OrchardCore"": { ""ConnectionString"": """", ""DatabaseProvider"": ""SqlConnection"" }, ""Default"" : { ""TablePrefix"": ""Default"" } } and i started with a new database and setup my default tenant. There were NO prefixes on the tables created for the default tenant. I expected something like Default_Users. But nothing. Just Users table name.",documentation-file,"Default tenant table PREFIX not working I added a table prefix setting like so to my appsettings.json: { ""OrchardCore"": { ""ConnectionString"": """", ""DatabaseProvider"": ""SqlConnection"" }, ""Default"" : { ""TablePrefix"": ""Default"" } } and i started with a new database and setup my default tenant. There were NO prefixes on the tables created for the default tenant. I expected something like Default_Users. But nothing. Just Users table name. documentation-file",no-bug,0.9
16153,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16153,/Localization/[CultureName]/[ModuleId].po PO file location doesn't work,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug  To Reproduce Hi all, I've found that this rule mentioned in this document https://docs.orchardcore.net/en/latest/reference/modules/Localize/ doesn't seem to work `/Localization/[CultureName]/[ModuleId].po` This is a module based on OC 1.8.3 ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/f3a896e4-d2e7-4bbd-b09b-8ecb5326e259) But when I use `Localisation/zh-CN.po` it works fine Since this template `Localisation/[CultureName].po` will overwrite the translation files of the other modules when compiled and packaged. I would prefer that the template `/Localisation/[CultureName]/[ModuleId].po` works. When I run it on 1.8x it doesn't work as expected.",other-file | other-file | test-file | other-file | test-file,"/Localization/[CultureName]/[ModuleId].po PO file location doesn't work <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug  To Reproduce Hi all, I've found that this rule mentioned in this document https://docs.orchardcore.net/en/latest/reference/modules/Localize/ doesn't seem to work `/Localization/[CultureName]/[ModuleId].po` This is a module based on OC 1.8.3 ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/f3a896e4-d2e7-4bbd-b09b-8ecb5326e259) But when I use `Localisation/zh-CN.po` it works fine Since this template `Localisation/[CultureName].po` will overwrite the translation files of the other modules when compiled and packaged. I would prefer that the template `/Localisation/[CultureName]/[ModuleId].po` works. When I run it on 1.8x it doesn't work as expected. other-file other-file test-file other-file test-file",no-bug,0.9
10849,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10849,Correlate Task should support Liquid AND javascript parsing with separate editors,The correlate task now uses the Monaco editor but only supports Script parsing. We should also add the option the be able to parse Liquid by toggling the parser with a parser selector. Should default to Script parsing to be backward compatible. @hyzx86,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Correlate Task should support Liquid AND javascript parsing with separate editors The correlate task now uses the Monaco editor but only supports Script parsing. We should also add the option the be able to parse Liquid by toggling the parser with a parser selector. Should default to Script parsing to be backward compatible. @hyzx86 other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
17115,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17115,"GraphQL: get content items with ""status: ALL"" returns only published items", Describe the bug In GraphQL when I request items with status ALL it should return all version of items (including deleted). It works in this way in OrchardCore 1.8.2  page(status: ALL) { displayText }  But in OrchardCore 2.1.0 it returns only published versions of items.  Orchard Core version 2.1.0  Logs and screenshots This change was intoduced in https://github.com/OrchardCMS/OrchardCore/pull/16077/files ![image](https://github.com/user-attachments/assets/acc42275-fbb6-40e4-b1b5-836ce0c2e260),other-file | other-file | other-file,"GraphQL: get content items with ""status: ALL"" returns only published items  Describe the bug In GraphQL when I request items with status ALL it should return all version of items (including deleted). It works in this way in OrchardCore 1.8.2  page(status: ALL) { displayText }  But in OrchardCore 2.1.0 it returns only published versions of items.  Orchard Core version 2.1.0  Logs and screenshots This change was intoduced in https://github.com/OrchardCMS/OrchardCore/pull/16077/files ![image](https://github.com/user-attachments/assets/acc42275-fbb6-40e4-b1b5-836ce0c2e260) other-file other-file other-file",no-bug,0.9
11878,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11878,You can't pick users when you only have permissions to edit your own content.,"You can't pick users when you only have permissions to edit your own content.  To Reproduce I have a content type ""Project"" with a user content picker field. I'm only authorizated to edit my own created projects. When I create a new project I currently can't select users with the user picker field.  Expected behavior I should be able to select users when I have the permission to create the content item (in this example ""Project"").  Proposed fix https://github.com/OrchardCMS/OrchardCore/commit/f8fab3c2f8c5a606080b5333f70f949dcbb7a790  Screenshots ![select users bug](https://user-images.githubusercontent.com/4984029/174396532-059b4b54-9798-4399-ab92-7f133215896e.png)",other-file | other-file | other-file | other-file,"You can't pick users when you only have permissions to edit your own content. You can't pick users when you only have permissions to edit your own content.  To Reproduce I have a content type ""Project"" with a user content picker field. I'm only authorizated to edit my own created projects. When I create a new project I currently can't select users with the user picker field.  Expected behavior I should be able to select users when I have the permission to create the content item (in this example ""Project"").  Proposed fix https://github.com/OrchardCMS/OrchardCore/commit/f8fab3c2f8c5a606080b5333f70f949dcbb7a790  Screenshots ![select users bug](https://user-images.githubusercontent.com/4984029/174396532-059b4b54-9798-4399-ab92-7f133215896e.png) other-file other-file other-file other-file",no-bug,0.8
9751,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9751,Workflow email task ability to send both HTML and plain-text versions," Is your feature request related to a problem? Please describe. Right now when we send an email as HTML by checking the : ""Does the Body contain HTML"" checkbox option on the email task it will be sent only in HTML. Some email softwares will often transfer these emails as plain-text so we should provide also a plain-text version of the email for the email softwares to be able to use. This way, we can provide 2 different Body versions of the email.  Describe the solution you'd like When the ""Does the Body contain HTML"" checkbox is checked we should have a second Body (plain-text) textfield to provide the email as plain text.  Describe alternatives you've considered Using a second Email task in the workflow without the HTML checkbox checked ; but it will send a second email too. Which is not wanted.",other-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file,"Workflow email task ability to send both HTML and plain-text versions  Is your feature request related to a problem? Please describe. Right now when we send an email as HTML by checking the : ""Does the Body contain HTML"" checkbox option on the email task it will be sent only in HTML. Some email softwares will often transfer these emails as plain-text so we should provide also a plain-text version of the email for the email softwares to be able to use. This way, we can provide 2 different Body versions of the email.  Describe the solution you'd like When the ""Does the Body contain HTML"" checkbox is checked we should have a second Body (plain-text) textfield to provide the email as plain text.  Describe alternatives you've considered Using a second Email task in the workflow without the HTML checkbox checked ; but it will send a second email too. Which is not wanted. other-file documentation-file documentation-file documentation-file documentation-file source-file other-file other-file source-file source-file source-file source-file other-file other-file source-file source-file other-file other-file documentation-file other-file other-file documentation-file",no-bug,0.9
7222,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7222,Stray div in admin when using blog recipe,"When using the SaaS setup recipe, no stray div tag is present. When using the Blog recipe, a stray div tag is present in the output. `Error: Stray end tag div.` There are also other html errors. I think I should list them seperately.",other-file,"Stray div in admin when using blog recipe When using the SaaS setup recipe, no stray div tag is present. When using the Blog recipe, a stray div tag is present in the output. `Error: Stray end tag div.` There are also other html errors. I think I should list them seperately. other-file",no-bug,0.9
13276,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13276,Filtering by a role that contains space does not return result in the Users UI," Describe the bug The role filter in the Users UI does not return records if you filter for a role name that contains a space. reason that breaks is we create a filter that looks like this `role:role name` but it should be `role:""role name""`  To Reproduce Steps to reproduce the behavior: 1. Create a role with a name that contains a space 2. Give at least one user access to the new role. 3. Go to the users UI, use the filter to filter by the new role. I am guessing this issue exists into all any filter including contents filter where the filterable value contains a space. We should wrap every filterable value with double quote when the value contains at least one space.",other-file,"Filtering by a role that contains space does not return result in the Users UI  Describe the bug The role filter in the Users UI does not return records if you filter for a role name that contains a space. reason that breaks is we create a filter that looks like this `role:role name` but it should be `role:""role name""`  To Reproduce Steps to reproduce the behavior: 1. Create a role with a name that contains a space 2. Give at least one user access to the new role. 3. Go to the users UI, use the filter to filter by the new role. I am guessing this issue exists into all any filter including contents filter where the filterable value contains a space. We should wrap every filterable value with double quote when the value contains at least one space. other-file",no-bug,0.9
16290,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16290,Getting value from JsonDynamicValue in Jint,"Problem when using ` contentItem.Content.TestPart.TextFeildProp.Text` to assign values to other objects I use the following code in the `ScriptTask` of the workflow to call other queries, and I use the data of a content item to build parameters for a query js const result = executeQuery('myQuery', { prop1 : contentItem.Content.TestPart.TextFeildProp.Text });  With NSJ it is possible to get the actual value directly, but in the latest version of OC 2.0 additional operations must be added to get the actual value c# public class JsonTests { [Fact] public void ExpandoObjectSerializeTest() { dynamic expandoValue = new ExpandoObject(); var contentItem = new ContentItem(); contentItem.Alter<TestPart>(part => { part.TextFeildProp = new TextField { Text = ""test"" }; }); expandoValue.stringValue = contentItem.Content.TestPart.TextFeildProp.Text; var jsonStr = JConvert.SerializeObject((ExpandoObject)expandoValue); // Actual:""{\""stringValue\"":{\""JsonValue\"":\""test\""}}"" Assert.Equal(""{\""stringValue\"":\""strValue\""}"", jsonStr); } } public class TestPart : ContentPart { public TextField TextFeildProp { get; set; } }  ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/f2f00489-ffb3-4d50-8ca6-5759b5dc4715) This was discussed in PR #15816, but supposedly the above scenario was not considered _Originally posted by @sebastienros in https://github.com/OrchardCMS/OrchardCore/issues/15816#issuecomment-2113009597_",other-file | test-file,"Getting value from JsonDynamicValue in Jint Problem when using ` contentItem.Content.TestPart.TextFeildProp.Text` to assign values to other objects I use the following code in the `ScriptTask` of the workflow to call other queries, and I use the data of a content item to build parameters for a query js const result = executeQuery('myQuery', { prop1 : contentItem.Content.TestPart.TextFeildProp.Text });  With NSJ it is possible to get the actual value directly, but in the latest version of OC 2.0 additional operations must be added to get the actual value c# public class JsonTests { [Fact] public void ExpandoObjectSerializeTest() { dynamic expandoValue = new ExpandoObject(); var contentItem = new ContentItem(); contentItem.Alter<TestPart>(part => { part.TextFeildProp = new TextField { Text = ""test"" }; }); expandoValue.stringValue = contentItem.Content.TestPart.TextFeildProp.Text; var jsonStr = JConvert.SerializeObject((ExpandoObject)expandoValue); // Actual:""{\""stringValue\"":{\""JsonValue\"":\""test\""}}"" Assert.Equal(""{\""stringValue\"":\""strValue\""}"", jsonStr); } } public class TestPart : ContentPart { public TextField TextFeildProp { get; set; } }  ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/f2f00489-ffb3-4d50-8ca6-5759b5dc4715) This was discussed in PR #15816, but supposedly the above scenario was not considered _Originally posted by @sebastienros in https://github.com/OrchardCMS/OrchardCore/issues/15816#issuecomment-2113009597_ other-file test-file",no-bug,0.9
13886,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13886,Add a way to search contents with fields other than just displayText," Is your feature request related to a problem? Please describe. Currently, when searching for contents we search the `DisplayText` property. In many case, I want to search content items for other fields like stock number or serial number. Currently, the only way to do this is by adding any info we want to search to the title. This may be acceptable is some case, but not all case.  Describe the solution you'd like I would like to be able somehow search other properties. One way to do this is implement a new proper that isn't visible where we can use to search. Now sure what other ideas do we have to solve this challenge? @sebastienros I would like to talk about this during Steering committee meeting.",other-file | other-file | other-file | documentation-file,"Add a way to search contents with fields other than just displayText  Is your feature request related to a problem? Please describe. Currently, when searching for contents we search the `DisplayText` property. In many case, I want to search content items for other fields like stock number or serial number. Currently, the only way to do this is by adding any info we want to search to the title. This may be acceptable is some case, but not all case.  Describe the solution you'd like I would like to be able somehow search other properties. One way to do this is implement a new proper that isn't visible where we can use to search. Now sure what other ideas do we have to solve this challenge? @sebastienros I would like to talk about this during Steering committee meeting. other-file other-file other-file documentation-file",no-bug,0.9
9008,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9008,Buffer has already been rendered,"Seems to be related to recent changes in OrchardCore.DisplayManagement.Liquid It appears when rendering cachable shape (like menu) in liquid.  Stack trace  2021-03-29 14:16:03.3994|Test|00-1b5cf02ad6959b4f9e05b67e5001e0d7-fdd9001409bc344f-00||Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware|ERROR|An unhandled exception has occurred while executing the request. System.InvalidOperationException: Buffer has already been rendered at OrchardCore.DisplayManagement.Liquid.ViewBufferTextWriterContent.WriteTo(TextWriter writer, HtmlEncoder encoder) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.Awaited(ValueTask`1 task, TextWriter writer, TextEncoder encoder, TemplateContext context, IReadOnlyList`1 statements, Int32 startIndex) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplateExtensions.RenderAsync(LiquidViewTemplate template, TextWriter writer, TextEncoder encoder, LiquidTemplateContext context, Object model) at OrchardCore.Liquid.Services.LiquidTemplateManager.RenderHtmlContentAsync(String source, TextEncoder encoder, Object model, IEnumerable`1 properties) at OrchardCore.Templates.Services.TemplatesShapeBindingResolver.<>c__DisplayClass8_0.<<BuildShapeBinding>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|11_0(Task`1 task) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) at OrchardCore.Media.Services.MediaFileStoreResolverMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task) at OrchardCore.DisplayManagement.Liquid.ViewBufferTextWriterContent.WriteTo(TextWriter writer, HtmlEncoder encoder) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.Awaited(ValueTask`1 task, TextWriter writer, TextEncoder encoder, TemplateContext context, IReadOnlyList`1 statements, Int32 startIndex) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplateExtensions.RenderAsync(LiquidViewTemplate template, TextWriter writer, TextEncoder encoder, LiquidTemplateContext context, Object model) at OrchardCore.Liquid.Services.LiquidTemplateManager.RenderHtmlContentAsync(String source, TextEncoder encoder, Object model, IEnumerable`1 properties) at OrchardCore.Templates.Services.TemplatesShapeBindingResolver.<>c__DisplayClass8_0.<<BuildShapeBinding>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|11_0(Task`1 task) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) at OrchardCore.Media.Services.MediaFileStoreResolverMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)  Needs futher invetigations",other-file | other-file | other-file,"Buffer has already been rendered Seems to be related to recent changes in OrchardCore.DisplayManagement.Liquid It appears when rendering cachable shape (like menu) in liquid.  Stack trace  2021-03-29 14:16:03.3994|Test|00-1b5cf02ad6959b4f9e05b67e5001e0d7-fdd9001409bc344f-00||Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware|ERROR|An unhandled exception has occurred while executing the request. System.InvalidOperationException: Buffer has already been rendered at OrchardCore.DisplayManagement.Liquid.ViewBufferTextWriterContent.WriteTo(TextWriter writer, HtmlEncoder encoder) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.Awaited(ValueTask`1 task, TextWriter writer, TextEncoder encoder, TemplateContext context, IReadOnlyList`1 statements, Int32 startIndex) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplateExtensions.RenderAsync(LiquidViewTemplate template, TextWriter writer, TextEncoder encoder, LiquidTemplateContext context, Object model) at OrchardCore.Liquid.Services.LiquidTemplateManager.RenderHtmlContentAsync(String source, TextEncoder encoder, Object model, IEnumerable`1 properties) at OrchardCore.Templates.Services.TemplatesShapeBindingResolver.<>c__DisplayClass8_0.<<BuildShapeBinding>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|11_0(Task`1 task) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) at OrchardCore.Media.Services.MediaFileStoreResolverMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task) at OrchardCore.DisplayManagement.Liquid.ViewBufferTextWriterContent.WriteTo(TextWriter writer, HtmlEncoder encoder) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.Awaited(ValueTask`1 task, TextWriter writer, TextEncoder encoder, TemplateContext context, IReadOnlyList`1 statements, Int32 startIndex) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplateExtensions.RenderAsync(LiquidViewTemplate template, TextWriter writer, TextEncoder encoder, LiquidTemplateContext context, Object model) at OrchardCore.Liquid.Services.LiquidTemplateManager.RenderHtmlContentAsync(String source, TextEncoder encoder, Object model, IEnumerable`1 properties) at OrchardCore.Templates.Services.TemplatesShapeBindingResolver.<>c__DisplayClass8_0.<<BuildShapeBinding>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.<ProcessAsync>g__Awaited|11_0(Task`1 task) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultFilters>g__Awaited|27_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) at OrchardCore.Media.Services.MediaFileStoreResolverMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext()  End of stack trace from previous location  at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)  Needs futher invetigations other-file other-file other-file",no-bug,0.9
12653,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12653,After upgrade getting error : The certificate chain was issued by an authority that is not trusted,After recent upgrade with YesSQL v 3.2.0 (with schema support) I am getting the following error when loading an existing project : ![image](https://user-images.githubusercontent.com/1516981/196028920-8c8d83db-466c-4888-aded-be1ef4e96b4d.png) The fix is to append to the connectionstring the setting :  ;TrustServerCertificate=True  but I am wondering if this could be related to yessql upgrade ?,other-file | other-file | other-file | other-file | other-file,After upgrade getting error : The certificate chain was issued by an authority that is not trusted After recent upgrade with YesSQL v 3.2.0 (with schema support) I am getting the following error when loading an existing project : ![image](https://user-images.githubusercontent.com/1516981/196028920-8c8d83db-466c-4888-aded-be1ef4e96b4d.png) The fix is to append to the connectionstring the setting :  ;TrustServerCertificate=True  but I am wondering if this could be related to yessql upgrade ? other-file other-file other-file other-file other-file,no-bug,0.9
8576,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8576,Placement module not being applied to parts.," Describe the bug When creating a placement rule for a part, the part is not reacting to the placement rule.  To Reproduce Steps to reproduce the behavior: 1. Run Blog recipe. 2. Enable Placements feature. 3. Create a ""MyPart"" ContentPart definition. 4. Create a ""MyPage"" ContentType definition with Title, Common, MyPage, Form, HtmlBody, MyPart, Alias, Autoroute, Preview parts (at least, that's the kind of thing I'm actually working with). 5. Create a ""MyPage"". Add some text to its HtmlBody part. 6. Go to the Edit for the MyPart part in the MyPage content type definition. 7. Generate a template for MyPart part in a MyPage type in details views. Add some text to it. 8. Generate a placement rule for MyPart part in a MyPage type in details views. Set ""place"" to ""-"" (to hide it). 9. View the MyPage content item you created earlier. The text from the MyPart template will still be visible.  Expected behavior templates defined by the Templates admin respond to Placement rules defined for them. What I'm seeing:  title TEST TEMPLATE TEXT field input field input field input field input  What I expected:  title field input field input field input field input  Furthermore, since the MyPart part is later in the sequence of parts, I would have expected it to show up after the form / HtmlBody anyway. But it doesn't. It shows up at the top, under the title.",other-file | other-file | other-file | other-file | other-file | other-file | config-file | config-file | config-file | config-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | source-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | other-file | config-file | documentation-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | test-file | test-file | test-file | test-file,"Placement module not being applied to parts.  Describe the bug When creating a placement rule for a part, the part is not reacting to the placement rule.  To Reproduce Steps to reproduce the behavior: 1. Run Blog recipe. 2. Enable Placements feature. 3. Create a ""MyPart"" ContentPart definition. 4. Create a ""MyPage"" ContentType definition with Title, Common, MyPage, Form, HtmlBody, MyPart, Alias, Autoroute, Preview parts (at least, that's the kind of thing I'm actually working with). 5. Create a ""MyPage"". Add some text to its HtmlBody part. 6. Go to the Edit for the MyPart part in the MyPage content type definition. 7. Generate a template for MyPart part in a MyPage type in details views. Add some text to it. 8. Generate a placement rule for MyPart part in a MyPage type in details views. Set ""place"" to ""-"" (to hide it). 9. View the MyPage content item you created earlier. The text from the MyPart template will still be visible.  Expected behavior templates defined by the Templates admin respond to Placement rules defined for them. What I'm seeing:  title TEST TEMPLATE TEXT field input field input field input field input  What I expected:  title field input field input field input field input  Furthermore, since the MyPart part is later in the sequence of parts, I would have expected it to show up after the form / HtmlBody anyway. But it doesn't. It shows up at the top, under the title. other-file other-file other-file other-file other-file other-file config-file config-file config-file config-file documentation-file documentation-file documentation-file documentation-file other-file source-file config-file documentation-file documentation-file other-file other-file other-file documentation-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file source-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file other-file config-file documentation-file other-file documentation-file documentation-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file other-file documentation-file test-file test-file test-file test-file",no-bug,0.9
8020,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8020,Admin filters in contents list dont work nicely with placement,"When in the admin in the contents list I would like to reposition the admin filters using placement files : So there seems to be the following shapes used in the filters display : ContentsAdminList -ContentsAdminList__Search -ContentsAdminList__Create -ContentsAdminList__Summary -ContentsAdminList__Filters which give out the following layout : ![image](https://user-images.githubusercontent.com/1516981/102329301-ea14bc00-3f90-11eb-9652-7bea970194b3.png) In the admintheme if i add a placement.json file with following rule :  { ""ContentsAdminList__Search"": [ { ""place"": ""-"" } ] }  Then i get the following output , all the filter shapes have dissapeared ![image](https://user-images.githubusercontent.com/1516981/102328694-124feb00-3f90-11eb-859a-c994e1eb2e0b.png) Not what i hoped for. Was expecting only the text search element to be hidden. Is this a bug ? Ideally i would like to reposition thse filter shapes in a sidebar zone using some placement syntax like this :  { ""ContentsAdminList__Search"": [ { ""place"": ""\Sidebar:1"" } ] , ""ContentsAdminList__Filters"": [ { ""place"": ""\Sidebar:2"" } ] }  @deanmarcussen By the way, thanks for this great feature, especially the taxonomies integration is terrific.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Admin filters in contents list dont work nicely with placement When in the admin in the contents list I would like to reposition the admin filters using placement files : So there seems to be the following shapes used in the filters display : ContentsAdminList -ContentsAdminList__Search -ContentsAdminList__Create -ContentsAdminList__Summary -ContentsAdminList__Filters which give out the following layout : ![image](https://user-images.githubusercontent.com/1516981/102329301-ea14bc00-3f90-11eb-9652-7bea970194b3.png) In the admintheme if i add a placement.json file with following rule :  { ""ContentsAdminList__Search"": [ { ""place"": ""-"" } ] }  Then i get the following output , all the filter shapes have dissapeared ![image](https://user-images.githubusercontent.com/1516981/102328694-124feb00-3f90-11eb-859a-c994e1eb2e0b.png) Not what i hoped for. Was expecting only the text search element to be hidden. Is this a bug ? Ideally i would like to reposition thse filter shapes in a sidebar zone using some placement syntax like this :  { ""ContentsAdminList__Search"": [ { ""place"": ""\Sidebar:1"" } ] , ""ContentsAdminList__Filters"": [ { ""place"": ""\Sidebar:2"" } ] }  @deanmarcussen By the way, thanks for this great feature, especially the taxonomies integration is terrific. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5431,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5431,Add message and link if zones are not available in Widgets,"If they are no configured zones, display a message with a link to the settings in the widgets list.",other-file | other-file | other-file,"Add message and link if zones are not available in Widgets If they are no configured zones, display a message with a link to the settings in the widgets list. other-file other-file other-file",no-bug,0.9
13031,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13031,"MSSQL Connection String Fails on Orchard Core Setup - ""The provided connection string is invalid or server is unreachable.""","I am doing the basic setup for orchard core and am getting ""The provided connection string is invalid or server is unreachable."" This occurs when I use a remote sql connection or localhost. My database is created in sql already. I am using the sa login Connection Strings I have tried include (I use a custom port for security and 1433 is not active); 1. Server=sql.gsa.land,2990;Database=GSA;User Id=sa;Password=mypwd 2. Server=localhost;Database=GSA;Trusted_Connection=True;MultipleActiveResultSets=true The same result occurs if I run the VS 2022 project on my machine or on the web server as in the 2. connection string example. The database is right there and very reachable. My ""Recipe"" is ""Agency"" as it really is just a test website. I have setup the website in IIS and assigned a folder. The established app pool is core compliant using 'No Managed Code' I am already running .net core sites so all hosting components are fine. I am using a specific user; Administrator in the App Pool Does anyone have any ideas on how to resolve this?. I did not think I would be stuck at the setup page Thankyou for your time!",other-file | other-file | other-file | other-file,"MSSQL Connection String Fails on Orchard Core Setup - ""The provided connection string is invalid or server is unreachable."" I am doing the basic setup for orchard core and am getting ""The provided connection string is invalid or server is unreachable."" This occurs when I use a remote sql connection or localhost. My database is created in sql already. I am using the sa login Connection Strings I have tried include (I use a custom port for security and 1433 is not active); 1. Server=sql.gsa.land,2990;Database=GSA;User Id=sa;Password=mypwd 2. Server=localhost;Database=GSA;Trusted_Connection=True;MultipleActiveResultSets=true The same result occurs if I run the VS 2022 project on my machine or on the web server as in the 2. connection string example. The database is right there and very reachable. My ""Recipe"" is ""Agency"" as it really is just a test website. I have setup the website in IIS and assigned a folder. The established app pool is core compliant using 'No Managed Code' I am already running .net core sites so all hosting components are fine. I am using a specific user; Administrator in the App Pool Does anyone have any ideas on how to resolve this?. I did not think I would be stuck at the setup page Thankyou for your time! other-file other-file other-file other-file",no-bug,0.9
5246,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5246,Pager issue on search page,"> Create an index named ""Search"" and configure it with the type you want. Go on /search on the front end. @sebastienros `/search` shows ![search-page](https://user-images.githubusercontent.com/1761249/71781366-9d7dde00-2fd6-11ea-9d8f-73ed0ab2f8a8.png) Based on `1.0.0-rc1-11395` _Originally posted by @dodyg in https://github.com/OrchardCMS/OrchardCore/issues/4142#issuecomment-570916394_",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"Pager issue on search page > Create an index named ""Search"" and configure it with the type you want. Go on /search on the front end. @sebastienros `/search` shows ![search-page](https://user-images.githubusercontent.com/1761249/71781366-9d7dde00-2fd6-11ea-9d8f-73ed0ab2f8a8.png) Based on `1.0.0-rc1-11395` _Originally posted by @dodyg in https://github.com/OrchardCMS/OrchardCore/issues/4142#issuecomment-570916394_ other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.9
16585,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16585,Breaking shape name resolution regarding menu shape," Describe the bug I found this undocumented breaking change regarding the ""menu"" shape (potentially all non PascalCase shapes).  Orchard Core version Latest `main`.  To Reproduce 1. Set up an OC 2.0 site with any recipe that creates a `main-menu` content item (e.g. Blog). 2. Create a content type with a Liquid part. 3. Create a content item with the Liquid content `{% shape ""menu"", alias: ""alias:main-menu"" %}` 4. Go to Admin > Design > Templates. 5. Create a template called ""Menu"" with any content. 6. Display the content item, observe that the shape is not overridden. 7. Delete the ""Menu"" template and create a ""menu"" template instead. 8. Display the content item again, observe that the shape is successfully overridden. 9. Now do the same again in OC 1.8, observe that in 1.8 the menu shape is overridden by the ""menu"" template but not the ""Menu"" template, in other words it's the opposite. | override works | menu | Menu | |||| | OC 1.8 |  |  | | OC 2.0 |  |  | Additional note: btw you can't create `menu` and `Menu` templates at the same time in Admin > Design > Templates. You have to delete one first to create the other. Is this intentional? Seems like the template creation is checked case-insensitively, but the template evaluation is case-sensitive.  Expected behavior Either ""Menu"" template override should keep working. It would be even better if both ""Menu"" and ""menu"" worked. Maybe it should first try the shape type case sensitively and if it's not found then case insensitively? (that's what I do with media library themes in Lombiq.Hosting.MediaTheme [here](https://github.com/Lombiq/Hosting-Media-Theme/blob/7fb210ebb07516a61fbf4d4f3b110b33436ed6a6/Lombiq.Hosting.MediaTheme.Bridge/Services/MediaThemeManager.cs#L84-L95)) If that's not possible, then please document the breaking change in the [2.0.0.md](https://github.com/OrchardCMS/OrchardCore/blob/3fe9612adb08b03114177a485ecc02e52091030c/src/docs/releases/2.0.0.md?plain=1) release notes.",other-file,"Breaking shape name resolution regarding menu shape  Describe the bug I found this undocumented breaking change regarding the ""menu"" shape (potentially all non PascalCase shapes).  Orchard Core version Latest `main`.  To Reproduce 1. Set up an OC 2.0 site with any recipe that creates a `main-menu` content item (e.g. Blog). 2. Create a content type with a Liquid part. 3. Create a content item with the Liquid content `{% shape ""menu"", alias: ""alias:main-menu"" %}` 4. Go to Admin > Design > Templates. 5. Create a template called ""Menu"" with any content. 6. Display the content item, observe that the shape is not overridden. 7. Delete the ""Menu"" template and create a ""menu"" template instead. 8. Display the content item again, observe that the shape is successfully overridden. 9. Now do the same again in OC 1.8, observe that in 1.8 the menu shape is overridden by the ""menu"" template but not the ""Menu"" template, in other words it's the opposite. | override works | menu | Menu |  | OC 1.8 |  |  | | OC 2.0 |  |  | Additional note: btw you can't create `menu` and `Menu` templates at the same time in Admin > Design > Templates. You have to delete one first to create the other. Is this intentional? Seems like the template creation is checked case-insensitively, but the template evaluation is case-sensitive.  Expected behavior Either ""Menu"" template override should keep working. It would be even better if both ""Menu"" and ""menu"" worked. Maybe it should first try the shape type case sensitively and if it's not found then case insensitively? (that's what I do with media library themes in Lombiq.Hosting.MediaTheme [here](https://github.com/Lombiq/Hosting-Media-Theme/blob/7fb210ebb07516a61fbf4d4f3b110b33436ed6a6/Lombiq.Hosting.MediaTheme.Bridge/Services/MediaThemeManager.cs#L84-L95)) If that's not possible, then please document the breaking change in the [2.0.0.md](https://github.com/OrchardCMS/OrchardCore/blob/3fe9612adb08b03114177a485ecc02e52091030c/src/docs/releases/2.0.0.md?plain=1) release notes. other-file",no-bug,0.8
16580,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16580,SQL document queries don't work on older existing tenants," Describe the bug The `query` Liquid filter (and `SqlQuerySource` in general) doesn't work with content item queries in certain databases. Only older/legacy databases are affected, for example I was able to reproduce this problem in two DotNest tenants (using the OC 2.0 branch of DotNest) that iirc were created in 2021 and 2022 respectively. Newer tenants are not affected. The problem is that in these databases the document ID column is `int` instead of `bigint`, which is the case for newer tenants: ![image](https://github.com/user-attachments/assets/8c07ad39-f057-4070-ad11-5ee25755e35e) This was fine in 1.8, but became a problem after #16234 where the assumption that the document ID column must be `long` [is hard coded](https://github.com/OrchardCMS/OrchardCore/blob/7d9ba09f95f88210087b6010bffa3c3327db3f72/src/OrchardCore.Modules/OrchardCore.Queries/Sql/SqlQuerySource.cs#L91).  Orchard Core version Using the latest `main` branch at the time of writing,  To Reproduce Steps to reproduce the behavior: 1. Find an older tenant or somehow create an SQL Server DB with `int` document IDs. Below for convenience I will also assume the site has BlogPost content items, like when running the Blog recipe. 2. Go to Admin > Serach > Queries > All Queries. 3. ""Add Query"", select ""SQL"" and fill: - Name: `BlogPosts` - Schema: leave empty - Return Documents: checked - Query: `select DocumentId from ContentItemIndex where Published = true and Latest = true and ContentType = 'BlogPost'` 4. Create new content type ""Query"" with a Liquid part. 5. Create new Query content item with the following Liquid: liquid <h1>Query Test</h1> <code> {% assign posts = Queries.BlogPosts | query %} {% for post in posts %} - {{ post.DisplayText }}<br /> {% endfor %} <code>  6. View the content item, observe that no blog post title is listed.  Expected behavior The query should return expected results. Note that the same query actually returns results if you uncheck the ""Return Documents"" box.  Logs and screenshots If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem.",other-file,"SQL document queries don't work on older existing tenants  Describe the bug The `query` Liquid filter (and `SqlQuerySource` in general) doesn't work with content item queries in certain databases. Only older/legacy databases are affected, for example I was able to reproduce this problem in two DotNest tenants (using the OC 2.0 branch of DotNest) that iirc were created in 2021 and 2022 respectively. Newer tenants are not affected. The problem is that in these databases the document ID column is `int` instead of `bigint`, which is the case for newer tenants: ![image](https://github.com/user-attachments/assets/8c07ad39-f057-4070-ad11-5ee25755e35e) This was fine in 1.8, but became a problem after #16234 where the assumption that the document ID column must be `long` [is hard coded](https://github.com/OrchardCMS/OrchardCore/blob/7d9ba09f95f88210087b6010bffa3c3327db3f72/src/OrchardCore.Modules/OrchardCore.Queries/Sql/SqlQuerySource.cs#L91).  Orchard Core version Using the latest `main` branch at the time of writing,  To Reproduce Steps to reproduce the behavior: 1. Find an older tenant or somehow create an SQL Server DB with `int` document IDs. Below for convenience I will also assume the site has BlogPost content items, like when running the Blog recipe. 2. Go to Admin > Serach > Queries > All Queries. 3. ""Add Query"", select ""SQL"" and fill: - Name: `BlogPosts` - Schema: leave empty - Return Documents: checked - Query: `select DocumentId from ContentItemIndex where Published = true and Latest = true and ContentType = 'BlogPost'` 4. Create new content type ""Query"" with a Liquid part. 5. Create new Query content item with the following Liquid: liquid <h1>Query Test</h1> <code> {% assign posts = Queries.BlogPosts | query %} {% for post in posts %} - {{ post.DisplayText }}<br /> {% endfor %} <code>  6. View the content item, observe that no blog post title is listed.  Expected behavior The query should return expected results. Note that the same query actually returns results if you uncheck the ""Return Documents"" box.  Logs and screenshots If applicable, add log files, browser console logs, and screenshots (or screen recording videos) to help explain your problem. other-file",no-bug,0.8
6137,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6137,trumbowyg media url: strange image moltiplication when add more than one image,"Hi guys, I have check this issue in my OC installation. If I add an image one time in the trumbowyg html editor configured to add image by url it work well, but if I add another image the editor add multiple image. ![issue_trumbowyg_media_url](https://user-images.githubusercontent.com/2736009/81420295-12f9e680-9150-11ea-8466-87a170772caa.gif) I believe is necessary to edit `trumbowyg.media.url.js` to delete contents in the trumbowyg range before add another image. If you want I can do a PR about it. I'm working on the latest dev branch.",source-file | source-file | source-file | source-file | source-file | source-file | other-file,"trumbowyg media url: strange image moltiplication when add more than one image Hi guys, I have check this issue in my OC installation. If I add an image one time in the trumbowyg html editor configured to add image by url it work well, but if I add another image the editor add multiple image. ![issue_trumbowyg_media_url](https://user-images.githubusercontent.com/2736009/81420295-12f9e680-9150-11ea-8466-87a170772caa.gif) I believe is necessary to edit `trumbowyg.media.url.js` to delete contents in the trumbowyg range before add another image. If you want I can do a PR about it. I'm working on the latest dev branch. source-file source-file source-file source-file source-file source-file other-file",no-bug,0.9
5473,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5473,"Blog Post content type definition typo in documentation ""BloPost""?","https://docs.orchardcore.net/en/dev/docs/guides/implement-fulltext-search/#optional-search-templates-customization Here we can see the Blog Post content type definition. We have now a section for every content type to define which part of this content item should be indexed as part of the FullText. By default content items will index the ""display text"" and ""body part"" but we also added an option for you to customize the values that you would like to index as part of this FullText index field. By clicking on the ""Use custom full-text"" we allow you to set any Liquid script to do so. So as the example states you could add {{ Model.Content.BloPost.Subtitle.Text }} if you would like to also find this content item by it's Subtitle field. For the remaining, we let you imagine what you could possibly do with this Liquid field : index identifiers, fixed text or numeric values and else! {{ Model.Content.BloPost.Subtitle.Text }} should be {{ Model.Content.BlogPost.Subtitle.Text }}",documentation-file,"Blog Post content type definition typo in documentation ""BloPost""? https://docs.orchardcore.net/en/dev/docs/guides/implement-fulltext-search/#optional-search-templates-customization Here we can see the Blog Post content type definition. We have now a section for every content type to define which part of this content item should be indexed as part of the FullText. By default content items will index the ""display text"" and ""body part"" but we also added an option for you to customize the values that you would like to index as part of this FullText index field. By clicking on the ""Use custom full-text"" we allow you to set any Liquid script to do so. So as the example states you could add {{ Model.Content.BloPost.Subtitle.Text }} if you would like to also find this content item by it's Subtitle field. For the remaining, we let you imagine what you could possibly do with this Liquid field : index identifiers, fixed text or numeric values and else! {{ Model.Content.BloPost.Subtitle.Text }} should be {{ Model.Content.BlogPost.Subtitle.Text }} documentation-file",no-bug,0.9
12705,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12705,Reset Password bug, Describe the bug: Reset password doesn't work as expected when `RequireUniqueEmail` is false. When trying to reset the password it changes the password of the first user found. The problem occurs when a new user is created with the same email. [See related lines here](https://github.com/OrchardCMS/OrchardCore/blob/f6368bf1d9bfa5c91b31c37371777ce85e39124e/src/OrchardCore/OrchardCore.Users.Core/Services/UserService.cs#L197)  Related bug: Change password operation from the dashboard produces the same result. [See here](https://github.com/OrchardCMS/OrchardCore/blob/f6368bf1d9bfa5c91b31c37371777ce85e39124e/src/OrchardCore.Modules/OrchardCore.Users/Controllers/AdminController.cs#L507)  To Reproduce 1. `services.Configure<IdentityOptions>(o => o.User.RequireUniqueEmail = false);` 2. Create 2 users from code with the same emails 3. Try to reset passwords  Expected behavior Should check the `RequireUniqueEmail` option. In case of `false` value have to find another way how user should identify herself/himself (username?).,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,Reset Password bug  Describe the bug: Reset password doesn't work as expected when `RequireUniqueEmail` is false. When trying to reset the password it changes the password of the first user found. The problem occurs when a new user is created with the same email. [See related lines here](https://github.com/OrchardCMS/OrchardCore/blob/f6368bf1d9bfa5c91b31c37371777ce85e39124e/src/OrchardCore/OrchardCore.Users.Core/Services/UserService.cs#L197)  Related bug: Change password operation from the dashboard produces the same result. [See here](https://github.com/OrchardCMS/OrchardCore/blob/f6368bf1d9bfa5c91b31c37371777ce85e39124e/src/OrchardCore.Modules/OrchardCore.Users/Controllers/AdminController.cs#L507)  To Reproduce 1. `services.Configure<IdentityOptions>(o => o.User.RequireUniqueEmail = false);` 2. Create 2 users from code with the same emails 3. Try to reset passwords  Expected behavior Should check the `RequireUniqueEmail` option. In case of `false` value have to find another way how user should identify herself/himself (username?). other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file,no-bug,0.8
14650,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14650,Two factor requirment is not enforced,"The `TwoFactorAuthenticationClaimsProvider` class is never registered as a service and this bypassed the 2FA requirements. The fix is to add this to the startup file.  services.AddScoped<IUserClaimsProvider, TwoFactorAuthenticationClaimsProvider>();   Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/14617 <div type='discussions-op-text'> <sup>Originally posted by **tcobbfis** October 31, 2023</sup> I have a requirement that all users use two factor auth. Currently it's up to the individual user to enable two factor after they have their account. Even if two factor is marked as required in the admin, it's still up to the individual user to go in and enable it for the requirement to apply to them. Is there a way to enable two factor by default when adding a new user? Will I have to replace the user module?</div>",other-file | other-file | other-file | other-file | config-file | test-file | config-file | config-file | config-file | config-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | other-file | container-file | container-file | other-file | other-file | documentation-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Two factor requirment is not enforced The `TwoFactorAuthenticationClaimsProvider` class is never registered as a service and this bypassed the 2FA requirements. The fix is to add this to the startup file.  services.AddScoped<IUserClaimsProvider, TwoFactorAuthenticationClaimsProvider>();   Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/14617 <div type='discussions-op-text'> <sup>Originally posted by **tcobbfis** October 31, 2023</sup> I have a requirement that all users use two factor auth. Currently it's up to the individual user to enable two factor after they have their account. Even if two factor is marked as required in the admin, it's still up to the individual user to go in and enable it for the requirement to apply to them. Is there a way to enable two factor by default when adding a new user? Will I have to replace the user module?</div> other-file other-file other-file other-file config-file test-file config-file config-file config-file config-file source-file source-file source-file source-file documentation-file documentation-file documentation-file other-file container-file container-file other-file other-file documentation-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
16795,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16795,Order roles alphabetically on the admin,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Is your feature request related to a problem? Please describe. /Admin/Roles/Index will show a seemingly random order of roles: ![{FBC208C3-14EE-469C-8C5A-D7E8DC591800}](https://github.com/user-attachments/assets/6a4630e0-55b0-4caf-b1e8-fa0861fa7dc5) This makes it harder to find the role you want to manage.  Describe the solution you'd like Order the roles alphabetically.  Describe alternatives you've considered Perhaps order by last modified (latest on top), but with the usual amount of roles, really the most straightforward would be just alphabetic order. We don't need custom ordering.",other-file,"Order roles alphabetically on the admin <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Is your feature request related to a problem? Please describe. /Admin/Roles/Index will show a seemingly random order of roles: ![{FBC208C3-14EE-469C-8C5A-D7E8DC591800}](https://github.com/user-attachments/assets/6a4630e0-55b0-4caf-b1e8-fa0861fa7dc5) This makes it harder to find the role you want to manage.  Describe the solution you'd like Order the roles alphabetically.  Describe alternatives you've considered Perhaps order by last modified (latest on top), but with the usual amount of roles, really the most straightforward would be just alphabetic order. We don't need custom ordering. other-file",no-bug,0.95
14802,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14802,Multi-tenant Microsoft Entra ID authentication not working," Describe the bug When using Microsoft Entra ID (AzureAD) authentication with multi-tenancy (i.e. no tenant ID is specified, ""common"" or ""organizations"" is used instead), token validation fails during login:  IDX10205: Issuer validation failed because the actual issuer didn't match the valid issuer(s). Issuer: 'System.String (value removed)'. Did not match: validationParameters.ValidIssuer: 'System.String (value removed)' or validationParameters.ValidIssuers: 'System.String (value removed)'  The Orchard documentation explicitly states multi-tenant accounts as supported.  To Reproduce Steps to reproduce the behavior: 1. Create an Azure App registration with *Supported account types* set to *Accounts in any organizational directory*. 2. Configure Microsoft Entra ID authentication in Orchard with the application ID only. Set the tenant ID to `common` instead of the actual tenant. 3. Try to login by using Microsoft Entra ID.  Expected behavior Login should work out of the box. This can easily be fixed by using the `AadIssuerValidator` that comes with `Microsoft.Identity` (see https://github.com/AzureAD/azure-activedirectory-identitymodel-extensions-for-dotnet/wiki/ValidatingTokens#dx10205-issuer-validation-failed). C# options.TokenValidationParameters.IssuerValidator = AadIssuerValidator.GetAadIssuerValidator(options.Authority, options.Backchannel).Validate;  Additionally, this would allow to use any other Microsoft accounts (e.g. personal Microsoft accounts, Skype, XBox).",other-file | other-file | other-file,"Multi-tenant Microsoft Entra ID authentication not working  Describe the bug When using Microsoft Entra ID (AzureAD) authentication with multi-tenancy (i.e. no tenant ID is specified, ""common"" or ""organizations"" is used instead), token validation fails during login:  IDX10205: Issuer validation failed because the actual issuer didn't match the valid issuer(s). Issuer: 'System.String (value removed)'. Did not match: validationParameters.ValidIssuer: 'System.String (value removed)' or validationParameters.ValidIssuers: 'System.String (value removed)'  The Orchard documentation explicitly states multi-tenant accounts as supported.  To Reproduce Steps to reproduce the behavior: 1. Create an Azure App registration with *Supported account types* set to *Accounts in any organizational directory*. 2. Configure Microsoft Entra ID authentication in Orchard with the application ID only. Set the tenant ID to `common` instead of the actual tenant. 3. Try to login by using Microsoft Entra ID.  Expected behavior Login should work out of the box. This can easily be fixed by using the `AadIssuerValidator` that comes with `Microsoft.Identity` (see https://github.com/AzureAD/azure-activedirectory-identitymodel-extensions-for-dotnet/wiki/ValidatingTokens#dx10205-issuer-validation-failed). C# options.TokenValidationParameters.IssuerValidator = AadIssuerValidator.GetAadIssuerValidator(options.Authority, options.Backchannel).Validate;  Additionally, this would allow to use any other Microsoft accounts (e.g. personal Microsoft accounts, Skype, XBox). other-file other-file other-file",no-bug,0.9
17391,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17391,Cannot use recaptcha shape in razor views after latest changes,"Using the new shape approach to enabling a recaptcha on a razor page does not work in the latest version. I added the following Shape tag helper in one of my views :  <shape type=""ReCaptcha"" language=""@Orchard.CultureName()""/>  and got into an endless loop error until all threads were exhausted. Changes described here : https://github.com/OrchardCMS/OrchardCore/blob/main/src/docs/releases/3.0.0.md Related pr #17229",other-file | other-file,"Cannot use recaptcha shape in razor views after latest changes Using the new shape approach to enabling a recaptcha on a razor page does not work in the latest version. I added the following Shape tag helper in one of my views :  <shape type=""ReCaptcha"" language=""@Orchard.CultureName()""/>  and got into an endless loop error until all threads were exhausted. Changes described here : https://github.com/OrchardCMS/OrchardCore/blob/main/src/docs/releases/3.0.0.md Related pr #17229 other-file other-file",no-bug,0.9
8979,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8979,Saving General site settings fails,"![image](https://user-images.githubusercontent.com/3228637/112558301-d0abb900-8da4-11eb-8895-2d0f048220b8.png) ![image](https://user-images.githubusercontent.com/3228637/112558310-d4d7d680-8da4-11eb-883f-37d56f720bdc.png)  An unhandled exception occurred while processing the request. NullReferenceException: Object reference not set to an instance of an object. OrchardCore.Settings.Controllers.AdminController.IndexPost(string groupId) in AdminController.cs, line 77 Stack Query Cookies Headers Routing NullReferenceException: Object reference not set to an instance of an object. OrchardCore.Settings.Controllers.AdminController.IndexPost(string groupId) in AdminController.cs + var culture = site.Properties Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments) System.Threading.Tasks.ValueTask<TResult>.get_Result() Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask<IActionResult> actionResultValueTask) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync() Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+<>c__DisplayClass3_0+<<Configure>b__1>d.MoveNext() in DiagnosticsStartupFilter.cs + await next(); Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.ContentPreview.PreviewStartupFilter+<>c+<<Configure>b__1_1>d.MoveNext() in PreviewStartupFilter.cs + await next(); OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) in ModularTenantRouterMiddleware.cs + await shellContext.Pipeline.Invoke(httpContext); OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) in ShellScope.cs + await execute(this); OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in ModularTenantContainerMiddleware.cs + await shellScope.UsingAsync(scope => _next.Invoke(httpContext)); Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context) ",other-file | other-file,"Saving General site settings fails ![image](https://user-images.githubusercontent.com/3228637/112558301-d0abb900-8da4-11eb-8895-2d0f048220b8.png) ![image](https://user-images.githubusercontent.com/3228637/112558310-d4d7d680-8da4-11eb-883f-37d56f720bdc.png)  An unhandled exception occurred while processing the request. NullReferenceException: Object reference not set to an instance of an object. OrchardCore.Settings.Controllers.AdminController.IndexPost(string groupId) in AdminController.cs, line 77 Stack Query Cookies Headers Routing NullReferenceException: Object reference not set to an instance of an object. OrchardCore.Settings.Controllers.AdminController.IndexPost(string groupId) in AdminController.cs + var culture = site.Properties Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments) System.Threading.Tasks.ValueTask<TResult>.get_Result() Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask<IActionResult> actionResultValueTask) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync() Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger) SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+<>c__DisplayClass3_0+<<Configure>b__1>d.MoveNext() in DiagnosticsStartupFilter.cs + await next(); Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.ContentPreview.PreviewStartupFilter+<>c+<<Configure>b__1_1>d.MoveNext() in PreviewStartupFilter.cs + await next(); OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) in ModularTenantRouterMiddleware.cs + await shellContext.Pipeline.Invoke(httpContext); OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) in ShellScope.cs + await execute(this); OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) in ModularTenantContainerMiddleware.cs + await shellScope.UsingAsync(scope => _next.Invoke(httpContext)); Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)  other-file other-file",no-bug,0.8
15158,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15158,TheTheme has Navbar UserMenu malformed HTML," Describe the bug TheTheme's Navbar seems to have the light/dark theme toggle and a user menu by default. The HTML for the user menu portion is malformed as an `li` inside of an `li`. <li class=""nav-item""> <li class=""nav-item dropdown text-end""> <a href=""#"" class=""nav-link dropdown-toggle"" data-bs-toggle=""dropdown""> <i class=""fa-solid fa-user fa-fw"" aria-hidden=""true""></i> admin </a> <ul class=""dropdown-menu dropdown-menu-end""> <li> <a class=""dropdown-item"" href=""/Admin""> <i class=""fa fa-desktop fa-fw"" aria-hidden=""true""></i> Dashboard </a> </li> <li> <a class=""dropdown-item"" href=""/Admin/Users/Edit?returnUrl=%2F""> <i class=""far fa-address-card"" aria-hidden=""true""></i> Profile </a> </li> <li> <a class=""dropdown-item"" href=""/ChangePassword?returnUrl=%2F""> <i class=""fa-solid fa-key"" aria-hidden=""true""></i> Change password </a> </li> <li> <form method=""post"" class=""no-multisubmit"" action=""/Users/LogOff""> <button type=""submit"" class=""dropdown-item""> <i class=""fa-solid fa-sign-out-alt"" aria-hidden=""true""></i> Log off </button> <input name=""__RequestVerificationToken"" type=""hidden"" value="""" /> </form> </li> </ul> </li> </li>  To Reproduce Steps to reproduce the behavior: 1. Create a new site using SaaS template 2. Log in as user created in setup 3. Go to homepage and observe the page source is as above.  Expected behavior I believe this is a matter of the shape needing a wrapper cleared, but I'm still learning my way with Shapes.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/5550607/165bdfeb-a643-416e-ab23-e944ef15160a)",other-file | other-file,"TheTheme has Navbar UserMenu malformed HTML  Describe the bug TheTheme's Navbar seems to have the light/dark theme toggle and a user menu by default. The HTML for the user menu portion is malformed as an `li` inside of an `li`. <li class=""nav-item""> <li class=""nav-item dropdown text-end""> <a href=""#"" class=""nav-link dropdown-toggle"" data-bs-toggle=""dropdown""> <i class=""fa-solid fa-user fa-fw"" aria-hidden=""true""></i> admin </a> <ul class=""dropdown-menu dropdown-menu-end""> <li> <a class=""dropdown-item"" href=""/Admin""> <i class=""fa fa-desktop fa-fw"" aria-hidden=""true""></i> Dashboard </a> </li> <li> <a class=""dropdown-item"" href=""/Admin/Users/Edit?returnUrl=%2F""> <i class=""far fa-address-card"" aria-hidden=""true""></i> Profile </a> </li> <li> <a class=""dropdown-item"" href=""/ChangePassword?returnUrl=%2F""> <i class=""fa-solid fa-key"" aria-hidden=""true""></i> Change password </a> </li> <li> <form method=""post"" class=""no-multisubmit"" action=""/Users/LogOff""> <button type=""submit"" class=""dropdown-item""> <i class=""fa-solid fa-sign-out-alt"" aria-hidden=""true""></i> Log off </button> <input name=""__RequestVerificationToken"" type=""hidden"" value="""" /> </form> </li> </ul> </li> </li>  To Reproduce Steps to reproduce the behavior: 1. Create a new site using SaaS template 2. Log in as user created in setup 3. Go to homepage and observe the page source is as above.  Expected behavior I believe this is a matter of the shape needing a wrapper cleared, but I'm still learning my way with Shapes.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/5550607/165bdfeb-a643-416e-ab23-e944ef15160a) other-file other-file",no-bug,0.95
15703,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15703,"""The options are written in an incorrect format."" when saving Trumbowyg settings"," Describe the bug When saving the Trumbowyg settings, at least for Html Field, you get the ""The options are written in an incorrect format."" error with the default options.  To Reproduce 1. Set up a fresh site from `main` with the Blog recipe. 2. Go to /Admin/ContentTypes/Edit/RawHtml. 3. Edit the Content Field. 4. What type of editor should be used? -> Trumbowyg editor. 5. Change nothing, Save. 6. See the ""The options are written in an incorrect format."" validation error.  Expected behavior The default options just work.  Screenshots https://github.com/OrchardCMS/OrchardCore/assets/1976647/a113c851-aaf5-4d3c-853e-a40124f00afd",other-file | other-file | other-file | other-file | other-file | other-file,"""The options are written in an incorrect format."" when saving Trumbowyg settings  Describe the bug When saving the Trumbowyg settings, at least for Html Field, you get the ""The options are written in an incorrect format."" error with the default options.  To Reproduce 1. Set up a fresh site from `main` with the Blog recipe. 2. Go to /Admin/ContentTypes/Edit/RawHtml. 3. Edit the Content Field. 4. What type of editor should be used? -> Trumbowyg editor. 5. Change nothing, Save. 6. See the ""The options are written in an incorrect format."" validation error.  Expected behavior The default options just work.  Screenshots https://github.com/OrchardCMS/OrchardCore/assets/1976647/a113c851-aaf5-4d3c-853e-a40124f00afd other-file other-file other-file other-file other-file other-file",no-bug,0.9
13277,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13277,Filtering notifications by unread notification hides the filters," Describe the bug When trying to filter by unread notifications, the filter selections disappears.",other-file | other-file,"Filtering notifications by unread notification hides the filters  Describe the bug When trying to filter by unread notifications, the filter selections disappears. other-file other-file",no-bug,0.8
12544,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12544,Make UpdateAtomic Delegates distinct,"Maybe I'm alone to use `IVolatileDocumentManager.UpdateAtomicAsync()`, see #10673 where we fixed a first problem but the 2nd concern is still there, otherwise it works well. So, when enlisting multiple update delegates (not allowed with the regular UpdateAsync()) in bulk actions, we can still enlist multiple times the same delegate, we wanted to make the results of the delegate invocation list distincts, but they are wrapped objects for which the equality operator overload is not sufficient. I fixed it locally by checking the `Target` directly on the the delegates passed as parameters, this in place of checking the delegates retrieved from the invocation list of the combined delegate. I will do a PR.",other-file,"Make UpdateAtomic Delegates distinct Maybe I'm alone to use `IVolatileDocumentManager.UpdateAtomicAsync()`, see #10673 where we fixed a first problem but the 2nd concern is still there, otherwise it works well. So, when enlisting multiple update delegates (not allowed with the regular UpdateAsync()) in bulk actions, we can still enlist multiple times the same delegate, we wanted to make the results of the delegate invocation list distincts, but they are wrapped objects for which the equality operator overload is not sufficient. I fixed it locally by checking the `Target` directly on the the delegates passed as parameters, this in place of checking the delegates retrieved from the invocation list of the combined delegate. I will do a PR. other-file",no-bug,0.9
8948,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8948,"Shape ""Menu"" and ""BreadcrumbMenu"" are rendered as a ""ContentCulturePicker""","We have a site running OC 1.0.0-rc2-15878 with tree different shapes (`Menu`, `BreadcrumbMenu` and `ContentCulturePicker`) which work perfectly on production. Here's a screnshot: ![image](https://user-images.githubusercontent.com/6704109/112114721-aa292a80-8bb8-11eb-8bfe-b8a737846b1f.png) You can see the `Menu` at the right of the company logo, the `ContentCulturePicker` at the right-top side and the `BreadcrumbMenu` at the bottom of the header (the rest of the page is not shown). Now we are trying to update OC to yesterday's release 1.0.0-rc2-16003 and here are the results (in development machine/debug): ![image](https://user-images.githubusercontent.com/6704109/112115144-26bc0900-8bb9-11eb-8f33-b8b226538be3.png) We end up having 3 ContentCulturePicker but only one is correct. The other two are wrongly rendered from a `Menu` shape (that has not been modified) and a `BreadcrumbMenu` shape (that has not been modified either). The important part of the `Layout.liquid` file is as follows:  <div class=""culture-wrapper""> <div class=""culture-picker""> {% shape ""ContentCulturePicker"" %} </div> </div> <nav class=""navbar navbar-expand-lg navbar-dark fixed-top"" id=""mainNav""> <div class=""container""> {% assign locale_homepage = '~/' | append: twoLetterISOLanguageName %} <a class=""js-scroll-trigger ahed-logo"" href=""{{ locale_homepage | href }}""> {{ ""Home"" | t }} </a> <button class=""navbar-toggler navbar-toggler-right"" type=""button"" data-toggle=""collapse"" data-target=""#navbarResponsive"" aria-controls=""navbarResponsive"" aria-expanded=""false"" aria-label=""Toggle navigation""> Menu <svg style=""height:1em"" aria-hidden=""true"" focusable=""false"" data-prefix=""fas"" data-icon=""bars"" class=""svg-inline--fa fa-bars fa-w-14"" role=""img"" xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 448 512""><path fill=""currentColor"" d=""M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z""></path></svg> </button> {% assign locale_menu_name = 'main-menu-' | append: twoLetterISOLanguageName %} {% assign alias_locale_menu_name = 'alias:' | append: locale_menu_name %} {% shape ""Menu"", alias: alias_locale_menu_name, cache_id: locale_menu_name, cache_tag: locale_menu_name %} </div> </nav> <div{% render_section ""MainDivTagAttrs"", required: false %}> {% render_section ""Header"", required: false %} <div class=""container"" id=""main""> {% shape ""BreadcrumbMenu"" %} {% render_section ""Messages"", required: false %} {% render_section ""Content"" %} </div> {% render_section ""Footer"", required: false %} {% resources type: ""FootScript"" %} </div>  The complete `Menu.liquid` file is quite simple:  <div class=""collapse navbar-collapse"" id=""navbarResponsive""> <ul class=""navbar-nav text-uppercase mr-auto""> {% for item in Model.Items %} {{ item | shape_render }} {% endfor %} </ul> </div>  But it is not properly rendered as it was with 1.0.0-rc2-15878. Any ideas why? Had there been any changes in the last month (more or less) that could explain this behaviour? PS: The `BreadcrumMenu.cshtml` file is far more long and complex. Hence, it is probably easier to fix this issue for the `Menu` shape first, since the other one might be related too. Thanks.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Shape ""Menu"" and ""BreadcrumbMenu"" are rendered as a ""ContentCulturePicker"" We have a site running OC 1.0.0-rc2-15878 with tree different shapes (`Menu`, `BreadcrumbMenu` and `ContentCulturePicker`) which work perfectly on production. Here's a screnshot: ![image](https://user-images.githubusercontent.com/6704109/112114721-aa292a80-8bb8-11eb-8bfe-b8a737846b1f.png) You can see the `Menu` at the right of the company logo, the `ContentCulturePicker` at the right-top side and the `BreadcrumbMenu` at the bottom of the header (the rest of the page is not shown). Now we are trying to update OC to yesterday's release 1.0.0-rc2-16003 and here are the results (in development machine/debug): ![image](https://user-images.githubusercontent.com/6704109/112115144-26bc0900-8bb9-11eb-8f33-b8b226538be3.png) We end up having 3 ContentCulturePicker but only one is correct. The other two are wrongly rendered from a `Menu` shape (that has not been modified) and a `BreadcrumbMenu` shape (that has not been modified either). The important part of the `Layout.liquid` file is as follows:  <div class=""culture-wrapper""> <div class=""culture-picker""> {% shape ""ContentCulturePicker"" %} </div> </div> <nav class=""navbar navbar-expand-lg navbar-dark fixed-top"" id=""mainNav""> <div class=""container""> {% assign locale_homepage = '~/' | append: twoLetterISOLanguageName %} <a class=""js-scroll-trigger ahed-logo"" href=""{{ locale_homepage | href }}""> {{ ""Home"" | t }} </a> <button class=""navbar-toggler navbar-toggler-right"" type=""button"" data-toggle=""collapse"" data-target=""#navbarResponsive"" aria-controls=""navbarResponsive"" aria-expanded=""false"" aria-label=""Toggle navigation""> Menu <svg style=""height:1em"" aria-hidden=""true"" focusable=""false"" data-prefix=""fas"" data-icon=""bars"" class=""svg-inline--fa fa-bars fa-w-14"" role=""img"" xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 448 512""><path fill=""currentColor"" d=""M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z""></path></svg> </button> {% assign locale_menu_name = 'main-menu-' | append: twoLetterISOLanguageName %} {% assign alias_locale_menu_name = 'alias:' | append: locale_menu_name %} {% shape ""Menu"", alias: alias_locale_menu_name, cache_id: locale_menu_name, cache_tag: locale_menu_name %} </div> </nav> <div{% render_section ""MainDivTagAttrs"", required: false %}> {% render_section ""Header"", required: false %} <div class=""container"" id=""main""> {% shape ""BreadcrumbMenu"" %} {% render_section ""Messages"", required: false %} {% render_section ""Content"" %} </div> {% render_section ""Footer"", required: false %} {% resources type: ""FootScript"" %} </div>  The complete `Menu.liquid` file is quite simple:  <div class=""collapse navbar-collapse"" id=""navbarResponsive""> <ul class=""navbar-nav text-uppercase mr-auto""> {% for item in Model.Items %} {{ item | shape_render }} {% endfor %} </ul> </div>  But it is not properly rendered as it was with 1.0.0-rc2-15878. Any ideas why? Had there been any changes in the last month (more or less) that could explain this behaviour? PS: The `BreadcrumMenu.cshtml` file is far more long and complex. Hence, it is probably easier to fix this issue for the `Menu` shape first, since the other one might be related too. Thanks. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
15116,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15116,SectionDisplayDriver should override the HtmlPrefix with the TSectionName,"Currently the `SectionDisplayDriver` uses `TSection` for it's `Entity` property name : https://github.com/OrchardCMS/OrchardCore/blob/ae2f9525e29f533b1a993d7279c9a45d06ac5198/src/OrchardCore/OrchardCore.DisplayManagement/Entities/SectionDisplayDriver.cs#L28 However, it does not override the default `Prefix` value, which remains as per the base class `Prefix = typeof(TModel).Name;` This creates ambiguity on the field names, where it is easily possible to have multiple keys of the same name, if classes used on `IEntity` have the same property names. e.g.  public record PropertyA(bool Allow); public record PropertyB(bool Allow);  `PropertyA` and `PropertyB` will be stored seperately in the properties dictionary correctly, but the views will create a form post with identical names.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"SectionDisplayDriver should override the HtmlPrefix with the TSectionName Currently the `SectionDisplayDriver` uses `TSection` for it's `Entity` property name : https://github.com/OrchardCMS/OrchardCore/blob/ae2f9525e29f533b1a993d7279c9a45d06ac5198/src/OrchardCore/OrchardCore.DisplayManagement/Entities/SectionDisplayDriver.cs#L28 However, it does not override the default `Prefix` value, which remains as per the base class `Prefix = typeof(TModel).Name;` This creates ambiguity on the field names, where it is easily possible to have multiple keys of the same name, if classes used on `IEntity` have the same property names. e.g.  public record PropertyA(bool Allow); public record PropertyB(bool Allow);  `PropertyA` and `PropertyB` will be stored seperately in the properties dictionary correctly, but the views will create a form post with identical names. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
15558,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15558,ListPart DisplayDriver does not set ListPart property on ListPartViewModel,You cannot access list part from ListPart.liquid template,other-file,ListPart DisplayDriver does not set ListPart property on ListPartViewModel You cannot access list part from ListPart.liquid template other-file,no-bug,0.8
8034,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8034,Admin UI : header buttons,Before #7851 : ![image](https://user-images.githubusercontent.com/3228637/102417505-d8033f80-3fc9-11eb-93fd-c96f8ca6258d.png) After #7851 : ![image](https://user-images.githubusercontent.com/3228637/102416872-a342b880-3fc8-11eb-8b0b-4d0269897308.png) I found out that we are displaying these buttons inside a hamburger menu now. I'm not a fan of it. They should be displayed all the time. If we have other menu items then they should be added in the hamburger menu but only if they have a text. This looks strange needing to open the hamburger menu to toggle the darkmode. ![image](https://user-images.githubusercontent.com/3228637/102417154-26640e80-3fc9-11eb-909f-66f9ce7f7541.png) /cc @agriffard,other-file | other-file | other-file | other-file | other-file | config-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | test-file,Admin UI : header buttons Before #7851 : ![image](https://user-images.githubusercontent.com/3228637/102417505-d8033f80-3fc9-11eb-93fd-c96f8ca6258d.png) After #7851 : ![image](https://user-images.githubusercontent.com/3228637/102416872-a342b880-3fc8-11eb-8b0b-4d0269897308.png) I found out that we are displaying these buttons inside a hamburger menu now. I'm not a fan of it. They should be displayed all the time. If we have other menu items then they should be added in the hamburger menu but only if they have a text. This looks strange needing to open the hamburger menu to toggle the darkmode. ![image](https://user-images.githubusercontent.com/3228637/102417154-26640e80-3fc9-11eb-909f-66f9ce7f7541.png) /cc @agriffard other-file other-file other-file other-file other-file config-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file test-file test-file test-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file test-file,no-bug,0.9
12978,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12978,Add field validation handlers to ensure field validation when contents are created outside the UI, Is your feature request related to a problem? Please describe. Recently `IContentFieldHandler` interface was added which allow us to add field level handlers. The following fields should have handler to handle the validation of each field. The same validation rules we have in the driver should apply.  Describe the solution you'd like Here is a list of the fields that need handler to validate them - ContentPickerField - DateField - DateTimeField - TimeField - LinkField - LocalizationSetContentPickerField - MultiTextField - TextField - UserPickerField - YoutubeField - GeoPointField - TaxonomyField,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Add field validation handlers to ensure field validation when contents are created outside the UI  Is your feature request related to a problem? Please describe. Recently `IContentFieldHandler` interface was added which allow us to add field level handlers. The following fields should have handler to handle the validation of each field. The same validation rules we have in the driver should apply.  Describe the solution you'd like Here is a list of the fields that need handler to validate them - ContentPickerField - DateField - DateTimeField - TimeField - LinkField - LocalizationSetContentPickerField - MultiTextField - TextField - UserPickerField - YoutubeField - GeoPointField - TaxonomyField other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
5802,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5802,Prevent custom scripts by default,"By default every content part should prevent an input from rendering `<script>` tags. This should be opt-in on a per type part level. This means that even if a part editor permits it, the rendering would filter these out. We can provide a reusable service as many parts will need it. As for templates, there is a permission to edit templates when the feature is enabled, such that not every user can edit templates and inject custom scripts in a view. Right now Editors can edit front-end templates, which is right. Contributors can't edit templates.",other-file | other-file | other-file | other-file | other-file | test-file,"Prevent custom scripts by default By default every content part should prevent an input from rendering `<script>` tags. This should be opt-in on a per type part level. This means that even if a part editor permits it, the rendering would filter these out. We can provide a reusable service as many parts will need it. As for templates, there is a permission to edit templates when the feature is enabled, such that not every user can edit templates and inject custom scripts in a view. Right now Editors can edit front-end templates, which is right. Contributors can't edit templates. other-file other-file other-file other-file other-file test-file",no-bug,0.9
6264,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6264,Set smtp settings though appsettings.json,"Is it possible to set smtp settings though appsettings.json and by extension by environment vars? We tried it without success? If not, would you accept a PR to allow that?",documentation-file,"Set smtp settings though appsettings.json Is it possible to set smtp settings though appsettings.json and by extension by environment vars? We tried it without success? If not, would you accept a PR to allow that? documentation-file",no-bug,0.9
5239,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5239,Missing Smtp fields,"Based on the specs, we should be able to set a From and Sender fields. Today we only ask for From and actually copy it to the Sender.  A.2. ORIGINATOR ITEMS A.2.1. Author-sent George Jones logs into his host as ""Jones"". He sends mail himself. From: Jones@Group.Org or From: George Jones <Jones@Group.Org> A.2.2. Secretary-sent George Jones logs in as Jones on his host. His secre- tary, who logs in as Secy sends mail for him. Replies to the mail should go to George. From: George Jones <Jones@Group> Sender: Secy@Other-Group A.2.3. Secretary-sent, for user of shared directory George Jones' secretary sends mail for George. Replies should go to George. From: George Jones<Shared@Group.Org> Sender: Secy@Other-Group Note that there need not be a space between ""Jones"" and the ""<"", but adding a space enhances readability (as is the case in other examples. A.2.4. Committee activity, with one author George is a member of a committee. He wishes to have any replies to his message go to all committee members. From: George Jones <Jones@Host.Net> Sender: Jones@Host Reply-To: The Committee: Jones@Host.Net, Smith@Other.Org, Doe@Somewhere-Else;  Also our current parsing seeks a space before `<`, though it's not mandatory to have one",other-file | other-file | config-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Missing Smtp fields Based on the specs, we should be able to set a From and Sender fields. Today we only ask for From and actually copy it to the Sender.  A.2. ORIGINATOR ITEMS A.2.1. Author-sent George Jones logs into his host as ""Jones"". He sends mail himself. From: Jones@Group.Org or From: George Jones <Jones@Group.Org> A.2.2. Secretary-sent George Jones logs in as Jones on his host. His secre- tary, who logs in as Secy sends mail for him. Replies to the mail should go to George. From: George Jones <Jones@Group> Sender: Secy@Other-Group A.2.3. Secretary-sent, for user of shared directory George Jones' secretary sends mail for George. Replies should go to George. From: George Jones<Shared@Group.Org> Sender: Secy@Other-Group Note that there need not be a space between ""Jones"" and the ""<"", but adding a space enhances readability (as is the case in other examples. A.2.4. Committee activity, with one author George is a member of a committee. He wishes to have any replies to his message go to all committee members. From: George Jones <Jones@Host.Net> Sender: Jones@Host Reply-To: The Committee: Jones@Host.Net, Smith@Other.Org, Doe@Somewhere-Else;  Also our current parsing seeks a space before `<`, though it's not mandatory to have one other-file other-file config-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
9070,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9070,ContentFieldIndexing of TimeField fails," ContentFieldIndexing of TimeField fails and prevents creating / updating content items with TimeField.  To Reproduce Steps to reproduce the behavior: 1. Enable ""Content Fields Indexing (SQL)"" feature 2. Create a ContentType with a TimeField 3. Try to create a content item of this type 4. See error  Expected behavior Of course, it should save.  Stack trace  2021-04-06 13:37:42.7482|Test|00-3d1a34d71e3c2a4cb192720115eac96e-1bc3c79ef47e6244-00||OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator|ERROR|IContentPartDisplayDriver thrown from OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver by SqlException Microsoft.Data.SqlClient.SqlException (0x80131904): Arithmetic overflow error converting expression to data type datetime. at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults) at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more) at Microsoft.Data.SqlClient.SqlDataReader.NextResult() at YesSql.Commands.CreateIndexCommand.<AddToBatch>b__6_0(DbDataReader dr) at YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver.UpdateAsync(AutoroutePart model, IUpdateModel updater, UpdatePartEditorContext context) at OrchardCore.ContentManagement.Display.ContentDisplay.ContentPartDisplayDriver`1.OrchardCore.ContentManagement.Display.ContentDisplay.IContentPartDisplayDriver.UpdateEditorAsync(ContentPart contentPart, ContentTypePartDefinition typePartDefinition, UpdateEditorContext context) at OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator.<>c.<<UpdateEditorAsync>b__11_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3](IEnumerable`1 events, Func`5 dispatch, T1 arg1, T2 arg2, T3 arg3, ILogger logger) ClientConnectionId:40508ab0-dcc0-41ad-a9d8-3c04d31ce1ca Error Number:8115,State:2,Class:16 ClientConnectionId before routing:3a979904-fa8e-4ce5-af20-6e969d173643 Routing Destination:b01ffdef8e69.tr16.westeurope1-a.worker.database.windows.net,11153 at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults) at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more) at Microsoft.Data.SqlClient.SqlDataReader.NextResult() at YesSql.Commands.CreateIndexCommand.<AddToBatch>b__6_0(DbDataReader dr) at YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver.UpdateAsync(AutoroutePart model, IUpdateModel updater, UpdatePartEditorContext context) at OrchardCore.ContentManagement.Display.ContentDisplay.ContentPartDisplayDriver`1.OrchardCore.ContentManagement.Display.ContentDisplay.IContentPartDisplayDriver.UpdateEditorAsync(ContentPart contentPart, ContentTypePartDefinition typePartDefinition, UpdateEditorContext context) at OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator.<>c.<<UpdateEditorAsync>b__11_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3](IEnumerable`1 events, Func`5 dispatch, T1 arg1, T2 arg2, T3 arg3, ILogger logger) ",other-file | other-file,"ContentFieldIndexing of TimeField fails  ContentFieldIndexing of TimeField fails and prevents creating / updating content items with TimeField.  To Reproduce Steps to reproduce the behavior: 1. Enable ""Content Fields Indexing (SQL)"" feature 2. Create a ContentType with a TimeField 3. Try to create a content item of this type 4. See error  Expected behavior Of course, it should save.  Stack trace  2021-04-06 13:37:42.7482|Test|00-3d1a34d71e3c2a4cb192720115eac96e-1bc3c79ef47e6244-00||OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator|ERROR|IContentPartDisplayDriver thrown from OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver by SqlException Microsoft.Data.SqlClient.SqlException (0x80131904): Arithmetic overflow error converting expression to data type datetime. at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults) at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more) at Microsoft.Data.SqlClient.SqlDataReader.NextResult() at YesSql.Commands.CreateIndexCommand.<AddToBatch>b__6_0(DbDataReader dr) at YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver.UpdateAsync(AutoroutePart model, IUpdateModel updater, UpdatePartEditorContext context) at OrchardCore.ContentManagement.Display.ContentDisplay.ContentPartDisplayDriver`1.OrchardCore.ContentManagement.Display.ContentDisplay.IContentPartDisplayDriver.UpdateEditorAsync(ContentPart contentPart, ContentTypePartDefinition typePartDefinition, UpdateEditorContext context) at OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator.<>c.<<UpdateEditorAsync>b__11_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3](IEnumerable`1 events, Func`5 dispatch, T1 arg1, T2 arg2, T3 arg3, ILogger logger) ClientConnectionId:40508ab0-dcc0-41ad-a9d8-3c04d31ce1ca Error Number:8115,State:2,Class:16 ClientConnectionId before routing:3a979904-fa8e-4ce5-af20-6e969d173643 Routing Destination:b01ffdef8e69.tr16.westeurope1-a.worker.database.windows.net,11153 at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction) at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose) at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows) at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults) at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more) at Microsoft.Data.SqlClient.SqlDataReader.NextResult() at YesSql.Commands.CreateIndexCommand.<AddToBatch>b__6_0(DbDataReader dr) at YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at OrchardCore.Autoroute.Drivers.AutoroutePartDisplayDriver.UpdateAsync(AutoroutePart model, IUpdateModel updater, UpdatePartEditorContext context) at OrchardCore.ContentManagement.Display.ContentDisplay.ContentPartDisplayDriver`1.OrchardCore.ContentManagement.Display.ContentDisplay.IContentPartDisplayDriver.UpdateEditorAsync(ContentPart contentPart, ContentTypePartDefinition typePartDefinition, UpdateEditorContext context) at OrchardCore.ContentManagement.Display.ContentItemDisplayCoordinator.<>c.<<UpdateEditorAsync>b__11_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3](IEnumerable`1 events, Func`5 dispatch, T1 arg1, T2 arg2, T3 arg3, ILogger logger)  other-file other-file",no-bug,0.9
7823,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7823,Allow json token as parameter name in recipe,"Currenty in recipes you can only use simple json parameter names passed in as parameter to parameters function eg  ""Text"": ""[js: parameters('FirstName')]""  I would like to use complex json names like  ""Text"": ""[js: parameters('Properties.FirstName')]"" ""Text"": ""[js: parameters('Properties.LastName')]""  my recipe I want to use looks like this :  ""LandingPage"": { ""FullName"": { ""Text"": ""[js: parameters('Properties.FirstName')]"" }, ""ProfessionalTitle"": { ""Text"": ""[js: parameters('Properties.ProfessionalTitle')]"" } },  submitting a pr to support this.",other-file,"Allow json token as parameter name in recipe Currenty in recipes you can only use simple json parameter names passed in as parameter to parameters function eg  ""Text"": ""[js: parameters('FirstName')]""  I would like to use complex json names like  ""Text"": ""[js: parameters('Properties.FirstName')]"" ""Text"": ""[js: parameters('Properties.LastName')]""  my recipe I want to use looks like this :  ""LandingPage"": { ""FullName"": { ""Text"": ""[js: parameters('Properties.FirstName')]"" }, ""ProfessionalTitle"": { ""Text"": ""[js: parameters('Properties.ProfessionalTitle')]"" } },  submitting a pr to support this. other-file",no-bug,0.9
5320,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5320,Lucene : SearchShapes,Would be nice to have a basic SearchShape. I'm creating this issue for keeping track of the feature.,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,Lucene : SearchShapes Would be nice to have a basic SearchShape. I'm creating this issue for keeping track of the feature. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file,no-bug,0.95
5154,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5154,TheBlogTheme and TheAgencyTheme Bootstrap has two bootstrap css files,"The Blog theme and The Agency theme defines two separate set of bootstrap Why? `TheBlogTheme/wwwroot/vendor/bootstrap/css/bootstrap.css` `TheBlogTheme/wwwroot/css/bootstrap-oc.css` and Both are registered in ResourceManifest.cs TheBlogTheme-vendor-bootstrap TheBlogTheme-bootstrap-oc Also both themes have their own gulpfile.js that builds css and js in ""vendor"" folder then why use Assets.json that only builds bootstrap-oc.css?",source-file | documentation-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file,"TheBlogTheme and TheAgencyTheme Bootstrap has two bootstrap css files The Blog theme and The Agency theme defines two separate set of bootstrap Why? `TheBlogTheme/wwwroot/vendor/bootstrap/css/bootstrap.css` `TheBlogTheme/wwwroot/css/bootstrap-oc.css` and Both are registered in ResourceManifest.cs TheBlogTheme-vendor-bootstrap TheBlogTheme-bootstrap-oc Also both themes have their own gulpfile.js that builds css and js in ""vendor"" folder then why use Assets.json that only builds bootstrap-oc.css? source-file documentation-file other-file other-file other-file other-file source-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file source-file documentation-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file",no-bug,0.9
12252,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12252,Unexpected expection thrown when testing the email settings with an invalid email," Describe the bug When testing the email settings with an invalid email format, the SmtpService display the following error  An error occurred while sending an email: 'Unexpected 'A' token at offset 5'   To Reproduce Steps to reproduce the behavior: 1. Enable `OC.Email` feature 2. Click on Configuration >> Settings >> Email 3. Make sure the email settings is configured. then click on ""Test settings"" button 4. Provide invalid formatted email address in the ""sender"" field. 5. Provide ""To"" email, ""Subject"" and ""Body"" and click send.  Expected behavior A clear and concise description of what you expected to happen.  Screenshots If applicable, add screenshots to help explain your problem.",other-file | other-file | other-file | other-file | other-file,"Unexpected expection thrown when testing the email settings with an invalid email  Describe the bug When testing the email settings with an invalid email format, the SmtpService display the following error  An error occurred while sending an email: 'Unexpected 'A' token at offset 5'   To Reproduce Steps to reproduce the behavior: 1. Enable `OC.Email` feature 2. Click on Configuration >> Settings >> Email 3. Make sure the email settings is configured. then click on ""Test settings"" button 4. Provide invalid formatted email address in the ""sender"" field. 5. Provide ""To"" email, ""Subject"" and ""Body"" and click send.  Expected behavior A clear and concise description of what you expected to happen.  Screenshots If applicable, add screenshots to help explain your problem. other-file other-file other-file other-file other-file",no-bug,0.9
8711,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8711,Duplicate SQL Running in MSSQLSERVER creating the site," Describe the bug When I create an orchard site with SQL Server it seems to be running T-SQL DDL Twice  To Reproduce Create an orchardcore site, with Azure Storage Shell (that part probably irrelevant). Create a SQL Server database, role and contained user like so: SQL /* EXEC sp_configure 'show advanced', 1 GO RECONFIGURE GO EXEC sp_configure 'contained database authentication', 1 GO RECONFIGURE GO */ /* USE MASTER; ALTER DATABASE orchard SET OFFLINE WITH ROLLBACK IMMEDIATE; ALTER DATABASE orchard SET ONLINE; DROP DATABASE orchard; GO */ CREATE DATABASE orchard; ALTER DATABASE orchard SET CONTAINMENT=PARTIAL; GO USE orchard; GO CREATE ROLE orchard_www; CREATE USER www WITH PASSWORD = '; ALTER USER [www] WITH DEFAULT_SCHEMA = dbo; ALTER ROLE [orchard_www] ADD MEMBER [www]; GRANT SELECT, INSERT, UPDATE, DELETE ON DATABASE::orchard TO [orchard_www]; GRANT ALTER ON SCHEMA::dbo TO [orchard_www]; GRANT CREATE TABLE, REFERENCES TO [orchard_www];  Begin a profiler or extended events session to look at DDL and user errors. Run `dotnet watch run ` in a terminal and hit up <https://localhost:5001>. Create a site with a SQL Server backend  Expected behavior No errors in profile.  Actual behavior The following tables created: ![image](https://user-images.githubusercontent.com/146930/109568411-e0d9bc80-7ab4-11eb-9441-45306b8761d6.png) But also the following errors indicating T-SQL is being run twice:  The operation failed because an index or statistics with name 'IX_Dimension' already exists on table 'Identifiers'. There is already an object named 'Identifiers' in the database. ",other-file | other-file,"Duplicate SQL Running in MSSQLSERVER creating the site  Describe the bug When I create an orchard site with SQL Server it seems to be running T-SQL DDL Twice  To Reproduce Create an orchardcore site, with Azure Storage Shell (that part probably irrelevant). Create a SQL Server database, role and contained user like so: SQL /* EXEC sp_configure 'show advanced', 1 GO RECONFIGURE GO EXEC sp_configure 'contained database authentication', 1 GO RECONFIGURE GO */ /* USE MASTER; ALTER DATABASE orchard SET OFFLINE WITH ROLLBACK IMMEDIATE; ALTER DATABASE orchard SET ONLINE; DROP DATABASE orchard; GO */ CREATE DATABASE orchard; ALTER DATABASE orchard SET CONTAINMENT=PARTIAL; GO USE orchard; GO CREATE ROLE orchard_www; CREATE USER www WITH PASSWORD = '; ALTER USER [www] WITH DEFAULT_SCHEMA = dbo; ALTER ROLE [orchard_www] ADD MEMBER [www]; GRANT SELECT, INSERT, UPDATE, DELETE ON DATABASE::orchard TO [orchard_www]; GRANT ALTER ON SCHEMA::dbo TO [orchard_www]; GRANT CREATE TABLE, REFERENCES TO [orchard_www];  Begin a profiler or extended events session to look at DDL and user errors. Run `dotnet watch run ` in a terminal and hit up <https://localhost:5001>. Create a site with a SQL Server backend  Expected behavior No errors in profile.  Actual behavior The following tables created: ![image](https://user-images.githubusercontent.com/146930/109568411-e0d9bc80-7ab4-11eb-9441-45306b8761d6.png) But also the following errors indicating T-SQL is being run twice:  The operation failed because an index or statistics with name 'IX_Dimension' already exists on table 'Identifiers'. There is already an object named 'Identifiers' in the database.  other-file other-file",no-bug,0.9
15588,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15588,Convert rendering a theme in the themes view to shapes to allow others to contribute to the output," Is your feature request related to a problem? Please describe. Today, there is no flexible way to contribute to the output of the Themes views. For example, there is no way to inject ""Customize"" button next to the Enable/Disable button to allow customizing the appearance.  Describe the solution you'd like Convert he concrete view of the Themes view to shapes so we can inject shapes into the output.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Convert rendering a theme in the themes view to shapes to allow others to contribute to the output  Is your feature request related to a problem? Please describe. Today, there is no flexible way to contribute to the output of the Themes views. For example, there is no way to inject ""Customize"" button next to the Enable/Disable button to allow customizing the appearance.  Describe the solution you'd like Convert he concrete view of the Themes view to shapes so we can inject shapes into the output. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
7291,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7291,Admin UI : Flowpart,Margin between elements is too short. The menu dropdown elements are unreachable when activating the forms feature.,other-file | documentation-file | documentation-file | documentation-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | documentation-file | other-file,Admin UI : Flowpart Margin between elements is too short. The menu dropdown elements are unreachable when activating the forms feature. other-file documentation-file documentation-file documentation-file other-file source-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file source-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file documentation-file documentation-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file documentation-file other-file,no-bug,0.9
15648,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15648,docker build failed," Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Go to 'the root folder of cms.web' 2. docker build --build-arg TARGETOS=linux -t linuxoc . 3. See error /app/OrchardCore/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore/OrchardCore.Application.Cms.Targets/OrchardCore.Application.Cms.Targets.csproj] 24.28 /app/OrchardCore/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore/OrchardCore.AuditTrail.Abstractions/OrchardCore.AuditTrail.Abstractions.csproj] 24.29 /app/OrchardCore.Modules/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore.Modules/OrchardCore.Autoroute/OrchardCore.Autoroute.csproj] 24.29 /app/OrchardCore.Modules/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore.Modules/OrchardCore.Alias/OrchardCore.Alias.csproj] 24.29 /app/OrchardCore/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore/OrchardCore.Admin.Abstractions/OrchardCore.Admin.Abstractions.csproj]  Expected behavior A clear and concise description of what you expected to happen. 4 because file Directory.Build.props under first OrchardCore is outside src which could not be copied to /app by this COPY ./src /app",other-file | container-file,"docker build failed  Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Go to 'the root folder of cms.web' 2. docker build --build-arg TARGETOS=linux -t linuxoc . 3. See error /app/OrchardCore/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore/OrchardCore.Application.Cms.Targets/OrchardCore.Application.Cms.Targets.csproj] 24.28 /app/OrchardCore/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore/OrchardCore.AuditTrail.Abstractions/OrchardCore.AuditTrail.Abstractions.csproj] 24.29 /app/OrchardCore.Modules/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore.Modules/OrchardCore.Autoroute/OrchardCore.Autoroute.csproj] 24.29 /app/OrchardCore.Modules/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore.Modules/OrchardCore.Alias/OrchardCore.Alias.csproj] 24.29 /app/OrchardCore/Directory.Build.props(3,3): error MSB4019: The imported project ""/Directory.Build.props"" was not found. Confirm that the expression in the Import declaration ""../../Directory.Build.props"" is correct, and that the file exists on disk. [/app/OrchardCore/OrchardCore.Admin.Abstractions/OrchardCore.Admin.Abstractions.csproj]  Expected behavior A clear and concise description of what you expected to happen. 4 because file Directory.Build.props under first OrchardCore is outside src which could not be copied to /app by this COPY ./src /app other-file container-file",no-bug,0.95
6740,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6740,Script helper no longer registering script at Foot by default,The documentation says that scripts using the tag helper will render in the FootScript by default if no at is declared however I noticed instead scripts are being rendered in the head section by default. Is the documentation wrong or the code wrong?,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Script helper no longer registering script at Foot by default The documentation says that scripts using the tag helper will render in the FootScript by default if no at is declared however I noticed instead scripts are being rendered in the head section by default. Is the documentation wrong or the code wrong? other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.8
17783,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17783,Release v2.1.7,"# Release Patch Preparation Guide ## Step 1: Backporting Pull Requests 1. **Identify Pull Requests**: Review any pull requests (PRs) that need to be backported to the release branch. These should be PRs that strictly contain bug fixes and nothing else. 2. **Backport Pull Requests**: For PRs merged into the `main` branch that need to be applied to the release branch (e.g., `release/2.1`), comment on the merged PR with `/backport to release/2.1`. This comment will trigger a GitHub Action to create a new PR with the same changes for the `release/2.1` branch. 3. **Merge PRs**: Once all necessary PRs are created, merge them into the `release/2.1` branch. ## Step 2: Code and Documentation Updates - [x] From the release branch (e.g., `release/2.1`), create a new temporary branch for the version (e.g., `release-prep/2.1.1`). - [x] Update version references in the documentation and code. Refer to [this PR](https://github.com/OrchardCMS/OrchardCore/pull/17065/files) for an example. The easiest way is to start with a search & replace on the previous version. Version Updates Checklist: - **Update `OrchardCore.Commons.props`**: Set `<VersionPrefix></VersionPrefix>` to the new version you're preparing for release. - **Update Module Versions**: Modify `src/OrchardCore/OrchardCore.Abstractions/Modules/Manifest/ManifestConstants.cs` to reflect the new version. - **Release Notes**: Finalize the release notes in the documentation, including: - Highlights and goals of the release. - Prerequisites for running the new version. - Upgrade steps and any breaking changes. - **Update Documentation Navigation**: Add the release notes page to the `mkdocs.yml` navigation and remove it from `not_in_nav`. - **Version Mentions**: Update all references to the new version throughout the documentation, including: - [Status in the root README](https://docs.orchardcore.net/en/latest/#status) - CLI templates and commands. - Relevant guides, such as the [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/latest/guides/decoupled-cms/) guide. - [x] Create a **version PR** titled `Release <version number>` (e.g., `Release 2.1.1`) from the version branch (e.g., `release/2.1.1`) into the release branch (e.g., `release/2.1`) - [x] In GitHub, manually run the `Preview - CI` workflow on your branch (NOT `main`). This will release a new preview version on Cloudsmith for testing. ## Step 3: Validation - [x] **Check Functionality**: Update [`OrchardCore.Samples`](https://github.com/OrchardCMS/OrchardCore.Samples) to the latest preview version generated in the previous step (just change the `OrchardCoreVersion` property in the root `Directory.Build.props` file). Ensure the samples work as expected. - [x] **Test Guides**: Test the following guides with NuGet packages from the Cloudsmith feed: - [Creating a modular ASP.NET Core application](https://docs.orchardcore.net/en/latest/guides/create-modular-application-mvc/) - [Creating an Orchard Core CMS website](https://docs.orchardcore.net/en/latest/guides/create-cms-application/) - [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/latest/guides/decoupled-cms/) - [x] If everything looks good and all checks pass, merge the version PR. ## Step 4: Creating the New Release 1. Navigate to the [GitHub Releases page](https://github.com/OrchardCMS/OrchardCore/releases/new). 2. In the ""**Choose a tag**"" menu, enter the new version number, including `v` (e.g., `v2.1.1`), and select ""**+ Create tag: v on publish**."" 3. Change the target branch from `main` to the release branch (e.g., `release/2.1`). 4. Enter the version number in the Title field (e.g., `2.1.1`). 5. Click **Generate release notes** to auto-generate release notes. 6. Add a link to the release notes on the docs site: `Check out the full release notes [here](https://docs.orchardcore.net/en/latest/releases/2.1.1/).` 7. Ensure the ""Set as the latest release"" checkbox is checked, then click **Publish release**. ## Step 5: Aligning Branches **Merge to `main`**: After releasing the new version, merge the release branch into the main branch to ensure `main` contains all administrative changes. - [ ] Create a pull request from the release branch (e.g., `release/2.1`) into `main`. - [ ] Resolve any merge conflicts using external tools (e.g., Fork) to avoid auto-merging `main` into the release branch. **Important**: DO NOT resolve conflicts using GitHub's interface; that will automatically merge `main` into the release branch, which must be avoided. - [ ] Merge the PR if all checks pass. If there are merge conflicts, then you'll need to merge to `main` manually using the following steps: 1. Fetch the latest changes from the Git repository. 2. `git checkout` the `main` branch. 3. Merge the release branch (e.g., `release/2.1`) into `main` with a merge commit (NOT a squash merge). Use the commit message pattern `Merge release/2.1.1 to main`. 4. Resolve any conflicts. 5. Push the changes to `main`. This action requires a user with the ability to force-push into `main`, as it is protected by default. 6. GitHub will automatically delete the release branch; to restore it, go back to the new merged PR. ## Step 6: Housekeeping - [ ] Assign the milestone for the release version to this issue. Create one if it doesn't exist. - [ ] Assign the milestone to the issues that were released in the version. - [ ] Close the milestone. - [ ] Update [`OrchardCore.Samples`](https://github.com/OrchardCMS/OrchardCore.Samples) to the newly released version (just change the `OrchardCoreVersion` property in the root `Directory.Build.props` file). ## Step 7: Publicizing the Release - [ ] Post about the release on X (formerly Twitter) via the [Orchard Core X (Twitter) repo](https://github.com/OrchardCMS/Orchard-Core-X-Twitter). - [ ] Post in the [Orchard Core LinkedIn group](https://www.linkedin.com/groups/13605669/). - [ ] Post to the [Orchard Core Facebook page](https://www.facebook.com/OrchardCore/). - [ ] Send a message to the `#announcements` channel on Discord.",config-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,"Release v2.1.7 # Release Patch Preparation Guide ## Step 1: Backporting Pull Requests 1. **Identify Pull Requests**: Review any pull requests (PRs) that need to be backported to the release branch. These should be PRs that strictly contain bug fixes and nothing else. 2. **Backport Pull Requests**: For PRs merged into the `main` branch that need to be applied to the release branch (e.g., `release/2.1`), comment on the merged PR with `/backport to release/2.1`. This comment will trigger a GitHub Action to create a new PR with the same changes for the `release/2.1` branch. 3. **Merge PRs**: Once all necessary PRs are created, merge them into the `release/2.1` branch. ## Step 2: Code and Documentation Updates - [x] From the release branch (e.g., `release/2.1`), create a new temporary branch for the version (e.g., `release-prep/2.1.1`). - [x] Update version references in the documentation and code. Refer to [this PR](https://github.com/OrchardCMS/OrchardCore/pull/17065/files) for an example. The easiest way is to start with a search & replace on the previous version. Version Updates Checklist: - **Update `OrchardCore.Commons.props`**: Set `<VersionPrefix></VersionPrefix>` to the new version you're preparing for release. - **Update Module Versions**: Modify `src/OrchardCore/OrchardCore.Abstractions/Modules/Manifest/ManifestConstants.cs` to reflect the new version. - **Release Notes**: Finalize the release notes in the documentation, including: - Highlights and goals of the release. - Prerequisites for running the new version. - Upgrade steps and any breaking changes. - **Update Documentation Navigation**: Add the release notes page to the `mkdocs.yml` navigation and remove it from `not_in_nav`. - **Version Mentions**: Update all references to the new version throughout the documentation, including: - [Status in the root README](https://docs.orchardcore.net/en/latest/#status) - CLI templates and commands. - Relevant guides, such as the [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/latest/guides/decoupled-cms/) guide. - [x] Create a **version PR** titled `Release <version number>` (e.g., `Release 2.1.1`) from the version branch (e.g., `release/2.1.1`) into the release branch (e.g., `release/2.1`) - [x] In GitHub, manually run the `Preview - CI` workflow on your branch (NOT `main`). This will release a new preview version on Cloudsmith for testing. ## Step 3: Validation - [x] **Check Functionality**: Update [`OrchardCore.Samples`](https://github.com/OrchardCMS/OrchardCore.Samples) to the latest preview version generated in the previous step (just change the `OrchardCoreVersion` property in the root `Directory.Build.props` file). Ensure the samples work as expected. - [x] **Test Guides**: Test the following guides with NuGet packages from the Cloudsmith feed: - [Creating a modular ASP.NET Core application](https://docs.orchardcore.net/en/latest/guides/create-modular-application-mvc/) - [Creating an Orchard Core CMS website](https://docs.orchardcore.net/en/latest/guides/create-cms-application/) - [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/latest/guides/decoupled-cms/) - [x] If everything looks good and all checks pass, merge the version PR. ## Step 4: Creating the New Release 1. Navigate to the [GitHub Releases page](https://github.com/OrchardCMS/OrchardCore/releases/new). 2. In the ""**Choose a tag**"" menu, enter the new version number, including `v` (e.g., `v2.1.1`), and select ""**+ Create tag: v on publish**."" 3. Change the target branch from `main` to the release branch (e.g., `release/2.1`). 4. Enter the version number in the Title field (e.g., `2.1.1`). 5. Click **Generate release notes** to auto-generate release notes. 6. Add a link to the release notes on the docs site: `Check out the full release notes [here](https://docs.orchardcore.net/en/latest/releases/2.1.1/).` 7. Ensure the ""Set as the latest release"" checkbox is checked, then click **Publish release**. ## Step 5: Aligning Branches **Merge to `main`**: After releasing the new version, merge the release branch into the main branch to ensure `main` contains all administrative changes. - [ ] Create a pull request from the release branch (e.g., `release/2.1`) into `main`. - [ ] Resolve any merge conflicts using external tools (e.g., Fork) to avoid auto-merging `main` into the release branch. **Important**: DO NOT resolve conflicts using GitHub's interface; that will automatically merge `main` into the release branch, which must be avoided. - [ ] Merge the PR if all checks pass. If there are merge conflicts, then you'll need to merge to `main` manually using the following steps: 1. Fetch the latest changes from the Git repository. 2. `git checkout` the `main` branch. 3. Merge the release branch (e.g., `release/2.1`) into `main` with a merge commit (NOT a squash merge). Use the commit message pattern `Merge release/2.1.1 to main`. 4. Resolve any conflicts. 5. Push the changes to `main`. This action requires a user with the ability to force-push into `main`, as it is protected by default. 6. GitHub will automatically delete the release branch; to restore it, go back to the new merged PR. ## Step 6: Housekeeping - [ ] Assign the milestone for the release version to this issue. Create one if it doesn't exist. - [ ] Assign the milestone to the issues that were released in the version. - [ ] Close the milestone. - [ ] Update [`OrchardCore.Samples`](https://github.com/OrchardCMS/OrchardCore.Samples) to the newly released version (just change the `OrchardCoreVersion` property in the root `Directory.Build.props` file). ## Step 7: Publicizing the Release - [ ] Post about the release on X (formerly Twitter) via the [Orchard Core X (Twitter) repo](https://github.com/OrchardCMS/Orchard-Core-X-Twitter). - [ ] Post in the [Orchard Core LinkedIn group](https://www.linkedin.com/groups/13605669/). - [ ] Post to the [Orchard Core Facebook page](https://www.facebook.com/OrchardCore/). - [ ] Send a message to the `#announcements` channel on Discord. config-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file",no-bug,0.95
5694,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5694,"""Attached"" Media Field No Longer Able to Upload File","I am trying to determine what changed and will add an update here when available. As of right now though (code updated a couple of days ago) a Media Field set up as ""Attached"" will throw an error of  {Field Name}: There was an error handling the files. ",other-file | other-file | other-file | other-file,"""Attached"" Media Field No Longer Able to Upload File I am trying to determine what changed and will add an update here when available. As of right now though (code updated a couple of days ago) a Media Field set up as ""Attached"" will throw an error of  {Field Name}: There was an error handling the files.  other-file other-file other-file other-file",bug,0.8
6567,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6567,"AliasPartContentAliasProvider doesn't return a content item ID unless alias is prefixed with ""alias:""","The parameters of the AliasPartContentAliasProvider seem to indicate that this provider can be provided with any alias, with or without ""alias:"" in front of it. To me AliasPartContentAliasProvider.cs lines 25-26 look like their place should be outside of the if statement checking whether the alias starts with ""alias:"" or not.",other-file,"AliasPartContentAliasProvider doesn't return a content item ID unless alias is prefixed with ""alias:"" The parameters of the AliasPartContentAliasProvider seem to indicate that this provider can be provided with any alias, with or without ""alias:"" in front of it. To me AliasPartContentAliasProvider.cs lines 25-26 look like their place should be outside of the if statement checking whether the alias starts with ""alias:"" or not. other-file",no-bug,0.8
7560,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7560,"Can't create new users anymore, stuck in loop","Just updated to the latest bits on dev, can't create new users anymore. Code is stuck in this loop: https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore/OrchardCore.Users.Core/Services/UserStore.cs#L87 Not sure why. A new UserId is generated correctly but the query still finds it.",other-file | other-file,"Can't create new users anymore, stuck in loop Just updated to the latest bits on dev, can't create new users anymore. Code is stuck in this loop: https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore/OrchardCore.Users.Core/Services/UserStore.cs#L87 Not sure why. A new UserId is generated correctly but the query still finds it. other-file other-file",no-bug,0.7
16028,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16028,Unnecessary placement rules in OrchardCore.Contents,"Currently in OrchardCore.Contents module there is a placement rule in placements. json as so :  ""Content_PublishButton"": [ { ""place"": ""Actions:5"" // Same as in the driver } ],  Apart from that the placement is already set from the driver this prevents other modules to add there own placement rule for this shape unless they take a dependency on this module. Also there is a placement rule :  ""Content_SaveButton"": [ { ""place"": ""Actions:6"" // Move the save button after the publish } ],  that is not used anywhere as there is no shape with this name. I propose to remove these 2 rules.",documentation-file,"Unnecessary placement rules in OrchardCore.Contents Currently in OrchardCore.Contents module there is a placement rule in placements. json as so :  ""Content_PublishButton"": [ { ""place"": ""Actions:5"" // Same as in the driver } ],  Apart from that the placement is already set from the driver this prevents other modules to add there own placement rule for this shape unless they take a dependency on this module. Also there is a placement rule :  ""Content_SaveButton"": [ { ""place"": ""Actions:6"" // Move the save button after the publish } ],  that is not used anywhere as there is no shape with this name. I propose to remove these 2 rules. documentation-file",no-bug,0.9
15161,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15161,Layer rule buttons aren't aligned in 1.8.2," Describe the bug When editing a layer, the Edit and Delete buttons for the layer rules are no longer aligned after the 1.8.2 update.  To Reproduce Steps to reproduce the behavior: 1. Cook a new Orchard Core 1.8.2 site using the ""Agency"" recipe 2. Log in to the admin panel and go to Design > Widgets 3. Add a layer or edit an existing layer 4. Add multiple rules to the layer You should now see the buttons displaying out of alignment  Expected behavior The buttons should be aligned as they were in previous releases.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/153218770/434ae220-9c60-4425-a664-d2cf3f81c36c)",other-file,"Layer rule buttons aren't aligned in 1.8.2  Describe the bug When editing a layer, the Edit and Delete buttons for the layer rules are no longer aligned after the 1.8.2 update.  To Reproduce Steps to reproduce the behavior: 1. Cook a new Orchard Core 1.8.2 site using the ""Agency"" recipe 2. Log in to the admin panel and go to Design > Widgets 3. Add a layer or edit an existing layer 4. Add multiple rules to the layer You should now see the buttons displaying out of alignment  Expected behavior The buttons should be aligned as they were in previous releases.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/153218770/434ae220-9c60-4425-a664-d2cf3f81c36c) other-file",no-bug,0.95
14748,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14748,Remove useless `NotifyUserTask`,I think the `NotifyUserTask` is useless and should be removed. Unless we salvage it by adding a required username input so the user can specify a username to notify.,other-file | other-file | other-file | other-file | other-file,Remove useless `NotifyUserTask` I think the `NotifyUserTask` is useless and should be removed. Unless we salvage it by adding a required username input so the user can specify a username to notify. other-file other-file other-file other-file other-file,no-bug,0.9
7540,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7540,UserService.FindByUsernameOrEmailAsync could find a user other than the one intended,"[UserService.FindByUsernameOrEmailAsync](https://github.com/OrchardCMS/OrchardCore/blob/7a2e676b44dd1c9070c9b8495e6a6c07aa99c941/src/OrchardCore/OrchardCore.Users.Core/Services/UserService.cs#L213) first tries to find a user by username, then by email address. However, what should happen in this scenario, where the email address of one user is the username of another? I was able to create these users in a fresh site using the blog theme. ![image](https://user-images.githubusercontent.com/68876423/98409712-566ed800-2041-11eb-8fea-e353036f7d1d.png) It seems like `UserService.FindByUsernameOrEmailAsync` will always prefer the user with the name over the user with the email. At a minimum, I know the reset password feature uses this method, so the reset email could be sent to the wrong user.",other-file,"UserService.FindByUsernameOrEmailAsync could find a user other than the one intended [UserService.FindByUsernameOrEmailAsync](https://github.com/OrchardCMS/OrchardCore/blob/7a2e676b44dd1c9070c9b8495e6a6c07aa99c941/src/OrchardCore/OrchardCore.Users.Core/Services/UserService.cs#L213) first tries to find a user by username, then by email address. However, what should happen in this scenario, where the email address of one user is the username of another? I was able to create these users in a fresh site using the blog theme. ![image](https://user-images.githubusercontent.com/68876423/98409712-566ed800-2041-11eb-8fea-e353036f7d1d.png) It seems like `UserService.FindByUsernameOrEmailAsync` will always prefer the user with the name over the user with the email. At a minimum, I know the reset password feature uses this method, so the reset email could be sent to the wrong user. other-file",no-bug,0.8
17542,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17542,Refine the admin menu,"@Piedone, during the Admin Menu refactoring, you mentioned placing ""Features"" under ""Settings""and that thought still lingers with me! :) After gathering more feedback post-rollout, Id like to propose a small refinement to further improve the admin menus usability. Currently, the **Tools** section includes some tools that are settings-related but function as tools rather than just configuration forms. To address this, I suggest adding a **""Management""** subcategory under **Settings** to house these settings-related tools. The updated structure would be: - **Settings**  **Management**  Features - **Settings**  **Management**  URL Rewriting Additionally, the **""OpenID Connect""** should be moved out of the **""Security""** submenu under Settings for better visibility and alignment. Instead of: - **Settings**  **Security**  **OpenID Connect**  Authentication Client - **Settings**  **Security**  **OpenID Connect**  Authentication Server - **Settings**  **Security**  **OpenID Connect**  Token Validation It would be: - **Settings**  **OpenID Connect**  Authentication Client - **Settings**  **OpenID Connect**  Authentication Server - **Settings**  **OpenID Connect**  Token Validation @gvkries, since you were part of the original discussions, Id love to hear your thoughts on this!",other-file | other-file | other-file,"Refine the admin menu @Piedone, during the Admin Menu refactoring, you mentioned placing ""Features"" under ""Settings""and that thought still lingers with me! :) After gathering more feedback post-rollout, Id like to propose a small refinement to further improve the admin menus usability. Currently, the **Tools** section includes some tools that are settings-related but function as tools rather than just configuration forms. To address this, I suggest adding a **""Management""** subcategory under **Settings** to house these settings-related tools. The updated structure would be: - **Settings**  **Management**  Features - **Settings**  **Management**  URL Rewriting Additionally, the **""OpenID Connect""** should be moved out of the **""Security""** submenu under Settings for better visibility and alignment. Instead of: - **Settings**  **Security**  **OpenID Connect**  Authentication Client - **Settings**  **Security**  **OpenID Connect**  Authentication Server - **Settings**  **Security**  **OpenID Connect**  Token Validation It would be: - **Settings**  **OpenID Connect**  Authentication Client - **Settings**  **OpenID Connect**  Authentication Server - **Settings**  **OpenID Connect**  Token Validation @gvkries, since you were part of the original discussions, Id love to hear your thoughts on this! other-file other-file other-file",no-bug,0.95
11827,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11827,Add description to content types," Is your feature request related to a problem? Please describe. I created `StudentGoal`, `StrengthGoal`, and few other content types, where each have an attached `BagPart` that would allow the user to add multiple notes to each goal. I also created `StudentGoalNote`, `StrengthGoalNote`, and other notes to allow a user with permission add notes ""different kind of notes"". The reason I have multiple different note types is because I want to different roles to have different permission (some roles my be able to add a specific note but not all type of notes.) However, since these `StudentGoalNote`, `StrengthGoalNote`, and others are nothing but note to the user, I want the display name to be ""Note"" so it makes sense on the UI for the user. Below is a screenshot from the admin panel ![image](https://user-images.githubusercontent.com/24724371/172496903-a08a6a57-ccbd-4193-a22e-d7c1592bf849.png) The above looks good and does exactly what I want. However, since all these notes have the same display name, this makes the content-type UI not friendly. Note this is not a duplicate problem, each of these note serves a different purpose but should be called ""Note"" ![image](https://user-images.githubusercontent.com/24724371/172497452-9f5ed4d6-2bfa-4678-bb4c-a80476d710ed.png)  Describe the solution you'd like If the Content-type have description like `ContentPart` does, this would solve the problem and I would be able to add a description to the Content-Type describing what each note actually is used for. If this something would be accepted, I would submit a PR.",other-file | other-file | other-file | other-file | other-file | other-file,"Add description to content types  Is your feature request related to a problem? Please describe. I created `StudentGoal`, `StrengthGoal`, and few other content types, where each have an attached `BagPart` that would allow the user to add multiple notes to each goal. I also created `StudentGoalNote`, `StrengthGoalNote`, and other notes to allow a user with permission add notes ""different kind of notes"". The reason I have multiple different note types is because I want to different roles to have different permission (some roles my be able to add a specific note but not all type of notes.) However, since these `StudentGoalNote`, `StrengthGoalNote`, and others are nothing but note to the user, I want the display name to be ""Note"" so it makes sense on the UI for the user. Below is a screenshot from the admin panel ![image](https://user-images.githubusercontent.com/24724371/172496903-a08a6a57-ccbd-4193-a22e-d7c1592bf849.png) The above looks good and does exactly what I want. However, since all these notes have the same display name, this makes the content-type UI not friendly. Note this is not a duplicate problem, each of these note serves a different purpose but should be called ""Note"" ![image](https://user-images.githubusercontent.com/24724371/172497452-9f5ed4d6-2bfa-4678-bb4c-a80476d710ed.png)  Describe the solution you'd like If the Content-type have description like `ContentPart` does, this would solve the problem and I would be able to add a description to the Content-Type describing what each note actually is used for. If this something would be accepted, I would submit a PR. other-file other-file other-file other-file other-file other-file",no-bug,0.95
9064,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9064,WorkflowTypeIndex not available for subsequent recipe steps?," Describe the bug I was using build 15800 for a while, and during that time, I built a web app that I could completely recreate on a fresh local tenant using a recipe via Blank recipe + Package Import. It would turn on a set of features, define content types, define workflows, and then create content items with forms that submit to the workflows. I then updated to build 16039. Now, when I create a Blank tenant and run the recipe to recreate the app locally (for regression testing purposes), I find that the ""Package Import"" process fails when attempting to create the content items. The error I get is `SQLite Error 1: 'no such table: WorkflowTypeIndex'.` This never happened previously, so I'm wondering if something changed to where the indexes' creation has been delayed or something? I would have thought the index would be created when the feature is turned on, which would have been completed at the end of the Feature recipe step, so the subsequent `content` step would be executing with the index already existing. Is there something I'm missing? The recipe steps I have are 1. Feature - ""Application.Default"", - [CustomFormWidgets] - ""OrchardCore.Liquid"", - ""OrchardCore.Scripting"", - ""OrchardCore.Workflows"", - ""OrchardCore.Workflows.Http"", - [CustomLiquidFilters] - ""OrchardCore.Microsoft.Authentication.AzureAD"", - ""OrchardCore.Resources"", - ""OrchardCore.Email"", - ""OrchardCore.Users"", - ""OrchardCore.Users.Registration"", - [CustomAuthentication], - [CustomWorkflowActivities], - ""OrchardCore.Settings"", - ""OrchardCore.Admin"", - ""OrchardCore.Templates"", - ""OrchardCore.Contents"", - ""OrchardCore.ContentTypes"", - ""OrchardCore.Alias"", - ""OrchardCore.Autoroute"", - ""OrchardCore.Shortcodes"", - ""OrchardCore.ContentFields"", - ""OrchardCore.ContentPreview"", - ""OrchardCore.Deployment"", - ""OrchardCore.Contents.Deployment.AddToDeploymentPlan"", - ""OrchardCore.Contents.FileContentDefinition"", - ""OrchardCore.CustomSettings"", - ""OrchardCore.Deployment.Remote"", - ""OrchardCore.Diagnostics"", - ""OrchardCore.DynamicCache"", - ""OrchardCore.Widgets"", - ""OrchardCore.Features"", - ""OrchardCore.Feeds"", - ""OrchardCore.Flows"", - ""OrchardCore.Forms"", - ""OrchardCore.HomeRoute"", - ""OrchardCore.Html"", - ""OrchardCore.Indexing"", - ""OrchardCore.Layers"", - ""OrchardCore.Lists"", - ""OrchardCore.Lucene"", - ""OrchardCore.Markdown"", - ""OrchardCore.Media"", - ""OrchardCore.Title"", - ""OrchardCore.Menu"", - ""OrchardCore.Navigation"", - ""OrchardCore.Recipes"", - ""OrchardCore.Roles"", - ""OrchardCore.Shortcodes.Templates"", - ""OrchardCore.Taxonomies"", - ""OrchardCore.Taxonomies.ContentsAdminList"", - ""OrchardCore.Themes"", - ""TheAdmin"", - [CustomAdminTheme], - [CustomFrontendTheme] 2. WorkflowType 3. Templates 4. ContentDefinition 5. Themes 6. CustomStepToRefreshWorkflowHttpRequestTokens 7. content - main menu - side menu - form1 - form2 The recipe executes successfully if I just remove the last `content` step, but it fails if the `content` step is included. Aside from the forms having some custom shortcodes in an HtmlBodyPart, they are typical run-of-the-mill forms without any custom functionality. This leads me to think the problem lies somewhere else, especially since it all worked fine before updating to the latest dev build. I also wondered if maybe the recipe deployment plan made from a 15800 build was having issues being imported into a 16039 build? But the content/format looked largely the same.  To Reproduce Steps to reproduce the behavior: 1. Have similar recipe steps executed on a Blank fresh tenant with a SQLite database? Not sure how best to reproduce it.  Expected behavior Able to successfully import content.",other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file | test-file | test-file,"WorkflowTypeIndex not available for subsequent recipe steps?  Describe the bug I was using build 15800 for a while, and during that time, I built a web app that I could completely recreate on a fresh local tenant using a recipe via Blank recipe + Package Import. It would turn on a set of features, define content types, define workflows, and then create content items with forms that submit to the workflows. I then updated to build 16039. Now, when I create a Blank tenant and run the recipe to recreate the app locally (for regression testing purposes), I find that the ""Package Import"" process fails when attempting to create the content items. The error I get is `SQLite Error 1: 'no such table: WorkflowTypeIndex'.` This never happened previously, so I'm wondering if something changed to where the indexes' creation has been delayed or something? I would have thought the index would be created when the feature is turned on, which would have been completed at the end of the Feature recipe step, so the subsequent `content` step would be executing with the index already existing. Is there something I'm missing? The recipe steps I have are 1. Feature - ""Application.Default"", - [CustomFormWidgets] - ""OrchardCore.Liquid"", - ""OrchardCore.Scripting"", - ""OrchardCore.Workflows"", - ""OrchardCore.Workflows.Http"", - [CustomLiquidFilters] - ""OrchardCore.Microsoft.Authentication.AzureAD"", - ""OrchardCore.Resources"", - ""OrchardCore.Email"", - ""OrchardCore.Users"", - ""OrchardCore.Users.Registration"", - [CustomAuthentication], - [CustomWorkflowActivities], - ""OrchardCore.Settings"", - ""OrchardCore.Admin"", - ""OrchardCore.Templates"", - ""OrchardCore.Contents"", - ""OrchardCore.ContentTypes"", - ""OrchardCore.Alias"", - ""OrchardCore.Autoroute"", - ""OrchardCore.Shortcodes"", - ""OrchardCore.ContentFields"", - ""OrchardCore.ContentPreview"", - ""OrchardCore.Deployment"", - ""OrchardCore.Contents.Deployment.AddToDeploymentPlan"", - ""OrchardCore.Contents.FileContentDefinition"", - ""OrchardCore.CustomSettings"", - ""OrchardCore.Deployment.Remote"", - ""OrchardCore.Diagnostics"", - ""OrchardCore.DynamicCache"", - ""OrchardCore.Widgets"", - ""OrchardCore.Features"", - ""OrchardCore.Feeds"", - ""OrchardCore.Flows"", - ""OrchardCore.Forms"", - ""OrchardCore.HomeRoute"", - ""OrchardCore.Html"", - ""OrchardCore.Indexing"", - ""OrchardCore.Layers"", - ""OrchardCore.Lists"", - ""OrchardCore.Lucene"", - ""OrchardCore.Markdown"", - ""OrchardCore.Media"", - ""OrchardCore.Title"", - ""OrchardCore.Menu"", - ""OrchardCore.Navigation"", - ""OrchardCore.Recipes"", - ""OrchardCore.Roles"", - ""OrchardCore.Shortcodes.Templates"", - ""OrchardCore.Taxonomies"", - ""OrchardCore.Taxonomies.ContentsAdminList"", - ""OrchardCore.Themes"", - ""TheAdmin"", - [CustomAdminTheme], - [CustomFrontendTheme] 2. WorkflowType 3. Templates 4. ContentDefinition 5. Themes 6. CustomStepToRefreshWorkflowHttpRequestTokens 7. content - main menu - side menu - form1 - form2 The recipe executes successfully if I just remove the last `content` step, but it fails if the `content` step is included. Aside from the forms having some custom shortcodes in an HtmlBodyPart, they are typical run-of-the-mill forms without any custom functionality. This leads me to think the problem lies somewhere else, especially since it all worked fine before updating to the latest dev build. I also wondered if maybe the recipe deployment plan made from a 15800 build was having issues being imported into a 16039 build? But the content/format looked largely the same.  To Reproduce Steps to reproduce the behavior: 1. Have similar recipe steps executed on a Blank fresh tenant with a SQLite database? Not sure how best to reproduce it.  Expected behavior Able to successfully import content. other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file test-file test-file",no-bug,0.8
6655,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6655,Edit CommonPart Created date,"If you want to edit the CreatedDate of a content by adding a CommonPart and checking the 'Display date editor' setting, then the input is displayed with seconds and milliseconds. Ex if the value is 2020-07-14T00:00:12.345: ![image](https://user-images.githubusercontent.com/703248/87355928-7f82ce80-c561-11ea-8927-95ca3d566c4d.png) Unfortunately, a datetime-local input doesn't let you edit the seconds or milliseconds: https://stackoverflow.com/questions/58023438/cant-set-seconds-value-of-input-type-datetime-local-to-be-0 https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/datetime-local I suggest to display only the hours and minutes or else, you won't be able to set a ""rounded"" date.",other-file | other-file,"Edit CommonPart Created date If you want to edit the CreatedDate of a content by adding a CommonPart and checking the 'Display date editor' setting, then the input is displayed with seconds and milliseconds. Ex if the value is 2020-07-14T00:00:12.345: ![image](https://user-images.githubusercontent.com/703248/87355928-7f82ce80-c561-11ea-8927-95ca3d566c4d.png) Unfortunately, a datetime-local input doesn't let you edit the seconds or milliseconds: https://stackoverflow.com/questions/58023438/cant-set-seconds-value-of-input-type-datetime-local-to-be-0 https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/datetime-local I suggest to display only the hours and minutes or else, you won't be able to set a ""rounded"" date. other-file other-file",no-bug,0.9
6276,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6276,Content Types with restricted FlowParts are only enforced the first time,"We have created a custom ContentType with the following parts: * Title * Autoroute * Flow * Location We have also restricted the FlowPart so that it can only contain *Html* ContentType instances. When we create a new content of this new type, the available types to use are in fact restricted to just *Html*. Howerver, after having inserted the first (restricted) one, if we try to further add more widgets to that very same content, they are not restricted: all of them are available. We are using OC 1.0.0-rc1-13168. Can someone confirm or are we doing something wrong?",source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | config-file | documentation-file | other-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file,"Content Types with restricted FlowParts are only enforced the first time We have created a custom ContentType with the following parts: * Title * Autoroute * Flow * Location We have also restricted the FlowPart so that it can only contain *Html* ContentType instances. When we create a new content of this new type, the available types to use are in fact restricted to just *Html*. Howerver, after having inserted the first (restricted) one, if we try to further add more widgets to that very same content, they are not restricted: all of them are available. We are using OC 1.0.0-rc1-13168. Can someone confirm or are we doing something wrong? source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file other-file source-file source-file other-file config-file documentation-file other-file config-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file",no-bug,0.8
5425,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5425,Bulk Action on Features not enabling if dependency exists with another feature,"When you want to enable a feature that has a dependency by using the 'Bulk Actions' dropdown list, the dependent feature is enabled but not the selected one.",other-file | other-file | other-file,"Bulk Action on Features not enabling if dependency exists with another feature When you want to enable a feature that has a dependency by using the 'Bulk Actions' dropdown list, the dependent feature is enabled but not the selected one. other-file other-file other-file",no-bug,0.7
5359,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5359,Sort widget list alphabetically,"When having to insert widgets in the FlowPart content editor, the list of all widgets are displayed according to creation date which gets quite messy with a lot of widgets. An ideal solution would be to be able to sort and group widgets in some custom editor, but an easy solution for now would be to simply sort the name of the widgets alphabetically to give it some easy structure.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Sort widget list alphabetically When having to insert widgets in the FlowPart content editor, the list of all widgets are displayed according to creation date which gets quite messy with a lot of widgets. An ideal solution would be to be able to sort and group widgets in some custom editor, but an easy solution for now would be to simply sort the name of the widgets alphabetically to give it some easy structure. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
12670,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12670,Move Tenants menu under Multi Tenancy menu,"Move ""Tenants"" and ""Tenant Feature Profile"" under new menu ""Multi Tenancy"" ![image](https://user-images.githubusercontent.com/23270244/196817556-6b955616-a169-4030-9b69-21d868783d63.png)",other-file | config-file | test-file | config-file | config-file | config-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | container-file | container-file | other-file | other-file | documentation-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Move Tenants menu under Multi Tenancy menu Move ""Tenants"" and ""Tenant Feature Profile"" under new menu ""Multi Tenancy"" ![image](https://user-images.githubusercontent.com/23270244/196817556-6b955616-a169-4030-9b69-21d868783d63.png) other-file config-file test-file config-file config-file config-file source-file source-file source-file documentation-file documentation-file documentation-file container-file container-file other-file other-file documentation-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
16414,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16414,Failed to read the 'ContentDefinitionRecord' from the distributed cache System.Text.Json.JsonException," Describe the bug When enabling REDIS cache feature. I randomly get the following exception in the logs  ERROR|Failed to read the 'ContentDefinitionRecord' from the distributed cache System.Text.Json.JsonException: '0x1F' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0. > System.Text.Json.JsonReaderException: '0x1F' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0. at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes) at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker) at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first) at System.Text.Json.Utf8JsonReader.ReadSingleSegment() at System.Text.Json.Utf8JsonReader.Read() at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)  End of inner exception stack trace  at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options) at System.Text.Json.JConvert.DeserializeObject[TValue](String json, JsonSerializerOptions options) at OrchardCore.Documents.DefaultDocumentSerializer.DeserializeAsync[TDocument](Byte[] data) at OrchardCore.Documents.DocumentManager`1.GetFromDistributedCacheAsync() at OrchardCore.Documents.DocumentManager`1.GetInternalAsync(Boolean failover) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options) at System.Text.Json.JConvert.DeserializeObject[TValue](String json, JsonSerializerOptions options) at OrchardCore.Documents.DefaultDocumentSerializer.DeserializeAsync[TDocument](Byte[] data) at OrchardCore.Documents.DocumentManager`1.GetFromDistributedCacheAsync() at OrchardCore.Documents.DocumentManager`1.GetInternalAsync(Boolean failover) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync)   Orchard Core version 2.0.0  To Reproduce Steps to reproduce the behavior: 1. Enabled REDIS cache 2. reload couple of pages",other-file,"Failed to read the 'ContentDefinitionRecord' from the distributed cache System.Text.Json.JsonException  Describe the bug When enabling REDIS cache feature. I randomly get the following exception in the logs  ERROR|Failed to read the 'ContentDefinitionRecord' from the distributed cache System.Text.Json.JsonException: '0x1F' is an invalid start of a value. Path: $ | LineNumber: 0 | BytePositionInLine: 0. > System.Text.Json.JsonReaderException: '0x1F' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0. at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes) at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker) at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first) at System.Text.Json.Utf8JsonReader.ReadSingleSegment() at System.Text.Json.Utf8JsonReader.Read() at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)  End of inner exception stack trace  at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options) at System.Text.Json.JConvert.DeserializeObject[TValue](String json, JsonSerializerOptions options) at OrchardCore.Documents.DefaultDocumentSerializer.DeserializeAsync[TDocument](Byte[] data) at OrchardCore.Documents.DocumentManager`1.GetFromDistributedCacheAsync() at OrchardCore.Documents.DocumentManager`1.GetInternalAsync(Boolean failover) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex) at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount) at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo) at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options) at System.Text.Json.JConvert.DeserializeObject[TValue](String json, JsonSerializerOptions options) at OrchardCore.Documents.DefaultDocumentSerializer.DeserializeAsync[TDocument](Byte[] data) at OrchardCore.Documents.DocumentManager`1.GetFromDistributedCacheAsync() at OrchardCore.Documents.DocumentManager`1.GetInternalAsync(Boolean failover) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync)   Orchard Core version 2.0.0  To Reproduce Steps to reproduce the behavior: 1. Enabled REDIS cache 2. reload couple of pages other-file",no-bug,0.9
5180,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5180,Search page returns : Search is not configured.,This is due to the fact that when a recipe doesn't provide a LuceneSettings it will not find any up untill we save the settings from the Search settings form in the admin.,other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | config-file | other-file | config-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | config-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,Search page returns : Search is not configured. This is due to the fact that when a recipe doesn't provide a LuceneSettings it will not find any up untill we save the settings from the Search settings form in the admin. other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file source-file other-file other-file source-file source-file other-file source-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file source-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file test-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file config-file other-file config-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file config-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file,no-bug,0.7
11050,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11050,Orchard logo as icon for each NuGet package," Is your feature request related to a problem? Please describe. We could have [an icon](https://docs.microsoft.com/en-us/nuget/reference/msbuild-targets#packing-an-icon-image-file) for the NuGet packages instead of the default one: ![image](https://user-images.githubusercontent.com/1976647/150584964-2df43ee2-7cb8-4970-804a-2733803cf2ab.png) This is a bit of branding.  Describe the solution you'd like This can be added by using a single central logo file in from the root, then along the lines of this in a Directory.Build.props file: xml <Project> <PropertyGroup> <PackageIcon>NuGetIcon.png</PackageIcon> </PropertyGroup> <ItemGroup> <None Include=""NuGetIcon.png"" Pack=""true"" PackagePath=""\""/> </ItemGroup> <!-- Copying the Orchard logo as an icon to all NuGet-published projects. --> <Target Name=""Copy NuGet icon"" AfterTargets=""AfterResolveReferences""> <Copy SourceFiles=""$(MSBuildThisFileDirectory)OrchardCoreNuGetIcon.png"" DestinationFiles=""$(ProjectDir)NuGetIcon.png"" SkipUnchangedFiles=""true"" /> </Target> </Project>   Describe alternatives you've considered Leaving it as it is.",other-file | other-file | other-file,"Orchard logo as icon for each NuGet package  Is your feature request related to a problem? Please describe. We could have [an icon](https://docs.microsoft.com/en-us/nuget/reference/msbuild-targets#packing-an-icon-image-file) for the NuGet packages instead of the default one: ![image](https://user-images.githubusercontent.com/1976647/150584964-2df43ee2-7cb8-4970-804a-2733803cf2ab.png) This is a bit of branding.  Describe the solution you'd like This can be added by using a single central logo file in from the root, then along the lines of this in a Directory.Build.props file: xml <Project> <PropertyGroup> <PackageIcon>NuGetIcon.png</PackageIcon> </PropertyGroup> <ItemGroup> <None Include=""NuGetIcon.png"" Pack=""true"" PackagePath=""\""/> </ItemGroup> <!-- Copying the Orchard logo as an icon to all NuGet-published projects. --> <Target Name=""Copy NuGet icon"" AfterTargets=""AfterResolveReferences""> <Copy SourceFiles=""$(MSBuildThisFileDirectory)OrchardCoreNuGetIcon.png"" DestinationFiles=""$(ProjectDir)NuGetIcon.png"" SkipUnchangedFiles=""true"" /> </Target> </Project>   Describe alternatives you've considered Leaving it as it is. other-file other-file other-file",no-bug,0.95
16445,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16445,Unsafe async behavior in `DefaultShapeTableManager`," Describe the bug In cases when `DefaultShapeTableManager.GetShapeTableAsync()` is called from multiple requests in a quick succession before the cache is built, it causes a database deadlock. This can break the site although only in a short time frame after startup so the threat impact is limited. Still, it should be fixed asap.  Orchard Core version Latest main, all previews since #15651.  To Reproduce I wasn't able to create an easy repro, but I've experienced this in OrchardCore.Commerce (https://github.com/OrchardCMS/OrchardCore.Commerce/pull/454) when trying to run dynamic security scan using Zed Attack Proxy security tool.  Expected behavior It should not be possible to cause such a deadlock. I see two options: When the shape table cache has to be built, it should actually lock. Note that right now it basically does this: `lock (_lock) { return task; }`. This is not an effective way of locking, because the lock may be released before the non-awaited task is finished. [`SemaphoreSlim`](https://learn.microsoft.com/en-us/dotnet/api/system.threading.semaphoreslim?view=net-8.0) could be used instead of `lock`. Alternatively, `IShapeTableManager.GetShapeTableAsync()` should be called as soon as possible to prevent this scenario. This means calling it on the current main theme immediately after startup, and calling it before/during theme changed. This approach works for the specific scenario where I encountered the problem as mentioned above. I created an MVC action (see [here](https://github.com/Lombiq/UI-Testing-Toolbox/blob/issue/OCC-245/Lombiq.Tests.UI.Shortcuts/Controllers/ShapeTableController.cs#L24)) that calls `IShapeTableManager.GetShapeTableAsync()`, and then navigated to that action at the start of the security scanning UI test. This is a bit janky, but I feel it's a good proof of concept.  Logs and screenshots An example of the errors encountered while security testing OrchardCore.Commerce can be seen below. Note that nothing from OCC is called above the middleware line, which is proof that the problem is internal to OrchardCore.  2024-07-15 13:27:25.8246|Default|00-50dae6e68f508fbe850ab9d73bb29368-e09817ad02e8683b-00||OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay|ERROR|Func`2 thrown from System.Func`2[[OrchardCore.DisplayManagement.Implementation.ShapeDisplayContext, OrchardCore.DisplayManagement, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Threading.Tasks.Task, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] by InvalidOperationException System.InvalidOperationException: Two concurrent threads have been detected accessing the same ISession instance from: at System.Environment.get_StackTrace() at YesSql.Session.EnterAsyncExecution() at YesSql.Session.CancelAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<DiscoverAsync>b__0_0(ShapeDisplayContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.RenderAsync(TextWriter writer, TextEncoder encoder, TemplateContext context) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplate.RenderAsync(RazorPage`1 page) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at OrchardCore.DisplayManagement.Descriptors.ShapeTemplateStrategy.ShapeTemplateBindingStrategy.<>c__DisplayClass11_5.<DiscoverAsync>b__15(DisplayContext displayContext) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.DisplayManagement.Notify.NotifyFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilterAwaitedAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync() at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<<UseNosniffContentTypeOptionsHeader>b__1_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<UseNosniffContentTypeOptionsHeader>b__1_0(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<<UseContentSecurityPolicyHeader>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<UseContentSecurityPolicyHeader>b__0(HttpContext context, Func`1 next) at OrchardCore.Commerce.Middlewares.LocalizationCurrencyRedirectMiddleware.InvokeAsync(HttpContext httpContext) in /home/runner/work/OrchardCore.Commerce/OrchardCore.Commerce/src/Modules/OrchardCore.Commerce/Middlewares/LocalizationCurrencyRedirectMiddleware.cs:line 31 at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.CookiePolicy.CookiePolicyMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Security.Services.SecurityHeadersMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<Configure>b__1(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<CreateHandler>b__0(StatusCodeContext context) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__0_1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<Configure>b__0_1(HttpContext context, Func`1 next) at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.PoweredByMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<<SendAsync>g__RunRequestAsync|0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>g__RunRequestAsync|0() at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>b__1(Object _) at System.Threading.ThreadPoolWorkQueue.Dispatch() at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart() and: at System.Environment.get_StackTrace() at YesSql.Session.EnterAsyncExecution() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<DiscoverAsync>b__0_0(ShapeDisplayContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.RenderAsync(TextWriter writer, TextEncoder encoder, TemplateContext context) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplate.RenderAsync(RazorPage`1 page) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at OrchardCore.DisplayManagement.Descriptors.ShapeTemplateStrategy.ShapeTemplateBindingStrategy.<>c__DisplayClass11_5.<DiscoverAsync>b__15(DisplayContext displayContext) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.DisplayManagement.Notify.NotifyFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilterAwaitedAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync() at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<<UseNosniffContentTypeOptionsHeader>b__1_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<UseNosniffContentTypeOptionsHeader>b__1_0(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<<UseContentSecurityPolicyHeader>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<UseContentSecurityPolicyHeader>b__0(HttpContext context, Func`1 next) at OrchardCore.Commerce.Middlewares.LocalizationCurrencyRedirectMiddleware.InvokeAsync(HttpContext httpContext) in /home/runner/work/OrchardCore.Commerce/OrchardCore.Commerce/src/Modules/OrchardCore.Commerce/Middlewares/LocalizationCurrencyRedirectMiddleware.cs:line 31 at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.CookiePolicy.CookiePolicyMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Security.Services.SecurityHeadersMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<Configure>b__1(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<CreateHandler>b__0(StatusCodeContext context) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__0_1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<Configure>b__0_1(HttpContext context, Func`1 next) at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.PoweredByMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<<SendAsync>g__RunRequestAsync|0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>g__RunRequestAsync|0() at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>b__1(Object _) at System.Threading.ThreadPoolWorkQueue.Dispatch() at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()  at YesSql.Session.EnterAsyncExecution() at YesSql.Session.CancelAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) at YesSql.Session.EnterAsyncExecution() at YesSql.Session.CancelAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) ",other-file,"Unsafe async behavior in `DefaultShapeTableManager`  Describe the bug In cases when `DefaultShapeTableManager.GetShapeTableAsync()` is called from multiple requests in a quick succession before the cache is built, it causes a database deadlock. This can break the site although only in a short time frame after startup so the threat impact is limited. Still, it should be fixed asap.  Orchard Core version Latest main, all previews since #15651.  To Reproduce I wasn't able to create an easy repro, but I've experienced this in OrchardCore.Commerce (https://github.com/OrchardCMS/OrchardCore.Commerce/pull/454) when trying to run dynamic security scan using Zed Attack Proxy security tool.  Expected behavior It should not be possible to cause such a deadlock. I see two options: When the shape table cache has to be built, it should actually lock. Note that right now it basically does this: `lock (_lock) { return task; }`. This is not an effective way of locking, because the lock may be released before the non-awaited task is finished. [`SemaphoreSlim`](https://learn.microsoft.com/en-us/dotnet/api/system.threading.semaphoreslim?view=net-8.0) could be used instead of `lock`. Alternatively, `IShapeTableManager.GetShapeTableAsync()` should be called as soon as possible to prevent this scenario. This means calling it on the current main theme immediately after startup, and calling it before/during theme changed. This approach works for the specific scenario where I encountered the problem as mentioned above. I created an MVC action (see [here](https://github.com/Lombiq/UI-Testing-Toolbox/blob/issue/OCC-245/Lombiq.Tests.UI.Shortcuts/Controllers/ShapeTableController.cs#L24)) that calls `IShapeTableManager.GetShapeTableAsync()`, and then navigated to that action at the start of the security scanning UI test. This is a bit janky, but I feel it's a good proof of concept.  Logs and screenshots An example of the errors encountered while security testing OrchardCore.Commerce can be seen below. Note that nothing from OCC is called above the middleware line, which is proof that the problem is internal to OrchardCore.  2024-07-15 13:27:25.8246|Default|00-50dae6e68f508fbe850ab9d73bb29368-e09817ad02e8683b-00||OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay|ERROR|Func`2 thrown from System.Func`2[[OrchardCore.DisplayManagement.Implementation.ShapeDisplayContext, OrchardCore.DisplayManagement, Version=2.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Threading.Tasks.Task, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] by InvalidOperationException System.InvalidOperationException: Two concurrent threads have been detected accessing the same ISession instance from: at System.Environment.get_StackTrace() at YesSql.Session.EnterAsyncExecution() at YesSql.Session.CancelAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<DiscoverAsync>b__0_0(ShapeDisplayContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.RenderAsync(TextWriter writer, TextEncoder encoder, TemplateContext context) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplate.RenderAsync(RazorPage`1 page) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at OrchardCore.DisplayManagement.Descriptors.ShapeTemplateStrategy.ShapeTemplateBindingStrategy.<>c__DisplayClass11_5.<DiscoverAsync>b__15(DisplayContext displayContext) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.DisplayManagement.Notify.NotifyFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilterAwaitedAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync() at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<<UseNosniffContentTypeOptionsHeader>b__1_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<UseNosniffContentTypeOptionsHeader>b__1_0(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<<UseContentSecurityPolicyHeader>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<UseContentSecurityPolicyHeader>b__0(HttpContext context, Func`1 next) at OrchardCore.Commerce.Middlewares.LocalizationCurrencyRedirectMiddleware.InvokeAsync(HttpContext httpContext) in /home/runner/work/OrchardCore.Commerce/OrchardCore.Commerce/src/Modules/OrchardCore.Commerce/Middlewares/LocalizationCurrencyRedirectMiddleware.cs:line 31 at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.CookiePolicy.CookiePolicyMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Security.Services.SecurityHeadersMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<Configure>b__1(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<CreateHandler>b__0(StatusCodeContext context) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__0_1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<Configure>b__0_1(HttpContext context, Func`1 next) at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.PoweredByMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<<SendAsync>g__RunRequestAsync|0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>g__RunRequestAsync|0() at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>b__1(Object _) at System.Threading.ThreadPoolWorkQueue.Dispatch() at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart() and: at System.Environment.get_StackTrace() at YesSql.Session.EnterAsyncExecution() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Menu.MenuShapes.<>c.<DiscoverAsync>b__0_0(ShapeDisplayContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Liquid.Tags.ShapeTag.WriteToAsync(List`1 argumentsList, TextWriter writer, TextEncoder encoder, TemplateContext context) at Fluid.Parser.FluidTemplate.RenderAsync(TextWriter writer, TextEncoder encoder, TemplateContext context) at OrchardCore.DisplayManagement.Liquid.LiquidViewTemplate.RenderAsync(RazorPage`1 page) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.RenderPartialCoreAsync(String partialViewName, Object model, ViewDataDictionary viewData, TextWriter writer) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper.PartialAsync(String partialViewName, Object model, ViewDataDictionary viewData) at OrchardCore.DisplayManagement.Descriptors.ShapeTemplateStrategy.ShapeTemplateBindingStrategy.<>c__DisplayClass11_5.<DiscoverAsync>b__15(DisplayContext displayContext) at OrchardCore.DisplayManagement.Implementation.DefaultHtmlDisplay.ExecuteAsync(DisplayContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Implementation.DisplayHelper.ShapeExecuteAsync(IShape shape) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.DisplayManagement.Theming.ThemeLayout.ExecuteAsync() at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Layers.Services.LayerFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Admin.AdminMenuFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Filters.ActionFilterAttribute.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Lombiq.Tests.UI.Shortcuts.Services.ApplicationInfoInjectingFilter.OnResultExecutionAsync(ResultExecutingContext context, ResultExecutionDelegate next) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAwaitedAsync[TFilter,TFilterAsync]() at OrchardCore.DisplayManagement.Notify.NotifyFilter.OnResultExecutionAsync(ResultExecutingContext filterContext, ResultExecutionDelegate next) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilterAwaitedAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted) at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync() at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync() at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<<UseNosniffContentTypeOptionsHeader>b__1_0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c.<UseNosniffContentTypeOptionsHeader>b__1_0(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<<UseContentSecurityPolicyHeader>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<UseContentSecurityPolicyHeader>b__0(HttpContext context, Func`1 next) at OrchardCore.Commerce.Middlewares.LocalizationCurrencyRedirectMiddleware.InvokeAsync(HttpContext httpContext) in /home/runner/work/OrchardCore.Commerce/OrchardCore.Commerce/src/Modules/OrchardCore.Commerce/Middlewares/LocalizationCurrencyRedirectMiddleware.cs:line 31 at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, Boolean retry) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.CookiePolicy.CookiePolicyMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Security.Services.SecurityHeadersMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<<Configure>b__1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Diagnostics.DiagnosticsStartupFilter.<>c__DisplayClass3_0.<Configure>b__1(HttpContext context, Func`1 next) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<<CreateHandler>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Builder.StatusCodePagesExtensions.<>c__DisplayClass7_0.<CreateHandler>b__0(StatusCodeContext context) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<<Configure>b__0_1>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.ContentPreview.PreviewStartupFilter.<>c.<Configure>b__0_1(HttpContext context, Func`1 next) at OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.<>c__DisplayClass4_0.<<Invoke>b__0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at OrchardCore.Modules.PoweredByMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context) at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<<SendAsync>g__RunRequestAsync|0>d.MoveNext() at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine) at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>g__RunRequestAsync|0() at Microsoft.AspNetCore.TestHost.HttpContextBuilder.<>c__DisplayClass23_0.<SendAsync>b__1(Object _) at System.Threading.ThreadPoolWorkQueue.Dispatch() at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()  at YesSql.Session.EnterAsyncExecution() at YesSql.Session.CancelAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) at YesSql.Session.EnterAsyncExecution() at YesSql.Session.CancelAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Alias.Services.AliasPartContentHandleProvider.GetContentItemIdAsync(String handle) at OrchardCore.ContentManagement.ContentHandleManager.GetContentItemIdAsync(String handle) at OrchardCore.Menu.MenuShapes.<>c.<<DiscoverAsync>b__0_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger)  other-file",no-bug,0.9
17200,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17200,ReCaptchaSettings.DetectionThreshold is not counted correctly for log in,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug <!-- What is the issue you're seeing? --> My value of ReCaptchaSettings.DetectionThreshold is 5. I expect this to mean I can fail logging in 5 times and then on the 6th attempt I see the ReCaptcha. * In OC 1.8.2 I actually have to fail 6 times before I see the ReCaptcha. * In OC 2.1.2 I have to fail 7 times before I see the ReCaptcha. In OC 2.1.2 it seems like the number of failed attempts went up by 1, but it seems like it was off in 1.8.2 as well. If the 1.8.2 behavior is correct then that's fine with me. But it does seem like it unintentionally changed in 2.1.2, which is my bigger concern.  Orchard Core version <!-- Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code. --> I noticed this in the process of updating from OC 1.8.2 to 2.1.2.  To Reproduce <!-- Steps to reproduce the behavior: 1. Go to '' 2. Click on '' 3. Scroll down to '' 4. See error --> 1. Create a new site with the blog recipe. 2. Enable the `OrchardCore.ReCaptcha.Users` feature. 3. Set the site key and secret key for ReCaptcha under Security > Settings > reCaptcha. 4. Log out. 5. Go to /login. 6. Repeatedly log in with dummy credentials.  Expected behavior <!-- Add a clear and concise description of what you expected to happen. --> The default setting of ReCaptchaSettings.DetectionThreshold is 5 and I'm using the default value. In OC 1.8.2 I fail the log in process 5 times in a row. I would expect to see the ReCaptcha here, but I actually need to fail a 6th time for it to appear. In this gif I click the ""log in"" button 5 times and fail, but it isn't until I click ""log in"" a 6th time that the ReCaptcha is displayed. ![1_8_2](https://github.com/user-attachments/assets/8f171f64-5a49-4be0-bf5c-2ea670aa1a4d) In OC 2.1.2 it is similar, except I have to fail 7 times even though my threshold is still set to 5. ![2_1_2](https://github.com/user-attachments/assets/27a97d6b-7c44-4f3c-a383-64af7399daeb)",other-file | other-file | other-file | other-file | other-file | other-file | other-file,"ReCaptchaSettings.DetectionThreshold is not counted correctly for log in <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug <!-- What is the issue you're seeing? --> My value of ReCaptchaSettings.DetectionThreshold is 5. I expect this to mean I can fail logging in 5 times and then on the 6th attempt I see the ReCaptcha. * In OC 1.8.2 I actually have to fail 6 times before I see the ReCaptcha. * In OC 2.1.2 I have to fail 7 times before I see the ReCaptcha. In OC 2.1.2 it seems like the number of failed attempts went up by 1, but it seems like it was off in 1.8.2 as well. If the 1.8.2 behavior is correct then that's fine with me. But it does seem like it unintentionally changed in 2.1.2, which is my bigger concern.  Orchard Core version <!-- Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code. --> I noticed this in the process of updating from OC 1.8.2 to 2.1.2.  To Reproduce <!-- Steps to reproduce the behavior: 1. Go to '' 2. Click on '' 3. Scroll down to '' 4. See error --> 1. Create a new site with the blog recipe. 2. Enable the `OrchardCore.ReCaptcha.Users` feature. 3. Set the site key and secret key for ReCaptcha under Security > Settings > reCaptcha. 4. Log out. 5. Go to /login. 6. Repeatedly log in with dummy credentials.  Expected behavior <!-- Add a clear and concise description of what you expected to happen. --> The default setting of ReCaptchaSettings.DetectionThreshold is 5 and I'm using the default value. In OC 1.8.2 I fail the log in process 5 times in a row. I would expect to see the ReCaptcha here, but I actually need to fail a 6th time for it to appear. In this gif I click the ""log in"" button 5 times and fail, but it isn't until I click ""log in"" a 6th time that the ReCaptcha is displayed. ![1_8_2](https://github.com/user-attachments/assets/8f171f64-5a49-4be0-bf5c-2ea670aa1a4d) In OC 2.1.2 it is similar, except I have to fail 7 times even though my threshold is still set to 5. ![2_1_2](https://github.com/user-attachments/assets/27a97d6b-7c44-4f3c-a383-64af7399daeb) other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6319,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6319,Content Items with Listpart is Confusing,"Instead of naming Edit button, How can I give a different name[Master Page] for the ContentItems with ListPart. When I click Content - >Content Items , Content Items with Listpart and without is showing same. To differentiate i wish to give some other name instead of ""Edit"" button.",other-file | other-file | other-file | other-file | config-file | config-file | test-file | config-file | config-file | other-file | config-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | container-file | container-file | container-file | other-file | other-file | documentation-file | config-file | source-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | documentation-file | config-file | documentation-file | documentation-file | other-file | config-file | other-file | documentation-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | documentation-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file,"Content Items with Listpart is Confusing Instead of naming Edit button, How can I give a different name[Master Page] for the ContentItems with ListPart. When I click Content - >Content Items , Content Items with Listpart and without is showing same. To differentiate i wish to give some other name instead of ""Edit"" button. other-file other-file other-file other-file config-file config-file test-file config-file config-file other-file config-file documentation-file documentation-file documentation-file documentation-file documentation-file container-file container-file container-file other-file other-file documentation-file config-file source-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file documentation-file config-file documentation-file documentation-file other-file config-file other-file documentation-file other-file other-file other-file documentation-file documentation-file source-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file documentation-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file",no-bug,0.9
6076,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6076,Adding widget to flowpart does not consider the IsNew context used from driver.,"Adding a widget to a flow part with various fields that allow setting default values when new instance is created (like numeric field, boolean field) is not respected. Example: Add a widget with a nemric field and set its default value to 100\. Then add the widget to the flow part . The default value in editor is ignored. This is because of https://github.com/OrchardCMS/OrchardCore/blob/acee23ef121a09568198ebda164d591ae9f084ed/src/OrchardCore.Modules/OrchardCore.Widgets/Views/ContentCard.cshtml#L22 setting the Isnew context variable to false.",other-file | other-file | other-file,"Adding widget to flowpart does not consider the IsNew context used from driver. Adding a widget to a flow part with various fields that allow setting default values when new instance is created (like numeric field, boolean field) is not respected. Example: Add a widget with a nemric field and set its default value to 100\. Then add the widget to the flow part . The default value in editor is ignored. This is because of https://github.com/OrchardCMS/OrchardCore/blob/acee23ef121a09568198ebda164d591ae9f084ed/src/OrchardCore.Modules/OrchardCore.Widgets/Views/ContentCard.cshtml#L22 setting the Isnew context variable to false. other-file other-file other-file",no-bug,0.9
9120,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9120,Liquid For Loop 'Non-negative number required',"@sebastienros prior to the Liquid update in 'dev' branch, you, you could do this:  {% assign nestedIndexSize = nestedTitles.size | minus: 1 %} {% for i in (0..nestedIndexSize) %} <li class=""breadcrumb-item text-nowrap""><a href=""{{ nestedUrls[i] }}"">{{ nestedTitles[i] }}</a></li> {% endfor %} {% endif %}  On the for loop, you did not care if 'nestedIndexSize' was less than 0, it just wouldn't render the for loop. With the latest change it will throw an error of:  ArgumentOutOfRangeException: Non-negative number required. (Parameter 'capacity')  To fix it you have to do something like this:  {% assign nestedIndexSize = nestedTitles.size | minus: 1 %} {% if nestedIndexSize > 0 %} {% for i in (0..nestedIndexSize) %} <li class=""breadcrumb-item text-nowrap""><a href=""{{ nestedUrls[i] }}"">{{ nestedTitles[i] }}</a></li> {% endfor %} {% endif %} {% endif %}  In other words, you have to put an if statement in to ensure it is greater than 0. My request is that we either have the underlying code take care of it and not render the loop like it used to. Or, if we don't want to do that, then maybe we can at least have the underlying code fail ""gracefully"". Normally, no matter what you do in Liquid, it doesn't crash the page. A specific section might not render, but doesn't break the whole page. Just my thoughts.",other-file | documentation-file | other-file | documentation-file | other-file | documentation-file,"Liquid For Loop 'Non-negative number required' @sebastienros prior to the Liquid update in 'dev' branch, you, you could do this:  {% assign nestedIndexSize = nestedTitles.size | minus: 1 %} {% for i in (0..nestedIndexSize) %} <li class=""breadcrumb-item text-nowrap""><a href=""{{ nestedUrls[i] }}"">{{ nestedTitles[i] }}</a></li> {% endfor %} {% endif %}  On the for loop, you did not care if 'nestedIndexSize' was less than 0, it just wouldn't render the for loop. With the latest change it will throw an error of:  ArgumentOutOfRangeException: Non-negative number required. (Parameter 'capacity')  To fix it you have to do something like this:  {% assign nestedIndexSize = nestedTitles.size | minus: 1 %} {% if nestedIndexSize > 0 %} {% for i in (0..nestedIndexSize) %} <li class=""breadcrumb-item text-nowrap""><a href=""{{ nestedUrls[i] }}"">{{ nestedTitles[i] }}</a></li> {% endfor %} {% endif %} {% endif %}  In other words, you have to put an if statement in to ensure it is greater than 0. My request is that we either have the underlying code take care of it and not render the loop like it used to. Or, if we don't want to do that, then maybe we can at least have the underlying code fail ""gracefully"". Normally, no matter what you do in Liquid, it doesn't crash the page. A specific section might not render, but doesn't break the whole page. Just my thoughts. other-file documentation-file other-file documentation-file other-file documentation-file",no-bug,0.9
9883,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9883,Liquid helper tag and block tag are not working," Describe the bug Following Liquid Tags are broken and not rendered liquid {% block ""a"", controller: ""Todo"", action: ""Create"", route_returnurl: Request.Path, class: ""btn btn-success"" %} Add {% endblock %} {% form action: ""Update"", method: ""post"", enctype: ""multipart/form-data"", route_returnUrl: Request.Query[""returnurl""] %} {% endform %} {% a controller: ""Todo"", action: ""Edit"", route_todoid: Model.TodoId , route_returnurl: Request.Path %} {{ Model.Text }} {% enda %} {% helper ""input"", for: ""TodoId"", type: ""hidden"" %}   To Reproduce Steps to reproduce the behavior: 1. Get latest dev code 2. Add reference of `OrchardCore.Demo` project to `OrchardCore.Cms.Web.csproj` and Run 3. Login to Admin and enable Demo feature from `Features` 3. Goto https://localhost:5001/OrchardCore.Demo/Todo/Index or https://localhost:5001/OrchardCore.Demo/Todo/Create 4. Observe that Liquid tags are not being rendered.  Expected behavior Liquid Views for TodoController in Demo module should be rendered for Index, Create, Edit, Update, Delete action.  Additional Info It was working till `Fluild.Core` `2.0.5`",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Liquid helper tag and block tag are not working  Describe the bug Following Liquid Tags are broken and not rendered liquid {% block ""a"", controller: ""Todo"", action: ""Create"", route_returnurl: Request.Path, class: ""btn btn-success"" %} Add {% endblock %} {% form action: ""Update"", method: ""post"", enctype: ""multipart/form-data"", route_returnUrl: Request.Query[""returnurl""] %} {% endform %} {% a controller: ""Todo"", action: ""Edit"", route_todoid: Model.TodoId , route_returnurl: Request.Path %} {{ Model.Text }} {% enda %} {% helper ""input"", for: ""TodoId"", type: ""hidden"" %}   To Reproduce Steps to reproduce the behavior: 1. Get latest dev code 2. Add reference of `OrchardCore.Demo` project to `OrchardCore.Cms.Web.csproj` and Run 3. Login to Admin and enable Demo feature from `Features` 3. Goto https://localhost:5001/OrchardCore.Demo/Todo/Index or https://localhost:5001/OrchardCore.Demo/Todo/Create 4. Observe that Liquid tags are not being rendered.  Expected behavior Liquid Views for TodoController in Demo module should be rendered for Index, Create, Edit, Update, Delete action.  Additional Info It was working till `Fluild.Core` `2.0.5` other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
14439,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14439,"""Cannot update your own roles."" warning is displayed when a user update their own profile"," Describe the bug When a user is able to update their own info (/Admin/Users/Edit) we do not allow them to change their own roles unless they have a `SiteOwner` access. However, we display a warning that say `Cannot update your own roles.` The warning should not be displayed as the user does not see a role selector on the UI.",other-file,"""Cannot update your own roles."" warning is displayed when a user update their own profile  Describe the bug When a user is able to update their own info (/Admin/Users/Edit) we do not allow them to change their own roles unless they have a `SiteOwner` access. However, we display a warning that say `Cannot update your own roles.` The warning should not be displayed as the user does not see a role selector on the UI. other-file",no-bug,0.8
7180,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7180,FormPart - Add wrapper for content type,`FormPart` is rendered using `Form.Wrapper.cshtml` for all content type containing `FormPart` Add wrapper in driver to allow customize form per content type. i.e. The custom Form content type `SignupLead` containing `FormPart` can have shape template `Form-SignupLead.Wrapper.cshtml`. where developer can provide custom form processing without affecting default implementation for `Form` content type or any other content type containing `FormPart`. https://github.com/OrchardCMS/OrchardCore/issues/6326#issuecomment-670632804,other-file | other-file,FormPart - Add wrapper for content type `FormPart` is rendered using `Form.Wrapper.cshtml` for all content type containing `FormPart` Add wrapper in driver to allow customize form per content type. i.e. The custom Form content type `SignupLead` containing `FormPart` can have shape template `Form-SignupLead.Wrapper.cshtml`. where developer can provide custom form processing without affecting default implementation for `Form` content type or any other content type containing `FormPart`. https://github.com/OrchardCMS/OrchardCore/issues/6326#issuecomment-670632804 other-file other-file,no-bug,0.9
5898,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5898,Can not configure culture in admin page,"**Question** 1. The culture configuration item could not be found ![image](https://user-images.githubusercontent.com/45249999/78889570-7b44a200-7a96-11ea-9852-2ed7ed10ea5d.png) ![image](https://user-images.githubusercontent.com/45249999/78889360-1b4dfb80-7a96-11ea-87de-2dcb9b536e4d.png) **Reproduce Steps** - Use docker to run the latest image according to the documentation `docker run -d -p xxxx:80 --name orchardcms orchardproject/orchardcore-cms-linux:latest` - Configure the connection string (Mysql 8.0.17) - Select ""Agency Theme"" - Enable all localization-related functionality ![image](https://user-images.githubusercontent.com/45249999/78889726-d2e30d80-7a96-11ea-8554-f71bbda6096a.png) Did I miss something? Thanks for any help",documentation-file | documentation-file | documentation-file,"Can not configure culture in admin page **Question** 1. The culture configuration item could not be found ![image](https://user-images.githubusercontent.com/45249999/78889570-7b44a200-7a96-11ea-9852-2ed7ed10ea5d.png) ![image](https://user-images.githubusercontent.com/45249999/78889360-1b4dfb80-7a96-11ea-87de-2dcb9b536e4d.png) **Reproduce Steps** - Use docker to run the latest image according to the documentation `docker run -d -p xxxx:80 --name orchardcms orchardproject/orchardcore-cms-linux:latest` - Configure the connection string (Mysql 8.0.17) - Select ""Agency Theme"" - Enable all localization-related functionality ![image](https://user-images.githubusercontent.com/45249999/78889726-d2e30d80-7a96-11ea-8554-f71bbda6096a.png) Did I miss something? Thanks for any help documentation-file documentation-file documentation-file",no-bug,0.9
5492,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5492,Deployment steps: Add search,"Now that there are many deployment steps, it could be useful to have a search filter.",other-file | other-file | other-file,"Deployment steps: Add search Now that there are many deployment steps, it could be useful to have a search filter. other-file other-file other-file",no-bug,0.9
11547,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11547,Auto Register generic IDisplayManager for framework," Is your feature request related to a problem? Please describe. In OC framework, to add display manager, we configure services for each type as below eg cs services.AddScoped<IDisplayManager<MenuItem>, DisplayManager<MenuItem>>(); services.AddScoped<IDisplayManager<User>, DisplayManager<User>>();  It seems redundant code to resolve services for `DisplayManager` for given type  Describe the solution you'd like Orchard builder should register generic display manager resolver as below similar to what its already done for `Documents` [here](https://github.com/OrchardCMS/OrchardCore/blob/339d74b251b53393dd510f8ad3027aa17d78500d/src/OrchardCore/OrchardCore.Infrastructure/Documents/OrchardCoreBuilderExtensions.cs#L18) cs services.AddScoped(typeof(IDisplayManager<>), typeof(DisplayManager<>)); ",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Auto Register generic IDisplayManager for framework  Is your feature request related to a problem? Please describe. In OC framework, to add display manager, we configure services for each type as below eg cs services.AddScoped<IDisplayManager<MenuItem>, DisplayManager<MenuItem>>(); services.AddScoped<IDisplayManager<User>, DisplayManager<User>>();  It seems redundant code to resolve services for `DisplayManager` for given type  Describe the solution you'd like Orchard builder should register generic display manager resolver as below similar to what its already done for `Documents` [here](https://github.com/OrchardCMS/OrchardCore/blob/339d74b251b53393dd510f8ad3027aa17d78500d/src/OrchardCore/OrchardCore.Infrastructure/Documents/OrchardCoreBuilderExtensions.cs#L18) cs services.AddScoped(typeof(IDisplayManager<>), typeof(DisplayManager<>));  other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
15737,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15737,Add Maria as support DB in the document and UI," Describe the solution you'd like according to https://docs.docker.com/language/php/develop/ , I added mariadb to replace mysql DB Server=mariadb;Database=orc;Uid=root;Pwd=mypwd it seems running well  Describe alternatives you've considered Add Maria as support DB in the document and add selection on the initial UI to choose Maria DB",documentation-file,"Add Maria as support DB in the document and UI  Describe the solution you'd like according to https://docs.docker.com/language/php/develop/ , I added mariadb to replace mysql DB Server=mariadb;Database=orc;Uid=root;Pwd=mypwd it seems running well  Describe alternatives you've considered Add Maria as support DB in the document and add selection on the initial UI to choose Maria DB documentation-file",no-bug,0.9
7154,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7154,Errors in FlowPart.Edit.cshtml,"When using Trumbowyg inside FlowPart, it throws an error when adding shortcodes. There are also errors in the DOM, the id attribute is duplicated (FlowPart_ContentTypes) [DOM] Found 2 elements with non-unique id #FlowPart_ContentTypes [DOM] Found 2 elements with non-unique id #FlowPart_Prefixes input type=""hidden"" id=""FlowPart_ContentTypes"" name=""FlowPart.ContentTypes"" value=""Paragraph"" input type=""hidden"" id=""FlowPart_ContentTypes"" name=""FlowPart.ContentTypes"" value=""CollapsibleSection"" Use my recipe [FlowDeploymentPlan.zip](https://github.com/OrchardCMS/OrchardCore/files/5294313/FlowDeploymentPlan.zip) to reproduce the error. screenshot also add below ![FlowPartError](https://user-images.githubusercontent.com/12045907/94473035-51ae3d00-01d4-11eb-8d84-fd2c69bc9f21.png)",other-file | source-file | source-file | source-file | other-file | other-file | source-file | source-file | source-file | other-file,"Errors in FlowPart.Edit.cshtml When using Trumbowyg inside FlowPart, it throws an error when adding shortcodes. There are also errors in the DOM, the id attribute is duplicated (FlowPart_ContentTypes) [DOM] Found 2 elements with non-unique id #FlowPart_ContentTypes [DOM] Found 2 elements with non-unique id #FlowPart_Prefixes input type=""hidden"" id=""FlowPart_ContentTypes"" name=""FlowPart.ContentTypes"" value=""Paragraph"" input type=""hidden"" id=""FlowPart_ContentTypes"" name=""FlowPart.ContentTypes"" value=""CollapsibleSection"" Use my recipe [FlowDeploymentPlan.zip](https://github.com/OrchardCMS/OrchardCore/files/5294313/FlowDeploymentPlan.zip) to reproduce the error. screenshot also add below ![FlowPartError](https://user-images.githubusercontent.com/12045907/94473035-51ae3d00-01d4-11eb-8d84-fd2c69bc9f21.png) other-file source-file source-file source-file other-file other-file source-file source-file source-file other-file",no-bug,0.9
14472,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14472,"ListPart with ""Show container's header"" checked on a un-published content throw exception"," Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Have a Content Type named ""Common Page"" has its TitlePart 2. Have a Content Type named ""Container Page"" has its TitlePart and a ListPart. This ListPart has its ""Show container's header"" checked and has the ""Common Page"" is checked in the ""Contained Content Types"". 3. Create a new content of the ""Container Page"" but just ""Save Draft"" 4. Under the draft ""Container Page"", click on the ""Create Common Page"" to create a new ""Common Page"" content, see this error: > An unhandled exception occurred while processing the request. > ArgumentNullException: Value cannot be null. (Parameter 'contentItem') >  Expected behavior The Create new page must be opened successfully  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/7245621/0b92dc9d-e722-467c-bd62-bc478dbb462a) > Note that, un-check the ListPart's ""Show container's header"", the error does not occur. It is on OC 1.7",other-file | other-file,"ListPart with ""Show container's header"" checked on a un-published content throw exception  Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Have a Content Type named ""Common Page"" has its TitlePart 2. Have a Content Type named ""Container Page"" has its TitlePart and a ListPart. This ListPart has its ""Show container's header"" checked and has the ""Common Page"" is checked in the ""Contained Content Types"". 3. Create a new content of the ""Container Page"" but just ""Save Draft"" 4. Under the draft ""Container Page"", click on the ""Create Common Page"" to create a new ""Common Page"" content, see this error: > An unhandled exception occurred while processing the request. > ArgumentNullException: Value cannot be null. (Parameter 'contentItem') >  Expected behavior The Create new page must be opened successfully  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/7245621/0b92dc9d-e722-467c-bd62-bc478dbb462a) > Note that, un-check the ListPart's ""Show container's header"", the error does not occur. It is on OC 1.7 other-file other-file",no-bug,0.8
5973,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5973,Please add edits to the documentation,Please add to the documentation information that after editing a language file (.po) you need to restart tenant otherwise the changes will not take effect,documentation-file | documentation-file,Please add edits to the documentation Please add to the documentation information that after editing a language file (.po) you need to restart tenant otherwise the changes will not take effect documentation-file documentation-file,no-bug,0.9
15201,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15201,"Document using ""Encrypt=false"" in the connection string on the Orchard Setup Page.",![image](https://github.com/OrchardCMS/OrchardCore/assets/92299130/3b50adb6-c47a-43bb-a93b-b90c39069eb8) There could be some documentation indicating the usage of `Encrypt=false` for local development on the Orchard Core setup page because it is possible that if someone tries to use a SQL db without that as the original documentation suggests they would not be able to connect to the DB.  Describe the solution you'd like Document `Encrypt=false` in the Hint below the TextField.,other-file | other-file | other-file | other-file,"Document using ""Encrypt=false"" in the connection string on the Orchard Setup Page. ![image](https://github.com/OrchardCMS/OrchardCore/assets/92299130/3b50adb6-c47a-43bb-a93b-b90c39069eb8) There could be some documentation indicating the usage of `Encrypt=false` for local development on the Orchard Core setup page because it is possible that if someone tries to use a SQL db without that as the original documentation suggests they would not be able to connect to the DB.  Describe the solution you'd like Document `Encrypt=false` in the Hint below the TextField. other-file other-file other-file other-file",no-bug,0.95
17774,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17774,Azure Search AI indexing service is not working,"When resetting Azure Search AI index, I expect all the content items to be re-indexed. This is not happening now.",other-file | other-file | other-file | other-file | other-file,"Azure Search AI indexing service is not working When resetting Azure Search AI index, I expect all the content items to be re-indexed. This is not happening now. other-file other-file other-file other-file other-file",no-bug,0.3
5533,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5533,Ajax call to 'api/queries/{name}' fails,"Hello everyone, I'm currently trying to receive query results using an AJAX call: javascript var products = $.ajax({ type: ""POST"", url: ""api/queries/ProductList"", contentType: ""application/json; charset=utf-8"", dataType: ""json"", data: JSON.stringify({ parameters: { from: 0, size: 8 }}), });  but it fails with _""System.InvalidCastException: Null object cannot be converted to a value type.""_ This happens because Task<IActionResult> Query( string name, string parameters) always get parameters equals to null and instantiate an empty Dictionary. LuceneQueryService tries to get the value at the var size = sizeProperty?.Value<int>() ?? 50; line and fails. All the required permissions for Queries are granted. Could someone point me on what I'm doing wrong, please?",other-file | other-file | other-file | config-file | config-file | documentation-file | other-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | config-file | config-file | test-file | config-file | config-file | config-file | config-file | config-file | source-file | documentation-file | documentation-file | container-file | container-file | other-file | other-file | documentation-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Ajax call to 'api/queries/{name}' fails Hello everyone, I'm currently trying to receive query results using an AJAX call: javascript var products = $.ajax({ type: ""POST"", url: ""api/queries/ProductList"", contentType: ""application/json; charset=utf-8"", dataType: ""json"", data: JSON.stringify({ parameters: { from: 0, size: 8 }}), });  but it fails with _""System.InvalidCastException: Null object cannot be converted to a value type.""_ This happens because Task<IActionResult> Query( string name, string parameters) always get parameters equals to null and instantiate an empty Dictionary. LuceneQueryService tries to get the value at the var size = sizeProperty?.Value<int>() ?? 50; line and fails. All the required permissions for Queries are granted. Could someone point me on what I'm doing wrong, please? other-file other-file other-file config-file config-file documentation-file other-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file config-file config-file test-file config-file config-file config-file config-file config-file source-file documentation-file documentation-file container-file container-file other-file other-file documentation-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",bug,0.9
14095,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14095,LoginSettings not found in Assembly Orchard.Users," Describe the bug I have a deployment step ""Login Settings"", and after updating Orchard from 1.6.0 to 1.7.0, I'm getting this exception when trying to load the list od Deployment plans:  Newtonsoft.Json.JsonSerializationException: Error resolving type specified in JSON 'OrchardCore.Settings.Deployment.SiteSettingsPropertyDeploymentStep`1[[OrchardCore.Users.Models.LoginSettings, OrchardCore.Users]], OrchardCore.Settings.Core'. Path 'DeploymentSteps[6].$type', line 1, position 1332. &gt; Newtonsoft.Json.JsonSerializationException: Could not find type 'OrchardCore.Settings.Deployment.SiteSettingsPropertyDeploymentStep`1[[OrchardCore.Users.Models.LoginSettings, OrchardCore.Users]]' in assembly 'OrchardCore.Settings.Core, Version=1.7.0.0, Culture=neutral, PublicKeyToken=null'. &gt; Newtonsoft.Json.JsonSerializationException: Could not find type 'OrchardCore.Users.Models.LoginSettings' in assembly 'OrchardCore.Users, Version=1.7.0.0, Culture=neutral, PublicKeyToken=null'.  How can I resolve this issue?",other-file,"LoginSettings not found in Assembly Orchard.Users  Describe the bug I have a deployment step ""Login Settings"", and after updating Orchard from 1.6.0 to 1.7.0, I'm getting this exception when trying to load the list od Deployment plans:  Newtonsoft.Json.JsonSerializationException: Error resolving type specified in JSON 'OrchardCore.Settings.Deployment.SiteSettingsPropertyDeploymentStep`1[[OrchardCore.Users.Models.LoginSettings, OrchardCore.Users]], OrchardCore.Settings.Core'. Path 'DeploymentSteps[6].$type', line 1, position 1332. &gt; Newtonsoft.Json.JsonSerializationException: Could not find type 'OrchardCore.Settings.Deployment.SiteSettingsPropertyDeploymentStep`1[[OrchardCore.Users.Models.LoginSettings, OrchardCore.Users]]' in assembly 'OrchardCore.Settings.Core, Version=1.7.0.0, Culture=neutral, PublicKeyToken=null'. &gt; Newtonsoft.Json.JsonSerializationException: Could not find type 'OrchardCore.Users.Models.LoginSettings' in assembly 'OrchardCore.Users, Version=1.7.0.0, Culture=neutral, PublicKeyToken=null'.  How can I resolve this issue? other-file",no-bug,0.9
5132,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5132,Calling IsSectionDefined throws an exception.,"I am using `RenderSection` to render a `zone` in a view and I want to render certain html elements before and after rendering of zone, only if zone is available. I tried to call `IsSectionDefined ` to verify if zone is present as following  @if (IsSectionDefined(""News"")) { <div class=""news""> @await RenderSectionAsync(""News"", required: false) </div> }  But its throwing following exception. `InvalidOperationException: IsSectionDefined invocation in '/Areas/XXX/Views/XXX.cshtml' is invalid. IsSectionDefined can only be called from a layout page.`",other-file,"Calling IsSectionDefined throws an exception. I am using `RenderSection` to render a `zone` in a view and I want to render certain html elements before and after rendering of zone, only if zone is available. I tried to call `IsSectionDefined ` to verify if zone is present as following  @if (IsSectionDefined(""News"")) { <div class=""news""> @await RenderSectionAsync(""News"", required: false) </div> }  But its throwing following exception. `InvalidOperationException: IsSectionDefined invocation in '/Areas/XXX/Views/XXX.cshtml' is invalid. IsSectionDefined can only be called from a layout page.` other-file",no-bug,0.9
9209,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9209,FluidTagHelper reuse of buffers,"This code seems to use the same `ViewBufferTextWriterContent` twice which would throw an exception. https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore/OrchardCore.DisplayManagement.Liquid/Tags/FluidTagHelper.cs#L89-L97 Either the code is wrong, or the buffer should me materialized first. Ideally we should understand how the TagHelper is working hre and add a comment.",other-file | other-file | other-file | other-file | other-file | other-file,"FluidTagHelper reuse of buffers This code seems to use the same `ViewBufferTextWriterContent` twice which would throw an exception. https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore/OrchardCore.DisplayManagement.Liquid/Tags/FluidTagHelper.cs#L89-L97 Either the code is wrong, or the buffer should me materialized first. Ideally we should understand how the TagHelper is working hre and add a comment. other-file other-file other-file other-file other-file other-file",no-bug,0.9
5912,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5912,How to contribute,Add a doc page to explain how to contribute and a contributing.md with a link to this new page. Include explanations about how to use all-contributors to be added in contributors.md,documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,How to contribute Add a doc page to explain how to contribute and a contributing.md with a link to this new page. Include explanations about how to use all-contributors to be added in contributors.md documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file,no-bug,0.95
8442,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8442,Taxonomy content list filter issues," Describe the bug I was testing the taxonomy content list filter and I found some issues with it's logic that meant to all matching content items were returned. This depended on the status of the content item.  To Reproduce Steps to reproduce the behavior: 1. Using the blog theme activate the taxonomy filter feature and set it to work for ""tags"" 2. Go to Content Definition and list the blog post types. 2. Create a blog post and tag it with one of the tags - I used the ""exploration"" tag and publish it (Test Post 1) 3. Create a blog post and tag it with the same tag as above eg. ""exploration"" and save it as draft (Test Post 2) 4. Create a blog post and tag it with the same tag as above eg. ""exploration"" and publish it, now edit it and save it as draft (Test Post 3) 5. Now use the tags filter to filter on the tag above eg. ""exploration"" (Show filter defaults to latest) and you will notice that of the 3 posts you created above only the published one (Test Post 1) is in the results - all 3 test posts should have been int he results. 6. Keep the tag filter the same and change the ""show"" filter to Published Test Post 1 and Test Post 3 are in the results which is fine. 7. Keep the tag filter the same and change the ""show"" filter to Unpublished there are no results but Test Post 2 should have shown. 8. Keep the tag filter the same and change the ""show"" filter to All Versions you will notice that of the 3 posts you created above only the published one (Test Post 1) is in the results - all 3 test posts should have been int he results.  Expected behavior Here is the expected behavior for the filter combinations and the 3 test posts above: 1. Tag filter ""exploration"" and Show filter ""Latest"" - would expect all 3 test posts should show 2. Tag filter ""exploration"" and Show filter ""Owned by me"" - all 3 test posts should show 2. Tag filter ""exploration"" and Show filter ""Published"" - Test Post 1 and Test Post 3 should show (this filter works). 3. Tag filter ""exploration"" and Show filter ""Unpublished"" - Test Post 2 should be show 4. Tag filter ""exploration"" and Show filter ""All versions"" - all 3 test posts should show (not sure how All versions differs from latest - doesn't really make sense)  Screenshots ![taxonomy-filter](https://user-images.githubusercontent.com/2867511/105944857-e146f800-60af-11eb-9171-5774c4f0ef64.gif)",other-file | other-file,"Taxonomy content list filter issues  Describe the bug I was testing the taxonomy content list filter and I found some issues with it's logic that meant to all matching content items were returned. This depended on the status of the content item.  To Reproduce Steps to reproduce the behavior: 1. Using the blog theme activate the taxonomy filter feature and set it to work for ""tags"" 2. Go to Content Definition and list the blog post types. 2. Create a blog post and tag it with one of the tags - I used the ""exploration"" tag and publish it (Test Post 1) 3. Create a blog post and tag it with the same tag as above eg. ""exploration"" and save it as draft (Test Post 2) 4. Create a blog post and tag it with the same tag as above eg. ""exploration"" and publish it, now edit it and save it as draft (Test Post 3) 5. Now use the tags filter to filter on the tag above eg. ""exploration"" (Show filter defaults to latest) and you will notice that of the 3 posts you created above only the published one (Test Post 1) is in the results - all 3 test posts should have been int he results. 6. Keep the tag filter the same and change the ""show"" filter to Published Test Post 1 and Test Post 3 are in the results which is fine. 7. Keep the tag filter the same and change the ""show"" filter to Unpublished there are no results but Test Post 2 should have shown. 8. Keep the tag filter the same and change the ""show"" filter to All Versions you will notice that of the 3 posts you created above only the published one (Test Post 1) is in the results - all 3 test posts should have been int he results.  Expected behavior Here is the expected behavior for the filter combinations and the 3 test posts above: 1. Tag filter ""exploration"" and Show filter ""Latest"" - would expect all 3 test posts should show 2. Tag filter ""exploration"" and Show filter ""Owned by me"" - all 3 test posts should show 2. Tag filter ""exploration"" and Show filter ""Published"" - Test Post 1 and Test Post 3 should show (this filter works). 3. Tag filter ""exploration"" and Show filter ""Unpublished"" - Test Post 2 should be show 4. Tag filter ""exploration"" and Show filter ""All versions"" - all 3 test posts should show (not sure how All versions differs from latest - doesn't really make sense)  Screenshots ![taxonomy-filter](https://user-images.githubusercontent.com/2867511/105944857-e146f800-60af-11eb-9171-5774c4f0ef64.gif) other-file other-file",no-bug,0.8
6621,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6621,"The user has been disabled, but can still authenticated by OpenId.",The OpenId module does not seem to handle the User.IsEnabled field.,other-file,"The user has been disabled, but can still authenticated by OpenId. The OpenId module does not seem to handle the User.IsEnabled field. other-file",no-bug,0.7
8986,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8986,"TaxonomyField with Tags display, error 400"," Describe the bug Taxonomy field with Tags display placed in ContentPart inside Widget throws error while saving content item.  To Reproduce Steps to reproduce the behavior: 1. Create content part with taxonomy field and tags display 2. Create widget, add content part from step 1 3. Add widget to flow of some content item 4. Try save = throws error 400  Expected behavior Content item should be saved. Also, it works when Standard display is used.",other-file,"TaxonomyField with Tags display, error 400  Describe the bug Taxonomy field with Tags display placed in ContentPart inside Widget throws error while saving content item.  To Reproduce Steps to reproduce the behavior: 1. Create content part with taxonomy field and tags display 2. Create widget, add content part from step 1 3. Add widget to flow of some content item 4. Try save = throws error 400  Expected behavior Content item should be saved. Also, it works when Standard display is used. other-file",bug,0.8
16741,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16741,DefaultContentManager.GetAsync(IEnumerable<string> contentItemIds) always updates documents in database,"When calling `GetAsync(IEnumerable<string> contentItemIds)` on `DefaultContentManager` it seems like all retrieved documents are updated in the database. It happens for OrchardCore 2.0.0 (also for older versions when called with `VersionOptions.Published`) I would expect that the documents are not updated, which is the case when calling `GetAsync(string contentItemId)` for each id. Should csharp // We save the previous version further because this call might do a session query. await _session.SaveAsync(item, checkConcurrency: true);  be inside csharp if (options.IsDraftRequired) {}  as in `GetAsync(string contentItemId)`?",other-file | other-file | other-file | other-file | other-file,"DefaultContentManager.GetAsync(IEnumerable<string> contentItemIds) always updates documents in database When calling `GetAsync(IEnumerable<string> contentItemIds)` on `DefaultContentManager` it seems like all retrieved documents are updated in the database. It happens for OrchardCore 2.0.0 (also for older versions when called with `VersionOptions.Published`) I would expect that the documents are not updated, which is the case when calling `GetAsync(string contentItemId)` for each id. Should csharp // We save the previous version further because this call might do a session query. await _session.SaveAsync(item, checkConcurrency: true);  be inside csharp if (options.IsDraftRequired) {}  as in `GetAsync(string contentItemId)`? other-file other-file other-file other-file other-file",no-bug,0.9
5667,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5667,Error using _Layout.cshtml in a custom module,"My custom module uses a page and when I try to access, I got  InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Areas/My.Theme.Bootstrap/Pages/Shared/_Layout.cshtml': 'Header'. To ignore an unrendered section call IgnoreSection(""sectionName"").  Although I have this statement already at my theme ![section](https://user-images.githubusercontent.com/1761249/75856457-10e87400-5dfd-11ea-9015-4ea37053f6fa.png) ![theme](https://user-images.githubusercontent.com/1761249/75856557-42f9d600-5dfd-11ea-8dd8-971abc6cc6e9.png) This is where my view is located within the theme.",other-file | other-file | other-file,"Error using _Layout.cshtml in a custom module My custom module uses a page and when I try to access, I got  InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Areas/My.Theme.Bootstrap/Pages/Shared/_Layout.cshtml': 'Header'. To ignore an unrendered section call IgnoreSection(""sectionName"").  Although I have this statement already at my theme ![section](https://user-images.githubusercontent.com/1761249/75856457-10e87400-5dfd-11ea-9015-4ea37053f6fa.png) ![theme](https://user-images.githubusercontent.com/1761249/75856557-42f9d600-5dfd-11ea-8dd8-971abc6cc6e9.png) This is where my view is located within the theme. other-file other-file other-file",no-bug,0.9
11765,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11765,Duplicated validation messages when registering as new user," Describe the bug The user registration is validating the email address of new users in two places, which will cause two validation messages on the summary view: 1. In the `RegisterViewModel` class which is an `IValidatableObject` 2. In the `RegistrationController` with the addition of checking for duplicated email addresses.  To Reproduce Enable user registration and leave the email field empty.",other-file | other-file | test-file,"Duplicated validation messages when registering as new user  Describe the bug The user registration is validating the email address of new users in two places, which will cause two validation messages on the summary view: 1. In the `RegisterViewModel` class which is an `IValidatableObject` 2. In the `RegistrationController` with the addition of checking for duplicated email addresses.  To Reproduce Enable user registration and leave the email field empty. other-file other-file test-file",no-bug,0.9
7039,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7039,"Fix all the API controllers decorated with [Authorize(AuthenticationSchemes = ""Api"")] to return ChallengeOrForbid(""Api"")","Most of the OC API controllers are configured to use the ""Api"" scheme for authentication, but return `ChallengeOrForbid()`, that ultimately uses the default challenge scheme (which is typically the cookie handler when the Users module is enabled). To fix that, the API controllers must be updated to do `ChallengeOrForbid(""Api"")` instead of `ChallengeOrForbid()`, so that challenges are properly handled by OpenIddict when the OpenID token validation feature is enabled. /cc @deanmarcussen @OrchardSkills",other-file | other-file | other-file | other-file | other-file,"Fix all the API controllers decorated with [Authorize(AuthenticationSchemes = ""Api"")] to return ChallengeOrForbid(""Api"") Most of the OC API controllers are configured to use the ""Api"" scheme for authentication, but return `ChallengeOrForbid()`, that ultimately uses the default challenge scheme (which is typically the cookie handler when the Users module is enabled). To fix that, the API controllers must be updated to do `ChallengeOrForbid(""Api"")` instead of `ChallengeOrForbid()`, so that challenges are properly handled by OpenIddict when the OpenID token validation feature is enabled. /cc @deanmarcussen @OrchardSkills other-file other-file other-file other-file other-file",no-bug,0.8
6512,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6512,CodeMirror non active line select on Html fields,"New Code Mirror improvements are great. But I'm not liking this one so much, where the current line of an Html Field is displayed, even when it is not selected. Be great if it only show the current line when it is actually selected. Here the title is currently selected ![Screenshot 2020-06-26 at 08 27 01](https://user-images.githubusercontent.com/13782679/85831956-13ddea80-b787-11ea-9383-e5b0fd007c2d.png) /cc @agriffard",other-file | other-file | other-file | other-file | other-file | other-file,"CodeMirror non active line select on Html fields New Code Mirror improvements are great. But I'm not liking this one so much, where the current line of an Html Field is displayed, even when it is not selected. Be great if it only show the current line when it is actually selected. Here the title is currently selected ![Screenshot 2020-06-26 at 08 27 01](https://user-images.githubusercontent.com/13782679/85831956-13ddea80-b787-11ea-9383-e5b0fd007c2d.png) /cc @agriffard other-file other-file other-file other-file other-file other-file",no-bug,0.95
14917,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14917,Custom claims lost after during claims principal refresh," Describe the bug We are able to add custom claims by using `IUserClaimsProvider`. However, these claims get lost when the identify is refreshed (after 30 mins)  To Reproduce Steps to reproduce the behavior: 1. Use `IUserClaimsProvider` to register a custom 2. Login 3. Do not use the site for at least 30 mins (to force identity to refresh) 4. Evaluate the identity again and see if your custom claim exists,  Expected behavior All claims should be available after the refresh.",other-file | other-file,"Custom claims lost after during claims principal refresh  Describe the bug We are able to add custom claims by using `IUserClaimsProvider`. However, these claims get lost when the identify is refreshed (after 30 mins)  To Reproduce Steps to reproduce the behavior: 1. Use `IUserClaimsProvider` to register a custom 2. Login 3. Do not use the site for at least 30 mins (to force identity to refresh) 4. Evaluate the identity again and see if your custom claim exists,  Expected behavior All claims should be available after the refresh. other-file other-file",no-bug,0.8
6302,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6302,jQuery is not defined,"Hi I'd like to report an issue with incorrect order of `javascript` files include order that lead to this issue: 1. 'ComingSoon' template is not fully loaded: Only the background movie is played in a loop. No additional images, no 'welcome' banner, just the movie 2. There's an error output in 'Console' tab that says: ReferenceError: jQuery is not defined Steps to reproduce: 1. Git clone the latest version to clean environment. (Currently it is: `4f4cfaa7c10e420a12af9d8c77eda1b46112c737`) 2. Do all necessary step to build, download, etc.. packages 3. `dotnet run` with default settings from `src\OrchardCore.Cms.Web\` folder 4. Once application started observe the kinda empty screen and red error in 'Console' tab My environment: OS: Ubuntu 20.04 (Focal Fossa) x64 Browser: Firefox 76.0.1 x64 VS Code: v1.46.0-insiders .NET SDKs: 3.1.300 Suggestions: As I can see in 'Inspect' tab - for some strange reason the Javascript file that actually use jQuery named: `~/TheComingSoonTheme/js/coming-soon.min.js` is defined/used before the actual call to jQuery defined. Here is a snippet:  <!-- Bootstrap core JavaScript --> <!-- Custom scripts for this template --> <script src=""/TheComingSoonTheme/js/coming-soon.min.js""></script> <script crossorigin=""anonymous"" integrity=""sha384-mlceH9HlqLp7GMKHrj5Ara1&#x2B;LvdTZVMx4S1U43/NxCvAkzIo8WJ0FE7duLel3wVo"" src=""https://code.jquery.com/jquery-3.4.1.js"" type=""text/javascript""></script> <script crossorigin=""anonymous"" integrity=""sha384-szbKYgPl66wivXHlSpJF&#x2B;CKDAVckMVnlGrP25Sndhe&#x2B;PwOBcXV9LlFh4MUpRhjIB"" src=""https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.js"" type=""text/javascript""></script> </body> </html>  This order defined in [src/OrchardCore.Themes/TheComingSoonTheme/Views/layout.liquid](https://github.com/OrchardCMS/OrchardCore/blob/4f4cfaa7c10e420a12af9d8c77eda1b46112c737/src/OrchardCore.Themes/TheComingSoonTheme/Views/layout.liquid) So I guess we should change the order of loading of those javascript packages to resolve this issue. Please suggest what I can do now",other-file | other-file | other-file | other-file,"jQuery is not defined Hi I'd like to report an issue with incorrect order of `javascript` files include order that lead to this issue: 1. 'ComingSoon' template is not fully loaded: Only the background movie is played in a loop. No additional images, no 'welcome' banner, just the movie 2. There's an error output in 'Console' tab that says: ReferenceError: jQuery is not defined Steps to reproduce: 1. Git clone the latest version to clean environment. (Currently it is: `4f4cfaa7c10e420a12af9d8c77eda1b46112c737`) 2. Do all necessary step to build, download, etc.. packages 3. `dotnet run` with default settings from `src\OrchardCore.Cms.Web\` folder 4. Once application started observe the kinda empty screen and red error in 'Console' tab My environment: OS: Ubuntu 20.04 (Focal Fossa) x64 Browser: Firefox 76.0.1 x64 VS Code: v1.46.0-insiders .NET SDKs: 3.1.300 Suggestions: As I can see in 'Inspect' tab - for some strange reason the Javascript file that actually use jQuery named: `~/TheComingSoonTheme/js/coming-soon.min.js` is defined/used before the actual call to jQuery defined. Here is a snippet:  <!-- Bootstrap core JavaScript --> <!-- Custom scripts for this template --> <script src=""/TheComingSoonTheme/js/coming-soon.min.js""></script> <script crossorigin=""anonymous"" integrity=""sha384-mlceH9HlqLp7GMKHrj5Ara1&#x2B;LvdTZVMx4S1U43/NxCvAkzIo8WJ0FE7duLel3wVo"" src=""https://code.jquery.com/jquery-3.4.1.js"" type=""text/javascript""></script> <script crossorigin=""anonymous"" integrity=""sha384-szbKYgPl66wivXHlSpJF&#x2B;CKDAVckMVnlGrP25Sndhe&#x2B;PwOBcXV9LlFh4MUpRhjIB"" src=""https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.js"" type=""text/javascript""></script> </body> </html>  This order defined in [src/OrchardCore.Themes/TheComingSoonTheme/Views/layout.liquid](https://github.com/OrchardCMS/OrchardCore/blob/4f4cfaa7c10e420a12af9d8c77eda1b46112c737/src/OrchardCore.Themes/TheComingSoonTheme/Views/layout.liquid) So I guess we should change the order of loading of those javascript packages to resolve this issue. Please suggest what I can do now other-file other-file other-file other-file",no-bug,0.9
13724,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13724,AdminMenu should check for `ListContent` permission instead of `IsListable` before listing menu item," Describe the bug Currently, if you want to add a content type to an AdminMenu, the content type would have to be `Listable` in order to be visible. Sometimes, we want to show a content type item on the adminMenu even when it is not listable. The Admin UI does not care if the content type is listable or not. All it checks for is the user has permission to `ListContent`. The logic in the Admin Menu should be the same as the UI.",other-file | other-file,"AdminMenu should check for `ListContent` permission instead of `IsListable` before listing menu item  Describe the bug Currently, if you want to add a content type to an AdminMenu, the content type would have to be `Listable` in order to be visible. Sometimes, we want to show a content type item on the adminMenu even when it is not listable. The Admin UI does not care if the content type is listable or not. All it checks for is the user has permission to `ListContent`. The logic in the Admin Menu should be the same as the UI. other-file other-file",no-bug,0.9
9176,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9176,Drop widget to empty zone,"In the Widgets admin page, it is not possible to drag and drop a widget into a zone that does not have any widgets.",other-file | other-file,"Drop widget to empty zone In the Widgets admin page, it is not possible to drag and drop a widget into a zone that does not have any widgets. other-file other-file",no-bug,0.9
5801,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5801,Form-FlowPart template should be more generic,FormPart Description says: > Turns your content item into a form. If you add the form content part to your custom content type it won't render a form because the https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore.Modules/OrchardCore.Forms/Views/Form-FlowPart.cshtml template is connected to the _Form_ content type.,other-file | other-file | other-file | other-file | other-file | other-file | other-file,Form-FlowPart template should be more generic FormPart Description says: > Turns your content item into a form. If you add the form content part to your custom content type it won't render a form because the https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore.Modules/OrchardCore.Forms/Views/Form-FlowPart.cshtml template is connected to the _Form_ content type. other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
9270,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9270,Prevent DI Deadlock,"So the pattern that may fail is - When injecting a service from a **constructor** that injects an `IOptions<T>` accessor and gets its `Value` in its constructor, so the `Configure()` of a related `IConfigureOptions<>` is executed, and when this `Configure()` calls an async method e.g. `GetSettingsAsync().GetAwaiter().GetResult()`. And if this `GetSettingsAsync()` does an async call, not `DoAsync().GetAwaiter().GetResult()`, but `await DoAsync()` making IO operations, **this before resolving lazily a service, in that case the DI fall down in a dead lock**. - This is not directly due to the `DocumentManager` that we made a singleton, but then our code was using the above failing pattern. We fixed it by caching the service that we lazily resolve, it works because there was no real async call before the first resolution, but as i saw (will try it) if we use the `DocumentManager` with a distributed cache, a first async call may be still done before this only one resolution, and then it will still fail. - One solution i planned to do is to add to the `IDocumentManager` a non async version at least for getting an immutable document, so that in that case we would not do any async operation before resolving lazily a service, and in a `IConfigureOptions` we could e.g. call `GetSettings()` in place of `GetSettingsAsync().GetAwaiter().GetResult()`. Notice that, when using the failing pattern, even if we prevent a DI dead lock with the `DocumentManager`, this doesn't prevent a dead lock with another service, here a simple repro of the failing pattern using fake services / options. Related issue in the aspnetcore repo https://github.com/dotnet/aspnetcore/issues/19315#issuecomment-594349496 public class TestOptions { public bool Test; } public class TestSettings { public bool Test; } public class Scoped1 { public Scoped1(IOptions<TestOptions> options) { var test = options.Value; } } public class Scoped2 { } public class Singleton1 { private readonly IHttpContextAccessor _httpContextAccessor; public Singleton1(IHttpContextAccessor httpContextAccessor) { _httpContextAccessor = httpContextAccessor; } public Task Test1Async() => Task.Delay(100); public Task Test2Async() { Task.Delay(100).GetAwaiter().GetResult(); return Task.CompletedTask; } public async Task<TestSettings> GetSettingsAsync() { // Here the async call before resolving a service lazily. await Test1Async(); // Doesn't fail if we use 'Test2Async()', see above. // Here the dead lock _httpContextAccessor.HttpContext.RequestServices.GetRequiredService<Scoped2>(); return new TestSettings(); } } public class ConfigureTestOptions : IConfigureOptions<TestOptions> { private readonly Singleton1 _singleton1; public ConfigureTestOptions(Singleton1 singleton1) => _singleton1 = singleton1; public void Configure(TestOptions options) { // This is a common pattern that we use, and that involves 'IDocumentManager' most of the time var document = _singleton1.GetSettingsAsync().GetAwaiter().GetResult(); options.Test = document.Test; } } public class TestSartup : StartupBase { public override void ConfigureServices(IServiceCollection services) { services.AddScoped<Scoped1>(); services.AddScoped<Scoped2>(); services.AddSingleton<Singleton1>(); services.AddTransient<IConfigureOptions<TestOptions>, ConfigureTestOptions>(); } } // Injecting scoped1 here, just for testing public class RecipeEnvironmentSuperUserProvider : IRecipeEnvironmentProvider {  public RecipeEnvironmentSuperUserProvider( Scoped1 scoped1,  ) {  } A more simple repro being public class RecipeEnvironmentSuperUserProvider : IRecipeEnvironmentProvider {  public RecipeEnvironmentSuperUserProvider( IServiceProvider serviceProvider,  ) {  TestAsync(serviceProvider).GetAwaiter().GetResult(); } private async Task TestAsync(IServiceProvider services) { await Task.Delay(100); var test = _serviceProvider.GetRequiredService<Scoped2>(); // Here the DI dead lock. }",other-file | other-file,"Prevent DI Deadlock So the pattern that may fail is - When injecting a service from a **constructor** that injects an `IOptions<T>` accessor and gets its `Value` in its constructor, so the `Configure()` of a related `IConfigureOptions<>` is executed, and when this `Configure()` calls an async method e.g. `GetSettingsAsync().GetAwaiter().GetResult()`. And if this `GetSettingsAsync()` does an async call, not `DoAsync().GetAwaiter().GetResult()`, but `await DoAsync()` making IO operations, **this before resolving lazily a service, in that case the DI fall down in a dead lock**. - This is not directly due to the `DocumentManager` that we made a singleton, but then our code was using the above failing pattern. We fixed it by caching the service that we lazily resolve, it works because there was no real async call before the first resolution, but as i saw (will try it) if we use the `DocumentManager` with a distributed cache, a first async call may be still done before this only one resolution, and then it will still fail. - One solution i planned to do is to add to the `IDocumentManager` a non async version at least for getting an immutable document, so that in that case we would not do any async operation before resolving lazily a service, and in a `IConfigureOptions` we could e.g. call `GetSettings()` in place of `GetSettingsAsync().GetAwaiter().GetResult()`. Notice that, when using the failing pattern, even if we prevent a DI dead lock with the `DocumentManager`, this doesn't prevent a dead lock with another service, here a simple repro of the failing pattern using fake services / options. Related issue in the aspnetcore repo https://github.com/dotnet/aspnetcore/issues/19315#issuecomment-594349496 public class TestOptions { public bool Test; } public class TestSettings { public bool Test; } public class Scoped1 { public Scoped1(IOptions<TestOptions> options) { var test = options.Value; } } public class Scoped2 { } public class Singleton1 { private readonly IHttpContextAccessor _httpContextAccessor; public Singleton1(IHttpContextAccessor httpContextAccessor) { _httpContextAccessor = httpContextAccessor; } public Task Test1Async() => Task.Delay(100); public Task Test2Async() { Task.Delay(100).GetAwaiter().GetResult(); return Task.CompletedTask; } public async Task<TestSettings> GetSettingsAsync() { // Here the async call before resolving a service lazily. await Test1Async(); // Doesn't fail if we use 'Test2Async()', see above. // Here the dead lock _httpContextAccessor.HttpContext.RequestServices.GetRequiredService<Scoped2>(); return new TestSettings(); } } public class ConfigureTestOptions : IConfigureOptions<TestOptions> { private readonly Singleton1 _singleton1; public ConfigureTestOptions(Singleton1 singleton1) => _singleton1 = singleton1; public void Configure(TestOptions options) { // This is a common pattern that we use, and that involves 'IDocumentManager' most of the time var document = _singleton1.GetSettingsAsync().GetAwaiter().GetResult(); options.Test = document.Test; } } public class TestSartup : StartupBase { public override void ConfigureServices(IServiceCollection services) { services.AddScoped<Scoped1>(); services.AddScoped<Scoped2>(); services.AddSingleton<Singleton1>(); services.AddTransient<IConfigureOptions<TestOptions>, ConfigureTestOptions>(); } } // Injecting scoped1 here, just for testing public class RecipeEnvironmentSuperUserProvider : IRecipeEnvironmentProvider {  public RecipeEnvironmentSuperUserProvider( Scoped1 scoped1,  ) {  } A more simple repro being public class RecipeEnvironmentSuperUserProvider : IRecipeEnvironmentProvider {  public RecipeEnvironmentSuperUserProvider( IServiceProvider serviceProvider,  ) {  TestAsync(serviceProvider).GetAwaiter().GetResult(); } private async Task TestAsync(IServiceProvider services) { await Task.Delay(100); var test = _serviceProvider.GetRequiredService<Scoped2>(); // Here the DI dead lock. } other-file other-file",no-bug,0.95
6667,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6667,OrchardCore.Forms Checkboxes Not Maintaining State Upon Re-Displaying Page After Validation Error,"I brought up an issue last month regarding Workflow validation of a Checkbox List that I was trying to create. See https://github.com/OrchardCMS/OrchardCore/issues/6472. Basically, although I could set up a Workflow to validate this Checkbox List, the problem was that the values of the individual checkboxes were not being maintained when the form was re-displayed if there were other validation errors on the page I attempted to use the OrchardCore.Forms Input with the type set to ""Checkbox"". I used the same name for two checkboxes, making it into a ""List"" I assume, but they each had different values (lists have the same ""name"", but different ""values). I then hooked up a Workflow Validate Form Field Task to the Checkbox name to make it required. I am getting the same behavior. If neither checkbox is checked, I get the appropriate model error. But if one or both of the checkboxes is checked, and another field on the form generates an error, then upon the page being re-displayed both checkboxes do not maintain their state of being checked. I suspect the same problem will occur with a radio button, but have not confirmed. Not sure if this is intended, a bug, or just a missing feature. Thanks.",other-file,"OrchardCore.Forms Checkboxes Not Maintaining State Upon Re-Displaying Page After Validation Error I brought up an issue last month regarding Workflow validation of a Checkbox List that I was trying to create. See https://github.com/OrchardCMS/OrchardCore/issues/6472. Basically, although I could set up a Workflow to validate this Checkbox List, the problem was that the values of the individual checkboxes were not being maintained when the form was re-displayed if there were other validation errors on the page I attempted to use the OrchardCore.Forms Input with the type set to ""Checkbox"". I used the same name for two checkboxes, making it into a ""List"" I assume, but they each had different values (lists have the same ""name"", but different ""values). I then hooked up a Workflow Validate Form Field Task to the Checkbox name to make it required. I am getting the same behavior. If neither checkbox is checked, I get the appropriate model error. But if one or both of the checkboxes is checked, and another field on the form generates an error, then upon the page being re-displayed both checkboxes do not maintain their state of being checked. I suspect the same problem will occur with a radio button, but have not confirmed. Not sure if this is intended, a bug, or just a missing feature. Thanks. other-file",no-bug,0.9
6020,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6020,LinkField: Handle null url,Exception seems to occur with null url on LinkField.,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,LinkField: Handle null url Exception seems to occur with null url on LinkField. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.7
5493,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5493,Export/Import Smtp Settings and decrypt Global method,"There should be a Deployment step to export the SMTP settings. As it can contain some credentials (user/password), it would be interesting to have a way to specify an encrypted string for the password and a `[js:decrypt()]` Global method that you can use in the recipe. What kind of encryption should we use? Would there be an admin page to generate an encrypted string?",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Export/Import Smtp Settings and decrypt Global method There should be a Deployment step to export the SMTP settings. As it can contain some credentials (user/password), it would be interesting to have a way to specify an encrypted string for the password and a `[js:decrypt()]` Global method that you can use in the recipe. What kind of encryption should we use? Would there be an admin page to generate an encrypted string? other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
9987,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9987,"error page from ""OrchardCore.Diagnostics"" module isn't presented when [ValidateAntiForgeryToken] attribute is used and validation failed"," Describe the bug Sometimes, when my ""**orchantiforgery_**"" cookie expires, and when login page is still opened in browser, I can't log in, because of **[AntiforgeryValidationException](https://github.com/dotnet/aspnetcore/blob/main/src/Antiforgery/src/Internal/DefaultAntiforgery.cs)** which is expected behavior, but instead of seeing error page from 'OrchardCore.Diagnostics' I see default one.  You can reproduce the issue by removing ""**orchantiforgery_**"" cookie, or by manipulating with html code. Steps to reproduce the behavior: 1. Make sure 'OrchardCore.Diagnostics' module is enabled, 2. Go to 'https://try.orchardcore.net/Login', 3. Inspect page and change value of '__RequestVerificationToken' input, 4. Click on 'Log in', 5. See default 400 error page. ![image](https://user-images.githubusercontent.com/6403130/127175417-abf4d68c-f20a-4c69-b218-6e7403632915.png)  Expected behavior This error page should be presented to the user: ![image](https://user-images.githubusercontent.com/6403130/127174996-7c5d6750-0d0d-48a8-9b70-be2359477b9e.png)",other-file | other-file | other-file | other-file | other-file,"error page from ""OrchardCore.Diagnostics"" module isn't presented when [ValidateAntiForgeryToken] attribute is used and validation failed  Describe the bug Sometimes, when my ""**orchantiforgery_**"" cookie expires, and when login page is still opened in browser, I can't log in, because of **[AntiforgeryValidationException](https://github.com/dotnet/aspnetcore/blob/main/src/Antiforgery/src/Internal/DefaultAntiforgery.cs)** which is expected behavior, but instead of seeing error page from 'OrchardCore.Diagnostics' I see default one.  You can reproduce the issue by removing ""**orchantiforgery_**"" cookie, or by manipulating with html code. Steps to reproduce the behavior: 1. Make sure 'OrchardCore.Diagnostics' module is enabled, 2. Go to 'https://try.orchardcore.net/Login', 3. Inspect page and change value of '__RequestVerificationToken' input, 4. Click on 'Log in', 5. See default 400 error page. ![image](https://user-images.githubusercontent.com/6403130/127175417-abf4d68c-f20a-4c69-b218-6e7403632915.png)  Expected behavior This error page should be presented to the user: ![image](https://user-images.githubusercontent.com/6403130/127174996-7c5d6750-0d0d-48a8-9b70-be2359477b9e.png) other-file other-file other-file other-file other-file",no-bug,0.8
7896,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7896,Why is Email settings listed under Security?,"Seems to me it's a Configuration Setting, not a Security Setting <img width=""362"" alt=""Screenshot 2020-12-08 at 09 28 06"" src=""https://user-images.githubusercontent.com/13782679/101465415-d2598a00-3937-11eb-9615-a75988ad48b9.png""> /cc @agriffard",other-file,"Why is Email settings listed under Security? Seems to me it's a Configuration Setting, not a Security Setting <img width=""362"" alt=""Screenshot 2020-12-08 at 09 28 06"" src=""https://user-images.githubusercontent.com/13782679/101465415-d2598a00-3937-11eb-9615-a75988ad48b9.png""> /cc @agriffard other-file",no-bug,0.9
12239,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12239,"meaning between ""MaxPageSize"" and ""MaxPagedCount"""," Describe the bug  Expected behavior C# under namespace OrchardCore.Contents.Controllers { public class AdminController : Controller  line 243: C# if (_pagerOptions.MaxPagedCount > 0 && pager.PageSize > _pagerOptions.MaxPagedCount) { pager.PageSize = _pagerOptions.MaxPagedCount; }  It seems that MaxPagedCount should be MaxPageSize  Screenshots If applicable, add screenshots to help explain your problem.",other-file | other-file | other-file,"meaning between ""MaxPageSize"" and ""MaxPagedCount""  Describe the bug  Expected behavior C# under namespace OrchardCore.Contents.Controllers { public class AdminController : Controller  line 243: C# if (_pagerOptions.MaxPagedCount > 0 && pager.PageSize > _pagerOptions.MaxPagedCount) { pager.PageSize = _pagerOptions.MaxPagedCount; }  It seems that MaxPagedCount should be MaxPageSize  Screenshots If applicable, add screenshots to help explain your problem. other-file other-file other-file",no-bug,0.8
8785,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8785,Enabling AdminDashboard feature with other SQL modifying features causes SQL mods to fail,"If the AdminDashboard feature is enabled, along with other features that modify the SQL database as part of their migration, then the SQL db isn't modified. The easiest way to reproduce this, is to add the AdminDashboard feature to the start-up recipe.",other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file | test-file | test-file,"Enabling AdminDashboard feature with other SQL modifying features causes SQL mods to fail If the AdminDashboard feature is enabled, along with other features that modify the SQL database as part of their migration, then the SQL db isn't modified. The easiest way to reproduce this, is to add the AdminDashboard feature to the start-up recipe. other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file test-file test-file",no-bug,0.9
15381,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15381,"OrchardCore.Contents API: Admin user is not able to GET a content, an error 401 unauthorized is returned, but if I grant all privileges to the ""anonymous"" user role, it works"," Describe the bug According to what discussed [here](https://github.com/OrchardCMS/OrchardCore/discussions/15372#discussioncomment-8544179) with @hishamco, I'm opening this issue to verify it. The module `OrchardCore.Contents` exposes an `ApiController.cs` with endpoints to _create_, _update_, and _delete_ content items created in the ""Admin"" backoffice. Using _Postman_, it's possible to call the `ApiController.cs` endpoints after configuring the ""OpenID Connect"" `OpenID Authorization Server` module. I tested this using the ""Try Orchard"" website. **The authentication** process **is successful**, and I receive a valid OAuth 2 token. **But, when attempting to use the ""Admin"" user**, which is supposed to have the highest privileges, **I cannot perform GET, UPDATE, or DELETE operations**, I receive a 401 unauthorized error. **Instead, if I grant all privileges to the ""anonymous"" user role** to call the API, and remove the OAuth token, **it works**.  To Reproduce Steps to reproduce the behavior: NOTE: _As mentioned, I'm using a temporary ""try.orchardcore"" website, which is why I'm sharing the credentials here. They will expire along with the temporary website._ 1. Import the Postman collection attached [Test.postman_collection.zip](https://github.com/OrchardCMS/OrchardCore/files/14362999/Test.postman_collection.zip) (it already contains the Client Id and Secret); 2. Get an authorization token via Postman ""Authorization"" blade (all the fields should be already set) 3. Try to call this endpoint using GET method: https://try.orchardcore.net/jgjn0h2r/api/content/455vmd500wgrj7nqqpysw3px4s 4. You will get error 401 Unauthorized  Expected behavior The ""Admin"" user**, which is supposed to have the highest privileges, must be able to retrieve a content from the GET endpoint.  Screenshots Postman Authorization blade configuration ![image](https://github.com/OrchardCMS/OrchardCore/assets/19241483/26058490-0add-404f-8481-b2c4a0f35871)",other-file,"OrchardCore.Contents API: Admin user is not able to GET a content, an error 401 unauthorized is returned, but if I grant all privileges to the ""anonymous"" user role, it works  Describe the bug According to what discussed [here](https://github.com/OrchardCMS/OrchardCore/discussions/15372#discussioncomment-8544179) with @hishamco, I'm opening this issue to verify it. The module `OrchardCore.Contents` exposes an `ApiController.cs` with endpoints to _create_, _update_, and _delete_ content items created in the ""Admin"" backoffice. Using _Postman_, it's possible to call the `ApiController.cs` endpoints after configuring the ""OpenID Connect"" `OpenID Authorization Server` module. I tested this using the ""Try Orchard"" website. **The authentication** process **is successful**, and I receive a valid OAuth 2 token. **But, when attempting to use the ""Admin"" user**, which is supposed to have the highest privileges, **I cannot perform GET, UPDATE, or DELETE operations**, I receive a 401 unauthorized error. **Instead, if I grant all privileges to the ""anonymous"" user role** to call the API, and remove the OAuth token, **it works**.  To Reproduce Steps to reproduce the behavior: NOTE: _As mentioned, I'm using a temporary ""try.orchardcore"" website, which is why I'm sharing the credentials here. They will expire along with the temporary website._ 1. Import the Postman collection attached [Test.postman_collection.zip](https://github.com/OrchardCMS/OrchardCore/files/14362999/Test.postman_collection.zip) (it already contains the Client Id and Secret); 2. Get an authorization token via Postman ""Authorization"" blade (all the fields should be already set) 3. Try to call this endpoint using GET method: https://try.orchardcore.net/jgjn0h2r/api/content/455vmd500wgrj7nqqpysw3px4s 4. You will get error 401 Unauthorized  Expected behavior The ""Admin"" user**, which is supposed to have the highest privileges, must be able to retrieve a content from the GET endpoint.  Screenshots Postman Authorization blade configuration ![image](https://github.com/OrchardCMS/OrchardCore/assets/19241483/26058490-0add-404f-8481-b2c4a0f35871) other-file",bug,0.95
12410,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12410,Update how ShortcodeDescriptors generate a list of categories," Describe the bug In the [Shortcode views,](https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.Shortcodes/Views/ShortcodeModal.cshtml#L13) update the code that groups the categories.  var categories = shortcodeDescriptors .Where(s => s != null) // this check is for each shortcodeDescriptor and should be for categories .SelectMany(s => s.Categories) .OrderBy(c => c, StringComparer.OrdinalIgnoreCase) .GroupBy(c => c, StringComparer.OrdinalIgnoreCase) .Select(g => g.Key);  The code can be simplify to this  var categories = shortcodeDescriptors.SelectMany(x => x.Categories ?? Enumerable.Empty<string>()) .Distinct(StringComparer.OrdinalIgnoreCase) .OrderBy(category => category); ",other-file | other-file | other-file,"Update how ShortcodeDescriptors generate a list of categories  Describe the bug In the [Shortcode views,](https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.Shortcodes/Views/ShortcodeModal.cshtml#L13) update the code that groups the categories.  var categories = shortcodeDescriptors .Where(s => s != null) // this check is for each shortcodeDescriptor and should be for categories .SelectMany(s => s.Categories) .OrderBy(c => c, StringComparer.OrdinalIgnoreCase) .GroupBy(c => c, StringComparer.OrdinalIgnoreCase) .Select(g => g.Key);  The code can be simplify to this  var categories = shortcodeDescriptors.SelectMany(x => x.Categories ?? Enumerable.Empty<string>()) .Distinct(StringComparer.OrdinalIgnoreCase) .OrderBy(category => category);  other-file other-file other-file",no-bug,0.9
8270,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8270,Is Azure Blob Storage directory marker really safe to delete?," Describe the bug `BlobFileStore` currently says for the OrchardCore.Media.txt files that ""This is a directory marker file created by Orchard Core. It is safe to delete it."" (see https://github.com/OrchardCMS/OrchardCore/blob/c72c6deb44a5e20c1040c26f12613a105aed33a8/src/OrchardCore/OrchardCore.FileStorage.AzureBlob/BlobFileStore.cs#L359). However, are these really safe to delete? I don't think so. You need them to list empty directories, and even if you can delete them from a non-empty directory without issues if you empty it later it'll cause a problem.  Expected behavior I'd just make this say ""This is a directory marker file created by Orchard Core. Please don't delete it.""",other-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file,"Is Azure Blob Storage directory marker really safe to delete?  Describe the bug `BlobFileStore` currently says for the OrchardCore.Media.txt files that ""This is a directory marker file created by Orchard Core. It is safe to delete it."" (see https://github.com/OrchardCMS/OrchardCore/blob/c72c6deb44a5e20c1040c26f12613a105aed33a8/src/OrchardCore/OrchardCore.FileStorage.AzureBlob/BlobFileStore.cs#L359). However, are these really safe to delete? I don't think so. You need them to list empty directories, and even if you can delete them from a non-empty directory without issues if you empty it later it'll cause a problem.  Expected behavior I'd just make this say ""This is a directory marker file created by Orchard Core. Please don't delete it."" other-file other-file other-file documentation-file other-file other-file documentation-file",no-bug,0.9
6752,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6752,Cannot find reference assembly 'Microsoft.AspNetCore.Antiforgery.dll',When running the OrchardCore.Mvc.Web sample project there is an error: An unhandled exception occurred while processing the request. InvalidOperationException: Cannot find reference assembly 'Microsoft.AspNetCore.Antiforgery.dll' file for package Microsoft.AspNetCore.Antiforgery,other-file,Cannot find reference assembly 'Microsoft.AspNetCore.Antiforgery.dll' When running the OrchardCore.Mvc.Web sample project there is an error: An unhandled exception occurred while processing the request. InvalidOperationException: Cannot find reference assembly 'Microsoft.AspNetCore.Antiforgery.dll' file for package Microsoft.AspNetCore.Antiforgery other-file,no-bug,0.9
7206,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7206,Release 1.0," Prepare the project Do some housekeeping on GitHub in the [main repo](https://github.com/OrchardCMS/OrchardCore). - [x] Close remaining issues for the version (including merging corresponding pull requests if suitable) or assign then to the next one. - [x] Assign all issues that were closed for an upcoming version (including a wildcard version like ""1.0.x"") to this version (milestone).  Prepare the code Update the source so everything looks like on the new version. - [x] Update `master` branch automation to use tags for deployment - [x] Rename `dev` to `main` - [x] Create a `release/<version name>` branch out of `main`. See #7236 - [X] Update code generation templates in `OrchardCore.ProjectTemplates`. - [X] Update the `OrchardCore.Commons.props` file: Update `VersionPrefix` for release versions (like ""1.0.0"") and `VersionSuffix` for pre-release versions (like ""rc2"", for the full version to be e.g. ""1.0.0-rc2""). - [X] Update module versions in `ManifestConstants`. - [ ] Change docker version in GH workflows - [x] Create release tag on `main` to deploy on NuGet.org  Test the release Make sure everything works all right. - [x] Make sure that [OrchardCore.Samples works](https://github.com/OrchardCMS/OrchardCore.Samples). - [x] Test the [guides](https://docs.orchardcore.net/en/dev/docs/guides/) with the NuGet packages from the Cloudsmith feed (branches under `release/` are automatically published too). Test at least the following guides: - [Creating a modular ASP.NET Core application](https://docs.orchardcore.net/en/dev/docs/guides/create-modular-application-mvc/) - [Creating an Orchard Core CMS website](https://docs.orchardcore.net/en/dev/docs/guides/create-cms-application/) - [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/) - [x] Test the migrations from RC2 to release. Refer https://github.com/OrchardCMS/OrchardCore/issues/8753 for sample database  Prepare and publish Orchard Core Translations Update everything in the [Translations project](https://github.com/OrchardCMS/OrchardCore.Translations). Only do this once all the code changes are done since localized strings can change until then. - [x] Update GH workflows - [ ] Nuget package properties: https://github.com/OrchardCMS/OrchardCore.Translations/issues/61 - [x] Update .po files with [PoExtractor](https://github.com/lukaskabrt/PoExtractor). This will also update [Crowdin](https://crowdin.com/project/orchard-core). - [x] Verify translation by referencing the MyGet feed and the latest packages locally. - [x] Publish the new version on NuGet. - [x] Update the `OrchardCore.Translations.All` package reference in the main repo's _src/OrchardCore.Build/Dependencies.props_ file to refer to the new NuGet package.  Prepare the documentation Update the docs so they contain information about the new release so once the release is out you'll just need to point to new information. - [ ] Create release notes in a specific documentation section. You can take the previous release notes as a template. - Overview of the release's highlights and goals. What do you want people to remember this release for? - Prerequisites. What framework version do you need, anything else to work with Orchard? - Upgrade steps, any migration necessary from previous versions, breaking changes. - Full changelog. You can generate this with [github-changelog](https://github.com/cfpb/github-changelog) with the `changelog OrchardCMS OrchardCore <previous version> <current version>` command, e.g. `changelog OrchardCMS OrchardCore 1.0.0-rc2 1.0.0`. Alternatively, you can use [Antoine's app](https://github.com/agriffard/Changelog.OrchardCore) too.  Publish the release Do the harder parts of making the release public. This should come after everything above is done. - [x] Merge `release/<version name>` to `master`. - Merges to `master` need two approvals so you'll need to create a pull request. - Merge it as a merge commit, not squash merge. - [x] Tag `master` with the full version name, including the prefix and suffix (e.g. ""1.0.0""). - [x] Test the [guides](https://docs.orchardcore.net/en/dev/docs/guides/) with the packages now automatically published to NuGet. Test at least the following guides: - [Creating a modular ASP.NET Core application](https://docs.orchardcore.net/en/dev/docs/guides/create-modular-application-mvc/) - [Creating an Orchard Core CMS website](https://docs.orchardcore.net/en/dev/docs/guides/create-cms-application/) - [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/) - [x] Update [Try Orchard Core](https://github.com/OrchardCMS/TryOrchardCore).  Publicize the release Let the whole world know about our shiny new release. Savor this part! These steps will make the release public so only do them once everything else is ready. - [x] Update the documentation to mention the version in all places where the latest version is referenced, for example, but not limited to (do a search for the package version string): [Status in the root README](https://docs.orchardcore.net/en/dev/#status), CLI templates, commands, the [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/) guide. - [ ] Update the tagged [release](https://github.com/OrchardCMS/OrchardCore/releases) on GitHub: Change its title to something more descriptive (e.g. ""Orchard Core 1.0.0""), add a link in its description to the release notes in the documentation (something like `For details on this version see the [release notes in the documentation](link here).`). Add a link to this release under [Status in the root README](https://docs.orchardcore.net/en/dev/#status). - [ ] Publish a blog post on the website. - [ ] Ask to publish a blog post on [DevBlogs](https://devblogs.microsoft.com/). - [ ] Ask to publish a blog post on [.NET Foundation News](https://dotnetfoundation.org/news). - [x] Tweet",config-file | config-file | config-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file,"Release 1.0  Prepare the project Do some housekeeping on GitHub in the [main repo](https://github.com/OrchardCMS/OrchardCore). - [x] Close remaining issues for the version (including merging corresponding pull requests if suitable) or assign then to the next one. - [x] Assign all issues that were closed for an upcoming version (including a wildcard version like ""1.0.x"") to this version (milestone).  Prepare the code Update the source so everything looks like on the new version. - [x] Update `master` branch automation to use tags for deployment - [x] Rename `dev` to `main` - [x] Create a `release/<version name>` branch out of `main`. See #7236 - [X] Update code generation templates in `OrchardCore.ProjectTemplates`. - [X] Update the `OrchardCore.Commons.props` file: Update `VersionPrefix` for release versions (like ""1.0.0"") and `VersionSuffix` for pre-release versions (like ""rc2"", for the full version to be e.g. ""1.0.0-rc2""). - [X] Update module versions in `ManifestConstants`. - [ ] Change docker version in GH workflows - [x] Create release tag on `main` to deploy on NuGet.org  Test the release Make sure everything works all right. - [x] Make sure that [OrchardCore.Samples works](https://github.com/OrchardCMS/OrchardCore.Samples). - [x] Test the [guides](https://docs.orchardcore.net/en/dev/docs/guides/) with the NuGet packages from the Cloudsmith feed (branches under `release/` are automatically published too). Test at least the following guides: - [Creating a modular ASP.NET Core application](https://docs.orchardcore.net/en/dev/docs/guides/create-modular-application-mvc/) - [Creating an Orchard Core CMS website](https://docs.orchardcore.net/en/dev/docs/guides/create-cms-application/) - [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/) - [x] Test the migrations from RC2 to release. Refer https://github.com/OrchardCMS/OrchardCore/issues/8753 for sample database  Prepare and publish Orchard Core Translations Update everything in the [Translations project](https://github.com/OrchardCMS/OrchardCore.Translations). Only do this once all the code changes are done since localized strings can change until then. - [x] Update GH workflows - [ ] Nuget package properties: https://github.com/OrchardCMS/OrchardCore.Translations/issues/61 - [x] Update .po files with [PoExtractor](https://github.com/lukaskabrt/PoExtractor). This will also update [Crowdin](https://crowdin.com/project/orchard-core). - [x] Verify translation by referencing the MyGet feed and the latest packages locally. - [x] Publish the new version on NuGet. - [x] Update the `OrchardCore.Translations.All` package reference in the main repo's _src/OrchardCore.Build/Dependencies.props_ file to refer to the new NuGet package.  Prepare the documentation Update the docs so they contain information about the new release so once the release is out you'll just need to point to new information. - [ ] Create release notes in a specific documentation section. You can take the previous release notes as a template. - Overview of the release's highlights and goals. What do you want people to remember this release for? - Prerequisites. What framework version do you need, anything else to work with Orchard? - Upgrade steps, any migration necessary from previous versions, breaking changes. - Full changelog. You can generate this with [github-changelog](https://github.com/cfpb/github-changelog) with the `changelog OrchardCMS OrchardCore <previous version> <current version>` command, e.g. `changelog OrchardCMS OrchardCore 1.0.0-rc2 1.0.0`. Alternatively, you can use [Antoine's app](https://github.com/agriffard/Changelog.OrchardCore) too.  Publish the release Do the harder parts of making the release public. This should come after everything above is done. - [x] Merge `release/<version name>` to `master`. - Merges to `master` need two approvals so you'll need to create a pull request. - Merge it as a merge commit, not squash merge. - [x] Tag `master` with the full version name, including the prefix and suffix (e.g. ""1.0.0""). - [x] Test the [guides](https://docs.orchardcore.net/en/dev/docs/guides/) with the packages now automatically published to NuGet. Test at least the following guides: - [Creating a modular ASP.NET Core application](https://docs.orchardcore.net/en/dev/docs/guides/create-modular-application-mvc/) - [Creating an Orchard Core CMS website](https://docs.orchardcore.net/en/dev/docs/guides/create-cms-application/) - [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/) - [x] Update [Try Orchard Core](https://github.com/OrchardCMS/TryOrchardCore).  Publicize the release Let the whole world know about our shiny new release. Savor this part! These steps will make the release public so only do them once everything else is ready. - [x] Update the documentation to mention the version in all places where the latest version is referenced, for example, but not limited to (do a search for the package version string): [Status in the root README](https://docs.orchardcore.net/en/dev/#status), CLI templates, commands, the [Creating a new decoupled CMS Website](https://docs.orchardcore.net/en/dev/docs/guides/decoupled-cms/) guide. - [ ] Update the tagged [release](https://github.com/OrchardCMS/OrchardCore/releases) on GitHub: Change its title to something more descriptive (e.g. ""Orchard Core 1.0.0""), add a link in its description to the release notes in the documentation (something like `For details on this version see the [release notes in the documentation](link here).`). Add a link to this release under [Status in the root README](https://docs.orchardcore.net/en/dev/#status). - [ ] Publish a blog post on the website. - [ ] Ask to publish a blog post on [DevBlogs](https://devblogs.microsoft.com/). - [ ] Ask to publish a blog post on [.NET Foundation News](https://dotnetfoundation.org/news). - [x] Tweet config-file config-file config-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file test-file",no-bug,0.95
15674,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15674,Content items actions placement in admin,"With the latest version of the source code, when I open the Content items admin page, some actions (ex: Unpublish, Delete, Clone) do not appear in the Actions dropdown button as they should: ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/e6febfc2-dfa6-4542-a378-a08efd56558d)",other-file | other-file,"Content items actions placement in admin With the latest version of the source code, when I open the Content items admin page, some actions (ex: Unpublish, Delete, Clone) do not appear in the Actions dropdown button as they should: ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/e6febfc2-dfa6-4542-a378-a08efd56558d) other-file other-file",no-bug,0.9
5503,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5503,Admin menus in Blog recipe,"The Content Types admin menu in the Blog recipe is weird. The dynamic node that lists the content types and redirect to the corresponding content items should be under the 'Content items' node. ![image](https://user-images.githubusercontent.com/703248/74104817-e803f480-4b58-11ea-9660-23a390f09cc4.png) ![image](https://user-images.githubusercontent.com/703248/74104843-21d4fb00-4b59-11ea-8e99-53611f1d081d.png) The name of the admin menu could be something like 'Favorites', instead of 'Admin menu from blog recipe'. Also, the 'Main menu' link could be removed and the Menu content type could be not `Listable`, now that there is a Menus link under Content.",documentation-file,"Admin menus in Blog recipe The Content Types admin menu in the Blog recipe is weird. The dynamic node that lists the content types and redirect to the corresponding content items should be under the 'Content items' node. ![image](https://user-images.githubusercontent.com/703248/74104817-e803f480-4b58-11ea-9660-23a390f09cc4.png) ![image](https://user-images.githubusercontent.com/703248/74104843-21d4fb00-4b59-11ea-8e99-53611f1d081d.png) The name of the admin menu could be something like 'Favorites', instead of 'Admin menu from blog recipe'. Also, the 'Main menu' link could be removed and the Menu content type could be not `Listable`, now that there is a Menus link under Content. documentation-file",no-bug,0.9
8120,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8120,See documentation,Should we display an icon before the `See documentation` link or remove it?,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,See documentation Should we display an icon before the `See documentation` link or remove it? other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
14588,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14588,Document Dashboard widgets creation,,documentation-file,Document Dashboard widgets creation  documentation-file,no-bug,0.95
6008,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6008,Workflow: Content not available when create event is fired,"I have had a strange problem that straight after a content item is created and the event triggered in a workflow the content item hasn't actually been created and I get the following exception.  System.NullReferenceException HResult=0x80004003 Message=Object reference not set to an instance of an object. Source=OrchardCore.ContentManagement.Abstractions StackTrace: at OrchardCore.ContentManagement.ContentItemExtensions.Merge(ContentItem contentItem, Object properties, JsonMergeSettings jsonMergeSettings) in C:\Developement\R&D\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement.Abstractions\ContentItemExtensions.cs:line 88  Tracking the exception up the stack it seem like the event is fired before the content creation is saved. https://github.com/OrchardCMS/OrchardCore/blob/cac3c48ebd21ff03ab44414dceecbd3520ecb34d/src/OrchardCore/OrchardCore.ContentManagement/DefaultContentManager.cs#L383-L392 The sample workflow is as seen below for reproduction steps. ![image](https://user-images.githubusercontent.com/6050438/79906819-cc4e8180-8418-11ea-8787-24ec392cb960.png) I'll add the PR and reference shortly.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Workflow: Content not available when create event is fired I have had a strange problem that straight after a content item is created and the event triggered in a workflow the content item hasn't actually been created and I get the following exception.  System.NullReferenceException HResult=0x80004003 Message=Object reference not set to an instance of an object. Source=OrchardCore.ContentManagement.Abstractions StackTrace: at OrchardCore.ContentManagement.ContentItemExtensions.Merge(ContentItem contentItem, Object properties, JsonMergeSettings jsonMergeSettings) in C:\Developement\R&D\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement.Abstractions\ContentItemExtensions.cs:line 88  Tracking the exception up the stack it seem like the event is fired before the content creation is saved. https://github.com/OrchardCMS/OrchardCore/blob/cac3c48ebd21ff03ab44414dceecbd3520ecb34d/src/OrchardCore/OrchardCore.ContentManagement/DefaultContentManager.cs#L383-L392 The sample workflow is as seen below for reproduction steps. ![image](https://user-images.githubusercontent.com/6050438/79906819-cc4e8180-8418-11ea-8787-24ec392cb960.png) I'll add the PR and reference shortly. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5578,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5578,Container creation fails in Azure Media Storage if name contains uppercase chars,"When creating folders or uploading images with Azure Media Storage an error is thrown: ""the specified resource name contains invalid characters"". My settings are as follows:  ""OrchardCore.Media.Azure"": { ""ContainerName"": ""{{ ShellSettings.Name }}"", ""BasePath"": ""media"", ""CreateContainer"": true },  I have found out the issue is with the storage container creation. When creating a tenant I will name the tenant like MyCompany but containers names have to be lower case in Azure. Azure Data Protection also fails with the same issue if your template for container has uppercase.",other-file | other-file | documentation-file | documentation-file,"Container creation fails in Azure Media Storage if name contains uppercase chars When creating folders or uploading images with Azure Media Storage an error is thrown: ""the specified resource name contains invalid characters"". My settings are as follows:  ""OrchardCore.Media.Azure"": { ""ContainerName"": ""{{ ShellSettings.Name }}"", ""BasePath"": ""media"", ""CreateContainer"": true },  I have found out the issue is with the storage container creation. When creating a tenant I will name the tenant like MyCompany but containers names have to be lower case in Azure. Azure Data Protection also fails with the same issue if your template for container has uppercase. other-file other-file documentation-file documentation-file",no-bug,0.7
13673,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13673,"Enabling ""OrchardCore.OpenId.Validation"" feature while using custom Authority value in the server throws an exception"," Describe the bug When using **OpenId Server** feature along with **OpenId Validation** and using custom Authority value, the following exception is thrown  InvalidOperationException: The issuer attached to the static configuration must be the same as the one configured in the validation options.   To Reproduce Steps to reproduce the behavior: 1. Enable the OpenId Server and the Validation 2. Set a new value in the `Authority` settings in server settings. 3. The site become useless and you'll get the above exception.  Workaround To work around this issue I did the following steps If the sure is not usable and there is a white-page/exception follow the next 5 steps. If the site is still usable, skip the first 2 steps, and start at step 3. 1. Use any RDBMS (like SQL Server Management Studio) tool to update the database directly. Update the the site settings document record by setting `Authority` to `null` in the OpenId Server settings. 2. Restart your app to force the app to read the updates you made in the database. 3. Make sure the `Deployment` feature is enable. 4. Go to **Configuratons** >> **Import/Export** >> **Import Recipe** and execute the following recipe  { ""steps"": [ { ""name"": ""OpenIdValidationSettings"", ""Authority"": ""The custom authority domain name you want to use like https://www.custom-name.com"" } ] }  5. I went back to the OpenID Server settings and set the Authority value to the same value I used in the Authority above.",other-file | other-file,"Enabling ""OrchardCore.OpenId.Validation"" feature while using custom Authority value in the server throws an exception  Describe the bug When using **OpenId Server** feature along with **OpenId Validation** and using custom Authority value, the following exception is thrown  InvalidOperationException: The issuer attached to the static configuration must be the same as the one configured in the validation options.   To Reproduce Steps to reproduce the behavior: 1. Enable the OpenId Server and the Validation 2. Set a new value in the `Authority` settings in server settings. 3. The site become useless and you'll get the above exception.  Workaround To work around this issue I did the following steps If the sure is not usable and there is a white-page/exception follow the next 5 steps. If the site is still usable, skip the first 2 steps, and start at step 3. 1. Use any RDBMS (like SQL Server Management Studio) tool to update the database directly. Update the the site settings document record by setting `Authority` to `null` in the OpenId Server settings. 2. Restart your app to force the app to read the updates you made in the database. 3. Make sure the `Deployment` feature is enable. 4. Go to **Configuratons** >> **Import/Export** >> **Import Recipe** and execute the following recipe  { ""steps"": [ { ""name"": ""OpenIdValidationSettings"", ""Authority"": ""The custom authority domain name you want to use like https://www.custom-name.com"" } ] }  5. I went back to the OpenID Server settings and set the Authority value to the same value I used in the Authority above. other-file other-file",no-bug,0.8
6364,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6364,OpenId Deployment and Recipes have some issues,"There are a number of issues with the OpenId Recipe and Deployment Steps - The Deployment Step for the Server Settings produces **completely incorrect** JSON to match what the Recipe Step is expecting (the settings directly, when the step expects a Model) - Some of the Steps use Models, some use `CreateViewModels` - Most of the Steps are storing their data directly in the step property, where they should be keyed. (Minor issue) - The Application Step can only be run once, as it does not check to see if the application already exists, so throws an exception the second time.",other-file | test-file | test-file,"OpenId Deployment and Recipes have some issues There are a number of issues with the OpenId Recipe and Deployment Steps - The Deployment Step for the Server Settings produces **completely incorrect** JSON to match what the Recipe Step is expecting (the settings directly, when the step expects a Model) - Some of the Steps use Models, some use `CreateViewModels` - Most of the Steps are storing their data directly in the step property, where they should be keyed. (Minor issue) - The Application Step can only be run once, as it does not check to see if the application already exists, so throws an exception the second time. other-file test-file test-file",bug,0.85
12256,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12256,Add settings to the form part for creating label and validation elements," Is your feature request related to a problem? Please describe. When creating a form using the Form input widgets like (`Input`, `Select`, `Text Area`) there is no easy way to add a label and validation elements to the input. The current approach is to add label widget and then validation widget which is not ideal all the time. Here are some of the issues with the current process 1. Creates too much html code because each widget has its own wrappers. 2. When creating two input with 50% width and two label with 50% width, on a small device the labels are stacked over each other (I.e., label, label, input, input) instead of stacking label, input, label input. ![image](https://user-images.githubusercontent.com/24724371/186444814-ba417471-fe3d-4dd9-9214-9dfe59f6bc44.png) 4. It makes editing experience terrible specially if you want to drag/drop one field since youll have to drag all 3 related widgets.  Describe the solution you'd like We can make this process much simpler by adding settings to the `Input`, `Select`, `Text Area` widgets with the following properties - `LabelOption` an `enum` value with the following values (`None`, `Standard`, `ScreenReaders`.) By default, `None` is selected to keep it backward compatible. - `ValidationOptions` an `enum` value with the following values (`None`, `Standard`). By default, `None` is selected to keep it backward compatible. Now, if the user selects option other than `None` in the settings, well create the label in the same widget block. The same applies to `ValidationOptions`. This will make things like dragging/dropping widgets during edit and controlling the size much easier. At the same time, we output less HTML code. And if we add the validation rules, well have more validation logic which makes the widgets more useful. Lastly, the `Input Widget` should not have ""Radio"", I don't think that is useful at all. However, the `Select Input` should have `Editor` settings with `Dropdown`, `Radio`, or `Checkbox` style so that the user can render the option different ways.",documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file,"Add settings to the form part for creating label and validation elements  Is your feature request related to a problem? Please describe. When creating a form using the Form input widgets like (`Input`, `Select`, `Text Area`) there is no easy way to add a label and validation elements to the input. The current approach is to add label widget and then validation widget which is not ideal all the time. Here are some of the issues with the current process 1. Creates too much html code because each widget has its own wrappers. 2. When creating two input with 50% width and two label with 50% width, on a small device the labels are stacked over each other (I.e., label, label, input, input) instead of stacking label, input, label input. ![image](https://user-images.githubusercontent.com/24724371/186444814-ba417471-fe3d-4dd9-9214-9dfe59f6bc44.png) 4. It makes editing experience terrible specially if you want to drag/drop one field since youll have to drag all 3 related widgets.  Describe the solution you'd like We can make this process much simpler by adding settings to the `Input`, `Select`, `Text Area` widgets with the following properties - `LabelOption` an `enum` value with the following values (`None`, `Standard`, `ScreenReaders`.) By default, `None` is selected to keep it backward compatible. - `ValidationOptions` an `enum` value with the following values (`None`, `Standard`). By default, `None` is selected to keep it backward compatible. Now, if the user selects option other than `None` in the settings, well create the label in the same widget block. The same applies to `ValidationOptions`. This will make things like dragging/dropping widgets during edit and controlling the size much easier. At the same time, we output less HTML code. And if we add the validation rules, well have more validation logic which makes the widgets more useful. Lastly, the `Input Widget` should not have ""Radio"", I don't think that is useful at all. However, the `Select Input` should have `Editor` settings with `Dropdown`, `Radio`, or `Checkbox` style so that the user can render the option different ways. documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file",no-bug,0.95
9000,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9000,Fix webpack dependency,There is a security warning on a dependency from webpack. We might need to upgrade. In the graphql module. - > 4.46.0 It's completely removed from 5.x also.,documentation-file | documentation-file | source-file | other-file | documentation-file,Fix webpack dependency There is a security warning on a dependency from webpack. We might need to upgrade. In the graphql module. - > 4.46.0 It's completely removed from 5.x also. documentation-file documentation-file source-file other-file documentation-file,no-bug,0.9
8803,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8803,how to split RequestUrlHost,"under RunningShellTable.cs , shellSettings .RequestUrlHost .Split(HostSeparators, StringSplitOptions.RemoveEmptyEntries) which char[] HostSeparators = new[] { ',', ' ' };  under index.cshtml of tenant/admin , var host = shellSettings.RequestUrlHost?.Split(new[] { "","" }, StringSplitOptions.RemoveEmptyEntries).FirstOrDefault();  under ModularBackgroundService.cs , var urlHost = settings.RequestUrlHost?.Split('/', StringSplitOptions.RemoveEmptyEntries).FirstOrDefault();  1why are they diff.? 2can we use one code in a place for consistent?",other-file | other-file | other-file,"how to split RequestUrlHost under RunningShellTable.cs , shellSettings .RequestUrlHost .Split(HostSeparators, StringSplitOptions.RemoveEmptyEntries) which char[] HostSeparators = new[] { ',', ' ' };  under index.cshtml of tenant/admin , var host = shellSettings.RequestUrlHost?.Split(new[] { "","" }, StringSplitOptions.RemoveEmptyEntries).FirstOrDefault();  under ModularBackgroundService.cs , var urlHost = settings.RequestUrlHost?.Split('/', StringSplitOptions.RemoveEmptyEntries).FirstOrDefault();  1why are they diff.? 2can we use one code in a place for consistent? other-file other-file other-file",no-bug,0.9
8545,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8545,PostgreSQL database issue with latest," Describe the bug Error occurs on Postgresql when enabling our Hackathon feature. Works fine with SQLite but with postgresql, the site completely crashes.  To Reproduce Create a tenant with a long enough name to go over the 64 character limit for table names on postgresql  Expected behavior Migrations to execute without crashing the site.  Screenshots bash fail: OrchardCore.Data.Migration.DataMigrationManager[0] => SpanId:332116e92b5d7a4f, TraceId:d4cacbf54ed6af418a87fa58e897948c, ParentId:0000000000000000 => ConnectionId:0HM6C8V30N54S => RequestPath:/tj5ogvh/Admin/Features RequestId:0HM6C8V30N54S:00000016 Error while running migration version 0 for 'OrchardCore.Workflows'. System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. > Npgsql.PostgresException (0x80004005): 42P07: relation ""tj5ogvh_IDX_WorkflowBlockingActivitiesIndex_DocumentId_Activity"" already exists at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage) at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken) at Npgsql.NpgsqlDataReader.NextResult() at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteNonQuery() at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2813 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 572 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) at YesSql.Sql.SchemaBuilder.AlterTable(String name, Action`1 table) at YesSql.Sql.SchemaBuilder.AlterIndexTable(Type indexType, Action`1 table, String collection) at YesSql.Sql.SchemaBuilderExtensions.AlterIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) at OrchardCore.Workflows.Migrations.Create() Exception data: Severity: ERROR SqlState: 42P07 MessageText: relation ""tj5ogvh_IDX_WorkflowBlockingActivitiesIndex_DocumentId_Activity"" already exists File: index.c Line: 884 Routine: index_create  End of inner exception stack trace  at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions) at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) fail: OrchardCore.Data.Migration.DataMigrationManager[0] => SpanId:332116e92b5d7a4f, TraceId:d4cacbf54ed6af418a87fa58e897948c, ParentId:0000000000000000 => ConnectionId:0HM6C8V30N54S => RequestPath:/tj5ogvh/Admin/Features RequestId:0HM6C8V30N54S:00000016 Error while running migration version 0 for 'StatCan.OrchardCore.Hackathon'. System.ObjectDisposedException: The CancellationTokenSource has been disposed. at System.Threading.CancellationTokenSource.ThrowObjectDisposedException() at System.Threading.CancellationTokenSource.CancelAfter(Int32 millisecondsDelay) at System.Threading.CancellationTokenSource.CancelAfter(TimeSpan delay) at Npgsql.Util.ResettableCancellationTokenSource.Stop() at Npgsql.NpgsqlReadBuffer.<Ensure>g__EnsureLong|40_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications) at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage) at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken) at Npgsql.NpgsqlDataReader.Consume(Boolean async) at Npgsql.NpgsqlDataReader.Close(Boolean connectionClosing, Boolean async, Boolean isDisposing) at Npgsql.NpgsqlConnector.CloseOngoingOperations(Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlTransaction.Dispose(Boolean disposing) at YesSql.Session.ReleaseTransaction() at YesSql.Session.Cancel() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Data.Documents.DocumentStore.GetOrCreateMutableAsync[T](Func`1 factoryAsync) at OrchardCore.Documents.DocumentManager`1.GetOrCreateMutableAsync(Func`1 factoryAsync) at OrchardCore.Queries.Services.QueryManager.SaveQueryAsync(String name, Query query) at OrchardCore.Queries.Recipes.QueryStep.ExecuteAsync(RecipeExecutionContext context) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass7_0.<<ExecuteStepAsync>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) at StatCan.OrchardCore.Hackathon.HackathonMigrations.CreateAsync() in C:\repos\statcan\StatCan.OrchardCore\src\Modules\StatCan.OrchardCore.Hackathon\HackathonMigrations.cs:line 31 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) Unhandled exception. Npgsql.NpgsqlException (0x80004005): Received backend message ReadyForQuery while expecting CommandCompleteMessage. Please file a bug. at Npgsql.NpgsqlConnector.ExecuteInternalCommand(Byte[] data, Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlConnector.Rollback(Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlTransaction.Rollback() at Npgsql.NpgsqlTransaction.Dispose(Boolean disposing) at YesSql.Session.ReleaseTransaction() at YesSql.Session.Cancel() at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at StatCan.OrchardCore.Hackathon.Indexes.IndexMigrations.CreateHackathonUsersIndex() in C:\repos\statcan\StatCan.OrchardCore\src\Modules\StatCan.OrchardCore.Hackathon\Indexes\Migrations.cs:line 80 at System.Threading.Tasks.Task.<>c.<ThrowAsync>b__140_1(Object state) at System.Threading.QueueUserWorkItemCallback.<>c.<.cctor>b__6_0(QueueUserWorkItemCallback quwi) at System.Threading.ExecutionContext.RunForThreadPoolUnsafe[TState](ExecutionContext executionContext, Action`1 callback, TState& state) at System.Threading.QueueUserWorkItemCallback.Execute() at System.Threading.ThreadPoolWorkQueue.Dispatch()  I will add to this issue when I find more information. Just investigating right now.",config-file | config-file,"PostgreSQL database issue with latest  Describe the bug Error occurs on Postgresql when enabling our Hackathon feature. Works fine with SQLite but with postgresql, the site completely crashes.  To Reproduce Create a tenant with a long enough name to go over the 64 character limit for table names on postgresql  Expected behavior Migrations to execute without crashing the site.  Screenshots bash fail: OrchardCore.Data.Migration.DataMigrationManager[0] => SpanId:332116e92b5d7a4f, TraceId:d4cacbf54ed6af418a87fa58e897948c, ParentId:0000000000000000 => ConnectionId:0HM6C8V30N54S => RequestPath:/tj5ogvh/Admin/Features RequestId:0HM6C8V30N54S:00000016 Error while running migration version 0 for 'OrchardCore.Workflows'. System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. > Npgsql.PostgresException (0x80004005): 42P07: relation ""tj5ogvh_IDX_WorkflowBlockingActivitiesIndex_DocumentId_Activity"" already exists at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage) at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken) at Npgsql.NpgsqlDataReader.NextResult() at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlCommand.ExecuteNonQuery() at Dapper.SqlMapper.ExecuteCommand(IDbConnection cnn, CommandDefinition& command, Action`2 paramReader) in /_/Dapper/SqlMapper.cs:line 2813 at Dapper.SqlMapper.ExecuteImpl(IDbConnection cnn, CommandDefinition& command) in /_/Dapper/SqlMapper.cs:line 572 at YesSql.Sql.SchemaBuilder.Execute(IEnumerable`1 statements) at YesSql.Sql.SchemaBuilder.AlterTable(String name, Action`1 table) at YesSql.Sql.SchemaBuilder.AlterIndexTable(Type indexType, Action`1 table, String collection) at YesSql.Sql.SchemaBuilderExtensions.AlterIndexTable[T](ISchemaBuilder builder, Action`1 table, String collection) at OrchardCore.Workflows.Migrations.Create() Exception data: Severity: ERROR SqlState: 42P07 MessageText: relation ""tj5ogvh_IDX_WorkflowBlockingActivitiesIndex_DocumentId_Activity"" already exists File: index.c Line: 884 Routine: index_create  End of inner exception stack trace  at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions) at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) fail: OrchardCore.Data.Migration.DataMigrationManager[0] => SpanId:332116e92b5d7a4f, TraceId:d4cacbf54ed6af418a87fa58e897948c, ParentId:0000000000000000 => ConnectionId:0HM6C8V30N54S => RequestPath:/tj5ogvh/Admin/Features RequestId:0HM6C8V30N54S:00000016 Error while running migration version 0 for 'StatCan.OrchardCore.Hackathon'. System.ObjectDisposedException: The CancellationTokenSource has been disposed. at System.Threading.CancellationTokenSource.ThrowObjectDisposedException() at System.Threading.CancellationTokenSource.CancelAfter(Int32 millisecondsDelay) at System.Threading.CancellationTokenSource.CancelAfter(TimeSpan delay) at Npgsql.Util.ResettableCancellationTokenSource.Stop() at Npgsql.NpgsqlReadBuffer.<Ensure>g__EnsureLong|40_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications) at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage) at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken) at Npgsql.NpgsqlDataReader.Consume(Boolean async) at Npgsql.NpgsqlDataReader.Close(Boolean connectionClosing, Boolean async, Boolean isDisposing) at Npgsql.NpgsqlConnector.CloseOngoingOperations(Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlTransaction.Dispose(Boolean disposing) at YesSql.Session.ReleaseTransaction() at YesSql.Session.Cancel() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Data.Documents.DocumentStore.GetOrCreateMutableAsync[T](Func`1 factoryAsync) at OrchardCore.Documents.DocumentManager`1.GetOrCreateMutableAsync(Func`1 factoryAsync) at OrchardCore.Queries.Services.QueryManager.SaveQueryAsync(String name, Query query) at OrchardCore.Queries.Recipes.QueryStep.ExecuteAsync(RecipeExecutionContext context) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass7_0.<<ExecuteStepAsync>b__0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) at StatCan.OrchardCore.Hackathon.HackathonMigrations.CreateAsync() in C:\repos\statcan\StatCan.OrchardCore\src\Modules\StatCan.OrchardCore.Hackathon\HackathonMigrations.cs:line 31 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) Unhandled exception. Npgsql.NpgsqlException (0x80004005): Received backend message ReadyForQuery while expecting CommandCompleteMessage. Please file a bug. at Npgsql.NpgsqlConnector.ExecuteInternalCommand(Byte[] data, Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlConnector.Rollback(Boolean async, CancellationToken cancellationToken) at Npgsql.NpgsqlTransaction.Rollback() at Npgsql.NpgsqlTransaction.Dispose(Boolean disposing) at YesSql.Session.ReleaseTransaction() at YesSql.Session.Cancel() at YesSql.Session.FlushAsync() at YesSql.Services.DefaultQuery.Query`1.ListImpl() at StatCan.OrchardCore.Hackathon.Indexes.IndexMigrations.CreateHackathonUsersIndex() in C:\repos\statcan\StatCan.OrchardCore\src\Modules\StatCan.OrchardCore.Hackathon\Indexes\Migrations.cs:line 80 at System.Threading.Tasks.Task.<>c.<ThrowAsync>b__140_1(Object state) at System.Threading.QueueUserWorkItemCallback.<>c.<.cctor>b__6_0(QueueUserWorkItemCallback quwi) at System.Threading.ExecutionContext.RunForThreadPoolUnsafe[TState](ExecutionContext executionContext, Action`1 callback, TState& state) at System.Threading.QueueUserWorkItemCallback.Execute() at System.Threading.ThreadPoolWorkQueue.Dispatch()  I will add to this issue when I find more information. Just investigating right now. config-file config-file",no-bug,0.9
13119,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13119,Unable to find `OrchardCore.Notifications` feature when preview packages are installed in a provate project," Describe the bug I have a custom solution where I am using OC preview. If I search for `Notifications` module, it isn't listed as a feature unless I explictly install `OrchardCore.Notifications` directly in my host project. I think the issue is the `OrchardCore.Notifications` project is included in `OrchardCore.Application.Cms.Core.Targets` project without `PrivateAssets=""none""`",other-file,"Unable to find `OrchardCore.Notifications` feature when preview packages are installed in a provate project  Describe the bug I have a custom solution where I am using OC preview. If I search for `Notifications` module, it isn't listed as a feature unless I explictly install `OrchardCore.Notifications` directly in my host project. I think the issue is the `OrchardCore.Notifications` project is included in `OrchardCore.Application.Cms.Core.Targets` project without `PrivateAssets=""none""` other-file",no-bug,0.9
17291,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17291,Indexing PDFs broken when using Elasticsearch and Azure Media Storage features together," Describe the bug Indexing PDFs using the `Elasticsearch` feature with the `Azure Media Storage` feature appears broken after upgrading to OrchardCore 2.x. We store our media library files in Azure blob storage, and index the contents of PDFs stored in the media library using the Elasticsearch integration. This worked perfectly fine in OrchardCore 1.x, but after upgrading to 2.x we now get this error:  2024-12-20 16:03:34.32400HN91A5D6FVBI:000000BB|OrchardCore.Contents.Indexing.ContentItemIndexCoordinator|ERR|IContentFieldIndexHandler thrown from OrchardCore.Media.Indexing.MediaFieldIndexHandler by ArgumentException System.ArgumentException: The provided stream did not support reading. at UglyToad.PdfPig.Core.StreamInputBytes..ctor(Stream stream, Boolean shouldDispose) at UglyToad.PdfPig.Parser.PdfDocumentFactory.Open(Stream stream, ParsingOptions options) at UglyToad.PdfPig.PdfDocument.Open(Stream stream, ParsingOptions options) at OrchardCore.Media.Indexing.PdfMediaFileTextProvider.GetTextAsync(String path, Stream fileStream) at OrchardCore.Media.Indexing.PdfMediaFileTextProvider.GetTextAsync(String path, Stream fileStream) at OrchardCore.Media.Indexing.MediaFieldIndexHandler.BuildIndexAsync(MediaField field, BuildFieldIndexContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3,T4,T5](IEnumerable`1 events, Func`7 dispatch, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, ILogger logger)  This issue seems to be related to a change in `PdfMediaFileTextProvider.cs`, which now uses a `FileStream` instead of a `MemoryStream` to hand off the file data to `UglyToad.PdfPig` for processing. If I modify the OrchardCore source code to revert back to using a MemoryStream, everything works fine again.  Orchard Core version 2.1.3 (using Nuget packages)  To Reproduce 1. Enable the ElasticSearch and Azure Media Storage features, and configure appropriately. 2. Create a new content item from a content type with a Media field. 3. Use the media field to pick a PDF from the media library. 4. Publish the content item, which should trigger an indexing of the PDF content.  Expected behavior Indexing should work fine, and text from the PDF should show up in the search index.",other-file | other-file | other-file,"Indexing PDFs broken when using Elasticsearch and Azure Media Storage features together  Describe the bug Indexing PDFs using the `Elasticsearch` feature with the `Azure Media Storage` feature appears broken after upgrading to OrchardCore 2.x. We store our media library files in Azure blob storage, and index the contents of PDFs stored in the media library using the Elasticsearch integration. This worked perfectly fine in OrchardCore 1.x, but after upgrading to 2.x we now get this error:  2024-12-20 16:03:34.32400HN91A5D6FVBI:000000BB|OrchardCore.Contents.Indexing.ContentItemIndexCoordinator|ERR|IContentFieldIndexHandler thrown from OrchardCore.Media.Indexing.MediaFieldIndexHandler by ArgumentException System.ArgumentException: The provided stream did not support reading. at UglyToad.PdfPig.Core.StreamInputBytes..ctor(Stream stream, Boolean shouldDispose) at UglyToad.PdfPig.Parser.PdfDocumentFactory.Open(Stream stream, ParsingOptions options) at UglyToad.PdfPig.PdfDocument.Open(Stream stream, ParsingOptions options) at OrchardCore.Media.Indexing.PdfMediaFileTextProvider.GetTextAsync(String path, Stream fileStream) at OrchardCore.Media.Indexing.PdfMediaFileTextProvider.GetTextAsync(String path, Stream fileStream) at OrchardCore.Media.Indexing.MediaFieldIndexHandler.BuildIndexAsync(MediaField field, BuildFieldIndexContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1,T2,T3,T4,T5](IEnumerable`1 events, Func`7 dispatch, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, ILogger logger)  This issue seems to be related to a change in `PdfMediaFileTextProvider.cs`, which now uses a `FileStream` instead of a `MemoryStream` to hand off the file data to `UglyToad.PdfPig` for processing. If I modify the OrchardCore source code to revert back to using a MemoryStream, everything works fine again.  Orchard Core version 2.1.3 (using Nuget packages)  To Reproduce 1. Enable the ElasticSearch and Azure Media Storage features, and configure appropriately. 2. Create a new content item from a content type with a Media field. 3. Use the media field to pick a PDF from the media library. 4. Publish the content item, which should trigger an indexing of the PDF content.  Expected behavior Indexing should work fine, and text from the PDF should show up in the search index. other-file other-file other-file",no-bug,0.9
9299,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9299,Liqudi `href` filter does not work if there is a space before the tilde,"This next line will not work because there is a space before the tilda: <img alt="""" src=""{{ "" ~/TheBlogTheme/img/post-bg.jpg"" | href }}""> maybe you want to call Trim() not sure up to you , just letting you know",other-file | other-file,"Liqudi `href` filter does not work if there is a space before the tilde This next line will not work because there is a space before the tilda: <img alt="""" src=""{{ "" ~/TheBlogTheme/img/post-bg.jpg"" | href }}""> maybe you want to call Trim() not sure up to you , just letting you know other-file other-file",no-bug,0.8
9150,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9150,Search Broken?,"I upgraded one of my Orchard Core websites to a recent development release a couple of days ago and search stopped working. In particular it looks like the templates for `Search-Form.liquid` and `Search-Results.liquid` are no longer being rendered, but I haven't had time to investigate it deeply. I also noticed that I am getting errors in the backend when I attempt to add or edit a Lucene Index, but I'm not worried about that at the moment. Interestingly enough, when I run OrchardCore.CMS.Web (.NET5) from the source code using The Blog Theme and navigate to ~/search, it displays nothing (although I can add and edit indexes). I believe this used to display the search form and search results. I verified the search index and permissions are properly configured, but the route just doesn't display the search form or search results. Reproduce I start with no App_Data folder. 1. Navigate to src/OrchardCore.Cms.Web 2. `dotnet run -f net5.0` 3. Setup using The Blog Theme and Sqlite 4. Navigate browser to ""search"" and see nothing is displayed I don't see anything in the documentation that says search is any different. Am I missing something simple? Thanks!",other-file | other-file,"Search Broken? I upgraded one of my Orchard Core websites to a recent development release a couple of days ago and search stopped working. In particular it looks like the templates for `Search-Form.liquid` and `Search-Results.liquid` are no longer being rendered, but I haven't had time to investigate it deeply. I also noticed that I am getting errors in the backend when I attempt to add or edit a Lucene Index, but I'm not worried about that at the moment. Interestingly enough, when I run OrchardCore.CMS.Web (.NET5) from the source code using The Blog Theme and navigate to ~/search, it displays nothing (although I can add and edit indexes). I believe this used to display the search form and search results. I verified the search index and permissions are properly configured, but the route just doesn't display the search form or search results. Reproduce I start with no App_Data folder. 1. Navigate to src/OrchardCore.Cms.Web 2. `dotnet run -f net5.0` 3. Setup using The Blog Theme and Sqlite 4. Navigate browser to ""search"" and see nothing is displayed I don't see anything in the documentation that says search is any different. Am I missing something simple? Thanks! other-file other-file",no-bug,0.9
11831,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11831,Graphql UI Partial function failure,![image](https://user-images.githubusercontent.com/15613121/172659874-9019ccac-d655-4541-97b2-3cd80b757711.png),other-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | documentation-file,Graphql UI Partial function failure ![image](https://user-images.githubusercontent.com/15613121/172659874-9019ccac-d655-4541-97b2-3cd80b757711.png) other-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file documentation-file,no-bug,0.9
9508,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9508,Workflow : Recaptcha with application/json header Content-Type fails.,"Here is the issue I get when using application/json with the reCaptcha : ![MicrosoftTeams-image](https://user-images.githubusercontent.com/3228637/119055846-b4d52580-b997-11eb-9843-797c418c42a3.png) So basically I'm trying to validate the recaptcha with it's data-callback method to get it's validation token. Send it to the Workflow as g-recaptcha-response form value so that it passes. As soon as I add the reCaptcha task to the Workflow it faults with an error message saying : ""Incorrect Content Type : application/json""",other-file | other-file | other-file | other-file | other-file | other-file,"Workflow : Recaptcha with application/json header Content-Type fails. Here is the issue I get when using application/json with the reCaptcha : ![MicrosoftTeams-image](https://user-images.githubusercontent.com/3228637/119055846-b4d52580-b997-11eb-9843-797c418c42a3.png) So basically I'm trying to validate the recaptcha with it's data-callback method to get it's validation token. Send it to the Workflow as g-recaptcha-response form value so that it passes. As soon as I add the reCaptcha task to the Workflow it faults with an error message saying : ""Incorrect Content Type : application/json"" other-file other-file other-file other-file other-file other-file",bug,0.85
14346,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14346,Script function .NET objects method call problem in Jint v3.0.0-beta-2051,"noticed that I was using the latest version of Jint, but I found a problem with method calls on.net objects The following script works fine in v3.0.0-beta-2049, but 2051 shows that the method does not exist `useDb()` will return a.net object and subsequent chain calls will all be.NET methods js var count = useDb().selectTypedQuery(""UserProfile"") .where(""UserName='Admin'"") .count(); return count!=0  So far I have rolled back the reference version of OC to 1.8.0-preview-17635 The relevant issues in Jint's repo, I guess they should be related https://github.com/sebastienros/jint/issues/1626",other-file,"Script function .NET objects method call problem in Jint v3.0.0-beta-2051 noticed that I was using the latest version of Jint, but I found a problem with method calls on.net objects The following script works fine in v3.0.0-beta-2049, but 2051 shows that the method does not exist `useDb()` will return a.net object and subsequent chain calls will all be.NET methods js var count = useDb().selectTypedQuery(""UserProfile"") .where(""UserName='Admin'"") .count(); return count!=0  So far I have rolled back the reference version of OC to 1.8.0-preview-17635 The relevant issues in Jint's repo, I guess they should be related https://github.com/sebastienros/jint/issues/1626 other-file",no-bug,0.9
9941,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9941,Check SubResourceIntegrity,"In order to avoid incorrect SRIs, we should find a way to check the resources that have cdn versions declared. Ex: https://github.com/Dotnet-Boxed/Framework/blob/1fd6ecc5966d820166ca633bc1cefa91bbcb4369/Source/Boxed.AspNetCore.TagHelpers/SubresourceIntegrityTagHelper.cs#L243",other-file | other-file | documentation-file | config-file | config-file | test-file | config-file | config-file | config-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | container-file | container-file | other-file | other-file | documentation-file | documentation-file | source-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | config-file | test-file | config-file | config-file | config-file | config-file | source-file | documentation-file | documentation-file | other-file | container-file | container-file | other-file | other-file | documentation-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | config-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | config-file | config-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | config-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | test-file | test-file | test-file | test-file,"Check SubResourceIntegrity In order to avoid incorrect SRIs, we should find a way to check the resources that have cdn versions declared. Ex: https://github.com/Dotnet-Boxed/Framework/blob/1fd6ecc5966d820166ca633bc1cefa91bbcb4369/Source/Boxed.AspNetCore.TagHelpers/SubresourceIntegrityTagHelper.cs#L243 other-file other-file documentation-file config-file config-file test-file config-file config-file config-file source-file source-file source-file source-file documentation-file documentation-file other-file documentation-file documentation-file container-file container-file other-file other-file documentation-file documentation-file source-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file config-file test-file config-file config-file config-file config-file source-file documentation-file documentation-file other-file container-file container-file other-file other-file documentation-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file config-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file config-file config-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file source-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file documentation-file other-file config-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file test-file test-file test-file test-file",no-bug,0.9
10648,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10648,executeQuery function in workflow returns the dictionary incorrectly,"This is my query: ![image](https://user-images.githubusercontent.com/15613121/140601744-c329b9a9-f39c-4695-9876-c4fa286953aa.png) and this is my code :  Javascript var orderList = property(""zsdgData""); log(""Error"",""""+ orderList.length) var orderIds= orderList.map(x=>""'""+x['Delivery_Number']+'-'+x['Delivery_Item']+""'""); var queryParams= { ids: orderIds.join(',')}; log(""Error"",""queryParams""+ JSON.stringify(queryParams)) // var result = executeQuery(""SCMQueryExistsedOrderIds"",queryParams) //output:{""Count"":36,""Capacity"":64} log(""Error"",""qurey result""+ JSON.stringify(result)) var filterdData=orderList; // if(result!=null){ log(""Error"",""qurey result is not null""+JSON.stringify(result)) // var idResult= result.map(x=>x.DisplayText ) filterdData=orderList.filter(x=> idResult.indexOf(x['Delivery_Number']+'-'+x['Delivery_Item'])==-1) } log(""Error"",""""+ filterdData.length) setProperty(""zsdgData"",filterdData) setOutcome('Done');  log out put:  input counts 12 queryParams{""ids"":""'145163194-10','145163285-10','145163288-10','145163304-10','145163307-10','145163315-10','145163318-10','145163323-10','145163325-10','145163327-10','145163329-10','145163331-10'""} result {""Count"":36,""Capacity"":64} result is not null :{""Count"":36,""Capacity"":64} An unhandled error occurred while executing an activity. Workflow ID: '143'. Activity: '4495mt0yfpjm2vn0pc32yd5ex1', 'ScriptTask'. Putting the workflow in the faulted state. Jint.Runtime.JavaScriptException: Property 'map' of object is not a function at :15:2 at :15:2 ",other-file,"executeQuery function in workflow returns the dictionary incorrectly This is my query: ![image](https://user-images.githubusercontent.com/15613121/140601744-c329b9a9-f39c-4695-9876-c4fa286953aa.png) and this is my code :  Javascript var orderList = property(""zsdgData""); log(""Error"",""""+ orderList.length) var orderIds= orderList.map(x=>""'""+x['Delivery_Number']+'-'+x['Delivery_Item']+""'""); var queryParams= { ids: orderIds.join(',')}; log(""Error"",""queryParams""+ JSON.stringify(queryParams)) // var result = executeQuery(""SCMQueryExistsedOrderIds"",queryParams) //output:{""Count"":36,""Capacity"":64} log(""Error"",""qurey result""+ JSON.stringify(result)) var filterdData=orderList; // if(result!=null){ log(""Error"",""qurey result is not null""+JSON.stringify(result)) // var idResult= result.map(x=>x.DisplayText ) filterdData=orderList.filter(x=> idResult.indexOf(x['Delivery_Number']+'-'+x['Delivery_Item'])==-1) } log(""Error"",""""+ filterdData.length) setProperty(""zsdgData"",filterdData) setOutcome('Done');  log out put:  input counts 12 queryParams{""ids"":""'145163194-10','145163285-10','145163288-10','145163304-10','145163307-10','145163315-10','145163318-10','145163323-10','145163325-10','145163327-10','145163329-10','145163331-10'""} result {""Count"":36,""Capacity"":64} result is not null :{""Count"":36,""Capacity"":64} An unhandled error occurred while executing an activity. Workflow ID: '143'. Activity: '4495mt0yfpjm2vn0pc32yd5ex1', 'ScriptTask'. Putting the workflow in the faulted state. Jint.Runtime.JavaScriptException: Property 'map' of object is not a function at :15:2 at :15:2  other-file",no-bug,0.9
13257,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13257,Setup Page always report exception: The provided connection string is invalid or server is unreachable.," Describe the bug when I follow this document: https://docs.orchardcore.net/en/latest/docs/getting-started/ create my first demo, when I choose the database to sqlite, everything is ok. but when I tried to choose SQL Server, what every kind of connection string was inputed, it always show me exception: The provided connection string is invalid or server is unreachable. my connection string is: Persist Security Info=False;User ID=sa;Password=Password01!@#4;Initial Catalog=TestDB1;Data Source=DESKTOP-8AVVAJV\\TESTDB the interesting thing is: this connection string was testing success when I use another ASP.net Core with EF Core framework.  To Reproduce Steps to reproduce the behavior: 1. Go to document: https://docs.orchardcore.net/en/latest/docs/getting-started/ create a demo web application. 2. run the web app. and input the connection string. please Note: I already create the database which I point out in Connection String. the Orchard Core version is 1.5.0. would you help take a look? thanks",other-file | other-file | other-file | other-file,"Setup Page always report exception: The provided connection string is invalid or server is unreachable.  Describe the bug when I follow this document: https://docs.orchardcore.net/en/latest/docs/getting-started/ create my first demo, when I choose the database to sqlite, everything is ok. but when I tried to choose SQL Server, what every kind of connection string was inputed, it always show me exception: The provided connection string is invalid or server is unreachable. my connection string is: Persist Security Info=False;User ID=sa;Password=Password01!@#4;Initial Catalog=TestDB1;Data Source=DESKTOP-8AVVAJV\\TESTDB the interesting thing is: this connection string was testing success when I use another ASP.net Core with EF Core framework.  To Reproduce Steps to reproduce the behavior: 1. Go to document: https://docs.orchardcore.net/en/latest/docs/getting-started/ create a demo web application. 2. run the web app. and input the connection string. please Note: I already create the database which I point out in Connection String. the Orchard Core version is 1.5.0. would you help take a look? thanks other-file other-file other-file other-file",no-bug,0.9
12488,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12488,"When using ContentTypes without any fields, the ""Fields"" section should not show up"," Describe the bug When we enable `OC.ContentTypes` feature but not enable any feature that compose fields like `OC.ContentFields`, the Fields section shows up. ![image](https://user-images.githubusercontent.com/24724371/192036008-99ac0472-4dd2-4bb6-97e1-58480ec74f8f.png)  To Reproduce Steps to reproduce the behavior: 1. Enable OC.ContentTypes and disable OC.ContentFields. 2. Go to Content Types and edit or add a new content type  Suggestion I think we should remove the ""Add field"" button when there is no fields definitions. Also, if a currently attached field has no definition, we should not be able to edit it, but we should be able to remove it. This can happen if a field was attach to a content type/part while the field definition is available but then the feature that provides the definition was disabled. Moreover, we should remove the ""Fields"" section from the UI if the current content-type has no fields and also there is no field definitions.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"When using ContentTypes without any fields, the ""Fields"" section should not show up  Describe the bug When we enable `OC.ContentTypes` feature but not enable any feature that compose fields like `OC.ContentFields`, the Fields section shows up. ![image](https://user-images.githubusercontent.com/24724371/192036008-99ac0472-4dd2-4bb6-97e1-58480ec74f8f.png)  To Reproduce Steps to reproduce the behavior: 1. Enable OC.ContentTypes and disable OC.ContentFields. 2. Go to Content Types and edit or add a new content type  Suggestion I think we should remove the ""Add field"" button when there is no fields definitions. Also, if a currently attached field has no definition, we should not be able to edit it, but we should be able to remove it. This can happen if a field was attach to a content type/part while the field definition is available but then the feature that provides the definition was disabled. Moreover, we should remove the ""Fields"" section from the UI if the current content-type has no fields and also there is no field definitions. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
12043,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12043,Workflow ScriptTask Error: Property 'map' of object is not a function,"Script:  js var userList=['admin'] log('Error',""userList:""+JSON.stringify(userList)) var getMailBoxParams=userList.map(x=>`'${x}'`); var mailListResult=executeQuery(""QueryUserEmailByUserName"",{userNames:getMailBoxParams.join(',')}) var staticEmail=[{""Email"":""HUARUI2219@QQ.COM""}] log('Error',""staticEmail map:""+JSON.stringify(staticEmail.map(x=>x.Email log('Error',""mailListResult:""+JSON.stringify(mailListResult)) log('Error',""mailListResult:""+JSON.stringify(mailListResult.map(x=>x.Email var allMailStr= mailListResult.map(x=>`${x.Email}`).join("";"") setProperty(""mailList"",allMailStr) setOutcome('Done');  log output  log > userList:[""admin""] > staticEmail map:[""xxx@QQ.COM""] > mailListResult:[{""Email"":""xxx@QQ.COM""}] >ERROR|An unhandled error occurred while executing an activity. Workflow ID: '16883'. Activity: '446k3gcdes9xs00j9pxmmy6hnj', 'ScriptTask'. Putting the workflow in the faulted state. Jint.Runtime.JavaScriptException: Cannot read property 'map' of undefined at :9:67 at :9:67 ",other-file,"Workflow ScriptTask Error: Property 'map' of object is not a function Script:  js var userList=['admin'] log('Error',""userList:""+JSON.stringify(userList)) var getMailBoxParams=userList.map(x=>`'${x}'`); var mailListResult=executeQuery(""QueryUserEmailByUserName"",{userNames:getMailBoxParams.join(',')}) var staticEmail=[{""Email"":""HUARUI2219@QQ.COM""}] log('Error',""staticEmail map:""+JSON.stringify(staticEmail.map(x=>x.Email log('Error',""mailListResult:""+JSON.stringify(mailListResult)) log('Error',""mailListResult:""+JSON.stringify(mailListResult.map(x=>x.Email var allMailStr= mailListResult.map(x=>`${x.Email}`).join("";"") setProperty(""mailList"",allMailStr) setOutcome('Done');  log output  log > userList:[""admin""] > staticEmail map:[""xxx@QQ.COM""] > mailListResult:[{""Email"":""xxx@QQ.COM""}] >ERROR|An unhandled error occurred while executing an activity. Workflow ID: '16883'. Activity: '446k3gcdes9xs00j9pxmmy6hnj', 'ScriptTask'. Putting the workflow in the faulted state. Jint.Runtime.JavaScriptException: Cannot read property 'map' of undefined at :9:67 at :9:67  other-file",no-bug,0.9
7999,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7999,IsEnabled flag for User is not respected when authenticating via third party identity providers,"I am not clear if the local account property of IsEnabled should be respected or not when authenticating via a third party provider. Since there is an account linkage I believe it should be and so we ca use this flag for pending accounts to be processed via workflows, etc. Secondarily, my workaround is to check this in a custom AuthorizationHandler in my Razor Pages and then redirect a use to a 403 page. We should also potentially store the IsEnabled flag as a claim so this property does not need to be retrieved every request from the UserManager (db call). This would then allow users to access it easily in pages for custom views and actions.",other-file,"IsEnabled flag for User is not respected when authenticating via third party identity providers I am not clear if the local account property of IsEnabled should be respected or not when authenticating via a third party provider. Since there is an account linkage I believe it should be and so we ca use this flag for pending accounts to be processed via workflows, etc. Secondarily, my workaround is to check this in a custom AuthorizationHandler in my Razor Pages and then redirect a use to a 403 page. We should also potentially store the IsEnabled flag as a claim so this property does not need to be retrieved every request from the UserManager (db call). This would then allow users to access it easily in pages for custom views and actions. other-file",no-bug,0.9
8915,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8915,Liquid Culture tag is empty,I have just updated to latest version of nuget packages (commit 37459b27) and noticed that liquid tag {{ Culture.Name }} returns nothing. I tested it with clean cloned repo of dev branch with Agency Theme.  To Reproduce 1. Clone dev branch and run project OrchardCore.Cms.Web. 2. Setup Agency themed site. 3. Look to html source of the homepage. 4. See that **html lang attribute** is empty.  Expected behavior There should be code of current culture.,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Liquid Culture tag is empty I have just updated to latest version of nuget packages (commit 37459b27) and noticed that liquid tag {{ Culture.Name }} returns nothing. I tested it with clean cloned repo of dev branch with Agency Theme.  To Reproduce 1. Clone dev branch and run project OrchardCore.Cms.Web. 2. Setup Agency themed site. 3. Look to html source of the homepage. 4. See that **html lang attribute** is empty.  Expected behavior There should be code of current culture. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
15154,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15154,Keep `yessql.db` as the fallback name for sqlite for backward compatability,"@hishamco PR #7446 introduced a breaking change. All of my local tenants that use Sqlite are failing because they are expecting a file called `yessql.db` and not the app is looking for `OrchardCore.db`. Here is what we should do. When creating new sites that use Sqllite, save `""DatabaseName"": ""OrchardCore.db"",` to the shellSettings. If the shell-settings does not have `DatabaseName` value, then use `yessql.db`. This way we keep it backward compatible and only change it for new tenants. Ping me when you get this fix",other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file,"Keep `yessql.db` as the fallback name for sqlite for backward compatability @hishamco PR #7446 introduced a breaking change. All of my local tenants that use Sqlite are failing because they are expecting a file called `yessql.db` and not the app is looking for `OrchardCore.db`. Here is what we should do. When creating new sites that use Sqllite, save `""DatabaseName"": ""OrchardCore.db"",` to the shellSettings. If the shell-settings does not have `DatabaseName` value, then use `yessql.db`. This way we keep it backward compatible and only change it for new tenants. Ping me when you get this fix other-file other-file other-file other-file other-file documentation-file documentation-file",no-bug,0.9
9221,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9221,LiquidPart alternate doesn't render anything with {{ Model.Html | liquid }}," Description I updated the NuGet packages from version 1.0.0-rc213527 to version 1.0.0-rc216115. after that the Alternate of the Liquid Part contained in my Theme project (LiquidPart.liquid) was rendered, but the {{ Model.Html | liquid }} that worked before doesn't render anything anymore. When I try to see the model' data with {{ Model | json }}, i see that the liquid part is present, but impossible to render it. If I remove my Alternate, then the default template is rendered correctly. I have one Web project that uses the following packages : - OrchardCore.Hosting.Console (1.0.0-rc1-10004, the only one available) - OrchardCore.Logging.NLog - OrchardCore.Application.Cms.Targets And another Theme project that uses : - OrchardCore.Theme.Targets - OrchardCore.ContentManagement - OrchardCore.DisplayManagement - OrchardCore.ResourceManagement",other-file,"LiquidPart alternate doesn't render anything with {{ Model.Html | liquid }}  Description I updated the NuGet packages from version 1.0.0-rc213527 to version 1.0.0-rc216115. after that the Alternate of the Liquid Part contained in my Theme project (LiquidPart.liquid) was rendered, but the {{ Model.Html | liquid }} that worked before doesn't render anything anymore. When I try to see the model' data with {{ Model | json }}, i see that the liquid part is present, but impossible to render it. If I remove my Alternate, then the default template is rendered correctly. I have one Web project that uses the following packages : - OrchardCore.Hosting.Console (1.0.0-rc1-10004, the only one available) - OrchardCore.Logging.NLog - OrchardCore.Application.Cms.Targets And another Theme project that uses : - OrchardCore.Theme.Targets - OrchardCore.ContentManagement - OrchardCore.DisplayManagement - OrchardCore.ResourceManagement other-file",no-bug,0.8
6125,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6125,Can't use jQuery.one in bulk actions,"We can't use `jQuery.one` in the bulk actions click event, because if you click cancel from the confirm dialog the event handler doesn't trigger the next time you click it. /cc @jtkech",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Can't use jQuery.one in bulk actions We can't use `jQuery.one` in the bulk actions click event, because if you click cancel from the confirm dialog the event handler doesn't trigger the next time you click it. /cc @jtkech other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
12541,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12541,Hiding the content picker field select control," Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/12540 <div type='discussions-op-text'> <sup>Originally posted by **fuzl-llc** October 2, 2022</sup> If you are using the content picker field, and set ""multiple"" to false, there doesn't seem to be any need to show the search/select list control once you've selected a content item. Of course if you delete the content item, you need to show it again but while a content item is selected, the search/select list control is currently shown disabled under the selected content item. I feel like it is a weird UI where the space taken up by this field doubles and halves when you select/delete content which moves the following controls up and down. It also takes up twice the vertical space it needs to, adds to clutter on the admin pages, and would just be much nicer if it was hidden. The same issue exists for the user picker field (and perhaps other things). Here is the issue: ![OrchardIssue](https://user-images.githubusercontent.com/62618663/193428294-e4c766d1-52f1-428c-ab46-e90602fe22ae.gif) And here is how it looks fixed: ![OrchardFix](https://user-images.githubusercontent.com/62618663/193428291-84692720-f19b-4c48-81e7-17775c22d187.gif) I wasn't sure where to put this as it isn't really a bug and seems too small to be considered a ""feature request."" I became obsessed with this last night and somehow managed to get some working code that does what I want, though I suspect it is not the best code/approach and currently only works if I edit the generated .js file for vue-multiselect-wrapper.js. I'm still pretty new to Orchard, am not great w/Javascript and jQuery, and have never used vue or gulp but thought perhaps one of the gurus could take what I've done and clean it up to do it right. I'm happy to help if I can if there is interest in making this change.</div>",source-file | source-file | source-file | source-file | source-file | source-file,"Hiding the content picker field select control  Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/12540 <div type='discussions-op-text'> <sup>Originally posted by **fuzl-llc** October 2, 2022</sup> If you are using the content picker field, and set ""multiple"" to false, there doesn't seem to be any need to show the search/select list control once you've selected a content item. Of course if you delete the content item, you need to show it again but while a content item is selected, the search/select list control is currently shown disabled under the selected content item. I feel like it is a weird UI where the space taken up by this field doubles and halves when you select/delete content which moves the following controls up and down. It also takes up twice the vertical space it needs to, adds to clutter on the admin pages, and would just be much nicer if it was hidden. The same issue exists for the user picker field (and perhaps other things). Here is the issue: ![OrchardIssue](https://user-images.githubusercontent.com/62618663/193428294-e4c766d1-52f1-428c-ab46-e90602fe22ae.gif) And here is how it looks fixed: ![OrchardFix](https://user-images.githubusercontent.com/62618663/193428291-84692720-f19b-4c48-81e7-17775c22d187.gif) I wasn't sure where to put this as it isn't really a bug and seems too small to be considered a ""feature request."" I became obsessed with this last night and somehow managed to get some working code that does what I want, though I suspect it is not the best code/approach and currently only works if I edit the generated .js file for vue-multiselect-wrapper.js. I'm still pretty new to Orchard, am not great w/Javascript and jQuery, and have never used vue or gulp but thought perhaps one of the gurus could take what I've done and clean it up to do it right. I'm happy to help if I can if there is interest in making this change.</div> source-file source-file source-file source-file source-file source-file",no-bug,0.95
16005,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16005,Can we set Stereotype as a dropdown menu?," Is your feature request related to a problem? Please describe. Now , the Stereotype is a text box, which is not user-friendly when making changes. For example, I can't always figure out if it's `UserCustomSettings` or `CustomUserSettings`  Describe the solution you'd like Maybe we have some way to get all the Stereotypes that are currently supported by the system, and then list them.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Can we set Stereotype as a dropdown menu?  Is your feature request related to a problem? Please describe. Now , the Stereotype is a text box, which is not user-friendly when making changes. For example, I can't always figure out if it's `UserCustomSettings` or `CustomUserSettings`  Describe the solution you'd like Maybe we have some way to get all the Stereotypes that are currently supported by the system, and then list them. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
16793,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16793,docker build error," Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/16366 <div type='discussions-op-text'> <sup>Originally posted by **tcobbfis** June 24, 2024</sup> In order to meet security requirements (45 day password expire), I need to change the users module (login function). When trying to edit and build with source code I get the error below. Also, is editing the source the right way to make this change? I tried creating an altered users module over the weekend, but had trouble when trying to replace the built in users module with it. PS C:\Repos\Orchard> docker compose up --build 2024/06/24 11:32:47 http2: server: error reading preface from client //./pipe/dockerDesktopLinuxEngine: file has already been closed [+] Building 15.2s (9/9) FINISHED docker:desktop-linux => [fisorchard internal] load build definition from Dockerfile 0.0s => => transferring dockerfile: 371B 0.0s => [fisorchard internal] load metadata for mcr.microsoft.com/dotnet/sdk:8.0 0.9s => [fisorchard internal] load .dockerignore 0.1s => => transferring context: 291B 0.0s => [fisorchard build-env 1/5] FROM mcr.microsoft.com/dotnet/sdk:8.0@sha256:3189e564f19e016a43838a46609fc81349f07322fdf6bc3299bd13f0dca9e647 0.0s => [fisorchard internal] load build context 1.8s => => transferring context: 1.12MB 1.7s => CACHED [fisorchard build-env 2/5] WORKDIR /app 0.0s => CACHED [fisorchard build-env 3/5] COPY ./src /app 0.0s => CACHED [fisorchard build-env 4/5] COPY Directory.Build.props / 0.0s => ERROR [fisorchard build-env 5/5] RUN dotnet publish /app/OrchardCore.Cms.Web -c Release -o ./build/release --framework net8.0 /p:RunAnalyzers=false 12.3s  > [fisorchard build-env 5/5] RUN dotnet publish /app/OrchardCore.Cms.Web -c Release -o ./build/release --framework net8.0 /p:RunAnalyzers=false: 1.384 Determining projects to restore 11.73 /usr/share/dotnet/sdk/8.0.302/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(96,5): error NETSDK1013: The TargetFramework value '' was not recognized. It may be misspelled. If not, then the TargetFrameworkIdentifier and/or TargetFrameworkVersion properties must be specified explicitly. [/app/OrchardCore.Cms.Web/OrchardCore.Cms.Web.csproj]  failed to solve: process ""/bin/sh -c dotnet publish /app/OrchardCore.Cms.Web -c Release -o ./build/release --framework net8.0 /p:RunAnalyzers=false"" did not complete successfully: exit code: 1 </div>",other-file | container-file | other-file | container-file,"docker build error  Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/16366 <div type='discussions-op-text'> <sup>Originally posted by **tcobbfis** June 24, 2024</sup> In order to meet security requirements (45 day password expire), I need to change the users module (login function). When trying to edit and build with source code I get the error below. Also, is editing the source the right way to make this change? I tried creating an altered users module over the weekend, but had trouble when trying to replace the built in users module with it. PS C:\Repos\Orchard> docker compose up --build 2024/06/24 11:32:47 http2: server: error reading preface from client //./pipe/dockerDesktopLinuxEngine: file has already been closed [+] Building 15.2s (9/9) FINISHED docker:desktop-linux => [fisorchard internal] load build definition from Dockerfile 0.0s => => transferring dockerfile: 371B 0.0s => [fisorchard internal] load metadata for mcr.microsoft.com/dotnet/sdk:8.0 0.9s => [fisorchard internal] load .dockerignore 0.1s => => transferring context: 291B 0.0s => [fisorchard build-env 1/5] FROM mcr.microsoft.com/dotnet/sdk:8.0@sha256:3189e564f19e016a43838a46609fc81349f07322fdf6bc3299bd13f0dca9e647 0.0s => [fisorchard internal] load build context 1.8s => => transferring context: 1.12MB 1.7s => CACHED [fisorchard build-env 2/5] WORKDIR /app 0.0s => CACHED [fisorchard build-env 3/5] COPY ./src /app 0.0s => CACHED [fisorchard build-env 4/5] COPY Directory.Build.props / 0.0s => ERROR [fisorchard build-env 5/5] RUN dotnet publish /app/OrchardCore.Cms.Web -c Release -o ./build/release --framework net8.0 /p:RunAnalyzers=false 12.3s  > [fisorchard build-env 5/5] RUN dotnet publish /app/OrchardCore.Cms.Web -c Release -o ./build/release --framework net8.0 /p:RunAnalyzers=false: 1.384 Determining projects to restore 11.73 /usr/share/dotnet/sdk/8.0.302/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(96,5): error NETSDK1013: The TargetFramework value '' was not recognized. It may be misspelled. If not, then the TargetFrameworkIdentifier and/or TargetFrameworkVersion properties must be specified explicitly. [/app/OrchardCore.Cms.Web/OrchardCore.Cms.Web.csproj]  failed to solve: process ""/bin/sh -c dotnet publish /app/OrchardCore.Cms.Web -c Release -o ./build/release --framework net8.0 /p:RunAnalyzers=false"" did not complete successfully: exit code: 1 </div> other-file container-file other-file container-file",no-bug,0.95
15411,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15411,Restarting instance of a workflow starting with the Content Created event fails with InvalidCastException," Describe the bug Restarting instance of a workflow starting with the Content Created event fails with `InvalidCastException`. It doesn't matter what else happens in the workflow (I initially tested with a real-world use-case, not just an event without actions).  To Reproduce 1. Set up fresh site using any recipe, I tested with Blank and Blog. 2. Enable the Workflows feature and create a workflow with the Content Created event. Select all content types for the event and set it as the Startup task. 3. Create a content item of any type, observe that the workflow instance runs successfully. 4. Go to the list of workflow instances and restart the instance. 5. The following exception is thrown:  `InvalidCastException: Unable to cast object of type 'System.Collections.Generic.Dictionary`2[System.String,System.Object]' to type 'OrchardCore.ContentManagement.IContent'.`  Call stack:  OrchardCore.Workflows.Helpers.DictionaryExtensions.GetValue<TValue>(IDictionary<string, object> dictionary, string key) in DictionaryExtensions.cs 24. return (TValue)value; OrchardCore.Contents.Workflows.Activities.ContentActivity.GetContentAsync(WorkflowExecutionContext workflowContext) in ContentActivity.cs 138. content = workflowContext.Input.GetValue<IContent>(ContentEventConstants.ContentItemInputKey) OrchardCore.Contents.Workflows.Activities.ContentEvent.CanExecuteAsync(WorkflowExecutionContext workflowContext, ActivityContext activityContext) in ContentEvent.cs 30. var content = await GetContentAsync(workflowContext); OrchardCore.Workflows.Services.WorkflowManager.RestartWorkflowAsync(WorkflowType workflowType, IDictionary<string, object> input, string correlationId) in WorkflowManager.cs 335. if (!await activityContext.Activity.CanExecuteAsync(workflowContext, activityContext)) OrchardCore.Workflows.Controllers.WorkflowController.Restart(long id) in WorkflowController.cs 287. await _workflowManager.RestartWorkflowAsync(workflow, workflowType); OrchardCore.Workflows.Controllers.WorkflowController.Restart(long id) in WorkflowController.cs 290. }   Expected behavior The instance is restarted and runs without error.",other-file | other-file,"Restarting instance of a workflow starting with the Content Created event fails with InvalidCastException  Describe the bug Restarting instance of a workflow starting with the Content Created event fails with `InvalidCastException`. It doesn't matter what else happens in the workflow (I initially tested with a real-world use-case, not just an event without actions).  To Reproduce 1. Set up fresh site using any recipe, I tested with Blank and Blog. 2. Enable the Workflows feature and create a workflow with the Content Created event. Select all content types for the event and set it as the Startup task. 3. Create a content item of any type, observe that the workflow instance runs successfully. 4. Go to the list of workflow instances and restart the instance. 5. The following exception is thrown:  `InvalidCastException: Unable to cast object of type 'System.Collections.Generic.Dictionary`2[System.String,System.Object]' to type 'OrchardCore.ContentManagement.IContent'.`  Call stack:  OrchardCore.Workflows.Helpers.DictionaryExtensions.GetValue<TValue>(IDictionary<string, object> dictionary, string key) in DictionaryExtensions.cs 24. return (TValue)value; OrchardCore.Contents.Workflows.Activities.ContentActivity.GetContentAsync(WorkflowExecutionContext workflowContext) in ContentActivity.cs 138. content = workflowContext.Input.GetValue<IContent>(ContentEventConstants.ContentItemInputKey) OrchardCore.Contents.Workflows.Activities.ContentEvent.CanExecuteAsync(WorkflowExecutionContext workflowContext, ActivityContext activityContext) in ContentEvent.cs 30. var content = await GetContentAsync(workflowContext); OrchardCore.Workflows.Services.WorkflowManager.RestartWorkflowAsync(WorkflowType workflowType, IDictionary<string, object> input, string correlationId) in WorkflowManager.cs 335. if (!await activityContext.Activity.CanExecuteAsync(workflowContext, activityContext)) OrchardCore.Workflows.Controllers.WorkflowController.Restart(long id) in WorkflowController.cs 287. await _workflowManager.RestartWorkflowAsync(workflow, workflowType); OrchardCore.Workflows.Controllers.WorkflowController.Restart(long id) in WorkflowController.cs 290. }   Expected behavior The instance is restarted and runs without error. other-file other-file",no-bug,0.9
15722,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15722,Incorrect AISearch index prefix,"Then creating a new AISearch index, the prefix created in wrong. Currently, the prefix is used per running app not per tenant.",other-file | other-file | other-file | other-file,"Incorrect AISearch index prefix Then creating a new AISearch index, the prefix created in wrong. Currently, the prefix is used per running app not per tenant. other-file other-file other-file other-file",no-bug,0.8
10963,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10963,Improve the OrchardCore.Tenants.FeatureProfiles feature," Is your feature request related to a problem? Please describe. If a profile is renamed, It'll break existing tenants since the name is stored in the appsettings.json file. Also, other modules are not able to contribute into the FeatureProfiles setup. For example, I want write a billing module that would calculate the monthly cost for the tenant. I could add `price field` for each profile then sum the total price for billing.  Describe the solution you'd like 1. Add an id and store the id in appsettings.json this way renaming a profile does not break anything 2. Allow the user to have multiple profiles more on than explained in #10962 3. Ultimately, user `DisplayDriver` to render the CRUD to allow other modules to contribute into the captured data. If the above is acceptable, I can submit a PR to handle this request. I already implemented 1 & 2. I should be able to implement 3 as well.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Improve the OrchardCore.Tenants.FeatureProfiles feature  Is your feature request related to a problem? Please describe. If a profile is renamed, It'll break existing tenants since the name is stored in the appsettings.json file. Also, other modules are not able to contribute into the FeatureProfiles setup. For example, I want write a billing module that would calculate the monthly cost for the tenant. I could add `price field` for each profile then sum the total price for billing.  Describe the solution you'd like 1. Add an id and store the id in appsettings.json this way renaming a profile does not break anything 2. Allow the user to have multiple profiles more on than explained in #10962 3. Ultimately, user `DisplayDriver` to render the CRUD to allow other modules to contribute into the captured data. If the above is acceptable, I can submit a PR to handle this request. I already implemented 1 & 2. I should be able to implement 3 as well. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
9362,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9362,OpenId don't handles inherited (ImpliedBy) permissions,"Testing Application access with OpenId module with Client Credentials flow, it appears that ImpliedBy permission are not honored.  To Reproduce 1. Create a tenant with at least one content 2. Enable ""OpenID Authorization Server"" & ""OpenID Token Validation"" 3. Create a role for your app and check ""Access content via the api"" & ""Publish or unpublish content for others"" (note the ""Edit content for others"" is implied) 4. Enable ""Allow Client Credentials Flow"" in OpenID Connect 5. Add an Application in OpenID Connect with ""Allow Client Credentials Flow"" and check the role you created at step 3 6. Retrieve a token and a content item using the Contents API controller 7. Try to update the content using the Contents API controller You will receive a 403Forbidden  Expected behavior It should be allowed",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"OpenId don't handles inherited (ImpliedBy) permissions Testing Application access with OpenId module with Client Credentials flow, it appears that ImpliedBy permission are not honored.  To Reproduce 1. Create a tenant with at least one content 2. Enable ""OpenID Authorization Server"" & ""OpenID Token Validation"" 3. Create a role for your app and check ""Access content via the api"" & ""Publish or unpublish content for others"" (note the ""Edit content for others"" is implied) 4. Enable ""Allow Client Credentials Flow"" in OpenID Connect 5. Add an Application in OpenID Connect with ""Allow Client Credentials Flow"" and check the role you created at step 3 6. Retrieve a token and a content item using the Contents API controller 7. Try to update the content using the Contents API controller You will receive a 403Forbidden  Expected behavior It should be allowed other-file other-file other-file other-file other-file other-file other-file other-file",bug,0.9
10276,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10276,GraphQL query returns NULL for drafts instead of skipping them,"When you are using **ContentPickerField** and picking draft items, they are returned as NULLs by GraphQL. Those NULLs could be just skipped. ![image](https://user-images.githubusercontent.com/6403130/133419012-3fd191d3-442a-4239-a362-9e7f3d3c4d4e.png)",other-file | other-file,"GraphQL query returns NULL for drafts instead of skipping them When you are using **ContentPickerField** and picking draft items, they are returned as NULLs by GraphQL. Those NULLs could be just skipped. ![image](https://user-images.githubusercontent.com/6403130/133419012-3fd191d3-442a-4239-a362-9e7f3d3c4d4e.png) other-file other-file",no-bug,0.8
5323,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5323,Enforce unique username and email address for registration?,"Dear all, It would be great to have a feature that when registering a new user, both UserName and Email will be checked for uniqueness. Currently, only the UserName get checked, and multiple users could use the same email address to register. Can we enforce it as a setting? Will it available in the 1.0 release?",other-file | other-file,"Enforce unique username and email address for registration? Dear all, It would be great to have a feature that when registering a new user, both UserName and Email will be checked for uniqueness. Currently, only the UserName get checked, and multiple users could use the same email address to register. Can we enforce it as a setting? Will it available in the 1.0 release? other-file other-file",no-bug,0.9
8631,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8631,SQL Query Schema with custom db table (collision with content type),"When you want to use a custom table in a SQL Query with a schema to expose your query in the GraphQL endpoint it can collide with an existing Content Type.  To Reproduce Steps to reproduce the behavior: 1 - Create a ""Test"" content type without any specific part or field. 2 - Create a ""Test"" table in your database with a ""Name"" column as a varchar. 3 - Create a ""Test"" SQL Query with an object schema json { ""type"": ""object"", ""properties"": { ""Name"" : { ""type"" : ""string"", ""description"" : ""This is the name of the test."" } } }  SQL SELECT Name FROM Test  ![image](https://user-images.githubusercontent.com/3228637/108441168-9178ce00-7222-11eb-8790-ce39b068504a.png) 4 - Try to execute a GraphQL query on that Test query.  Expected behavior It should add both the Content Type and Query in the GraphQL endpoint without making them collide. Right now it will take in priority the Content Type over the Query leaving the Query unusable unless you rename it to something different than any of your content type names.  Screenshots ![image](https://user-images.githubusercontent.com/3228637/108441189-9d649000-7222-11eb-93e6-bf3e06cdfbe7.png) Working solution for now is to rename the Query : ![image](https://user-images.githubusercontent.com/3228637/108441500-3c898780-7223-11eb-9e69-00bb987f7369.png)",other-file | config-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | test-file | test-file,"SQL Query Schema with custom db table (collision with content type) When you want to use a custom table in a SQL Query with a schema to expose your query in the GraphQL endpoint it can collide with an existing Content Type.  To Reproduce Steps to reproduce the behavior: 1 - Create a ""Test"" content type without any specific part or field. 2 - Create a ""Test"" table in your database with a ""Name"" column as a varchar. 3 - Create a ""Test"" SQL Query with an object schema json { ""type"": ""object"", ""properties"": { ""Name"" : { ""type"" : ""string"", ""description"" : ""This is the name of the test."" } } }  SQL SELECT Name FROM Test  ![image](https://user-images.githubusercontent.com/3228637/108441168-9178ce00-7222-11eb-8790-ce39b068504a.png) 4 - Try to execute a GraphQL query on that Test query.  Expected behavior It should add both the Content Type and Query in the GraphQL endpoint without making them collide. Right now it will take in priority the Content Type over the Query leaving the Query unusable unless you rename it to something different than any of your content type names.  Screenshots ![image](https://user-images.githubusercontent.com/3228637/108441189-9d649000-7222-11eb-93e6-bf3e06cdfbe7.png) Working solution for now is to rename the Query : ![image](https://user-images.githubusercontent.com/3228637/108441500-3c898780-7223-11eb-9e69-00bb987f7369.png) other-file config-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file test-file test-file test-file",no-bug,0.8
13068,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13068,UI: Drag&Drop flow widgets - restrictions," Describe the bug When using drag & drop in widget zone, content type restrictions are not applied.  Reproduction Prepare: * Create content type C1 with flow part, that allows only widget A * Create widget A with flow part, that allows widget B * Create random widget B Action: * Create content item of type C1 * Add widget A to content item of type C1 * Add widget B to widget A flow * When you drag widget B, you can drop it into flow of content type C1 * In this phase, you can still drop it back to widget A's flow. But when you publish page, you will get message that widget has no matching content type definition and that it will be lost after publish. * This can be fixed by allowing widget B at content type C1's flow, but that may require admin to fix this.  Expected If drop target (flow) is restricted, it should not be possible to drop widget of restricted type into it.",other-file | other-file | other-file | other-file,"UI: Drag&Drop flow widgets - restrictions  Describe the bug When using drag & drop in widget zone, content type restrictions are not applied.  Reproduction Prepare: * Create content type C1 with flow part, that allows only widget A * Create widget A with flow part, that allows widget B * Create random widget B Action: * Create content item of type C1 * Add widget A to content item of type C1 * Add widget B to widget A flow * When you drag widget B, you can drop it into flow of content type C1 * In this phase, you can still drop it back to widget A's flow. But when you publish page, you will get message that widget has no matching content type definition and that it will be lost after publish. * This can be fixed by allowing widget B at content type C1's flow, but that may require admin to fix this.  Expected If drop target (flow) is restricted, it should not be possible to drop widget of restricted type into it. other-file other-file other-file other-file",no-bug,0.9
8246,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8246,Purpose of huge magnifying glass lurking behind the search field," Describe the bug There is a huge invisible magnifying icon lurking behind the search field in some of the admin pages. I have used a few different devices to see if there it has a purpose but it doesn't seem to have one. Maybe it's an easter egg with a $1M prize money to the person who finds it? It is represented by the orange box in the screen shot because the SVG has oveflow:hidden it is currently not showing (unless you create your own admin theme and it appears). **To Reproduce** Go to one of the content items list, view the source around the search field. **Expected behavior** No huge icon should be there - I think it is a relic from a bygone era of Orchard Core. **Screenshots** <img width=""1270"" alt=""Screen Shot 2021-01-06 at 6 56 16 pm"" src=""https://user-images.githubusercontent.com/2867511/103749699-90645680-5051-11eb-8b43-cc2b0d677208.png""> Can I get rid of it and submit a PR?",other-file | other-file | other-file | other-file | other-file | other-file,"Purpose of huge magnifying glass lurking behind the search field  Describe the bug There is a huge invisible magnifying icon lurking behind the search field in some of the admin pages. I have used a few different devices to see if there it has a purpose but it doesn't seem to have one. Maybe it's an easter egg with a $1M prize money to the person who finds it? It is represented by the orange box in the screen shot because the SVG has oveflow:hidden it is currently not showing (unless you create your own admin theme and it appears). **To Reproduce** Go to one of the content items list, view the source around the search field. **Expected behavior** No huge icon should be there - I think it is a relic from a bygone era of Orchard Core. **Screenshots** <img width=""1270"" alt=""Screen Shot 2021-01-06 at 6 56 16 pm"" src=""https://user-images.githubusercontent.com/2867511/103749699-90645680-5051-11eb-8b43-cc2b0d677208.png""> Can I get rid of it and submit a PR? other-file other-file other-file other-file other-file other-file",no-bug,0.9
13176,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13176,Add deployment step for removing and merging roles," Is your feature request related to a problem? Please describe. Currently, we have `RoleStep` that would allow the user to create new roles. This step always removes all existing claims and loads only the claims you provide. This is a good step for introducing new roles. However, in OC 1.6, the startup recipe will define which roles to user. Then the user want to update the existing role permissions, they have to list all the roles manually.  Describe the solution you'd like It would be nice to add a property to the `RoleStep` to control the behavior of permission handling. For example, add a property called ""PermissionBehavior"", when the value is `Replace` ""default"", we would replace permission as we do today. However, if a user set it to `Merge` then we could just combine the permissions instead of removing existing. Additionally, add a new step `RemoveRoleStep` that would allow us to remove existing roles.",other-file | other-file | documentation-file | documentation-file,"Add deployment step for removing and merging roles  Is your feature request related to a problem? Please describe. Currently, we have `RoleStep` that would allow the user to create new roles. This step always removes all existing claims and loads only the claims you provide. This is a good step for introducing new roles. However, in OC 1.6, the startup recipe will define which roles to user. Then the user want to update the existing role permissions, they have to list all the roles manually.  Describe the solution you'd like It would be nice to add a property to the `RoleStep` to control the behavior of permission handling. For example, add a property called ""PermissionBehavior"", when the value is `Replace` ""default"", we would replace permission as we do today. However, if a user set it to `Merge` then we could just combine the permissions instead of removing existing. Additionally, add a new step `RemoveRoleStep` that would allow us to remove existing roles. other-file other-file documentation-file documentation-file",no-bug,0.9
9624,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9624,Lucene indexing. Defining a part as not included for indexing still indexes that part value,"When defining the autoroutepart and titlepart to not included in indexing for lucene it still indexes the value. **To Repro :** 0. Enable Lucene Indexing. 1. Create a content type and add the autoroutepart and titlepart. 2. In part settings for autoroute and titlepart uncheck ""Included in Indexing"" for lucene indexing. 3. Create a content item. 4. Go to Lucene Queries and run a match all lucene query on the index it was stored. 5. Observe that AutoroutePart and titlePart values have been indexed. **Desired behaviour.** Unchecking the ""Include in indexing"" part setting should be respected.",other-file,"Lucene indexing. Defining a part as not included for indexing still indexes that part value When defining the autoroutepart and titlepart to not included in indexing for lucene it still indexes the value. **To Repro :** 0. Enable Lucene Indexing. 1. Create a content type and add the autoroutepart and titlepart. 2. In part settings for autoroute and titlepart uncheck ""Included in Indexing"" for lucene indexing. 3. Create a content item. 4. Go to Lucene Queries and run a match all lucene query on the index it was stored. 5. Observe that AutoroutePart and titlePart values have been indexed. **Desired behaviour.** Unchecking the ""Include in indexing"" part setting should be respected. other-file",no-bug,0.9
6363,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6363,Content item type UI Listing,"Hello, If I make the content type unlistable i don't see it the content items list when the user is admin, but if the user is in another role like contributor or author i still see the content type listable another question? is it possible for the user in role to manage his own content in the dashboard ,I can see a permission for media to manage his own , but nothing similar for content items. of course apart from writing your own module. thank you",other-file | config-file | documentation-file | other-file | documentation-file | config-file | source-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Content item type UI Listing Hello, If I make the content type unlistable i don't see it the content items list when the user is admin, but if the user is in another role like contributor or author i still see the content type listable another question? is it possible for the user in role to manage his own content in the dashboard ,I can see a permission for media to manage his own , but nothing similar for content items. of course apart from writing your own module. thank you other-file config-file documentation-file other-file documentation-file config-file source-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
12318,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12318,Change the default editor of Markdown Field to Multi-line," Describe the bug In a markdown field, if a user hits ""Enter"" button on their keyboard, the form get submitted instead of adding a new line.  To Reproduce Steps to reproduce the behavior: 1. Created a content type 2. add a Markdown field with standard editor 3. Create a new content item of that content type 4. focus the field input and click ""enter""  Expected behavior When ""Enter"" in clicked, I expect a new line to be inserted instead of form submitting.",other-file | other-file | other-file | other-file,"Change the default editor of Markdown Field to Multi-line  Describe the bug In a markdown field, if a user hits ""Enter"" button on their keyboard, the form get submitted instead of adding a new line.  To Reproduce Steps to reproduce the behavior: 1. Created a content type 2. add a Markdown field with standard editor 3. Create a new content item of that content type 4. focus the field input and click ""enter""  Expected behavior When ""Enter"" in clicked, I expect a new line to be inserted instead of form submitting. other-file other-file other-file other-file",no-bug,0.9
14334,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14334,The Workflow module page gives an error when using PostgreSQL with OC 1.7.0 version.," Describe the bug Error: ""PostgresException: 42703: column ""workflowtypeid"" does not exist"" When a new Orchard Core 1.7 application using PostgreSQL is started, the Workflow page gives an error when opening. I noticed this error when upgrading my 1.6 project using PostgreSQL to 1.7. I did a clean installation via the Orchard Core repo and I encountered this error again when using PostgreSQL. I did not encounter this problem in a different installation using Sqlite. I think it's a situation that occurs when using PostgreSQL.  To Reproduce Steps to reproduce the behavior: 1. Create new project using version 1.7 and PostgreSQL. 2. Try to open the Workflow module via the panel. 4. See error  Expected behavior I'm waiting for the Worklow list to open properly.  Screenshots <img width=""1332"" alt=""Screenshot 2023-09-14 at 22 55 01"" src=""https://github.com/OrchardCMS/OrchardCore/assets/90242/a5819341-a8e0-44dc-971d-6dc2e261e2df""> <img width=""1981"" alt=""Screenshot 2023-09-14 at 22 56 28"" src=""https://github.com/OrchardCMS/OrchardCore/assets/90242/5b4ca03d-25a4-4aca-9cf1-cd4c6911bfea"">",other-file | other-file | other-file | other-file | other-file | other-file | config-file | test-file | config-file | config-file | config-file | config-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | other-file | container-file | container-file | other-file | other-file | documentation-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"The Workflow module page gives an error when using PostgreSQL with OC 1.7.0 version.  Describe the bug Error: ""PostgresException: 42703: column ""workflowtypeid"" does not exist"" When a new Orchard Core 1.7 application using PostgreSQL is started, the Workflow page gives an error when opening. I noticed this error when upgrading my 1.6 project using PostgreSQL to 1.7. I did a clean installation via the Orchard Core repo and I encountered this error again when using PostgreSQL. I did not encounter this problem in a different installation using Sqlite. I think it's a situation that occurs when using PostgreSQL.  To Reproduce Steps to reproduce the behavior: 1. Create new project using version 1.7 and PostgreSQL. 2. Try to open the Workflow module via the panel. 4. See error  Expected behavior I'm waiting for the Worklow list to open properly.  Screenshots <img width=""1332"" alt=""Screenshot 2023-09-14 at 22 55 01"" src=""https://github.com/OrchardCMS/OrchardCore/assets/90242/a5819341-a8e0-44dc-971d-6dc2e261e2df""> <img width=""1981"" alt=""Screenshot 2023-09-14 at 22 56 28"" src=""https://github.com/OrchardCMS/OrchardCore/assets/90242/5b4ca03d-25a4-4aca-9cf1-cd4c6911bfea""> other-file other-file other-file other-file other-file other-file config-file test-file config-file config-file config-file config-file source-file source-file source-file source-file documentation-file documentation-file documentation-file other-file container-file container-file other-file other-file documentation-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
16961,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16961,"SQL Query fails with ""ORDER BY random()"""," Describe the bug SQL Query with random ordering fails with: Syntax error, expected: ASC, DESC, ., ,, ), LIMIT, OFFSET, UNION, ;, WITH, SELECT at line:5, col:15  Orchard Core version Latest 2.0  To Reproduce 1. Go to Admin Panel -> Search -> SQL Queries 2. Create/Run query:  SELECT DocumentId FROM ContentItemIndex WHERE ContentType='BlogPost' and Published = true ORDER BY random() LIMIT 10   Expected behavior Should return random 10 `BlogPost` content items.  Logs and screenshots ![image](https://github.com/user-attachments/assets/2f26007b-1e62-4045-aa90-e616172b4a09)",other-file | other-file | test-file,"SQL Query fails with ""ORDER BY random()""  Describe the bug SQL Query with random ordering fails with: Syntax error, expected: ASC, DESC, ., ,, ), LIMIT, OFFSET, UNION, ;, WITH, SELECT at line:5, col:15  Orchard Core version Latest 2.0  To Reproduce 1. Go to Admin Panel -> Search -> SQL Queries 2. Create/Run query:  SELECT DocumentId FROM ContentItemIndex WHERE ContentType='BlogPost' and Published = true ORDER BY random() LIMIT 10   Expected behavior Should return random 10 `BlogPost` content items.  Logs and screenshots ![image](https://github.com/user-attachments/assets/2f26007b-1e62-4045-aa90-e616172b4a09) other-file other-file test-file",no-bug,0.9
6520,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6520,Lucene Query Api the the endpoints work with get only i can't get to work with post requests,"what type of body do we use when querying the endpoint because i tried most and nothing work with post here is the get request :  https://localhost:5001/api/lucene/content?query={ ""query"": { ""bool"": { ""must"" :[ {""term"": { ""Content.ContentItem.ContentType"": ""Meal"" }}, { ""term"": { ""Meal.AdType"": ""{{type}}"" }}, ] } }, ""sort"": { ""Content.ContentItem.CreatedUtc"": { ""order"": ""desc"", ""type"": ""double"" } }, ""size"": 3 }&indexName=Meal&parameters={""type"": ""Rent"" }  This works fine in postman but when i try it using post items null I also noticed the endpoints result is not consistent the content return the items with count and the document doesn't",other-file,"Lucene Query Api the the endpoints work with get only i can't get to work with post requests what type of body do we use when querying the endpoint because i tried most and nothing work with post here is the get request :  https://localhost:5001/api/lucene/content?query={ ""query"": { ""bool"": { ""must"" :[ {""term"": { ""Content.ContentItem.ContentType"": ""Meal"" }}, { ""term"": { ""Meal.AdType"": ""{{type}}"" }}, ] } }, ""sort"": { ""Content.ContentItem.CreatedUtc"": { ""order"": ""desc"", ""type"": ""double"" } }, ""size"": 3 }&indexName=Meal&parameters={""type"": ""Rent"" }  This works fine in postman but when i try it using post items null I also noticed the endpoints result is not consistent the content return the items with count and the document doesn't other-file",bug,0.85
14568,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14568,Adding a field with no type using the content definition manager throws null exception.," Describe the bug When adding a field without specifiying the type of the field to the `ContentDefinitionManager` a null exception is thrown.  To Reproduce Run the following migration  public class TestMigration : DataMigration { private readonly IContentDefinitionManager _contentDefinitionManager; public TestMigration(IContentDefinitionManager contentDefinitionManager) => _contentDefinitionManager = contentDefinitionManager; public int Create() { _contentDefinitionManager.AlterPartDefinition(""UserStoryInfoPart"", part => part .WithDisplayName(""User Story Info Part"") .WithField(""Description"", part => part //.OfType(""TextField"") // without defining the type, we get a null exception. .WithEditor(""TextArea"") ) ); return 1; } }   Expected behavior Maybe an exception that is more description instead of a null exception.",other-file,"Adding a field with no type using the content definition manager throws null exception.  Describe the bug When adding a field without specifiying the type of the field to the `ContentDefinitionManager` a null exception is thrown.  To Reproduce Run the following migration  public class TestMigration : DataMigration { private readonly IContentDefinitionManager _contentDefinitionManager; public TestMigration(IContentDefinitionManager contentDefinitionManager) => _contentDefinitionManager = contentDefinitionManager; public int Create() { _contentDefinitionManager.AlterPartDefinition(""UserStoryInfoPart"", part => part .WithDisplayName(""User Story Info Part"") .WithField(""Description"", part => part //.OfType(""TextField"") // without defining the type, we get a null exception. .WithEditor(""TextArea"") ) ); return 1; } }   Expected behavior Maybe an exception that is more description instead of a null exception. other-file",no-bug,0.9
10364,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10364,Redirect URL encoding issue on Azure," Describe the bug When publishing this Admin/Contents/ContentItems/{ContentItemId}/Edit?returnUrl={greek or unicode characters} the redirect goes to {some encoded or strange characters url} and of course we are getting page not found It happens on Azure, not on local dev env.. Both on .net 3.1 and 5  To Reproduce Steps to reproduce the behavior: 1. Publish a blogpost with permalink that contains non English characters 2. Edit this blogpost and have a redirect url the above permalink 3. See error  Expected behavior Non English characters should not be encoded  Screenshots ![image](https://user-images.githubusercontent.com/1871551/135157414-d94bc6cb-204d-4168-a227-99f32a9571e7.png) ![image](https://user-images.githubusercontent.com/1871551/135157480-a3afe5a2-6880-45e1-a34e-8b3092ae6b87.png) ![image](https://user-images.githubusercontent.com/1871551/135157557-c0b8e4b8-6374-4dd7-8ac7-02842742d629.png)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Redirect URL encoding issue on Azure  Describe the bug When publishing this Admin/Contents/ContentItems/{ContentItemId}/Edit?returnUrl={greek or unicode characters} the redirect goes to {some encoded or strange characters url} and of course we are getting page not found It happens on Azure, not on local dev env.. Both on .net 3.1 and 5  To Reproduce Steps to reproduce the behavior: 1. Publish a blogpost with permalink that contains non English characters 2. Edit this blogpost and have a redirect url the above permalink 3. See error  Expected behavior Non English characters should not be encoded  Screenshots ![image](https://user-images.githubusercontent.com/1871551/135157414-d94bc6cb-204d-4168-a227-99f32a9571e7.png) ![image](https://user-images.githubusercontent.com/1871551/135157480-a3afe5a2-6880-45e1-a34e-8b3092ae6b87.png) ![image](https://user-images.githubusercontent.com/1871551/135157557-c0b8e4b8-6374-4dd7-8ac7-02842742d629.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
5857,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5857,Update module manifest url and maybe version?,"As @hishamco pointed out on https://github.com/OrchardCMS/OrchardCore/pull/5815 the manifests for the modules are all set to v2.0.0, and the website also could be updated to `https://orchardcore.net`  Website = ""https://orchardproject.net"", Version = ""2.0.0""  What version number do we want to release with?",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Update module manifest url and maybe version? As @hishamco pointed out on https://github.com/OrchardCMS/OrchardCore/pull/5815 the manifests for the modules are all set to v2.0.0, and the website also could be updated to `https://orchardcore.net`  Website = ""https://orchardproject.net"", Version = ""2.0.0""  What version number do we want to release with? other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file other-file other-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
5483,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5483,Documentation Bug Maybe - Custom Theme Docs need a note about tenant enabling,"This is in regards to #3346 and #5476 If you make a custom theme and want to use it in a tenant as part of a recipe you must enable it. The reason why this is not understood is because most people including myself made a custom theme project and then referenced it in our main web app. Because we referenced it I am going to guess it did not need to be ""enabled"". This is why nobody saw a problem when they ran their recipe in non tenant mode. The problem only materializes when you try to run the same recipe as a tenant.",documentation-file | documentation-file | documentation-file,"Documentation Bug Maybe - Custom Theme Docs need a note about tenant enabling This is in regards to #3346 and #5476 If you make a custom theme and want to use it in a tenant as part of a recipe you must enable it. The reason why this is not understood is because most people including myself made a custom theme project and then referenced it in our main web app. Because we referenced it I am going to guess it did not need to be ""enabled"". This is why nobody saw a problem when they ran their recipe in non tenant mode. The problem only materializes when you try to run the same recipe as a tenant. documentation-file documentation-file documentation-file",no-bug,0.9
16742,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16742,Fix Duration shape to support RTL languages,"In [DateTimeShapes](https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore/OrchardCore.DisplayManagement/Shapes/DateTimeShapes.cs#L118) We can't concatenate localized strings because RTL and other languages might not accept this order. Localized strings should be a single string with arguments. However with durations we need multiple variables to define the plurals, which we can't do (too many combinations), so we need to choose a form that will work in all cases. Suggestions, with the example of 2 days and 3 minutes. 1. 2 different strings When it's not a single unit: ""approximately 2 days"" and for single units: ""2 days"" 2. Only use the biggest unit: ""2 days"" We will ignore the smaller parts of the duration.",other-file | other-file,"Fix Duration shape to support RTL languages In [DateTimeShapes](https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore/OrchardCore.DisplayManagement/Shapes/DateTimeShapes.cs#L118) We can't concatenate localized strings because RTL and other languages might not accept this order. Localized strings should be a single string with arguments. However with durations we need multiple variables to define the plurals, which we can't do (too many combinations), so we need to choose a form that will work in all cases. Suggestions, with the example of 2 days and 3 minutes. 1. 2 different strings When it's not a single unit: ""approximately 2 days"" and for single units: ""2 days"" 2. Only use the biggest unit: ""2 days"" We will ignore the smaller parts of the duration. other-file other-file",no-bug,0.9
15727,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15727,Issue with Menu Items via the Admin Panel - Adding More Than One Child Item Not Working,"When trying to add more than one child item under a parent menu item then saving it reverts back to its original position in Admin. I of course need to be able to add more than one item in a dropdown menu. Examining in the Inspection window, it seems that maybe the Javascript isn't assigning the correct attribute values. See attached screenshot. (It may appear from the screenshot that it worked, but as soon as I ""Publish"" it reverts the position of the second child item back to the top level) <img width=""1468"" alt=""Screenshot 2024-04-10 at 6 44 10 PM"" src=""https://github.com/OrchardCMS/OrchardCore/assets/7737516/c8dd67ad-036f-40e6-b247-28b01a8c7929"">",other-file,"Issue with Menu Items via the Admin Panel - Adding More Than One Child Item Not Working When trying to add more than one child item under a parent menu item then saving it reverts back to its original position in Admin. I of course need to be able to add more than one item in a dropdown menu. Examining in the Inspection window, it seems that maybe the Javascript isn't assigning the correct attribute values. See attached screenshot. (It may appear from the screenshot that it worked, but as soon as I ""Publish"" it reverts the position of the second child item back to the top level) <img width=""1468"" alt=""Screenshot 2024-04-10 at 6 44 10 PM"" src=""https://github.com/OrchardCMS/OrchardCore/assets/7737516/c8dd67ad-036f-40e6-b247-28b01a8c7929""> other-file",no-bug,0.9
15281,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15281,Add support for the ReCaptcha onload callback," Is your feature request related to a problem? Please describe. I use JQuery Unobtrusive Validation to validate my forms. I also use the ReCaptcha feature to protect my forms against robots. I'd like to be able to add validation to the reCAPTCHA form element, which is loaded dynamically and thus can't be added until after the reCAPTCHA is loaded. Fortunately, Google provides an `onload` parameter that you can provide on the ReCaptcha script ([see documentation](https://developers.google.com/recaptcha/docs/display#explicit_render)). Unfortunately, there isn't a convenient way to specify that parameter and when using the `ReCaptchaTagHelper`.  Describe the solution you'd like Add an attribute to the `ReCaptchaTagHelper` for specifying the onload callback.  Describe alternatives you've considered For my site, I replaced the base Orchard Core `ReCaptchaTagHelper` with a custom implementation with the onload attribute.",other-file,"Add support for the ReCaptcha onload callback  Is your feature request related to a problem? Please describe. I use JQuery Unobtrusive Validation to validate my forms. I also use the ReCaptcha feature to protect my forms against robots. I'd like to be able to add validation to the reCAPTCHA form element, which is loaded dynamically and thus can't be added until after the reCAPTCHA is loaded. Fortunately, Google provides an `onload` parameter that you can provide on the ReCaptcha script ([see documentation](https://developers.google.com/recaptcha/docs/display#explicit_render)). Unfortunately, there isn't a convenient way to specify that parameter and when using the `ReCaptchaTagHelper`.  Describe the solution you'd like Add an attribute to the `ReCaptchaTagHelper` for specifying the onload callback.  Describe alternatives you've considered For my site, I replaced the base Orchard Core `ReCaptchaTagHelper` with a custom implementation with the onload attribute. other-file",no-bug,0.95
8600,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8600,[Lucene] Applying a boost doesn't seem to have any effect,"I've tried two ways: 1. First is from this https://github.com/OrchardCMS/OrchardCore/issues/4825#issuecomment-554665911.  { ""from"": 0, ""query"": { ""bool"": { ""should"": [ { ""wildcard"": { ""TitlePart"": ""test*"", ""boost"": 2 } }, { ""wildcard"": { ""Article.Body"": ""test*"" } } ] } }, ""size"": 10 }  It returns the same order as when there is no boost property. Some articles without ""test"" in the title appear first. 2. I was also trying to use with the simpleQueryString. https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html But it doensn't work, as if I didn't include the ""TitlePart"" field.  { ""from"": 0, ""query"": { ""bool"": { ""must"": [ { ""simple_query_string"": { ""analyze_wildcard"": true, ""fields"": [ ""TitlePart^2"", ""Article.Body"" ], ""query"": ""(test) (test*)"" } } ] } }, ""size"": 10 }  With:  ""fields"": [ ""TitlePart^2"", ""Article.Body"" ]  Returns only results of Article.Body With:  ""fields"": [ ""TitlePart^2"" ]  Returns no results. With:  ""fields"": [ ""TitlePart"" ]  Returns results. Am I doing something wrong? If it's a bug or not implemented I can help.",other-file | other-file,"[Lucene] Applying a boost doesn't seem to have any effect I've tried two ways: 1. First is from this https://github.com/OrchardCMS/OrchardCore/issues/4825#issuecomment-554665911.  { ""from"": 0, ""query"": { ""bool"": { ""should"": [ { ""wildcard"": { ""TitlePart"": ""test*"", ""boost"": 2 } }, { ""wildcard"": { ""Article.Body"": ""test*"" } } ] } }, ""size"": 10 }  It returns the same order as when there is no boost property. Some articles without ""test"" in the title appear first. 2. I was also trying to use with the simpleQueryString. https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html But it doensn't work, as if I didn't include the ""TitlePart"" field.  { ""from"": 0, ""query"": { ""bool"": { ""must"": [ { ""simple_query_string"": { ""analyze_wildcard"": true, ""fields"": [ ""TitlePart^2"", ""Article.Body"" ], ""query"": ""(test) (test*)"" } } ] } }, ""size"": 10 }  With:  ""fields"": [ ""TitlePart^2"", ""Article.Body"" ]  Returns only results of Article.Body With:  ""fields"": [ ""TitlePart^2"" ]  Returns no results. With:  ""fields"": [ ""TitlePart"" ]  Returns results. Am I doing something wrong? If it's a bug or not implemented I can help. other-file other-file",no-bug,0.9
14464,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14464,Dashboard padding,The text of an Html widget on the dashboard is too close to the border: ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/561d5fb9-d652-4cae-b787-fae68e83843c),other-file,Dashboard padding The text of an Html widget on the dashboard is too close to the border: ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/561d5fb9-d652-4cae-b787-fae68e83843c) other-file,no-bug,0.95
5897,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5897,Feature : Allow registering style block from shapes,The intent is to have something similar to custom scripts feature : Razor  <style> .my-class { /* some style */ } </style>  Liquid  {% styleblock %} .my-class { /* some style */ } {% endstyleblock %}  To do : - [ ] Allow inline declaration with `StyleTagHelper` - [ ] Add 'styleblock' Liquid `NamedHelperBlock` - [ ] Document feature,other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file,Feature : Allow registering style block from shapes The intent is to have something similar to custom scripts feature : Razor  <style> .my-class { /* some style */ } </style>  Liquid  {% styleblock %} .my-class { /* some style */ } {% endstyleblock %}  To do : - [ ] Allow inline declaration with `StyleTagHelper` - [ ] Add 'styleblock' Liquid `NamedHelperBlock` - [ ] Document feature other-file other-file other-file other-file documentation-file other-file other-file other-file other-file,no-bug,0.95
14596,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14596,Dashboard widget is showing up after removing `DashboardWidget` stereotype,"To test the admin theme's Bootstrap 5.3.2 PR, I created a Content type with all parts in order to show them all in Edit. A very weird side effect is that the Dashboard displays the ListPart in its widgets. ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/ccaa0e95-ce2c-4bbc-9cfe-c2cef6da2dd5) There is also a Duplicated Dashboard title.",other-file,"Dashboard widget is showing up after removing `DashboardWidget` stereotype To test the admin theme's Bootstrap 5.3.2 PR, I created a Content type with all parts in order to show them all in Edit. A very weird side effect is that the Dashboard displays the ListPart in its widgets. ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/ccaa0e95-ce2c-4bbc-9cfe-c2cef6da2dd5) There is also a Duplicated Dashboard title. other-file",no-bug,0.9
16542,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16542,CreateContentTask evaluation will not remove illegal characters,"While upgrading to 2.0 i had a workflow with a CreateContentTask activity to create a specific content type with following liquid expression :  {% capture full_name %} {{Workflow.Input.User.Properties.UserProfileSettings.UserProfileSettings.FirstName.Text}} {{Workflow.Input.User.Properties.UserProfileSettings.UserProfileSettings.LastName.Text}} {% endcapture %} { ""DisplayText"": ""{{full_name}}"", ""Owner"":""{{Workflow.Input.User.UserId}}"", ""Author"": ""{{Workflow.Input.User.UserName}}"", }  when ContentProperties is evaluated from :  var contentProperties = await _expressionEvaluator.EvaluateAsync(ContentProperties, workflowContext, _javaScriptEncoder);  the json to be merged is returned like this (with carriage return inside the json) :  { ""DisplayText"": "" qqqqqqqqfname qqqqqqqqlname "", }  this results in the following error when merging with content item :  System.Text.Json.JsonReaderException: '0x0D' (CARRIAGE RETURN) is invalid within a JSON string. The string should be correctly escaped.  This was handeled automatically before 2.0 . Is there a way to remove automatically invalid json characters like previous ?",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"CreateContentTask evaluation will not remove illegal characters While upgrading to 2.0 i had a workflow with a CreateContentTask activity to create a specific content type with following liquid expression :  {% capture full_name %} {{Workflow.Input.User.Properties.UserProfileSettings.UserProfileSettings.FirstName.Text}} {{Workflow.Input.User.Properties.UserProfileSettings.UserProfileSettings.LastName.Text}} {% endcapture %} { ""DisplayText"": ""{{full_name}}"", ""Owner"":""{{Workflow.Input.User.UserId}}"", ""Author"": ""{{Workflow.Input.User.UserName}}"", }  when ContentProperties is evaluated from :  var contentProperties = await _expressionEvaluator.EvaluateAsync(ContentProperties, workflowContext, _javaScriptEncoder);  the json to be merged is returned like this (with carriage return inside the json) :  { ""DisplayText"": "" qqqqqqqqfname qqqqqqqqlname "", }  this results in the following error when merging with content item :  System.Text.Json.JsonReaderException: '0x0D' (CARRIAGE RETURN) is invalid within a JSON string. The string should be correctly escaped.  This was handeled automatically before 2.0 . Is there a way to remove automatically invalid json characters like previous ? other-file other-file other-file other-file other-file other-file other-file other-file",bug,0.85
12596,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12596,Home Page Url In Sitemap using permalink,"I'm not 100% sure this is a bug but its a big issue for us with regards to SEO. For the permalink you can't set / to indicate the home page, it needs to contain something e.g. https://www.domain.com/home-page. So in our auto-generated sitemap, the home page url is showing as https://www.domain.com/home-page instead of showing as https://www.domain.com/. Is there some way around this? Or are we doing something wrong?",other-file | other-file,"Home Page Url In Sitemap using permalink I'm not 100% sure this is a bug but its a big issue for us with regards to SEO. For the permalink you can't set / to indicate the home page, it needs to contain something e.g. https://www.domain.com/home-page. So in our auto-generated sitemap, the home page url is showing as https://www.domain.com/home-page instead of showing as https://www.domain.com/. Is there some way around this? Or are we doing something wrong? other-file other-file",no-bug,0.9
17233,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17233,OpenId.Validation feature configuration does not allow authorities from Settings UI," Describe the bug OpenId Validation settings UI displays an error when I try to save settings with a valid authority (which is my external IDP) and leaving ""Tenant"" field empty. As documented here [https://docs.orchardcore.net/en/main/reference/modules/OpenId/#openid-connect-token-validation](https://docs.orchardcore.net/en/main/reference/modules/OpenId/#openid-connect-token-validation) other trusted servers are allowed. So I wouldn't expect a tenant is required. It looks to me a bug in display driver Update method, because configuration with authority and no tenant is perfectly working by running OpenIdValidationSettings recipe step.  Orchard Core version This is not working in version 2.1.2  To Reproduce 1. Enable feature OrchardCore.OpenId.Validation 2. Go to feature settings UI (Security/OpenId Connect/Settings/Token Validation) 3. Set a valid authority and an audience, leave tenant field empty. 4. Save. => ""Tenant is required"" error is displayed  Expected behavior I would expect that only one of Tenant or Authority fields must be filled out. If I configure the feature with its recipe step like this, everything is working as expected and tokens issued by my IDP are correctly validated json { ""name"": ""OpenIdValidationSettings"", ""Authority"": ""https://myidp"", ""Audience"": ""my-audience "" }  Thank you!",other-file | other-file,"OpenId.Validation feature configuration does not allow authorities from Settings UI  Describe the bug OpenId Validation settings UI displays an error when I try to save settings with a valid authority (which is my external IDP) and leaving ""Tenant"" field empty. As documented here [https://docs.orchardcore.net/en/main/reference/modules/OpenId/#openid-connect-token-validation](https://docs.orchardcore.net/en/main/reference/modules/OpenId/#openid-connect-token-validation) other trusted servers are allowed. So I wouldn't expect a tenant is required. It looks to me a bug in display driver Update method, because configuration with authority and no tenant is perfectly working by running OpenIdValidationSettings recipe step.  Orchard Core version This is not working in version 2.1.2  To Reproduce 1. Enable feature OrchardCore.OpenId.Validation 2. Go to feature settings UI (Security/OpenId Connect/Settings/Token Validation) 3. Set a valid authority and an audience, leave tenant field empty. 4. Save. => ""Tenant is required"" error is displayed  Expected behavior I would expect that only one of Tenant or Authority fields must be filled out. If I configure the feature with its recipe step like this, everything is working as expected and tokens issued by my IDP are correctly validated json { ""name"": ""OpenIdValidationSettings"", ""Authority"": ""https://myidp"", ""Audience"": ""my-audience "" }  Thank you! other-file other-file",no-bug,0.9
14607,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14607,audit trail list badge styling,Audit trail badge color incorrect due to higher priority of bootstrap. css over admin.css before ![image](https://github.com/OrchardCMS/OrchardCore/assets/1516981/6eec303f-5aa9-44bf-8655-f20b9a85a352) after ![image](https://github.com/OrchardCMS/OrchardCore/assets/1516981/5875d70a-8a6c-405c-8ffd-bc88c09f1e45),other-file | other-file | other-file | config-file | test-file | config-file | config-file | config-file | config-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | other-file | container-file | container-file | other-file | other-file | documentation-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,audit trail list badge styling Audit trail badge color incorrect due to higher priority of bootstrap. css over admin.css before ![image](https://github.com/OrchardCMS/OrchardCore/assets/1516981/6eec303f-5aa9-44bf-8655-f20b9a85a352) after ![image](https://github.com/OrchardCMS/OrchardCore/assets/1516981/5875d70a-8a6c-405c-8ffd-bc88c09f1e45) other-file other-file other-file config-file test-file config-file config-file config-file config-file source-file source-file source-file source-file documentation-file documentation-file documentation-file other-file container-file container-file other-file other-file documentation-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.95
9199,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9199,Properties not accessible from liquid," Describe the bug Blank values are returned when trying to access the Shape `Properties` property.  {{ someContentItem| shape_build_display | shape_properties: someProp: ""SomeValue"" | shape_render }}   {{ Model.Properties.SomeProp }} // this return blank {{ Model.SomeProp }} // this works ",other-file | other-file,"Properties not accessible from liquid  Describe the bug Blank values are returned when trying to access the Shape `Properties` property.  {{ someContentItem| shape_build_display | shape_properties: someProp: ""SomeValue"" | shape_render }}   {{ Model.Properties.SomeProp }} // this return blank {{ Model.SomeProp }} // this works  other-file other-file",no-bug,0.8
14154,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14154,Add more searchable media types in Elasticsearch/Lucene," Is your feature request related to a problem? Please describe. Currently we only support searching in PDF files in Elasticsearch.  Describe the solution you'd like We should be able to search .doc, .docx, .txt, .rtf, .ppt, .pptx. We can easily use Spire.Doc to add this suppor  Describe alternatives you've considered I added support to all these in my own project",documentation-file | documentation-file,"Add more searchable media types in Elasticsearch/Lucene  Is your feature request related to a problem? Please describe. Currently we only support searching in PDF files in Elasticsearch.  Describe the solution you'd like We should be able to search .doc, .docx, .txt, .rtf, .ppt, .pptx. We can easily use Spire.Doc to add this suppor  Describe alternatives you've considered I added support to all these in my own project documentation-file documentation-file",no-bug,0.9
9034,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9034,SelectPart cannot have more than one instance in a single page.," Describe the bug If you have multiple SelectParts on a page, (e.g. a Form FlowPart with multiple Select widgets), then only the first one will actually have a working editor in the edit page or will render options correctly on the display. I am not experienced with Vue hardly at all, but I have a feeling(?) it has to do with each of the generated SelectOptionsTable/Modal Vue components [relying on the same template ID](https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore.Modules/OrchardCore.Forms/Assets/js/SelectOptionsEditor/selectOptionsEditor.js#L26) regardless of which widget content item ID they actually correspond to.  To Reproduce Steps to reproduce the behavior: 1. Run blog recipe. 2. Turn on Forms feature. 3. Add multiple Select widgets to a form's FlowPart. 4. Attempt to configure options and default values in both of the Selects. 5. Observe inconsistent behavior in the second editor and in the display of the form's select elements. - There is a hidden input below the ""Add Option"" button in the edit page. The ContentItemId listed there will be incorrect on the non-first Select widgets.  Expected behavior Multiple Select widgets are able to consistently maintain their own data.",source-file | other-file | other-file | source-file | source-file | other-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file,"SelectPart cannot have more than one instance in a single page.  Describe the bug If you have multiple SelectParts on a page, (e.g. a Form FlowPart with multiple Select widgets), then only the first one will actually have a working editor in the edit page or will render options correctly on the display. I am not experienced with Vue hardly at all, but I have a feeling(?) it has to do with each of the generated SelectOptionsTable/Modal Vue components [relying on the same template ID](https://github.com/OrchardCMS/OrchardCore/blob/dev/src/OrchardCore.Modules/OrchardCore.Forms/Assets/js/SelectOptionsEditor/selectOptionsEditor.js#L26) regardless of which widget content item ID they actually correspond to.  To Reproduce Steps to reproduce the behavior: 1. Run blog recipe. 2. Turn on Forms feature. 3. Add multiple Select widgets to a form's FlowPart. 4. Attempt to configure options and default values in both of the Selects. 5. Observe inconsistent behavior in the second editor and in the display of the form's select elements. - There is a hidden input below the ""Add Option"" button in the edit page. The ContentItemId listed there will be incorrect on the non-first Select widgets.  Expected behavior Multiple Select widgets are able to consistently maintain their own data. source-file other-file other-file source-file source-file other-file other-file source-file other-file other-file source-file source-file other-file other-file",no-bug,0.9
11976,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11976,Object reference not set to an instance of an object exception in production environment," Describe the bug I added a new tenant using the Tenants UI. When I click ""Setup"" button I am redirected to `https://subdomain.domain.com/?token=CfDJ8KtwYcM66YVAqGUg9CLX` which shows HTTP Error 500. Looking at the log file I see the following  2022-07-08 22:24:07.6669|test123|00-e5f6a593a8645780dc209197a58c33df-99eff78a1a46d690-00||Microsoft.AspNetCore.Server.Kestrel|ERROR|Connection id ""0HMJ1550K2I32"", Request id ""0HMJ1550K2I32:0000000A"": An unhandled exception was thrown by the application. System.NullReferenceException: Object reference not set to an instance of an object. at YesSql.QueryExtensions.Query[T](ISession session, String collection) at OrchardCore.Data.Documents.DocumentStore.GetOrCreateImmutableAsync[T](Func`1 factoryAsync) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) at OrchardCore.Settings.Services.SiteService.GetSiteSettingsAsync() at OrchardCore.Media.Processing.MediaTokenSettingsUpdater.ActivatedAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.<>c.<<ActivateShellInternalAsync>b__43_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application) at YesSql.QueryExtensions.Query[T](ISession session, String collection) at OrchardCore.Data.Documents.DocumentStore.GetOrCreateImmutableAsync[T](Func`1 factoryAsync) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) at OrchardCore.Settings.Services.SiteService.GetSiteSettingsAsync() at OrchardCore.Media.Processing.MediaTokenSettingsUpdater.ActivatedAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.<>c.<<ActivateShellInternalAsync>b__43_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext)  I can't reproduce this issue locally and it is happening only in Production environment. The production environment is running on Azure Web App using docker container with the following features  services.AddOrchardCms() .AddSetupFeatures(""OrchardCore.Redis"", ""OrchardCore.Redis.Lock"") .AddGlobalFeatures(""OrchardCore.DataProtection.Azure"", ""OrchardCore.Media.Azure.Storage"",""OrchardCore.Redis"", ""OrchardCore.Redis.Cache"", ""OrchardCore.Redis.DataProtection"", ""OrchardCore.Redis.Lock"")  The app is running in production with no issues. However, I can't seems to be able to setup new tenants. Is this a bug? Any idea how I can trace this issue or go about fixing it?",other-file | other-file,"Object reference not set to an instance of an object exception in production environment  Describe the bug I added a new tenant using the Tenants UI. When I click ""Setup"" button I am redirected to `https://subdomain.domain.com/?token=CfDJ8KtwYcM66YVAqGUg9CLX` which shows HTTP Error 500. Looking at the log file I see the following  2022-07-08 22:24:07.6669|test123|00-e5f6a593a8645780dc209197a58c33df-99eff78a1a46d690-00||Microsoft.AspNetCore.Server.Kestrel|ERROR|Connection id ""0HMJ1550K2I32"", Request id ""0HMJ1550K2I32:0000000A"": An unhandled exception was thrown by the application. System.NullReferenceException: Object reference not set to an instance of an object. at YesSql.QueryExtensions.Query[T](ISession session, String collection) at OrchardCore.Data.Documents.DocumentStore.GetOrCreateImmutableAsync[T](Func`1 factoryAsync) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) at OrchardCore.Settings.Services.SiteService.GetSiteSettingsAsync() at OrchardCore.Media.Processing.MediaTokenSettingsUpdater.ActivatedAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.<>c.<<ActivateShellInternalAsync>b__43_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application) at YesSql.QueryExtensions.Query[T](ISession session, String collection) at OrchardCore.Data.Documents.DocumentStore.GetOrCreateImmutableAsync[T](Func`1 factoryAsync) at OrchardCore.Documents.DocumentManager`1.GetOrCreateImmutableAsync(Func`1 factoryAsync) at OrchardCore.Settings.Services.SiteService.GetSiteSettingsAsync() at OrchardCore.Media.Processing.MediaTokenSettingsUpdater.ActivatedAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.<>c.<<ActivateShellInternalAsync>b__43_0>d.MoveNext()  End of stack trace from previous location  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.ActivateShellInternalAsync() at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute, Boolean activateShell) at OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext)  I can't reproduce this issue locally and it is happening only in Production environment. The production environment is running on Azure Web App using docker container with the following features  services.AddOrchardCms() .AddSetupFeatures(""OrchardCore.Redis"", ""OrchardCore.Redis.Lock"") .AddGlobalFeatures(""OrchardCore.DataProtection.Azure"", ""OrchardCore.Media.Azure.Storage"",""OrchardCore.Redis"", ""OrchardCore.Redis.Cache"", ""OrchardCore.Redis.DataProtection"", ""OrchardCore.Redis.Lock"")  The app is running in production with no issues. However, I can't seems to be able to setup new tenants. Is this a bug? Any idea how I can trace this issue or go about fixing it? other-file other-file",no-bug,0.9
9269,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9269,"""Buffer has already been rendered"" exception","I have a `Menu.liquid` where we render the Items in two different lists.  {% for item in Model.Items %} {{ item | shape_render }} {% endfor %}  {% for item in Model.Items %} {{ item | shape_render }} {% endfor %}  This exception occurs. Removing the second for loop fixes the issue. ![image](https://user-images.githubusercontent.com/4681586/115869506-f8c22280-a40b-11eb-8504-eb91143a81cd.png) As requested, moved the issue from https://github.com/sebastienros/fluid/issues/318",other-file | other-file | other-file | other-file,"""Buffer has already been rendered"" exception I have a `Menu.liquid` where we render the Items in two different lists.  {% for item in Model.Items %} {{ item | shape_render }} {% endfor %}  {% for item in Model.Items %} {{ item | shape_render }} {% endfor %}  This exception occurs. Removing the second for loop fixes the issue. ![image](https://user-images.githubusercontent.com/4681586/115869506-f8c22280-a40b-11eb-8504-eb91143a81cd.png) As requested, moved the issue from https://github.com/sebastienros/fluid/issues/318 other-file other-file other-file other-file",no-bug,0.9
15629,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15629,The ScriptsMiddleware(s) should be replaced by endpoints,"No need to create a middleware that is impacting the stack size to serve script files. We can register the endpoint routes directly and invoke a delegate. These methods should also not do string concatenation to render the files. They could precompute the utf8 string (`private static ReadOnlySpan<byte> => ""value""u8;`) and call `WriteAsync()` for each segment instead.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"The ScriptsMiddleware(s) should be replaced by endpoints No need to create a middleware that is impacting the stack size to serve script files. We can register the endpoint routes directly and invoke a delegate. These methods should also not do string concatenation to render the files. They could precompute the utf8 string (`private static ReadOnlySpan<byte> => ""value""u8;`) and call `WriteAsync()` for each segment instead. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5594,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5594,Blog theme: Article with MediaField,"Allow to specify a background picture for an Article in TheBlogTheme, like the PR #5456 did for the blog and blog post. Change Recipe (Content type, Content items Home and About, Media step), Liquid views.",documentation-file | other-file,"Blog theme: Article with MediaField Allow to specify a background picture for an Article in TheBlogTheme, like the PR #5456 did for the blog and blog post. Change Recipe (Content type, Content items Home and About, Media step), Liquid views. documentation-file other-file",no-bug,0.9
15419,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15419,WorkflowTypeStep is throwing an exception,The PR #15291 is creating a URL helper `_urlHelper = urlHelperFactory.GetUrlHelper(actionContextAccessor.ActionContext);` The ` actionContextAccessor.ActionContext` is null sometimes which causes a null exception. /cc: @lampersky,other-file,WorkflowTypeStep is throwing an exception The PR #15291 is creating a URL helper `_urlHelper = urlHelperFactory.GetUrlHelper(actionContextAccessor.ActionContext);` The ` actionContextAccessor.ActionContext` is null sometimes which causes a null exception. /cc: @lampersky other-file,no-bug,0.9
5253,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5253,Remove IUpdateModel from AdminController and use ControllerModelUpdater instead,"Remove `IUpdateModel` from following `public class AdminController : Controller, IUpdateModel` and instead of passing `this` in BuildEditor `var model = await _contentItemDisplayManager.BuildEditorAsync(contentItem, this, true);` Inject `IUpdateModelAccessor updateModelAccessor` and pass updater from service.  var updater = _updateModelAccessor.ModelUpdater; var model = await _contentItemDisplayManager.BuildEditorAsync(contentItem, updater , true);  This would allows flexibility to add/modify IUpdateModel interface definition or override methods for e.g. `TryUpdateModelAsync` in `ControllerModelUpdater` without overriding every controllers. Also it stays consistent with other areas of orchard core.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Remove IUpdateModel from AdminController and use ControllerModelUpdater instead Remove `IUpdateModel` from following `public class AdminController : Controller, IUpdateModel` and instead of passing `this` in BuildEditor `var model = await _contentItemDisplayManager.BuildEditorAsync(contentItem, this, true);` Inject `IUpdateModelAccessor updateModelAccessor` and pass updater from service.  var updater = _updateModelAccessor.ModelUpdater; var model = await _contentItemDisplayManager.BuildEditorAsync(contentItem, updater , true);  This would allows flexibility to add/modify IUpdateModel interface definition or override methods for e.g. `TryUpdateModelAsync` in `ControllerModelUpdater` without overriding every controllers. Also it stays consistent with other areas of orchard core. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
13674,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13674,Unable to override TaxonomyPart with liquid," When overriding TaxonomyPart in liquid it always shows ""The list is empty""  To Reproduce Create a ""TaxonomyPart"" liquid template liquid {% shape ""term"", TaxonomyContentItemId: Model.TaxonomyContentItemId %}   Expected behavior It should list taxonomy terms  Resolution We need to whitelist `TaxonomyPartViewModel` in `MemberAccessStrategy`",other-file | other-file,"Unable to override TaxonomyPart with liquid  When overriding TaxonomyPart in liquid it always shows ""The list is empty""  To Reproduce Create a ""TaxonomyPart"" liquid template liquid {% shape ""term"", TaxonomyContentItemId: Model.TaxonomyContentItemId %}   Expected behavior It should list taxonomy terms  Resolution We need to whitelist `TaxonomyPartViewModel` in `MemberAccessStrategy` other-file other-file",no-bug,0.8
16888,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16888,Azure email provider can't handle display names in email addresses," Describe the bug The Azure email provider surfaces an exception from `Azure.Communication.Email` when it passes in email addresses that include a display name to the constructor of the `EmailAddress` class in `AzureEmailProviderBase`.  Orchard Core version 2.0  To Reproduce 1. Configure the application to use Azure Email Communication Services and enable the `Orchard.Email.Azure` feature. 2. Use the email test settings screen (`/Admin/Email/Test`) and provide an email address in the `Display Name <email@domain.com>` format in any of the fields that accept an email address.  Expected behavior The provider should deconstruct such email addresses and use the other overload of the `AzureEmailProviderBase` constructor which accepts a separate display name parameter too. `Orchard.Email.Smtp` handles this correctly, because MimeKit takes care of deconstructing such email addresses. The display name for the sender field is simply dropped, because the SDK doesn't support it: https://github.com/Azure/azure-sdk-for-net/issues/43847",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | test-file | test-file,"Azure email provider can't handle display names in email addresses  Describe the bug The Azure email provider surfaces an exception from `Azure.Communication.Email` when it passes in email addresses that include a display name to the constructor of the `EmailAddress` class in `AzureEmailProviderBase`.  Orchard Core version 2.0  To Reproduce 1. Configure the application to use Azure Email Communication Services and enable the `Orchard.Email.Azure` feature. 2. Use the email test settings screen (`/Admin/Email/Test`) and provide an email address in the `Display Name <email@domain.com>` format in any of the fields that accept an email address.  Expected behavior The provider should deconstruct such email addresses and use the other overload of the `AzureEmailProviderBase` constructor which accepts a separate display name parameter too. `Orchard.Email.Smtp` handles this correctly, because MimeKit takes care of deconstructing such email addresses. The display name for the sender field is simply dropped, because the SDK doesn't support it: https://github.com/Azure/azure-sdk-for-net/issues/43847 other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file test-file test-file",bug,0.9
5254,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5254,Content List Regression,Listable Widgets no longer display properly. ![image](https://user-images.githubusercontent.com/4681586/72184063-89aeef00-33bd-11ea-94d7-962fdbdfbbc3.png) It seems the admin-for attribute does not work when the stereotype is a widget.,config-file | other-file | config-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file,Content List Regression Listable Widgets no longer display properly. ![image](https://user-images.githubusercontent.com/4681586/72184063-89aeef00-33bd-11ea-94d7-962fdbdfbbc3.png) It seems the admin-for attribute does not work when the stereotype is a widget. config-file other-file config-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file,no-bug,0.7
15304,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15304,InvalidOperationException when visiting GraphQL explorer,"I've just updated to the latest OC and getting this when visiting GraphiQL explorer:  System.InvalidOperationException: This graph type 'AutorouteInputObjectType' with name 'AutoroutePartInput' has already been initialized. Make sure that you do not use the same instance of a graph type in multiple schemas. It may be so if you registered this graph type as singleton; see https://graphql-dotnet.github.io/docs/getting-started/dependency-injection/ for more info. at GraphQL.Types.GraphType.Initialize(ISchema schema) in /_/src/GraphQL/Types/GraphType.cs:line 44 at GraphQL.Types.SchemaTypes.AddType(IGraphType type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 522 at GraphQL.Types.SchemaTypes.AddTypeIfNotRegistered(IGraphType type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 776 at GraphQL.Types.SchemaTypes.Initialize(ISchema schema, IServiceProvider serviceProvider, IEnumerable`1 graphTypeMappings) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 277 at GraphQL.Types.SchemaTypes..ctor(ISchema schema, IServiceProvider serviceProvider, IEnumerable`1 graphTypeMappings) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 190 at GraphQL.Types.SchemaTypes..ctor(ISchema schema, IServiceProvider serviceProvider) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 175 at GraphQL.Types.Schema.CreateSchemaTypes() in /_/src/GraphQL/Types/Schema.cs:line 477 at GraphQL.Types.Schema.CreateAndInitializeSchemaTypes() in /_/src/GraphQL/Types/Schema.cs:line 448 at GraphQL.Types.Schema.Initialize() in /_/src/GraphQL/Types/Schema.cs:line 196 at OrchardCore.Apis.GraphQL.Services.SchemaService.GetSchemaAsync() in C:\repo\OrchardCore\src\OrchardCore.Modules\OrchardCore.Apis.GraphQL\Services\SchemaService.cs:line 116 at OrchardCore.Apis.GraphQL.GraphQLMiddleware.ExecuteAsync(HttpContext context) in C:\repo\OrchardCore\src\OrchardCore.Modules\OrchardCore.Apis.GraphQL\GraphQLMiddleware.cs:line 142 at OrchardCore.Apis.GraphQL.GraphQLMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\repo\OrchardCore\src\OrchardCore.Modules\OrchardCore.Apis.GraphQL\GraphQLMiddleware.cs:line 65 at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()  ![image](https://github.com/OrchardCMS/OrchardCore/assets/6403130/e052141f-3c28-4824-b756-49218af27626) Steps to reproduce: - create new **ContentType**, you don't need to add Parts nor Fields, - go to **GraphQL** explorer, - schema is not loading anymore. I've just checked, and it looks like you don't need to create new **ContentType**, you can reconfigure existing one instead. This way you could also reproduce the issue.",other-file | other-file | other-file,"InvalidOperationException when visiting GraphQL explorer I've just updated to the latest OC and getting this when visiting GraphiQL explorer:  System.InvalidOperationException: This graph type 'AutorouteInputObjectType' with name 'AutoroutePartInput' has already been initialized. Make sure that you do not use the same instance of a graph type in multiple schemas. It may be so if you registered this graph type as singleton; see https://graphql-dotnet.github.io/docs/getting-started/dependency-injection/ for more info. at GraphQL.Types.GraphType.Initialize(ISchema schema) in /_/src/GraphQL/Types/GraphType.cs:line 44 at GraphQL.Types.SchemaTypes.AddType(IGraphType type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 522 at GraphQL.Types.SchemaTypes.AddTypeIfNotRegistered(IGraphType type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 776 at GraphQL.Types.SchemaTypes.Initialize(ISchema schema, IServiceProvider serviceProvider, IEnumerable`1 graphTypeMappings) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 277 at GraphQL.Types.SchemaTypes..ctor(ISchema schema, IServiceProvider serviceProvider, IEnumerable`1 graphTypeMappings) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 190 at GraphQL.Types.SchemaTypes..ctor(ISchema schema, IServiceProvider serviceProvider) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 175 at GraphQL.Types.Schema.CreateSchemaTypes() in /_/src/GraphQL/Types/Schema.cs:line 477 at GraphQL.Types.Schema.CreateAndInitializeSchemaTypes() in /_/src/GraphQL/Types/Schema.cs:line 448 at GraphQL.Types.Schema.Initialize() in /_/src/GraphQL/Types/Schema.cs:line 196 at OrchardCore.Apis.GraphQL.Services.SchemaService.GetSchemaAsync() in C:\repo\OrchardCore\src\OrchardCore.Modules\OrchardCore.Apis.GraphQL\Services\SchemaService.cs:line 116 at OrchardCore.Apis.GraphQL.GraphQLMiddleware.ExecuteAsync(HttpContext context) in C:\repo\OrchardCore\src\OrchardCore.Modules\OrchardCore.Apis.GraphQL\GraphQLMiddleware.cs:line 142 at OrchardCore.Apis.GraphQL.GraphQLMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\repo\OrchardCore\src\OrchardCore.Modules\OrchardCore.Apis.GraphQL\GraphQLMiddleware.cs:line 65 at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()  ![image](https://github.com/OrchardCMS/OrchardCore/assets/6403130/e052141f-3c28-4824-b756-49218af27626) Steps to reproduce: - create new **ContentType**, you don't need to add Parts nor Fields, - go to **GraphQL** explorer, - schema is not loading anymore. I've just checked, and it looks like you don't need to create new **ContentType**, you can reconfigure existing one instead. This way you could also reproduce the issue. other-file other-file other-file",no-bug,0.9
6136,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6136,Help create GraphQL query to filter content items by culture,"Hi, I have multiple localized content items with 2 cultures (**id-ID** and **en-US**) in each content items. Now I need to get all the localized versions for **id-ID** of all the content items but I'm not sure how and being blocked by **LocalizationSet**. `query MyQuery { sliderItems(where: {localization: {localizationSet: """", culture: ""id-ID""}}) { displayText localization { culture localizationSet } } }` How can I insert multiple values for the required field LocalizationSet? Or how can I ignore this mandatory field? Please help to check and advise, Many thanks in advance",other-file | other-file,"Help create GraphQL query to filter content items by culture Hi, I have multiple localized content items with 2 cultures (**id-ID** and **en-US**) in each content items. Now I need to get all the localized versions for **id-ID** of all the content items but I'm not sure how and being blocked by **LocalizationSet**. `query MyQuery { sliderItems(where: {localization: {localizationSet: """", culture: ""id-ID""}}) { displayText localization { culture localizationSet } } }` How can I insert multiple values for the required field LocalizationSet? Or how can I ignore this mandatory field? Please help to check and advise, Many thanks in advance other-file other-file",no-bug,0.9
15540,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15540,The CustomUserSettings in the graphql me field is registered incorrectly,"The type registration error occurred because the AddField method in the UserType type had a method error when registering the type The fields in the red box below are not of the type for `CustomUserSettings`, they are actually `CustomSettings`. ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/98c6878b-6f51-4e0d-8f32-03e28aa47178) this PR https://github.com/OrchardCMS/OrchardCore/pull/15389, will fix the problem",other-file | other-file | other-file,"The CustomUserSettings in the graphql me field is registered incorrectly The type registration error occurred because the AddField method in the UserType type had a method error when registering the type The fields in the red box below are not of the type for `CustomUserSettings`, they are actually `CustomSettings`. ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/98c6878b-6f51-4e0d-8f32-03e28aa47178) this PR https://github.com/OrchardCMS/OrchardCore/pull/15389, will fix the problem other-file other-file other-file",no-bug,0.8
12749,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12749,The only admin can't give themself additional roles," Describe the bug When an Admin login and try to add/remove additional roles to themself, the changes does not get saved. No error/warning are showing the screen either.  To Reproduce Steps to reproduce the behavior: 1. Login as admin 2. edit your account by adding other roles like ""Moderator"" and hit save.  Expected behavior I think the only admin should NOT be able to remove ""Administrator"" role from their list, but should be able to add remove other roles. Also, if the user remove the ""Administrator"" role from their self, we should show a warning indicate that you can't remove ""Administrator"" role from the only admin.",other-file | other-file | other-file | other-file,"The only admin can't give themself additional roles  Describe the bug When an Admin login and try to add/remove additional roles to themself, the changes does not get saved. No error/warning are showing the screen either.  To Reproduce Steps to reproduce the behavior: 1. Login as admin 2. edit your account by adding other roles like ""Moderator"" and hit save.  Expected behavior I think the only admin should NOT be able to remove ""Administrator"" role from their list, but should be able to add remove other roles. Also, if the user remove the ""Administrator"" role from their self, we should show a warning indicate that you can't remove ""Administrator"" role from the only admin. other-file other-file other-file other-file",no-bug,0.9
7721,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7721,Jquery CDN load failed,"I 'm .net developer from china. Due to network , CDN scripts can't load success.Please add a picker in SetUpPage.Thanks",documentation-file,"Jquery CDN load failed I 'm .net developer from china. Due to network , CDN scripts can't load success.Please add a picker in SetUpPage.Thanks documentation-file",no-bug,0.95
14153,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14153,Unable to search multiple PDF file in Elasticsearch,"We support searching PDF file in Elasticsearch. We do this by reading the text of the PDF file found in MediaField and saving the text from the PDF file into an custom index in Elasticsearch. This is great because now anytime a user searches for a text found in the PDF file, we return the contentItems where the PDF belongs in! The problem is that we only store the text of the first attached PDF file not all of them which sucks.  Solution When trying to index a Text/String based field, we should concatenate all values for the same index key. This will allow the content of multiple files to be indexed as expected.",other-file | other-file | other-file,"Unable to search multiple PDF file in Elasticsearch We support searching PDF file in Elasticsearch. We do this by reading the text of the PDF file found in MediaField and saving the text from the PDF file into an custom index in Elasticsearch. This is great because now anytime a user searches for a text found in the PDF file, we return the contentItems where the PDF belongs in! The problem is that we only store the text of the first attached PDF file not all of them which sucks.  Solution When trying to index a Text/String based field, we should concatenate all values for the same index key. This will allow the content of multiple files to be indexed as expected. other-file other-file other-file",no-bug,0.9
5522,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5522,Trumbowyg is broken: Cannot read property 'x-small' of undefined,"With latest preview nuget, when I choose trumbowyg as HTML editor, there is only empty textarea with following error in console: Uncaught TypeError: Cannot read property 'x-small' of undefined at String.<anonymous> (trumbowyg-plugins.js?v=4PAOJjGgwwaNinsO0B7XBZrJ9d_lTVizlnxiHBl3eac:1531) at Function.each (jquery-3.4.1.js:367) at t (trumbowyg-plugins.js?v=4PAOJjGgwwaNinsO0B7XBZrJ9d_lTVizlnxiHBl3eac:1529) at Object.init (trumbowyg-plugins.js?v=4PAOJjGgwwaNinsO0B7XBZrJ9d_lTVizlnxiHBl3eac:1741) at Object.<anonymous> (trumbowyg.js:1910) at Function.each (jquery-3.4.1.js:373) at Trumbowyg.initPlugins (trumbowyg.js:1908) at Trumbowyg.init (trumbowyg.js:476) at new Trumbowyg (trumbowyg.js:460) at HTMLTextAreaElement.<anonymous> (trumbowyg.js:144) file: OrchardCore.Modules\OrchardCore.Resources\Assets\trumbowyg\plugins\fontsize\trumbowyg.fontsize.js line 222: text: '<span style=""font-size: ' + size + ';"">' + (trumbowyg.lang.fontsizes[size] || size) + '</span>',",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file,"Trumbowyg is broken: Cannot read property 'x-small' of undefined With latest preview nuget, when I choose trumbowyg as HTML editor, there is only empty textarea with following error in console: Uncaught TypeError: Cannot read property 'x-small' of undefined at String.<anonymous> (trumbowyg-plugins.js?v=4PAOJjGgwwaNinsO0B7XBZrJ9d_lTVizlnxiHBl3eac:1531) at Function.each (jquery-3.4.1.js:367) at t (trumbowyg-plugins.js?v=4PAOJjGgwwaNinsO0B7XBZrJ9d_lTVizlnxiHBl3eac:1529) at Object.init (trumbowyg-plugins.js?v=4PAOJjGgwwaNinsO0B7XBZrJ9d_lTVizlnxiHBl3eac:1741) at Object.<anonymous> (trumbowyg.js:1910) at Function.each (jquery-3.4.1.js:373) at Trumbowyg.initPlugins (trumbowyg.js:1908) at Trumbowyg.init (trumbowyg.js:476) at new Trumbowyg (trumbowyg.js:460) at HTMLTextAreaElement.<anonymous> (trumbowyg.js:144) file: OrchardCore.Modules\OrchardCore.Resources\Assets\trumbowyg\plugins\fontsize\trumbowyg.fontsize.js line 222: text: '<span style=""font-size: ' + size + ';"">' + (trumbowyg.lang.fontsizes[size] || size) + '</span>', source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file",no-bug,0.9
14667,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14667,Make all the IContentDefinitionManager method async to prevent possible thread starvation,"Make all the `IContentDefinitionManager` method async to prevent possible thread starvation to avoid a breaking change, add `Async` methods and mark the old once obsolete.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Make all the IContentDefinitionManager method async to prevent possible thread starvation Make all the `IContentDefinitionManager` method async to prevent possible thread starvation to avoid a breaking change, add `Async` methods and mark the old once obsolete. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
9606,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9606,ZoneOnDemand behavior is confusing," Is your feature request related to a problem? Please describe. What we see in `NotifyFilter` exhibits the issue: c# var layout = await _layoutAccessor.GetLayoutAsync(); var messagesZone = layout.Zones[""Messages""]; if (messagesZone is IShape zone) { foreach (var messageEntry in _existingEntries) { // Also retrieve the actual zone in case it was only a temporary empty zone created on demand. zone = await zone.AddAsync(await _shapeFactory.CreateAsync(""Message"", Arguments.From(messageEntry; } }  Notice that (on the contrary to the older dynamic shape behavior) if you add multiple shapes to the same zone you have to take care of `ZoneOnDemand` potentially creating the zone shape on the first `AddAsync()` call. Thus you can't just do something like this: c# await zone.AddAsync(shape1); await zone.AddAsync(shape2);  Rather, you have to do something along the lines of: c# zone = await zone.AddAsync(shape1); await zone.AddAsync(shape2);  Or: c# await layout.Zones[""Messages""].AddAsync(shape1); await layout.Zones[""Messages""].AddAsync(shape2);  The API doesn't make it obvious that you have to do this.  Describe the solution you'd like Instead of making consumers do such a check or re-assignment I'd like to see the following just work (this currently yields that the last shape will be displayed, without any indication of what's wrong): c# await zone.AddAsync(shape1); await zone.AddAsync(shape2);  This could be done by e.g. `Zones.TryGetMemberImpl()` running the `_zoneFactory` right away, i.e. when doing `layout.Zones[""Messages""]` you'd get an actual zone already. However, this would potentially create more shapes than used in the end (though I'd need to understand better why this optimization with `ZoneOnDemand` is there in the first place).  Describe alternatives you've considered A different API, like differently named methods in the same place would alleviate the issue to an extent too. If `layout.Zones[""Messages""]` doesn't return an `IShape` but some other type that doesn't have `AddAsync()` but maybe something like `GetOrCreateShape()` (which then you can use as usual with `AddAsync()`) then that would work too. Maybe this type could actually be `ZoneOnDemand` but without it deriving from `Shape`.",other-file | other-file | other-file | other-file,"ZoneOnDemand behavior is confusing  Is your feature request related to a problem? Please describe. What we see in `NotifyFilter` exhibits the issue: c# var layout = await _layoutAccessor.GetLayoutAsync(); var messagesZone = layout.Zones[""Messages""]; if (messagesZone is IShape zone) { foreach (var messageEntry in _existingEntries) { // Also retrieve the actual zone in case it was only a temporary empty zone created on demand. zone = await zone.AddAsync(await _shapeFactory.CreateAsync(""Message"", Arguments.From(messageEntry; } }  Notice that (on the contrary to the older dynamic shape behavior) if you add multiple shapes to the same zone you have to take care of `ZoneOnDemand` potentially creating the zone shape on the first `AddAsync()` call. Thus you can't just do something like this: c# await zone.AddAsync(shape1); await zone.AddAsync(shape2);  Rather, you have to do something along the lines of: c# zone = await zone.AddAsync(shape1); await zone.AddAsync(shape2);  Or: c# await layout.Zones[""Messages""].AddAsync(shape1); await layout.Zones[""Messages""].AddAsync(shape2);  The API doesn't make it obvious that you have to do this.  Describe the solution you'd like Instead of making consumers do such a check or re-assignment I'd like to see the following just work (this currently yields that the last shape will be displayed, without any indication of what's wrong): c# await zone.AddAsync(shape1); await zone.AddAsync(shape2);  This could be done by e.g. `Zones.TryGetMemberImpl()` running the `_zoneFactory` right away, i.e. when doing `layout.Zones[""Messages""]` you'd get an actual zone already. However, this would potentially create more shapes than used in the end (though I'd need to understand better why this optimization with `ZoneOnDemand` is there in the first place).  Describe alternatives you've considered A different API, like differently named methods in the same place would alleviate the issue to an extent too. If `layout.Zones[""Messages""]` doesn't return an `IShape` but some other type that doesn't have `AddAsync()` but maybe something like `GetOrCreateShape()` (which then you can use as usual with `AddAsync()`) then that would work too. Maybe this type could actually be `ZoneOnDemand` but without it deriving from `Shape`. other-file other-file other-file other-file",no-bug,0.9
13997,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13997,Make DocumentId and Id properties long instead of int," Is your feature request related to a problem? Please describe. By default, we use `long` as the default type for the database key. But, we are still using `int` for the ContentItem. I'll submit a PR for this.",other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"Make DocumentId and Id properties long instead of int  Is your feature request related to a problem? Please describe. By default, we use `long` as the default type for the database key. But, we are still using `int` for the ContentItem. I'll submit a PR for this. other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.9
5760,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5760,FlowPart: no icon for 'toggle all' button,"I updated my solution to the latest code. I'm not seeing an icon for the 'toggle all' button: ![flow-noicon](https://user-images.githubusercontent.com/3008547/77158383-7bf3a500-6aa3-11ea-8fee-133a6c8ec087.png) Discussed this with Antoine. It's working on his side. It's not clear what's the difference, since we should be running the same code.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | source-file | other-file | other-file | other-file | documentation-file | source-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | source-file,"FlowPart: no icon for 'toggle all' button I updated my solution to the latest code. I'm not seeing an icon for the 'toggle all' button: ![flow-noicon](https://user-images.githubusercontent.com/3008547/77158383-7bf3a500-6aa3-11ea-8fee-133a6c8ec087.png) Discussed this with Antoine. It's working on his side. It's not clear what's the difference, since we should be running the same code. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file source-file other-file other-file other-file documentation-file source-file other-file source-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file source-file",no-bug,0.9
11762,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11762,"Expand the User management permission to allow for Edit,Delete or view only scenarios"," Is your feature request related to a problem? Please describe. I have a need where some users need to be able to view and edit other users but not to be able to delete users. Currently, ManageUser permission is all that we have around editing/deleting users which is limiting the ability to grant the users the needed permissions.  Describe the solution you'd like I think we should add 1. EditUsers: allows the user to edit other users 2. DeleteUsers: allows the user to delete other users Now, a user with EditUsers permission would be able to add users or edit any users. The existing `ManageOwnUserInformation` would only allow the user to edit their own profile. Also, any user with ManageUsers would be able to also edit, delete to prevent breaking existing permission. Now, this would give us more flexibility/control over the secured user UI.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Expand the User management permission to allow for Edit,Delete or view only scenarios  Is your feature request related to a problem? Please describe. I have a need where some users need to be able to view and edit other users but not to be able to delete users. Currently, ManageUser permission is all that we have around editing/deleting users which is limiting the ability to grant the users the needed permissions.  Describe the solution you'd like I think we should add 1. EditUsers: allows the user to edit other users 2. DeleteUsers: allows the user to delete other users Now, a user with EditUsers permission would be able to add users or edit any users. The existing `ManageOwnUserInformation` would only allow the user to edit their own profile. Also, any user with ManageUsers would be able to also edit, delete to prevent breaking existing permission. Now, this would give us more flexibility/control over the secured user UI. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
14476,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14476,Add menu item placeholder for TaxonomyPart and TaxonomyFieldSettings,"When adding a new Taxonomy, the Term Content Type by default selected the very first content type that is available in the menu because there is no placeholder. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/060ea369-9e78-4e8a-a28c-343c83613d5f) ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/683db0d5-fba0-4f24-8462-86d5c0567933) This happens because we do not have an option with no value. By default we should have a placeholder so that the use knows that they need to select a value. Also, the Term Content type should be required field and Title Part should be required by default. Also, in the TaxonomyFieldSettings, we have the same missing-placeholder problem. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/5fbca830-ad02-4c62-9c79-dda4d18c03bb) It should look like this ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/6755cddc-251a-4fcb-a3ec-bc582b2b5468)",other-file | other-file | other-file,"Add menu item placeholder for TaxonomyPart and TaxonomyFieldSettings When adding a new Taxonomy, the Term Content Type by default selected the very first content type that is available in the menu because there is no placeholder. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/060ea369-9e78-4e8a-a28c-343c83613d5f) ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/683db0d5-fba0-4f24-8462-86d5c0567933) This happens because we do not have an option with no value. By default we should have a placeholder so that the use knows that they need to select a value. Also, the Term Content type should be required field and Title Part should be required by default. Also, in the TaxonomyFieldSettings, we have the same missing-placeholder problem. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/5fbca830-ad02-4c62-9c79-dda4d18c03bb) It should look like this ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/6755cddc-251a-4fcb-a3ec-bc582b2b5468) other-file other-file other-file",no-bug,0.9
6850,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6850,Using placement.json with Named Parts,"As far as I can tell, there is no way to move both the BagPart and the name (which is just an h5) into a column using placement.json. My placement contains the following: `""BagPart_Edit"": [ { ""differentiator"": ""Breadcrumbs"", ""place"": ""Parts#Common:5"" } ],` It is not mentioned in the docs so I would appreciate some help.",other-file | other-file | other-file | other-file,"Using placement.json with Named Parts As far as I can tell, there is no way to move both the BagPart and the name (which is just an h5) into a column using placement.json. My placement contains the following: `""BagPart_Edit"": [ { ""differentiator"": ""Breadcrumbs"", ""place"": ""Parts#Common:5"" } ],` It is not mentioned in the docs so I would appreciate some help. other-file other-file other-file other-file",no-bug,0.9
12066,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12066,Add ContainedStereotypes property to ContentPickerFieldSettings to allow a user to include content-types by steryotype," Is your feature request related to a problem? Please describe. When attaching `ContentPickerField` to a content part, the user must explicitly set [DisplayedContentTypes](https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.ContentFields/Settings/ContentPickerFieldSettings.cs#L9) with an array of content-types to be include in the `ContentPickerField`. This is good for most case, however, it would be great to allow for setting the contained content-types using Stereotype. Stereotype would be in addition to not in place of `DisplayedContentTypes`. For example, I want to group all todo items (appointment, meeting) by a stereotype type called `ToDoTask`. All of these content types share similar functionally which is a todo task. Now I want to use `ContentPickerField` in a different content type to allow the user to select a todo-task of any kind. In this case, I have to explicitly specific each content types that in the `DisplayedContentTypes`. But if a new content-type was added later ""from other feature/module"", the user would have manually to edit the `ContentPickerField` settings every time/every where todo task are used to add the new content-type which it isn't efficient.  Describe the solution you'd like Add a way to specific a stereotypes in the `ContentPickerFieldSettings` in addition to `DisplayedContentTypes` so the user is able to explicitly able to set displayed-content-types or explicitly set the stereotype. We can achieve this by changing the `ContentPickerFieldSettings` to something like this  public class BagPartSettings { public string Hint { get; set; } public bool Required { get; set; } public bool Multiple { get; set; } public bool DisplayAllContentTypes { get; set; } = Array.Empty<string>(); public string[] DisplayedContentTypes { get; set; } = Array.Empty<string>(); public string[] DisplayedStereotypes { get; set; } = Array.Empty<string>(); } ",other-file | other-file | other-file | other-file | other-file,"Add ContainedStereotypes property to ContentPickerFieldSettings to allow a user to include content-types by steryotype  Is your feature request related to a problem? Please describe. When attaching `ContentPickerField` to a content part, the user must explicitly set [DisplayedContentTypes](https://github.com/OrchardCMS/OrchardCore/blob/main/src/OrchardCore.Modules/OrchardCore.ContentFields/Settings/ContentPickerFieldSettings.cs#L9) with an array of content-types to be include in the `ContentPickerField`. This is good for most case, however, it would be great to allow for setting the contained content-types using Stereotype. Stereotype would be in addition to not in place of `DisplayedContentTypes`. For example, I want to group all todo items (appointment, meeting) by a stereotype type called `ToDoTask`. All of these content types share similar functionally which is a todo task. Now I want to use `ContentPickerField` in a different content type to allow the user to select a todo-task of any kind. In this case, I have to explicitly specific each content types that in the `DisplayedContentTypes`. But if a new content-type was added later ""from other feature/module"", the user would have manually to edit the `ContentPickerField` settings every time/every where todo task are used to add the new content-type which it isn't efficient.  Describe the solution you'd like Add a way to specific a stereotypes in the `ContentPickerFieldSettings` in addition to `DisplayedContentTypes` so the user is able to explicitly able to set displayed-content-types or explicitly set the stereotype. We can achieve this by changing the `ContentPickerFieldSettings` to something like this  public class BagPartSettings { public string Hint { get; set; } public bool Required { get; set; } public bool Multiple { get; set; } public bool DisplayAllContentTypes { get; set; } = Array.Empty<string>(); public string[] DisplayedContentTypes { get; set; } = Array.Empty<string>(); public string[] DisplayedStereotypes { get; set; } = Array.Empty<string>(); }  other-file other-file other-file other-file other-file",no-bug,0.95
14469,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14469,Add a way to restart an instance of workflow," Is your feature request related to a problem? Please describe. Sometimes, workflow instance fails for some reason. Or if we have a workflow that sends an email and failed. it would be helpful if we can restart the instance.  Describe the solution you'd like Add a button next to the ""Delete"" button names ""Restart"" when the instance failed. This will take the current workflow state and restart it.",other-file | other-file | other-file | other-file,"Add a way to restart an instance of workflow  Is your feature request related to a problem? Please describe. Sometimes, workflow instance fails for some reason. Or if we have a workflow that sends an email and failed. it would be helpful if we can restart the instance.  Describe the solution you'd like Add a button next to the ""Delete"" button names ""Restart"" when the instance failed. This will take the current workflow state and restart it. other-file other-file other-file other-file",no-bug,0.9
9760,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9760,RegisterUserTask: Subject & Template for confirmation email should not be required if Send Email is unchecked," Describe the bug Subject & Template for confirmation email are required even if Send Confirmation Email is not checked  To Reproduce Steps to reproduce the behavior: 1. Workflows 2. Create Workflow 3. Add Task ""Register User""  Expected behavior Subject & Template for confirmation email fields should be required only if Send Confirmation Email is checked  Screenshots ![image](https://user-images.githubusercontent.com/1871551/123142522-31a96280-d462-11eb-8470-41c0b2381dd6.png)",other-file | config-file | documentation-file | config-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | test-file | test-file | test-file | other-file | config-file | config-file | config-file | config-file | documentation-file | documentation-file | documentation-file | config-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | config-file | documentation-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | source-file | documentation-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | test-file | test-file | test-file | test-file,"RegisterUserTask: Subject & Template for confirmation email should not be required if Send Email is unchecked  Describe the bug Subject & Template for confirmation email are required even if Send Confirmation Email is not checked  To Reproduce Steps to reproduce the behavior: 1. Workflows 2. Create Workflow 3. Add Task ""Register User""  Expected behavior Subject & Template for confirmation email fields should be required only if Send Confirmation Email is checked  Screenshots ![image](https://user-images.githubusercontent.com/1871551/123142522-31a96280-d462-11eb-8470-41c0b2381dd6.png) other-file config-file documentation-file config-file documentation-file documentation-file other-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file test-file test-file test-file other-file config-file config-file config-file config-file documentation-file documentation-file documentation-file config-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file source-file documentation-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file source-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file other-file other-file other-file source-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file config-file documentation-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file source-file documentation-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file documentation-file documentation-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file other-file other-file other-file documentation-file documentation-file documentation-file other-file documentation-file test-file test-file test-file test-file",no-bug,0.9
16026,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16026,`OrchardCore.Users` - a service to decide which kind of parameter use to link external login to existing account in the second check," Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/16023 Each module that add an extenal login provider (like GitHub or OpenID) can specify the value of `ClaimTypes.NameIdentifier` to link the external login information to an existing OrchardCore account. But in this line of code, OrchardCore force another check over external login data that could redirect a user to a view that ask about link external login data to an existing account by checking the email value returned by the login provider. https://github.com/OrchardCMS/OrchardCore/blob/649b7404d3b1d387be936d2d77430e387c5aee20/src/OrchardCore.Modules/OrchardCore.Users/Controllers/AccountController.cs#L387-L415 I would like each module that add an external login can manage this behavior by a dedicated service. If a module doesn't implement this service: the actual behavior is applied. Probably could be useful to have a settings to disable this code. I'm not sure if this ""second check"" over external login data is correct or it's nature: seems a second chance to connect external login data to user account.",other-file | other-file | other-file | other-file,"`OrchardCore.Users` - a service to decide which kind of parameter use to link external login to existing account in the second check  Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/16023 Each module that add an extenal login provider (like GitHub or OpenID) can specify the value of `ClaimTypes.NameIdentifier` to link the external login information to an existing OrchardCore account. But in this line of code, OrchardCore force another check over external login data that could redirect a user to a view that ask about link external login data to an existing account by checking the email value returned by the login provider. https://github.com/OrchardCMS/OrchardCore/blob/649b7404d3b1d387be936d2d77430e387c5aee20/src/OrchardCore.Modules/OrchardCore.Users/Controllers/AccountController.cs#L387-L415 I would like each module that add an external login can manage this behavior by a dedicated service. If a module doesn't implement this service: the actual behavior is applied. Probably could be useful to have a settings to disable this code. I'm not sure if this ""second check"" over external login data is correct or it's nature: seems a second chance to connect external login data to user account. other-file other-file other-file other-file",no-bug,0.8
14250,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14250,Strange behavior with display driver,"The new [UserMenuDisplayDriver](https://github.com/OrchardCMS/OrchardCore/blob/b16d29b002eeb547cf26be280b76832b4b093e4d/src/OrchardCore.Modules/OrchardCore.Users/Drivers/UserMenuDisplayDriver.cs#L28) creates a new shape `UserMenuItems__Title` that gets injected into the `Header` location on both `Detail` and `DetailAdmin` display modes in the `UserMenu` shape. This seems to work with no issue on the source code. However, I am using preview packages from cloudsmith on my project and trying to change that shape. To change the value on the header, I added the following driver  public class DisplayNameUserMenuDisplayDriver : DisplayDriver<UserMenu> { public override IDisplayResult Display(UserMenu model) { return View(""UserMenuItems__DisplayName"", model) .Location(""Detail"", ""Header:4"") .Location(""DetailAdmin"", ""Header:4""); } }  When I run my project, I see the content of the `UserMenuItems-DisplayName.cshtml` on the menu header as expected. As you can see here, **NEW VALUE!** is injected on the header section as expected. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/dd733d6c-cbcf-45d6-8cf3-86f4cfe1d7ed) Now, I am trying to stop rendering the original `UserMenuItems__Title` shape since my `UserMenuItems__DisplayName` has a replacement shape. So I added a `placement.json` file with the following content json { ""UserMenuItems__Title"": [ { ""place"": ""-"" } ] }  But for some odd reason, the entire shape no longer rendering. I am expecting that the shape `UserMenuItems__Title` will not be rendered but expect everything else including my new shape to show up. You see how the menu is broken ""it does not even display ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/80a9cffa-3186-4ff7-96cc-6e7a6d7e2875) Any idea what could be causing placement to stop hiding the entire menu instead of the header only?",other-file | other-file | other-file,"Strange behavior with display driver The new [UserMenuDisplayDriver](https://github.com/OrchardCMS/OrchardCore/blob/b16d29b002eeb547cf26be280b76832b4b093e4d/src/OrchardCore.Modules/OrchardCore.Users/Drivers/UserMenuDisplayDriver.cs#L28) creates a new shape `UserMenuItems__Title` that gets injected into the `Header` location on both `Detail` and `DetailAdmin` display modes in the `UserMenu` shape. This seems to work with no issue on the source code. However, I am using preview packages from cloudsmith on my project and trying to change that shape. To change the value on the header, I added the following driver  public class DisplayNameUserMenuDisplayDriver : DisplayDriver<UserMenu> { public override IDisplayResult Display(UserMenu model) { return View(""UserMenuItems__DisplayName"", model) .Location(""Detail"", ""Header:4"") .Location(""DetailAdmin"", ""Header:4""); } }  When I run my project, I see the content of the `UserMenuItems-DisplayName.cshtml` on the menu header as expected. As you can see here, **NEW VALUE!** is injected on the header section as expected. ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/dd733d6c-cbcf-45d6-8cf3-86f4cfe1d7ed) Now, I am trying to stop rendering the original `UserMenuItems__Title` shape since my `UserMenuItems__DisplayName` has a replacement shape. So I added a `placement.json` file with the following content json { ""UserMenuItems__Title"": [ { ""place"": ""-"" } ] }  But for some odd reason, the entire shape no longer rendering. I am expecting that the shape `UserMenuItems__Title` will not be rendered but expect everything else including my new shape to show up. You see how the menu is broken ""it does not even display ![image](https://github.com/OrchardCMS/OrchardCore/assets/24724371/80a9cffa-3186-4ff7-96cc-6e7a6d7e2875) Any idea what could be causing placement to stop hiding the entire menu instead of the header only? other-file other-file other-file",no-bug,0.9
14743,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14743,"Unable to use <style at=""Head"" in DisplayDriver<Navbar>","How to use NavbarTop after removal Using <style at=""Head"" A while back I asked a question about how to introduce styles in the top menu bar https://github.com/OrchardCMS/OrchardCore/issues/13603 At the suggestion of @ns8482e I changed the code to the following C# public class AdminSystemLogViewerShapes : IShapeTableProvider { public void Discover(ShapeTableBuilder builder) { builder.Describe(""Layout"") .OnCreated(async context => { if (context.Shape is IZoneHolding layout) { var httpContextAccessor = context.ServiceProvider.GetRequiredService<IHttpContextAccessor>(); if (!AdminAttribute.IsApplied(httpContextAccessor.HttpContext)) { return; } var auth = context.ServiceProvider.GetRequiredService<IAuthorizationService>(); if (!await auth.AuthorizeAsync(httpContextAccessor.HttpContext.User, PermissionsProvider.AccessSystemLog)) { return; } await layout.Zones[""NavbarTop""].AddAsync(new ShapeViewModel(""AdminSystemLogViewer"")); } }); } }  However, NavbarTop was removed in OC 1.8, I changed it to `DisplayDriver<Navbar>` based on other menu buttons But the problem came back. Still unable to import styles to Head C# public class AdminSystemLogViewerShapes : DisplayDriver<Navbar> { private readonly IAuthorizationService _auth; private readonly IHttpContextAccessor _httpContextAccessor; public AdminSystemLogViewerShapes(IAuthorizationService auth, IHttpContextAccessor httpContextAccessor) { _auth = auth; _httpContextAccessor = httpContextAccessor; } public override async Task<IDisplayResult> DisplayAsync(Navbar model, BuildDisplayContext context) { if (!await _auth.AuthorizeAsync(_httpContextAccessor.HttpContext.User, PermissionsProvider.AccessSystemLog)) { return null; } return View(""AdminSystemLogViewer"", model) .Location(""DetailAdmin"", ""Content:1""); } } ",other-file | other-file,"Unable to use <style at=""Head"" in DisplayDriver<Navbar> How to use NavbarTop after removal Using <style at=""Head"" A while back I asked a question about how to introduce styles in the top menu bar https://github.com/OrchardCMS/OrchardCore/issues/13603 At the suggestion of @ns8482e I changed the code to the following C# public class AdminSystemLogViewerShapes : IShapeTableProvider { public void Discover(ShapeTableBuilder builder) { builder.Describe(""Layout"") .OnCreated(async context => { if (context.Shape is IZoneHolding layout) { var httpContextAccessor = context.ServiceProvider.GetRequiredService<IHttpContextAccessor>(); if (!AdminAttribute.IsApplied(httpContextAccessor.HttpContext)) { return; } var auth = context.ServiceProvider.GetRequiredService<IAuthorizationService>(); if (!await auth.AuthorizeAsync(httpContextAccessor.HttpContext.User, PermissionsProvider.AccessSystemLog)) { return; } await layout.Zones[""NavbarTop""].AddAsync(new ShapeViewModel(""AdminSystemLogViewer"")); } }); } }  However, NavbarTop was removed in OC 1.8, I changed it to `DisplayDriver<Navbar>` based on other menu buttons But the problem came back. Still unable to import styles to Head C# public class AdminSystemLogViewerShapes : DisplayDriver<Navbar> { private readonly IAuthorizationService _auth; private readonly IHttpContextAccessor _httpContextAccessor; public AdminSystemLogViewerShapes(IAuthorizationService auth, IHttpContextAccessor httpContextAccessor) { _auth = auth; _httpContextAccessor = httpContextAccessor; } public override async Task<IDisplayResult> DisplayAsync(Navbar model, BuildDisplayContext context) { if (!await _auth.AuthorizeAsync(_httpContextAccessor.HttpContext.User, PermissionsProvider.AccessSystemLog)) { return null; } return View(""AdminSystemLogViewer"", model) .Location(""DetailAdmin"", ""Content:1""); } }  other-file other-file",no-bug,0.9
10592,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10592,Unable to see the dropdown values of widget in decouple cms," Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/10590 <div type='discussions-op-text'> <sup>Originally posted by **saleemhaq** October 29, 2021</sup> Unable to see the dropdown values of widget in decouple cms when click on add widget button: ![widgetarea](https://user-images.githubusercontent.com/5202291/139497466-ce18934e-f00a-4c95-b16e-1b49f1387b77.PNG) </div>",other-file | config-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | test-file | test-file | config-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | test-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | config-file | config-file | config-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | documentation-file | other-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Unable to see the dropdown values of widget in decouple cms  Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/10590 <div type='discussions-op-text'> <sup>Originally posted by **saleemhaq** October 29, 2021</sup> Unable to see the dropdown values of widget in decouple cms when click on add widget button: ![widgetarea](https://user-images.githubusercontent.com/5202291/139497466-ce18934e-f00a-4c95-b16e-1b49f1387b77.PNG) </div> other-file config-file documentation-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file source-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file source-file source-file source-file source-file other-file documentation-file documentation-file source-file source-file other-file source-file source-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file documentation-file test-file test-file config-file other-file other-file other-file other-file other-file other-file other-file documentation-file test-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file source-file source-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file config-file config-file config-file other-file other-file other-file other-file documentation-file documentation-file other-file documentation-file documentation-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file documentation-file other-file documentation-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.8
14286,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14286,Two alerts displayed in admin settings to reload the current tenant,The `/Admin/Settings/email` page displays 2 identical warning alerts: `The current tenant will be reloaded when the settings are saved.` ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/9bb991d8-938f-429b-a0f3-6716c0a24db3),other-file,Two alerts displayed in admin settings to reload the current tenant The `/Admin/Settings/email` page displays 2 identical warning alerts: `The current tenant will be reloaded when the settings are saved.` ![image](https://github.com/OrchardCMS/OrchardCore/assets/703248/9bb991d8-938f-429b-a0f3-6716c0a24db3) other-file,no-bug,0.9
12484,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12484,PageSize validation,Wrong check in `DefaultSiteSettingsDisplayDriver.cs` : https://github.com/OrchardCMS/OrchardCore/blob/49fa7d4bf4350144293ad565d2a056c162b2e18e/src/OrchardCore.Modules/OrchardCore.Settings/Drivers/DefaultSiteSettingsDisplayDriver.cs#L63 ![image](https://user-images.githubusercontent.com/703248/191940822-f355344d-cf84-43e2-8643-d53dc89cbe92.png),other-file | other-file,PageSize validation Wrong check in `DefaultSiteSettingsDisplayDriver.cs` : https://github.com/OrchardCMS/OrchardCore/blob/49fa7d4bf4350144293ad565d2a056c162b2e18e/src/OrchardCore.Modules/OrchardCore.Settings/Drivers/DefaultSiteSettingsDisplayDriver.cs#L63 ![image](https://user-images.githubusercontent.com/703248/191940822-f355344d-cf84-43e2-8643-d53dc89cbe92.png) other-file other-file,no-bug,0.8
12371,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12371,Fix Context Type filter font color," Describe the bug When viewing the Manage contents section, the ""Content Type"" filter has a different text color than the other filters. I think it would look better if it matches the other filters. ![image](https://user-images.githubusercontent.com/24724371/189536365-fe83041f-de31-4ba5-9d9c-22d01898f9a0.png)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Fix Context Type filter font color  Describe the bug When viewing the Manage contents section, the ""Content Type"" filter has a different text color than the other filters. I think it would look better if it matches the other filters. ![image](https://user-images.githubusercontent.com/24724371/189536365-fe83041f-de31-4ba5-9d9c-22d01898f9a0.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
14828,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14828,Email format validation error shows incorrectly upon registering, Describe the bug The registration page renders the email format validation error incorrectly.  To Reproduce Steps to reproduce the behavior: 1. Enable the `Users Registration` feature 2. Configure the Users Registration settings to allow registration 3. Try to register with an invalid email format 4. See error  Expected behavior The validation error should describe the error.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/99020631/62f33c35-70b8-4515-b0d0-79b7840ba6fb),other-file | other-file | other-file,Email format validation error shows incorrectly upon registering  Describe the bug The registration page renders the email format validation error incorrectly.  To Reproduce Steps to reproduce the behavior: 1. Enable the `Users Registration` feature 2. Configure the Users Registration settings to allow registration 3. Try to register with an invalid email format 4. See error  Expected behavior The validation error should describe the error.  Screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/99020631/62f33c35-70b8-4515-b0d0-79b7840ba6fb) other-file other-file other-file,no-bug,0.9
10211,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10211,select language (Culture) doesn't exists anymore,"After update to new version ""1.1.0-preview-16455"", the culture menu doesn't appear anymore. It seems the module haven't attached in this version. ![image](https://user-images.githubusercontent.com/56995550/132126212-ca33b17a-b117-4369-9f5f-011a59c1c0c1.png)",other-file | other-file,"select language (Culture) doesn't exists anymore After update to new version ""1.1.0-preview-16455"", the culture menu doesn't appear anymore. It seems the module haven't attached in this version. ![image](https://user-images.githubusercontent.com/56995550/132126212-ca33b17a-b117-4369-9f5f-011a59c1c0c1.png) other-file other-file",no-bug,0.7
9651,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9651,intermittent error 'Error trying to resolve contentItems' when executing graphQL,"It's a super rare issue, but I'm getting error like this occasionally. I don't know how to reproduce this. Same GQL query is returning proper data, but once in a time I was able to observe result like this: ![image](https://user-images.githubusercontent.com/6403130/121491021-e0b35c00-c9d5-11eb-86ea-b85910e5480a.png)",other-file,"intermittent error 'Error trying to resolve contentItems' when executing graphQL It's a super rare issue, but I'm getting error like this occasionally. I don't know how to reproduce this. Same GQL query is returning proper data, but once in a time I was able to observe result like this: ![image](https://user-images.githubusercontent.com/6403130/121491021-e0b35c00-c9d5-11eb-86ea-b85910e5480a.png) other-file",no-bug,0.9
9771,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9771,Datepicker is shown transparent, Describe the bug The datepicker does not show correctly in nightly version 1.0.0-rc2-16322 (was working in 1.0.0-rc2-13450). See the screenshot  Screenshots ![datepicker-transparent](https://user-images.githubusercontent.com/19758451/123448318-14e46a80-d5db-11eb-8d50-26f574446b13.gif),config-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | test-file | test-file | test-file,Datepicker is shown transparent  Describe the bug The datepicker does not show correctly in nightly version 1.0.0-rc2-16322 (was working in 1.0.0-rc2-13450). See the screenshot  Screenshots ![datepicker-transparent](https://user-images.githubusercontent.com/19758451/123448318-14e46a80-d5db-11eb-8d50-26f574446b13.gif) config-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file test-file test-file test-file,no-bug,0.95
11888,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11888,"We need to update the ""Getting Started"" section of the documentation","This section of the documentation is critically outdated, so much so that it is not possible to get the results that are described. As an example this [page](https://docs.orchardcore.net/en/dev/docs/getting-started/), the latest version of OrchardCore 1.4.0 which uses `.Net 6.0` and accordingly if you create a new empty project '.NET Core web application' with `.Net 6.0` you will not have a `Startap.cs` file in which all the basic manipulations should take place. For new developers, this section is an important element of getting started with orchard. And such difficulties that in the guide can have a negative impact on entering a new environment. My suggestion is to update this section for use on the latest stable version of OrchardCore and be sure to specify the platform versions on which it should work in case of obsolescence to be clear for which version this instruction is valid. Because at the moment there is only one[ page](https://docs.orchardcore.net/en/latest/docs/getting-started/templates/) of this section that mentions the versions for which this example is used.",documentation-file | documentation-file,"We need to update the ""Getting Started"" section of the documentation This section of the documentation is critically outdated, so much so that it is not possible to get the results that are described. As an example this [page](https://docs.orchardcore.net/en/dev/docs/getting-started/), the latest version of OrchardCore 1.4.0 which uses `.Net 6.0` and accordingly if you create a new empty project '.NET Core web application' with `.Net 6.0` you will not have a `Startap.cs` file in which all the basic manipulations should take place. For new developers, this section is an important element of getting started with orchard. And such difficulties that in the guide can have a negative impact on entering a new environment. My suggestion is to update this section for use on the latest stable version of OrchardCore and be sure to specify the platform versions on which it should work in case of obsolescence to be clear for which version this instruction is valid. Because at the moment there is only one[ page](https://docs.orchardcore.net/en/latest/docs/getting-started/templates/) of this section that mentions the versions for which this example is used. documentation-file documentation-file",no-bug,0.95
6467,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6467,Error while running migration version 1 for 'OrchardCore.Menu'.,"Hi everyone, I tried to upgrade my web app running on the version 1.0.0-rc1-10004 to version 1.0.0-rc2-13450. At runtime the following error append and it seems that the liquid tag is not working correctly because I can see all the html tags for all the markdown fields rendered with `{{ Model.Html | markdownify | liquid }}`. __Error call stack :__ `fail: OrchardCore.Data.Migration.DataMigrationManager[0] Error while running migration version 1 for 'OrchardCore.Menu'. System.InvalidOperationException: Unable to resolve service for type 'OrchardCore.Facebook.Login.Services.IFacebookLoginService' while attempting to activate 'OrchardCore.Facebook.Login.Recipes.FacebookLoginSettingsStep'. at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type) at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType) at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory) at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope) at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType) at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType) at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider) at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetServices[T](IServiceProvider provider) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass9_0.<<ExecuteStepAsync>b__0>d.MoveNext() in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 156  End of stack trace from previous location where exception was thrown  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 194 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 154 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 100 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 117 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeMigrator.cs:line 41 at OrchardCore.Menu.Migrations.UpdateFrom1Async() in C:\projects\orchardcore\src\OrchardCore.Modules\OrchardCore.Menu\Migrations.cs:line 30 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Data\Migration\DataMigrationManager.cs:line 224`",other-file | other-file | other-file | other-file | other-file | config-file | documentation-file | documentation-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | source-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | other-file,"Error while running migration version 1 for 'OrchardCore.Menu'. Hi everyone, I tried to upgrade my web app running on the version 1.0.0-rc1-10004 to version 1.0.0-rc2-13450. At runtime the following error append and it seems that the liquid tag is not working correctly because I can see all the html tags for all the markdown fields rendered with `{{ Model.Html | markdownify | liquid }}`. __Error call stack :__ `fail: OrchardCore.Data.Migration.DataMigrationManager[0] Error while running migration version 1 for 'OrchardCore.Menu'. System.InvalidOperationException: Unable to resolve service for type 'OrchardCore.Facebook.Login.Services.IFacebookLoginService' while attempting to activate 'OrchardCore.Facebook.Login.Recipes.FacebookLoginSettingsStep'. at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(Type serviceType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type) at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory) at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain) at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType) at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory) at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope) at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType) at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType) at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider) at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetServices[T](IServiceProvider provider) at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass9_0.<<ExecuteStepAsync>b__0>d.MoveNext() in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 156  End of stack trace from previous location where exception was thrown  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 194 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 154 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 100 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 117 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeMigrator.cs:line 41 at OrchardCore.Menu.Migrations.UpdateFrom1Async() in C:\projects\orchardcore\src\OrchardCore.Modules\OrchardCore.Menu\Migrations.cs:line 30 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) in C:\projects\orchardcore\src\OrchardCore\OrchardCore.Data\Migration\DataMigrationManager.cs:line 224` other-file other-file other-file other-file other-file config-file documentation-file documentation-file config-file config-file documentation-file documentation-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file source-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file source-file source-file source-file source-file other-file documentation-file documentation-file source-file source-file other-file other-file source-file documentation-file documentation-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file source-file documentation-file documentation-file documentation-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file test-file other-file",no-bug,0.9
11160,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11160,Documentation - configuration description,"In documentation page for configuration, there is misleading information - using dot in ""OrchardCore.Media"" which is deprecated instead of ""OrchardCore_Media"". Small improvement, but if someone is editing docs, it could be changed. ![image](https://user-images.githubusercontent.com/52829889/153576208-6b328af5-96e3-481d-9594-3901b21cc7ee.png) p.s. can I add label documentation somehow to this?",documentation-file | documentation-file,"Documentation - configuration description In documentation page for configuration, there is misleading information - using dot in ""OrchardCore.Media"" which is deprecated instead of ""OrchardCore_Media"". Small improvement, but if someone is editing docs, it could be changed. ![image](https://user-images.githubusercontent.com/52829889/153576208-6b328af5-96e3-481d-9594-3901b21cc7ee.png) p.s. can I add label documentation somehow to this? documentation-file documentation-file",no-bug,0.95
6784,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6784,Ability to add an admin template for a dynamic part,"With the admin template feature, it appears that it is not possible to create a template for a dynamic part (a part created via the UI). It appears that there is no shape name to target, but it is possible I am missing something. Currently seeing this with RC2.",other-file | other-file | other-file | other-file,"Ability to add an admin template for a dynamic part With the admin template feature, it appears that it is not possible to create a template for a dynamic part (a part created via the UI). It appears that there is no shape name to target, but it is possible I am missing something. Currently seeing this with RC2. other-file other-file other-file other-file",no-bug,0.9
15434,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15434,No required field identification in admin and inconsistent error messages," Describe the bug * content fields and some parts added to to content type, can be set as required, but there is no visualization before submitting changes * validation error messages for required fields has inconsistent text messages (some contains dot at the end, some don't, some are using '' for value some has explicit value name in the text * validation error messages are included in validation summary only, and not under the required field, but for example in TitlePart is everything correct  To Reproduce Steps to reproduce the behavior: 1. Make some text field, date filed, numeric field, title part, etc. required on some content type 2. Click on create new item of modified content type 3. See validation summary and required fields UX behavior  Expected behavior * all error messages should be written in the same format and text like for example: Please add value for '{0}', this should be rewritten also in localizations * at least some css class should be added on all required fields label to be able to identify required fields in the content item form * required validation messages should be displayed under each validated field  Screenshots I've created Article content type with required TitlePart, Perex, Image media field and taxonomy fields Consumers and Topics. On the screenshot bellow you can see variable validation messages, no validation messages under inputs and red border only on some fields (nothing on taxonomy fields) ![c2e9c327-77b7-46b3-bdc9-9532c395a7e6](https://github.com/OrchardCMS/OrchardCore/assets/10938220/fd687ae6-aee1-46bf-bcec-64bd5b05473e)  Solution? I think it's easy to add css required class into edit view for all required-able files using @Orchard.GetLabelCssClasses and PartFieldDefinition.GetSettings<T> with required identification accessible inside view. Addition of validation messages under fields inputs is also possible for most of fields. Only in taxonomy field there is some vue.js component and it does not work for me yet. Red borders can be I think also added. Textation can be also rewritten in same way. I've tried to use some overrides inside custom theme but I find it difficult to maintain in the future because of new versions, behavior I think it will be better to have it out of the box.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | other-file | documentation-file,"No required field identification in admin and inconsistent error messages  Describe the bug * content fields and some parts added to to content type, can be set as required, but there is no visualization before submitting changes * validation error messages for required fields has inconsistent text messages (some contains dot at the end, some don't, some are using '' for value some has explicit value name in the text * validation error messages are included in validation summary only, and not under the required field, but for example in TitlePart is everything correct  To Reproduce Steps to reproduce the behavior: 1. Make some text field, date filed, numeric field, title part, etc. required on some content type 2. Click on create new item of modified content type 3. See validation summary and required fields UX behavior  Expected behavior * all error messages should be written in the same format and text like for example: Please add value for '{0}', this should be rewritten also in localizations * at least some css class should be added on all required fields label to be able to identify required fields in the content item form * required validation messages should be displayed under each validated field  Screenshots I've created Article content type with required TitlePart, Perex, Image media field and taxonomy fields Consumers and Topics. On the screenshot bellow you can see variable validation messages, no validation messages under inputs and red border only on some fields (nothing on taxonomy fields) ![c2e9c327-77b7-46b3-bdc9-9532c395a7e6](https://github.com/OrchardCMS/OrchardCore/assets/10938220/fd687ae6-aee1-46bf-bcec-64bd5b05473e)  Solution? I think it's easy to add css required class into edit view for all required-able files using @Orchard.GetLabelCssClasses and PartFieldDefinition.GetSettings<T> with required identification accessible inside view. Addition of validation messages under fields inputs is also possible for most of fields. Only in taxonomy field there is some vue.js component and it does not work for me yet. Red borders can be I think also added. Textation can be also rewritten in same way. I've tried to use some overrides inside custom theme but I find it difficult to maintain in the future because of new versions, behavior I think it will be better to have it out of the box. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file test-file other-file documentation-file",no-bug,0.9
11469,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11469,Tag helper for validation error not functioning,Trying to add custom css class with the ValidationMessageTagHelper does not apply the proper class came. Seems the issue is with this line : https://github.com/OrchardCMS/OrchardCore/blob/ee83d3298867afe9f5e52115110ef09e6fc7f4ba/src/OrchardCore/OrchardCore.DisplayManagement/TagHelpers/ValidationMessageTagHelper.cs#L64,other-file,Tag helper for validation error not functioning Trying to add custom css class with the ValidationMessageTagHelper does not apply the proper class came. Seems the issue is with this line : https://github.com/OrchardCMS/OrchardCore/blob/ee83d3298867afe9f5e52115110ef09e6fc7f4ba/src/OrchardCore/OrchardCore.DisplayManagement/TagHelpers/ValidationMessageTagHelper.cs#L64 other-file,no-bug,0.9
14632,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14632,Add a way to Remove User from a Role," Is your feature request related to a problem? Please describe. To supplement existing workflow **AssignUserToRole**, add the following Activities: **RemoveUserRole**: Remove a User from a role. This is very similar to AssignUserToRole but the ExecuteAsync to remove the user from a role instead **SelectUsersInRole**: This activity to output users list (or email) as property to create a mailing list to send email or notifications. This is to supplement: User Workflow: User created event and assign user to role #3489  Describe the solution you'd like **RemoveUserRole**: has same properties as AssignUserToRole but implementation calls `await _userManager.RemoveFromRoleAsync(user, roleName)` in the ExecuteAsync handler **SelectUsersInRole**: this activity has 2 properties and will create a workflow output variable: **PropertyName**: the workflow property output name to create, which can then be reused through expression **RoleName**: the User Role to get all users name or email  Describe alternatives you've considered The activities **AssignUserToRole** and **RemoveUserRole** can be combined as **UpdateUserRole** but this would break the interface. **SelectUsersInRole**, may need to readjust the activity name for OC. Also, may need a different parameter to select the field for ""UserName"" or ""Email"". ![OC-Submission-UserRole](https://github.com/OrchardCMS/OrchardCore/assets/5598813/6ef28abf-5fe1-4437-a979-b33bb26b83e6)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | test-file | config-file | config-file | config-file | config-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | other-file | container-file | container-file | other-file | other-file | documentation-file | other-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Add a way to Remove User from a Role  Is your feature request related to a problem? Please describe. To supplement existing workflow **AssignUserToRole**, add the following Activities: **RemoveUserRole**: Remove a User from a role. This is very similar to AssignUserToRole but the ExecuteAsync to remove the user from a role instead **SelectUsersInRole**: This activity to output users list (or email) as property to create a mailing list to send email or notifications. This is to supplement: User Workflow: User created event and assign user to role #3489  Describe the solution you'd like **RemoveUserRole**: has same properties as AssignUserToRole but implementation calls `await _userManager.RemoveFromRoleAsync(user, roleName)` in the ExecuteAsync handler **SelectUsersInRole**: this activity has 2 properties and will create a workflow output variable: **PropertyName**: the workflow property output name to create, which can then be reused through expression **RoleName**: the User Role to get all users name or email  Describe alternatives you've considered The activities **AssignUserToRole** and **RemoveUserRole** can be combined as **UpdateUserRole** but this would break the interface. **SelectUsersInRole**, may need to readjust the activity name for OC. Also, may need a different parameter to select the field for ""UserName"" or ""Email"". ![OC-Submission-UserRole](https://github.com/OrchardCMS/OrchardCore/assets/5598813/6ef28abf-5fe1-4437-a979-b33bb26b83e6) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file test-file config-file config-file config-file config-file source-file source-file source-file source-file documentation-file documentation-file documentation-file other-file container-file container-file other-file other-file documentation-file other-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5810,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5810,"Workflow Timer Event creates X amount of ""HALTED"" workflows","I have created a Timer Event in a workflow that is only supposed to run once a day at 00:00 using CRON: `0 0 * * *` https://crontab.guru/every-night However, at every minute when the background task runs, it creates a new HALTED workflow for this workflow type. After a couple of hours i had a lot.. So in order to test it out, I tried creating another Timer Event with CRON: `*/5 * * * *` to make it easier to see what would happen. https://crontab.guru/every-5-minutes Result: This will create a HALTED workflow every minute. Then, on the fifth event firing, it will create a new workflow as before but then execute all five at the same time. So either i'm doing something completely wrong or the cron/event task is seriously bugged?",other-file | other-file,"Workflow Timer Event creates X amount of ""HALTED"" workflows I have created a Timer Event in a workflow that is only supposed to run once a day at 00:00 using CRON: `0 0 * * *` https://crontab.guru/every-night However, at every minute when the background task runs, it creates a new HALTED workflow for this workflow type. After a couple of hours i had a lot.. So in order to test it out, I tried creating another Timer Event with CRON: `*/5 * * * *` to make it easier to see what would happen. https://crontab.guru/every-5-minutes Result: This will create a HALTED workflow every minute. Then, on the fifth event firing, it will create a new workflow as before but then execute all five at the same time. So either i'm doing something completely wrong or the cron/event task is seriously bugged? other-file other-file",no-bug,0.9
7028,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7028,Module template project with Part: Settings not working,"When you use the `dotnet new ocmodulecms -n ModuleName.OrchardCore --AddPart true --PartName Test` , the Part settings are not correctly taken into account https://docs.orchardcore.net/en/dev/docs/getting-started/templates/#create-a-new-cms-module",test-file,"Module template project with Part: Settings not working When you use the `dotnet new ocmodulecms -n ModuleName.OrchardCore --AddPart true --PartName Test` , the Part settings are not correctly taken into account https://docs.orchardcore.net/en/dev/docs/getting-started/templates/#create-a-new-cms-module test-file",no-bug,0.7
11610,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11610,"Orchard adds spaces to my content part names - why, and how to disable?"," Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/11600 <div type='discussions-op-text'> <sup>Originally posted by **andrerav** April 27, 2022</sup> Hi, When I create a content part with the name ""SomeKindOfContentComponent"", the technical name is split up at the uppercased characters, like so: ![image](https://user-images.githubusercontent.com/3635018/165540128-e3a8e3d8-7891-45aa-9951-fd7b9e62fe50.png) Why is this, and how can I permanently disable it?</div>",other-file | other-file,"Orchard adds spaces to my content part names - why, and how to disable?  Discussed in https://github.com/OrchardCMS/OrchardCore/discussions/11600 <div type='discussions-op-text'> <sup>Originally posted by **andrerav** April 27, 2022</sup> Hi, When I create a content part with the name ""SomeKindOfContentComponent"", the technical name is split up at the uppercased characters, like so: ![image](https://user-images.githubusercontent.com/3635018/165540128-e3a8e3d8-7891-45aa-9951-fd7b9e62fe50.png) Why is this, and how can I permanently disable it?</div> other-file other-file",no-bug,0.9
13786,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13786,"""Google Tag Manager"" should not depend on ""Google Analytics"""," Is your feature request related to a problem? Please describe. ""Google Tag Manager (GTM)"" is a bridge/middle-man service that would allow you to enable other services like ""Google Analytics"" on your website. So if you have GTM installed on your website, you can use the GTM portal to enable Google Analytics using the Measurement ID. You can also enable ""Google Analytics"" without the use of GMT if you want. The two features `OrchardCore.Google.TagManager` and `OrchardCore.Google.Analytics` should not depend on each other as one should enable either. Also the Google icons are invalid after migrating to fontawesome 6.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"""Google Tag Manager"" should not depend on ""Google Analytics""  Is your feature request related to a problem? Please describe. ""Google Tag Manager (GTM)"" is a bridge/middle-man service that would allow you to enable other services like ""Google Analytics"" on your website. So if you have GTM installed on your website, you can use the GTM portal to enable Google Analytics using the Measurement ID. You can also enable ""Google Analytics"" without the use of GMT if you want. The two features `OrchardCore.Google.TagManager` and `OrchardCore.Google.Analytics` should not depend on each other as one should enable either. Also the Google icons are invalid after migrating to fontawesome 6. other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
16946,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16946,Use Microsoft.IO.RecyclableMemoryStream," Is your feature request related to a problem? No.  Describe the solution you'd like In the code, new `MemoryStream()`s could be optimized with pooling by using the [Microsoft.IO.RecyclableMemoryStream](https://github.com/microsoft/Microsoft.IO.RecyclableMemoryStream) nuget.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file,"Use Microsoft.IO.RecyclableMemoryStream  Is your feature request related to a problem? No.  Describe the solution you'd like In the code, new `MemoryStream()`s could be optimized with pooling by using the [Microsoft.IO.RecyclableMemoryStream](https://github.com/microsoft/Microsoft.IO.RecyclableMemoryStream) nuget. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file test-file test-file test-file",no-bug,0.9
7890,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7890,Sourcelink is an unmanaged package reference,From the recent nuget pr `SourceLink` is now giving a warning that is an unmanaged package reference. Probably just needs to be added to the dependencies,other-file | other-file,Sourcelink is an unmanaged package reference From the recent nuget pr `SourceLink` is now giving a warning that is an unmanaged package reference. Probably just needs to be added to the dependencies other-file other-file,no-bug,0.9
9018,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9018,Ordering of list items in Admin when managing content items," Describe the bug In build rc2-15500 you had the ability to reorder list items within a content item. the cross arrows appeared and you were able to move items up and down. I am not sure what build this happened in but if i get rc2-16037 the cross arrows for reorder no longer exist.  To Reproduce 1. Create a Basic Orchard App in VS targeting OrchardCore.Application.Cms.Targets rc2-15500 2. Create a Blog site from the blog recipe 3. Go to the admin, Content Types and Edit the Blog content type 4. Edit the List Part and Enable Ordering 5. Add one more blog post 6. You will see the cross arrows for reordering 7. Change the Target of OrchardCore.Application.Cms.Targets to rc2-16037 8. You no longer see the cross arrows  Expected behavior To see the cross arrows and be able to reorder",other-file | other-file | other-file,"Ordering of list items in Admin when managing content items  Describe the bug In build rc2-15500 you had the ability to reorder list items within a content item. the cross arrows appeared and you were able to move items up and down. I am not sure what build this happened in but if i get rc2-16037 the cross arrows for reorder no longer exist.  To Reproduce 1. Create a Basic Orchard App in VS targeting OrchardCore.Application.Cms.Targets rc2-15500 2. Create a Blog site from the blog recipe 3. Go to the admin, Content Types and Edit the Blog content type 4. Edit the List Part and Enable Ordering 5. Add one more blog post 6. You will see the cross arrows for reordering 7. Change the Target of OrchardCore.Application.Cms.Targets to rc2-16037 8. You no longer see the cross arrows  Expected behavior To see the cross arrows and be able to reorder other-file other-file other-file",no-bug,0.9
6585,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6585,Setup Error,"System.IO.DirectoryNotFoundException HResult=0x80070003 Message=Could not find a part of the path 'F:\Git\net core\cms\OrchardCore\src\OrchardCore.Cms.Web\App_Data\Sites\Default\ContentDefinition.json'. Source=System.Private.CoreLib StackTrace:  System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)  System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)  System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)  System.IO.StreamWriter.ValidateArgsAndOpenPath(String path, Boolean append, Encoding encoding, Int32 bufferSize)  System.IO.StreamWriter..ctor(String path, Boolean append)  System.IO.File.CreateText(String path)  OrchardCore.ContentManagement.FileContentDefinitionStore.SaveContentDefinitionAsync(ContentDefinitionRecord contentDefinitionRecord)  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement\FileContentDefinitionStore.cs :  68   OrchardCore.ContentManagement.ContentDefinitionManager.UpdateContentDefinitionRecord()  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement\ContentDefinitionManager.cs :  348   OrchardCore.ContentManagement.ContentDefinitionManager.StorePartDefinition(ContentPartDefinition contentPartDefinition)  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement\ContentDefinitionManager.cs :  132   OrchardCore.ContentManagement.Metadata.ContentDefinitionManagerExtensions.AlterPartDefinition(IContentDefinitionManager manager, String name, Action`1 alteration)  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement.Abstractions\IContentDefinitionManager.cs :  60   OrchardCore.Liquid.Migrations.Create()  F:\Git\net core\cms\OrchardCore\src\OrchardCore.Modules\OrchardCore.Liquid\Migrations.cs :  18 ",other-file | other-file,"Setup Error System.IO.DirectoryNotFoundException HResult=0x80070003 Message=Could not find a part of the path 'F:\Git\net core\cms\OrchardCore\src\OrchardCore.Cms.Web\App_Data\Sites\Default\ContentDefinition.json'. Source=System.Private.CoreLib StackTrace:  System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)  System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)  System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)  System.IO.StreamWriter.ValidateArgsAndOpenPath(String path, Boolean append, Encoding encoding, Int32 bufferSize)  System.IO.StreamWriter..ctor(String path, Boolean append)  System.IO.File.CreateText(String path)  OrchardCore.ContentManagement.FileContentDefinitionStore.SaveContentDefinitionAsync(ContentDefinitionRecord contentDefinitionRecord)  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement\FileContentDefinitionStore.cs :  68   OrchardCore.ContentManagement.ContentDefinitionManager.UpdateContentDefinitionRecord()  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement\ContentDefinitionManager.cs :  348   OrchardCore.ContentManagement.ContentDefinitionManager.StorePartDefinition(ContentPartDefinition contentPartDefinition)  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement\ContentDefinitionManager.cs :  132   OrchardCore.ContentManagement.Metadata.ContentDefinitionManagerExtensions.AlterPartDefinition(IContentDefinitionManager manager, String name, Action`1 alteration)  F:\Git\net core\cms\OrchardCore\src\OrchardCore\OrchardCore.ContentManagement.Abstractions\IContentDefinitionManager.cs :  60   OrchardCore.Liquid.Migrations.Create()  F:\Git\net core\cms\OrchardCore\src\OrchardCore.Modules\OrchardCore.Liquid\Migrations.cs :  18  other-file other-file",no-bug,0.95
8021,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8021,Unable to build liquid Form_Wrapper,"It seems it's not possible to override `Form_Wrapper` with Liquid. The default Razor template is : razor  <form id=""@formId"" action=""@formPart.Action"" method=""@formPart.Method"" enctype=""@encType"" class=""form-content @formContentTypeClassName""> @if (formPart.EnableAntiForgeryToken) { @Html.AntiForgeryToken() } @await DisplayAsync(Model.Metadata.ChildContent) </form>  So, the Liquid equivalent should be : liquid  <form action=""{{ formPart.Action }}"" method=""{{ formPart.Method }}"" enctype=""{{ encType }}"" class=""form-content {{ formContentTypeClassName }}""> {% if formPart.EnableAntiForgeryToken %} {% antiforgerytoken %} {% endif %} {{ Model.Metadata.ChildContent | shape_render }} </form>  But `Model.Metadata.ChildContent` doesn't evalutes in Liquid, and it's not `IShape` but `IHtmlContent`.",other-file | other-file | other-file | other-file | other-file | other-file,"Unable to build liquid Form_Wrapper It seems it's not possible to override `Form_Wrapper` with Liquid. The default Razor template is : razor  <form id=""@formId"" action=""@formPart.Action"" method=""@formPart.Method"" enctype=""@encType"" class=""form-content @formContentTypeClassName""> @if (formPart.EnableAntiForgeryToken) { @Html.AntiForgeryToken() } @await DisplayAsync(Model.Metadata.ChildContent) </form>  So, the Liquid equivalent should be : liquid  <form action=""{{ formPart.Action }}"" method=""{{ formPart.Method }}"" enctype=""{{ encType }}"" class=""form-content {{ formContentTypeClassName }}""> {% if formPart.EnableAntiForgeryToken %} {% antiforgerytoken %} {% endif %} {{ Model.Metadata.ChildContent | shape_render }} </form>  But `Model.Metadata.ChildContent` doesn't evalutes in Liquid, and it's not `IShape` but `IHtmlContent`. other-file other-file other-file other-file other-file other-file",no-bug,0.9
13671,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13671,Setting Authority value in OpenId server does not reflect server endpoints in the well-known info," Describe the bug When using OpenId Server feature, one of the available settings is **Authority** or **Issuer**. When providing a specific value, the values the URI's showing for `authorization_endpoint`, `token_endpoint`, `introspection_endpoint`, `end_session_endpoint`, `revocation_endpoint`, `userinfo_endpoint`, and `jwks_uri` will still reflect the current site URL. For example, my OC app is running locally using `https://custom-domain.NET` this domain is accessible only when users on the internal network access my app. However, external apps must use `https://custom-domain.COM` in order to get to the same website. To allow external apps to connect to my app, I set the `Issuer` to `https://custom-domain.com/` which is the domain anyone can use to connect to my server. However, the value for the other endpoints still reflect the `.NET` domain not the `.COM` as I would expect. Here is the output of the `https://custom-domain.com/.well-known/openid-configuration`  { ""issuer"": ""https://custom-domain.com/"", ""authorization_endpoint"": ""https://custom-domain.NET/connect/authorize"", ""token_endpoint"": ""https://custom-domain.NET/connect/token"", ""introspection_endpoint"": ""https://custom-domain.NET/connect/introspect"", ""end_session_endpoint"": ""https://custom-domain.NET/connect/logout"", ""revocation_endpoint"": ""https://custom-domain.NET/connect/revoke"", ""userinfo_endpoint"": ""https://custom-domain.NET/connect/userinfo"", ""jwks_uri"": ""https://custom-domain.NET/.well-known/jwks"", ""grant_types_supported"": [ ""authorization_code"", ""refresh_token"" ], ""response_types_supported"": [ ""code"" ], ""response_modes_supported"": [ ""form_post"", ""fragment"", ""query"" ], ""scopes_supported"": [ ""openid"", ""offline_access"", ""email"", ""phone"", ""profile"", ""roles"" ], ""claims_supported"": [ ""aud"", ""exp"", ""iat"", ""iss"", ""sub"" ], ""id_token_signing_alg_values_supported"": [ ""RS256"" ], ""code_challenge_methods_supported"": [ ""S256"" ], ""subject_types_supported"": [ ""public"" ], ""token_endpoint_auth_methods_supported"": [ ""client_secret_basic"", ""client_secret_post"" ], ""introspection_endpoint_auth_methods_supported"": [ ""client_secret_basic"", ""client_secret_post"" ], ""revocation_endpoint_auth_methods_supported"": [ ""client_secret_basic"", ""client_secret_post"" ], ""claims_parameter_supported"": false, ""request_parameter_supported"": false, ""request_uri_parameter_supported"": false, ""authorization_response_iss_parameter_supported"": true }   Expected behavior I think anytime an `Authority` settings is different than the current host, the value for `authorization_endpoint`, `token_endpoint`, `introspection_endpoint`, `end_session_endpoint`, `revocation_endpoint`, `userinfo_endpoint`, and `jwks_uri` should be based on the Issue not the current site.",other-file,"Setting Authority value in OpenId server does not reflect server endpoints in the well-known info  Describe the bug When using OpenId Server feature, one of the available settings is **Authority** or **Issuer**. When providing a specific value, the values the URI's showing for `authorization_endpoint`, `token_endpoint`, `introspection_endpoint`, `end_session_endpoint`, `revocation_endpoint`, `userinfo_endpoint`, and `jwks_uri` will still reflect the current site URL. For example, my OC app is running locally using `https://custom-domain.NET` this domain is accessible only when users on the internal network access my app. However, external apps must use `https://custom-domain.COM` in order to get to the same website. To allow external apps to connect to my app, I set the `Issuer` to `https://custom-domain.com/` which is the domain anyone can use to connect to my server. However, the value for the other endpoints still reflect the `.NET` domain not the `.COM` as I would expect. Here is the output of the `https://custom-domain.com/.well-known/openid-configuration`  { ""issuer"": ""https://custom-domain.com/"", ""authorization_endpoint"": ""https://custom-domain.NET/connect/authorize"", ""token_endpoint"": ""https://custom-domain.NET/connect/token"", ""introspection_endpoint"": ""https://custom-domain.NET/connect/introspect"", ""end_session_endpoint"": ""https://custom-domain.NET/connect/logout"", ""revocation_endpoint"": ""https://custom-domain.NET/connect/revoke"", ""userinfo_endpoint"": ""https://custom-domain.NET/connect/userinfo"", ""jwks_uri"": ""https://custom-domain.NET/.well-known/jwks"", ""grant_types_supported"": [ ""authorization_code"", ""refresh_token"" ], ""response_types_supported"": [ ""code"" ], ""response_modes_supported"": [ ""form_post"", ""fragment"", ""query"" ], ""scopes_supported"": [ ""openid"", ""offline_access"", ""email"", ""phone"", ""profile"", ""roles"" ], ""claims_supported"": [ ""aud"", ""exp"", ""iat"", ""iss"", ""sub"" ], ""id_token_signing_alg_values_supported"": [ ""RS256"" ], ""code_challenge_methods_supported"": [ ""S256"" ], ""subject_types_supported"": [ ""public"" ], ""token_endpoint_auth_methods_supported"": [ ""client_secret_basic"", ""client_secret_post"" ], ""introspection_endpoint_auth_methods_supported"": [ ""client_secret_basic"", ""client_secret_post"" ], ""revocation_endpoint_auth_methods_supported"": [ ""client_secret_basic"", ""client_secret_post"" ], ""claims_parameter_supported"": false, ""request_parameter_supported"": false, ""request_uri_parameter_supported"": false, ""authorization_response_iss_parameter_supported"": true }   Expected behavior I think anytime an `Authority` settings is different than the current host, the value for `authorization_endpoint`, `token_endpoint`, `introspection_endpoint`, `end_session_endpoint`, `revocation_endpoint`, `userinfo_endpoint`, and `jwks_uri` should be based on the Issue not the current site. other-file",bug,0.95
15235,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15235,.net8+orchardcore blazorserver mode render component error,"Describe the bug .net8+orchardcore create webpage, use blazorserver mode @(await Html.RenderComponentAsync(RenderMode.ServerPrerendered)) error. error content: System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state. To Reproduce Steps to reproduce the behavior: Create a OrchardCore app, add module, and add WebPage page. Create blazorclasslibrary project, add default Component. call Html.RenderComponentAsync in webpage. browser webpage. Expected behavior System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state. . net7 is normal,. net8 is incorrect, the environment is .net8+orcardcore, not console Screenshots a1 a2 ![a3](https://github.com/OrchardCMS/OrchardCore/assets/247791/bf9c5a92-d906-4ba9-ab3f-d447a59a9ef6)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,".net8+orchardcore blazorserver mode render component error Describe the bug .net8+orchardcore create webpage, use blazorserver mode @(await Html.RenderComponentAsync(RenderMode.ServerPrerendered)) error. error content: System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state. To Reproduce Steps to reproduce the behavior: Create a OrchardCore app, add module, and add WebPage page. Create blazorclasslibrary project, add default Component. call Html.RenderComponentAsync in webpage. browser webpage. Expected behavior System.InvalidOperationException: The current thread is not associated with the Dispatcher. Use InvokeAsync() to switch execution to the Dispatcher when triggering rendering or component state. . net7 is normal,. net8 is incorrect, the environment is .net8+orcardcore, not console Screenshots a1 a2 ![a3](https://github.com/OrchardCMS/OrchardCore/assets/247791/bf9c5a92-d906-4ba9-ab3f-d447a59a9ef6) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5724,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5724,Media Library empty,The media library is currently showing empty results when using Azure Blob Storage. Quick fix for this is to do this for now : ![image](https://user-images.githubusercontent.com/3228637/76685610-874e5880-65eb-11ea-8691-54693bc29950.png) @deanmarcussen,other-file | other-file,Media Library empty The media library is currently showing empty results when using Azure Blob Storage. Quick fix for this is to do this for now : ![image](https://user-images.githubusercontent.com/3228637/76685610-874e5880-65eb-11ea-8691-54693bc29950.png) @deanmarcussen other-file other-file,no-bug,0.8
6867,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6867,GitHub Discussions setup,"As we've talked about it before, GitHub has a new beta featured called Discussions. I've now enabled this, see https://github.com/OrchardCMS/OrchardCore/discussions/6869 for details. This issue is to track any tasks for setting it up. Possible to-dos if and when we completely embrace Discussions, depending on what we decide, all contingent. ~~- [ ] Close Gitter.~~ - [ ] Change the Forum link on the website. - [ ] Convert issues with the ""discussion"" and ""question"" tags to discussions. This can be done in bulk from under [Labels](https://github.com/OrchardCMS/OrchardCore/labels). Ex: https://github.com/OrchardCMS/OrchardCore/labels/discussion - [x] ~~Add a very long and opinionated issue template to upset @sebastienros~~ Add an issue template that directs people to discussions for things that are not bug reports or feature requests. This can be nothing more than `<!-- instructions -->`. - [x] Point https://github.com/OrchardCMS/OrchardCore/blob/dev/CONTRIBUTING.md#other-discussions to Discussions and thus recommend it instead of StackOverflow.",documentation-file | documentation-file,"GitHub Discussions setup As we've talked about it before, GitHub has a new beta featured called Discussions. I've now enabled this, see https://github.com/OrchardCMS/OrchardCore/discussions/6869 for details. This issue is to track any tasks for setting it up. Possible to-dos if and when we completely embrace Discussions, depending on what we decide, all contingent. ~~- [ ] Close Gitter.~~ - [ ] Change the Forum link on the website. - [ ] Convert issues with the ""discussion"" and ""question"" tags to discussions. This can be done in bulk from under [Labels](https://github.com/OrchardCMS/OrchardCore/labels). Ex: https://github.com/OrchardCMS/OrchardCore/labels/discussion - [x] ~~Add a very long and opinionated issue template to upset @sebastienros~~ Add an issue template that directs people to discussions for things that are not bug reports or feature requests. This can be nothing more than `<!-- instructions -->`. - [x] Point https://github.com/OrchardCMS/OrchardCore/blob/dev/CONTRIBUTING.md#other-discussions to Discussions and thus recommend it instead of StackOverflow. documentation-file documentation-file",no-bug,0.95
16526,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16526,Renaming a query creates a copy," Describe the bug When you change the technical name of a query, the query gets duplicated instead of just renamed.  Orchard Core version Latest main branch.  To Reproduce 1. Edit any query and change the technical name. 2. Click on Save. 3. A new query with the new name gets added, the old query remains unchanged.  Expected behavior The edited query should be renamed. /cc @MikeAlhayek",other-file | other-file | other-file | other-file,"Renaming a query creates a copy  Describe the bug When you change the technical name of a query, the query gets duplicated instead of just renamed.  Orchard Core version Latest main branch.  To Reproduce 1. Edit any query and change the technical name. 2. Click on Save. 3. A new query with the new name gets added, the old query remains unchanged.  Expected behavior The edited query should be renamed. /cc @MikeAlhayek other-file other-file other-file other-file",no-bug,0.9
16378,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16378,Rebuilding Lucene Index fails," Describe the bug Rebuilding Lucene Index in one of my tenants fails with the Error `SqlException: Invalid column name 'Target'.` and the Stacktrace shown below. Creating a fresh Lucene Index works on that tenant, rebuilding it fails. On a different tenant rebuilding works fine. But the other tenant is quite young compared to the one that creates the problems. My guess would be a Migration problem of the DataBase, as the problem seem to be the way to access content items: `OrchardCore.ContentManagement.DefaultContentManager.GetAsync(IEnumerable<string> contentItemIds, VersionOptions options)`  Orchard Core version 2.0.0.-preview-18254  To Reproduce Seems to be dependent on the tenant/db, so likely not reproducible. Steps to reproduce the behavior: 1. Go to Admin Backend 3. Ensure these Features are enabled: `Lucene` (`Content Types` `Contents` `Indexing` `Liquid` `Settings`), `Search`, `PDF Media Indexing` (`Media Indexing`) 4. Go to Search->Indexing->Lucene Indices 5. Ensure you have a defined Search Index (and some content you can search for) 6. Select your Lucene Index and click ""Rebuild"" or ""Reset"" 7. See error 8. All searches on frontend lead to empty result lists now.  Expected behavior Should Rebuild or Reset the index  Logs and screenshots  SqlException: Invalid column name 'Target'. System.Threading.Tasks.ContinuationResultTaskFromResultTask<TAntecedentResult, TResult>.InnerInvoke() System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, object state) System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, object state) System.Threading.Tasks.Task.ExecuteWithThreadLocal(ref Task currentTaskSlot, Thread threadPoolThread) YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) YesSql.Session.FlushInternalAsync(bool saving) YesSql.Session.FlushInternalAsync(bool saving) YesSql.Services.DefaultQuery+Query<T>.ListImpl() OrchardCore.ContentManagement.DefaultContentManager.GetAsync(IEnumerable<string> contentItemIds, VersionOptions options) OrchardCore.Search.Lucene.LuceneIndexingService+<>c__DisplayClass10_0+<<ProcessContentItemsAsync>b__0>d.MoveNext() OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Search.Lucene.LuceneIndexingService.ProcessContentItemsAsync(string indexName) OrchardCore.Search.Lucene.Controllers.AdminController.Rebuild(string id) lambda_method2041(Closure , object ) Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask<IActionResult> actionResultValueTask) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) OrchardCore.Seo.Services.RobotsMiddleware.Invoke(HttpContext httpContext) SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, bool retry) OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+<>c__DisplayClass3_0+<<Configure>b__1>d.MoveNext() Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.ContentPreview.PreviewStartupFilter+<>c+<<Configure>b__0_1>d.MoveNext() OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) OrchardCore.Modules.ModularTenantContainerMiddleware+<>c__DisplayClass4_0+<<Invoke>b__0>d.MoveNext() OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context) ",other-file | other-file | other-file | other-file,"Rebuilding Lucene Index fails  Describe the bug Rebuilding Lucene Index in one of my tenants fails with the Error `SqlException: Invalid column name 'Target'.` and the Stacktrace shown below. Creating a fresh Lucene Index works on that tenant, rebuilding it fails. On a different tenant rebuilding works fine. But the other tenant is quite young compared to the one that creates the problems. My guess would be a Migration problem of the DataBase, as the problem seem to be the way to access content items: `OrchardCore.ContentManagement.DefaultContentManager.GetAsync(IEnumerable<string> contentItemIds, VersionOptions options)`  Orchard Core version 2.0.0.-preview-18254  To Reproduce Seems to be dependent on the tenant/db, so likely not reproducible. Steps to reproduce the behavior: 1. Go to Admin Backend 3. Ensure these Features are enabled: `Lucene` (`Content Types` `Contents` `Indexing` `Liquid` `Settings`), `Search`, `PDF Media Indexing` (`Media Indexing`) 4. Go to Search->Indexing->Lucene Indices 5. Ensure you have a defined Search Index (and some content you can search for) 6. Select your Lucene Index and click ""Rebuild"" or ""Reset"" 7. See error 8. All searches on frontend lead to empty result lists now.  Expected behavior Should Rebuild or Reset the index  Logs and screenshots  SqlException: Invalid column name 'Target'. System.Threading.Tasks.ContinuationResultTaskFromResultTask<TAntecedentResult, TResult>.InnerInvoke() System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, object state) System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, object state) System.Threading.Tasks.Task.ExecuteWithThreadLocal(ref Task currentTaskSlot, Thread threadPoolThread) YesSql.Commands.BatchCommand.ExecuteAsync(DbConnection connection, DbTransaction transaction, ISqlDialect dialect, ILogger logger) YesSql.Session.FlushInternalAsync(bool saving) YesSql.Session.FlushInternalAsync(bool saving) YesSql.Services.DefaultQuery+Query<T>.ListImpl() OrchardCore.ContentManagement.DefaultContentManager.GetAsync(IEnumerable<string> contentItemIds, VersionOptions options) OrchardCore.Search.Lucene.LuceneIndexingService+<>c__DisplayClass10_0+<<ProcessContentItemsAsync>b__0>d.MoveNext() OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Search.Lucene.LuceneIndexingService.ProcessContentItemsAsync(string indexName) OrchardCore.Search.Lucene.Controllers.AdminController.Rebuild(string id) lambda_method2041(Closure , object ) Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask<IActionResult> actionResultValueTask) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, object state, bool isCompleted) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope) OrchardCore.Seo.Services.RobotsMiddleware.Invoke(HttpContext httpContext) SixLabors.ImageSharp.Web.Middleware.ImageSharpMiddleware.Invoke(HttpContext httpContext, bool retry) OrchardCore.Liquid.ScriptsMiddleware.Invoke(HttpContext httpContext) Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) OrchardCore.Diagnostics.DiagnosticsStartupFilter+<>c__DisplayClass3_0+<<Configure>b__1>d.MoveNext() Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context) OrchardCore.ContentPreview.PreviewStartupFilter+<>c+<<Configure>b__0_1>d.MoveNext() OrchardCore.Modules.ModularTenantRouterMiddleware.Invoke(HttpContext httpContext) OrchardCore.Modules.ModularTenantContainerMiddleware+<>c__DisplayClass4_0+<<Invoke>b__0>d.MoveNext() OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func<ShellScope, Task> execute, bool activateShell) OrchardCore.Modules.ModularTenantContainerMiddleware.Invoke(HttpContext httpContext) Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context) Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)  other-file other-file other-file other-file",no-bug,0.9
11933,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11933,"The Full-Text patern field is hidden on page load when ""Use custom full-text"" is checked"," Describe the bug Here is my content exit page ![image](https://user-images.githubusercontent.com/24724371/176749345-4dcd9fe2-31c2-475d-aeca-2a30e5bdf37f.png) but when the page is first loaded the hidden field does not show up unless you check/uncheck the ""User custom full-text"" again ![image](https://user-images.githubusercontent.com/24724371/176749491-7f7f44f8-0163-4900-9770-19da295a7fe7.png)  To Reproduce Steps to reproduce the behavior: 1. Edit any content type. 2. in the Full-Text settings section, check ""Use custom full-text"" 3. Save the page 4. on the page load the ""custom full-text"" field is invisible.  Expected behavior The field should show up on page load when the ""Use custom full-text"" is checked.",other-file,"The Full-Text patern field is hidden on page load when ""Use custom full-text"" is checked  Describe the bug Here is my content exit page ![image](https://user-images.githubusercontent.com/24724371/176749345-4dcd9fe2-31c2-475d-aeca-2a30e5bdf37f.png) but when the page is first loaded the hidden field does not show up unless you check/uncheck the ""User custom full-text"" again ![image](https://user-images.githubusercontent.com/24724371/176749491-7f7f44f8-0163-4900-9770-19da295a7fe7.png)  To Reproduce Steps to reproduce the behavior: 1. Edit any content type. 2. in the Full-Text settings section, check ""Use custom full-text"" 3. Save the page 4. on the page load the ""custom full-text"" field is invisible.  Expected behavior The field should show up on page load when the ""Use custom full-text"" is checked. other-file",no-bug,0.9
7518,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7518,"Background tasks, time zones should be converted","![image](https://user-images.githubusercontent.com/16968103/98220126-d2f1b000-1f88-11eb-9251-6d5532a15986.png) ![image](https://user-images.githubusercontent.com/16968103/98220575-72af3e00-1f89-11eb-9a16-5d64e82f7b76.png) China UTC Plus 8, 8 a.m  0 8 * * * now  0 0 * * *",other-file | other-file | other-file | config-file | config-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Background tasks, time zones should be converted ![image](https://user-images.githubusercontent.com/16968103/98220126-d2f1b000-1f88-11eb-9251-6d5532a15986.png) ![image](https://user-images.githubusercontent.com/16968103/98220575-72af3e00-1f89-11eb-9a16-5d64e82f7b76.png) China UTC Plus 8, 8 a.m  0 8 * * * now  0 0 * * * other-file other-file other-file config-file config-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6305,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6305,Coming soon: Form issue,The form is generated two times causing this problem: ![image](https://user-images.githubusercontent.com/703248/83284331-d2383f00-a1dc-11ea-98df-4f81192a8a13.png),other-file,Coming soon: Form issue The form is generated two times causing this problem: ![image](https://user-images.githubusercontent.com/703248/83284331-d2383f00-a1dc-11ea-98df-4f81192a8a13.png) other-file,no-bug,0.9
15745,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15745,update Azure.Identity," Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Go to 'build sln' 2. See error D:\a\OrchardCore\OrchardCore\src\OrchardCore\OrchardCore.Configuration.KeyVault\OrchardCore.Configuration.KeyVault.csproj : error NU1902: Warning As Error: Package 'Azure.Identity' 1.10.4 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-wvxc-855f-jvrv [D:\a\OrchardCore\OrchardCore\OrchardCore.sln]  Expected behavior update to 1.11.0, pass build  Screenshots If applicable, add screenshots to help explain your problem.",other-file | documentation-file,"update Azure.Identity  Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Go to 'build sln' 2. See error D:\a\OrchardCore\OrchardCore\src\OrchardCore\OrchardCore.Configuration.KeyVault\OrchardCore.Configuration.KeyVault.csproj : error NU1902: Warning As Error: Package 'Azure.Identity' 1.10.4 has a known moderate severity vulnerability, https://github.com/advisories/GHSA-wvxc-855f-jvrv [D:\a\OrchardCore\OrchardCore\OrchardCore.sln]  Expected behavior update to 1.11.0, pass build  Screenshots If applicable, add screenshots to help explain your problem. other-file documentation-file",no-bug,0.95
8324,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8324,Disable the CDN by default,"For better adoption, the CDN usages needs to be disabled by default. It should be opt-in in the admin. And CDN sources should use the provider that has the most coverage, especially with coverage in China which has the most restrictions for now. https://github.com/OrchardCMS/OrchardCore/pull/7599 https://github.com/OrchardCMS/OrchardCore/issues/7721",other-file,"Disable the CDN by default For better adoption, the CDN usages needs to be disabled by default. It should be opt-in in the admin. And CDN sources should use the provider that has the most coverage, especially with coverage in China which has the most restrictions for now. https://github.com/OrchardCMS/OrchardCore/pull/7599 https://github.com/OrchardCMS/OrchardCore/issues/7721 other-file",no-bug,0.9
5958,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5958,View link on content item editor,"In Orchard 1 we have this ""View"" link on the editor for the permalink: ![image](https://user-images.githubusercontent.com/1976647/79497165-86b04400-8027-11ea-98ed-108f7e37669c.png) While in Core we do have a View link in content items lists there is no such link in the editor. It would be great to have such a link so after saving a content item (or just when editing it) you could quickly open the page or copy a link to it (as opposed to copying the generated permalink and concatenating it with the site's base URL by hand). Seems like a good first issue.",other-file | other-file,"View link on content item editor In Orchard 1 we have this ""View"" link on the editor for the permalink: ![image](https://user-images.githubusercontent.com/1976647/79497165-86b04400-8027-11ea-98ed-108f7e37669c.png) While in Core we do have a View link in content items lists there is no such link in the editor. It would be great to have such a link so after saving a content item (or just when editing it) you could quickly open the page or copy a link to it (as opposed to copying the generated permalink and concatenating it with the site's base URL by hand). Seems like a good first issue. other-file other-file",no-bug,0.9
17059,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17059,External Authentication Feature is causing an infinite redirect.," Describe the bug When a user login from external provider, but creating the account fails we redirect them back to the login page. But if the ""Use external provider for login"" settings is set, the user will be caught in an infinite loop redirecting back and fourth.  Orchard Core version 2.1  To Reproduce <!-- Steps to reproduce the behavior: 1. Enable external provider feature 2. In Security >> User Registration >> check ""Disable new external registration"" 3. In Security >> User Login >> Click on the External Login tab. Enable ""Use external provider for login"" options. 4. Try to login with a new user that does not exists on the local site using the external provider.  Expected behavior We should see an error not causing an infinite loop.",other-file | other-file,"External Authentication Feature is causing an infinite redirect.  Describe the bug When a user login from external provider, but creating the account fails we redirect them back to the login page. But if the ""Use external provider for login"" settings is set, the user will be caught in an infinite loop redirecting back and fourth.  Orchard Core version 2.1  To Reproduce <!-- Steps to reproduce the behavior: 1. Enable external provider feature 2. In Security >> User Registration >> check ""Disable new external registration"" 3. In Security >> User Login >> Click on the External Login tab. Enable ""Use external provider for login"" options. 4. Try to login with a new user that does not exists on the local site using the external provider.  Expected behavior We should see an error not causing an infinite loop. other-file other-file",no-bug,0.9
17780,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17780,'Administrator' role is not always the system role on new tenant,"<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug Randomly, when we create a new tenant, the system creates and assign `SiteOwner` as the admin system role.  Orchard Core version main and probably 2.1  To Reproduce It does not happen all the time. But just create a new tenant and in some cases the role changes.",other-file | other-file,"'Administrator' role is not always the system role on new tenant <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/contributing/managing-issues/. --> <!-- Please replace all placeholders such as this below. -->  Describe the bug Randomly, when we create a new tenant, the system creates and assign `SiteOwner` as the admin system role.  Orchard Core version main and probably 2.1  To Reproduce It does not happen all the time. But just create a new tenant and in some cases the role changes. other-file other-file",no-bug,0.9
15308,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15308,build on Ubuntu is failing occasionally,"sometimes build is failing on Ubuntu, here it is an example: https://github.com/OrchardCMS/OrchardCore/actions/runs/7862582347/job/21452217647?pr=15305#step:6:27  fail: Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware[1] An unhandled exception has occurred while executing the request. System.ArgumentException: An item with the same key has already been added. Key: PartName at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior) at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value) at OrchardCore.ContentManagement.GraphQL.FieldTypeExtensions.WithMetaData(FieldType fieldType, String name, Object value) in /_/src/OrchardCore/OrchardCore.ContentManagement.GraphQL/Extensions/FieldTypeExtensions.cs:line [26](https://github.com/OrchardCMS/OrchardCore/actions/runs/7862582347/job/21452217647?pr=15305#step:6:27) ",other-file | other-file,"build on Ubuntu is failing occasionally sometimes build is failing on Ubuntu, here it is an example: https://github.com/OrchardCMS/OrchardCore/actions/runs/7862582347/job/21452217647?pr=15305#step:6:27  fail: Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware[1] An unhandled exception has occurred while executing the request. System.ArgumentException: An item with the same key has already been added. Key: PartName at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior) at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value) at OrchardCore.ContentManagement.GraphQL.FieldTypeExtensions.WithMetaData(FieldType fieldType, String name, Object value) in /_/src/OrchardCore/OrchardCore.ContentManagement.GraphQL/Extensions/FieldTypeExtensions.cs:line [26](https://github.com/OrchardCMS/OrchardCore/actions/runs/7862582347/job/21452217647?pr=15305#step:6:27)  other-file other-file",no-bug,0.9
13035,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13035,Role permission settings are overwritten if a tenant is started," Describe the bug Whenever a tenant is activated, the `RoleUpdater` reapplies any default permissions to the roles. This overwrites any adjustments made from the admin dashboard. This breaks all permissions assigned to specific content types, because e.g. the anonymous role is always reset.  To Reproduce Example steps to reproduce the behavior: 1. Go to security -> roles and edit the 'Anonymous' role. 2. Remove 'View' the permission from 'Content' and save. 3. Restart the web app. 4. The removed permission is added back.  Expected behavior Permission settings on roles are persisted between site restarts. This bug was introduced by PR #12510. See also bug #13024.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file,"Role permission settings are overwritten if a tenant is started  Describe the bug Whenever a tenant is activated, the `RoleUpdater` reapplies any default permissions to the roles. This overwrites any adjustments made from the admin dashboard. This breaks all permissions assigned to specific content types, because e.g. the anonymous role is always reset.  To Reproduce Example steps to reproduce the behavior: 1. Go to security -> roles and edit the 'Anonymous' role. 2. Remove 'View' the permission from 'Content' and save. 3. Restart the web app. 4. The removed permission is added back.  Expected behavior Permission settings on roles are persisted between site restarts. This bug was introduced by PR #12510. See also bug #13024. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file",no-bug,0.9
12735,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12735,Content Type Filter should only show accessible content types, Is your feature request related to a problem? Please describe. Content Type Filter should only show accessible content types  Describe the solution you'd like The user should only see content-types that he/she can view. currently all of the content types are listed even if you don't have permissions to see it. ![image](https://user-images.githubusercontent.com/24724371/198721795-a8ebcb82-8849-4f3c-a6e4-44f0a1d44837.png),other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Content Type Filter should only show accessible content types  Is your feature request related to a problem? Please describe. Content Type Filter should only show accessible content types  Describe the solution you'd like The user should only see content-types that he/she can view. currently all of the content types are listed even if you don't have permissions to see it. ![image](https://user-images.githubusercontent.com/24724371/198721795-a8ebcb82-8849-4f3c-a6e4-44f0a1d44837.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
5376,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5376,Workflow instances: Allow to sort,Workflow instances should be displayed by creation date descending and also be allowed to be sorted by date ascending.,other-file | other-file | other-file | other-file | other-file | other-file,Workflow instances: Allow to sort Workflow instances should be displayed by creation date descending and also be allowed to be sorted by date ascending. other-file other-file other-file other-file other-file other-file,no-bug,0.9
16907,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16907,Draftable checkbox cannot be disabled (Save Draft button cannot be removed),"In admin dashboard, when the editing tab of a ContentType is opened and the Draftable checkbox is removed and the ContentType is saved, Draftable remains active in any case. The output image of the form for an anonymous user has been attached. Orchard Core 2.0.2 the current version of https://try.orchardcore.net has this Issue too. ![2024-10-18 (7)](https://github.com/user-attachments/assets/ac26f651-e98c-4721-baa5-46c80b3ef20e)",other-file,"Draftable checkbox cannot be disabled (Save Draft button cannot be removed) In admin dashboard, when the editing tab of a ContentType is opened and the Draftable checkbox is removed and the ContentType is saved, Draftable remains active in any case. The output image of the form for an anonymous user has been attached. Orchard Core 2.0.2 the current version of https://try.orchardcore.net has this Issue too. ![2024-10-18 (7)](https://github.com/user-attachments/assets/ac26f651-e98c-4721-baa5-46c80b3ef20e) other-file",no-bug,0.9
15572,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15572,Content shape alternate targeting a specific item with ContentItemId," Is your feature request related to a problem? Please describe. You can override the `Content` shape of a given content item with the `Content__[Id]` alternate, which is added in [`OrchardCore.Contents.Shapes`](https://github.com/OrchardCMS/OrchardCore/blob/d524386b2f792f35773324ae482247e80a944266/src/OrchardCore.Modules/OrchardCore.Contents/Shapes.cs#L37). This is useful, but since it uses `ContentItem.Id`, i.e. the numeric ID of the item in the DB, it's not portable: an override will only apply with one specific DB, and if you move the content item (like import it) to another DB, it won't.  Describe the solution you'd like Add a new alternate, `Content__[ContentItemId]`, that uses the alphanumeric and portable `ContentItem.ContentItemId`. Also document it under https://docs.orchardcore.net/en/latest/docs/reference/modules/Templates/#content-templates. We can keep the current alternate for backward compatibility, but it shouldn't really be used, so let's keep it undocumented.  Describe alternatives you've considered Changing the existing alternate, but that would be a breaking change.",other-file | other-file,"Content shape alternate targeting a specific item with ContentItemId  Is your feature request related to a problem? Please describe. You can override the `Content` shape of a given content item with the `Content__[Id]` alternate, which is added in [`OrchardCore.Contents.Shapes`](https://github.com/OrchardCMS/OrchardCore/blob/d524386b2f792f35773324ae482247e80a944266/src/OrchardCore.Modules/OrchardCore.Contents/Shapes.cs#L37). This is useful, but since it uses `ContentItem.Id`, i.e. the numeric ID of the item in the DB, it's not portable: an override will only apply with one specific DB, and if you move the content item (like import it) to another DB, it won't.  Describe the solution you'd like Add a new alternate, `Content__[ContentItemId]`, that uses the alphanumeric and portable `ContentItem.ContentItemId`. Also document it under https://docs.orchardcore.net/en/latest/docs/reference/modules/Templates/#content-templates. We can keep the current alternate for backward compatibility, but it shouldn't really be used, so let's keep it undocumented.  Describe alternatives you've considered Changing the existing alternate, but that would be a breaking change. other-file other-file",no-bug,0.9
12106,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12106,Allow case-insensitive tenant names in ShellHost," Is your feature request related to a problem? Please describe. In a mobile version, I created a page when a user can login to a specific tenant by providing the `tenant name`, `username`, `password`. To identify which tenant the user is trying to access I user `_shellHost.TryGetSettings(tenantName, out settings)` which looks up the tenant by name. The issue here is if the user does not provide a case sensitive tenant name, the `ShellHost` does not find anything.  Describe the solution you'd like It would be helpful if user case insensitive to find tenants. We can easily achieve this by storing the tenant key as lowercase and when we get/remove the tenant we will also use lowercase so no matter what the value is, we treat it the same. @jtkech is there an issue from making this change? I can push a PR if no issue with doing this. For example the line [if (!_shellContexts.TryAdd(settings.Name, new ShellContext.PlaceHolder { Settings = settings }))] (https://github.com/OrchardCMS/OrchardCore/blob/51f0db7ac0d621fe3ecc415e707df58f81883c00/src/OrchardCore/OrchardCore/Shell/ShellHost.cs#L197) will become something like this instead `if (!_shellContexts.TryAdd(settings.Name.ToLower(), new ShellContext.PlaceHolder { Settings = settings }))` Obviosly, we have to make the same change on `TryGetValue` and `TryRemove`  Describe alternatives you've considered I did the following  private ShellSettings GetSettings(string tenantName) { if (_shellHost.TryGetSettings(tenantName, out ShellSettings settings)) { return settings; } var shells = _shellHost.ListShellContexts(); var tenant = shells.FirstOrDefault(x => x.Settings != null && x.Settings.Name.Equals(tenantName, StringComparison.OrdinalIgnoreCase)); if (tenant != null) { return tenant.Settings; } return null; } ",other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file,"Allow case-insensitive tenant names in ShellHost  Is your feature request related to a problem? Please describe. In a mobile version, I created a page when a user can login to a specific tenant by providing the `tenant name`, `username`, `password`. To identify which tenant the user is trying to access I user `_shellHost.TryGetSettings(tenantName, out settings)` which looks up the tenant by name. The issue here is if the user does not provide a case sensitive tenant name, the `ShellHost` does not find anything.  Describe the solution you'd like It would be helpful if user case insensitive to find tenants. We can easily achieve this by storing the tenant key as lowercase and when we get/remove the tenant we will also use lowercase so no matter what the value is, we treat it the same. @jtkech is there an issue from making this change? I can push a PR if no issue with doing this. For example the line [if (!_shellContexts.TryAdd(settings.Name, new ShellContext.PlaceHolder { Settings = settings }))] (https://github.com/OrchardCMS/OrchardCore/blob/51f0db7ac0d621fe3ecc415e707df58f81883c00/src/OrchardCore/OrchardCore/Shell/ShellHost.cs#L197) will become something like this instead `if (!_shellContexts.TryAdd(settings.Name.ToLower(), new ShellContext.PlaceHolder { Settings = settings }))` Obviosly, we have to make the same change on `TryGetValue` and `TryRemove`  Describe alternatives you've considered I did the following  private ShellSettings GetSettings(string tenantName) { if (_shellHost.TryGetSettings(tenantName, out ShellSettings settings)) { return settings; } var shells = _shellHost.ListShellContexts(); var tenant = shells.FirstOrDefault(x => x.Settings != null && x.Settings.Name.Equals(tenantName, StringComparison.OrdinalIgnoreCase)); if (tenant != null) { return tenant.Settings; } return null; }  other-file other-file other-file other-file other-file other-file other-file test-file",no-bug,0.9
12259,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12259,Clear alternates before morphing Stereotypes otherwise we run into infinite loop," Describe the bug In PR#12149, we added a fallback alternate for `stereotype`. To do that, new templates were added to the alternates collection. Now, anytime morphing is used with stereotype, we must `Model.Metadata.Alternates.Clear()` to avoid the infinite loop.  To Reproduce Steps to reproduce the behavior: 1. Enable Form module and Widget module. Widget 2. Create content type called `SitePage` with `FlowPart` and make it creatable 3. Try creating a new SitePage using the UI, this should cause an infinite loop and the app will crash",other-file | other-file | other-file | other-file,"Clear alternates before morphing Stereotypes otherwise we run into infinite loop  Describe the bug In PR#12149, we added a fallback alternate for `stereotype`. To do that, new templates were added to the alternates collection. Now, anytime morphing is used with stereotype, we must `Model.Metadata.Alternates.Clear()` to avoid the infinite loop.  To Reproduce Steps to reproduce the behavior: 1. Enable Form module and Widget module. Widget 2. Create content type called `SitePage` with `FlowPart` and make it creatable 3. Try creating a new SitePage using the UI, this should cause an infinite loop and the app will crash other-file other-file other-file other-file",no-bug,0.9
6584,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6584,Grammar issue,"Question from @mariojsnunes on Crowdin: > Does this phrase make sense in English? Do you mean ""The default frequency of these content types is likely to change?"" https://github.com/OrchardCMS/OrchardCore/blob/03407feab9ca06547a2d8e0d36763b5c4d93f7c1/src/OrchardCore.Modules/OrchardCore.Contents/Views/Items/ContentTypesSitemapSource.Edit.cshtml#L28",other-file | other-file,"Grammar issue Question from @mariojsnunes on Crowdin: > Does this phrase make sense in English? Do you mean ""The default frequency of these content types is likely to change?"" https://github.com/OrchardCMS/OrchardCore/blob/03407feab9ca06547a2d8e0d36763b5c4d93f7c1/src/OrchardCore.Modules/OrchardCore.Contents/Views/Items/ContentTypesSitemapSource.Edit.cshtml#L28 other-file other-file",no-bug,0.95
10680,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10680,Multiple GetMedia calls when adding a folder,"When you click OK on the new Media Folder name dialog the first thing it does after creating the new folder is emits 'beforeFolderAdded' which loads the folder we are currently on. Then it emits the 'folderAdded' which selects the new folder (triggering a load of the new folder through the watcher) It appears that both requests are in flight at the same time, and we are seeing that occasionally the beforeFolderAdded request comes in last and then makes it appear as if the new folder has all the contents of the previously selected folder. javascript bus.$on('addFolder', function (target, folder) { if (self.model == target) { bus.$emit('beforeFolderAdded', self.model); if (self.children !== null) { self.children.push(folder); } folder.parent = self.model; bus.$emit('folderAdded', folder); } });  It wasn't immediately obvious to me why we load the folder before adding a new folder. Can we just not do that? Or do we need some code to ensure we don't load the out of date data of the first request.",source-file | source-file,"Multiple GetMedia calls when adding a folder When you click OK on the new Media Folder name dialog the first thing it does after creating the new folder is emits 'beforeFolderAdded' which loads the folder we are currently on. Then it emits the 'folderAdded' which selects the new folder (triggering a load of the new folder through the watcher) It appears that both requests are in flight at the same time, and we are seeing that occasionally the beforeFolderAdded request comes in last and then makes it appear as if the new folder has all the contents of the previously selected folder. javascript bus.$on('addFolder', function (target, folder) { if (self.model == target) { bus.$emit('beforeFolderAdded', self.model); if (self.children !== null) { self.children.push(folder); } folder.parent = self.model; bus.$emit('folderAdded', folder); } });  It wasn't immediately obvious to me why we load the folder before adding a new folder. Can we just not do that? Or do we need some code to ensure we don't load the out of date data of the first request. source-file source-file",no-bug,0.85
5943,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5943,"Theme settings: Head, Foot","Replace the Meta SiteSetting by a ThemeSetting. Rename it into Head and also provide a Foot property that allows to inject script in the body footer. Properties with Liquid support and Codemirror editor. Use them in the recipes, initialize with a meta for the favicon, pointing to a file imported in media.",other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file,"Theme settings: Head, Foot Replace the Meta SiteSetting by a ThemeSetting. Rename it into Head and also provide a Foot property that allows to inject script in the body footer. Properties with Liquid support and Codemirror editor. Use them in the recipes, initialize with a meta for the favicon, pointing to a file imported in media. other-file other-file other-file other-file other-file other-file documentation-file other-file other-file documentation-file other-file other-file documentation-file other-file other-file documentation-file other-file other-file documentation-file other-file",no-bug,0.8
9776,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9776,Bootstrap-select version,bootstrap-select should stay in version 1.13.18 (as it is in the package.json). Version 1.14.0-beta2 is for Bootstrap 5 so it should not be used in cdn url in ResourceManagementOptionsConfiguration. Since 836f5171736ed8321c01dc08addf21049aec4519,other-file | other-file,Bootstrap-select version bootstrap-select should stay in version 1.13.18 (as it is in the package.json). Version 1.14.0-beta2 is for Bootstrap 5 so it should not be used in cdn url in ResourceManagementOptionsConfiguration. Since 836f5171736ed8321c01dc08addf21049aec4519 other-file other-file,no-bug,0.9
8898,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8898,Liquid don't resolves Model.Classes in widgets," Describe the bug Trying to update an existing site to latest dev, `Model.Classes` expression is evaluated to `NilValue` in widgets, wheras it's a widely used pattern in templates : liquid <article class=""{{ Model.Classes | join: "" "" }}"">  </article>  It seems to be a property white-listing issue since `Model` and `Model.ContentItem` are correctly evaluated.",other-file | other-file,"Liquid don't resolves Model.Classes in widgets  Describe the bug Trying to update an existing site to latest dev, `Model.Classes` expression is evaluated to `NilValue` in widgets, wheras it's a widely used pattern in templates : liquid <article class=""{{ Model.Classes | join: "" "" }}"">  </article>  It seems to be a property white-listing issue since `Model` and `Model.ContentItem` are correctly evaluated. other-file other-file",no-bug,0.8
12232,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12232,Change project editorconfig to use underscore (_) instead of (this.) when creating new fields," Describe the bug When injecting new service in a class constructor, VisualStudio suggest the use `this.` syntax to initialize the variable as you can see in the following screenshot. ![image](https://user-images.githubusercontent.com/24724371/185757212-75d920cf-516a-4708-8a9d-5b55a31c7285.png) When using the above suggestion, the output will look like this  public class OrchardCoreExample { private readonly IContentManager contentManager; public OrchardCoreExample(IContentManager contentManager) { this.contentManager = contentManager; } }  The above is not the style use in the OrchardCore solutions. I suggest we change the editor to the following instead ![image](https://user-images.githubusercontent.com/24724371/185757080-563e88d1-6d14-4cee-8cab-5a3c23bfdfbd.png) So the new suggested code will look like this by default  public class OrchardCoreExample { private readonly IContentManager _contentManager; public OrchardCoreExample(IContentManager contentManager) { _contentManager = contentManager; } } ",other-file,"Change project editorconfig to use underscore (_) instead of (this.) when creating new fields  Describe the bug When injecting new service in a class constructor, VisualStudio suggest the use `this.` syntax to initialize the variable as you can see in the following screenshot. ![image](https://user-images.githubusercontent.com/24724371/185757212-75d920cf-516a-4708-8a9d-5b55a31c7285.png) When using the above suggestion, the output will look like this  public class OrchardCoreExample { private readonly IContentManager contentManager; public OrchardCoreExample(IContentManager contentManager) { this.contentManager = contentManager; } }  The above is not the style use in the OrchardCore solutions. I suggest we change the editor to the following instead ![image](https://user-images.githubusercontent.com/24724371/185757080-563e88d1-6d14-4cee-8cab-5a3c23bfdfbd.png) So the new suggested code will look like this by default  public class OrchardCoreExample { private readonly IContentManager _contentManager; public OrchardCoreExample(IContentManager contentManager) { _contentManager = contentManager; } }  other-file",no-bug,0.95
16271,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16271,"Saving workflow fails when using decimal comma (,)","<!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug When saving a workflow using settings with decimal comma (,) fails.  Orchard Core version Current dev branch.  Logs and screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/49494169/b3e741e2-796d-4663-9b6d-01363e569a62)",other-file,"Saving workflow fails when using decimal comma (,) <!-- Please also see the docs on how we manage issues: https://docs.orchardcore.net/en/latest/docs/guides/contributing/managing-issues/. -->  Describe the bug When saving a workflow using settings with decimal comma (,) fails.  Orchard Core version Current dev branch.  Logs and screenshots ![image](https://github.com/OrchardCMS/OrchardCore/assets/49494169/b3e741e2-796d-4663-9b6d-01363e569a62) other-file",no-bug,0.7
5823,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5823,ContentManager.LoadAsync is not called for the content items when listing them on admin,The List action in OrchardCore.Contents/Controllers/AdminController.cs doesn't initialize content items (i.e. `_contentManager.LoadAsync(pageOfContentItems)` is missing). Is this intentional? Because of this the content handlers are also not activated.,documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,ContentManager.LoadAsync is not called for the content items when listing them on admin The List action in OrchardCore.Contents/Controllers/AdminController.cs doesn't initialize content items (i.e. `_contentManager.LoadAsync(pageOfContentItems)` is missing). Is this intentional? Because of this the content handlers are also not activated. documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
11254,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11254,Honor secured items inside a BagPart," Is your feature request related to a problem? Please describe. I want some users to be able to add content-items to a specific bag while others to only be able to view only existing items.  Describe the solution you'd like Currently, any content item contained in a `BagPart` is always editable regardless if the contained item is securable or not. In most cases this is fine. However, I think that this function should also be extended to honor the security rules when the contained item is securable. This means, a user with `EditContent` permission can add/edit items to the `BagPart` whereas user with `ViewContent` permission only should see the content item as read only version ""like preview"" but should not be able to make any change to it.  Describe alternatives you've considered override the existing `BagPartDisplayDriver`, `ContentCard.Frame.cshtml` and `BagPart.Edit.cshtml` to do the above.",other-file | other-file | other-file,"Honor secured items inside a BagPart  Is your feature request related to a problem? Please describe. I want some users to be able to add content-items to a specific bag while others to only be able to view only existing items.  Describe the solution you'd like Currently, any content item contained in a `BagPart` is always editable regardless if the contained item is securable or not. In most cases this is fine. However, I think that this function should also be extended to honor the security rules when the contained item is securable. This means, a user with `EditContent` permission can add/edit items to the `BagPart` whereas user with `ViewContent` permission only should see the content item as read only version ""like preview"" but should not be able to make any change to it.  Describe alternatives you've considered override the existing `BagPartDisplayDriver`, `ContentCard.Frame.cshtml` and `BagPart.Edit.cshtml` to do the above. other-file other-file other-file",no-bug,0.9
9485,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9485,TheBlogTheme is rendering jQuery twice since latest theme update,"`TheBlogTheme` is rendering jquery twice (just a cut and paste looks like) The manifest lists  _manifest .DefineScript(""TheBlogTheme-jQuery"") .SetCdn(""https://code.jquery.com/jquery-3.5.1.min.js"", ""https://code.jquery.com/jquery-3.5.1.js"") .SetCdnIntegrity(""sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"", ""sha384-/LjQZzcpTzaYn7qWqRIWYC5l8FWEZ2bIHIz0D73Uzba4pShEcdLdZyZkI4Kv676E"") .SetVersion(""3.5.1""); < this one _manifest .DefineScript(""TheBlogTheme-bootstrap-bundle"") .SetDependencies(""TheBlogTheme-jQuery"") .SetCdn(""https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"", ""https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.js"") .SetCdnIntegrity(""sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"", ""sha384-ZEiV3j24mJ99uunGq2LXkicfbHO18KBrDHpdTjD1NUT07kWB6B8u6U5t6UBimJ7w"") .SetVersion(""4.6.0""); _manifest .DefineStyle(""TheBlogTheme-bootstrap-oc"") .SetUrl(""~/TheBlogTheme/css/bootstrap-oc.min.css"", ""~/TheBlogTheme/css/bootstrap-oc.css"") .SetVersion(""1.0.0""); _manifest .DefineScript(""TheBlogTheme"") .SetDependencies(""jQuery"") <-- but it also depend on this one .SetUrl(""~/TheBlogTheme/js/scripts.min.js"", ""~/TheBlogTheme/js/scripts.js"") .SetVersion(""5.1.0""); <-- probably wrong version number  /cc @agriffard",other-file | other-file,"TheBlogTheme is rendering jQuery twice since latest theme update `TheBlogTheme` is rendering jquery twice (just a cut and paste looks like) The manifest lists  _manifest .DefineScript(""TheBlogTheme-jQuery"") .SetCdn(""https://code.jquery.com/jquery-3.5.1.min.js"", ""https://code.jquery.com/jquery-3.5.1.js"") .SetCdnIntegrity(""sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"", ""sha384-/LjQZzcpTzaYn7qWqRIWYC5l8FWEZ2bIHIz0D73Uzba4pShEcdLdZyZkI4Kv676E"") .SetVersion(""3.5.1""); < this one _manifest .DefineScript(""TheBlogTheme-bootstrap-bundle"") .SetDependencies(""TheBlogTheme-jQuery"") .SetCdn(""https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"", ""https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.js"") .SetCdnIntegrity(""sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"", ""sha384-ZEiV3j24mJ99uunGq2LXkicfbHO18KBrDHpdTjD1NUT07kWB6B8u6U5t6UBimJ7w"") .SetVersion(""4.6.0""); _manifest .DefineStyle(""TheBlogTheme-bootstrap-oc"") .SetUrl(""~/TheBlogTheme/css/bootstrap-oc.min.css"", ""~/TheBlogTheme/css/bootstrap-oc.css"") .SetVersion(""1.0.0""); _manifest .DefineScript(""TheBlogTheme"") .SetDependencies(""jQuery"") <-- but it also depend on this one .SetUrl(""~/TheBlogTheme/js/scripts.min.js"", ""~/TheBlogTheme/js/scripts.js"") .SetVersion(""5.1.0""); <-- probably wrong version number  /cc @agriffard other-file other-file",no-bug,0.9
8474,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8474,Login: Missing validation message,"When the user/password is not correct on the login page, there is no more error validation message displayed.",other-file,"Login: Missing validation message When the user/password is not correct on the login page, there is no more error validation message displayed. other-file",no-bug,0.7
17428,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17428,The Update Content workflow event is being invoked when the item is created," Describe the bug Using workflow, I want to notify the user that a content is created and also notify them when the content is updated. Currently, the Update event is invoked even when the content is created.  Orchard Core version <!-- Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code. -->  To Reproduce 1. Enabled the workflow and notification features 2. created a workflow as the pic below 3. create a new post ![Image](https://github.com/user-attachments/assets/c10c1ae0-5d6b-48f1-9b1e-3e020780732c)",other-file | other-file | other-file | other-file | other-file | other-file,"The Update Content workflow event is being invoked when the item is created  Describe the bug Using workflow, I want to notify the user that a content is created and also notify them when the content is updated. Currently, the Update event is invoked even when the content is created.  Orchard Core version <!-- Add the version of the Orchard Core NuGet packages you use, or the commit hash if you can reproduce this with the source code. -->  To Reproduce 1. Enabled the workflow and notification features 2. created a workflow as the pic below 3. create a new post ![Image](https://github.com/user-attachments/assets/c10c1ae0-5d6b-48f1-9b1e-3e020780732c) other-file other-file other-file other-file other-file other-file",no-bug,0.9
8027,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8027,Login screen,We should find another title for the Login screen than `Use a local account to log in.`,other-file | test-file,Login screen We should find another title for the Login screen than `Use a local account to log in.` other-file test-file,no-bug,0.95
7436,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7436,Breadcrumb link in light mode,![image](https://user-images.githubusercontent.com/703248/97562466-f4c7c180-19e1-11eb-8794-1775fe0fa9e0.png),other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Breadcrumb link in light mode ![image](https://user-images.githubusercontent.com/703248/97562466-f4c7c180-19e1-11eb-8794-1775fe0fa9e0.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
12267,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12267,Form SelectInput does not show the options editor when added to the DOM," Describe the bug When trying to add ""Select Input"" while creating a form, the option editor isn't loaded. Also, the edit button, does not open the modal that would allow you to populate the options using json. If the content is saved, and the page is loaded again then modal and the options editor works just fine.  To Reproduce Steps to reproduce the behavior: 1. Enable `OC.Flows` and `OC.Forms` module 2. Create content type `Test` with `FlowPart` and make it creatable 3. Create a new content item of type `Test`, then add ""Select Input"" widget 4. See error  Expected behavior I should be able to click on the Edit button and the modal should show up. I also should be able to add options when the Select Input is added to the DOM  Screenshots Before the content-item is saved ![image](https://user-images.githubusercontent.com/24724371/186720403-0324db59-f46e-4977-b905-b21444cce8a5.png) After the content-item is saved ![image](https://user-images.githubusercontent.com/24724371/186720844-2948ab35-4071-479e-8511-cd6ee24cb5da.png)",other-file,"Form SelectInput does not show the options editor when added to the DOM  Describe the bug When trying to add ""Select Input"" while creating a form, the option editor isn't loaded. Also, the edit button, does not open the modal that would allow you to populate the options using json. If the content is saved, and the page is loaded again then modal and the options editor works just fine.  To Reproduce Steps to reproduce the behavior: 1. Enable `OC.Flows` and `OC.Forms` module 2. Create content type `Test` with `FlowPart` and make it creatable 3. Create a new content item of type `Test`, then add ""Select Input"" widget 4. See error  Expected behavior I should be able to click on the Edit button and the modal should show up. I also should be able to add options when the Select Input is added to the DOM  Screenshots Before the content-item is saved ![image](https://user-images.githubusercontent.com/24724371/186720403-0324db59-f46e-4977-b905-b21444cce8a5.png) After the content-item is saved ![image](https://user-images.githubusercontent.com/24724371/186720844-2948ab35-4071-479e-8511-cd6ee24cb5da.png) other-file",no-bug,0.9
11966,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11966,Fix Taxonomies docs," Describe the bug In the [Taxonomies docs](https://docs.orchardcore.net/en/latest/docs/reference/modules/Taxonomies/) states the following code to render terms with `Categories` taxonomies with `Categories` alias. `<shape type=""Term"" alias=""Categories"" />` But the example should read `<shape type=""Term"" alias=""alias:Categories"" />` instead",documentation-file | documentation-file,"Fix Taxonomies docs  Describe the bug In the [Taxonomies docs](https://docs.orchardcore.net/en/latest/docs/reference/modules/Taxonomies/) states the following code to render terms with `Categories` taxonomies with `Categories` alias. `<shape type=""Term"" alias=""Categories"" />` But the example should read `<shape type=""Term"" alias=""alias:Categories"" />` instead documentation-file documentation-file",no-bug,0.95
8967,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8967,Recipe enabling a module throws `SqliteException: SQLite Error 1: 'no such table: WorkflowTypeIndex'.`, Describe the bug Getting this exception when executing a recipe that enables the `OrchardCore.Workflows.Http` module. Orchard version `1.0.0-rc2-15907`  To Reproduce Steps to reproduce the behavior: 1. Run our codebase: https://github.com/StatCan/StatCan.OrchardCore 2. Setup the site with the `HackathonTheme` setup recipe using SQLite 3. Go to the admin site and execute the `Contact form example` recipe from the Recipes admin page 4. Exception occurs. All requests fail. 5. Restart the site 6. Exception is gone but recipe did not fully complete 7. Run the `Contact form example` recipe a second time 8. Executes properly  Expected behavior No exception is thrown when the recipe enables the `OrchardCore.Workflows.Http` module. Here is the recipe: https://github.com/StatCan/StatCan.OrchardCore/blob/056ccbf797d5e9ab79883e602e9bac149dfb4e99/src/Modules/StatCan.OrchardCore.VueForms/Recipes/ContactForm.recipe.json#L17 Setup recipe: https://github.com/StatCan/StatCan.OrchardCore/blob/5249e65dd61eeb1406b8db356773827d6a7071ef/src/Themes/HackathonTheme/Recipes/hackathon.setup.recipe.json#L11 /cc @jtkech,other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file | test-file | test-file,Recipe enabling a module throws `SqliteException: SQLite Error 1: 'no such table: WorkflowTypeIndex'.`  Describe the bug Getting this exception when executing a recipe that enables the `OrchardCore.Workflows.Http` module. Orchard version `1.0.0-rc2-15907`  To Reproduce Steps to reproduce the behavior: 1. Run our codebase: https://github.com/StatCan/StatCan.OrchardCore 2. Setup the site with the `HackathonTheme` setup recipe using SQLite 3. Go to the admin site and execute the `Contact form example` recipe from the Recipes admin page 4. Exception occurs. All requests fail. 5. Restart the site 6. Exception is gone but recipe did not fully complete 7. Run the `Contact form example` recipe a second time 8. Executes properly  Expected behavior No exception is thrown when the recipe enables the `OrchardCore.Workflows.Http` module. Here is the recipe: https://github.com/StatCan/StatCan.OrchardCore/blob/056ccbf797d5e9ab79883e602e9bac149dfb4e99/src/Modules/StatCan.OrchardCore.VueForms/Recipes/ContactForm.recipe.json#L17 Setup recipe: https://github.com/StatCan/StatCan.OrchardCore/blob/5249e65dd61eeb1406b8db356773827d6a7071ef/src/Themes/HackathonTheme/Recipes/hackathon.setup.recipe.json#L11 /cc @jtkech other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file test-file test-file,no-bug,0.9
15077,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15077,Possibility of disabling Redis SSL/TLS certificate validation,"We'd like to use ""Heroku Data for Redis"", which offers Redis connections with and without TLS. However, the server certificate is self-signed and the Heroku documentation states you have to disable certificate verification. This can't be done with the connection string, according to StackOverflow answers it can only be done by changing the StackExchange.Redis connection options after parsing but before connecting. But I can't find a way to do that in Orchard Core. Could it be done, or are we stuck with unencrypted Redis connections?",documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file,"Possibility of disabling Redis SSL/TLS certificate validation We'd like to use ""Heroku Data for Redis"", which offers Redis connections with and without TLS. However, the server certificate is self-signed and the Heroku documentation states you have to disable certificate verification. This can't be done with the connection string, according to StackOverflow answers it can only be done by changing the StackExchange.Redis connection options after parsing but before connecting. But I can't find a way to do that in Orchard Core. Could it be done, or are we stuck with unencrypted Redis connections? documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file documentation-file other-file",no-bug,0.9
9044,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9044,Fix border top issue with list-group in Features list,When filtering the features list some border-top are not diplaying on the list-group(s). ![image](https://user-images.githubusercontent.com/3228637/113451475-0c133c80-93d0-11eb-9004-ad2d2f7d1f35.png) Apply the same technique used on the Content Type and Content Part list pages.,other-file | other-file,Fix border top issue with list-group in Features list When filtering the features list some border-top are not diplaying on the list-group(s). ![image](https://user-images.githubusercontent.com/3228637/113451475-0c133c80-93d0-11eb-9004-ad2d2f7d1f35.png) Apply the same technique used on the Content Type and Content Part list pages. other-file other-file,no-bug,0.95
5716,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5716,Bug - html body text box in bag,In a bag I enter the htmlbody content. Then I save the item. If I refresh and come back to the page and open the bag item the htmlbody is empty. But as soon as a I click inside the text box the text will show up.,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Bug - html body text box in bag In a bag I enter the htmlbody content. Then I save the item. If I refresh and come back to the page and open the bag item the htmlbody is empty. But as soon as a I click inside the text box the text will show up. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
13717,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13717,Remove font-awesome 6.4 CDN from resources," Describe the bug font-awesome 6.4 does not have a CDN but one is defined in the resources. Instead, maybe use the local resource using `.SetUrl()` https://www.jsdelivr.com/package/npm/@fortawesome/fontawesome-free When I used font 6.4 in production, I get issue with the integrity token @agriffard",other-file | other-file,"Remove font-awesome 6.4 CDN from resources  Describe the bug font-awesome 6.4 does not have a CDN but one is defined in the resources. Instead, maybe use the local resource using `.SetUrl()` https://www.jsdelivr.com/package/npm/@fortawesome/fontawesome-free When I used font 6.4 in production, I get issue with the integrity token @agriffard other-file other-file",no-bug,0.9
11870,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11870,Ability to enable/disable feature for Tenant from Host," Is your feature request related to a problem? Please describe. I want to create a tenant with the following features disabled `OrchardCore.Features` , `OrchardCore.Workflows` and `OrchardCore.Deployments`. I have a SaaS environment and I want to be able to manage the tenant's features from the host.  Describe the solution you'd like Create a new feature that would allow the host admin to enable/disable features for tenants.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Ability to enable/disable feature for Tenant from Host  Is your feature request related to a problem? Please describe. I want to create a tenant with the following features disabled `OrchardCore.Features` , `OrchardCore.Workflows` and `OrchardCore.Deployments`. I have a SaaS environment and I want to be able to manage the tenant's features from the host.  Describe the solution you'd like Create a new feature that would allow the host admin to enable/disable features for tenants. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
15169,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15169,Removing content item with enabled Amazon S3 storage provider causes exepton in logs," Describe the bug I have setup of OrchardCore with enabled Amazon S3 storage provider. when I delete any content item in system I see an error related to S3 call in logs. This error does not affect any functionality but looks unnecessary. OrchardCore.Media module has AttachedMediaFieldContentHandler that reacts on content deletion and tries to delete related media files if exists. Call passed through AttachedMediaFieldFileService > DefaultMediaFileStore > AwsFileStorage.TryDeleteDirectoryAsync. TryDeleteDirectoryAsync method first tries to retrieve any objects related to specific path, and then makes call to DeleteObjectsAsync to remove them. But in case if there are no objects exist for removal, DeleteObjectsAsync call still executes (with empty list of objects to delete) and results in an error.  To Reproduce Steps to reproduce the behavior: 1. Run OC on the latest main commit 2. Set up the site with any recipe 3. Enable the Amazon Media Storage feature and configure it 4. Create any content item. 5. Delete item created on step 4  Expected behavior The are no errors in logs.  Actual behavior I see error in logs:  ""IContentHandler"" thrown from ""OrchardCore.Media.Handlers.AttachedMediaFieldContentHandler"" by ""AmazonS3Exception"""", Amazon.S3.AmazonS3Exception: The XML you provided was not well-formed or did not validate against our published schema Amazon.Runtime.Internal.HttpErrorResponseException: Exception of type 'Amazon.Runtime.Internal.HttpErrorResponseException' was thrown. at Amazon.Runtime.HttpWebRequestMessage.GetResponseAsync(CancellationToken cancellationToken) at Amazon.Runtime.Internal.HttpHandler`1.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.RedirectHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.Unmarshaller.InvokeAsync[T](IExecutionContext executionContext) at Amazon.S3.Internal.AmazonS3ResponseHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.ErrorHandler.InvokeAsync[T](IExecutionContext executionContext)  End of inner exception stack trace -- at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleExceptionStream(IRequestContext requestContext, IWebResponseData httpErrorResponse, HttpErrorResponseException exception, Stream responseStream) at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleExceptionAsync(IExecutionContext executionContext, HttpErrorResponseException exception) at Amazon.Runtime.Internal.ExceptionHandler`1.HandleAsync(IExecutionContext executionContext, Exception exception) at Amazon.Runtime.Internal.ErrorHandler.ProcessExceptionAsync(IExecutionContext executionContext, Exception exception) at Amazon.Runtime.Internal.ErrorHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.Signer.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.EndpointDiscoveryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.EndpointDiscoveryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CredentialsRetriever.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.RetryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.RetryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.S3.Internal.AmazonS3ExceptionHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.ErrorCallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.MetricsHandler.InvokeAsync[T](IExecutionContext executionContext) at OrchardCore.FileStorage.AmazonS3.AwsFileStore.TryDeleteDirectoryAsync(String path) at OrchardCore.Media.Core.DefaultMediaFileStore.TryDeleteDirectoryAsync(String path) at OrchardCore.Media.Handlers.AttachedMediaFieldContentHandler.RemovedAsync(RemoveContentContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger) ",other-file | other-file | other-file,"Removing content item with enabled Amazon S3 storage provider causes exepton in logs  Describe the bug I have setup of OrchardCore with enabled Amazon S3 storage provider. when I delete any content item in system I see an error related to S3 call in logs. This error does not affect any functionality but looks unnecessary. OrchardCore.Media module has AttachedMediaFieldContentHandler that reacts on content deletion and tries to delete related media files if exists. Call passed through AttachedMediaFieldFileService > DefaultMediaFileStore > AwsFileStorage.TryDeleteDirectoryAsync. TryDeleteDirectoryAsync method first tries to retrieve any objects related to specific path, and then makes call to DeleteObjectsAsync to remove them. But in case if there are no objects exist for removal, DeleteObjectsAsync call still executes (with empty list of objects to delete) and results in an error.  To Reproduce Steps to reproduce the behavior: 1. Run OC on the latest main commit 2. Set up the site with any recipe 3. Enable the Amazon Media Storage feature and configure it 4. Create any content item. 5. Delete item created on step 4  Expected behavior The are no errors in logs.  Actual behavior I see error in logs:  ""IContentHandler"" thrown from ""OrchardCore.Media.Handlers.AttachedMediaFieldContentHandler"" by ""AmazonS3Exception"""", Amazon.S3.AmazonS3Exception: The XML you provided was not well-formed or did not validate against our published schema Amazon.Runtime.Internal.HttpErrorResponseException: Exception of type 'Amazon.Runtime.Internal.HttpErrorResponseException' was thrown. at Amazon.Runtime.HttpWebRequestMessage.GetResponseAsync(CancellationToken cancellationToken) at Amazon.Runtime.Internal.HttpHandler`1.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.RedirectHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.Unmarshaller.InvokeAsync[T](IExecutionContext executionContext) at Amazon.S3.Internal.AmazonS3ResponseHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.ErrorHandler.InvokeAsync[T](IExecutionContext executionContext)  End of inner exception stack trace -- at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleExceptionStream(IRequestContext requestContext, IWebResponseData httpErrorResponse, HttpErrorResponseException exception, Stream responseStream) at Amazon.Runtime.Internal.HttpErrorResponseExceptionHandler.HandleExceptionAsync(IExecutionContext executionContext, HttpErrorResponseException exception) at Amazon.Runtime.Internal.ExceptionHandler`1.HandleAsync(IExecutionContext executionContext, Exception exception) at Amazon.Runtime.Internal.ErrorHandler.ProcessExceptionAsync(IExecutionContext executionContext, Exception exception) at Amazon.Runtime.Internal.ErrorHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.Signer.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.EndpointDiscoveryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.EndpointDiscoveryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CredentialsRetriever.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.RetryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.RetryHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.CallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.S3.Internal.AmazonS3ExceptionHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.ErrorCallbackHandler.InvokeAsync[T](IExecutionContext executionContext) at Amazon.Runtime.Internal.MetricsHandler.InvokeAsync[T](IExecutionContext executionContext) at OrchardCore.FileStorage.AmazonS3.AwsFileStore.TryDeleteDirectoryAsync(String path) at OrchardCore.Media.Core.DefaultMediaFileStore.TryDeleteDirectoryAsync(String path) at OrchardCore.Media.Handlers.AttachedMediaFieldContentHandler.RemovedAsync(RemoveContentContext context) at OrchardCore.Modules.InvokeExtensions.InvokeAsync[TEvents,T1](IEnumerable`1 events, Func`3 dispatch, T1 arg1, ILogger logger)  other-file other-file other-file",no-bug,0.9
7225,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7225,HTML Semantics issue : confirm modals,![image](https://user-images.githubusercontent.com/3228637/95414544-1f9b8a00-08fc-11eb-9f50-aedbaf494d67.png) On all our confirm modals we need to change this to use a different attribute (maybe data-action) as we are not using itemprop as it should. /cc @jptissot,other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | test-file,HTML Semantics issue : confirm modals ![image](https://user-images.githubusercontent.com/3228637/95414544-1f9b8a00-08fc-11eb-9f50-aedbaf494d67.png) On all our confirm modals we need to change this to use a different attribute (maybe data-action) as we are not using itemprop as it should. /cc @jptissot other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file test-file,no-bug,0.9
6272,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6272,FileSystemStore issues,"When getting file system info a relative path is passed to the FileSystemStoreEntry. csharp public Task<IFileStoreEntry> GetFileInfoAsync(string path) { var physicalPath = GetPhysicalPath(path); var fileInfo = new PhysicalFileInfo(new FileInfo(physicalPath)); if (fileInfo.Exists) { return Task.FromResult<IFileStoreEntry>(new FileSystemStoreEntry(path, fileInfo)); } return Task.FromResult<IFileStoreEntry>(null); }  When calling csharp public Task<Stream> GetFileStreamAsync(IFileStoreEntry fileStoreEntry) { if (!File.Exists(fileStoreEntry.Path)) { throw new FileStoreException($""Cannot get file stream because the file '{fileStoreEntry.Path}' does not exist.""); } var stream = File.OpenRead(fileStoreEntry.Path); return Task.FromResult<Stream>(stream); }  File operations are made with relative path. I think path must be converted to physical one or in FileStoreEntry ctor a physical one should be passed.",other-file,"FileSystemStore issues When getting file system info a relative path is passed to the FileSystemStoreEntry. csharp public Task<IFileStoreEntry> GetFileInfoAsync(string path) { var physicalPath = GetPhysicalPath(path); var fileInfo = new PhysicalFileInfo(new FileInfo(physicalPath)); if (fileInfo.Exists) { return Task.FromResult<IFileStoreEntry>(new FileSystemStoreEntry(path, fileInfo)); } return Task.FromResult<IFileStoreEntry>(null); }  When calling csharp public Task<Stream> GetFileStreamAsync(IFileStoreEntry fileStoreEntry) { if (!File.Exists(fileStoreEntry.Path)) { throw new FileStoreException($""Cannot get file stream because the file '{fileStoreEntry.Path}' does not exist.""); } var stream = File.OpenRead(fileStoreEntry.Path); return Task.FromResult<Stream>(stream); }  File operations are made with relative path. I think path must be converted to physical one or in FileStoreEntry ctor a physical one should be passed. other-file",no-bug,0.9
16027,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16027,Remove `VersionOptions.AllVersions`,"For an explanation, see comments below from https://github.com/OrchardCMS/OrchardCore/issues/16027#issuecomment-2115840661. We should remove `VersionOptions.AllVersions`. The original issue below is kept for context.  Describe the bug The method `_contentManager.GetAsync(model.ContentItemId, VersionOptions.AllVersions)` **fails to return any content items, whether published or draft.** When debugging in Visual Studio with ""Just my code"" disabled, execution enters the condition `else if (options.IsDraft || options.IsDraftRequired)` in `DefaultContentManager` [here](https://github.com/OrchardCMS/OrchardCore/blob/be675b3e1805f3a7b30afff9ceab747719ca9091/src/OrchardCore/OrchardCore.ContentManagement/DefaultContentManager.cs#L189). I'm unsure why this condition is satisfied, given that my content item is published and the boolean `IsDraft` and `IsDraftRequired` are set to `false`. Screenshots are provided for reference.  To Reproduce Steps to reproduce the behavior: 1. Use Orchard Core 1.8.3 2. Activate the ""Content Fields Indexing (SQL)"" feature (I have it active) 3. Create a Content Item and publish it 4. In a controller, use `IContentManager` from dependency injection to retrieve the Content Item by its ID with `VersionOptions.AllVersions` set, like this: `_contentManager.GetAsync(model.ContentItemId, VersionOptions.AllVersions)` 5. Execute the code to verify whether a Content Item is returned  Expected behavior A published or drafted Content Item must be returned when I set `VersionOptions.AllVersions`  Screenshots My Content Item: ![image](https://github.com/OrchardCMS/OrchardCore/assets/19241483/f6c0ddb3-b880-4d60-84ec-f6c1be2ed8f5) `IsDraft` and `IsDraftRequired` are false, why the condition is satisfied? ![image](https://github.com/OrchardCMS/OrchardCore/assets/19241483/1bc59f0a-0ca7-47eb-8f51-06577734fda2)",other-file,"Remove `VersionOptions.AllVersions` For an explanation, see comments below from https://github.com/OrchardCMS/OrchardCore/issues/16027#issuecomment-2115840661. We should remove `VersionOptions.AllVersions`. The original issue below is kept for context.  Describe the bug The method `_contentManager.GetAsync(model.ContentItemId, VersionOptions.AllVersions)` **fails to return any content items, whether published or draft.** When debugging in Visual Studio with ""Just my code"" disabled, execution enters the condition `else if (options.IsDraft || options.IsDraftRequired)` in `DefaultContentManager` [here](https://github.com/OrchardCMS/OrchardCore/blob/be675b3e1805f3a7b30afff9ceab747719ca9091/src/OrchardCore/OrchardCore.ContentManagement/DefaultContentManager.cs#L189). I'm unsure why this condition is satisfied, given that my content item is published and the boolean `IsDraft` and `IsDraftRequired` are set to `false`. Screenshots are provided for reference.  To Reproduce Steps to reproduce the behavior: 1. Use Orchard Core 1.8.3 2. Activate the ""Content Fields Indexing (SQL)"" feature (I have it active) 3. Create a Content Item and publish it 4. In a controller, use `IContentManager` from dependency injection to retrieve the Content Item by its ID with `VersionOptions.AllVersions` set, like this: `_contentManager.GetAsync(model.ContentItemId, VersionOptions.AllVersions)` 5. Execute the code to verify whether a Content Item is returned  Expected behavior A published or drafted Content Item must be returned when I set `VersionOptions.AllVersions`  Screenshots My Content Item: ![image](https://github.com/OrchardCMS/OrchardCore/assets/19241483/f6c0ddb3-b880-4d60-84ec-f6c1be2ed8f5) `IsDraft` and `IsDraftRequired` are false, why the condition is satisfied? ![image](https://github.com/OrchardCMS/OrchardCore/assets/19241483/1bc59f0a-0ca7-47eb-8f51-06577734fda2) other-file",no-bug,0.9
14404,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/14404,Minor AdminTheme issues on small screen,We still see the part of the page under the left menu ![Mobile 2](https://github.com/OrchardCMS/OrchardCore/assets/8586360/68dafdd0-5444-4ef4-a329-ed3fff173ca6) No left margin ![Mobile 1](https://github.com/OrchardCMS/OrchardCore/assets/8586360/6f80977f-2c04-4dd6-bb22-de258501152d),other-file | other-file | other-file | other-file | other-file,Minor AdminTheme issues on small screen We still see the part of the page under the left menu ![Mobile 2](https://github.com/OrchardCMS/OrchardCore/assets/8586360/68dafdd0-5444-4ef4-a329-ed3fff173ca6) No left margin ![Mobile 1](https://github.com/OrchardCMS/OrchardCore/assets/8586360/6f80977f-2c04-4dd6-bb22-de258501152d) other-file other-file other-file other-file other-file,no-bug,0.95
17437,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17437,Required taxonomy fields doesn't present invalid state consistently with other fields," Describe the bug When taxonomy fields are added into content type and required property is set to true, then backend validation occurs and model state error is added into errors. But the error is not correctly bound to the model property, but on the root of the model. So the UI shows error only in validation summary and not under each taxonomy field.  Orchard Core version 2.1.4 but I believe it is from the begging of the taxonomy module.  To Reproduce 1. Enable taxonomy feature 2. Create new content type for taxonomy item 3. Create new taxonomy using taxonomy item type 4. Add 2 items into new taxonomy 5. Create new content type and add 3 taxonomy fields with required settings each with different display settings: one unique with standard view for radio buttons, second with multiple choice and standard view for checkboxes, third with multiple and tags view 6. Create new instance of content type with 3 taxonomy fields and send it without settings any taxonomy item 7. There will be errors in summary but not below the each taxonomy fields. And there is no red border showing that the field is in error state like it is done i other content fields.  Expected behavior Expected behavior is to show validation error message for each invalid taxonomy field and also there should be red border showing invalid state.  Logs and screenshots Current state after doing repro steps ![Image](https://github.com/user-attachments/assets/6d57bec5-11b7-424d-a8c3-55416b093c38) Expected behavior ![Image](https://github.com/user-attachments/assets/46c8981d-a7e7-4b0b-9c18-505cd686385e)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Required taxonomy fields doesn't present invalid state consistently with other fields  Describe the bug When taxonomy fields are added into content type and required property is set to true, then backend validation occurs and model state error is added into errors. But the error is not correctly bound to the model property, but on the root of the model. So the UI shows error only in validation summary and not under each taxonomy field.  Orchard Core version 2.1.4 but I believe it is from the begging of the taxonomy module.  To Reproduce 1. Enable taxonomy feature 2. Create new content type for taxonomy item 3. Create new taxonomy using taxonomy item type 4. Add 2 items into new taxonomy 5. Create new content type and add 3 taxonomy fields with required settings each with different display settings: one unique with standard view for radio buttons, second with multiple choice and standard view for checkboxes, third with multiple and tags view 6. Create new instance of content type with 3 taxonomy fields and send it without settings any taxonomy item 7. There will be errors in summary but not below the each taxonomy fields. And there is no red border showing that the field is in error state like it is done i other content fields.  Expected behavior Expected behavior is to show validation error message for each invalid taxonomy field and also there should be red border showing invalid state.  Logs and screenshots Current state after doing repro steps ![Image](https://github.com/user-attachments/assets/6d57bec5-11b7-424d-a8c3-55416b093c38) Expected behavior ![Image](https://github.com/user-attachments/assets/46c8981d-a7e7-4b0b-9c18-505cd686385e) other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
10190,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10190,Can't get access token via email address as user name," Describe the bug  To Reproduce Get access token via POST https://localhost:44391/connect/token - grant_type - scope - username - password - client_id If I use the user name, It works. However, if I use user email. It doesn't work.  Expected behavior - According to this discussion thread: https://github.com/OrchardCMS/OrchardCore/pull/7645. There is a change to not allow the username = email. However, there should be a fallback to authenticate by username or email. - I expect I can use username or email as to login.  Screenshots ![image](https://user-images.githubusercontent.com/11371581/131404090-dc0ab09c-5269-479f-8dd4-b5fe8b3ffb43.png)",other-file | other-file | other-file | other-file | other-file,"Can't get access token via email address as user name  Describe the bug  To Reproduce Get access token via POST https://localhost:44391/connect/token - grant_type - scope - username - password - client_id If I use the user name, It works. However, if I use user email. It doesn't work.  Expected behavior - According to this discussion thread: https://github.com/OrchardCMS/OrchardCore/pull/7645. There is a change to not allow the username = email. However, there should be a fallback to authenticate by username or email. - I expect I can use username or email as to login.  Screenshots ![image](https://user-images.githubusercontent.com/11371581/131404090-dc0ab09c-5269-479f-8dd4-b5fe8b3ffb43.png) other-file other-file other-file other-file other-file",bug,0.9
12408,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12408,Sort permission by Descriptions instead on a name in Roles UI," Is your feature request related to a problem? Please describe. Currently, we sort permission by `Name` which it isn't something visible to the users. When the description is different than, permissions won't show up in alphabetical order because we sort by `name` by show `description`  Describe the solution you'd like To sort them properly, they should be sorted by `Description` property instead since that is what the users see or care about. The following screenshot is an example of how sorting by `Name` does not work well. As you can see the permission ""Assign users"" permission is showing up after the ""Manage"". The reason in this case the permissions are not showing up as expected is because the permission ""Assign any role"" has a name of `AssignRole`. However, `Assign users to ` has a name of `ManageUsersInRole`. ![image](https://user-images.githubusercontent.com/24724371/190420765-036fd606-c8c0-4e0e-81e0-105c5c7aa295.png)",other-file | other-file,"Sort permission by Descriptions instead on a name in Roles UI  Is your feature request related to a problem? Please describe. Currently, we sort permission by `Name` which it isn't something visible to the users. When the description is different than, permissions won't show up in alphabetical order because we sort by `name` by show `description`  Describe the solution you'd like To sort them properly, they should be sorted by `Description` property instead since that is what the users see or care about. The following screenshot is an example of how sorting by `Name` does not work well. As you can see the permission ""Assign users"" permission is showing up after the ""Manage"". The reason in this case the permissions are not showing up as expected is because the permission ""Assign any role"" has a name of `AssignRole`. However, `Assign users to ` has a name of `ManageUsersInRole`. ![image](https://user-images.githubusercontent.com/24724371/190420765-036fd606-c8c0-4e0e-81e0-105c5c7aa295.png) other-file other-file",no-bug,0.95
7801,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7801,Shortcodes categories: Order alphabetically,![image](https://user-images.githubusercontent.com/703248/100526800-9fdbbe80-31cc-11eb-89be-2f1c25a42a80.png),other-file | other-file,Shortcodes categories: Order alphabetically ![image](https://user-images.githubusercontent.com/703248/100526800-9fdbbe80-31cc-11eb-89be-2f1c25a42a80.png) other-file other-file,no-bug,0.9
16932,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16932,IUserTimeZoneService no longer caches user requests,"this pr #16614 has made some changes to how the users time zones are cached which makes the cache useless. this code in `UserTimeZoneSelector` now retrieves the current user on every request, before trying to get a timezone for the user. (or in fact if a timezone calcation is done more than once on a page, which is a common usage, then it queries for the user multiple times)  var currentUser = await _userManager.GetUserAsync(_httpContextAccessor.HttpContext.User);  the previous arrangement where `UserTimeZoneService` held the cache for the database query to lookup the user (to get their timezone) was a useful cache. Now it's irrelevant, because the componet calling into that cache is doing all the work.",other-file | other-file | other-file | other-file,"IUserTimeZoneService no longer caches user requests this pr #16614 has made some changes to how the users time zones are cached which makes the cache useless. this code in `UserTimeZoneSelector` now retrieves the current user on every request, before trying to get a timezone for the user. (or in fact if a timezone calcation is done more than once on a page, which is a common usage, then it queries for the user multiple times)  var currentUser = await _userManager.GetUserAsync(_httpContextAccessor.HttpContext.User);  the previous arrangement where `UserTimeZoneService` held the cache for the database query to lookup the user (to get their timezone) was a useful cache. Now it's irrelevant, because the componet calling into that cache is doing all the work. other-file other-file other-file other-file",no-bug,0.9
5317,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5317,Menu Preview,"When you edit a menu, open the preview window and order the menu items, the menu is not updated on the preview.",documentation-file | documentation-file | documentation-file,"Menu Preview When you edit a menu, open the preview window and order the menu items, the menu is not updated on the preview. documentation-file documentation-file documentation-file",no-bug,0.9
11597,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11597,ShapeViewModel should have an overload that would accept the ShapeType, Is your feature request related to a problem? Please describe. I need to create a shape manually using [ShapeViewModel<>](https://github.com/OrchardCMS/OrchardCore/blob/339d74b251b53393dd510f8ad3027aa17d78500d/src/OrchardCore/OrchardCore.DisplayManagement/Views/ShapeViewModelOfT.cs#L5) directly. I had to do that in 2 steps 1. initialize mt shape 2. Set the Type on the Metadata object.  Describe the solution you'd like I think `ShapeViewModelOfT` should have an overload constructor that would allow the consumer to provider a custom `shapeType`. I think we may want to event set the `Metadata.Type` on the current constructor so the Type is set by default.,other-file,ShapeViewModel should have an overload that would accept the ShapeType  Is your feature request related to a problem? Please describe. I need to create a shape manually using [ShapeViewModel<>](https://github.com/OrchardCMS/OrchardCore/blob/339d74b251b53393dd510f8ad3027aa17d78500d/src/OrchardCore/OrchardCore.DisplayManagement/Views/ShapeViewModelOfT.cs#L5) directly. I had to do that in 2 steps 1. initialize mt shape 2. Set the Type on the Metadata object.  Describe the solution you'd like I think `ShapeViewModelOfT` should have an overload constructor that would allow the consumer to provider a custom `shapeType`. I think we may want to event set the `Metadata.Type` on the current constructor so the Type is set by default. other-file,no-bug,0.95
5233,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5233,"Lucene index creation from a recipe, in a module: SQLite Error 6: 'database schema is locked: main'.","Hi all, I'm having an issue when I try t o run a recipe that contains the instructions to create a Lucene's index. I'm working on dev branch and after lasts commit I have seen some news in the Lucene's index creation code inside the recipe. I have updated my recipes inside my modules like this:  { ""name"": ""lucene-index"", ""Indices"": [ { ""BoxLinks"": { ""AnalyzerName"": ""standardanalyzer"", ""IndexLatest"": false, ""IndexedContentTypes"": [ ""BoxLink"" ] } } ] }  But when I try to setup a new site I receive this error:  OrchardCore.Data.Migration.DataMigrationManager|ERROR|Error while running migration version 0 for 'BoxLink'. Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 6: 'database schema is locked: main'. at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db) at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteDataReader.NextResult() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior) at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery() at Microsoft.Data.Sqlite.SqliteConnectionExtensions.ExecuteNonQuery(SqliteConnection connection, String commandText, SqliteParameter[] parameters) at Microsoft.Data.Sqlite.SqliteTransaction..ctor(SqliteConnection connection, IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginTransaction(IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginDbTransaction(IsolationLevel isolationLevel) at System.Data.Common.DbConnection.BeginTransaction(IsolationLevel isolationLevel) at YesSql.Session.DemandAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Lucene.LuceneIndexSettingsService.LoadDocumentAsync(ISession session) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 121 at OrchardCore.Lucene.LuceneIndexSettingsService.UpdateIndexAsync(LuceneIndexSettings settings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 95 at OrchardCore.Lucene.LuceneIndexingService.CreateIndexAsync(LuceneIndexSettings indexSettings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexingService.cs:line 243 at OrchardCore.Lucene.Recipes.LuceneIndexStep.ExecuteAsync(RecipeExecutionContext context) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Recipes\LuceneIndexStep.cs:line 46 at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass12_0.<<ExecuteStepAsync>b__0>d.MoveNext() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 175  End of stack trace from previous location where exception was thrown  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 195 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 156 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 100 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 118 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 146 at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeMigrator.cs:line 41 at It.Csc.OrchardCorePA.Content.BoxLink.Migrations.CreateAsync() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCorePA\Modules\It.Csc.OrchardCorePA.Content.BoxLink\Migrations.cs:line 33 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Data\Migration\DataMigrationManager.cs:line 207 at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db) at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteDataReader.NextResult() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior) at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery() at Microsoft.Data.Sqlite.SqliteConnectionExtensions.ExecuteNonQuery(SqliteConnection connection, String commandText, SqliteParameter[] parameters) at Microsoft.Data.Sqlite.SqliteTransaction..ctor(SqliteConnection connection, IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginTransaction(IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginDbTransaction(IsolationLevel isolationLevel) at System.Data.Common.DbConnection.BeginTransaction(IsolationLevel isolationLevel) at YesSql.Session.DemandAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Lucene.LuceneIndexSettingsService.LoadDocumentAsync(ISession session) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 121 at OrchardCore.Lucene.LuceneIndexSettingsService.UpdateIndexAsync(LuceneIndexSettings settings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 95 at OrchardCore.Lucene.LuceneIndexingService.CreateIndexAsync(LuceneIndexSettings indexSettings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexingService.cs:line 243 at OrchardCore.Lucene.Recipes.LuceneIndexStep.ExecuteAsync(RecipeExecutionContext context) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Recipes\LuceneIndexStep.cs:line 46 at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass12_0.<<ExecuteStepAsync>b__0>d.MoveNext() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 175  End of stack trace from previous location where exception was thrown  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 195 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 156 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 100 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 118 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 146 at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeMigrator.cs:line 41 at It.Csc.OrchardCorePA.Content.BoxLink.Migrations.CreateAsync() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCorePA\Modules\It.Csc.OrchardCorePA.Content.BoxLink\Migrations.cs:line 33 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Data\Migration\DataMigrationManager.cs:line 207  Hope this can be an useful report. I'm trying to understand what is going wrong, but I miss some OC's meetings in the Christmas time and I believe to have lost something important .",other-file | other-file | other-file,"Lucene index creation from a recipe, in a module: SQLite Error 6: 'database schema is locked: main'. Hi all, I'm having an issue when I try t o run a recipe that contains the instructions to create a Lucene's index. I'm working on dev branch and after lasts commit I have seen some news in the Lucene's index creation code inside the recipe. I have updated my recipes inside my modules like this:  { ""name"": ""lucene-index"", ""Indices"": [ { ""BoxLinks"": { ""AnalyzerName"": ""standardanalyzer"", ""IndexLatest"": false, ""IndexedContentTypes"": [ ""BoxLink"" ] } } ] }  But when I try to setup a new site I receive this error:  OrchardCore.Data.Migration.DataMigrationManager|ERROR|Error while running migration version 0 for 'BoxLink'. Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 6: 'database schema is locked: main'. at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db) at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteDataReader.NextResult() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior) at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery() at Microsoft.Data.Sqlite.SqliteConnectionExtensions.ExecuteNonQuery(SqliteConnection connection, String commandText, SqliteParameter[] parameters) at Microsoft.Data.Sqlite.SqliteTransaction..ctor(SqliteConnection connection, IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginTransaction(IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginDbTransaction(IsolationLevel isolationLevel) at System.Data.Common.DbConnection.BeginTransaction(IsolationLevel isolationLevel) at YesSql.Session.DemandAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Lucene.LuceneIndexSettingsService.LoadDocumentAsync(ISession session) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 121 at OrchardCore.Lucene.LuceneIndexSettingsService.UpdateIndexAsync(LuceneIndexSettings settings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 95 at OrchardCore.Lucene.LuceneIndexingService.CreateIndexAsync(LuceneIndexSettings indexSettings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexingService.cs:line 243 at OrchardCore.Lucene.Recipes.LuceneIndexStep.ExecuteAsync(RecipeExecutionContext context) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Recipes\LuceneIndexStep.cs:line 46 at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass12_0.<<ExecuteStepAsync>b__0>d.MoveNext() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 175  End of stack trace from previous location where exception was thrown  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 195 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 156 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 100 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 118 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 146 at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeMigrator.cs:line 41 at It.Csc.OrchardCorePA.Content.BoxLink.Migrations.CreateAsync() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCorePA\Modules\It.Csc.OrchardCorePA.Content.BoxLink\Migrations.cs:line 33 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Data\Migration\DataMigrationManager.cs:line 207 at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db) at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext() at Microsoft.Data.Sqlite.SqliteDataReader.NextResult() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior) at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader() at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery() at Microsoft.Data.Sqlite.SqliteConnectionExtensions.ExecuteNonQuery(SqliteConnection connection, String commandText, SqliteParameter[] parameters) at Microsoft.Data.Sqlite.SqliteTransaction..ctor(SqliteConnection connection, IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginTransaction(IsolationLevel isolationLevel) at Microsoft.Data.Sqlite.SqliteConnection.BeginDbTransaction(IsolationLevel isolationLevel) at System.Data.Common.DbConnection.BeginTransaction(IsolationLevel isolationLevel) at YesSql.Session.DemandAsync() at YesSql.Services.DefaultQuery.Query`1.FirstOrDefaultImpl() at OrchardCore.Lucene.LuceneIndexSettingsService.LoadDocumentAsync(ISession session) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 121 at OrchardCore.Lucene.LuceneIndexSettingsService.UpdateIndexAsync(LuceneIndexSettings settings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexSettingsService.cs:line 95 at OrchardCore.Lucene.LuceneIndexingService.CreateIndexAsync(LuceneIndexSettings indexSettings) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Services\LuceneIndexingService.cs:line 243 at OrchardCore.Lucene.Recipes.LuceneIndexStep.ExecuteAsync(RecipeExecutionContext context) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore.Modules\OrchardCore.Lucene\Recipes\LuceneIndexStep.cs:line 46 at OrchardCore.Recipes.Services.RecipeExecutor.<>c__DisplayClass12_0.<<ExecuteStepAsync>b__0>d.MoveNext() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 175  End of stack trace from previous location where exception was thrown  at OrchardCore.Environment.Shell.Scope.ShellScope.UsingAsync(Func`2 execute) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Abstractions\Shell\Scope\ShellScope.cs:line 195 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteStepAsync(RecipeExecutionContext recipeStep) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 156 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 100 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 118 at OrchardCore.Recipes.Services.RecipeExecutor.ExecuteAsync(String executionId, RecipeDescriptor recipeDescriptor, Object environment, CancellationToken cancellationToken) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeExecutor.cs:line 146 at OrchardCore.Recipes.Services.RecipeMigrator.ExecuteAsync(String recipeFileName, IDataMigration migration) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Recipes.Core\Services\RecipeMigrator.cs:line 41 at It.Csc.OrchardCorePA.Content.BoxLink.Migrations.CreateAsync() in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCorePA\Modules\It.Csc.OrchardCorePA.Content.BoxLink\Migrations.cs:line 33 at OrchardCore.Data.Migration.DataMigrationManager.UpdateAsync(String featureId) in D:\lavoro\.net_core\OrchardCore-GIT\OrchardCore\src\OrchardCore\OrchardCore.Data\Migration\DataMigrationManager.cs:line 207  Hope this can be an useful report. I'm trying to understand what is going wrong, but I miss some OC's meetings in the Christmas time and I believe to have lost something important . other-file other-file other-file",no-bug,0.95
17048,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17048,External Users are being able to register a new account even when DisableNewRegistrations is enabled," Describe the bug When using external authentication feature, users login from external providers still create a new account even when the setting `DisableNewRegistrations` is set to true.  Orchard Core version v2.1  To Reproduce 1. Enable any external authentication provider feature. 2. Set DisableNewRegistrations to true in the External Authentication settings. 3. Try to login using the external provider.  Expected behavior Users should not be able to register if `DisableNewRegistrations` is set to true.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | test-file,"External Users are being able to register a new account even when DisableNewRegistrations is enabled  Describe the bug When using external authentication feature, users login from external providers still create a new account even when the setting `DisableNewRegistrations` is set to true.  Orchard Core version v2.1  To Reproduce 1. Enable any external authentication provider feature. 2. Set DisableNewRegistrations to true in the External Authentication settings. 3. Try to login using the external provider.  Expected behavior Users should not be able to register if `DisableNewRegistrations` is set to true. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file test-file",no-bug,0.8
15385,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15385,Recipes do not support comments,"The recipe reader doesn't support comments in Json (it's a mode that isn't turned on). Which is annoying when you have a lot of recipes, and need to make notes in them, as to why you did something. Not sure if the System.Text pr has gone in yet, might change with that, as it's a Newtonsoft config that needs to be set.",other-file | other-file | other-file,"Recipes do not support comments The recipe reader doesn't support comments in Json (it's a mode that isn't turned on). Which is annoying when you have a lot of recipes, and need to make notes in them, as to why you did something. Not sure if the System.Text pr has gone in yet, might change with that, as it's a Newtonsoft config that needs to be set. other-file other-file other-file",no-bug,0.8
11291,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11291,Duplicate sitemap permission," Describe the bug Sitemap permission is registered twice in startup, which causes problems - on first save it is OK but when saved again, it disappears. ![image](https://user-images.githubusercontent.com/52829889/156736004-dd462576-d987-4166-b20c-58c1b471c30d.png)",other-file,"Duplicate sitemap permission  Describe the bug Sitemap permission is registered twice in startup, which causes problems - on first save it is OK but when saved again, it disappears. ![image](https://user-images.githubusercontent.com/52829889/156736004-dd462576-d987-4166-b20c-58c1b471c30d.png) other-file",no-bug,0.9
17683,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17683,Move user approval process outside the user edit form,As a follow up to https://github.com/OrchardCMS/OrchardCore/issues/17671#issuecomment-2754814575_ I think the approval process should be part of the Admins menu not part of the user edit form.,other-file | other-file | other-file | other-file | other-file | documentation-file,Move user approval process outside the user edit form As a follow up to https://github.com/OrchardCMS/OrchardCore/issues/17671#issuecomment-2754814575_ I think the approval process should be part of the Admins menu not part of the user edit form. other-file other-file other-file other-file other-file documentation-file,no-bug,0.9
5262,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5262,HtmlBody update part is broken,Version `1.0.0-rc1-11459` ![part-1](https://user-images.githubusercontent.com/1761249/72235927-75e1d380-35dd-11ea-8a68-3f689c0b8266.png) ![part-2](https://user-images.githubusercontent.com/1761249/72235935-7aa68780-35dd-11ea-9e10-950dd99fb207.png) This error keeps happening regardless what choice I used ![part-3](https://user-images.githubusercontent.com/1761249/72235953-9873ec80-35dd-11ea-8bb5-872e4ad08470.png),other-file,HtmlBody update part is broken Version `1.0.0-rc1-11459` ![part-1](https://user-images.githubusercontent.com/1761249/72235927-75e1d380-35dd-11ea-8a68-3f689c0b8266.png) ![part-2](https://user-images.githubusercontent.com/1761249/72235935-7aa68780-35dd-11ea-9e10-950dd99fb207.png) This error keeps happening regardless what choice I used ![part-3](https://user-images.githubusercontent.com/1761249/72235953-9873ec80-35dd-11ea-8bb5-872e4ad08470.png) other-file,no-bug,0.8
12971,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12971,Numeric field ignores the preset value when creating a new content item," Describe the bug While working on a feature to import content item from excel, I ran into an issue where the preset value is overridden by the default value. The issue happens because of the following line https://github.com/OrchardCMS/OrchardCore/blob/339d74b251b53393dd510f8ad3027aa17d78500d/src/OrchardCore.Modules/OrchardCore.ContentFields/Drivers/NumericFieldDisplayDriver.cs#L43 that line always takes the default value even if the part already has a preset value.  Expected behavior If the part already has a value, we should not override with with the default.",other-file,"Numeric field ignores the preset value when creating a new content item  Describe the bug While working on a feature to import content item from excel, I ran into an issue where the preset value is overridden by the default value. The issue happens because of the following line https://github.com/OrchardCMS/OrchardCore/blob/339d74b251b53393dd510f8ad3027aa17d78500d/src/OrchardCore.Modules/OrchardCore.ContentFields/Drivers/NumericFieldDisplayDriver.cs#L43 that line always takes the default value even if the part already has a preset value.  Expected behavior If the part already has a value, we should not override with with the default. other-file",no-bug,0.9
9289,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9289,Pressing Enter on recipe combo box item resets focus, Describe the bug When you move the focus from site name to recipe combo box and press `Arrow Down` the recipe list pops up. But when you commit your choice via `Enter` focus resets to the first item on the page.  To Reproduce Steps to reproduce the behavior: 1. Open Setup 2. Press `Tab` to move to recipes combobox 3. Press `Arrow Down` 4. Choose any item and press `Enter`  Expected behavior Focus stays on the combo box,source-file | source-file | source-file | source-file | source-file | source-file,Pressing Enter on recipe combo box item resets focus  Describe the bug When you move the focus from site name to recipe combo box and press `Arrow Down` the recipe list pops up. But when you commit your choice via `Enter` focus resets to the first item on the page.  To Reproduce Steps to reproduce the behavior: 1. Open Setup 2. Press `Tab` to move to recipes combobox 3. Press `Arrow Down` 4. Choose any item and press `Enter`  Expected behavior Focus stays on the combo box source-file source-file source-file source-file source-file source-file,no-bug,0.9
7210,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7210,ID in Form and ComingSoon content type,Use `FormElementPart` for ID attribute in Form and ComingSoon content type.,other-file | other-file | documentation-file | other-file | other-file | other-file | documentation-file,ID in Form and ComingSoon content type Use `FormElementPart` for ID attribute in Form and ComingSoon content type. other-file other-file documentation-file other-file other-file other-file documentation-file,no-bug,0.9
11617,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11617,Using Redis with sentinels,"We use Redis distributed cache with 3 sentinels: 1Master + 1 sentinel in first PC 1Replica + 2 sentinels in second PC Connection configuration: ""OrchardCore"": { ""OrchardCore_Redis"": { ""Configuration"": ""localhost:26379,password=somePassword,serviceName=redis-orchard,allowAdmin=true"", ""InstancePrefix"": ""orchard"" // Optional prefix allowing a Redis instance to be shared by different applications. }  For using this configuration, we use main branch https://github.com/StackExchange/StackExchange.Redis (previous versions, include last release [2.5.61], throw error about getting information about replica).  <Project Sdk=""Microsoft.NET.Sdk""> <PropertyGroup> <RootNamespace>OrchardCore.Redis</RootNamespace> <!-- NuGet properties--> <Title>OrchardCore Redis Abstractions</Title> <Description>$(OCFrameworkDescription) Abstractions for Redis.</Description> <PackageTags>$(PackageTags) OrchardCoreFramework Abstractions</PackageTags> </PropertyGroup> <ItemGroup> <FrameworkReference Include=""Microsoft.AspNetCore.App"" /> </ItemGroup> <ItemGroup> <PackageReference Include=""Microsoft.AspNetCore.DataProtection.StackExchangeRedis"" /> <PackageReference Include=""Microsoft.Extensions.Caching.StackExchangeRedis"" Version=""5.0.1"" /> <PackageReference Include=""StackExchange.Redis"" Version=""2.6.34-gc83443aaaf"" /> </ItemGroup> <ItemGroup> <ProjectReference Include=""..\OrchardCore.Abstractions\OrchardCore.Abstractions.csproj"" /> </ItemGroup> </Project>  Steps to reproduce the behavior: 1. Configure OrchardCore_OrchardCore_Redis 2. Enable feature OrchardCore.Redis.Cache (feature OrchardCore.Redis is enabled as dependency) 3. Error is thrown: ""Sentinel: The ConnectionMultiplexer is not a Sentinel connection. Detected as: Stanalone"" How it works in code: 1. OrchardCore.Redis.Startup ConfigureServices(IServiceCollection services) configures RedisOption from configuration[""OrchardCore_Redis:Configuration""]. 2. When OrchardCore.Redis is started OrchardCore.Redis.Services.RedisServer connects to Redis with ConnectAsync(_options.Value.ConfigurationOptions) (use configured in step 1) 3. When StackExchange.Redis connecting to localhost:26379 (sentinel service), ConfigurationOptions is changing because sentinel service reports about master and replica servers. 4. After connection ConfigurationOptions is set as ""[1.1.1.1:6379,2.2.2.2:6379],password=somePassword,serviceName=redis-orchard,allowAdmin=true"". This action changes RedisOption.ConfigurationOptions too. 5. When OrchardCore.Redis.Cache is started AddStackExchangeRedisCache use RedisCacheOptionsSetup for connection to Redis. 6. RedisCacheOptionsSetup uses RedisOption.ConfigurationOptions (now it is [1.1.1.1:6379,2.2.2.2:6379],password=somePassword,serviceName=redis-orchard,allowAdmin=true) and when StackExchange.Redis start connection it get first EndPoint (1.1.1.1:6379) 7. Because ConfigurationOptions contains serviceName=redis-orchard, StackExchange.Redis defines connection how sentinel but ServerSelectionStrategy.ServerType (by EndPoint) is Standalone and error is thrown. My propose: RedisCacheOptions and RedisOption should be distinct. 1. OrchardCore.Redis.Options.RedisCacheOptionsSetup should be deleted. 2. RedisCacheStartup should configure RedisCacheOptions from configuretion.  [Feature(""OrchardCore.Redis.Cache"")] public class RedisCacheStartup : StartupBase { private readonly string _tenant; private readonly IShellConfiguration _configuration; private readonly ILogger _logger; public RedisCacheStartup(ShellSettings shellSettings, IShellConfiguration configuration, ILogger<Startup> logger) { _tenant = shellSettings.Name; _configuration = configuration; _logger = logger; } public override void ConfigureServices(IServiceCollection services) { if (services.Any(d => d.ServiceType == typeof(IRedisService { try { var configurationOptions = ConfigurationOptions.Parse(_configuration[""OrchardCore_Redis:Configuration""]); var instancePrefix = _configuration[""OrchardCore_Redis:InstancePrefix""]; services.Configure<RedisCacheOptions>(options => { options.ConfigurationOptions = configurationOptions; options.InstanceName = instancePrefix; }); } catch (Exception e) { _logger.LogError(""'Redis.Cache' features are not active on tenant '{TenantName}' as the 'Configuration' string is missing or invalid: "" + e.Message, _tenant); return; } services.AddStackExchangeRedisCache(o => { }); services.AddScoped<ITagCache, RedisTagCache>(); } } }  In this case all works as expected.",other-file | other-file | other-file | other-file | other-file | other-file,"Using Redis with sentinels We use Redis distributed cache with 3 sentinels: 1Master + 1 sentinel in first PC 1Replica + 2 sentinels in second PC Connection configuration: ""OrchardCore"": { ""OrchardCore_Redis"": { ""Configuration"": ""localhost:26379,password=somePassword,serviceName=redis-orchard,allowAdmin=true"", ""InstancePrefix"": ""orchard"" // Optional prefix allowing a Redis instance to be shared by different applications. }  For using this configuration, we use main branch https://github.com/StackExchange/StackExchange.Redis (previous versions, include last release [2.5.61], throw error about getting information about replica).  <Project Sdk=""Microsoft.NET.Sdk""> <PropertyGroup> <RootNamespace>OrchardCore.Redis</RootNamespace> <!-- NuGet properties--> <Title>OrchardCore Redis Abstractions</Title> <Description>$(OCFrameworkDescription) Abstractions for Redis.</Description> <PackageTags>$(PackageTags) OrchardCoreFramework Abstractions</PackageTags> </PropertyGroup> <ItemGroup> <FrameworkReference Include=""Microsoft.AspNetCore.App"" /> </ItemGroup> <ItemGroup> <PackageReference Include=""Microsoft.AspNetCore.DataProtection.StackExchangeRedis"" /> <PackageReference Include=""Microsoft.Extensions.Caching.StackExchangeRedis"" Version=""5.0.1"" /> <PackageReference Include=""StackExchange.Redis"" Version=""2.6.34-gc83443aaaf"" /> </ItemGroup> <ItemGroup> <ProjectReference Include=""..\OrchardCore.Abstractions\OrchardCore.Abstractions.csproj"" /> </ItemGroup> </Project>  Steps to reproduce the behavior: 1. Configure OrchardCore_OrchardCore_Redis 2. Enable feature OrchardCore.Redis.Cache (feature OrchardCore.Redis is enabled as dependency) 3. Error is thrown: ""Sentinel: The ConnectionMultiplexer is not a Sentinel connection. Detected as: Stanalone"" How it works in code: 1. OrchardCore.Redis.Startup ConfigureServices(IServiceCollection services) configures RedisOption from configuration[""OrchardCore_Redis:Configuration""]. 2. When OrchardCore.Redis is started OrchardCore.Redis.Services.RedisServer connects to Redis with ConnectAsync(_options.Value.ConfigurationOptions) (use configured in step 1) 3. When StackExchange.Redis connecting to localhost:26379 (sentinel service), ConfigurationOptions is changing because sentinel service reports about master and replica servers. 4. After connection ConfigurationOptions is set as ""[1.1.1.1:6379,2.2.2.2:6379],password=somePassword,serviceName=redis-orchard,allowAdmin=true"". This action changes RedisOption.ConfigurationOptions too. 5. When OrchardCore.Redis.Cache is started AddStackExchangeRedisCache use RedisCacheOptionsSetup for connection to Redis. 6. RedisCacheOptionsSetup uses RedisOption.ConfigurationOptions (now it is [1.1.1.1:6379,2.2.2.2:6379],password=somePassword,serviceName=redis-orchard,allowAdmin=true) and when StackExchange.Redis start connection it get first EndPoint (1.1.1.1:6379) 7. Because ConfigurationOptions contains serviceName=redis-orchard, StackExchange.Redis defines connection how sentinel but ServerSelectionStrategy.ServerType (by EndPoint) is Standalone and error is thrown. My propose: RedisCacheOptions and RedisOption should be distinct. 1. OrchardCore.Redis.Options.RedisCacheOptionsSetup should be deleted. 2. RedisCacheStartup should configure RedisCacheOptions from configuretion.  [Feature(""OrchardCore.Redis.Cache"")] public class RedisCacheStartup : StartupBase { private readonly string _tenant; private readonly IShellConfiguration _configuration; private readonly ILogger _logger; public RedisCacheStartup(ShellSettings shellSettings, IShellConfiguration configuration, ILogger<Startup> logger) { _tenant = shellSettings.Name; _configuration = configuration; _logger = logger; } public override void ConfigureServices(IServiceCollection services) { if (services.Any(d => d.ServiceType == typeof(IRedisService { try { var configurationOptions = ConfigurationOptions.Parse(_configuration[""OrchardCore_Redis:Configuration""]); var instancePrefix = _configuration[""OrchardCore_Redis:InstancePrefix""]; services.Configure<RedisCacheOptions>(options => { options.ConfigurationOptions = configurationOptions; options.InstanceName = instancePrefix; }); } catch (Exception e) { _logger.LogError(""'Redis.Cache' features are not active on tenant '{TenantName}' as the 'Configuration' string is missing or invalid: "" + e.Message, _tenant); return; } services.AddStackExchangeRedisCache(o => { }); services.AddScoped<ITagCache, RedisTagCache>(); } } }  In this case all works as expected. other-file other-file other-file other-file other-file other-file",no-bug,0.9
11423,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11423,OrchardCore.Resources should not depend on ISiteService," Is your feature request related to a problem? Please describe. I am trying to use `OrchardCore.ResourceManagement` in a standard ASP.NET project. I am using `OrchardCore.ResourceManagement` to deal with resources but would also like to use `OrchardCore.Resources` to provide me common resources to use. The issue here is that `OrchardCore.Resources` depends `ISiteService` and that may couple the module with CMS data.  Describe the solution you'd like IMHO, `OrchardCore.Resources` should not depend on `ISiteService` as that may couple the module with CMS data. I suggest we replace that with `IResourceSettingProvider` which provides the settings needed for the resource. Here is how I suggest we approach this The following two file would probably go in `OrchardCore.ResourceManagement.Abstraction`  public interface IResourceSettingProvider { public Task<ResourceSetting> GetAsync(); } public class ResourceSetting { public ResourceDebugMode ResourceDebugMode { get; set; } public bool UseCdn { get; set; } public string CdnBaseUrl { get; set; } public bool AppendVersion { get; set; } = true; public string ContentBasePath { get; set; } = String.Empty; }  Then in the `OrchardCore.Resource` we would add default implementation of `IResourceSettingProvider` would read settings from the `appsettings.json`. Finally, in the `OrchardCore.Settings` we can add a different implementation that would replace the default implementation with one that reads from the `ISiteService`.  Describe alternatives you've considered I created my own module that does not depend on `ISiteService` because I don't need to bother with implementing it and in my module I added common resources like bootstrap",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"OrchardCore.Resources should not depend on ISiteService  Is your feature request related to a problem? Please describe. I am trying to use `OrchardCore.ResourceManagement` in a standard ASP.NET project. I am using `OrchardCore.ResourceManagement` to deal with resources but would also like to use `OrchardCore.Resources` to provide me common resources to use. The issue here is that `OrchardCore.Resources` depends `ISiteService` and that may couple the module with CMS data.  Describe the solution you'd like IMHO, `OrchardCore.Resources` should not depend on `ISiteService` as that may couple the module with CMS data. I suggest we replace that with `IResourceSettingProvider` which provides the settings needed for the resource. Here is how I suggest we approach this The following two file would probably go in `OrchardCore.ResourceManagement.Abstraction`  public interface IResourceSettingProvider { public Task<ResourceSetting> GetAsync(); } public class ResourceSetting { public ResourceDebugMode ResourceDebugMode { get; set; } public bool UseCdn { get; set; } public string CdnBaseUrl { get; set; } public bool AppendVersion { get; set; } = true; public string ContentBasePath { get; set; } = String.Empty; }  Then in the `OrchardCore.Resource` we would add default implementation of `IResourceSettingProvider` would read settings from the `appsettings.json`. Finally, in the `OrchardCore.Settings` we can add a different implementation that would replace the default implementation with one that reads from the `ISiteService`.  Describe alternatives you've considered I created my own module that does not depend on `ISiteService` because I don't need to bother with implementing it and in my module I added common resources like bootstrap other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
13851,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/13851,Add a way to enable Facebook Pixel," Is your feature request related to a problem? Please describe. We have multiple integrations with Facebook. But, we do not have a way to enable Facebook Pixel like we do for Google Analytics.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Add a way to enable Facebook Pixel  Is your feature request related to a problem? Please describe. We have multiple integrations with Facebook. But, we do not have a way to enable Facebook Pixel like we do for Google Analytics. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
16372,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16372,Error when disabling Lucine or elastic search feature,"On the latest main branch ,while testing and evaluating elastic search and storing some queries I decided to disable Elasticsearch. But given that the queries documents contained existing elastic queries the following error occurs: The same happens if you disable Lucene feature and you have existing Lucene queries in the queries document. ![image](https://github.com/OrchardCMS/OrchardCore/assets/1516981/0b77cfae-79b3-481b-8dd0-63ffa3e024e3)",other-file | other-file | other-file | other-file | other-file,"Error when disabling Lucine or elastic search feature On the latest main branch ,while testing and evaluating elastic search and storing some queries I decided to disable Elasticsearch. But given that the queries documents contained existing elastic queries the following error occurs: The same happens if you disable Lucene feature and you have existing Lucene queries in the queries document. ![image](https://github.com/OrchardCMS/OrchardCore/assets/1516981/0b77cfae-79b3-481b-8dd0-63ffa3e024e3) other-file other-file other-file other-file other-file",no-bug,0.8
8749,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8749,Admin - creating a item with a bagpart," Describe the bug The Header, in the admin area, has a z-index of 1030, so when I'm creating an item and choosing an option from a bagpart, the dropdown is appearing behind the header.  To Reproduce Steps to reproduce the behavior: 1. Go to Backoffice 2. Create an item of type with a bagpart with a lot of options 3. See the bug  Expected behavior The dropdown options should appear on top of everything else while choosing an option.  Screenshots ![image](https://user-images.githubusercontent.com/27766766/109987134-453b8c80-7cfe-11eb-9f41-2e9a1ed61702.png) ![image](https://user-images.githubusercontent.com/27766766/109987199-5389a880-7cfe-11eb-8bcf-14e04ab1319f.png)",other-file | other-file | other-file | other-file,"Admin - creating a item with a bagpart  Describe the bug The Header, in the admin area, has a z-index of 1030, so when I'm creating an item and choosing an option from a bagpart, the dropdown is appearing behind the header.  To Reproduce Steps to reproduce the behavior: 1. Go to Backoffice 2. Create an item of type with a bagpart with a lot of options 3. See the bug  Expected behavior The dropdown options should appear on top of everything else while choosing an option.  Screenshots ![image](https://user-images.githubusercontent.com/27766766/109987134-453b8c80-7cfe-11eb-9f41-2e9a1ed61702.png) ![image](https://user-images.githubusercontent.com/27766766/109987199-5389a880-7cfe-11eb-8bcf-14e04ab1319f.png) other-file other-file other-file other-file",no-bug,0.95
6116,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6116,Add docs to solution,"While the docs are currently part of the folder structure of the solution, what's more, they're under the src folder too, the docs files are not part of the VS solution. This has the following negative implications: - Doc files are harder to edit from VS. Them being Markdown files mostly you can edit them with any text editor of course, but you could use VS as a text editor too (like by using the excellent [Markdown Editor](https://github.com/madskristensen/MarkdownEditor) extension to provide real-time rendering). - Docs are less discoverable this way, including that they can go easier out of sync with the code: If the docs are part of the solution then they'll also show up in search, both when you're searching for a solution and when you're renaming something. This would make the utility and maintainability of the docs easier. - Search and replace would be easier via VS (of course, you can do this otherwise but in VS everything is there for this too). Suggestion: Adding a whole folder to a solution is as a solution folder is not feasible since it would need to be kept up to date with every new file added, like with the old csproj format. Instead, we could have a ""docs"" solution folder with a single `OrchardCore.Docs` csproj, containing nothing than the content of the docs folder. While a bit hackish I don't see a better solution due to the capabilities of the sln file format.",other-file | other-file,"Add docs to solution While the docs are currently part of the folder structure of the solution, what's more, they're under the src folder too, the docs files are not part of the VS solution. This has the following negative implications: - Doc files are harder to edit from VS. Them being Markdown files mostly you can edit them with any text editor of course, but you could use VS as a text editor too (like by using the excellent [Markdown Editor](https://github.com/madskristensen/MarkdownEditor) extension to provide real-time rendering). - Docs are less discoverable this way, including that they can go easier out of sync with the code: If the docs are part of the solution then they'll also show up in search, both when you're searching for a solution and when you're renaming something. This would make the utility and maintainability of the docs easier. - Search and replace would be easier via VS (of course, you can do this otherwise but in VS everything is there for this too). Suggestion: Adding a whole folder to a solution is as a solution folder is not feasible since it would need to be kept up to date with every new file added, like with the old csproj format. Instead, we could have a ""docs"" solution folder with a single `OrchardCore.Docs` csproj, containing nothing than the content of the docs folder. While a bit hackish I don't see a better solution due to the capabilities of the sln file format. other-file other-file",no-bug,0.95
6681,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6681,DiscardDraft Removes Autoroute Data,"When discarding a draft of a routed content item, the route is discarded even if a version of the content item remains published. This issue is almost exactly the same as #4763, but for the [Autoroute module](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.Autoroute/Handlers/AutoroutePartHandler.cs#L137).  Reproducing 1. Create a new Orchard Core CMS project. 2. Start the site, and initialize it with the blog recipe. 3. Create a draft of the ""About"" page. 4. Discard the draft of the ""About"" page. 5. The route to the ""About"" page no longer works, even though the original version of the page is still published.  Workaround Every time you discard a draft to a routed content item, republish the content item to recreate its routes.  Notes There are other modules that might have the same problem. Here are a few that I noticed that don't check `context.NoActiveVersionLeft`: - [OrchardCore.Alias](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.Alias/Handlers/AliasPartHandler.cs#L104) - [OrchardCore.Contents](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.Contents/Handlers/ContentsHandler.cs#L23) - [OrchardCore.ContentLocalization](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.ContentLocalization/Handlers/LocalizationPartHandler.cs#L60)",other-file,"DiscardDraft Removes Autoroute Data When discarding a draft of a routed content item, the route is discarded even if a version of the content item remains published. This issue is almost exactly the same as #4763, but for the [Autoroute module](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.Autoroute/Handlers/AutoroutePartHandler.cs#L137).  Reproducing 1. Create a new Orchard Core CMS project. 2. Start the site, and initialize it with the blog recipe. 3. Create a draft of the ""About"" page. 4. Discard the draft of the ""About"" page. 5. The route to the ""About"" page no longer works, even though the original version of the page is still published.  Workaround Every time you discard a draft to a routed content item, republish the content item to recreate its routes.  Notes There are other modules that might have the same problem. Here are a few that I noticed that don't check `context.NoActiveVersionLeft`: - [OrchardCore.Alias](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.Alias/Handlers/AliasPartHandler.cs#L104) - [OrchardCore.Contents](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.Contents/Handlers/ContentsHandler.cs#L23) - [OrchardCore.ContentLocalization](https://github.com/OrchardCMS/OrchardCore/blob/ab3a1e4ec060dd30b0a19736e05f4db30b56151e/src/OrchardCore.Modules/OrchardCore.ContentLocalization/Handlers/LocalizationPartHandler.cs#L60) other-file",no-bug,0.8
6404,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6404,Description for NuGet packages,"All packages just have ""Package Description"" now. However, we don't want to write descriptions for all individual packages (unless someone is masochistic enough) so a better thing would be to generate it somehow. - For projects with a Manifest include the descriptions from there. - For other projects use a common template. In both cases, the text could include something like: > Orchard Core is an open-source, modular, multi-tenant application framework and CMS for ASP.NET Core. For detailed information about Orchard Core, and for documentation on how to use it and integrate it into your app see https://www.orchardcore.net/.",other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | config-file | config-file | test-file | config-file | config-file | config-file | documentation-file | documentation-file | documentation-file | container-file | container-file | container-file | other-file | other-file | documentation-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | source-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | test-file,"Description for NuGet packages All packages just have ""Package Description"" now. However, we don't want to write descriptions for all individual packages (unless someone is masochistic enough) so a better thing would be to generate it somehow. - For projects with a Manifest include the descriptions from there. - For other projects use a common template. In both cases, the text could include something like: > Orchard Core is an open-source, modular, multi-tenant application framework and CMS for ASP.NET Core. For detailed information about Orchard Core, and for documentation on how to use it and integrate it into your app see https://www.orchardcore.net/. other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file documentation-file test-file test-file test-file other-file other-file other-file other-file config-file config-file test-file config-file config-file config-file documentation-file documentation-file documentation-file container-file container-file container-file other-file other-file documentation-file config-file config-file documentation-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file test-file test-file test-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file documentation-file other-file other-file documentation-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file source-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file source-file source-file other-file other-file source-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file test-file test-file",no-bug,0.9
15553,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15553,Update GitHub Actions actions to adapt to Node 16 deprecation," Describe the bug GitHub Actions [deprecated Node 16](https://github.blog/changelog/2023-09-22-github-actions-transitioning-from-node-16-to-node-20/) and all actions should migrate to Node 20. Some of the actions we use in our GHA workflows depend on Node 16, so we need to update them. In most cases, this should just be a matter of referencing the latest versions of the actions we use, e.g. `actions/checkout@v4` instead of `actions/checkout@v3`.  To Reproduce 1. Check out one of our [workflow runs](https://github.com/OrchardCMS/OrchardCore/actions). 2. Observe a message similar to the below one under each of these. ![image](https://github.com/OrchardCMS/OrchardCore/assets/1976647/e2bca99e-9e76-4bea-b867-92e2a4f60956)  Expected behavior No workflow warnings.  Screenshots See above.",config-file | config-file | test-file | config-file | config-file | config-file | config-file,"Update GitHub Actions actions to adapt to Node 16 deprecation  Describe the bug GitHub Actions [deprecated Node 16](https://github.blog/changelog/2023-09-22-github-actions-transitioning-from-node-16-to-node-20/) and all actions should migrate to Node 20. Some of the actions we use in our GHA workflows depend on Node 16, so we need to update them. In most cases, this should just be a matter of referencing the latest versions of the actions we use, e.g. `actions/checkout@v4` instead of `actions/checkout@v3`.  To Reproduce 1. Check out one of our [workflow runs](https://github.com/OrchardCMS/OrchardCore/actions). 2. Observe a message similar to the below one under each of these. ![image](https://github.com/OrchardCMS/OrchardCore/assets/1976647/e2bca99e-9e76-4bea-b867-92e2a4f60956)  Expected behavior No workflow warnings.  Screenshots See above. config-file config-file test-file config-file config-file config-file config-file",no-bug,0.95
12296,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12296,Render form widgets in a custom template instead of using Widget.cshtml Widget," Is your feature request related to a problem? Please describe. Currently, all of the form widgets are rendered using `Widget.cshtml` which renders too much html without any added value. Also, by default the create form does not look well formatted by default because of this.  Describe the solution you'd like I think we should create default `Widget-Form`, `Widget-Input`, `Widget-Label`, Widget-Select`, `Widget-Validation` and `Widget-ValidationSummary` Really all these templates should need only this  <div class=""@String.Join("" "", Model.Classes.ToArray())""> @await DisplayAsync(Model.Content) </div>  Only the `Widget-Select`, `Widget-TextArea` and `Widget-Input` should have this  @{ Model.Classes.Add(""mb-3""); } <div class=""@String.Join("" "", Model.Classes.ToArray())""> @await DisplayAsync(Model.Content) </div> ",source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Render form widgets in a custom template instead of using Widget.cshtml Widget  Is your feature request related to a problem? Please describe. Currently, all of the form widgets are rendered using `Widget.cshtml` which renders too much html without any added value. Also, by default the create form does not look well formatted by default because of this.  Describe the solution you'd like I think we should create default `Widget-Form`, `Widget-Input`, `Widget-Label`, Widget-Select`, `Widget-Validation` and `Widget-ValidationSummary` Really all these templates should need only this  <div class=""@String.Join("" "", Model.Classes.ToArray())""> @await DisplayAsync(Model.Content) </div>  Only the `Widget-Select`, `Widget-TextArea` and `Widget-Input` should have this  @{ Model.Classes.Add(""mb-3""); } <div class=""@String.Join("" "", Model.Classes.ToArray())""> @await DisplayAsync(Model.Content) </div>  source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6606,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6606,IsSectionDefined throws exception,using `IsSectionDefined` in a `Layout` page throws an exception of `HtmlContentBuilder` does not contain a definition for `Items`,other-file,IsSectionDefined throws exception using `IsSectionDefined` in a `Layout` page throws an exception of `HtmlContentBuilder` does not contain a definition for `Items` other-file,no-bug,0.9
5415,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5415,Recipes Documentation,"Probably is not exactly for here, but please could you provide **better documentation for the recipes**. Thank you in advance and best regards.",documentation-file | documentation-file | documentation-file,"Recipes Documentation Probably is not exactly for here, but please could you provide **better documentation for the recipes**. Thank you in advance and best regards. documentation-file documentation-file documentation-file",no-bug,0.95
7445,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/7445,docs.orchardcore.net is extremely slow,"Loading pages on docs.orchardcore.net takes about 2 minutes per page, unless the page has been visited recently. Navigating to the workflows documentation: ![image](https://user-images.githubusercontent.com/10190259/97716634-3ddb4c80-1a9a-11eb-8c10-64da07ceb3b5.png)",config-file,"docs.orchardcore.net is extremely slow Loading pages on docs.orchardcore.net takes about 2 minutes per page, unless the page has been visited recently. Navigating to the workflows documentation: ![image](https://user-images.githubusercontent.com/10190259/97716634-3ddb4c80-1a9a-11eb-8c10-64da07ceb3b5.png) config-file",no-bug,0.9
6172,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6172,MediaField: multiple fields in one contentitem cause DOM multiple Id error,"Hi guys, I have a contenttype with multiple MediaField and I see, in my browser console, that it cause an error on DOM structure because every media field have some hidden input used for validation messages (I suppose) with the same value in the Id attribute. If you want, I can do a PR to solve this issue: if doesn't exist any other activity that would fix on this problem. The issue come from MediaFieldEditLocalization.cshtml file in the relative module. PS. The best solution is to put MediaFieldEditLocalization.cshtml in the ""Edit template"" for all the MediaField in the contentitem but now I don't know how to do that",source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file,"MediaField: multiple fields in one contentitem cause DOM multiple Id error Hi guys, I have a contenttype with multiple MediaField and I see, in my browser console, that it cause an error on DOM structure because every media field have some hidden input used for validation messages (I suppose) with the same value in the Id attribute. If you want, I can do a PR to solve this issue: if doesn't exist any other activity that would fix on this problem. The issue come from MediaFieldEditLocalization.cshtml file in the relative module. PS. The best solution is to put MediaFieldEditLocalization.cshtml in the ""Edit template"" for all the MediaField in the contentitem but now I don't know how to do that source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file",no-bug,0.9
12334,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12334,DbConnectionValidator fails if Shell Settings come from same database,"If shell settings come from the same database, the document table may already exist before the setup, in that case during the setup the DbConnectionValidator fails because the document table already exits.",other-file | other-file | other-file | other-file | other-file | other-file,"DbConnectionValidator fails if Shell Settings come from same database If shell settings come from the same database, the document table may already exist before the setup, in that case during the setup the DbConnectionValidator fails because the document table already exits. other-file other-file other-file other-file other-file other-file",no-bug,0.9
5476,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5476,Tenant Recipe not working,I have an issue that was reported in #3346 Here is how to reproduce the problem: Generate a theme using the template generator. Copy over the files and folders from TheAgencyTheme into you new custom theme. Modify the recipe file you copied over Try and run the recipe as a tenant It wont work. You will get the layout exception. To fix it you then go to themes and enable a different theme and then go back to themes and enable your custom theme problem fixed. It would be nice if the recipe worked first. There must be something in the recipe file that needs to be changed that is being missed.,documentation-file,Tenant Recipe not working I have an issue that was reported in #3346 Here is how to reproduce the problem: Generate a theme using the template generator. Copy over the files and folders from TheAgencyTheme into you new custom theme. Modify the recipe file you copied over Try and run the recipe as a tenant It wont work. You will get the layout exception. To fix it you then go to themes and enable a different theme and then go back to themes and enable your custom theme problem fixed. It would be nice if the recipe worked first. There must be something in the recipe file that needs to be changed that is being missed. documentation-file,no-bug,0.8
12825,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12825,Double database connexion validation in SetupService,It seems to me that there is a double database connexion validation in SetupService. There is the `IDbConnectionValidator.ValidateAsync` method https://github.com/OrchardCMS/OrchardCore/blob/2b1771f467fa1fff124acd8f8bc95392b16583f5/src/OrchardCore/OrchardCore.Setup.Core/SetupService.cs#L170-L184 And also this piece of code : https://github.com/OrchardCMS/OrchardCore/blob/2b1771f467fa1fff124acd8f8bc95392b16583f5/src/OrchardCore/OrchardCore.Setup.Core/SetupService.cs#L201-L223 Isn't this the same verification ? The idea behind is to remove the dependency over YesSql.,other-file | other-file | other-file | other-file,Double database connexion validation in SetupService It seems to me that there is a double database connexion validation in SetupService. There is the `IDbConnectionValidator.ValidateAsync` method https://github.com/OrchardCMS/OrchardCore/blob/2b1771f467fa1fff124acd8f8bc95392b16583f5/src/OrchardCore/OrchardCore.Setup.Core/SetupService.cs#L170-L184 And also this piece of code : https://github.com/OrchardCMS/OrchardCore/blob/2b1771f467fa1fff124acd8f8bc95392b16583f5/src/OrchardCore/OrchardCore.Setup.Core/SetupService.cs#L201-L223 Isn't this the same verification ? The idea behind is to remove the dependency over YesSql. other-file other-file other-file other-file,no-bug,0.9
11260,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/11260,console_log on FlowPart shape returns logs of C# Runtime objects, Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Use `{{ Model.Content | console_log }}` or `@Orchard.ConsoleLog((object)Model)` 2. Log model containing `FlowPart` 4. See browser's log and find C# Runtime properties logged.  Expected behavior It should only log Shape related properties.,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,console_log on FlowPart shape returns logs of C# Runtime objects  Describe the bug  To Reproduce Steps to reproduce the behavior: 1. Use `{{ Model.Content | console_log }}` or `@Orchard.ConsoleLog((object)Model)` 2. Log model containing `FlowPart` 4. See browser's log and find C# Runtime properties logged.  Expected behavior It should only log Shape related properties. other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
9039,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9039,Specified argument was out of the range of valid values. (Parameter 'index'),"i saw some ticket about this issue , but i don't know if main same or not. After update to new version, i get this error in showing blog and my module views too.  An unhandled exception occurred while processing the request. ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'index') Microsoft.AspNetCore.Mvc.ViewFeatures.Buffers.ViewBufferTextWriter.Write(char[] buffer, int index, int count)  repo: it works with: 1- create new blog 2- add new blog post 3-create new .liquid them page ""Content-Blog.liquid""  <div class=""container""> <div class=""row""> {{ Model.Content | shape_render }} </div> </div>  it works fine with new blog and post but old blog doesn't work. It looks it has issue in ""{{ Model.Content | shape_render }}"". If i remove this line, It shows my page.",other-file | other-file | other-file | other-file,"Specified argument was out of the range of valid values. (Parameter 'index') i saw some ticket about this issue , but i don't know if main same or not. After update to new version, i get this error in showing blog and my module views too.  An unhandled exception occurred while processing the request. ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'index') Microsoft.AspNetCore.Mvc.ViewFeatures.Buffers.ViewBufferTextWriter.Write(char[] buffer, int index, int count)  repo: it works with: 1- create new blog 2- add new blog post 3-create new .liquid them page ""Content-Blog.liquid""  <div class=""container""> <div class=""row""> {{ Model.Content | shape_render }} </div> </div>  it works fine with new blog and post but old blog doesn't work. It looks it has issue in ""{{ Model.Content | shape_render }}"". If i remove this line, It shows my page. other-file other-file other-file other-file",no-bug,0.8
16588,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/16588,Merging object does not allow to set a property value to null," Describe the bug I created a custom part:  public class TestContentPart : ContentPart { public int? Minutes { get; set; } }  Using a driver I have set the `Minutes` value to a number like `10`. Everything works as expected. However, if I want to set it back to `null` after it was set to `10` the value will not allow setting null. because of this setting https://github.com/OrchardCMS/OrchardCore/blob/3fe9612adb08b03114177a485ecc02e52091030c/src/OrchardCore/OrchardCore.Abstractions/Json/JOptions.cs#L23  Orchard Core version main  To Reproduce Steps to reproduce the behavior: Using the following test  [Fact] public void Apply_WhenCalledWithNullProperty_SetThePropertyToNull() { var contentItem = new ContentItem(); contentItem.Apply(new TestContentPart() { Minutes = -15, }); var instance = contentItem.As<TestContentPart>(); Assert.NotNull(instance); Assert.Equal(-15, instance.Minutes); contentItem.Apply(new TestContentPart() { Minutes = null, }); var minutes = (int?)contentItem.Content.TestContentPart.Minutes; Assert.Null(minutes); } ",other-file | other-file | test-file,"Merging object does not allow to set a property value to null  Describe the bug I created a custom part:  public class TestContentPart : ContentPart { public int? Minutes { get; set; } }  Using a driver I have set the `Minutes` value to a number like `10`. Everything works as expected. However, if I want to set it back to `null` after it was set to `10` the value will not allow setting null. because of this setting https://github.com/OrchardCMS/OrchardCore/blob/3fe9612adb08b03114177a485ecc02e52091030c/src/OrchardCore/OrchardCore.Abstractions/Json/JOptions.cs#L23  Orchard Core version main  To Reproduce Steps to reproduce the behavior: Using the following test  [Fact] public void Apply_WhenCalledWithNullProperty_SetThePropertyToNull() { var contentItem = new ContentItem(); contentItem.Apply(new TestContentPart() { Minutes = -15, }); var instance = contentItem.As<TestContentPart>(); Assert.NotNull(instance); Assert.Equal(-15, instance.Minutes); contentItem.Apply(new TestContentPart() { Minutes = null, }); var minutes = (int?)contentItem.Content.TestContentPart.Minutes; Assert.Null(minutes); }  other-file other-file test-file",no-bug,0.8
9065,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9065,Liquid raw tag appears to no longer produce output?," Describe the bug Any text placed inside a raw tag no longer renders.  TESTING {% zone ""BodyBottom"" %} TEST 2 {% raw %} {{ TEST 3 }} {% endraw %} {% endzone %}  When I click 'view source', TESTING shows up on the page, and TEST 2 is teleported to the bottom where it is supposed to be in our Layout, but `{{ TEST 3 }}` does not render. It doesn't render even if we just make it `TEST 3` without the curly braces. I also tested it with just a raw tag, without any zone stuff. We needed the raw tag to be able to use JS Handlebars templates on our frontend. Worked fine in our 15800 build, but broke when we updated to 16039.  To Reproduce Steps to reproduce the behavior: 1. Add a Liquid part to a content item. 2. Use a raw tag (not filter) to create output.  Expected behavior Raw tag allows output in a format that subverts typical Liquid syntax.",other-file | documentation-file | other-file | documentation-file,"Liquid raw tag appears to no longer produce output?  Describe the bug Any text placed inside a raw tag no longer renders.  TESTING {% zone ""BodyBottom"" %} TEST 2 {% raw %} {{ TEST 3 }} {% endraw %} {% endzone %}  When I click 'view source', TESTING shows up on the page, and TEST 2 is teleported to the bottom where it is supposed to be in our Layout, but `{{ TEST 3 }}` does not render. It doesn't render even if we just make it `TEST 3` without the curly braces. I also tested it with just a raw tag, without any zone stuff. We needed the raw tag to be able to use JS Handlebars templates on our frontend. Worked fine in our 15800 build, but broke when we updated to 16039.  To Reproduce Steps to reproduce the behavior: 1. Add a Liquid part to a content item. 2. Use a raw tag (not filter) to create output.  Expected behavior Raw tag allows output in a format that subverts typical Liquid syntax. other-file documentation-file other-file documentation-file",no-bug,0.9
17219,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17219,Orchard Core intermittently displays login options when only one external provider is configured," Describe the bug When using Orchard Core with a single external identity provider configured for login and the option ""Use external provider for login"" enabled in the admin settings, the login screen intermittently displays a choice between the external provider and the standard username/password login. It is expected that the system should automatically redirect to the external provider for authentication without showing the login screen.  Orchard Core version 2.1.2  To Reproduce 1. Go to Settings > External Login in the Orchard Core admin dashboard. 2. Enable the ""Use external provider for login"" checkbox. 3. Ensure only one external provider is configured (e.g., Github). 4. Access the login page repeatedly using the same URL (e.g., `https://localhost:5001/admin`).  Expected behavior The login screen should consistently redirect to the external provider for authentication without presenting the choice between username/password login and the external provider.  Actual behavior The behavior is inconsistent and alternates between the following: - On the first page load, it redirects to the external provider as expected. - On subsequent page loads (odd vs. even attempts), the login screen displays a choice between the external provider and the standard login. For example: - First load of `https://localhost:5001/admin` works and redirects. - Second load shows the login screen with options. - Subsequent attempts alternate between the two behaviors.  Logs and screenshots  Settings Configuration:  Login Screen:  Steps to Mitigate/Workaround No workaround identified.  Suggested Fix Update the logic in the login flow to ensure consistent behavior when the ""Use external provider for login"" option is enabled, particularly when only one external provider is configured. The system should always redirect to the external provider without showing the login screen.  References N/A",other-file,"Orchard Core intermittently displays login options when only one external provider is configured  Describe the bug When using Orchard Core with a single external identity provider configured for login and the option ""Use external provider for login"" enabled in the admin settings, the login screen intermittently displays a choice between the external provider and the standard username/password login. It is expected that the system should automatically redirect to the external provider for authentication without showing the login screen.  Orchard Core version 2.1.2  To Reproduce 1. Go to Settings > External Login in the Orchard Core admin dashboard. 2. Enable the ""Use external provider for login"" checkbox. 3. Ensure only one external provider is configured (e.g., Github). 4. Access the login page repeatedly using the same URL (e.g., `https://localhost:5001/admin`).  Expected behavior The login screen should consistently redirect to the external provider for authentication without presenting the choice between username/password login and the external provider.  Actual behavior The behavior is inconsistent and alternates between the following: - On the first page load, it redirects to the external provider as expected. - On subsequent page loads (odd vs. even attempts), the login screen displays a choice between the external provider and the standard login. For example: - First load of `https://localhost:5001/admin` works and redirects. - Second load shows the login screen with options. - Subsequent attempts alternate between the two behaviors.  Logs and screenshots  Settings Configuration:  Login Screen:  Steps to Mitigate/Workaround No workaround identified.  Suggested Fix Update the logic in the login flow to ensure consistent behavior when the ""Use external provider for login"" option is enabled, particularly when only one external provider is configured. The system should always redirect to the external provider without showing the login screen.  References N/A other-file",no-bug,0.8
9610,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9610,Issue editing liquid content," When editing a template the liquid content fails to load  To Reproduce Steps to reproduce the behavior: 1. Go to the admin site 2. Click on design, templates 3. Edit a template 4. The liquid content fails to load I believe the issue is to do with cdn's, see image below. ![image](https://user-images.githubusercontent.com/76566152/120673671-4a3de280-c48b-11eb-8308-8be2b122a1e1.png)",other-file | other-file,"Issue editing liquid content  When editing a template the liquid content fails to load  To Reproduce Steps to reproduce the behavior: 1. Go to the admin site 2. Click on design, templates 3. Edit a template 4. The liquid content fails to load I believe the issue is to do with cdn's, see image below. ![image](https://user-images.githubusercontent.com/76566152/120673671-4a3de280-c48b-11eb-8308-8be2b122a1e1.png) other-file other-file",no-bug,0.9
5689,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5689,GraphiQL exception when using a malformed Query Schema,"When defining [Lucene Queries](https://docs.orchardcore.net/en/dev/docs/reference/modules/Queries/), the Schema field can cause GraphiQL to return an exception: `Uncaught (in promise) Error: Invalid or incomplete introspection result. Ensure that you are passing ""data"" property of introspection response and no ""errors"" was returned alongside: undefined` Issue can be reproduced by inserting a schema with an inappropriate content item name: `{ ""type"": ""ContentItem/SomeContentItemType"" }`",other-file,"GraphiQL exception when using a malformed Query Schema When defining [Lucene Queries](https://docs.orchardcore.net/en/dev/docs/reference/modules/Queries/), the Schema field can cause GraphiQL to return an exception: `Uncaught (in promise) Error: Invalid or incomplete introspection result. Ensure that you are passing ""data"" property of introspection response and no ""errors"" was returned alongside: undefined` Issue can be reproduced by inserting a schema with an inappropriate content item name: `{ ""type"": ""ContentItem/SomeContentItemType"" }` other-file",no-bug,0.8
5987,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5987,Form with workflow puts CPU to 100% and unrecoverable,"I have this strange situation which exists across multiple themes and versions of OC. If I have a standard contact style form with a workflow to check for validation (attached). I can't quite work out the pattern and I haven't yet worked out where the problem is but: - If all fields are filled the form submit and workflow works fine. - If one field is empty that is required, it also works fine and the validation comes back correctly. - If a few fields are empty (but it is not consistent which ones), the post to the workflow stops responding and the CPU goes to 100% and never recovers until I restart the App Service. I have also been able to replicate this locally but I have not been able to isolate where the problem occurs. Any help on isolating the issue would be great. <img width=""1366"" alt=""Screen Shot 2020-04-20 at 9 30 08 am"" src=""https://user-images.githubusercontent.com/2867511/79702832-f4d85d80-82ea-11ea-81be-cbce061be5df.png""> [recipe.zip](https://github.com/OrchardCMS/OrchardCore/files/4500526/recipe.zip)",other-file | other-file,"Form with workflow puts CPU to 100% and unrecoverable I have this strange situation which exists across multiple themes and versions of OC. If I have a standard contact style form with a workflow to check for validation (attached). I can't quite work out the pattern and I haven't yet worked out where the problem is but: - If all fields are filled the form submit and workflow works fine. - If one field is empty that is required, it also works fine and the validation comes back correctly. - If a few fields are empty (but it is not consistent which ones), the post to the workflow stops responding and the CPU goes to 100% and never recovers until I restart the App Service. I have also been able to replicate this locally but I have not been able to isolate where the problem occurs. Any help on isolating the issue would be great. <img width=""1366"" alt=""Screen Shot 2020-04-20 at 9 30 08 am"" src=""https://user-images.githubusercontent.com/2867511/79702832-f4d85d80-82ea-11ea-81be-cbce061be5df.png""> [recipe.zip](https://github.com/OrchardCMS/OrchardCore/files/4500526/recipe.zip) other-file other-file",no-bug,0.8
6954,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6954,Display Configuration options in Admin pages,"Create admin pages to display the different IOptions<> that can be configured in the application. These options can be set in appsettings.json, in ShellSettings by tenant, in Database. Ex: MediaOptions Will help to check what are the current properties values. Simple form page with for each property: - Name - Value - Hint Add link to documentation (and create if it does not exists). Provide help to know how to define/override configuration (Name of section, json example). Use a specific Permission (only for Administrator) if sensitive data. Find a way to display a menu or a link somewhere in the admin. Todo: List all options that can be configured. Please comment to say if you find this useful or not or if you want to add a suggestion.",other-file | other-file | other-file,"Display Configuration options in Admin pages Create admin pages to display the different IOptions<> that can be configured in the application. These options can be set in appsettings.json, in ShellSettings by tenant, in Database. Ex: MediaOptions Will help to check what are the current properties values. Simple form page with for each property: - Name - Value - Hint Add link to documentation (and create if it does not exists). Provide help to know how to define/override configuration (Name of section, json example). Use a specific Permission (only for Administrator) if sensitive data. Find a way to display a menu or a link somewhere in the admin. Todo: List all options that can be configured. Please comment to say if you find this useful or not or if you want to add a suggestion. other-file other-file other-file",no-bug,0.95
5419,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5419,Application Settings Fail if Tenant Not Present,"Say I want to override some configurations in App Settings (let's user GraphQL as en example). If I use these settings:  { ""OrchardCore"": { ""TenantName"": { ""State"": ""Placeholder"", ""OrchardCore.Apis.GraphQL"": { ""DefaultNumberOfResults"": 1000, ""MaxNumberOfResults"": 10000 } } } }  This works out perfect if ""TenantName"" exists. However, if ""TenantName"" is not currently a tenant (i.e. if you are setting it up in advance or if you remove a tenant) ALL websites will not function. Ideally, Orchard Core would just ignore this section if the ""TenantName"" does not exist.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file,"Application Settings Fail if Tenant Not Present Say I want to override some configurations in App Settings (let's user GraphQL as en example). If I use these settings:  { ""OrchardCore"": { ""TenantName"": { ""State"": ""Placeholder"", ""OrchardCore.Apis.GraphQL"": { ""DefaultNumberOfResults"": 1000, ""MaxNumberOfResults"": 10000 } } } }  This works out perfect if ""TenantName"" exists. However, if ""TenantName"" is not currently a tenant (i.e. if you are setting it up in advance or if you remove a tenant) ALL websites will not function. Ideally, Orchard Core would just ignore this section if the ""TenantName"" does not exist. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file documentation-file",no-bug,0.8
8243,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8243,Add docs for OrchardCore VS Templates,,other-file | documentation-file,Add docs for OrchardCore VS Templates  other-file documentation-file,no-bug,0.95
8249,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/8249,TheAgency: script url,The folder has been renamed into scripts (previously Scripts) so the url does not work when deployed on production: `/TheAgencyTheme/Scripts/scripts.js` https://github.com/OrchardCMS/OrchardCore/blob/b9019ae5dacc64d657cb3ec83f7639cde53bd95c/src/OrchardCore.Themes/TheAgencyTheme/ResourceManifest.cs#L14,other-file | other-file,TheAgency: script url The folder has been renamed into scripts (previously Scripts) so the url does not work when deployed on production: `/TheAgencyTheme/Scripts/scripts.js` https://github.com/OrchardCMS/OrchardCore/blob/b9019ae5dacc64d657cb3ec83f7639cde53bd95c/src/OrchardCore.Themes/TheAgencyTheme/ResourceManifest.cs#L14 other-file other-file,no-bug,0.9
17483,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/17483,"Add ""save and continue"" button to admin menu node editor"," Is your feature request related to a problem? When editing a admin menu, there is no option to ""save and continue"" to stay on the edit page. After saving the menu, user is always redirect to list view, which slows user down in case they want to debug or try things out.  Describe the solution you'd like Add save and continue button to admin menu edit (create?) view. This would also unify the behiviour and design with content item edit view.  Describe alternatives you've considered Perhaps it would be best to rewrite admin menu display management so it would be the same as the content management. This requires much more effort however.",other-file | other-file,"Add ""save and continue"" button to admin menu node editor  Is your feature request related to a problem? When editing a admin menu, there is no option to ""save and continue"" to stay on the edit page. After saving the menu, user is always redirect to list view, which slows user down in case they want to debug or try things out.  Describe the solution you'd like Add save and continue button to admin menu edit (create?) view. This would also unify the behiviour and design with content item edit view.  Describe alternatives you've considered Perhaps it would be best to rewrite admin menu display management so it would be the same as the content management. This requires much more effort however. other-file other-file",no-bug,0.9
6344,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/6344,WidgetsList Part shuffles in UI,"Added a WidgetList Part in Custom Content Type and tried to add a widgets more than 15, when previewing the order shuffles. Kindly do the needful. Note : When the number of widgets < 16, the UI works perfectly.",other-file | other-file | other-file,"WidgetsList Part shuffles in UI Added a WidgetList Part in Custom Content Type and tried to add a widgets more than 15, when previewing the order shuffles. Kindly do the needful. Note : When the number of widgets < 16, the UI works perfectly. other-file other-file other-file",no-bug,0.9
12531,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12531,Remove hard coded HTML ids from UserFields.Edit.cshtml view," Is your feature request related to a problem? Please describe. I am trying to create a feature that would allow an Admin to bulk import users from excel file. After the user uploaded the excel file, I want to build the Edit fields for every user in my file. This means calling the `UserFields.Edit.cshtml` multiple times in the same output. The only problem that I am facing is that the password generator fails because the same html id are used on the same page which is not good. Here are the hard coded ids `generatePassword`, `passwordConfirmationToggle`, `passwordToggle` and `copyPassword`.  Describe the solution you'd like We should never hard code fixed ID in views that are used by driver. Instead, we should dynamically generate ID or class name to allow the user to reuse the views if needed like in my case.  Workaround I override the view in my own theme, but since this view is driver driven, I think it should be robust.",other-file,"Remove hard coded HTML ids from UserFields.Edit.cshtml view  Is your feature request related to a problem? Please describe. I am trying to create a feature that would allow an Admin to bulk import users from excel file. After the user uploaded the excel file, I want to build the Edit fields for every user in my file. This means calling the `UserFields.Edit.cshtml` multiple times in the same output. The only problem that I am facing is that the password generator fails because the same html id are used on the same page which is not good. Here are the hard coded ids `generatePassword`, `passwordConfirmationToggle`, `passwordToggle` and `copyPassword`.  Describe the solution you'd like We should never hard code fixed ID in views that are used by driver. Instead, we should dynamically generate ID or class name to allow the user to reuse the views if needed like in my case.  Workaround I override the view in my own theme, but since this view is driver driven, I think it should be robust. other-file",no-bug,0.95
10384,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/10384,Clicking older or newer posts button not show list of blog post but show all categories instead," Describe the bug - On blog posts in a category page, if there are pagination buttons, clicking older or newer posts button bring users to all categories page which is not expected behavior. - Given we have 6 blog posts and set page size to 2. - We have 3 pages (2 post items per page) - We can't get 3rd page by clicking **Older Posts** button but we get all categories page instead. - I am not sure if it happens when we are about to go to first or last page only.  To Reproduce - Setup or new Orchard Core CMS website with a blog recipe or use my existing demo website: - https://orchard-core-demo.azurewebsites.net/ - username: admin - password: 12345Abc$ - source code https://github.com/aaronamm/OrchardCoreDemo - Orchard version 1.0 - database SQLite - Login in as admin. - Go to blog menu. - Clone an existing blog post to get 6 post items in total. - Publish all content items. - Go to Configuration > Settings > General - Change page size to **2** to get **3 pages** on frontend. - Go back to home page and browse all blog posts in travel category (e.g. https://orchard-core-demo.azurewebsites.net/categories/travel) - You will find a simple pagination with **Older Posts** button. - Click **Older Posts** button to go to 2nd page. - Click **Older Post** button again to go to 3rd page. - **You will be redirect to all categories page that list all categories (e.g. https://orchard-core-demo.azurewebsites.net/categories) which is not what we want.** - On a page that has a Newer Posts button, try to click it and you will get the same behavior.  Expected behavior - Show 3rd page and 1st page instead of showing all categories page - Do not show ""Older Posts"" or ""Newer Posts"" button if there is no blog post, I think it is existing behavior.  Screenshots On home page, then click Travel category ![image](https://user-images.githubusercontent.com/2938310/135574377-c99b1664-ef62-4698-a1b3-d77979eacc85.png) blog posts in a category page 1st page ![image](https://user-images.githubusercontent.com/2938310/135571627-7dd039bc-ac7d-401d-a326-27a78090e92b.png) 2nd page ![image](https://user-images.githubusercontent.com/2938310/135571756-347710dd-8238-454e-ad8e-53f10b243bd1.png) Not go to 3rd page but get all categories page instead ![image](https://user-images.githubusercontent.com/2938310/135571836-e80234ce-3426-4e95-b363-985bbea6bf7e.png)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | test-file | other-file | other-file | config-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | test-file | test-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | other-file | documentation-file | documentation-file,"Clicking older or newer posts button not show list of blog post but show all categories instead  Describe the bug - On blog posts in a category page, if there are pagination buttons, clicking older or newer posts button bring users to all categories page which is not expected behavior. - Given we have 6 blog posts and set page size to 2. - We have 3 pages (2 post items per page) - We can't get 3rd page by clicking **Older Posts** button but we get all categories page instead. - I am not sure if it happens when we are about to go to first or last page only.  To Reproduce - Setup or new Orchard Core CMS website with a blog recipe or use my existing demo website: - https://orchard-core-demo.azurewebsites.net/ - username: admin - password: 12345Abc$ - source code https://github.com/aaronamm/OrchardCoreDemo - Orchard version 1.0 - database SQLite - Login in as admin. - Go to blog menu. - Clone an existing blog post to get 6 post items in total. - Publish all content items. - Go to Configuration > Settings > General - Change page size to **2** to get **3 pages** on frontend. - Go back to home page and browse all blog posts in travel category (e.g. https://orchard-core-demo.azurewebsites.net/categories/travel) - You will find a simple pagination with **Older Posts** button. - Click **Older Posts** button to go to 2nd page. - Click **Older Post** button again to go to 3rd page. - **You will be redirect to all categories page that list all categories (e.g. https://orchard-core-demo.azurewebsites.net/categories) which is not what we want.** - On a page that has a Newer Posts button, try to click it and you will get the same behavior.  Expected behavior - Show 3rd page and 1st page instead of showing all categories page - Do not show ""Older Posts"" or ""Newer Posts"" button if there is no blog post, I think it is existing behavior.  Screenshots On home page, then click Travel category ![image](https://user-images.githubusercontent.com/2938310/135574377-c99b1664-ef62-4698-a1b3-d77979eacc85.png) blog posts in a category page 1st page ![image](https://user-images.githubusercontent.com/2938310/135571627-7dd039bc-ac7d-401d-a326-27a78090e92b.png) 2nd page ![image](https://user-images.githubusercontent.com/2938310/135571756-347710dd-8238-454e-ad8e-53f10b243bd1.png) Not go to 3rd page but get all categories page instead ![image](https://user-images.githubusercontent.com/2938310/135571836-e80234ce-3426-4e95-b363-985bbea6bf7e.png) other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file documentation-file documentation-file documentation-file test-file other-file other-file config-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file test-file test-file other-file documentation-file documentation-file source-file source-file source-file source-file other-file documentation-file documentation-file",no-bug,0.8
9101,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9101,Remote deployment roles missing,"Roles for remote deployment can't be set, they aren't in admin at all, probably because they are not registered in startup.cs? OrchardCore.Modules/OrchardCore.Deployment.Remote/Permissions.cs Because of this, only admin can deploy to another environment. Is there a reason for that, or can I fix it and create PR?",other-file,"Remote deployment roles missing Roles for remote deployment can't be set, they aren't in admin at all, probably because they are not registered in startup.cs? OrchardCore.Modules/OrchardCore.Deployment.Remote/Permissions.cs Because of this, only admin can deploy to another environment. Is there a reason for that, or can I fix it and create PR? other-file",no-bug,0.8
9394,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9394,KendoUI script error after upgrade to latest dev branch,"I developed some modules on Kendo UI framework and that works fine. after upgrade to the latest dev branch, this error occurred on my page: `Uncaught TypeError: jQuery().kendoLoader is not a function` I think this is because ResorceManagement class moved `<script src=""/OrchardCore.Resources/Scripts/jquery.js""></script>` to the end of page. how can I set `OrchardCore.Resources` scripts inserted in `<head>` tag??",other-file | test-file | other-file | other-file | test-file,"KendoUI script error after upgrade to latest dev branch I developed some modules on Kendo UI framework and that works fine. after upgrade to the latest dev branch, this error occurred on my page: `Uncaught TypeError: jQuery().kendoLoader is not a function` I think this is because ResorceManagement class moved `<script src=""/OrchardCore.Resources/Scripts/jquery.js""></script>` to the end of page. how can I set `OrchardCore.Resources` scripts inserted in `<head>` tag?? other-file test-file other-file other-file test-file",no-bug,0.9
5334,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5334,Disabled Workflow with HttpRequestEvent still triggers,Disabling the workflow does not stop the HttpRequestEvent to trigger.,other-file,Disabled Workflow with HttpRequestEvent still triggers Disabling the workflow does not stop the HttpRequestEvent to trigger. other-file,no-bug,0.7
9693,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9693,Trumbowyg icons are giant, Describe the bug Updated to 1.0.0-rc2-16262 and now the trumbowyg icons are giant when using an HTML body part. **EDIT:** Still a problem in 1.0.0-rc2-16296  To Reproduce Steps to reproduce the behavior: 1. Create a fresh OC site using the blog theme. 2. Add an HTML body part to the blog post content type. 3. Set the site to use framework CDN. 4. Create a new blog post.  Screenshots ![image](https://user-images.githubusercontent.com/68876423/122060666-c86b8480-cdbb-11eb-838e-ee770e64759e.png) From the console window:  Failed to find a valid digest in the 'integrity' attribute for resource 'https://cdn.jsdelivr.net/npm/trumbowyg@2.24.0/dist/ui/trumbowyg.css' with computed SHA-256 integrity 'c3pFwAU4HTx9A6bnVa7aUSYrnr/bWqPfHEe7UuhE2e8='. The resource has been blocked.   Workaround Disable CDN from the admin settings,other-file | other-file,Trumbowyg icons are giant  Describe the bug Updated to 1.0.0-rc2-16262 and now the trumbowyg icons are giant when using an HTML body part. **EDIT:** Still a problem in 1.0.0-rc2-16296  To Reproduce Steps to reproduce the behavior: 1. Create a fresh OC site using the blog theme. 2. Add an HTML body part to the blog post content type. 3. Set the site to use framework CDN. 4. Create a new blog post.  Screenshots ![image](https://user-images.githubusercontent.com/68876423/122060666-c86b8480-cdbb-11eb-838e-ee770e64759e.png) From the console window:  Failed to find a valid digest in the 'integrity' attribute for resource 'https://cdn.jsdelivr.net/npm/trumbowyg@2.24.0/dist/ui/trumbowyg.css' with computed SHA-256 integrity 'c3pFwAU4HTx9A6bnVa7aUSYrnr/bWqPfHEe7UuhE2e8='. The resource has been blocked.   Workaround Disable CDN from the admin settings other-file other-file,no-bug,0.95
5149,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/5149,"In admin theme, changing Location of buttons using placement.json shows lots of buttons in UI","In Admin theme, When ""Actions"" zone is added in `Layout.cshtml ` as following  <div class=""ta-content""> @await RenderSectionAsync(""Messages"", required: false) @await RenderSectionAsync(""Breadcrumbs"", required: false) @await RenderBodyAsync() @await RenderSectionAsync(""Actions"", required: false) </div>  And use `placement.json` as below **placement.json**  { ""Content_PublishButton"": [ { ""place"": ""/Actions:5"" } ], ""Content_SaveDraftButton"": [ { ""place"": ""/Actions:6"" } ], ""ContentPreview_Button"": [ { ""place"": ""/Actions:6"" } ] }  Edit Content shows lots of buttons in UI. Publish, Save Draft and Preview button would be seen only once. ![image](https://user-images.githubusercontent.com/23270244/71535430-b21df000-28cb-11ea-8bb2-2df6aa10b9c4.png)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | other-file | config-file | config-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | documentation-file | other-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | documentation-file | other-file | config-file | config-file | documentation-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | config-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | test-file | test-file | test-file | test-file | test-file | other-file | documentation-file | other-file | other-file | config-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | documentation-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"In admin theme, changing Location of buttons using placement.json shows lots of buttons in UI In Admin theme, When ""Actions"" zone is added in `Layout.cshtml ` as following  <div class=""ta-content""> @await RenderSectionAsync(""Messages"", required: false) @await RenderSectionAsync(""Breadcrumbs"", required: false) @await RenderBodyAsync() @await RenderSectionAsync(""Actions"", required: false) </div>  And use `placement.json` as below **placement.json**  { ""Content_PublishButton"": [ { ""place"": ""/Actions:5"" } ], ""Content_SaveDraftButton"": [ { ""place"": ""/Actions:6"" } ], ""ContentPreview_Button"": [ { ""place"": ""/Actions:6"" } ] }  Edit Content shows lots of buttons in UI. Publish, Save Draft and Preview button would be seen only once. ![image](https://user-images.githubusercontent.com/23270244/71535430-b21df000-28cb-11ea-8bb2-2df6aa10b9c4.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file other-file config-file config-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file documentation-file other-file config-file config-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file documentation-file other-file config-file config-file documentation-file documentation-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file documentation-file other-file other-file documentation-file documentation-file documentation-file documentation-file config-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file source-file source-file other-file other-file documentation-file other-file other-file documentation-file other-file other-file documentation-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file test-file test-file test-file test-file test-file other-file documentation-file other-file other-file config-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file other-file documentation-file documentation-file other-file documentation-file other-file documentation-file other-file other-file documentation-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
15979,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/15979,Add necessary checks for ContentType import, Is your feature request related to a problem? Please describe. Because the type definition was written incorrectly resulting in hard to locate problems with the program. ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/94b43759-b408-42bb-b0c8-812595ed2c85)  Describe the solution you'd like Add the necessary ancillary checking logic for data imports,other-file | other-file | test-file | test-file | test-file | other-file | test-file | test-file | test-file,Add necessary checks for ContentType import  Is your feature request related to a problem? Please describe. Because the type definition was written incorrectly resulting in hard to locate problems with the program. ![image](https://github.com/OrchardCMS/OrchardCore/assets/15613121/94b43759-b408-42bb-b0c8-812595ed2c85)  Describe the solution you'd like Add the necessary ancillary checking logic for data imports other-file other-file test-file test-file test-file other-file test-file test-file test-file,no-bug,0.9
12199,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/12199,Trigger indexing from a recipe," Is your feature request related to a problem? Please describe. Currently, when we are creating a search index from a recipe it doesn't build the index. This causes issues with Lucene and Elasticsearch where the Queries won't return any results and also Elasticsearch will log an issue about ""all shards failed"" if nothing has been indexed yet in its indexes.  Describe the solution you'd like As an enhancement. It would be nice to be able to trigger an index to be rebuilt or reset from a scheduled background task as a one-time only task.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file,"Trigger indexing from a recipe  Is your feature request related to a problem? Please describe. Currently, when we are creating a search index from a recipe it doesn't build the index. This causes issues with Lucene and Elasticsearch where the Queries won't return any results and also Elasticsearch will log an issue about ""all shards failed"" if nothing has been indexed yet in its indexes.  Describe the solution you'd like As an enhancement. It would be nice to be able to trigger an index to be rebuilt or reset from a scheduled background task as a one-time only task. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file",no-bug,0.9
9326,OrchardCore,https://github.com/OrchardCMS/OrchardCore/issues/9326,HomeController namespace in MvcModule template,"When using Mvc Module template, the generated `HomeController` namespace is`not replaced and set to `Module1.Controllers`.",other-file | other-file,"HomeController namespace in MvcModule template When using Mvc Module template, the generated `HomeController` namespace is`not replaced and set to `Module1.Controllers`. other-file other-file",no-bug,0.9
