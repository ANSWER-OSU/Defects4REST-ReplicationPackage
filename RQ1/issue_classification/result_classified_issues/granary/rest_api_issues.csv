issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence
752,granary,https://github.com/snarfed/granary/issues/752,Incorrect use of `atom:uri` element,"https://github.com/snarfed/granary/blob/main/granary/atom.py#L265 py a = { 'objectType': 'activity', 'verb': _as1_value(entry, 'verb') or 'post', 'id': _text(entry, 'id') or (obj['id'] if obj_elem is None else None), 'url': _text(entry, 'uri') or (obj['url'] if obj_elem is None else None), 'object': obj, 'actor': _author_to_actor(entry, feed_author=feed_author), 'inReplyTo': obj.get('inReplyTo'), }  [`atom:uri`](https://datatracker.ietf.org/doc/html/rfc4287#section-3.2.2) element doesn't do what you think it does. Correct way of getting a URL from an entry is `href` attribute of [`atom:link`](https://datatracker.ietf.org/doc/html/rfc4287#section-4.2.7) element.",documentation-file | source-file | test-file,"Incorrect use of `atom:uri` element https://github.com/snarfed/granary/blob/main/granary/atom.py#L265 py a = { 'objectType': 'activity', 'verb': _as1_value(entry, 'verb') or 'post', 'id': _text(entry, 'id') or (obj['id'] if obj_elem is None else None), 'url': _text(entry, 'uri') or (obj['url'] if obj_elem is None else None), 'object': obj, 'actor': _author_to_actor(entry, feed_author=feed_author), 'inReplyTo': obj.get('inReplyTo'), }  [`atom:uri`](https://datatracker.ietf.org/doc/html/rfc4287#section-3.2.2) element doesn't do what you think it does. Correct way of getting a URL from an entry is `href` attribute of [`atom:link`](https://datatracker.ietf.org/doc/html/rfc4287#section-4.2.7) element. documentation-file source-file test-file",bug,0.85
127,granary,https://github.com/snarfed/granary/issues/127,Instagram dates do not include timezone offset,"It looks like Granary is displaying dates from Instagram feeds as UTC, but then not including the timezone offset. (I'm using the Instagram to HTML conversion). It should either explicitly set the `+0000` or `Z` offset if it's converting to UTC, or if it knows the local time then set that offset instead. (XRay looks up the timezone for the photo's location and converts it to a local time, but you might not want to do that.)",source-file | test-file | test-file | test-file | test-file,"Instagram dates do not include timezone offset It looks like Granary is displaying dates from Instagram feeds as UTC, but then not including the timezone offset. (I'm using the Instagram to HTML conversion). It should either explicitly set the `+0000` or `Z` offset if it's converting to UTC, or if it knows the local time then set that offset instead. (XRay looks up the timezone for the photo's location and converts it to a local time, but you might not want to do that.) source-file test-file test-file test-file test-file",bug,0.85
214,granary,https://github.com/snarfed/granary/issues/214,"use synthetic permalinks for like/share publishes on twitter, mastodon","currently we're only returning the URL of the liked/shared post. instead, we should generate and return the same synthetic like/share permalinks that we already use in other places, eg https://twitter.com/foo/status/123#liked-by-456 . [requested here](https://chat.indieweb.org/dev/2020-06-12#t1592000648266500) by @jalcine. thanks for the nudge!",source-file | test-file,"use synthetic permalinks for like/share publishes on twitter, mastodon currently we're only returning the URL of the liked/shared post. instead, we should generate and return the same synthetic like/share permalinks that we already use in other places, eg https://twitter.com/foo/status/123#liked-by-456 . [requested here](https://chat.indieweb.org/dev/2020-06-12#t1592000648266500) by @jalcine. thanks for the nudge! source-file test-file",bug,0.85
146,granary,https://github.com/snarfed/granary/issues/146,JSON Feed of Instagram posts should include the images inline,"It seems that prior to your fix for #120, images were duplicated in some of the output formats. As part of the fix you special-cased Atom so that the image would still be included within the entrys `<content>`. I think that JSON Feed should be getting the same treatment. I subscribed to an Instagram-via-Granary JSON Feed in Feedbin and while it shows the photos in the article list, the photos dont actually appear in the content of the article. (In ReadKit for macOS and Reeder for iOS, which use Feedbin as a backend, the photo doesnt appear anywhere at all.) The [JSON Feed spec](https://jsonfeed.org/version/1) also implies that featured images should be included in the `content_html` in addition to being listed in the `image` property.",source-file | test-file,"JSON Feed of Instagram posts should include the images inline It seems that prior to your fix for #120, images were duplicated in some of the output formats. As part of the fix you special-cased Atom so that the image would still be included within the entrys `<content>`. I think that JSON Feed should be getting the same treatment. I subscribed to an Instagram-via-Granary JSON Feed in Feedbin and while it shows the photos in the article list, the photos dont actually appear in the content of the article. (In ReadKit for macOS and Reeder for iOS, which use Feedbin as a backend, the photo doesnt appear anywhere at all.) The [JSON Feed spec](https://jsonfeed.org/version/1) also implies that featured images should be included in the `content_html` in addition to being listed in the `image` property. source-file test-file",bug,0.9
101,granary,https://github.com/snarfed/granary/issues/101,add appropriate content-type headers for XML feed,"When I view a granary feed in chrome, I see a lot of text. When I view other feeds, chrome renders it as an XML tree. I see granary sets a content-type header of `text/xml` which I would have thought would work, but on a feed that looks right in the browser I see that the content type is `application/xml`. Compare: https://voxpelli.com/english.xml ![xml-feed](https://media.aaronpk.com/Screen-Shot-2017-01-21-12-25-20.png) https://granary-demo.appspot.com/url?input=html&output=atom&url=https%3A%2F%2Fnews.indieweb.org%2Fen ![text](https://media.aaronpk.com/Screen-Shot-2017-01-21-12-25-37.png)",source-file | test-file,"add appropriate content-type headers for XML feed When I view a granary feed in chrome, I see a lot of text. When I view other feeds, chrome renders it as an XML tree. I see granary sets a content-type header of `text/xml` which I would have thought would work, but on a feed that looks right in the browser I see that the content type is `application/xml`. Compare: https://voxpelli.com/english.xml ![xml-feed](https://media.aaronpk.com/Screen-Shot-2017-01-21-12-25-20.png) https://granary-demo.appspot.com/url?input=html&output=atom&url=https%3A%2F%2Fnews.indieweb.org%2Fen ![text](https://media.aaronpk.com/Screen-Shot-2017-01-21-12-25-37.png) source-file test-file",bug,0.85
22,granary,https://github.com/snarfed/granary/issues/22,reply with photo,https://github.com/snarfed/activitystreams-unofficial/blob/master/twitter.py#L549 Seems replies and photos are mutually exclusive due to that line. Bridgy can't seem to post a photo reply for instance: https://kartikprabhu.com/notes/crispy-salmon,test-file | other-file | source-file | test-file,reply with photo https://github.com/snarfed/activitystreams-unofficial/blob/master/twitter.py#L549 Seems replies and photos are mutually exclusive due to that line. Bridgy can't seem to post a photo reply for instance: https://kartikprabhu.com/notes/crispy-salmon test-file other-file source-file test-file,bug,0.85
18,granary,https://github.com/snarfed/granary/issues/18,Twitter: fetch an arbitrary user's timeline,"> (1:05:01 PM) kylewm: snarfed: hey is it possible with twitter-activitystreams to list someone else's > tweets (for use with shrewdness)? i tried /(username)/@all but it's the same as /@me/@all > > (1:14:35 PM) snarfed: kylewm: yeah, rest api doesn't support it but it should. pretty easy fix, we just > need to add screen_name or user_id to API_SELF_TIMELINE_URL here: > https://github.com/snarfed/activitystreams-unofficial/tree/master/twitter.py#L183",source-file | test-file,"Twitter: fetch an arbitrary user's timeline > (1:05:01 PM) kylewm: snarfed: hey is it possible with twitter-activitystreams to list someone else's > tweets (for use with shrewdness)? i tried /(username)/@all but it's the same as /@me/@all > > (1:14:35 PM) snarfed: kylewm: yeah, rest api doesn't support it but it should. pretty easy fix, we just > need to add screen_name or user_id to API_SELF_TIMELINE_URL here: > https://github.com/snarfed/activitystreams-unofficial/tree/master/twitter.py#L183 source-file test-file",bug,0.9
135,granary,https://github.com/snarfed/granary/issues/135,possible cache leak,"granary serves some feeds that are moderately high traffic, e.g. @aaronpk's and @gregorlove's (hi!), so it currently caches responses for 5m to avoid hammering their sites. @aaronpk noticed a possible cache leak: he tried a twitter search for one query, then another, and got the same results as the first. maybe we're excluding search query from the cache key? seems unlikely since we cache the full url, but still.",source-file | source-file | source-file | source-file,"possible cache leak granary serves some feeds that are moderately high traffic, e.g. @aaronpk's and @gregorlove's (hi!), so it currently caches responses for 5m to avoid hammering their sites. @aaronpk noticed a possible cache leak: he tried a twitter search for one query, then another, and got the same results as the first. maybe we're excluding search query from the cache key? seems unlikely since we cache the full url, but still. source-file source-file source-file source-file",bug,0.85
