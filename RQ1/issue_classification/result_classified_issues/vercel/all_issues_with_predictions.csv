issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence
927,vercel,https://github.com/vercel/vercel/issues/927,Order get's mixed up when now-rm multiple instances,"If I run `now rm url1 url2  urln` with deployment urls that are sorted by date (copied from `now list output) The verification question changes the order deployments: <img width=""664"" alt="""" src=""https://user-images.githubusercontent.com/1354151/31510259-dec94dd0-af8c-11e7-836e-4db9afc312ba.png""> And then the output of deleted apps list IDs instead of urls. <img width=""321"" alt="""" src=""https://user-images.githubusercontent.com/1354151/31510307-faa06610-af8c-11e7-8537-2aff99641e2d.png"">",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Order get's mixed up when now-rm multiple instances If I run `now rm url1 url2  urln` with deployment urls that are sorted by date (copied from `now list output) The verification question changes the order deployments: <img width=""664"" alt="""" src=""https://user-images.githubusercontent.com/1354151/31510259-dec94dd0-af8c-11e7-836e-4db9afc312ba.png""> And then the output of deleted apps list IDs instead of urls. <img width=""321"" alt="""" src=""https://user-images.githubusercontent.com/1354151/31510307-faa06610-af8c-11e7-8537-2aff99641e2d.png""> source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.8
113,vercel,https://github.com/vercel/vercel/issues/113,Memory management in case of sleep,"How does Now handle a node app's memory when it is set to sleep? Will the app completely relaunch or will it continue where it left off in terms of what is still stored in memory? Can I write files to disk and if so, will they survive if the app is put to sleep or should I assume that the app always runs for the first time? TLDR; can I store something and rely on that it is there in case of a shutdown?",source-file | source-file,"Memory management in case of sleep How does Now handle a node app's memory when it is set to sleep? Will the app completely relaunch or will it continue where it left off in terms of what is still stored in memory? Can I write files to disk and if so, will they survive if the app is put to sleep or should I assume that the app always runs for the first time? TLDR; can I store something and rely on that it is there in case of a shutdown? source-file source-file",no-bug,0.9
325,vercel,https://github.com/vercel/vercel/issues/325,Zeit world without now hosting service,"Hello, I have a doubt not directly (but indirectly) reated to now. It's about zeit.world. I haven't technical knowledge about DNS. Can I use zeit world without zeit now hosting service? *For example*, point my domain name to Github Pages using world DNS services? https://help.github.com/articles/quick-start-setting-up-a-custom-domain/ Thanks in advance.",source-file | source-file,"Zeit world without now hosting service Hello, I have a doubt not directly (but indirectly) reated to now. It's about zeit.world. I haven't technical knowledge about DNS. Can I use zeit world without zeit now hosting service? *For example*, point my domain name to Github Pages using world DNS services? https://help.github.com/articles/quick-start-setting-up-a-custom-domain/ Thanks in advance. source-file source-file",no-bug,0.9
772,vercel,https://github.com/vercel/vercel/issues/772,Show a nice page after getting access to GCP,"_From @matheuss on July 10, 2017 4:5_ 1. `now gcp login` 2. You'll see this: <img width=""45%"" src=""https://user-images.githubusercontent.com/4721750/28002443-96932f84-650b-11e7-9eac-77e4866c199c.png""> 3. After clicking on `cancel` or `allow`, you'll see this: <img src=""https://user-images.githubusercontent.com/4721750/28002460-b798d724-650b-11e7-8672-492ea235564b.png""> We can show anything there, even redirect the user to zeit.co/sth _Copied from original issue: zeit/now#11_",source-file | source-file | test-file,"Show a nice page after getting access to GCP _From @matheuss on July 10, 2017 4:5_ 1. `now gcp login` 2. You'll see this: <img width=""45%"" src=""https://user-images.githubusercontent.com/4721750/28002443-96932f84-650b-11e7-9eac-77e4866c199c.png""> 3. After clicking on `cancel` or `allow`, you'll see this: <img src=""https://user-images.githubusercontent.com/4721750/28002460-b798d724-650b-11e7-8672-492ea235564b.png""> We can show anything there, even redirect the user to zeit.co/sth _Copied from original issue: zeit/now#11_ source-file source-file test-file",no-bug,0.9
417,vercel,https://github.com/vercel/vercel/issues/417,Seems electron couldn't get correctly installed on now.sh server,"I have [an app](https://pageshot-giyodcosyi.now.sh/?url=https%3A%2F%2Fgoogle.com) works smoothly on my local machine, while on server it just return 502 error: ![image](https://cloud.githubusercontent.com/assets/215282/24688496/e7da19a2-19f2-11e7-825a-92e3978f2017.png) Using `process.on('uncaughtException', () => {})` I got this:  Error: spawn /home/nowuser/src/node_modules/electron/dist/electron ENOENT  Seems electron couldn't get correctly installed on now.sh? In my case, I'm using [nightmare](https://www.npmjs.com/package/nightmare) which depends on [electron](https://www.npmjs.com/package/electron).",source-file,"Seems electron couldn't get correctly installed on now.sh server I have [an app](https://pageshot-giyodcosyi.now.sh/?url=https%3A%2F%2Fgoogle.com) works smoothly on my local machine, while on server it just return 502 error: ![image](https://cloud.githubusercontent.com/assets/215282/24688496/e7da19a2-19f2-11e7-825a-92e3978f2017.png) Using `process.on('uncaughtException', () => {})` I got this:  Error: spawn /home/nowuser/src/node_modules/electron/dist/electron ENOENT  Seems electron couldn't get correctly installed on now.sh? In my case, I'm using [nightmare](https://www.npmjs.com/package/nightmare) which depends on [electron](https://www.npmjs.com/package/electron). source-file",no-bug,0.9
3731,vercel,https://github.com/vercel/vercel/issues/3731,trailingSlash feature parity between now and serve,"Hello, I'm not sure if this i a legit issue, but I can see that `zeit-cli` consumes the `serve-handler` package and I was under the impression that `now dev` used serve under the hood, but I might be out on a whim here. The Serve README also says: > Once it's time to push your site to production, we recommend using ZEIT Now. Anyhow, there is an inconsistency when using the `trailingSlash` option in `now` deployments. It boils down to: 1. Now will redirect files (eg /style.css) to trailing slash. Serve does not. 2. Now redirects with a 308 status, Serve redirects with a 301 status. (this is less of an issue just a noted difference) I've setup a reproducible test-case here: https://github.com/danielstocks/trailing-slash-experiments. So my question is: Is this by design or can it be considered a bug? Thanks in advance",test-file | source-file | test-file,"trailingSlash feature parity between now and serve Hello, I'm not sure if this i a legit issue, but I can see that `zeit-cli` consumes the `serve-handler` package and I was under the impression that `now dev` used serve under the hood, but I might be out on a whim here. The Serve README also says: > Once it's time to push your site to production, we recommend using ZEIT Now. Anyhow, there is an inconsistency when using the `trailingSlash` option in `now` deployments. It boils down to: 1. Now will redirect files (eg /style.css) to trailing slash. Serve does not. 2. Now redirects with a 308 status, Serve redirects with a 301 status. (this is less of an issue just a noted difference) I've setup a reproducible test-case here: https://github.com/danielstocks/trailing-slash-experiments. So my question is: Is this by design or can it be considered a bug? Thanks in advance test-file source-file test-file",no-bug,0.8
758,vercel,https://github.com/vercel/vercel/issues/758,Why does `now` install devDependencies?,"_From @gunar on August 28, 2017 15:13_ Check out these logs:  > Installing package eslint@^4.5.0 > Installing package eslint-config-airbnb@^14.1.0 > Installing package eslint-formatter-list@^1.0.0 > Installing package eslint-formatter-pretty@^1.1.0 > Installing package eslint-plugin-import@^2.2.0 > Installing package eslint-plugin-jsx-a11y@^4.0.0 > Installing package eslint-plugin-lodash-fp@^2.1.3 > Installing package eslint-plugin-promise@^3.5.0 > Installing package eslint-plugin-react@^6.10.3  _Copied from original issue: zeit/now#61_",source-file,"Why does `now` install devDependencies? _From @gunar on August 28, 2017 15:13_ Check out these logs:  > Installing package eslint@^4.5.0 > Installing package eslint-config-airbnb@^14.1.0 > Installing package eslint-formatter-list@^1.0.0 > Installing package eslint-formatter-pretty@^1.1.0 > Installing package eslint-plugin-import@^2.2.0 > Installing package eslint-plugin-jsx-a11y@^4.0.0 > Installing package eslint-plugin-lodash-fp@^2.1.3 > Installing package eslint-plugin-promise@^3.5.0 > Installing package eslint-plugin-react@^6.10.3  _Copied from original issue: zeit/now#61_ source-file",no-bug,0.9
142,vercel,https://github.com/vercel/vercel/issues/142,Environment variables lost after crash restart,If a docker deployment crashes **with environment variables specified in the now command** then those environment variables are lost after the restart. now --docker -d -f -e NODE_ENV=production Test project: https://github.com/pqvst/envtest/tree/master,config-file,Environment variables lost after crash restart If a docker deployment crashes **with environment variables specified in the now command** then those environment variables are lost after the restart. now --docker -d -f -e NODE_ENV=production Test project: https://github.com/pqvst/envtest/tree/master config-file,no-bug,0.9
2859,vercel,https://github.com/vercel/vercel/issues/2859,Support Gatsby.js caching headers,It would be great if caching for gatsby.js is supported out of the box https://www.gatsbyjs.org/docs/caching/,source-file | documentation-file | test-file | test-file | source-file | documentation-file | test-file | test-file,Support Gatsby.js caching headers It would be great if caching for gatsby.js is supported out of the box https://www.gatsbyjs.org/docs/caching/ source-file documentation-file test-file test-file source-file documentation-file test-file test-file,no-bug,0.9
9132,vercel,https://github.com/vercel/vercel/issues/9132,Python ASGI functions crashing on incoming headers,"## Issue When deploying a Python ASGI application (e.g. using FastAPI, Sanic) with Vercel Serverless, the function is built successfully but invoking the URL the function leads to a crash with a 500 error. Here is the backend log from Vercel:  [ERROR] AttributeError: 'list' object has no attribute 'encode' Traceback (most recent call last): File ""/var/task/vc__handler__python.py"", line 288, in vc_handler 'headers': [[k.lower().encode(), v.encode()] for k, v in headers.items()], File ""/var/task/vc__handler__python.py"", line 288, in <listcomp> 'headers': [[k.lower().encode(), v.encode()] for k, v in headers.items()],  ## Investigations It seems there is an issue with incoming complex headers parsing for ASGI functions: - Python WSGI applications (e.g. using Flask) do not show this error - Invocations of ASGI functions using `curl` or `httpie` works perfectly, no errors - Bisecting headers from the web browser (Firefox, Chrome), here is a faulty header causing the crash:  Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8  - Invocations of ASGI functions using `curl` or `httpie` using the above header are triggering the error ## Reproduction A simple hello world app with FastAPI or Sanic in a module name `app.py`: python from fastapi import FastAPI app = FastAPI() @app.get(""/"") def index(): return {""message"": ""Hello World""}  python from sanic import Sanic from sanic.response import json app = Sanic(name=__name__) @app.route(""/"") async def index(request): return json({""message"": ""Hello World""})  `vercel.json`:  { ""builds"": [ { ""src"": ""app.py"", ""use"": ""@vercel/python"" } ], ""routes"": [ { ""src"": ""/(.*)"", ""dest"": ""app.py"" } ] }  ## Related issues - https://github.com/vercel/vercel/issues/2526",test-file | test-file | test-file | source-file,"Python ASGI functions crashing on incoming headers ## Issue When deploying a Python ASGI application (e.g. using FastAPI, Sanic) with Vercel Serverless, the function is built successfully but invoking the URL the function leads to a crash with a 500 error. Here is the backend log from Vercel:  [ERROR] AttributeError: 'list' object has no attribute 'encode' Traceback (most recent call last): File ""/var/task/vc__handler__python.py"", line 288, in vc_handler 'headers': [[k.lower().encode(), v.encode()] for k, v in headers.items()], File ""/var/task/vc__handler__python.py"", line 288, in <listcomp> 'headers': [[k.lower().encode(), v.encode()] for k, v in headers.items()],  ## Investigations It seems there is an issue with incoming complex headers parsing for ASGI functions: - Python WSGI applications (e.g. using Flask) do not show this error - Invocations of ASGI functions using `curl` or `httpie` works perfectly, no errors - Bisecting headers from the web browser (Firefox, Chrome), here is a faulty header causing the crash:  Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8  - Invocations of ASGI functions using `curl` or `httpie` using the above header are triggering the error ## Reproduction A simple hello world app with FastAPI or Sanic in a module name `app.py`: python from fastapi import FastAPI app = FastAPI() @app.get(""/"") def index(): return {""message"": ""Hello World""}  python from sanic import Sanic from sanic.response import json app = Sanic(name=__name__) @app.route(""/"") async def index(request): return json({""message"": ""Hello World""})  `vercel.json`:  { ""builds"": [ { ""src"": ""app.py"", ""use"": ""@vercel/python"" } ], ""routes"": [ { ""src"": ""/(.*)"", ""dest"": ""app.py"" } ] }  ## Related issues - https://github.com/vercel/vercel/issues/2526 test-file test-file test-file source-file",bug,0.9
438,vercel,https://github.com/vercel/vercel/issues/438,Cannot deploy getting started example from next.js,"**When using a getting started example from next.js** This is literally an example from the getting started guide for next.js I run the command from the root of where my package.json file sits: $ now > Error! Unexpected error. Please try later. (Cannot find module 'c:\projects\nextjs_gettingstarted\index.js') **When I try running this also from the pages/ directory** This does successfully publish but there is no root page. It's simply a directory reference to the index.js file. here: example: https://pages-apvnboahjx.now.sh This is what my file dir looks like: folders  nextjs_gettingstarted/ node_modules/ pages/ index.js .gitignore package.json README.md  **.gitignore:** .next/ node_modules/ **package.json** { ""name"": ""nextjs_gettingstarted"", ""version"": ""1.0.0"", ""description"": """", ""main"": ""index.js"", ""scripts"": { ""test"": ""echo \""Error: no test specified\"" && exit 1"", ""dev"": ""next"", ""build"": ""next build"", ""start"": ""next start"" }, ""author"": """", ""license"": ""ISC"", ""dependencies"": { ""next"": ""^2.1.1"", ""react"": ""^15.5.4"", ""react-dom"": ""^15.5.4"" } } **pages/index.js** export default () => ( <div>Welcome to next.js!</div> )",source-file | source-file,"Cannot deploy getting started example from next.js **When using a getting started example from next.js** This is literally an example from the getting started guide for next.js I run the command from the root of where my package.json file sits: $ now > Error! Unexpected error. Please try later. (Cannot find module 'c:\projects\nextjs_gettingstarted\index.js') **When I try running this also from the pages/ directory** This does successfully publish but there is no root page. It's simply a directory reference to the index.js file. here: example: https://pages-apvnboahjx.now.sh This is what my file dir looks like: folders  nextjs_gettingstarted/ node_modules/ pages/ index.js .gitignore package.json README.md  **.gitignore:** .next/ node_modules/ **package.json** { ""name"": ""nextjs_gettingstarted"", ""version"": ""1.0.0"", ""description"": """", ""main"": ""index.js"", ""scripts"": { ""test"": ""echo \""Error: no test specified\"" && exit 1"", ""dev"": ""next"", ""build"": ""next build"", ""start"": ""next start"" }, ""author"": """", ""license"": ""ISC"", ""dependencies"": { ""next"": ""^2.1.1"", ""react"": ""^15.5.4"", ""react-dom"": ""^15.5.4"" } } **pages/index.js** export default () => ( <div>Welcome to next.js!</div> ) source-file source-file",no-bug,0.9
585,vercel,https://github.com/vercel/vercel/issues/585,Feature request: `now whoami`,"Simple but effective command to know which account you are in. sh $ now whoami > renatorib  (I don't know how Teams works, but perhaps it can help with Teams too)",source-file | source-file | source-file | source-file | source-file | source-file,"Feature request: `now whoami` Simple but effective command to know which account you are in. sh $ now whoami > renatorib  (I don't know how Teams works, but perhaps it can help with Teams too) source-file source-file source-file source-file source-file source-file",no-bug,0.9
479,vercel,https://github.com/vercel/vercel/issues/479,Alias to custom domain fails when we can't get price for the domain,"Started getting an error today when attempting to alias custom domains: ` Fetching domain info> Error! Unknown error: TypeError: Cannot read property 'price' of undefined` And:   Fetching domain info> Error! Unknown error: TypeError: Cannot read property 'price' of undefined TypeError: Cannot read property 'price' of undefined at Alias.maybeSetUpDomain (/thebox/home/travis/build/zeit/now-cli/lib/alias.js:543:35) at Alias.set (/thebox/home/travis/build/zeit/now-cli/lib/alias.js:326:24) at process._tickCallback (internal/process/next_tick.js:103:7)  Probably the same error, but reported by another user",other-file,"Alias to custom domain fails when we can't get price for the domain Started getting an error today when attempting to alias custom domains: ` Fetching domain info> Error! Unknown error: TypeError: Cannot read property 'price' of undefined` And:   Fetching domain info> Error! Unknown error: TypeError: Cannot read property 'price' of undefined TypeError: Cannot read property 'price' of undefined at Alias.maybeSetUpDomain (/thebox/home/travis/build/zeit/now-cli/lib/alias.js:543:35) at Alias.set (/thebox/home/travis/build/zeit/now-cli/lib/alias.js:326:24) at process._tickCallback (internal/process/next_tick.js:103:7)  Probably the same error, but reported by another user other-file",no-bug,0.8
212,vercel,https://github.com/vercel/vercel/issues/212,Version 2.0.0 install broke `now`,I got the message: bash > UPDATE NEEDED Current: 1.0.0  Latest 2.0.0 (released 5m ago) > Run `npm install -g now` to update  I then ran bash npm install -g now  This is the output:  /usr/bin/now -> /usr/lib/node_modules/now/bin/now - babel-runtime@6.5.0 node_modules/now/node_modules/async-retry/node_modules/babel-runtime - core-js@2.4.1 node_modules/now/node_modules/babel-runtime/node_modules/core-js - exit-hook@1.1.1 node_modules/now/node_modules/exit-hook - regenerator-runtime@0.10.1 node_modules/now/node_modules/regenerator-runtime /usr/lib  now@2.0.0  async-retry@0.2.1   babel-runtime@6.5.0  async-to-gen@1.3.0   babylon@6.14.1   magic-string@0.19.0   vlq@0.2.1  ora@0.4.1   cli-cursor@2.1.0   restore-cursor@2.0.0   onetime@2.0.0    mimic-fn@1.1.0   signal-exit@3.0.2  update-notifier@1.0.3  boxen@0.6.0   ansi-align@1.1.0   camelcase@2.1.1   cli-boxes@1.0.0   filled-array@1.1.0   repeating@2.0.1    is-finite@1.0.2    number-is-nan@1.0.1   string-width@1.0.2    code-point-at@1.1.0    is-fullwidth-code-point@1.0.0   widest-line@1.0.0  configstore@2.1.0   dot-prop@3.0.0    is-obj@1.0.1   osenv@0.1.4   uuid@2.0.3   write-file-atomic@1.3.1   imurmurhash@0.1.4   slide@1.1.6  is-npm@1.0.0  latest-version@2.0.0   package-json@2.4.0   got@5.7.1    duplexer2@0.1.4    node-status-codes@1.0.0    parse-json@2.2.0     error-ex@1.3.0     is-arrayish@0.2.1    read-all-stream@3.1.0    timed-out@3.1.3    unzip-response@1.0.2   registry-auth-token@3.1.0   registry-url@3.1.0  lazy-req@1.1.0  semver-diff@2.1.0   semver@5.3.0  xdg-basedir@2.0.0  os-homedir@1.0.2  This happens when running `now ls` bash  now ls /usr/lib/node_modules/now/bin/now-list:72 .then(async token => {  SyntaxError: missing ) after argument list at Object.exports.runInThisContext (vm.js:76:16) at Module._compile (module.js:542:28) at Module._extensions..js (module.js:579:10) at Object.require.extensions.(anonymous function) [as .js] (/usr/lib/node_modules/now/node_modules/async-to-gen/register.js:40:5) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.<anonymous> (/usr/lib/node_modules/now/bin/now:83:1)  or for `now help`: bash /usr/lib/node_modules/now/bin/now-deploy:218 async function sync(token) {  SyntaxError: Unexpected token function at Object.exports.runInThisContext (vm.js:76:16) at Module._compile (module.js:542:28) at Module._extensions..js (module.js:579:10) at Object.require.extensions.(anonymous function) [as .js] (/usr/lib/node_modules/now/node_modules/async-to-gen/register.js:40:5) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.<anonymous> (/usr/lib/node_modules/now/bin/now:83:1) ,config-file | config-file | documentation-file | other-file | other-file | source-file | documentation-file | source-file | source-file | source-file | documentation-file | other-file,Version 2.0.0 install broke `now` I got the message: bash > UPDATE NEEDED Current: 1.0.0  Latest 2.0.0 (released 5m ago) > Run `npm install -g now` to update  I then ran bash npm install -g now  This is the output:  /usr/bin/now -> /usr/lib/node_modules/now/bin/now - babel-runtime@6.5.0 node_modules/now/node_modules/async-retry/node_modules/babel-runtime - core-js@2.4.1 node_modules/now/node_modules/babel-runtime/node_modules/core-js - exit-hook@1.1.1 node_modules/now/node_modules/exit-hook - regenerator-runtime@0.10.1 node_modules/now/node_modules/regenerator-runtime /usr/lib  now@2.0.0  async-retry@0.2.1   babel-runtime@6.5.0  async-to-gen@1.3.0   babylon@6.14.1   magic-string@0.19.0   vlq@0.2.1  ora@0.4.1   cli-cursor@2.1.0   restore-cursor@2.0.0   onetime@2.0.0    mimic-fn@1.1.0   signal-exit@3.0.2  update-notifier@1.0.3  boxen@0.6.0   ansi-align@1.1.0   camelcase@2.1.1   cli-boxes@1.0.0   filled-array@1.1.0   repeating@2.0.1    is-finite@1.0.2    number-is-nan@1.0.1   string-width@1.0.2    code-point-at@1.1.0    is-fullwidth-code-point@1.0.0   widest-line@1.0.0  configstore@2.1.0   dot-prop@3.0.0    is-obj@1.0.1   osenv@0.1.4   uuid@2.0.3   write-file-atomic@1.3.1   imurmurhash@0.1.4   slide@1.1.6  is-npm@1.0.0  latest-version@2.0.0   package-json@2.4.0   got@5.7.1    duplexer2@0.1.4    node-status-codes@1.0.0    parse-json@2.2.0     error-ex@1.3.0     is-arrayish@0.2.1    read-all-stream@3.1.0    timed-out@3.1.3    unzip-response@1.0.2   registry-auth-token@3.1.0   registry-url@3.1.0  lazy-req@1.1.0  semver-diff@2.1.0   semver@5.3.0  xdg-basedir@2.0.0  os-homedir@1.0.2  This happens when running `now ls` bash  now ls /usr/lib/node_modules/now/bin/now-list:72 .then(async token => {  SyntaxError: missing ) after argument list at Object.exports.runInThisContext (vm.js:76:16) at Module._compile (module.js:542:28) at Module._extensions..js (module.js:579:10) at Object.require.extensions.(anonymous function) [as .js] (/usr/lib/node_modules/now/node_modules/async-to-gen/register.js:40:5) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.<anonymous> (/usr/lib/node_modules/now/bin/now:83:1)  or for `now help`: bash /usr/lib/node_modules/now/bin/now-deploy:218 async function sync(token) {  SyntaxError: Unexpected token function at Object.exports.runInThisContext (vm.js:76:16) at Module._compile (module.js:542:28) at Module._extensions..js (module.js:579:10) at Object.require.extensions.(anonymous function) [as .js] (/usr/lib/node_modules/now/node_modules/async-to-gen/register.js:40:5) at Module.load (module.js:487:32) at tryModuleLoad (module.js:446:12) at Function.Module._load (module.js:438:3) at Module.require (module.js:497:17) at require (internal/module.js:20:19) at Object.<anonymous> (/usr/lib/node_modules/now/bin/now:83:1)  config-file config-file documentation-file other-file other-file source-file documentation-file source-file source-file source-file documentation-file other-file,no-bug,0.9
738,vercel,https://github.com/vercel/vercel/issues/738,now buy domains returning `undefined` price,"  ~ git:(master)  now buy domains domain-name.something > The domain ""domain-name.something"" is available to buy under bukinoshita! [3s] > Buy now for $undefined (undefinedyr)? [y|N] ",other-file,"now buy domains returning `undefined` price   ~ git:(master)  now buy domains domain-name.something > The domain ""domain-name.something"" is available to buy under bukinoshita! [3s] > Buy now for $undefined (undefinedyr)? [y|N]  other-file",bug,0.9
2162,vercel,https://github.com/vercel/vercel/issues/2162,"`now projects ` works, but `now project` does not","When removing a project  $ now projects rm  The project: nodejs will be removed permanently. It will also delete everything under the project including deployments. > Are you sure? [y/N]  but  $ now project rm  > Error! The specified file or directory ""project"" does not exist.  By convention, both should wortk.",source-file | source-file | source-file,"`now projects ` works, but `now project` does not When removing a project  $ now projects rm  The project: nodejs will be removed permanently. It will also delete everything under the project including deployments. > Are you sure? [y/N]  but  $ now project rm  > Error! The specified file or directory ""project"" does not exist.  By convention, both should wortk. source-file source-file source-file",bug,0.85
3089,vercel,https://github.com/vercel/vercel/issues/3089,[now dev] fails with @now/python on Debian/Ubuntu,"Ubuntu, since Xenial, contains the patched version of `pip` with `--user` and `--ignore-installed` flag active by default. In combination with the `--prefix` option, from the `@now/python` runtime, this always raises an error `distutils.errors.DistutilsOptionError: can't combine user with prefix, exec_prefix/home, or install_(plat)base`. This can be solved by running `now dev` as a superuser or using the non-system version of `pip`. For solving this in the runtime either `--system` or `--no-user` (depends on `pip` version) option must be provided. However, `export PIP_USER=0 PIP_IGNORE_INSTALLED=0` seems more applicable. There are also similar issues: #3023 and #2853",source-file | source-file,"[now dev] fails with @now/python on Debian/Ubuntu Ubuntu, since Xenial, contains the patched version of `pip` with `--user` and `--ignore-installed` flag active by default. In combination with the `--prefix` option, from the `@now/python` runtime, this always raises an error `distutils.errors.DistutilsOptionError: can't combine user with prefix, exec_prefix/home, or install_(plat)base`. This can be solved by running `now dev` as a superuser or using the non-system version of `pip`. For solving this in the runtime either `--system` or `--no-user` (depends on `pip` version) option must be provided. However, `export PIP_USER=0 PIP_IGNORE_INSTALLED=0` seems more applicable. There are also similar issues: #3023 and #2853 source-file source-file",no-bug,0.9
849,vercel,https://github.com/vercel/vercel/issues/849,now alias error with --local-config option,"Looks like the same issue as being reported here: https://github.com/zeit/now-cli/pull/818#issuecomment-329022535  + now alias --local-config now.beta.json > Error! Unknown error: TypeError: Path must be a string. Received { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '/', delimiter: ':', win32: { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '\\', delimiter: ';', win32: [Circular], posix: [Circular] }, posix: [Circular] } TypeError: Path must be a string. Received { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '/', delimiter: ':', win32: { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '\\', delimiter: ';', win32: [Circular], posix: [Circular] }, posix: [Circular] } at assertPath (path.js:7:11) at Object.resolve (path.js:1146:7) at getLocalPathConfig (/snapshot/now-cli/dist/now.js:1485:20) at exports.reAlias (/snapshot/now-cli/dist/now.js:10438:14) at run (/snapshot/now-cli/dist/now.js:3317:17) at main (/snapshot/now-cli/dist/now.js:3144:11) at Object.module.exports (/snapshot/now-cli/dist/now.js:3158:11) at main (/snapshot/now-cli/dist/now.js:9571:31) at process._tickCallback (internal/process/next_tick.js:109:7) at Module.runMain (pkg/prelude/bootstrap.js:1282:13) ",documentation-file | other-file,"now alias error with --local-config option Looks like the same issue as being reported here: https://github.com/zeit/now-cli/pull/818#issuecomment-329022535  + now alias --local-config now.beta.json > Error! Unknown error: TypeError: Path must be a string. Received { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '/', delimiter: ':', win32: { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '\\', delimiter: ';', win32: [Circular], posix: [Circular] }, posix: [Circular] } TypeError: Path must be a string. Received { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '/', delimiter: ':', win32: { resolve: [Function: resolve], normalize: [Function: normalize], isAbsolute: [Function: isAbsolute], join: [Function: join], relative: [Function: relative], _makeLong: [Function: _makeLong], dirname: [Function: dirname], basename: [Function: basename], extname: [Function: extname], format: [Function: format], parse: [Function: parse], sep: '\\', delimiter: ';', win32: [Circular], posix: [Circular] }, posix: [Circular] } at assertPath (path.js:7:11) at Object.resolve (path.js:1146:7) at getLocalPathConfig (/snapshot/now-cli/dist/now.js:1485:20) at exports.reAlias (/snapshot/now-cli/dist/now.js:10438:14) at run (/snapshot/now-cli/dist/now.js:3317:17) at main (/snapshot/now-cli/dist/now.js:3144:11) at Object.module.exports (/snapshot/now-cli/dist/now.js:3158:11) at main (/snapshot/now-cli/dist/now.js:9571:31) at process._tickCallback (internal/process/next_tick.js:109:7) at Module.runMain (pkg/prelude/bootstrap.js:1282:13)  documentation-file other-file",no-bug,0.9
481,vercel,https://github.com/vercel/vercel/issues/481,Advise user to add root domain when using a subdomain,Now we print: sh $ now domain add -e www.fedora.network > Error! Not authorized to access domain www.fedora.network  while we should advise the user to add `fedora.network` instead.,source-file | source-file,Advise user to add root domain when using a subdomain Now we print: sh $ now domain add -e www.fedora.network > Error! Not authorized to access domain www.fedora.network  while we should advise the user to add `fedora.network` instead. source-file source-file,no-bug,0.8
731,vercel,https://github.com/vercel/vercel/issues/731,'files' doesn't work in config file with '-c' option,"I use two now config files, `now.staging.json` and `now.json`, to make different alias url. They look like js { ""name"": ""name"", ""alias"": ""some.url"", ""type"": ""npm"", ""public"": false, ""engines"": { ""node"": ""8.1.2"" }, ""files"": [ ""dist"", ""package.json"", ""yarn.lock"" ] }  When I try to `now`, it works. When I try to `now -c now.json`, it throw `no directory 'dist'`. Of course, `dist` is in `.gitignore`",test-file | test-file | test-file | test-file,"'files' doesn't work in config file with '-c' option I use two now config files, `now.staging.json` and `now.json`, to make different alias url. They look like js { ""name"": ""name"", ""alias"": ""some.url"", ""type"": ""npm"", ""public"": false, ""engines"": { ""node"": ""8.1.2"" }, ""files"": [ ""dist"", ""package.json"", ""yarn.lock"" ] }  When I try to `now`, it works. When I try to `now -c now.json`, it throw `no directory 'dist'`. Of course, `dist` is in `.gitignore` test-file test-file test-file test-file",no-bug,0.9
759,vercel,https://github.com/vercel/vercel/issues/759,Command options not visible in cmder,"_From @darahak on August 27, 2017 21:32_ I use Cmder on Windows and when I use `--help` for any command, I cannot see the options unless I highlight them. Some descriptions are also hard to read because of the low contrast between their background and font color. I'm not sure if the problem is about Now or Cmder. Screenshots below. <details> <summary>Current display</summary> ![now-default](https://user-images.githubusercontent.com/11488612/29754059-58208276-8b7e-11e7-9070-cc9f4c88cba5.png) </details> <details> <summary>Highlighting hidden text</summary> ![now-hl](https://user-images.githubusercontent.com/11488612/29754078-884b445e-8b7e-11e7-9334-12f0d528f69f.png) </details> _Copied from original issue: zeit/now#60_",documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file,"Command options not visible in cmder _From @darahak on August 27, 2017 21:32_ I use Cmder on Windows and when I use `--help` for any command, I cannot see the options unless I highlight them. Some descriptions are also hard to read because of the low contrast between their background and font color. I'm not sure if the problem is about Now or Cmder. Screenshots below. <details> <summary>Current display</summary> ![now-default](https://user-images.githubusercontent.com/11488612/29754059-58208276-8b7e-11e7-9070-cc9f4c88cba5.png) </details> <details> <summary>Highlighting hidden text</summary> ![now-hl](https://user-images.githubusercontent.com/11488612/29754078-884b445e-8b7e-11e7-9334-12f0d528f69f.png) </details> _Copied from original issue: zeit/now#60_ documentation-file test-file test-file test-file test-file test-file test-file test-file other-file",no-bug,0.9
8125,vercel,https://github.com/vercel/vercel/issues/8125,Error! Failed to find deployment,"Not sure if this on the vercel side or the github action ([amondnet/vercel-action](https://github.com/amondnet/vercel-action)) i am using. I had a successful build 4 hours ago, I then tried to redeploy with no changes to my github workflow but have now come across this error  Vercel CLI 27.0.1 Fetching deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Fetching deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Error! Failed to find deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Error! Failed to find deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Error: The process '/opt/hostedtoolcache/node/16.13.0/x64/bin/npx' failed with exit code 1  The `https://<preview-url>.vercel.app` does exist and does seem to deploy according to the vercel website but this error exits the my workflow so any further steps do not run. This is my step to deploy to vercel.  - name: Deploy to Vercel uses: amondnet/vercel-action@v25 id: vercel-action with: github-token: ${{ secrets.GH_TOKEN }} vercel-token: ${{ secrets.VERCEL_TOKEN }} vercel-org-id: ${{ secrets.VERCEL_ORG_ID }} vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }} # if main branch go to --prod environment otherwise nothing for preview environment vercel-args: ""${{ github.ref == 'refs/heads/master' && '--prod' || '' }}"" working-directory: ./web ",source-file,"Error! Failed to find deployment Not sure if this on the vercel side or the github action ([amondnet/vercel-action](https://github.com/amondnet/vercel-action)) i am using. I had a successful build 4 hours ago, I then tried to redeploy with no changes to my github workflow but have now come across this error  Vercel CLI 27.0.1 Fetching deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Fetching deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Error! Failed to find deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Error! Failed to find deployment ""Vercel CLI 27.0.1 (beta)  https://vercel.com/feedback\nhttps://<preview-url>.vercel.app"" in mcclosa Error: The process '/opt/hostedtoolcache/node/16.13.0/x64/bin/npx' failed with exit code 1  The `https://<preview-url>.vercel.app` does exist and does seem to deploy according to the vercel website but this error exits the my workflow so any further steps do not run. This is my step to deploy to vercel.  - name: Deploy to Vercel uses: amondnet/vercel-action@v25 id: vercel-action with: github-token: ${{ secrets.GH_TOKEN }} vercel-token: ${{ secrets.VERCEL_TOKEN }} vercel-org-id: ${{ secrets.VERCEL_ORG_ID }} vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }} # if main branch go to --prod environment otherwise nothing for preview environment vercel-args: ""${{ github.ref == 'refs/heads/master' && '--prod' || '' }}"" working-directory: ./web  source-file",no-bug,0.9
370,vercel,https://github.com/vercel/vercel/issues/370,Show how many kbs/mbs are going to be uploaded,Potentially number of files as well.,source-file | source-file | source-file | source-file | documentation-file | documentation-file | source-file | source-file | other-file,Show how many kbs/mbs are going to be uploaded Potentially number of files as well. source-file source-file source-file source-file documentation-file documentation-file source-file source-file other-file,no-bug,0.9
2760,vercel,https://github.com/vercel/vercel/issues/2760,404 error for removing deployment takes forever to exit,Try removing any deployment (might be related to having used an alias) and you will notice that the command (even thought it printed a 404) will take forever to exit: ![2019-08-14 00 43 07](https://user-images.githubusercontent.com/6170607/62982483-8c1c1580-be2c-11e9-8d61-9e03d6413790.gif),source-file | source-file | test-file | source-file | test-file,404 error for removing deployment takes forever to exit Try removing any deployment (might be related to having used an alias) and you will notice that the command (even thought it printed a 404) will take forever to exit: ![2019-08-14 00 43 07](https://user-images.githubusercontent.com/6170607/62982483-8c1c1580-be2c-11e9-8d61-9e03d6413790.gif) source-file source-file test-file source-file test-file,bug,0.85
110,vercel,https://github.com/vercel/vercel/issues/110,Corrupt data stream due to HTTP/2 (suspected),After quite a few hours of investigation I suspect that multipart/form-data data streams become corrupt (garbled) due to HTTP/2. If I try to a upload a file when using HTTP/2 the first couple of bytes become garbled. If I disable HTTP/2 (chrome --disable-http2) then I am unable to reproduce the issue. I have only been able to reproduce the issue with one specific file on some computers. Not reproducable on all computers that I've tested with. See linked GitHub project for a minimal test project with detailed investigation observations. https://github.com/pqvst/form-test If the culprit is indeed the HTTP/2 stack in _now_ then I would say that this is a pretty critical issue since it means that file uploads aren't guaranteed to work. Perhaps there are other scenarios as well?,source-file | source-file,Corrupt data stream due to HTTP/2 (suspected) After quite a few hours of investigation I suspect that multipart/form-data data streams become corrupt (garbled) due to HTTP/2. If I try to a upload a file when using HTTP/2 the first couple of bytes become garbled. If I disable HTTP/2 (chrome --disable-http2) then I am unable to reproduce the issue. I have only been able to reproduce the issue with one specific file on some computers. Not reproducable on all computers that I've tested with. See linked GitHub project for a minimal test project with detailed investigation observations. https://github.com/pqvst/form-test If the culprit is indeed the HTTP/2 stack in _now_ then I would say that this is a pretty critical issue since it means that file uploads aren't guaranteed to work. Perhaps there are other scenarios as well? source-file source-file,bug,0.9
7,vercel,https://github.com/vercel/vercel/issues/7,Progress bar improvements,"- [ ] Make sure progress bar renders at the beginning. When uploading a single large file it's not showing! - [ ] Make sure progress bar tracks total size, not total files, and that each progress event updates it - [ ] Make sure we debounce it to avoid a performance degradation from frequent repainting",test-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | config-file | source-file | source-file | source-file | documentation-file | source-file | other-file | other-file | source-file | documentation-file | other-file | source-file | documentation-file | source-file | documentation-file | other-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | container-file | config-file | source-file | other-file | test-file | test-file | test-file | documentation-file | source-file | source-file | source-file | documentation-file | other-file | source-file | documentation-file,"Progress bar improvements - [ ] Make sure progress bar renders at the beginning. When uploading a single large file it's not showing! - [ ] Make sure progress bar tracks total size, not total files, and that each progress event updates it - [ ] Make sure we debounce it to avoid a performance degradation from frequent repainting test-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file other-file config-file source-file source-file source-file documentation-file source-file other-file other-file source-file documentation-file other-file source-file documentation-file source-file documentation-file other-file source-file documentation-file source-file source-file documentation-file source-file source-file documentation-file source-file source-file documentation-file source-file source-file documentation-file source-file documentation-file other-file other-file other-file other-file other-file other-file other-file source-file container-file config-file source-file other-file test-file test-file test-file documentation-file source-file source-file source-file documentation-file other-file source-file documentation-file",no-bug,0.9
3729,vercel,https://github.com/vercel/vercel/issues/3729,Routing problems with Python,"I've tested just about everything but can't get any other routing working on Python except `/api`. I'm trying to set up Starlette (or Sanic, or whatever, doesn't really matter) to respond from one app (file) to several URLs. (For example. `/api/foo` and `/api/bar` that would be routed in different handler functions in the single app with a router.) Full source code of my test app:  from starlette.applications import Starlette from starlette.responses import PlainTextResponse from starlette.routing import Route def homepage(request): return PlainTextResponse(f""Homepage URL: {request.url}, path: {request.url.path}"") routes = [ Route(""/{whatever:path}"", homepage), ] app = Starlette(debug=True, routes=routes)  (This works ok with uvicorn or other servers.) When I save this as `api/index.py` the `/api` url works, but no other URL. When I save this as `api/[index].py` or `api/[anything].py` I get a 502 + following error in the logs: `Syntax error in module 'now__handler__python': invalid syntax (now__handler__python.py, line 7)` All other setup combinations result in 404 page (from ZEIT, not from the app) and no logs whatsoever. Is it even possible to do basic URL routing with python? (Also there are zero examples or documentation on how to do this, that would probably help as well.)",source-file | source-file | test-file | test-file,"Routing problems with Python I've tested just about everything but can't get any other routing working on Python except `/api`. I'm trying to set up Starlette (or Sanic, or whatever, doesn't really matter) to respond from one app (file) to several URLs. (For example. `/api/foo` and `/api/bar` that would be routed in different handler functions in the single app with a router.) Full source code of my test app:  from starlette.applications import Starlette from starlette.responses import PlainTextResponse from starlette.routing import Route def homepage(request): return PlainTextResponse(f""Homepage URL: {request.url}, path: {request.url.path}"") routes = [ Route(""/{whatever:path}"", homepage), ] app = Starlette(debug=True, routes=routes)  (This works ok with uvicorn or other servers.) When I save this as `api/index.py` the `/api` url works, but no other URL. When I save this as `api/[index].py` or `api/[anything].py` I get a 502 + following error in the logs: `Syntax error in module 'now__handler__python': invalid syntax (now__handler__python.py, line 7)` All other setup combinations result in 404 page (from ZEIT, not from the app) and no logs whatsoever. Is it even possible to do basic URL routing with python? (Also there are zero examples or documentation on how to do this, that would probably help as well.) source-file source-file test-file test-file",no-bug,0.9
2901,vercel,https://github.com/vercel/vercel/issues/2901,Errors are not being rendered,"If you break a serverless Node.js API, the error will not be rendered if you send a request to that file. Instead, it will load forever: [bad error handling.mp4.zip](https://github.com/zeit/now/files/3550905/bad.error.handling.mp4.zip)",documentation-file | other-file | documentation-file | other-file | documentation-file | other-file,"Errors are not being rendered If you break a serverless Node.js API, the error will not be rendered if you send a request to that file. Instead, it will load forever: [bad error handling.mp4.zip](https://github.com/zeit/now/files/3550905/bad.error.handling.mp4.zip) documentation-file other-file documentation-file other-file documentation-file other-file",bug,0.85
33,vercel,https://github.com/vercel/vercel/issues/33,npm errors when deploying with react-snapshot dependency,"I have a project with these dependencies:  ""devDependencies"": { ""history"": ""4.2.0"", ""react"": ""15.3.1"", ""react-dom"": ""15.3.1"", ""react-icons"": ""2.2.1"", ""react-router"": ""4.0.0-2"", ""react-scripts"": ""0.4.1"", ""react-snapshot"": ""1.0.2"" }, ""dependencies"": { ""http-server"": ""0.9.0"" },  When I deploy it, I get many errors in the log when trying to install react-snapshot. **Any suggestions for fixing this?** Thanks!  shell > Deploying ~/c/thefaithnet > Using Node.js 6.2.1 (default) > Ready! https://thefaithnet-iegsuatzeo.now.sh (copied to clipboard) [2s] > Upload [] 100% 0.0s > Sync complete (659B) [1s] > Initializing > Building >  npm install > Installing package http-server@0.9.0 > Installing package history@4.2.0 > Installing package react@15.3.1 > Installing package react-dom@15.3.1 > Installing package react-icons@2.2.1 > Installing package react-router@4.0.0-2 > Installing package react-scripts@0.4.1 > Installing package react-snapshot@1.0.2 > node-pre-gyp info it worked if it ends with ok > node-pre-gyp http GET https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > node-pre-gyp info check checked for ""/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/lib/binding/Release/node-v48-linux-x64/fse.node"" (not found) > node-pre-gyp info using node-pre-gyp@0.6.29 > node-pre-gyp info using node@6.2.1 | linux | x64 > node-pre-gyp http 404 https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > node-pre-gyp ERR! Tried to download: https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > node-pre-gyp ERR! Pre-built binaries not found for fsevents@1.0.14 and node@6.2.1 (node-v48 ABI) (falling back to source compile with node-gyp) > node-pre-gyp http Pre-built binary not available for your system, looked for https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@6.2.1 | linux | x64 > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@6.2.1 | linux | x64 > gyp http GET https://nodejs.org/download/release/v6.2.1/node-v6.2.1-headers.tar.gz > gyp http 200 https://nodejs.org/download/release/v6.2.1/node-v6.2.1-headers.tar.gz > gyp http GET https://nodejs.org/download/release/v6.2.1/SHASUMS256.txt > gyp http 200 https://nodejs.org/download/release/v6.2.1/SHASUMS256.txt > gyp info spawn /usr/bin/python2 > gyp info spawn args [ '/usr/lib/node_modules/node-gyp/gyp/gyp_main.py', > gyp info spawn args 'binding.gyp', > gyp info spawn args '-f', > gyp info spawn args 'make', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/build/config.gypi', > gyp info spawn args '-I', > gyp info spawn args '/usr/lib/node_modules/node-gyp/addon.gypi', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/.node-gyp/6.2.1/include/node/common.gypi', > gyp info spawn args '-Dlibrary=shared_library', > gyp info spawn args '-Dvisibility=default', > gyp info spawn args '-Dnode_root_dir=/home/nowuser/.node-gyp/6.2.1', > gyp info spawn args '-Dnode_gyp_dir=/usr/lib/node_modules/node-gyp', > gyp info spawn args '--generator-output', > gyp info spawn args '-Dnode_lib_file=node.lib', > gyp info spawn args '-Dmodule_root_dir=/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f', > gyp info spawn args '--depth=.', > gyp info spawn args '--no-parallel', > gyp info spawn args 'build', > gyp info spawn args '-Goutput_dir=.' ] > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@6.2.1 | linux | x64 > make: Entering directory '/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/build' > SOLINK_MODULE(target) Release/obj.target/.node > gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ] > gyp info spawn make > COPY Release/.node > make: Leaving directory '/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/build' > gyp info ok > node-pre-gyp info ok >  npm run build ",documentation-file | source-file | source-file | source-file | source-file | other-file | documentation-file | source-file | source-file | source-file | source-file | test-file | documentation-file,"npm errors when deploying with react-snapshot dependency I have a project with these dependencies:  ""devDependencies"": { ""history"": ""4.2.0"", ""react"": ""15.3.1"", ""react-dom"": ""15.3.1"", ""react-icons"": ""2.2.1"", ""react-router"": ""4.0.0-2"", ""react-scripts"": ""0.4.1"", ""react-snapshot"": ""1.0.2"" }, ""dependencies"": { ""http-server"": ""0.9.0"" },  When I deploy it, I get many errors in the log when trying to install react-snapshot. **Any suggestions for fixing this?** Thanks!  shell > Deploying ~/c/thefaithnet > Using Node.js 6.2.1 (default) > Ready! https://thefaithnet-iegsuatzeo.now.sh (copied to clipboard) [2s] > Upload [] 100% 0.0s > Sync complete (659B) [1s] > Initializing > Building >  npm install > Installing package http-server@0.9.0 > Installing package history@4.2.0 > Installing package react@15.3.1 > Installing package react-dom@15.3.1 > Installing package react-icons@2.2.1 > Installing package react-router@4.0.0-2 > Installing package react-scripts@0.4.1 > Installing package react-snapshot@1.0.2 > node-pre-gyp info it worked if it ends with ok > node-pre-gyp http GET https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > node-pre-gyp info check checked for ""/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/lib/binding/Release/node-v48-linux-x64/fse.node"" (not found) > node-pre-gyp info using node-pre-gyp@0.6.29 > node-pre-gyp info using node@6.2.1 | linux | x64 > node-pre-gyp http 404 https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > node-pre-gyp ERR! Tried to download: https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > node-pre-gyp ERR! Pre-built binaries not found for fsevents@1.0.14 and node@6.2.1 (node-v48 ABI) (falling back to source compile with node-gyp) > node-pre-gyp http Pre-built binary not available for your system, looked for https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.14/fse-v1.0.14-node-v48-linux-x64.tar.gz > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@6.2.1 | linux | x64 > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@6.2.1 | linux | x64 > gyp http GET https://nodejs.org/download/release/v6.2.1/node-v6.2.1-headers.tar.gz > gyp http 200 https://nodejs.org/download/release/v6.2.1/node-v6.2.1-headers.tar.gz > gyp http GET https://nodejs.org/download/release/v6.2.1/SHASUMS256.txt > gyp http 200 https://nodejs.org/download/release/v6.2.1/SHASUMS256.txt > gyp info spawn /usr/bin/python2 > gyp info spawn args [ '/usr/lib/node_modules/node-gyp/gyp/gyp_main.py', > gyp info spawn args 'binding.gyp', > gyp info spawn args '-f', > gyp info spawn args 'make', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/build/config.gypi', > gyp info spawn args '-I', > gyp info spawn args '/usr/lib/node_modules/node-gyp/addon.gypi', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/.node-gyp/6.2.1/include/node/common.gypi', > gyp info spawn args '-Dlibrary=shared_library', > gyp info spawn args '-Dvisibility=default', > gyp info spawn args '-Dnode_root_dir=/home/nowuser/.node-gyp/6.2.1', > gyp info spawn args '-Dnode_gyp_dir=/usr/lib/node_modules/node-gyp', > gyp info spawn args '--generator-output', > gyp info spawn args '-Dnode_lib_file=node.lib', > gyp info spawn args '-Dmodule_root_dir=/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f', > gyp info spawn args '--depth=.', > gyp info spawn args '--no-parallel', > gyp info spawn args 'build', > gyp info spawn args '-Goutput_dir=.' ] > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@6.2.1 | linux | x64 > make: Entering directory '/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/build' > SOLINK_MODULE(target) Release/obj.target/.node > gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ] > gyp info spawn make > COPY Release/.node > make: Leaving directory '/home/nowuser/src/node_modules/09ad3fb161afd3f4b10cb78f85ad7a42d2a25d1f/build' > gyp info ok > node-pre-gyp info ok >  npm run build  documentation-file source-file source-file source-file source-file other-file documentation-file source-file source-file source-file source-file test-file documentation-file",no-bug,0.95
695,vercel,https://github.com/vercel/vercel/issues/695,Ability to set scale max/min in now.json,It'd be great if you could set the scale maximum & minimum in the now.json config file so that it's applied automatically whenever you deploy.,other-file,Ability to set scale max/min in now.json It'd be great if you could set the scale maximum & minimum in the now.json config file so that it's applied automatically whenever you deploy. other-file,no-bug,0.9
2638,vercel,https://github.com/vercel/vercel/issues/2638,inconsistent behaviour for 404 handling in now.json for NextJS v9,"With NextJS 9, it is possible to make custom 404 pages by setting the following when deployed to ZEIT (cloud). 1. `/pages/error.js` 2. use the following routes in `now.json`  ""routes"": [ { ""handle"": ""filesystem""}, { ""src"": ""/(.*)"", ""dest"": ""error.html"", ""status"": 404} ]  In `now dev`, a different set of `now.json` rules is required 1. `/pages/error.js` 2. use the following routes in `now.json`  ""routes"": [ { ""handle"": ""filesystem""}, { ""src"": ""/(.*)"", ""dest"": ""error""} ]  Note: 1. ""status"": 404 cannot be set in `now dev` 2. ""dest"" needs to point to ""error"" instead of ""error.html"" because the page has not been statically generated",source-file | test-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | test-file,"inconsistent behaviour for 404 handling in now.json for NextJS v9 With NextJS 9, it is possible to make custom 404 pages by setting the following when deployed to ZEIT (cloud). 1. `/pages/error.js` 2. use the following routes in `now.json`  ""routes"": [ { ""handle"": ""filesystem""}, { ""src"": ""/(.*)"", ""dest"": ""error.html"", ""status"": 404} ]  In `now dev`, a different set of `now.json` rules is required 1. `/pages/error.js` 2. use the following routes in `now.json`  ""routes"": [ { ""handle"": ""filesystem""}, { ""src"": ""/(.*)"", ""dest"": ""error""} ]  Note: 1. ""status"": 404 cannot be set in `now dev` 2. ""dest"" needs to point to ""error"" instead of ""error.html"" because the page has not been statically generated source-file test-file test-file test-file test-file source-file test-file test-file test-file test-file source-file test-file test-file test-file test-file",no-bug,0.8
3747,vercel,https://github.com/vercel/vercel/issues/3747,Can't unignore default ignored paths,"There currently does not seem to be a way to un-ignore any of the [default ignored file path specs](https://zeit.co/docs/v2/build-step/#ignored-files-and-folders), attempting to do so via `.nowignore` like the following does not work:  !.env.json ",other-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | test-file | test-file | source-file,"Can't unignore default ignored paths There currently does not seem to be a way to un-ignore any of the [default ignored file path specs](https://zeit.co/docs/v2/build-step/#ignored-files-and-folders), attempting to do so via `.nowignore` like the following does not work:  !.env.json  other-file source-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file test-file test-file source-file",no-bug,0.9
688,vercel,https://github.com/vercel/vercel/issues/688,Any plan on releasing to homebrew?,"Github user content are blocked in china, homebrew would be a handy alternative. Is there any plan on this?",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Any plan on releasing to homebrew? Github user content are blocked in china, homebrew would be a handy alternative. Is there any plan on this? source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.95
20,vercel,https://github.com/vercel/vercel/issues/20,Event stream response appears not to work,https://github.com/zeit/now-issues/issues/15,documentation-file | source-file,Event stream response appears not to work https://github.com/zeit/now-issues/issues/15 documentation-file source-file,no-bug,0.7
847,vercel,https://github.com/vercel/vercel/issues/847,`URL=$(now)` process exits before deployment is completed,Works: bash now now alias $(pbpaste) mydomain.com  Doesn't work: bash URL=$(now) now alias $URL mydomain.com ,config-file | test-file,`URL=$(now)` process exits before deployment is completed Works: bash now now alias $(pbpaste) mydomain.com  Doesn't work: bash URL=$(now) now alias $URL mydomain.com  config-file test-file,no-bug,0.8
90,vercel,https://github.com/vercel/vercel/issues/90,"Pointing nameserver: Denic: [ERROR: 116 SOA record response must be authoritative (resolver\, answer)","Trying to follow https://zeit.co/world and pointing my domain _fkmt.de_ to the [].zeit.world nameservers I get the following errors from my registrar: `ERROR: 53300102912 Nameserver error [ERROR: 116 SOA record response must be authoritative (resolver\, answer) (frankfurt.zeit.world./91.109.245.139:53 (UDP\, Timeout: 3s\, Retry: 1 x 0s\, NO DNSSEC\, ignore TC\, via local interface \[IPv4: nast-17-out.prod.denic.de/10.121.46.35|IPv6: /2a02:568:101:214:0:0:1:14\])\, frankfurt.zeit.world./91.109.245.139:53 (UDP\, Timeout: 3s\, Retry: 1 x 0s\, NO DNSSEC\, ignore TC\, via local interface \[IPv4: nast-17-out.prod.denic.de/10.121.46.35|IPv6: /2a02:568:101:214:0:0:1:14\]): <No records>)]` Found two similar cases [1] [2]: > Worked it out. It's a ""catch 22"". > Our hosts won't let us add a domain to our account, until the domain is pointing to it's name servers - for security mostly. > But denic won't let you point a domain to your account, until it's setup to accept it. This means I cannot use the zeit.world DNS service for _.de_ domains? [1] http://www.devnetwork.net/viewtopic.php?f=31&t=137755#p685423 [2] https://www.df.eu/forum/threads/61601-Externe-Domain-kann-nicht-konfiguriert-werden?s=ffd8e04a734b93fa5db5c684fd79af48&p=400985&viewfull=1#post400985",source-file | source-file,"Pointing nameserver: Denic: [ERROR: 116 SOA record response must be authoritative (resolver\, answer) Trying to follow https://zeit.co/world and pointing my domain _fkmt.de_ to the [].zeit.world nameservers I get the following errors from my registrar: `ERROR: 53300102912 Nameserver error [ERROR: 116 SOA record response must be authoritative (resolver\, answer) (frankfurt.zeit.world./91.109.245.139:53 (UDP\, Timeout: 3s\, Retry: 1 x 0s\, NO DNSSEC\, ignore TC\, via local interface \[IPv4: nast-17-out.prod.denic.de/10.121.46.35|IPv6: /2a02:568:101:214:0:0:1:14\])\, frankfurt.zeit.world./91.109.245.139:53 (UDP\, Timeout: 3s\, Retry: 1 x 0s\, NO DNSSEC\, ignore TC\, via local interface \[IPv4: nast-17-out.prod.denic.de/10.121.46.35|IPv6: /2a02:568:101:214:0:0:1:14\]): <No records>)]` Found two similar cases [1] [2]: > Worked it out. It's a ""catch 22"". > Our hosts won't let us add a domain to our account, until the domain is pointing to it's name servers - for security mostly. > But denic won't let you point a domain to your account, until it's setup to accept it. This means I cannot use the zeit.world DNS service for _.de_ domains? [1] http://www.devnetwork.net/viewtopic.php?f=31&t=137755#p685423 [2] https://www.df.eu/forum/threads/61601-Externe-Domain-kann-nicht-konfiguriert-werden?s=ffd8e04a734b93fa5db5c684fd79af48&p=400985&viewfull=1#post400985 source-file source-file",no-bug,0.9
2492,vercel,https://github.com/vercel/vercel/issues/2492,now cli update throwing EBUSY error," $ now update > UPDATE AVAILABLE The latest version of Now CLI is 15.6.2 > Run the `now update` command to update to the latest version > Changelog: https://github.com/zeit/now-cli/releases/tag/15.6.2 > Now CLI 15.5.0 update (beta)  https://zeit.co/feedback/update > Updating Now CLI Configuration platform win arch x64 location C:\Users\reach\AppData\Roaming\npm\node_modules\now\download\dist\now.exe version 15.6.2 (latest stable release) > Downloading `now` binary > Binary URL: https://github.com/zeit/now-cli/releases/download/15.6.2/now-win.exe.gz > Update Now CLI? [y/N] y > Error! An unexpected error occurred in update: Error: EBUSY: resource busy or locked, open 'C:\Users\reach\AppData\Roaming\npm\node_modules\now\download\dist\now.exe' at WriteStream.t.error.t (C:\snapshot\repo\dist\index.js:1:1589155) at WriteStream.emit (events.js:187:15) at WriteStream.EventEmitter.emit (domain.js:442:20) at C:\snapshot\repo\dist\index.js:1:2874894 at C:\snapshot\repo\dist\index.js:1:2875329 at FSReqWrap.oncomplete (fs.js:171:20) ",source-file | source-file | source-file,"now cli update throwing EBUSY error  $ now update > UPDATE AVAILABLE The latest version of Now CLI is 15.6.2 > Run the `now update` command to update to the latest version > Changelog: https://github.com/zeit/now-cli/releases/tag/15.6.2 > Now CLI 15.5.0 update (beta)  https://zeit.co/feedback/update > Updating Now CLI Configuration platform win arch x64 location C:\Users\reach\AppData\Roaming\npm\node_modules\now\download\dist\now.exe version 15.6.2 (latest stable release) > Downloading `now` binary > Binary URL: https://github.com/zeit/now-cli/releases/download/15.6.2/now-win.exe.gz > Update Now CLI? [y/N] y > Error! An unexpected error occurred in update: Error: EBUSY: resource busy or locked, open 'C:\Users\reach\AppData\Roaming\npm\node_modules\now\download\dist\now.exe' at WriteStream.t.error.t (C:\snapshot\repo\dist\index.js:1:1589155) at WriteStream.emit (events.js:187:15) at WriteStream.EventEmitter.emit (domain.js:442:20) at C:\snapshot\repo\dist\index.js:1:2874894 at C:\snapshot\repo\dist\index.js:1:2875329 at FSReqWrap.oncomplete (fs.js:171:20)  source-file source-file source-file",no-bug,0.9
761,vercel,https://github.com/vercel/vercel/issues/761,Deployment on AWS Lambda gives Code 500 Internal Server Error,"_From @darknoon on August 24, 2017 22:41_ I tried deploying a really basic app just to make sure it wasn't my server misbehaving:  $ cat server.js require('http') .createServer((req, res) => { res.end('Hello World!'); }) .listen(process.env.PORT);  I ran this command (my now beta is installed locally)  $ ../node_modules/.bin/now aws > Deploying ""~/Code/Lobe/lobe/src/frontend/test-deploy"" (aws) (us-west-1)  Build generated a 1.69kB zip [148ms]  API resources created (id: ""now-test-deploy-4eCnyDRqXH"") [2s] > Success! https://k4atst0laf.execute-api.us-west-1.amazonaws.com/now (in clipboard) [2s]  shows: {""message"": ""Internal server error""} _Copied from original issue: zeit/now#57_",test-file,"Deployment on AWS Lambda gives Code 500 Internal Server Error _From @darknoon on August 24, 2017 22:41_ I tried deploying a really basic app just to make sure it wasn't my server misbehaving:  $ cat server.js require('http') .createServer((req, res) => { res.end('Hello World!'); }) .listen(process.env.PORT);  I ran this command (my now beta is installed locally)  $ ../node_modules/.bin/now aws > Deploying ""~/Code/Lobe/lobe/src/frontend/test-deploy"" (aws) (us-west-1)  Build generated a 1.69kB zip [148ms]  API resources created (id: ""now-test-deploy-4eCnyDRqXH"") [2s] > Success! https://k4atst0laf.execute-api.us-west-1.amazonaws.com/now (in clipboard) [2s]  shows: {""message"": ""Internal server error""} _Copied from original issue: zeit/now#57_ test-file",no-bug,0.9
771,vercel,https://github.com/vercel/vercel/issues/771,Improve github resolver,"_From @rauchg on July 9, 2017 2:18_ For example: - Is it the right character set that we are testing for? - How should we handle support for private keys? _Copied from original issue: zeit/now#7_",source-file | test-file,"Improve github resolver _From @rauchg on July 9, 2017 2:18_ For example: - Is it the right character set that we are testing for? - How should we handle support for private keys? _Copied from original issue: zeit/now#7_ source-file test-file",no-bug,0.8
10104,vercel,https://github.com/vercel/vercel/issues/10104,Vercel CLI Does Not Work on submodules,The CLI checks the repo name via `.git/config` but in a submodule the `.git/config` is stored in the main git folder.,documentation-file | source-file | source-file,Vercel CLI Does Not Work on submodules The CLI checks the repo name via `.git/config` but in a submodule the `.git/config` is stored in the main git folder. documentation-file source-file source-file,no-bug,0.9
525,vercel,https://github.com/vercel/vercel/issues/525,What are those things I keep hearing about FROZEN states?,"What's the default policy to FREEZE a deployment? It doesn't make any sense to me to be paying for a service that shutdown my apps randomly, especially in my case, because I use `Meteor`, which apps are known to take some time to boot up. I linked a `ping` service to my `now` apps and I'm constantly receiving emails about my apps going down and up. How I'm suppose to be taken seriously by my users if my apps are almost always failing? Do `now` service isn't suitable for Meteor apps? I have the understanding that a Meteor app is just a NodeJS app, so what's the matter with this? The only reason I see this service useful is for apps like Facebook, which are constantly been visited. In my case, I have apps which are used 3 times per week, Monday, Thursday and Saturday, for example. am I wrong?",source-file | test-file | test-file,"What are those things I keep hearing about FROZEN states? What's the default policy to FREEZE a deployment? It doesn't make any sense to me to be paying for a service that shutdown my apps randomly, especially in my case, because I use `Meteor`, which apps are known to take some time to boot up. I linked a `ping` service to my `now` apps and I'm constantly receiving emails about my apps going down and up. How I'm suppose to be taken seriously by my users if my apps are almost always failing? Do `now` service isn't suitable for Meteor apps? I have the understanding that a Meteor app is just a NodeJS app, so what's the matter with this? The only reason I see this service useful is for apps like Facebook, which are constantly been visited. In my case, I have apps which are used 3 times per week, Monday, Thursday and Saturday, for example. am I wrong? source-file test-file test-file",no-bug,0.9
2642,vercel,https://github.com/vercel/vercel/issues/2642,Double slashes are not redirected,In production a URL that ends with `//` (double trailing slashes) is redirected to `/` (single trailing slash). We should replicate this behavior.,source-file | test-file | source-file | test-file | source-file | test-file,Double slashes are not redirected In production a URL that ends with `//` (double trailing slashes) is redirected to `/` (single trailing slash). We should replicate this behavior. source-file test-file source-file test-file source-file test-file,no-bug,0.8
241,vercel,https://github.com/vercel/vercel/issues/241,Now deploys .next folder,"I get these warnings when deploying my Now + Next.js project (https://github.com/relatenow/relate), even though I have `.next` in my `.gitignore`: js $ now > Deploying ~/Documents/relate > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/login.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/callback.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/commons.js (size exceeded 1MB) > Warning! 3 of the files exceeded the limit for your plan. > See https://zeit.co/account to upgrade. > Using Node.js 7.0.0 (default) > Ready! https://relate-glukavkhgh.now.sh (copied to clipboard) [2s]  ",source-file,"Now deploys .next folder I get these warnings when deploying my Now + Next.js project (https://github.com/relatenow/relate), even though I have `.next` in my `.gitignore`: js $ now > Deploying ~/Documents/relate > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/login.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/callback.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/commons.js (size exceeded 1MB) > Warning! 3 of the files exceeded the limit for your plan. > See https://zeit.co/account to upgrade. > Using Node.js 7.0.0 (default) > Ready! https://relate-glukavkhgh.now.sh (copied to clipboard) [2s]   source-file",no-bug,0.9
7730,vercel,https://github.com/vercel/vercel/issues/7730,[Monorepo Detection] Add getWorkspaces helper function,"ts /* Example 1: my-repo |-- packages | |-- api-1 | |-- api-2 |-- package.json |-- pnpm-workspaces.yaml // packages: [""packages/*""] getWorkspaces(""my-repo"") => [ { implementation: ""pnpm"", rootPath: ""my-repo"" } ] Example 2: my-repo |-- backend | |-- api-1 | |-- api-2 | |-- package.json // workspaces: [""api-1"", ""api-2""] |-- frontend | |-- nextjs-app | |-- gatsby-app | |-- package.json | |-- pnpm-workspaces.yaml // packages: [""nextjs-app"", ""gatsby-app""] getWorkspaces(""my-repo"") => [ { implementation: ""yarn"", rootPath: ""my-repo/backend"" }, { implementation: ""pnpm"", rootPath: ""my-repo/frontend"" } ] */ type Workspace = { implementation: ""yarn"" | ""npm"" | ""pnpm"" // rush, lerna in the future rootPath: string // the path to the root of the workspace } function getWorkspaces(fs: DetectorFilesystem): Workspace[]  A couple notes around implementation, * We should have a max depth of 2 * We may want to add the `workspace-implementations` list as an argument to this function. For now we can hard code until https://github.com/vercel/vercel/issues/7731 is complete * Unit tests",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"[Monorepo Detection] Add getWorkspaces helper function ts /* Example 1: my-repo |-- packages | |-- api-1 | |-- api-2 |-- package.json |-- pnpm-workspaces.yaml // packages: [""packages/*""] getWorkspaces(""my-repo"") => [ { implementation: ""pnpm"", rootPath: ""my-repo"" } ] Example 2: my-repo |-- backend | |-- api-1 | |-- api-2 | |-- package.json // workspaces: [""api-1"", ""api-2""] |-- frontend | |-- nextjs-app | |-- gatsby-app | |-- package.json | |-- pnpm-workspaces.yaml // packages: [""nextjs-app"", ""gatsby-app""] getWorkspaces(""my-repo"") => [ { implementation: ""yarn"", rootPath: ""my-repo/backend"" }, { implementation: ""pnpm"", rootPath: ""my-repo/frontend"" } ] */ type Workspace = { implementation: ""yarn"" | ""npm"" | ""pnpm"" // rush, lerna in the future rootPath: string // the path to the root of the workspace } function getWorkspaces(fs: DetectorFilesystem): Workspace[]  A couple notes around implementation, * We should have a max depth of 2 * We may want to add the `workspace-implementations` list as an argument to this function. For now we can hard code until https://github.com/vercel/vercel/issues/7731 is complete * Unit tests source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.95
568,vercel,https://github.com/vercel/vercel/issues/568,DNS record value is too long (Google DKIM),"Following command bash $ now dns add example.com google._domainkey TXT ""v=DKIM1; k=rsa; p=<too_many_chars>""  returns bash > Error! Unexpected error. Please try later. (Invalid `value` parameter (The maximum length is 255 characters))  Apparently DNS specs don't allow strings to be longer than 255 characters. According to some SO answers (see [this](https://stackoverflow.com/questions/36688278/unable-to-setup-dkim-txt-value-as-dns-record)), strings can be split. But the problem is that it seems impossible to do so with the command above.",other-file,"DNS record value is too long (Google DKIM) Following command bash $ now dns add example.com google._domainkey TXT ""v=DKIM1; k=rsa; p=<too_many_chars>""  returns bash > Error! Unexpected error. Please try later. (Invalid `value` parameter (The maximum length is 255 characters))  Apparently DNS specs don't allow strings to be longer than 255 characters. According to some SO answers (see [this](https://stackoverflow.com/questions/36688278/unable-to-setup-dkim-txt-value-as-dns-record)), strings can be split. But the problem is that it seems impossible to do so with the command above. other-file",no-bug,0.9
83,vercel,https://github.com/vercel/vercel/issues/83,Tables look gross,"- We should make sure the columns are aligned across apps (`now ls`, `now alias ls`) - We should think about adding headers for extra clarity - We should remove the extra `\n` in `now alias ls`",other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | documentation-file,"Tables look gross - We should make sure the columns are aligned across apps (`now ls`, `now alias ls`) - We should think about adding headers for extra clarity - We should remove the extra `\n` in `now alias ls` other-file other-file other-file other-file source-file source-file source-file source-file source-file test-file test-file test-file documentation-file",no-bug,0.9
723,vercel,https://github.com/vercel/vercel/issues/723,staging & live alias in package.json?,"Right now i use two npm scripts with now --alias to deploy to staging and prod. But I get an deprecation error, telling me to use the ""alias"" in package.json. But how could I keep the distiction fro my different deployments?",source-file | source-file | source-file,"staging & live alias in package.json? Right now i use two npm scripts with now --alias to deploy to staging and prod. But I get an deprecation error, telling me to use the ""alias"" in package.json. But how could I keep the distiction fro my different deployments? source-file source-file source-file",no-bug,0.9
603,vercel,https://github.com/vercel/vercel/issues/603,now.json configuration file not being honored,"According to the [configuration](https://zeit.co/docs/features/configuration#`type`-(string)) page, if I add a `now.json` file with the contents: json { ""files"": [ ""dist"" ], ""type"": ""docker"" }  and I have both a `package.json` and `Dockerfile`, when i execute `$ now`, it should not ask me which type i'd like to deploy and it should upload the `dist` folder even though `dist` is in my `.gitignore` file. My `now.json` file doesn't seem to be honored as I'm getting asked which type of deployment I want: sh $ now > Deploying ~/Sites/mysite under myusername > Two manifests found. Press [n] to deploy or re-run with --flag > [1] package.json --npm > [2] Dockerfile --docker > Aborted  and i'm also getting an error that my `dist` folder doesn't exist (which this issue is resolved if i remove `/dist` from my `.gitignore` file): sh $ now --docker  Step 2 : COPY dist /usr/share/nginx/html > lstat dist: no such file or directory ",source-file,"now.json configuration file not being honored According to the [configuration](https://zeit.co/docs/features/configuration#`type`-(string)) page, if I add a `now.json` file with the contents: json { ""files"": [ ""dist"" ], ""type"": ""docker"" }  and I have both a `package.json` and `Dockerfile`, when i execute `$ now`, it should not ask me which type i'd like to deploy and it should upload the `dist` folder even though `dist` is in my `.gitignore` file. My `now.json` file doesn't seem to be honored as I'm getting asked which type of deployment I want: sh $ now > Deploying ~/Sites/mysite under myusername > Two manifests found. Press [n] to deploy or re-run with --flag > [1] package.json --npm > [2] Dockerfile --docker > Aborted  and i'm also getting an error that my `dist` folder doesn't exist (which this issue is resolved if i remove `/dist` from my `.gitignore` file): sh $ now --docker  Step 2 : COPY dist /usr/share/nginx/html > lstat dist: no such file or directory  source-file",no-bug,0.9
499,vercel,https://github.com/vercel/vercel/issues/499,Cannot read property 'username' of undefined,"Build failed in circleci, but works locally. > now deploy --npm --token=""${NOW_TOKEN}"" > Error! Unknown error: TypeError: Cannot read property 'username' of undefined TypeError: Cannot read property 'username' of undefined at /opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now-deploy.js:316:115 at next (native) at c (/opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now-deploy.js:760:99) > now deploy --npm --token=""${NOW_TOKEN}"" returned exit code 1 > Action failed: now deploy --npm --token=""${NOW_TOKEN}"" `now` is installed during build as well: > npm install -g now > /opt/circleci/nodejs/v6.10.2/bin/now -> /opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now.js /opt/circleci/nodejs/v6.10.2/lib  now@5.1.2 Last successful build has different `now`: > npm install -g now > /opt/circleci/nodejs/v6.10.2/bin/now -> /opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now.js /opt/circleci/nodejs/v6.10.2/lib  now@4.11.2 Is it confirmed/known 5.1.2 version issue or I am hitting something else?",source-file,"Cannot read property 'username' of undefined Build failed in circleci, but works locally. > now deploy --npm --token=""${NOW_TOKEN}"" > Error! Unknown error: TypeError: Cannot read property 'username' of undefined TypeError: Cannot read property 'username' of undefined at /opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now-deploy.js:316:115 at next (native) at c (/opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now-deploy.js:760:99) > now deploy --npm --token=""${NOW_TOKEN}"" returned exit code 1 > Action failed: now deploy --npm --token=""${NOW_TOKEN}"" `now` is installed during build as well: > npm install -g now > /opt/circleci/nodejs/v6.10.2/bin/now -> /opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now.js /opt/circleci/nodejs/v6.10.2/lib  now@5.1.2 Last successful build has different `now`: > npm install -g now > /opt/circleci/nodejs/v6.10.2/bin/now -> /opt/circleci/nodejs/v6.10.2/lib/node_modules/now/build/bin/now.js /opt/circleci/nodejs/v6.10.2/lib  now@4.11.2 Is it confirmed/known 5.1.2 version issue or I am hitting something else? source-file",no-bug,0.9
682,vercel,https://github.com/vercel/vercel/issues/682,now ls <name> doesn't find app,"I cannot list _only_ deployments for a specific app. ## Example:  >now ls > 8 deployments found under <me> ""Teachers"" (5 of 5 total) teachers-<randomString>.now.sh  >now ls teachers > 0 deployments  I've tried teachers, Teachers, ""Teachers"", ""teachers"". **always** 0 found. Searching through the issues I found nobody else with this issue, but I cannot see what I could be doing wrong. (Maybe a separate ""issue"", but is there no way to remove multiple deployments? It seems crazy to have to copy&paste _every single url_ to delete all my obsolete deployments.) [Windows 10 cmd.exe] >now -v 7.0.1 >node -v v7.9.0",source-file | test-file | test-file | test-file | test-file,"now ls <name> doesn't find app I cannot list _only_ deployments for a specific app. ## Example:  >now ls > 8 deployments found under <me> ""Teachers"" (5 of 5 total) teachers-<randomString>.now.sh  >now ls teachers > 0 deployments  I've tried teachers, Teachers, ""Teachers"", ""teachers"". **always** 0 found. Searching through the issues I found nobody else with this issue, but I cannot see what I could be doing wrong. (Maybe a separate ""issue"", but is there no way to remove multiple deployments? It seems crazy to have to copy&paste _every single url_ to delete all my obsolete deployments.) [Windows 10 cmd.exe] >now -v 7.0.1 >node -v v7.9.0 source-file test-file test-file test-file test-file",no-bug,0.8
592,vercel,https://github.com/vercel/vercel/issues/592,Random response delays,"Hi guys, I've been noticing slow responses in services that We have hosted in now. In order to demonstrate this I just create a small API (https://demo-api-yhqgghkgjg.now.sh/) using NodeJs, and a dummy endpoint that just sends a json object like this:  { ""hello"": true }  Nothing to complicated, and If you start hitting this endpoint you'll see very fast response times ( 200ms average ) BUT sometimes you'll see some random delays. Attach you'll find a couple of screens using Postman. Sometimes I have to wait 3 to 4 seconds in order to get the response back. I tried this same test using an AWS EC2 instance and all response are really fast ( no delays at all ). Is this because `now` is a SHARE cloud service where all resources ( CPU, memory, etc ) are share between other users ?. 3129ms delay: ![screen shot 2017-05-28 at 2 58 21 pm](https://cloud.githubusercontent.com/assets/1002407/26532285/be0f8a1c-43b9-11e7-986b-0c1c5465bfef.png) 4228ms delay: ![screen shot 2017-05-28 at 3 03 35 pm](https://cloud.githubusercontent.com/assets/1002407/26532286/be320150-43b9-11e7-9b30-ff202b981983.png) Notes: This also happens with paid accounts.",source-file,"Random response delays Hi guys, I've been noticing slow responses in services that We have hosted in now. In order to demonstrate this I just create a small API (https://demo-api-yhqgghkgjg.now.sh/) using NodeJs, and a dummy endpoint that just sends a json object like this:  { ""hello"": true }  Nothing to complicated, and If you start hitting this endpoint you'll see very fast response times ( 200ms average ) BUT sometimes you'll see some random delays. Attach you'll find a couple of screens using Postman. Sometimes I have to wait 3 to 4 seconds in order to get the response back. I tried this same test using an AWS EC2 instance and all response are really fast ( no delays at all ). Is this because `now` is a SHARE cloud service where all resources ( CPU, memory, etc ) are share between other users ?. 3129ms delay: ![screen shot 2017-05-28 at 2 58 21 pm](https://cloud.githubusercontent.com/assets/1002407/26532285/be0f8a1c-43b9-11e7-986b-0c1c5465bfef.png) 4228ms delay: ![screen shot 2017-05-28 at 3 03 35 pm](https://cloud.githubusercontent.com/assets/1002407/26532286/be320150-43b9-11e7-9b30-ff202b981983.png) Notes: This also happens with paid accounts. source-file",no-bug,0.9
6899,vercel,https://github.com/vercel/vercel/issues/6899,[cli] Enable signup with email address,"Right now you cannot sign up for a new Vercel account via email:  $ vc login Vercel CLI 23.1.3-canary.15  https://vercel.com/feedback > Log in to Vercel email > Enter your email address: n+aadsffadsfsa@n8.io Error! Please sign up: https://vercel.com/signup  This should be allowed, per @rauchg.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | test-file | test-file | test-file | documentation-file | documentation-file | test-file | other-file | documentation-file | source-file | other-file | other-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | documentation-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file | other-file | other-file | documentation-file | source-file | documentation-file | documentation-file | source-file | source-file | test-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"[cli] Enable signup with email address Right now you cannot sign up for a new Vercel account via email:  $ vc login Vercel CLI 23.1.3-canary.15  https://vercel.com/feedback > Log in to Vercel email > Enter your email address: n+aadsffadsfsa@n8.io Error! Please sign up: https://vercel.com/signup  This should be allowed, per @rauchg. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file documentation-file documentation-file other-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file test-file test-file test-file documentation-file documentation-file test-file other-file documentation-file source-file other-file other-file documentation-file documentation-file documentation-file source-file documentation-file documentation-file source-file documentation-file documentation-file documentation-file documentation-file source-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file documentation-file source-file source-file source-file documentation-file documentation-file documentation-file source-file documentation-file other-file other-file documentation-file source-file documentation-file documentation-file source-file source-file test-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.7
922,vercel,https://github.com/vercel/vercel/issues/922,"now alias ls gives ""Could not match path alias for""",`now --version` > 8.3.10 `now alias ls my-app-obfuscated.now.sh` **Gives:** > Error! Could not match path alias for: my-app-obfuscated.now.sh **Expected:** List rules for alias **Notes:** `now alias ls` lists my-app-obfuscated.now.sh as an alias for one of the deployments Any help would be appreciated,source-file,"now alias ls gives ""Could not match path alias for"" `now --version` > 8.3.10 `now alias ls my-app-obfuscated.now.sh` **Gives:** > Error! Could not match path alias for: my-app-obfuscated.now.sh **Expected:** List rules for alias **Notes:** `now alias ls` lists my-app-obfuscated.now.sh as an alias for one of the deployments Any help would be appreciated source-file",bug,0.85
2357,vercel,https://github.com/vercel/vercel/issues/2357,Deployment fails when Creat React App is added with React Snap,"I am trying to use the create-react-app's `now.json` template to deploy my application. However to pre-render my pages i am using react-snap. The build fails, on the server and i get the following error  $ react-snap 2019-05-16T22:47:04.236Z Error: Failed to launch chrome! /tmp/77102a3b/node_modules/puppeteer/.local-chromium/linux-656675/chrome-linux/chrome: error while loading shared libraries: libX11.so.6: cannot open shared object file: No such file or directory TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md at onClose (/tmp/77102a3b/node_modules/puppeteer/lib/Launcher.js:342:14) at Interface.helper.addEventListener (/tmp/77102a3b/node_modules/puppeteer/lib/Launcher.js:331:50) at emitNone (events.js:111:20) at Interface.emit (events.js:208:7) at Interface.close (readline.js:370:8) at Socket.onend (readline.js:149:10) at emitNone (events.js:111:20) at Socket.emit (events.js:208:7) at endReadableNT (_stream_readable.js:1064:12) at _combinedTickCallback (internal/process/next_tick.js:138:11) 2019-05-16T22:47:04.253Z error Command failed with exit code 1.  My Package.json json ""scripts"": { ""start"": ""node scripts/start.js"", ""build"": ""node scripts/build.js"", ""stage"": ""yarn run build && cp src/netlify/_redirects build/."", ""test"": ""node scripts/test.js"", ""now-dev"": ""node scripts/start.js"", ""now-build"": ""yarn run build"", ""postbuild"": ""react-snap"", }  My now.json  { ""version"": 2, ""name"": ""jsvault"", ""builds"": [ { ""src"": ""package.json"", ""use"": ""@now/static-build"", ""config"": { ""distDir"": ""build"" } }, { ""src"": ""build/**.*.js"", ""use"": ""@now/node"" } ], ""routes"": [ { ""src"": ""/static/(.*)"", ""headers"": { ""cache-control"": ""s-maxage=31536000,immutable"" }, ""dest"": ""/static/$1"" }, { ""src"": ""/favicon.ico"", ""dest"": ""/favicon.ico"" }, { ""src"": ""/asset-manifest.json"", ""dest"": ""/asset-manifest.json"" }, { ""src"": ""/manifest.json"", ""dest"": ""/manifest.json"" }, { ""src"": ""/precache-manifest.(.*)"", ""dest"": ""/precache-manifest.$1"" }, { ""src"": ""/service-worker.js"", ""headers"": { ""cache-control"": ""s-maxage=0"" }, ""dest"": ""/service-worker.js"" }, { ""src"": ""/(.*)"", ""headers"": { ""cache-control"": ""s-maxage=0"" }, ""dest"": ""/index.html"" } ], ""build"": { ""env"": { ""NODE_ENV"": ""production"" } } }  So react-snap basically opens pupetter and parses the pages, and throws out an index.html I even tried adding 2 builders something like so json ""builds"": [ { ""src"": ""package.json"", ""use"": ""@now/static-build"", ""config"": { ""distDir"": ""build"" } }, { ""src"": ""build/**.*.js"", ""use"": ""@now/node"" } ],  But to no avail. Am i doing anyting wrong? or is such a combo not possible? I dont mind downgrading to version 1 so that it works, if thats the issue",test-file | test-file | test-file | test-file,"Deployment fails when Creat React App is added with React Snap I am trying to use the create-react-app's `now.json` template to deploy my application. However to pre-render my pages i am using react-snap. The build fails, on the server and i get the following error  $ react-snap 2019-05-16T22:47:04.236Z Error: Failed to launch chrome! /tmp/77102a3b/node_modules/puppeteer/.local-chromium/linux-656675/chrome-linux/chrome: error while loading shared libraries: libX11.so.6: cannot open shared object file: No such file or directory TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md at onClose (/tmp/77102a3b/node_modules/puppeteer/lib/Launcher.js:342:14) at Interface.helper.addEventListener (/tmp/77102a3b/node_modules/puppeteer/lib/Launcher.js:331:50) at emitNone (events.js:111:20) at Interface.emit (events.js:208:7) at Interface.close (readline.js:370:8) at Socket.onend (readline.js:149:10) at emitNone (events.js:111:20) at Socket.emit (events.js:208:7) at endReadableNT (_stream_readable.js:1064:12) at _combinedTickCallback (internal/process/next_tick.js:138:11) 2019-05-16T22:47:04.253Z error Command failed with exit code 1.  My Package.json json ""scripts"": { ""start"": ""node scripts/start.js"", ""build"": ""node scripts/build.js"", ""stage"": ""yarn run build && cp src/netlify/_redirects build/."", ""test"": ""node scripts/test.js"", ""now-dev"": ""node scripts/start.js"", ""now-build"": ""yarn run build"", ""postbuild"": ""react-snap"", }  My now.json  { ""version"": 2, ""name"": ""jsvault"", ""builds"": [ { ""src"": ""package.json"", ""use"": ""@now/static-build"", ""config"": { ""distDir"": ""build"" } }, { ""src"": ""build/**.*.js"", ""use"": ""@now/node"" } ], ""routes"": [ { ""src"": ""/static/(.*)"", ""headers"": { ""cache-control"": ""s-maxage=31536000,immutable"" }, ""dest"": ""/static/$1"" }, { ""src"": ""/favicon.ico"", ""dest"": ""/favicon.ico"" }, { ""src"": ""/asset-manifest.json"", ""dest"": ""/asset-manifest.json"" }, { ""src"": ""/manifest.json"", ""dest"": ""/manifest.json"" }, { ""src"": ""/precache-manifest.(.*)"", ""dest"": ""/precache-manifest.$1"" }, { ""src"": ""/service-worker.js"", ""headers"": { ""cache-control"": ""s-maxage=0"" }, ""dest"": ""/service-worker.js"" }, { ""src"": ""/(.*)"", ""headers"": { ""cache-control"": ""s-maxage=0"" }, ""dest"": ""/index.html"" } ], ""build"": { ""env"": { ""NODE_ENV"": ""production"" } } }  So react-snap basically opens pupetter and parses the pages, and throws out an index.html I even tried adding 2 builders something like so json ""builds"": [ { ""src"": ""package.json"", ""use"": ""@now/static-build"", ""config"": { ""distDir"": ""build"" } }, { ""src"": ""build/**.*.js"", ""use"": ""@now/node"" } ],  But to no avail. Am i doing anyting wrong? or is such a combo not possible? I dont mind downgrading to version 1 so that it works, if thats the issue test-file test-file test-file test-file",no-bug,0.95
473,vercel,https://github.com/vercel/vercel/issues/473,Add `now domain buy ` to `now domains -h`,using now@5.0.0,other-file,Add `now domain buy ` to `now domains -h` using now@5.0.0 other-file,no-bug,0.9
194,vercel,https://github.com/vercel/vercel/issues/194,Weird regenerator error not letting alias work properly,"<img width=""1279"" alt=""screen shot 2017-01-01 at 4 46 30 pm"" src=""https://cloud.githubusercontent.com/assets/7471018/21583163/fed69f22-d041-11e6-9652-3218602c9a67.png"">",source-file | source-file | documentation-file | test-file,"Weird regenerator error not letting alias work properly <img width=""1279"" alt=""screen shot 2017-01-01 at 4 46 30 pm"" src=""https://cloud.githubusercontent.com/assets/7471018/21583163/fed69f22-d041-11e6-9652-3218602c9a67.png""> source-file source-file documentation-file test-file",no-bug,0.8
3147,vercel,https://github.com/vercel/vercel/issues/3147,UnicodeDecodeError in python builder,"This is essentially the opposite of #3091, there's no way to return anything but UTF-8 (such as a binary file) from the handler class. The WSGI handler works around this by encoding the output as a base64 string, and then supplying `encoding` in the result dict, but there's no way to do that from the simpler handler class right now.",source-file | test-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | test-file,"UnicodeDecodeError in python builder This is essentially the opposite of #3091, there's no way to return anything but UTF-8 (such as a binary file) from the handler class. The WSGI handler works around this by encoding the output as a base64 string, and then supplying `encoding` in the result dict, but there's no way to do that from the simpler handler class right now. source-file test-file test-file test-file test-file source-file test-file test-file test-file test-file",no-bug,0.8
2681,vercel,https://github.com/vercel/vercel/issues/2681,Render status code when failing to parse JSON,"When throwing [this error](https://github.com/zeit/now-cli/blob/canary/src/util/index.js#L314), we should include the status code in the message, so that it's easier to debug.",source-file | source-file | source-file | source-file | source-file | source-file,"Render status code when failing to parse JSON When throwing [this error](https://github.com/zeit/now-cli/blob/canary/src/util/index.js#L314), we should include the status code in the message, so that it's easier to debug. source-file source-file source-file source-file source-file source-file",no-bug,0.8
11,vercel,https://github.com/vercel/vercel/issues/11,"When running `now` and you're not logged in, improve messaging"," > Email: > Success! To deploy, run `now` again ",source-file,"When running `now` and you're not logged in, improve messaging  > Email: > Success! To deploy, run `now` again  source-file",no-bug,0.8
2697,vercel,https://github.com/vercel/vercel/issues/2697,Serving a broken `index.html` file and then fixing it doesn't work,Check out the following video. You'll notice that: 1. Adding a `index.html` file with a broken name 2. Fixing the name Fails to recover in `now dev`. [index html file.mp4.zip](https://github.com/zeit/now-cli/files/3467126/index.html.file.mp4.zip),documentation-file | other-file | documentation-file | test-file | other-file | documentation-file | test-file | other-file,Serving a broken `index.html` file and then fixing it doesn't work Check out the following video. You'll notice that: 1. Adding a `index.html` file with a broken name 2. Fixing the name Fails to recover in `now dev`. [index html file.mp4.zip](https://github.com/zeit/now-cli/files/3467126/index.html.file.mp4.zip) documentation-file other-file documentation-file test-file other-file documentation-file test-file other-file,no-bug,0.9
340,vercel,https://github.com/vercel/vercel/issues/340,/home/nowuser/automap: line 31: can't fork,"I'm having trouble deploying with the now cli:  >  npm start > > quantlife-web@1.0.0 start /home/nowuser/src > > next -p $PORT start > > Using .babelrc defined in your app root > > Using ""webpack"" config function defined in next.config.js. > /home/nowuser/autopmap: line 31: can't fork  Running build and start locally works fine but seems to get stuck in a loop during deployment. Eventually it ends but the page shows ""502 An error occured with your deployment."" now-cli@4.5.6 next@2.0.0-beta.18 I also have a yarn.lock file in my project",source-file,"/home/nowuser/automap: line 31: can't fork I'm having trouble deploying with the now cli:  >  npm start > > quantlife-web@1.0.0 start /home/nowuser/src > > next -p $PORT start > > Using .babelrc defined in your app root > > Using ""webpack"" config function defined in next.config.js. > /home/nowuser/autopmap: line 31: can't fork  Running build and start locally works fine but seems to get stuck in a loop during deployment. Eventually it ends but the page shows ""502 An error occured with your deployment."" now-cli@4.5.6 next@2.0.0-beta.18 I also have a yarn.lock file in my project source-file",no-bug,0.9
532,vercel,https://github.com/vercel/vercel/issues/532,Idea! Include rules.json in a deployment instead of having to explicitly upload,"After chatting with @timneutkens today, I found I had misunderstood how `rules.json` worked  I thought I could deploy just the `rules.json` to a domain or subdomain, and use that to assemble all the services. Based on this from [the docs](https://zeit.co/docs/features/path-aliases#alias-rules), `now alias company.com -r rules.json`, I thought I could just do that on an empty domain I'd just bought; I didn't realize that you have to have a **root deployment** _plus_ rules. Rules are like _extra_ routes. So that's one thing, but then once I understood that you needed a root deployment, I thought a nice feature might be just including the `rules.json` in it, rather than having to explicitly called `-r rules.json` each time you want to update it. It would be less work to update, and also could keep the rules in version control with the root deployment you have to have anyway!",source-file,"Idea! Include rules.json in a deployment instead of having to explicitly upload After chatting with @timneutkens today, I found I had misunderstood how `rules.json` worked  I thought I could deploy just the `rules.json` to a domain or subdomain, and use that to assemble all the services. Based on this from [the docs](https://zeit.co/docs/features/path-aliases#alias-rules), `now alias company.com -r rules.json`, I thought I could just do that on an empty domain I'd just bought; I didn't realize that you have to have a **root deployment** _plus_ rules. Rules are like _extra_ routes. So that's one thing, but then once I understood that you needed a root deployment, I thought a nice feature might be just including the `rules.json` in it, rather than having to explicitly called `-r rules.json` each time you want to update it. It would be less work to update, and also could keep the rules in version control with the root deployment you have to have anyway! source-file",no-bug,0.9
10,vercel,https://github.com/vercel/vercel/issues/10,Ensure consistent `usage` error style,"Some commands display an error followed by the help message when using a sub-command wrong, and others just display the error. We should switch to a hybrid, where we say:  > Error! Incorrect number of parameters supplied > Usage: now alias add <from> <to> > For further help and examples, run `now help alias` ",config-file,"Ensure consistent `usage` error style Some commands display an error followed by the help message when using a sub-command wrong, and others just display the error. We should switch to a hybrid, where we say:  > Error! Incorrect number of parameters supplied > Usage: now alias add <from> <to> > For further help and examples, run `now help alias`  config-file",no-bug,0.9
17,vercel,https://github.com/vercel/vercel/issues/17,Alias fails for domains with `_` in name,https://github.com/zeit/now-issues/issues/4,config-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,Alias fails for domains with `_` in name https://github.com/zeit/now-issues/issues/4 config-file other-file source-file documentation-file test-file test-file test-file test-file test-file test-file test-file,no-bug,0.7
3820,vercel,https://github.com/vercel/vercel/issues/3820,Go build fails if Git configured to use Windows line endings,"* It seems that CRLF is not supported for `go.mod`. * In general, Go is against using CRLF in sources: https://github.com/golang/go/issues/16355 My global git config:   core.autocrlf=true   `now` build fails e.g. for ""vanilla"" example, if trying to run it from the checkout of the repo.  /handler: malformed module path ""example-date\r/handler"": invalid char '\r'  PR will be provided :-)",other-file,"Go build fails if Git configured to use Windows line endings * It seems that CRLF is not supported for `go.mod`. * In general, Go is against using CRLF in sources: https://github.com/golang/go/issues/16355 My global git config:   core.autocrlf=true   `now` build fails e.g. for ""vanilla"" example, if trying to run it from the checkout of the repo.  /handler: malformed module path ""example-date\r/handler"": invalid char '\r'  PR will be provided :-) other-file",no-bug,0.9
5,vercel,https://github.com/vercel/vercel/issues/5,`now-alias` doesn't handle rate limit errors gracefully,It should display a friendlier error,source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,`now-alias` doesn't handle rate limit errors gracefully It should display a friendlier error source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.7
527,vercel,https://github.com/vercel/vercel/issues/527,What Means that my App is Scaled to 3 deployments,I issued following command: `now scale myapp-123456.now.sh 3` with the following output:  > Scaled to 3 instances: [12s] - myapp-ziwounrkqh-570a6670c4bec30e82c5fbb6.now.sh - myapp-ziwounrkqh-4477e20b9377d2adc23514e9.now.sh - myapp-ziwounrkqh-08dd73d1f858d6d87ac3d7f9.now.sh  I have the app aliased to myapp.now.sh. That means that now I need to create an alias for every instance? Or users are automatically redirected to any of them by visiting the current alias: `myapp.now.sh`,test-file | test-file | test-file,What Means that my App is Scaled to 3 deployments I issued following command: `now scale myapp-123456.now.sh 3` with the following output:  > Scaled to 3 instances: [12s] - myapp-ziwounrkqh-570a6670c4bec30e82c5fbb6.now.sh - myapp-ziwounrkqh-4477e20b9377d2adc23514e9.now.sh - myapp-ziwounrkqh-08dd73d1f858d6d87ac3d7f9.now.sh  I have the app aliased to myapp.now.sh. That means that now I need to create an alias for every instance? Or users are automatically redirected to any of them by visiting the current alias: `myapp.now.sh` test-file test-file test-file,no-bug,0.9
748,vercel,https://github.com/vercel/vercel/issues/748,Deploy Grav to Now?,"I'm pretty new to Docker, so I'm pretty lost here. I'm trying to deploy a flat file CMS project named Grav. I found this docker container online https://github.com/andreaschiona/grav-dokerized and was able to deploy without any errors. But once I goto the url https://andreaschiona-grav-dokerized-echaqoadgr.now.sh/ I get an error. How should I go about this, and still have the ability to upload custom themes and plugins etc",documentation-file | other-file,"Deploy Grav to Now? I'm pretty new to Docker, so I'm pretty lost here. I'm trying to deploy a flat file CMS project named Grav. I found this docker container online https://github.com/andreaschiona/grav-dokerized and was able to deploy without any errors. But once I goto the url https://andreaschiona-grav-dokerized-echaqoadgr.now.sh/ I get an error. How should I go about this, and still have the ability to upload custom themes and plugins etc documentation-file other-file",no-bug,0.9
516,vercel,https://github.com/vercel/vercel/issues/516,Secrets not applied from now.json,Looks like after https://github.com/zeit/now-cli/pull/508 the secrets are not applied. Previous version seems to work fine. I did not test if the same applies when the config is not in `now.json` but in `package.json`.,source-file,Secrets not applied from now.json Looks like after https://github.com/zeit/now-cli/pull/508 the secrets are not applied. Previous version seems to work fine. I did not test if the same applies when the config is not in `now.json` but in `package.json`. source-file,no-bug,0.3
282,vercel,https://github.com/vercel/vercel/issues/282,npm now broken: TypeError: Cannot read property 'current' of undefined,"Hi guys! Just started a new project with micro and now. I've installed node v7.5.0 and set up a basic micro function from the micro github page. Everything works fine on localhost. I'm on the point to use now (as I did in several previous projects) but I receive this error when checking the version:  bartdeslagmulder:~/workspace (master) $ now -v /home/ubuntu/workspace/node_modules/now/bin/now.js:34 let message = `Update available! ${chalk.red(update.current)}  ${chalk.green(update.latest)} \n` ^ TypeError: Cannot read property 'current' of undefined at Object.<anonymous> (/home/ubuntu/workspace/node_modules/now/bin/now.js:34:54) at Module._compile (module.js:571:32) at Object.Module._extensions..js (module.js:580:10) at Module.load (module.js:488:32) at tryModuleLoad (module.js:447:12) at Function.Module._load (module.js:439:3) at Module.runMain (module.js:605:10) at run (bootstrap_node.js:418:7) at startup (bootstrap_node.js:139:9) at bootstrap_node.js:533:3  Installing now@4.0.1 is working fine for me. Package.json contents:  { ""name"": ""xxx"", ""version"": ""1.0.1"", ""description"": """", ""main"": ""src/index.js"", ""scripts"": { ""deploy"": ""npm version patch && now --alias"", ""dev"": ""nodemon --exec npm start"", ""start"": ""micro -p 8080"", ""test"": ""echo \""Error: no test specified\"" && exit 1"" }, ""dependencies"": { ""micro"": ""^6.2.1"", ""now"": ""^4.1.0"" }, ""devDependencies"": { ""nodemon"": ""^1.11.0"" } }  Already tried removing the node_modules folder and downgrading to Node.js v7.4.0 without success.",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"npm now broken: TypeError: Cannot read property 'current' of undefined Hi guys! Just started a new project with micro and now. I've installed node v7.5.0 and set up a basic micro function from the micro github page. Everything works fine on localhost. I'm on the point to use now (as I did in several previous projects) but I receive this error when checking the version:  bartdeslagmulder:~/workspace (master) $ now -v /home/ubuntu/workspace/node_modules/now/bin/now.js:34 let message = `Update available! ${chalk.red(update.current)}  ${chalk.green(update.latest)} \n` ^ TypeError: Cannot read property 'current' of undefined at Object.<anonymous> (/home/ubuntu/workspace/node_modules/now/bin/now.js:34:54) at Module._compile (module.js:571:32) at Object.Module._extensions..js (module.js:580:10) at Module.load (module.js:488:32) at tryModuleLoad (module.js:447:12) at Function.Module._load (module.js:439:3) at Module.runMain (module.js:605:10) at run (bootstrap_node.js:418:7) at startup (bootstrap_node.js:139:9) at bootstrap_node.js:533:3  Installing now@4.0.1 is working fine for me. Package.json contents:  { ""name"": ""xxx"", ""version"": ""1.0.1"", ""description"": """", ""main"": ""src/index.js"", ""scripts"": { ""deploy"": ""npm version patch && now --alias"", ""dev"": ""nodemon --exec npm start"", ""start"": ""micro -p 8080"", ""test"": ""echo \""Error: no test specified\"" && exit 1"" }, ""dependencies"": { ""micro"": ""^6.2.1"", ""now"": ""^4.1.0"" }, ""devDependencies"": { ""nodemon"": ""^1.11.0"" } }  Already tried removing the node_modules folder and downgrading to Node.js v7.4.0 without success. source-file source-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
1386,vercel,https://github.com/vercel/vercel/issues/1386,"An unexpected error occurred in alias: TypeError: (0 , _table.default) is not a function","Running now alias for custom domain > Error! An unexpected error occurred in alias: TypeError: (0 , _table.default) is not a function at zeitWorldTable (/snapshot/repo/dist/now.js:9571:29) at handleSetupDomainErrorImpl (/snapshot/repo/dist/now.js:5329:46) at set (/snapshot/repo/dist/now.js:5295:28) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7) now version: 12.0.0-canary.40 or 11.2.1",source-file | source-file,"An unexpected error occurred in alias: TypeError: (0 , _table.default) is not a function Running now alias for custom domain > Error! An unexpected error occurred in alias: TypeError: (0 , _table.default) is not a function at zeitWorldTable (/snapshot/repo/dist/now.js:9571:29) at handleSetupDomainErrorImpl (/snapshot/repo/dist/now.js:5329:46) at set (/snapshot/repo/dist/now.js:5295:28) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7) now version: 12.0.0-canary.40 or 11.2.1 source-file source-file",no-bug,0.9
4436,vercel,https://github.com/vercel/vercel/issues/4436,Yarn version 2 install errors out,"# Bug report ## Describe the bug When building projects having yarn version 2 (berry) install command errors out  11:57:48.306 Retrieving list of deployment files 11:57:48.553 Downloading 9 deployment files 11:57:51.087 Installing build runtime 11:57:51.627 Build runtime installed: 539.812ms 11:57:51.958 Looking up build cache 11:57:51.993 Build cache not found 11:57:52.333 Installing dependencies 11:57:52.777 Ambiguous Syntax Error: Cannot find who to pick amongst the following alternatives: 11:57:52.777 0. yarn install [--json] [--immutable] [--immutable-cache] [--check-cache] [--inline-builds] [--cache-folder #0] 11:57:52.777 1. yarn install [--json] [--immutable] [--immutable-cache] [--check-cache] [--inline-builds] [--cache-folder #0] 11:57:52.777 While running --prefer-offline install --ignore-engines 11:57:52.790 Error: Command ""yarn install"" exited with 1 11:57:55.018 Done with ""package.json""  ## To Reproduce Repo: [Github Repository](https://github.com/SagnikPradhan/sagnikpradhan/tree/defba3be743508d886badb417f10f7f8c932e258) Try deploying this repository with svelte configuration ## Expected behavior Should quietly install the dependencies or check them (in case of offline cache). ## System information Does not matter",source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Yarn version 2 install errors out # Bug report ## Describe the bug When building projects having yarn version 2 (berry) install command errors out  11:57:48.306 Retrieving list of deployment files 11:57:48.553 Downloading 9 deployment files 11:57:51.087 Installing build runtime 11:57:51.627 Build runtime installed: 539.812ms 11:57:51.958 Looking up build cache 11:57:51.993 Build cache not found 11:57:52.333 Installing dependencies 11:57:52.777 Ambiguous Syntax Error: Cannot find who to pick amongst the following alternatives: 11:57:52.777 0. yarn install [--json] [--immutable] [--immutable-cache] [--check-cache] [--inline-builds] [--cache-folder #0] 11:57:52.777 1. yarn install [--json] [--immutable] [--immutable-cache] [--check-cache] [--inline-builds] [--cache-folder #0] 11:57:52.777 While running --prefer-offline install --ignore-engines 11:57:52.790 Error: Command ""yarn install"" exited with 1 11:57:55.018 Done with ""package.json""  ## To Reproduce Repo: [Github Repository](https://github.com/SagnikPradhan/sagnikpradhan/tree/defba3be743508d886badb417f10f7f8c932e258) Try deploying this repository with svelte configuration ## Expected behavior Should quietly install the dependencies or check them (in case of offline cache). ## System information Does not matter source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.95
86,vercel,https://github.com/vercel/vercel/issues/86,Disable red stderr,It's not always used to indicate errors :\,source-file | documentation-file | source-file | source-file | source-file | other-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | source-file | test-file | test-file | test-file | test-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | source-file | source-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file,Disable red stderr It's not always used to indicate errors :\ source-file documentation-file source-file source-file source-file other-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file documentation-file documentation-file source-file test-file test-file test-file test-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file documentation-file documentation-file source-file source-file documentation-file documentation-file documentation-file source-file documentation-file,no-bug,0.9
477,vercel,https://github.com/vercel/vercel/issues/477,Error when attempting to alias a custom domain on `pro` plan,"Not blocking for me (I just downgraded to the Premium plan), but the `pro` plan does not support custom domain aliasing (d'oh!). `Error! Custom domains are only enabled for premium accounts. Please upgrade by running 'now upgrade'.`",source-file | test-file | test-file | source-file,"Error when attempting to alias a custom domain on `pro` plan Not blocking for me (I just downgraded to the Premium plan), but the `pro` plan does not support custom domain aliasing (d'oh!). `Error! Custom domains are only enabled for premium accounts. Please upgrade by running 'now upgrade'.` source-file test-file test-file source-file",no-bug,0.8
3133,vercel,https://github.com/vercel/vercel/issues/3133,[now-next] now dev does not work with the new src directory,Running `now dev` while having everything the `src` directory does not work. `next build` still works. Next.js `v9.1.0`. No `now.json`. ![Screenshot from 2019-10-07 20-37-27](https://user-images.githubusercontent.com/40987398/66358765-5a15c400-e942-11e9-8ca1-e3a68b753f11.png) Thanks!,source-file | source-file,[now-next] now dev does not work with the new src directory Running `now dev` while having everything the `src` directory does not work. `next build` still works. Next.js `v9.1.0`. No `now.json`. ![Screenshot from 2019-10-07 20-37-27](https://user-images.githubusercontent.com/40987398/66358765-5a15c400-e942-11e9-8ca1-e3a68b753f11.png) Thanks! source-file source-file,no-bug,0.9
3246,vercel,https://github.com/vercel/vercel/issues/3246,Ruby serverless API are not working anymore,"Hi, First of all, thanks for the ruby support. I published some code ~7 days ago that was working just fine: https://github.com/denispasin/thp-landing That's a simple API possible for a test, using a gem. > Installing build runtime > -- > 09:01:22 PM | Build runtime installed: 2219.847ms > 09:01:22 PM | Looking up build cache > 09:01:23 PM | downloading files > 09:01:23 PM | installing ruby > 09:01:23 PM | installing bundler > 09:01:23 PM | checking for existing vendor directory at ""vendor/bundle/ruby/2.5.0"" > 09:01:23 PM | did not find a vendor directory but found a Gemfile, bundling gems > 09:01:23 PM | running ""bundle install --deployment"" > 09:01:56 PM | entrypoint is api/to_google_doc.rb > 09:02:04 PM | done It's not anymore. It seems to not detect and install gems as it did before. > Installing build runtime > -- > 11:00:21 PM | Build runtime installed: 2210.095ms > 11:00:21 PM | Looking up build cache > 11:01:05 PM | done It's probably from this commit (the only one with ruby in it and between now and 7 days ago): https://github.com/zeit/now/commit/e36f3d355e58495d0356934f2ff26f7c3d8ba915 I'll try to understand the commit. Tell me if you need more things from me!",test-file,"Ruby serverless API are not working anymore Hi, First of all, thanks for the ruby support. I published some code ~7 days ago that was working just fine: https://github.com/denispasin/thp-landing That's a simple API possible for a test, using a gem. > Installing build runtime > -- > 09:01:22 PM | Build runtime installed: 2219.847ms > 09:01:22 PM | Looking up build cache > 09:01:23 PM | downloading files > 09:01:23 PM | installing ruby > 09:01:23 PM | installing bundler > 09:01:23 PM | checking for existing vendor directory at ""vendor/bundle/ruby/2.5.0"" > 09:01:23 PM | did not find a vendor directory but found a Gemfile, bundling gems > 09:01:23 PM | running ""bundle install --deployment"" > 09:01:56 PM | entrypoint is api/to_google_doc.rb > 09:02:04 PM | done It's not anymore. It seems to not detect and install gems as it did before. > Installing build runtime > -- > 11:00:21 PM | Build runtime installed: 2210.095ms > 11:00:21 PM | Looking up build cache > 11:01:05 PM | done It's probably from this commit (the only one with ruby in it and between now and 7 days ago): https://github.com/zeit/now/commit/e36f3d355e58495d0356934f2ff26f7c3d8ba915 I'll try to understand the commit. Tell me if you need more things from me! test-file",no-bug,0.9
3091,vercel,https://github.com/vercel/vercel/issues/3091,UnicodeEncodeError in python builder,"Any payload that has non-ascii characters in it blows up if not encoded in latin-1. All payloads from browsers will be utf-8. To reproduce: Have a web app send (fetch) a json payload with strings with Greek (or other non-ascii characters) to a python endpoint deployed on now. Logs:  Duration: 1.84 ms Billed Duration: 100 ms Memory Size: 3008 MB Max Memory Used: 66 MB Unhandled exception in thread started by <bound method BaseServer.handle_request of <http.server.HTTPServer object at 0x7f83a3e29e48>> Traceback (most recent call last): File ""/var/lang/lib/python3.6/socketserver.py"", line 298, in handle_request ready = selector.select(timeout) File ""/var/lang/lib/python3.6/selectors.py"", line 376, in select fd_event_list = self._poll.poll(timeout) PermissionError: [Errno 1] Operation not permitted 'latin-1' codec can't encode characters in position 2370-2379: Body ('') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.: UnicodeEncodeError Traceback (most recent call last): File ""/var/task/now__handler__python.py"", line 42, in now_handler headers=headers, data=body, allow_redirects=False) File ""/var/task/requests/api.py"", line 60, in request return session.request(method=method, url=url, **kwargs) File ""/var/task/requests/sessions.py"", line 533, in request resp = self.send(prep, **send_kwargs) File ""/var/task/requests/sessions.py"", line 646, in send r = adapter.send(request, **kwargs) File ""/var/task/requests/adapters.py"", line 449, in send timeout=timeout File ""/var/task/urllib3/connectionpool.py"", line 672, in urlopen chunked=chunked, File ""/var/task/urllib3/connectionpool.py"", line 387, in _make_request conn.request(method, url, **httplib_request_kw) File ""/var/lang/lib/python3.6/http/client.py"", line 1254, in request self._send_request(method, url, body, headers, encode_chunked) File ""/var/lang/lib/python3.6/http/client.py"", line 1299, in _send_request body = _encode(body, 'body') File ""/var/lang/lib/python3.6/http/client.py"", line 171, in _encode (name.title(), data[err.start:err.end], name)) from None UnicodeEncodeError: 'latin-1' codec can't encode characters in position 2370-2379: Body ('') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.  Full reproduction here: https://github.com/offero/nowpyunicodefail",test-file | test-file | source-file | source-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file,"UnicodeEncodeError in python builder Any payload that has non-ascii characters in it blows up if not encoded in latin-1. All payloads from browsers will be utf-8. To reproduce: Have a web app send (fetch) a json payload with strings with Greek (or other non-ascii characters) to a python endpoint deployed on now. Logs:  Duration: 1.84 ms Billed Duration: 100 ms Memory Size: 3008 MB Max Memory Used: 66 MB Unhandled exception in thread started by <bound method BaseServer.handle_request of <http.server.HTTPServer object at 0x7f83a3e29e48>> Traceback (most recent call last): File ""/var/lang/lib/python3.6/socketserver.py"", line 298, in handle_request ready = selector.select(timeout) File ""/var/lang/lib/python3.6/selectors.py"", line 376, in select fd_event_list = self._poll.poll(timeout) PermissionError: [Errno 1] Operation not permitted 'latin-1' codec can't encode characters in position 2370-2379: Body ('') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.: UnicodeEncodeError Traceback (most recent call last): File ""/var/task/now__handler__python.py"", line 42, in now_handler headers=headers, data=body, allow_redirects=False) File ""/var/task/requests/api.py"", line 60, in request return session.request(method=method, url=url, **kwargs) File ""/var/task/requests/sessions.py"", line 533, in request resp = self.send(prep, **send_kwargs) File ""/var/task/requests/sessions.py"", line 646, in send r = adapter.send(request, **kwargs) File ""/var/task/requests/adapters.py"", line 449, in send timeout=timeout File ""/var/task/urllib3/connectionpool.py"", line 672, in urlopen chunked=chunked, File ""/var/task/urllib3/connectionpool.py"", line 387, in _make_request conn.request(method, url, **httplib_request_kw) File ""/var/lang/lib/python3.6/http/client.py"", line 1254, in request self._send_request(method, url, body, headers, encode_chunked) File ""/var/lang/lib/python3.6/http/client.py"", line 1299, in _send_request body = _encode(body, 'body') File ""/var/lang/lib/python3.6/http/client.py"", line 171, in _encode (name.title(), data[err.start:err.end], name)) from None UnicodeEncodeError: 'latin-1' codec can't encode characters in position 2370-2379: Body ('') is not valid Latin-1. Use body.encode('utf-8') if you want to send it encoded in UTF-8.  Full reproduction here: https://github.com/offero/nowpyunicodefail test-file test-file source-file source-file test-file test-file test-file source-file test-file test-file test-file",bug,0.95
10027,vercel,https://github.com/vercel/vercel/issues/10027,deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs,Whenever I use vercel plugin in the project. The below warning is emitted. `WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs`,documentation-file | documentation-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | documentation-file | source-file,deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs Whenever I use vercel plugin in the project. The below warning is emitted. `WARN deprecated @npmcli/move-file@1.1.2: This functionality has been moved to @npmcli/fs` documentation-file documentation-file source-file source-file source-file test-file test-file test-file test-file test-file documentation-file source-file,no-bug,0.9
68,vercel,https://github.com/vercel/vercel/issues/68,Improve `alias` UX,"I know there's been some discussion in zeit.chat about this, but I thought it'd be good to open a issue for further discussion. I'm not sure of the best solution to improve the aliases experience, but here's some ideas for consideration: ## Ability to alias multiple domains at once I'd like to do this:  now alias <ID> domain.com www.domain.com  instead of this:  now alias <ID> domain.com now alias <ID> www.domain.com  ## Ability to define domain aliases in package.json or some other file I'd like to do this:  now alias  and have the latest deployment automatically aliased to one or more configured domains Alternatively, it could be:  now alias <ID>  which would be easy to do since the deployment url is automatically copied to the clipboard. I know [now-realias](https://github.com/remy/now-realias) does something like this, but I think this should be apart of the official client :)",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"Improve `alias` UX I know there's been some discussion in zeit.chat about this, but I thought it'd be good to open a issue for further discussion. I'm not sure of the best solution to improve the aliases experience, but here's some ideas for consideration: ## Ability to alias multiple domains at once I'd like to do this:  now alias <ID> domain.com www.domain.com  instead of this:  now alias <ID> domain.com now alias <ID> www.domain.com  ## Ability to define domain aliases in package.json or some other file I'd like to do this:  now alias  and have the latest deployment automatically aliased to one or more configured domains Alternatively, it could be:  now alias <ID>  which would be easy to do since the deployment url is automatically copied to the clipboard. I know [now-realias](https://github.com/remy/now-realias) does something like this, but I think this should be apart of the official client :) source-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
607,vercel,https://github.com/vercel/vercel/issues/607,Node 7.7.10 being ignored,"The release of NPM 5 / Node 8 doesn't work with my app. I'll debug it, but in the short term I need to deploy. I have `engines.node` in my now.json set to 7.7.10, but on every deploy Now tells me: > Warning! Requested node version 7.7.10 is not available 8.0.0 How do I switch back to NPM 4 / Node 7?",source-file,"Node 7.7.10 being ignored The release of NPM 5 / Node 8 doesn't work with my app. I'll debug it, but in the short term I need to deploy. I have `engines.node` in my now.json set to 7.7.10, but on every deploy Now tells me: > Warning! Requested node version 7.7.10 is not available 8.0.0 How do I switch back to NPM 4 / Node 7? source-file",no-bug,0.9
85,vercel,https://github.com/vercel/vercel/issues/85,`now config`, now config set forwardNpm true now config ls ,source-file | source-file,`now config`  now config set forwardNpm true now config ls  source-file source-file,no-bug,0.3
318,vercel,https://github.com/vercel/vercel/issues/318,"""now alias"" without package.json","I want use now.json with static website.  now alias > Error! Failed to read JSON in ""/Users/me/project/package.json"" ",source-file | other-file | config-file,"""now alias"" without package.json I want use now.json with static website.  now alias > Error! Failed to read JSON in ""/Users/me/project/package.json""  source-file other-file config-file",no-bug,0.8
235,vercel,https://github.com/vercel/vercel/issues/235,npm run build,"I tryed *now* with this package https://github.com/fibo/tris3d-server/tree/v0.6.0 which contains a *build* script, and a *postbuild* like ""build"": ""npm run lint && npm run test && npm run webpack"", ""postbuild"": ""npm run git_add-f; git commit -m 'build'; git push origin master"", on deploy, I got an error like ""git not found"". I did not expect *now* would run the *npm run build* script, maybe it is documented, but I did not find it.",documentation-file | documentation-file | source-file | documentation-file,"npm run build I tryed *now* with this package https://github.com/fibo/tris3d-server/tree/v0.6.0 which contains a *build* script, and a *postbuild* like ""build"": ""npm run lint && npm run test && npm run webpack"", ""postbuild"": ""npm run git_add-f; git commit -m 'build'; git push origin master"", on deploy, I got an error like ""git not found"". I did not expect *now* would run the *npm run build* script, maybe it is documented, but I did not find it. documentation-file documentation-file source-file documentation-file",no-bug,0.9
870,vercel,https://github.com/vercel/vercel/issues/870,Desktop app keeps asking for permission on a daily basis (macOS High Sierra),"I'm running the latest now desktop app on macOS High Sierra (GM) and seeing daily permission prompts from the app, most likely due to new CLI releases. I'm not sure if this is an issue or a feature, but each update triggers two permission prompts (which require a password), and I'm definitely not seeing this on my other Mac, which is running macOS Sierra.",source-file | test-file,"Desktop app keeps asking for permission on a daily basis (macOS High Sierra) I'm running the latest now desktop app on macOS High Sierra (GM) and seeing daily permission prompts from the app, most likely due to new CLI releases. I'm not sure if this is an issue or a feature, but each update triggers two permission prompts (which require a password), and I'm definitely not seeing this on my other Mac, which is running macOS Sierra. source-file test-file",no-bug,0.9
3099,vercel,https://github.com/vercel/vercel/issues/3099,Latest `now@16.3.0` broke `--local-config`,"Hi! Maybe someone already posted this but the last version of `now` broke deployments. It searching for a `build` in `package.json` but I think it's confusing the `package.json` from the workspace and doesn't think about the `package.json` for the actual builder.  > Error! Your `package.json` file is missing a `build` property inside the `script` property. More details: https://zeit.co/docs/v2/advanced/platform/frequently-asked-questions#missing-build-script error Command failed with exit code 1.  I use a `json` file for `now --local-config` who specify the correct package. I didn't made a deployment since last week. And yes, there is a `build` into the `package.json` of the package. Everything were working perfectly fine during the last few months (even my last deployment last week), since this morning it's impossible with the latest version of `now`. I just updated this morning and now it's impossible to deploy. Even simple simples boilerplates from github. :/ Hope you'll fix it soon! Thx a lot for everything EDIT: Right now, I've downgrade to the 16.2.0 version to be able to deploy I've tested the 16.3.0 and there definitely an issue there :) Good luck to the team to fix it!",source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file,"Latest `now@16.3.0` broke `--local-config` Hi! Maybe someone already posted this but the last version of `now` broke deployments. It searching for a `build` in `package.json` but I think it's confusing the `package.json` from the workspace and doesn't think about the `package.json` for the actual builder.  > Error! Your `package.json` file is missing a `build` property inside the `script` property. More details: https://zeit.co/docs/v2/advanced/platform/frequently-asked-questions#missing-build-script error Command failed with exit code 1.  I use a `json` file for `now --local-config` who specify the correct package. I didn't made a deployment since last week. And yes, there is a `build` into the `package.json` of the package. Everything were working perfectly fine during the last few months (even my last deployment last week), since this morning it's impossible with the latest version of `now`. I just updated this morning and now it's impossible to deploy. Even simple simples boilerplates from github. :/ Hope you'll fix it soon! Thx a lot for everything EDIT: Right now, I've downgrade to the 16.2.0 version to be able to deploy I've tested the 16.3.0 and there definitely an issue there :) Good luck to the team to fix it! source-file source-file source-file test-file test-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file",no-bug,0.8
116,vercel,https://github.com/vercel/vercel/issues/116,Feature request: environment variables via package.json,"From Slack: jimpick [12:10 PM] Trying out now secrets. Very nice! [12:11] I've got a { , now: { alias: 'myalias.now.sh' } } in package.json [12:11] (but more JSONy :-) [12:12] And {  ""scripts"": { ""deploy"": ""now -e CONSUMER_KEY=@consumer_key -e CONSUMER_SECRET=@consumer_secret && now alias"" } } (edited) [12:12] It would be nice if the now cli could deduce those -e arguments from the ""now"" section in package.json. That would really clean that line up. easyrider [12:13 PM] joined #now jimpick [12:14 PM] maybe {  ""now"": { ""alias"": ""myalias.now.sh"", ""environment"": { ""CONSUMER_KEY"": ""@consumer_key"", ""CONSUMER_SECRET"": ""@consumer_secret"" } } } ? (edited) [12:14] just a thought [12:15] then I could just do {  ""scripts"": { ""deploy"": ""now && now alias"" } } (edited) jamo [12:17 PM] :+1: jimpick [12:17 PM] sorry, i suck at typing JSON jamo [12:17 PM] at least I got the idea :slightly_smiling_face: [12:17] that soulds something we definitely should have jimpick [12:18 PM] cool jamo [12:18 PM] so that it won't get lost to slack logs before someone finds time to implement it, would you mind adding the feature request here: https://github.com/zeit/now/issues/new",source-file | source-file,"Feature request: environment variables via package.json From Slack: jimpick [12:10 PM] Trying out now secrets. Very nice! [12:11] I've got a { , now: { alias: 'myalias.now.sh' } } in package.json [12:11] (but more JSONy :-) [12:12] And {  ""scripts"": { ""deploy"": ""now -e CONSUMER_KEY=@consumer_key -e CONSUMER_SECRET=@consumer_secret && now alias"" } } (edited) [12:12] It would be nice if the now cli could deduce those -e arguments from the ""now"" section in package.json. That would really clean that line up. easyrider [12:13 PM] joined #now jimpick [12:14 PM] maybe {  ""now"": { ""alias"": ""myalias.now.sh"", ""environment"": { ""CONSUMER_KEY"": ""@consumer_key"", ""CONSUMER_SECRET"": ""@consumer_secret"" } } } ? (edited) [12:14] just a thought [12:15] then I could just do {  ""scripts"": { ""deploy"": ""now && now alias"" } } (edited) jamo [12:17 PM] :+1: jimpick [12:17 PM] sorry, i suck at typing JSON jamo [12:17 PM] at least I got the idea :slightly_smiling_face: [12:17] that soulds something we definitely should have jimpick [12:18 PM] cool jamo [12:18 PM] so that it won't get lost to slack logs before someone finds time to implement it, would you mind adding the feature request here: https://github.com/zeit/now/issues/new source-file source-file",no-bug,0.95
81,vercel,https://github.com/vercel/vercel/issues/81,Warn on `private`: `true` package.json uploads if using OSS plan,,source-file | source-file | source-file | test-file,Warn on `private`: `true` package.json uploads if using OSS plan  source-file source-file source-file test-file,no-bug,0.8
3280,vercel,https://github.com/vercel/vercel/issues/3280,Now dev doesn't install all packages I specified in package.json,I am getting core-js module not found error when using zero-config now/node api. I already have specified it in package.json. But the `zeit-fun-hash/node_modules` directory doesn't have it. The core-js module is required by `@vue/cli-plugin-babel/preset` in project root babel.config.js,source-file | test-file | test-file | test-file | test-file,Now dev doesn't install all packages I specified in package.json I am getting core-js module not found error when using zero-config now/node api. I already have specified it in package.json. But the `zeit-fun-hash/node_modules` directory doesn't have it. The core-js module is required by `@vue/cli-plugin-babel/preset` in project root babel.config.js source-file test-file test-file test-file test-file,no-bug,0.9
495,vercel,https://github.com/vercel/vercel/issues/495,Feature Request: Selectable UI Elements,"I know this is a broad request. Great if for some tasks we could start to see some built in ui selectors, i.e. lists or options via a lib like inquirer: https://www.npmjs.com/package/inquirer",source-file | source-file,"Feature Request: Selectable UI Elements I know this is a broad request. Great if for some tasks we could start to see some built in ui selectors, i.e. lists or options via a lib like inquirer: https://www.npmjs.com/package/inquirer source-file source-file",no-bug,0.95
184,vercel,https://github.com/vercel/vercel/issues/184,How can I write files to the local storage?,"My app downloads an image to local storage, then uploads it elsewhere. When i try to download to `./`, I get `permission denied` When I try to download to `./tmp`, the subsequent `read` operation (for the upload) fails. I see a few issues in this repo w/ similar problems, but they're all dealing w/ `next.js`, which I'm not using. Is writing to local storage possible?",documentation-file,"How can I write files to the local storage? My app downloads an image to local storage, then uploads it elsewhere. When i try to download to `./`, I get `permission denied` When I try to download to `./tmp`, the subsequent `read` operation (for the upload) fails. I see a few issues in this repo w/ similar problems, but they're all dealing w/ `next.js`, which I'm not using. Is writing to local storage possible? documentation-file",no-bug,0.9
2021,vercel,https://github.com/vercel/vercel/issues/2021,`now dev` .gitignore bug,"See this repo https://github.com/daohoangson/now-cli-gitignore-bug for reproducible steps. The error is `Cannot read property 'fsPath' of undefined` at https://github.com/zeit/now-builders/blob/145e5a10c2f827c14d680e5b7323d2f3cec3884e/packages/now-node/src/index.ts#L60 js const entrypointPath = downloadedFiles[entrypoint].fsPath;  `@now/node` was trying to get the path for `entrypoint` but `downloadedFiles` doesn't have that key because `now dev` incorrectly excludes ""src/test/index.ts"". I think it's a bug with `createIgnoreList` https://github.com/zeit/now-cli/blob/f693acbaa95fab89c1c9665b9a8f4df82ea78a11/src/commands/dev/lib/dev-builder.ts#L244",source-file | source-file | source-file | source-file,"`now dev` .gitignore bug See this repo https://github.com/daohoangson/now-cli-gitignore-bug for reproducible steps. The error is `Cannot read property 'fsPath' of undefined` at https://github.com/zeit/now-builders/blob/145e5a10c2f827c14d680e5b7323d2f3cec3884e/packages/now-node/src/index.ts#L60 js const entrypointPath = downloadedFiles[entrypoint].fsPath;  `@now/node` was trying to get the path for `entrypoint` but `downloadedFiles` doesn't have that key because `now dev` incorrectly excludes ""src/test/index.ts"". I think it's a bug with `createIgnoreList` https://github.com/zeit/now-cli/blob/f693acbaa95fab89c1c9665b9a8f4df82ea78a11/src/commands/dev/lib/dev-builder.ts#L244 source-file source-file source-file source-file",no-bug,0.9
2941,vercel,https://github.com/vercel/vercel/issues/2941,now alias without any arguments is broken,"Hey Zeit team, It looks like the latest update broke using `now alias` without any arguments. This seems to be the responsible code: https://github.com/zeit/now/commit/7c421f92e144778c0074a27a212157be9901b681#diff-b79436b8a38c46520f80ad57562b4817R82-R91 We have our alias's set up in JSON config files and I believe the old functionality was such that you could call `now alias` and specify a config with `{  ""alias"": ""some-alias.com""  }` and it would read the alias name from the config and default to the latest deployment when you supplied no arguments. This doesn't appear to be working in our CI/CD anymore:  $ now alias --local-config=now.production.json -t TOKEN -T TEAM_NAME > WARN! The ""--team"" flag is deprecated. Please use ""--scope"" instead. > Error! The provided argument ""undefined"" is not a valid deployment ",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"now alias without any arguments is broken Hey Zeit team, It looks like the latest update broke using `now alias` without any arguments. This seems to be the responsible code: https://github.com/zeit/now/commit/7c421f92e144778c0074a27a212157be9901b681#diff-b79436b8a38c46520f80ad57562b4817R82-R91 We have our alias's set up in JSON config files and I believe the old functionality was such that you could call `now alias` and specify a config with `{  ""alias"": ""some-alias.com""  }` and it would read the alias name from the config and default to the latest deployment when you supplied no arguments. This doesn't appear to be working in our CI/CD anymore:  $ now alias --local-config=now.production.json -t TOKEN -T TEAM_NAME > WARN! The ""--team"" flag is deprecated. Please use ""--scope"" instead. > Error! The provided argument ""undefined"" is not a valid deployment  source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.7
134,vercel,https://github.com/vercel/vercel/issues/134,Rate limit exceeded on second deploy,"I created a brand new project and managed to deploy it, then wanted to redeploy with a CSS fix but got the error `Error! Rate limit exceeded error. Try again in 11 days`.",source-file | test-file,"Rate limit exceeded on second deploy I created a brand new project and managed to deploy it, then wanted to redeploy with a CSS fix but got the error `Error! Rate limit exceeded error. Try again in 11 days`. source-file test-file",no-bug,0.9
11547,vercel,https://github.com/vercel/vercel/issues/11547,[34.1.8] `vercel build` Error: Cannot read properties of null (reading 'trim'),"we're using the Vercel CLI in our CI, but we recently got the following error, and we haven't changed any codes, dependencies or configurations. shell # vercel build --token=${{ secrets.VERCEL_TOKEN }} Vercel CLI 34.1.8 Detected `pnpm-lock.yaml` version 6 generated by pnpm 8 Running ""install"" command: `pnpm i` Scope: all 10 workspace projects  : Done Done in 6.6s Error: Cannot read properties of null (reading 'trim') Error: Process completed with exit code 1.  possible reason is that we are using `vercel@canary` and when I downgrade to `vercel@34.1.7` everything works fine. I tried to add the `--debug` flag, but there was no helpful information. looking at the changelog, I suspect this commit has something to do with it. https://github.com/vercel/vercel/commit/dc974b6797de0b6e90373c92e1f2bbdafcfc6687#diff-466c3ca84fb92d65cf8c3c9dfb99bd904425f3a527b86dd7f2b1d79096213318R592",documentation-file | source-file,"[34.1.8] `vercel build` Error: Cannot read properties of null (reading 'trim') we're using the Vercel CLI in our CI, but we recently got the following error, and we haven't changed any codes, dependencies or configurations. shell # vercel build --token=${{ secrets.VERCEL_TOKEN }} Vercel CLI 34.1.8 Detected `pnpm-lock.yaml` version 6 generated by pnpm 8 Running ""install"" command: `pnpm i` Scope: all 10 workspace projects  : Done Done in 6.6s Error: Cannot read properties of null (reading 'trim') Error: Process completed with exit code 1.  possible reason is that we are using `vercel@canary` and when I downgrade to `vercel@34.1.7` everything works fine. I tried to add the `--debug` flag, but there was no helpful information. looking at the changelog, I suspect this commit has something to do with it. https://github.com/vercel/vercel/commit/dc974b6797de0b6e90373c92e1f2bbdafcfc6687#diff-466c3ca84fb92d65cf8c3c9dfb99bd904425f3a527b86dd7f2b1d79096213318R592 documentation-file source-file",no-bug,0.9
787,vercel,https://github.com/vercel/vercel/issues/787,Is there any release scheduled supporting Azure (az) ?,"_From @lipp on August 9, 2017 9:43_ _Copied from original issue: zeit/now#46_",documentation-file | documentation-file,"Is there any release scheduled supporting Azure (az) ? _From @lipp on August 9, 2017 9:43_ _Copied from original issue: zeit/now#46_ documentation-file documentation-file",no-bug,0.9
1337,vercel,https://github.com/vercel/vercel/issues/1337,`now alias ls <url> --json` outputting the json to stderr," $ now alias ls my-path-alias.now.sh --json > rules.json { ""rules"": [ <snip> ] } ",source-file | source-file | source-file,"`now alias ls <url> --json` outputting the json to stderr  $ now alias ls my-path-alias.now.sh --json > rules.json { ""rules"": [ <snip> ] }  source-file source-file source-file",bug,0.85
2238,vercel,https://github.com/vercel/vercel/issues/2238,The casing for some header names do not match in 'now' vs. 'now dev',"now version:15.0.8 build: @now/bash I found some small difference in request header in 'now' and 'now dev'.  $ cat now.json { ""version"": 2, ""builds"": [{ ""src"": ""*.sh"", ""use"": ""@now/bash"" }] } $ cat index.sh handler() { jq '.headers|keys|sort' $1 }  Result when calling what was actually deployed.  $ curl -Ss https://..now.sh [ ""accept"", ""host"", ""user-agent"", ""x-forwarded-for"", ""x-forwarded-host"", ""x-forwarded-proto"", ""x-now-deployment-url"", ""x-now-id"", ""x-now-trace"", ""x-real-ip"", ""x-zeit-co-forwarded-for"" ]  The result of calling locally with 'now dev'.  $ curl -Ss http://localhost:3000/ [ ""Connection"", ""X-Forwarded-For"", ""X-Forwarded-Host"", ""X-Forwarded-Proto"", ""X-Real-IP"", ""accept"", ""host"", ""user-agent"", ""x-now-deployment-url"", ""x-now-id"", ""x-now-log-id"", ""x-now-trace"", ""x-zeit-co-forwarded-for"" ]  Some key names are mixed-case only with 'now dev'. This difference is not in `@now/node`.",source-file | source-file | source-file,"The casing for some header names do not match in 'now' vs. 'now dev' now version:15.0.8 build: @now/bash I found some small difference in request header in 'now' and 'now dev'.  $ cat now.json { ""version"": 2, ""builds"": [{ ""src"": ""*.sh"", ""use"": ""@now/bash"" }] } $ cat index.sh handler() { jq '.headers|keys|sort' $1 }  Result when calling what was actually deployed.  $ curl -Ss https://..now.sh [ ""accept"", ""host"", ""user-agent"", ""x-forwarded-for"", ""x-forwarded-host"", ""x-forwarded-proto"", ""x-now-deployment-url"", ""x-now-id"", ""x-now-trace"", ""x-real-ip"", ""x-zeit-co-forwarded-for"" ]  The result of calling locally with 'now dev'.  $ curl -Ss http://localhost:3000/ [ ""Connection"", ""X-Forwarded-For"", ""X-Forwarded-Host"", ""X-Forwarded-Proto"", ""X-Real-IP"", ""accept"", ""host"", ""user-agent"", ""x-now-deployment-url"", ""x-now-id"", ""x-now-log-id"", ""x-now-trace"", ""x-zeit-co-forwarded-for"" ]  Some key names are mixed-case only with 'now dev'. This difference is not in `@now/node`. source-file source-file source-file",no-bug,0.8
3774,vercel,https://github.com/vercel/vercel/issues/3774,Route Manifest Definition,"Hi, Having an issue with one of my repositories, **github.com/tiarebalbi/tiarebalbi-website** which is using **create-react-app** but once I try to deploy I'm seeing the following error:  Error: A routes-manifest.json couldn't be found. This could be due to a failure during the build -- 10:38:27 PM | at Object.getRoutesManifest (/zeit/e0f2cd85419bbae1/.build-utils/.builder/node_modules/@now/next/dist/index.js:6057:15) 10:38:27 PM | at async Object.module.exports.178.exports.build (/zeit/e0f2cd85419bbae1/.build-utils/.builder/node_modules/@now/next/dist/index.js:3823:28) 10:38:27 PM | at async buildStep (/var/task/sandbox-worker.js:20292:20) 10:38:27 PM | at async mainSub (/var/task/sandbox-worker.js:20047:9) 10:38:27 PM | at async main (/var/task/sandbox-worker.js:19975:5)  Where can I find the details about this file?",source-file | test-file,"Route Manifest Definition Hi, Having an issue with one of my repositories, **github.com/tiarebalbi/tiarebalbi-website** which is using **create-react-app** but once I try to deploy I'm seeing the following error:  Error: A routes-manifest.json couldn't be found. This could be due to a failure during the build -- 10:38:27 PM | at Object.getRoutesManifest (/zeit/e0f2cd85419bbae1/.build-utils/.builder/node_modules/@now/next/dist/index.js:6057:15) 10:38:27 PM | at async Object.module.exports.178.exports.build (/zeit/e0f2cd85419bbae1/.build-utils/.builder/node_modules/@now/next/dist/index.js:3823:28) 10:38:27 PM | at async buildStep (/var/task/sandbox-worker.js:20292:20) 10:38:27 PM | at async mainSub (/var/task/sandbox-worker.js:20047:9) 10:38:27 PM | at async main (/var/task/sandbox-worker.js:19975:5)  Where can I find the details about this file? source-file test-file",no-bug,0.9
347,vercel,https://github.com/vercel/vercel/issues/347,EACCES: permission denied,"I get the EACCES: permission denied message when my app is trying to access style.css. I have defined a middleware in my express app to automatically generate the style.css from a style.sass. It works fine locally, but the server seems to block the access to the generated file. > app.use( > sassMiddleware({ > /* Options */ > root: __dirname + ""/public/stylesheets"", > src: ""/sass"", > dest: ""/css_compiled"", > // src: path.join(__dirname, 'public/stylesheets'), > // dest: path.join(__dirname, 'public/stylesheets'), > debug: true, > outputStyle: 'compressed', > prefix: '/stylesheets', // Where prefix is at <link rel=""stylesheets"" href=""prefix/style.css""/> > response: false, // to write as files instead of into var > indentedSyntax: true // to use sass > }) > );",source-file | documentation-file,"EACCES: permission denied I get the EACCES: permission denied message when my app is trying to access style.css. I have defined a middleware in my express app to automatically generate the style.css from a style.sass. It works fine locally, but the server seems to block the access to the generated file. > app.use( > sassMiddleware({ > /* Options */ > root: __dirname + ""/public/stylesheets"", > src: ""/sass"", > dest: ""/css_compiled"", > // src: path.join(__dirname, 'public/stylesheets'), > // dest: path.join(__dirname, 'public/stylesheets'), > debug: true, > outputStyle: 'compressed', > prefix: '/stylesheets', // Where prefix is at <link rel=""stylesheets"" href=""prefix/style.css""/> > response: false, // to write as files instead of into var > indentedSyntax: true // to use sass > }) > ); source-file documentation-file",no-bug,0.95
879,vercel,https://github.com/vercel/vercel/issues/879,cant write to file EACESS permission denied,"I made a chat app that stores users chat history in .json files, but my app can't write to the .json files. I get this error:  { Error: EACCES: permission denied, open 'chatlogs/chatlogce62ca62-6c22-44d5-9220- ac1438824ec4.json' errno: -13, code: 'EACCES', syscall: 'open', path: 'chatlogs/chatlogce62ca62-6c22-44d5-9220-ac1438824ec4.json' }  Is there any way to let my app write to the chatlogs directory? Thanks in advance.",source-file | source-file | source-file,"cant write to file EACESS permission denied I made a chat app that stores users chat history in .json files, but my app can't write to the .json files. I get this error:  { Error: EACCES: permission denied, open 'chatlogs/chatlogce62ca62-6c22-44d5-9220- ac1438824ec4.json' errno: -13, code: 'EACCES', syscall: 'open', path: 'chatlogs/chatlogce62ca62-6c22-44d5-9220-ac1438824ec4.json' }  Is there any way to let my app write to the chatlogs directory? Thanks in advance. source-file source-file source-file",no-bug,0.9
659,vercel,https://github.com/vercel/vercel/issues/659,Tunnel an alias to your local dev machine,"Hey there! I've been working on a GitHub integration and kept feeling as though I wanted a faster iteration cycle between making changes on my dev box and testing those changes via GitHub. To combat that, I put together [`tunnel.now`](https://github.com/divmain/tunnel.now). It functions similarly to [localtunnel](https://localtunnel.me) or [ngrok](https://ngrok.com/), except that its a Node process deployed to the `now` cloud. That means I can alias my GitHub webhook endpoint to this instance, and tunnel all incoming connections to my local machine. It occurred to me, however, that this doesn't need to live as a separate project, and might find utility if integrated into the `now` cli itself. However, I wanted to reach out and gauge interest before submitting a PR. Let me know! Dale",documentation-file | source-file | source-file | test-file | other-file,"Tunnel an alias to your local dev machine Hey there! I've been working on a GitHub integration and kept feeling as though I wanted a faster iteration cycle between making changes on my dev box and testing those changes via GitHub. To combat that, I put together [`tunnel.now`](https://github.com/divmain/tunnel.now). It functions similarly to [localtunnel](https://localtunnel.me) or [ngrok](https://ngrok.com/), except that its a Node process deployed to the `now` cloud. That means I can alias my GitHub webhook endpoint to this instance, and tunnel all incoming connections to my local machine. It occurred to me, however, that this doesn't need to live as a separate project, and might find utility if integrated into the `now` cli itself. However, I wanted to reach out and gauge interest before submitting a PR. Let me know! Dale documentation-file source-file source-file test-file other-file",no-bug,0.95
8063,vercel,https://github.com/vercel/vercel/issues/8063,Cannot find module in the workspace?," What version of Turborepo are you using? 1.3.1  What package manager are you using / does the bug impact? Yarn v1  What operating system are you using? Mac  Describe the Bug First of all, thank you for this amazing project. We've been enjoying using turborepo for the past 6 months and we love it so far! I'm not sure if this is a bug report, but after digging into the issues and discussions, I couldn't find anything near the problem we are currently facing and after triple checking the docs and a few hours of debug, we decided to open an issue  We're currently using Vercel and deploying an api using Fastify, we are using a similar setup than [this one](https://vercel.com/guides/using-express-with-vercel), we named it `@acme/api` for the reproduction. When trying to import another package (`@acme/utils`) into the `@acme/api` project, the project would not build: NowBuildError: src/app.ts(2,23): error TS2307: Cannot find module '@acme/utils' or its corresponding type declarations. I made the logs public, if it helps: https://turbo-vercel-repro-h8fvyigkv-blatty.vercel.app/_logs And here's our `turbo.json`: json { ""$schema"": ""https://turborepo.org/schema.json"", ""pipeline"": { ""build"": { ""dependsOn"": [""^build""], ""outputs"": [""dist/**"", ""build/**"", "".next/**"", ""public/**""] }, ""@acme/api#build"": { ""dependsOn"": [""^build"", ""@acme/utils#build""], ""outputs"": [""dist/**"", ""build/**""] }, ""@acme/utils#build"": { ""dependsOn"": [""^build""], ""outputs"": [""dist/**""] }, ""start"": { ""cache"": false }, ""dev"": { ""cache"": false } }, ""baseBranch"": ""origin/main"", ""globalDependencies"": [""$GITHUB_TOKEN"", ""tsconfig.json""] }   Expected Behavior Expected `@acme/utils` to be included in `@acme/api`  To Reproduce 1. Clone the reproduction repo: https://github.com/Blatty/turbo-vercel-repro 2. Deploy to vercel, set the root directory to `apps/api` 3. Set the build command to `cd ../../ && npx turbo run build --filter=@acme/api` We also tried with `--no-cache` & `--force`, `yarn install --cwd ../..` as the ""install command"" to trigger the `postinstall` but without success",source-file | source-file | test-file,"Cannot find module in the workspace?  What version of Turborepo are you using? 1.3.1  What package manager are you using / does the bug impact? Yarn v1  What operating system are you using? Mac  Describe the Bug First of all, thank you for this amazing project. We've been enjoying using turborepo for the past 6 months and we love it so far! I'm not sure if this is a bug report, but after digging into the issues and discussions, I couldn't find anything near the problem we are currently facing and after triple checking the docs and a few hours of debug, we decided to open an issue  We're currently using Vercel and deploying an api using Fastify, we are using a similar setup than [this one](https://vercel.com/guides/using-express-with-vercel), we named it `@acme/api` for the reproduction. When trying to import another package (`@acme/utils`) into the `@acme/api` project, the project would not build: NowBuildError: src/app.ts(2,23): error TS2307: Cannot find module '@acme/utils' or its corresponding type declarations. I made the logs public, if it helps: https://turbo-vercel-repro-h8fvyigkv-blatty.vercel.app/_logs And here's our `turbo.json`: json { ""$schema"": ""https://turborepo.org/schema.json"", ""pipeline"": { ""build"": { ""dependsOn"": [""^build""], ""outputs"": [""dist/**"", ""build/**"", "".next/**"", ""public/**""] }, ""@acme/api#build"": { ""dependsOn"": [""^build"", ""@acme/utils#build""], ""outputs"": [""dist/**"", ""build/**""] }, ""@acme/utils#build"": { ""dependsOn"": [""^build""], ""outputs"": [""dist/**""] }, ""start"": { ""cache"": false }, ""dev"": { ""cache"": false } }, ""baseBranch"": ""origin/main"", ""globalDependencies"": [""$GITHUB_TOKEN"", ""tsconfig.json""] }   Expected Behavior Expected `@acme/utils` to be included in `@acme/api`  To Reproduce 1. Clone the reproduction repo: https://github.com/Blatty/turbo-vercel-repro 2. Deploy to vercel, set the root directory to `apps/api` 3. Set the build command to `cd ../../ && npx turbo run build --filter=@acme/api` We also tried with `--no-cache` & `--force`, `yarn install --cwd ../..` as the ""install command"" to trigger the `postinstall` but without success source-file source-file test-file",no-bug,0.9
78,vercel,https://github.com/vercel/vercel/issues/78,Failed webpack build step of a universal redux react app,"I am not sure if this is the place to report issues with now, but here I go anyway. I keep getting an error in my now deployments. First of all a little context. I am deploying a server rendered rect app with redux bootstraped using [universal kyt](https://github.com/NYTimes/kyt-starter-universal), and I have a build step that compiles the app using webpack. The problem is that the build step fails on now, but works perfectly on my machine. The error I am getting is `Module not found: Error: Can't resolve 'lodash/isPlainObject' in '/home/nowuser/src/node_modules/e3d8a6548416ea90c89022179a97a8ef8f8428d0/lib/components'` I think that this error comes from the `react-redux` package (I cannot tell for sure because now shows a hash instead of the package name) I reproduced the error locally using the same node version and starting from an empty node_modules folder. With this configuration everything works perfectly on my machine, but fails on now. I hacked a solution by forking react-redux, and changing lodash dependency to lodash.isplainobject because that is the only function that react-redux needs. Using my fork of react-redux everything works fine, so the problem has something to do with now and react-redux lodash dependency. Anyone came across this kind of error before? Any idea of how to solve this without my ugly fork?",other-file | other-file | other-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | test-file | test-file | other-file,"Failed webpack build step of a universal redux react app I am not sure if this is the place to report issues with now, but here I go anyway. I keep getting an error in my now deployments. First of all a little context. I am deploying a server rendered rect app with redux bootstraped using [universal kyt](https://github.com/NYTimes/kyt-starter-universal), and I have a build step that compiles the app using webpack. The problem is that the build step fails on now, but works perfectly on my machine. The error I am getting is `Module not found: Error: Can't resolve 'lodash/isPlainObject' in '/home/nowuser/src/node_modules/e3d8a6548416ea90c89022179a97a8ef8f8428d0/lib/components'` I think that this error comes from the `react-redux` package (I cannot tell for sure because now shows a hash instead of the package name) I reproduced the error locally using the same node version and starting from an empty node_modules folder. With this configuration everything works perfectly on my machine, but fails on now. I hacked a solution by forking react-redux, and changing lodash dependency to lodash.isplainobject because that is the only function that react-redux needs. Using my fork of react-redux everything works fine, so the problem has something to do with now and react-redux lodash dependency. Anyone came across this kind of error before? Any idea of how to solve this without my ugly fork? other-file other-file other-file config-file source-file documentation-file documentation-file source-file source-file test-file test-file other-file",no-bug,0.95
602,vercel,https://github.com/vercel/vercel/issues/602,Yarn global downloads now every time,"![image](https://cloud.githubusercontent.com/assets/5027156/26564108/fbc22f08-44dc-11e7-9cd8-85da1312f92f.png) Whenever i install something globally, `now` seems to download itself again? and build? output when done   yarn global add fkill-cli yarn global v0.24.6 warning No license field [1/4] Resolving packages [2/4] Fetching packages [3/4] Linking dependencies [4/4] Building fresh packages [1/1]  now: > For the sources, check out: https://github.com/zeit/now-cli success Installed ""fkill-cli@3.6.0"" with binaries: - fkill warning No license field  Done in 34.88s.  I guess it's because the ` Building fresh packages` step, but I think this should be fixed, since it makes global install a lot slower",source-file,"Yarn global downloads now every time ![image](https://cloud.githubusercontent.com/assets/5027156/26564108/fbc22f08-44dc-11e7-9cd8-85da1312f92f.png) Whenever i install something globally, `now` seems to download itself again? and build? output when done   yarn global add fkill-cli yarn global v0.24.6 warning No license field [1/4] Resolving packages [2/4] Fetching packages [3/4] Linking dependencies [4/4] Building fresh packages [1/1]  now: > For the sources, check out: https://github.com/zeit/now-cli success Installed ""fkill-cli@3.6.0"" with binaries: - fkill warning No license field  Done in 34.88s.  I guess it's because the ` Building fresh packages` step, but I think this should be fixed, since it makes global install a lot slower source-file",no-bug,0.9
388,vercel,https://github.com/vercel/vercel/issues/388,Remove `--no-clipboard`,We should just check for TTY instead.,other-file | documentation-file | source-file | test-file,Remove `--no-clipboard` We should just check for TTY instead. other-file documentation-file source-file test-file,no-bug,0.9
547,vercel,https://github.com/vercel/vercel/issues/547,Weird error when aborting `now domains buy`,"<img width=""771"" alt=""screen shot 2017-05-16 at 14 45 50"" src=""https://cloud.githubusercontent.com/assets/6170607/26106507/657776a2-3a46-11e7-9c08-f45321690959.png"">",source-file | source-file | source-file,"Weird error when aborting `now domains buy` <img width=""771"" alt=""screen shot 2017-05-16 at 14 45 50"" src=""https://cloud.githubusercontent.com/assets/6170607/26106507/657776a2-3a46-11e7-9c08-f45321690959.png""> source-file source-file source-file",no-bug,0.7
478,vercel,https://github.com/vercel/vercel/issues/478,Scale command validation issues,"Just tried using the `now scale` command, and could've sworn I saw `now scale 1` being used in the Zeit Day stream, but that actually throws an error:  > Error! Unknown error: TypeError: id.replace is not a function TypeError: id.replace is not a function at deployments.find.d (/thebox/home/travis/build/zeit/now-cli/bin/now-scale.js:145:16) at Array.find (native) at run (/thebox/home/travis/build/zeit/now-cli/bin/now-scale.js:143:29) at process._tickCallback (internal/process/next_tick.js:103:7)  Naturally this should complain about the syntax, not throw an error. Using the correct syntax (`now scale <id/domain/alias> 1`) worked fine.",test-file,"Scale command validation issues Just tried using the `now scale` command, and could've sworn I saw `now scale 1` being used in the Zeit Day stream, but that actually throws an error:  > Error! Unknown error: TypeError: id.replace is not a function TypeError: id.replace is not a function at deployments.find.d (/thebox/home/travis/build/zeit/now-cli/bin/now-scale.js:145:16) at Array.find (native) at run (/thebox/home/travis/build/zeit/now-cli/bin/now-scale.js:143:29) at process._tickCallback (internal/process/next_tick.js:103:7)  Naturally this should complain about the syntax, not throw an error. Using the correct syntax (`now scale <id/domain/alias> 1`) worked fine. test-file",no-bug,0.8
433,vercel,https://github.com/vercel/vercel/issues/433,Feature Request: Restarting a deployed app,There doesn't appear to be a way to restart a deployed process (similar to `heroku restart`).,source-file,Feature Request: Restarting a deployed app There doesn't appear to be a way to restart a deployed process (similar to `heroku restart`). source-file,no-bug,0.9
3258,vercel,https://github.com/vercel/vercel/issues/3258,@now/node Typescript 3.7,"Now that the long expected Typescript 3.7 is out, can @now/node's typescript dependency be upgraded to the latest version? Or perhaps, there is a way to specify the version of TS that is used in the project?",source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"@now/node Typescript 3.7 Now that the long expected Typescript 3.7 is out, can @now/node's typescript dependency be upgraded to the latest version? Or perhaps, there is a way to specify the version of TS that is used in the project? source-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
102,vercel,https://github.com/vercel/vercel/issues/102,Bad request: Missing `name` field,"Hey Everyone, I've been trying to deploy a Docker container with now, and I'm constantly getting the following error -  $ now --docker > Deploying ~/Code/jsjs-web > Error! Bad request. Missing `name` field.  Things I tried to fix this (on Now v0.27.0) - 1. Relogin 2. Deploying static files to now and then retrying. 3. Trying it with another email 4. Asking a couple of friends to create an account and try to deploy other docker files with their logins. Sadly, none of these worked. Here's a screenshot if it helps ![dokcer](https://cloud.githubusercontent.com/assets/649249/19822882/bb517542-9d33-11e6-8f12-bc2457edebe2.png) Any ideas on how to fix this?",documentation-file | source-file | source-file | source-file | test-file,"Bad request: Missing `name` field Hey Everyone, I've been trying to deploy a Docker container with now, and I'm constantly getting the following error -  $ now --docker > Deploying ~/Code/jsjs-web > Error! Bad request. Missing `name` field.  Things I tried to fix this (on Now v0.27.0) - 1. Relogin 2. Deploying static files to now and then retrying. 3. Trying it with another email 4. Asking a couple of friends to create an account and try to deploy other docker files with their logins. Sadly, none of these worked. Here's a screenshot if it helps ![dokcer](https://cloud.githubusercontent.com/assets/649249/19822882/bb517542-9d33-11e6-8f12-bc2457edebe2.png) Any ideas on how to fix this? documentation-file source-file source-file source-file test-file",no-bug,0.7
3105,vercel,https://github.com/vercel/vercel/issues/3105,[now-cli] upgrading to 16.3.0 breaks the routes,"**Summary** I'm hosting a `static build` of my CRA bootstrapped app to Zeit. After upgrading to 16.3.0, my route redirection to root file stopped working. I was using `now.json.routes` to redirect all my dynamic routes to `index.html` file for frontend route handling. I am getting 404 errors while accessing routes other than index. Reverting back to **16.2.0** seams to fix this issue. My `now.json` file json { ""name"": ""app-name"", ""routes"": [ { ""src"": ""/static/(.*)"", ""dest"": ""/static/$1"" }, { ""src"": ""/(.*\\.(js|json|png|jpg|ico|txt))"", ""dest"": ""/$1"" }, { ""src"": ""/(.*)"", ""dest"": ""/"" } ] }  **Steps to reproduce** Any `SPA` which is statically hosted with above `routes` configuration should reproduce the issue when deployed with `now-cli@16.3.0`.",source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file,"[now-cli] upgrading to 16.3.0 breaks the routes **Summary** I'm hosting a `static build` of my CRA bootstrapped app to Zeit. After upgrading to 16.3.0, my route redirection to root file stopped working. I was using `now.json.routes` to redirect all my dynamic routes to `index.html` file for frontend route handling. I am getting 404 errors while accessing routes other than index. Reverting back to **16.2.0** seams to fix this issue. My `now.json` file json { ""name"": ""app-name"", ""routes"": [ { ""src"": ""/static/(.*)"", ""dest"": ""/static/$1"" }, { ""src"": ""/(.*\\.(js|json|png|jpg|ico|txt))"", ""dest"": ""/$1"" }, { ""src"": ""/(.*)"", ""dest"": ""/"" } ] }  **Steps to reproduce** Any `SPA` which is statically hosted with above `routes` configuration should reproduce the issue when deployed with `now-cli@16.3.0`. source-file source-file source-file test-file test-file source-file source-file source-file source-file",no-bug,0.9
60,vercel,https://github.com/vercel/vercel/issues/60,now's npm install excludes devDependencies,"Not sure if I missed this somewhere, but `now` seems to _not_ install `devDependencies` when deploying. My `build` script uses webpack, which is defined as a `devDependency`, so it can't find it. Is this supported? Do I need to list all dependencies as regular dependencies?",source-file | documentation-file,"now's npm install excludes devDependencies Not sure if I missed this somewhere, but `now` seems to _not_ install `devDependencies` when deploying. My `build` script uses webpack, which is defined as a `devDependency`, so it can't find it. Is this supported? Do I need to list all dependencies as regular dependencies? source-file documentation-file",no-bug,0.9
31,vercel,https://github.com/vercel/vercel/issues/31,Expired SSL certificate,The following site has an expired SSL certificate: https://now-test.v6z.me/ I think I may have provisioned it a few months ago when zeit.world was announced.,source-file,Expired SSL certificate The following site has an expired SSL certificate: https://now-test.v6z.me/ I think I may have provisioned it a few months ago when zeit.world was announced. source-file,no-bug,0.9
198,vercel,https://github.com/vercel/vercel/issues/198,now -a fails if alias-id is given without tld,"Lets assume i have an app called `app-name` with the alias `app-name.now.sh` If i run `now -a app-name` it fails: `> Error! Alias with ID ""app-name"" doesn't exist` Running `now -a app-name.now.sh` or `now alias app-name-id app-name` works fine. After debugging a bit i noticed that the promise https://github.com/zeit/now-cli/blob/master/lib/alias.js#L29 is always pending if i run `now -a app-name`. Unfortunately i can't test it any further because i run out of free deploys",source-file | other-file,"now -a fails if alias-id is given without tld Lets assume i have an app called `app-name` with the alias `app-name.now.sh` If i run `now -a app-name` it fails: `> Error! Alias with ID ""app-name"" doesn't exist` Running `now -a app-name.now.sh` or `now alias app-name-id app-name` works fine. After debugging a bit i noticed that the promise https://github.com/zeit/now-cli/blob/master/lib/alias.js#L29 is always pending if i run `now -a app-name`. Unfortunately i can't test it any further because i run out of free deploys source-file other-file",no-bug,0.7
7908,vercel,https://github.com/vercel/vercel/issues/7908,@vercel/node: Support ESM with TS,"Add support for ESM in Serverless Functions. AWS Lambda [supports ESM](https://aws.amazon.com/blogs/compute/using-node-js-es-modules-and-top-level-await-in-aws-lambda/) by having a `package.json` file with `{""type"":""module""}`. This is already possible with Build Output v3 ([SvelteKit](https://github.com/sveltejs/kit/blob/master/packages/adapter-vercel/index.js#L470) and [Astro](https://github.com/withastro/astro/blob/main/packages/integrations/vercel/src/serverless/adapter.ts#L49-L51) use this method), and it could be great to have something similar for standalone `api/` functions.  Related issues - #7540",test-file | test-file | documentation-file | documentation-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | documentation-file | documentation-file | other-file,"@vercel/node: Support ESM with TS Add support for ESM in Serverless Functions. AWS Lambda [supports ESM](https://aws.amazon.com/blogs/compute/using-node-js-es-modules-and-top-level-await-in-aws-lambda/) by having a `package.json` file with `{""type"":""module""}`. This is already possible with Build Output v3 ([SvelteKit](https://github.com/sveltejs/kit/blob/master/packages/adapter-vercel/index.js#L470) and [Astro](https://github.com/withastro/astro/blob/main/packages/integrations/vercel/src/serverless/adapter.ts#L49-L51) use this method), and it could be great to have something similar for standalone `api/` functions.  Related issues - #7540 test-file test-file documentation-file documentation-file source-file source-file source-file test-file test-file test-file test-file test-file documentation-file documentation-file other-file",no-bug,0.9
30,vercel,https://github.com/vercel/vercel/issues/30,Failing deploying a file named 404.html,"I was deploying a `404.html` file and faced some weird problems! The deploy was successful, but my service worker was always failing to install due to a fetch failure (for this `404.html` file, which was always not found when the sw tried to fetch it and store it into cache). I simply renamed the `404.html` into `not-found.html` and it started working normally. Any idea about the reason for this behaviour? In my local environment it works with the 404.html file, tried in many different machines and devices, so, I don't think it is a problem with the service worker itself. Indeed, after deploying, when going for the `/404.html` address in the browser, I got a not found page (the zeit's now 404 page) instead of the (existing??) file named 404.html. Interestingly enough, the `404.png` file works normally.",documentation-file | source-file,"Failing deploying a file named 404.html I was deploying a `404.html` file and faced some weird problems! The deploy was successful, but my service worker was always failing to install due to a fetch failure (for this `404.html` file, which was always not found when the sw tried to fetch it and store it into cache). I simply renamed the `404.html` into `not-found.html` and it started working normally. Any idea about the reason for this behaviour? In my local environment it works with the 404.html file, tried in many different machines and devices, so, I don't think it is a problem with the service worker itself. Indeed, after deploying, when going for the `/404.html` address in the browser, I got a not found page (the zeit's now 404 page) instead of the (existing??) file named 404.html. Interestingly enough, the `404.png` file works normally. documentation-file source-file",no-bug,0.9
80,vercel,https://github.com/vercel/vercel/issues/80,Secret values with leading dashes are parsed as the incorrect number of args," $ now secrets add thing ""-wtf"" > Error! Invalid number of arguments. Usage: `now secret add <name> <value>` ",source-file | source-file | source-file | source-file,"Secret values with leading dashes are parsed as the incorrect number of args  $ now secrets add thing ""-wtf"" > Error! Invalid number of arguments. Usage: `now secret add <name> <value>`  source-file source-file source-file source-file",no-bug,0.9
3539,vercel,https://github.com/vercel/vercel/issues/3539,"now.json ""rewrites"" routes with dynamic params 404 using `now dev`", Reduced test-case: https://github.com/wilsonpage/zeit-now-next-rewrites-bug  Steps: 1. Run `now dev` 2. Visit http://localhost:3000/hello 3. Observe `world` `200` response  4. Visit http://localhost:3000/hello-regex/john 5. Observe `404` response  6. Visit http://localhost:3000/hello-param/john 7. Observe `404` response ,source-file | test-file,"now.json ""rewrites"" routes with dynamic params 404 using `now dev`  Reduced test-case: https://github.com/wilsonpage/zeit-now-next-rewrites-bug  Steps: 1. Run `now dev` 2. Visit http://localhost:3000/hello 3. Observe `world` `200` response  4. Visit http://localhost:3000/hello-regex/john 5. Observe `404` response  6. Visit http://localhost:3000/hello-param/john 7. Observe `404` response  source-file test-file",bug,0.85
773,vercel,https://github.com/vercel/vercel/issues/773,Figure a way to enable providers to return something to us (aka `now.js`),"_From @matheuss on July 9, 2017 8:42_ We could, for example, let providers use `return 1` to indicate that the they want `process.exit(1)`. Would be nice here: https://github.com/zeit/now/commit/a1dd06290a784311b05f3e486d609b832a1444de#diff-cec70a08c11a260d44b518126d174623R119 _Copied from original issue: zeit/now#9_",source-file,"Figure a way to enable providers to return something to us (aka `now.js`) _From @matheuss on July 9, 2017 8:42_ We could, for example, let providers use `return 1` to indicate that the they want `process.exit(1)`. Would be nice here: https://github.com/zeit/now/commit/a1dd06290a784311b05f3e486d609b832a1444de#diff-cec70a08c11a260d44b518126d174623R119 _Copied from original issue: zeit/now#9_ source-file",no-bug,0.8
887,vercel,https://github.com/vercel/vercel/issues/887,Add `--all` to `now ls --help`,"Right now, `now ls --help` doesn't show or explain the `--all` flag to show individual instance URLs. It should be added :)",other-file | other-file | other-file | config-file | source-file | documentation-file | config-file | test-file | test-file | test-file | test-file | test-file | other-file,"Add `--all` to `now ls --help` Right now, `now ls --help` doesn't show or explain the `--all` flag to show individual instance URLs. It should be added :) other-file other-file other-file config-file source-file documentation-file config-file test-file test-file test-file test-file test-file other-file",no-bug,0.9
2704,vercel,https://github.com/vercel/vercel/issues/2704,Prompt to accept incoming connections on Mac OS when running `now dev`,"When activating the firewall on MacOS, I start getting these prompts **each time** running `now dev` (sorry for the french): <img width=""448"" alt=""Capture decran 2019-08-05 a 21 24 33"" src=""https://user-images.githubusercontent.com/6616955/62489690-ae2bed00-b7c7-11e9-986f-ed2007decfbf.png""> I would expect to accept it only once the first time I run `now dev`, or not at all because I'm not trying to access ""internet"" or expose a server to the outside world with `now dev`. One possible root cause for this is that the `now dev` server is listening on `0.0.0.0` instead of `localhost`. Listening on `localhost` wouldn't prompt this message. Also worth noting that I'm not getting these prompts when running other servers in dev mode (for example, `yarn run next`).",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file,"Prompt to accept incoming connections on Mac OS when running `now dev` When activating the firewall on MacOS, I start getting these prompts **each time** running `now dev` (sorry for the french): <img width=""448"" alt=""Capture decran 2019-08-05 a 21 24 33"" src=""https://user-images.githubusercontent.com/6616955/62489690-ae2bed00-b7c7-11e9-986f-ed2007decfbf.png""> I would expect to accept it only once the first time I run `now dev`, or not at all because I'm not trying to access ""internet"" or expose a server to the outside world with `now dev`. One possible root cause for this is that the `now dev` server is listening on `0.0.0.0` instead of `localhost`. Listening on `localhost` wouldn't prompt this message. Also worth noting that I'm not getting these prompts when running other servers in dev mode (for example, `yarn run next`). source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file",no-bug,0.9
1044,vercel,https://github.com/vercel/vercel/issues/1044,Now rm --safe throws an error if it couldn't find deployments,I use CI for my project and after it runs `now rm --yes --safe project-name` and could not find deployments it throws an error and my build fails. I suggest to change `error` to `warning` or just common `log`.,source-file | source-file | source-file,Now rm --safe throws an error if it couldn't find deployments I use CI for my project and after it runs `now rm --yes --safe project-name` and could not find deployments it throws an error and my build fails. I suggest to change `error` to `warning` or just common `log`. source-file source-file source-file,no-bug,0.8
7283,vercel,https://github.com/vercel/vercel/issues/7283,"[CLI] When ""vercel dev"" proxies a request to a framework, its queries are not original ones and will result in errors for Vite.","When Vite plugins processing a Vue Single File Component(SFC) file, it will transform its style tag into a js file with a url like `/foo/bar/AComponent.vue?vue&type=style&index=0&lang.css`. Then it was used as a js module in the page. However when Vercel CLI dev server proxying it to frontend dev server, the cli doesn't use original url but generates a new one. Generated one is like: `/foo/bar/AComponent.vue?vue=&type=style&index=0&lang.css=`, which is not a valid css url that can be recognized by Vite. Its content is not processed by css plugins of Vite, but it's still used as a js module. Because of that, when running ""vercel dev"", if you write some css rules in the style tag of a Vue SFC file, the page will become blank and throw errors in browser console. It's very inconvenient for Vue developers if we can't use style tag in SFC. Cause is at: https://github.com/vercel/vercel/blob/bae26cc0178ff49c3050ceaf5db00969e510cc6b/packages/cli/src/util/dev/server.ts#L1703-L1707 Here it deletes original querystring (`origUrl.search`), and generates a new one together with pathname (`url.format(origUrl)`), which is the one with additional ""="". (`url.format()` internally uses `querystring.stringify()` that will add ""="" for empty fields in the object). In my local repo, I deleted L1704 & L1706 then it worked as expected. `url.format()` now uses original search string, so additional ""=""s are gone. But I don't know if it will impact other frameworks.",source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"[CLI] When ""vercel dev"" proxies a request to a framework, its queries are not original ones and will result in errors for Vite. When Vite plugins processing a Vue Single File Component(SFC) file, it will transform its style tag into a js file with a url like `/foo/bar/AComponent.vue?vue&type=style&index=0&lang.css`. Then it was used as a js module in the page. However when Vercel CLI dev server proxying it to frontend dev server, the cli doesn't use original url but generates a new one. Generated one is like: `/foo/bar/AComponent.vue?vue=&type=style&index=0&lang.css=`, which is not a valid css url that can be recognized by Vite. Its content is not processed by css plugins of Vite, but it's still used as a js module. Because of that, when running ""vercel dev"", if you write some css rules in the style tag of a Vue SFC file, the page will become blank and throw errors in browser console. It's very inconvenient for Vue developers if we can't use style tag in SFC. Cause is at: https://github.com/vercel/vercel/blob/bae26cc0178ff49c3050ceaf5db00969e510cc6b/packages/cli/src/util/dev/server.ts#L1703-L1707 Here it deletes original querystring (`origUrl.search`), and generates a new one together with pathname (`url.format(origUrl)`), which is the one with additional ""="". (`url.format()` internally uses `querystring.stringify()` that will add ""="" for empty fields in the object). In my local repo, I deleted L1704 & L1706 then it worked as expected. `url.format()` now uses original search string, so additional ""=""s are gone. But I don't know if it will impact other frameworks. source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",bug,0.9
2375,vercel,https://github.com/vercel/vercel/issues/2375,PCRE passing undefined,"PCRE group is passing `undefined` as string to the query string rather than not passing it at all. Maybe this is a misconfiguration on my end.  { ""version"": 2, ""builds"": [ { ""src"": ""./api/functions/**/*.js"", ""use"": ""@now/node"" }, ], ""routes"": [ { ""src"": ""/api/hello(/(?<name>[^/]+))?"", ""methods"": [""GET""], ""dest"": ""/api/functions/hello/index.js?name=$name"" } ] }  If I just call `/api/hello`, it passes `""undefined""` as the `name`.",source-file | test-file | source-file | test-file | source-file | test-file,"PCRE passing undefined PCRE group is passing `undefined` as string to the query string rather than not passing it at all. Maybe this is a misconfiguration on my end.  { ""version"": 2, ""builds"": [ { ""src"": ""./api/functions/**/*.js"", ""use"": ""@now/node"" }, ], ""routes"": [ { ""src"": ""/api/hello(/(?<name>[^/]+))?"", ""methods"": [""GET""], ""dest"": ""/api/functions/hello/index.js?name=$name"" } ] }  If I just call `/api/hello`, it passes `""undefined""` as the `name`. source-file test-file source-file test-file source-file test-file",bug,0.9
932,vercel,https://github.com/vercel/vercel/issues/932,Adding a custom domain fails,"Adding a custom domain fails. Here is the output of now-cli. It is the latest version (8.3.7): $ now domains add h2inaction.info > Verifying nameservers > Verification OK! > Success! Domain h2inaction.info (OVMogyptH7PSVBHtD08bYgSx) added [4s] $ now ls > 2 deployments found [961ms] h2inaction.info (2 of 2 total) url inst # state age h2inactioninfo-yefteocvzg.now.sh 1 READY 16h h2inactioninfo-nsnvymsdti.now.sh 0 BUILD_ERROR 108d $ now alias https://h2inactioninfo-yefteocvzg.now.sh h2inaction.info > h2inaction.info is a custom domain. > Verifying the DNS settings for h2inaction.info (see https://zeit.world for help) { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } > Error! Unknown error: Error: Failed to fetch ""http://h2inaction.info"" Error: Failed to fetch ""http://h2inaction.info"" at module.exports.Now.verifyDomain.domain.retry (/snapshot/now-cli/dist/now.js:4085:15) at process._tickCallback (internal/process/next_tick.js:109:7)",source-file,"Adding a custom domain fails Adding a custom domain fails. Here is the output of now-cli. It is the latest version (8.3.7): $ now domains add h2inaction.info > Verifying nameservers > Verification OK! > Success! Domain h2inaction.info (OVMogyptH7PSVBHtD08bYgSx) added [4s] $ now ls > 2 deployments found [961ms] h2inaction.info (2 of 2 total) url inst # state age h2inactioninfo-yefteocvzg.now.sh 1 READY 16h h2inactioninfo-nsnvymsdti.now.sh 0 BUILD_ERROR 108d $ now alias https://h2inactioninfo-yefteocvzg.now.sh h2inaction.info > h2inaction.info is a custom domain. > Verifying the DNS settings for h2inaction.info (see https://zeit.world for help) { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } { Error at ClientRequest.<anonymous> (/snapshot/now-cli/node_modules/node-fetch/index.js:133:11) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:191:7) at Socket.socketErrorListener (_http_client.js:358:9) at emitOne (events.js:96:13) at Socket.emit (events.js:191:7) at connectErrorNT (net.js:1028:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) name: 'FetchError', message: 'request to http://h2inaction.info failed, reason: getaddrinfo ENOTFOUND h2inaction.info h2inaction.info:80', type: 'system', errno: 'ENOTFOUND', code: 'ENOTFOUND' } > Error! Unknown error: Error: Failed to fetch ""http://h2inaction.info"" Error: Failed to fetch ""http://h2inaction.info"" at module.exports.Now.verifyDomain.domain.retry (/snapshot/now-cli/dist/now.js:4085:15) at process._tickCallback (internal/process/next_tick.js:109:7) source-file",no-bug,0.9
136,vercel,https://github.com/vercel/vercel/issues/136,Redeploying with --public requires --force,"If you're a premium user and deploy an app normally, then decide to redeploy with the `--public` option without changing any files, `--force` is required to trigger a new deploy.",other-file | source-file | documentation-file | test-file | test-file | test-file | test-file,"Redeploying with --public requires --force If you're a premium user and deploy an app normally, then decide to redeploy with the `--public` option without changing any files, `--force` is required to trigger a new deploy. other-file source-file documentation-file test-file test-file test-file test-file",no-bug,0.8
12581,vercel,https://github.com/vercel/vercel/issues/12581,Vite and SvelteKit projects timeout After 300 seconds when using `vercel dev`,"If you're still encountering this today it's a different root cause than the [issue from 2022](https://github.com/vercel/vercel/issues/8121). Vite does not respect setting the port with an environment variable (https://github.com/vitejs/vite/issues/5280). While not quite _a_ standard it's essentially what every other framework is doing and how `vercel dev` does proxying from its development sever to the framework's development server. `sveltekit` started to experience this when it switched over to using `vite` under the hood. We have an automatic fix for this on our roadmap but until then you can resolve this by adding  server: { port: process.env.PORT },  to your `vite.config.js` file. I'll link this issue to our internal card so we can report back when it's done.",documentation-file | source-file,"Vite and SvelteKit projects timeout After 300 seconds when using `vercel dev` If you're still encountering this today it's a different root cause than the [issue from 2022](https://github.com/vercel/vercel/issues/8121). Vite does not respect setting the port with an environment variable (https://github.com/vitejs/vite/issues/5280). While not quite _a_ standard it's essentially what every other framework is doing and how `vercel dev` does proxying from its development sever to the framework's development server. `sveltekit` started to experience this when it switched over to using `vite` under the hood. We have an automatic fix for this on our roadmap but until then you can resolve this by adding  server: { port: process.env.PORT },  to your `vite.config.js` file. I'll link this issue to our internal card so we can report back when it's done. documentation-file source-file",no-bug,0.9
378,vercel,https://github.com/vercel/vercel/issues/378,EACCES: mkdir permission denied,"I'm deploying express web application with webpack's html webpack plugin, which is generating index.html while webpack is running. But encountered permission issue below when creating directory 'dist'. Is there any alternative solution instead of generating files?  > npm ERR! Linux 4.7.0-coreos > Error: EACCES: permission denied, mkdir '/home/nowuser/src/dist' > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.6.0 > npm ERR! code ELIFECYCLE > npm ERR! npm v4.2.0 > npm ERR! Exit status 1 > npm ERR! > npm ERR! Failed at the graphql-relay-todo@1.0.0 start script 'webpack && node index.js'. ",test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"EACCES: mkdir permission denied I'm deploying express web application with webpack's html webpack plugin, which is generating index.html while webpack is running. But encountered permission issue below when creating directory 'dist'. Is there any alternative solution instead of generating files?  > npm ERR! Linux 4.7.0-coreos > Error: EACCES: permission denied, mkdir '/home/nowuser/src/dist' > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.6.0 > npm ERR! code ELIFECYCLE > npm ERR! npm v4.2.0 > npm ERR! Exit status 1 > npm ERR! > npm ERR! Failed at the graphql-relay-todo@1.0.0 start script 'webpack && node index.js'.  test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
1104,vercel,https://github.com/vercel/vercel/issues/1104,Email autocompletion is broken/autocompletes way incorrectly,"Here I'm typing in my email and after .fi I hit enter. Which one would expect to complete the prompt and let me proceed to the email validation. Instead, however, it autocompletes w/o suggesting it `inbox.com` to the fully typed in domain. See gif below: ![login2](https://user-images.githubusercontent.com/1354151/35774946-f28e904c-0986-11e8-8c7a-7ce76c2a5095.gif) Edit, just updated now so using the latest version.",documentation-file,"Email autocompletion is broken/autocompletes way incorrectly Here I'm typing in my email and after .fi I hit enter. Which one would expect to complete the prompt and let me proceed to the email validation. Instead, however, it autocompletes w/o suggesting it `inbox.com` to the fully typed in domain. See gif below: ![login2](https://user-images.githubusercontent.com/1354151/35774946-f28e904c-0986-11e8-8c7a-7ce76c2a5095.gif) Edit, just updated now so using the latest version. documentation-file",no-bug,0.9
265,vercel,https://github.com/vercel/vercel/issues/265,"Startup can't find index.js if ""files"" configuration is used","I have the following now.json config: json { ""name"": ""sample-name"", ""files"": [ ""bundle.js"" ], ""type"": ""npm"", ""engines"": { ""node"": ""7.0.0"" } }  Here I want to include the webpack bundle.js file, which I have listed within .gitignore. If I try to deploy with this configuration, I get an `Error: Cannot find module '/home/nowuser/src/index'` error. When I remove the ""files"" section at the now.json file, I can deploy without problems, but the bundle.js file is not available. I think the expectation would be that this configuration would *add* the listed files to the set of files already being uploaded, rather than just uploading that file.",source-file,"Startup can't find index.js if ""files"" configuration is used I have the following now.json config: json { ""name"": ""sample-name"", ""files"": [ ""bundle.js"" ], ""type"": ""npm"", ""engines"": { ""node"": ""7.0.0"" } }  Here I want to include the webpack bundle.js file, which I have listed within .gitignore. If I try to deploy with this configuration, I get an `Error: Cannot find module '/home/nowuser/src/index'` error. When I remove the ""files"" section at the now.json file, I can deploy without problems, but the bundle.js file is not available. I think the expectation would be that this configuration would *add* the listed files to the set of files already being uploaded, rather than just uploading that file. source-file",no-bug,0.9
99,vercel,https://github.com/vercel/vercel/issues/99,Don't try deploying `$HOME` or other OS default dirs,Warn users before deploying e.g `$HOME` or `~/Downloads` > Deploying ~,source-file | source-file | source-file | source-file | source-file | source-file,Don't try deploying `$HOME` or other OS default dirs Warn users before deploying e.g `$HOME` or `~/Downloads` > Deploying ~ source-file source-file source-file source-file source-file source-file,no-bug,0.8
444,vercel,https://github.com/vercel/vercel/issues/444,Show different OSS prompts based on the context,"1) User is on the OSS plan 2) User in on the OSS plan and uses `--public` 3) User in on the Premium plan and uses `--public` Note that we should **always** ask for confirmation, no matter what context",documentation-file,"Show different OSS prompts based on the context 1) User is on the OSS plan 2) User in on the OSS plan and uses `--public` 3) User in on the Premium plan and uses `--public` Note that we should **always** ask for confirmation, no matter what context documentation-file",no-bug,0.9
474,vercel,https://github.com/vercel/vercel/issues/474,`now -t <token> domain buy myco.com` is not working,I tried `now -t <token> domain buy myco.com` but its falling back to my default now account and not respecting provided token account. using now@5.0.0,source-file,`now -t <token> domain buy myco.com` is not working I tried `now -t <token> domain buy myco.com` but its falling back to my default now account and not respecting provided token account. using now@5.0.0 source-file,no-bug,0.8
853,vercel,https://github.com/vercel/vercel/issues/853,now switch no longer accepts token,"Since Now 8, it seems I cannot `now switch` to a team from a script, because `--token` is no longer respected. I love the fact that `--team` was introduced but it is annoying and less maintainable to have to specify `--team` with every single command in the script (e.g. if our team name changes, more chance for mistakes). As far as I can tell, this shouldn't be necessary. I consider this a regression, personally, unless I am missing something. Let's keep it DRY. ## Before Now 7.4.0: console $ now switch my-team --token=$ZEIT_TOKEN > Success! The team My Team is now active!  ## After Now 8.3.0: console $ now switch my-team --token=$ZEIT_TOKEN; > Error! This command doesn't work with ""--token"". Please use ""--team"". ",source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"now switch no longer accepts token Since Now 8, it seems I cannot `now switch` to a team from a script, because `--token` is no longer respected. I love the fact that `--team` was introduced but it is annoying and less maintainable to have to specify `--team` with every single command in the script (e.g. if our team name changes, more chance for mistakes). As far as I can tell, this shouldn't be necessary. I consider this a regression, personally, unless I am missing something. Let's keep it DRY. ## Before Now 7.4.0: console $ now switch my-team --token=$ZEIT_TOKEN > Success! The team My Team is now active!  ## After Now 8.3.0: console $ now switch my-team --token=$ZEIT_TOKEN; > Error! This command doesn't work with ""--token"". Please use ""--team"".  source-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
172,vercel,https://github.com/vercel/vercel/issues/172,now --alias : handle multiple aliases at once,"Related to this issue/comment: https://github.com/zeit/now-cli/issues/120#issuecomment-267286842 The new --alias does not support multiple aliasing on the same deployment Currently I have to do:  now --alias leo.im now --alias rem.im now --alias rauchg.im  So at the end there are 3 deployments with the same content, but it makes more sense to have a single one linked to 3 aliases:  now --alias leo.im rem.im rauchg.im  or  now --alias leo.im --alias rem.im --alias rauchg.im ",source-file | source-file | source-file | source-file,"now --alias : handle multiple aliases at once Related to this issue/comment: https://github.com/zeit/now-cli/issues/120#issuecomment-267286842 The new --alias does not support multiple aliasing on the same deployment Currently I have to do:  now --alias leo.im now --alias rem.im now --alias rauchg.im  So at the end there are 3 deployments with the same content, but it makes more sense to have a single one linked to 3 aliases:  now --alias leo.im rem.im rauchg.im  or  now --alias leo.im --alias rem.im --alias rauchg.im  source-file source-file source-file source-file",no-bug,0.8
175,vercel,https://github.com/vercel/vercel/issues/175,Deploying next.js app fails with UnhandledPromiseRejectionWarning,"I'm trying to deploy the current GitHub version of next.js. In order to work around the fact the the `dist` folder is missing on GitHub, I have forked the repo and added these files: https://github.com/backflip/next.js/tree/release However, `npm start` fails with a `(node:275) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: EACCES: permission denied, rmdir '/home/nowuser/src/.next'`. Could this be related to the warnings/errors further above regarding `node-pre-gyp` (which is connected to the recent addition of `chokidar` to next.js)?  >  npm install > Installing package next@git://github.com/backflip/next.js.git#c5851e07fe5fca8260033987ff82f22b74bd1e72 > Installing package path-match@^1.2.4 > Installing package query-string@^4.2.3 > Installing package restify@^4.3.0 > Installing package url@^0.11.0 > Installing package eslint@^3.10.2 > Installing package eslint-config-standard@^6.2.1 > Installing package eslint-plugin-promise@^3.4.0 > Installing package eslint-plugin-react@^6.8.0 > Installing package eslint-plugin-standard@^2.0.1 > (node:49) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: ENOENT: no such file or directory, readlink '/home/nowuser/src/node_modules/.tmp/6bc0d960-7e74-4d87-92a4-e40e03c29164/node_modules/node-pre-gyp' > (node:49) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. > node-pre-gyp info it worked if it ends with ok > node-pre-gyp info using node-pre-gyp@0.6.29 > node-pre-gyp info using node@7.0.0 | linux | x64 > node-pre-gyp info check checked for ""/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/lib/binding/Release/node-v51-linux-x64/fse.node"" (not found) > node-pre-gyp http GET https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > node-pre-gyp http 404 https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > node-pre-gyp ERR! Tried to download: https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > node-pre-gyp ERR! Pre-built binaries not found for fsevents@1.0.15 and node@7.0.0 (node-v51 ABI) (falling back to source compile with node-gyp) > node-pre-gyp http Pre-built binary not available for your system, looked for https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@7.0.0 | linux | x64 > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@7.0.0 | linux | x64 > gyp http GET https://nodejs.org/download/release/v7.0.0/node-v7.0.0-headers.tar.gz > gyp http 200 https://nodejs.org/download/release/v7.0.0/node-v7.0.0-headers.tar.gz > gyp http GET https://nodejs.org/download/release/v7.0.0/SHASUMS256.txt > gyp http 200 https://nodejs.org/download/release/v7.0.0/SHASUMS256.txt > gyp info spawn /usr/bin/python2 > gyp info spawn args [ '/usr/lib/node_modules/node-gyp/gyp/gyp_main.py', > gyp info spawn args 'binding.gyp', > gyp info spawn args '-f', > gyp info spawn args 'make', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/build/config.gypi', > gyp info spawn args '-I', > gyp info spawn args '/usr/lib/node_modules/node-gyp/addon.gypi', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/.node-gyp/7.0.0/include/node/common.gypi', > gyp info spawn args '-Dlibrary=shared_library', > gyp info spawn args '-Dvisibility=default', > gyp info spawn args '-Dnode_root_dir=/home/nowuser/.node-gyp/7.0.0', > gyp info spawn args '-Dnode_gyp_dir=/usr/lib/node_modules/node-gyp', > gyp info spawn args '-Dnode_lib_file=node.lib', > gyp info spawn args '-Dmodule_root_dir=/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3', > gyp info spawn args '--depth=.', > gyp info spawn args '--no-parallel', > gyp info spawn args '--generator-output', > gyp info spawn args 'build', > gyp info spawn args '-Goutput_dir=.' ] > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@7.0.0 | linux | x64 > gyp info spawn make > make: Entering directory '/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/build' > SOLINK_MODULE(target) Release/obj.target/.node > gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ] > COPY Release/.node > make: Leaving directory '/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/build' > gyp info ok > node-pre-gyp info ok >  npm run build > build exited with status 0 >  npm start > (node:275) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: EACCES: permission denied, rmdir '/home/nowuser/src/.next' > (node:275) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. ",documentation-file | documentation-file | source-file,"Deploying next.js app fails with UnhandledPromiseRejectionWarning I'm trying to deploy the current GitHub version of next.js. In order to work around the fact the the `dist` folder is missing on GitHub, I have forked the repo and added these files: https://github.com/backflip/next.js/tree/release However, `npm start` fails with a `(node:275) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: EACCES: permission denied, rmdir '/home/nowuser/src/.next'`. Could this be related to the warnings/errors further above regarding `node-pre-gyp` (which is connected to the recent addition of `chokidar` to next.js)?  >  npm install > Installing package next@git://github.com/backflip/next.js.git#c5851e07fe5fca8260033987ff82f22b74bd1e72 > Installing package path-match@^1.2.4 > Installing package query-string@^4.2.3 > Installing package restify@^4.3.0 > Installing package url@^0.11.0 > Installing package eslint@^3.10.2 > Installing package eslint-config-standard@^6.2.1 > Installing package eslint-plugin-promise@^3.4.0 > Installing package eslint-plugin-react@^6.8.0 > Installing package eslint-plugin-standard@^2.0.1 > (node:49) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: ENOENT: no such file or directory, readlink '/home/nowuser/src/node_modules/.tmp/6bc0d960-7e74-4d87-92a4-e40e03c29164/node_modules/node-pre-gyp' > (node:49) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. > node-pre-gyp info it worked if it ends with ok > node-pre-gyp info using node-pre-gyp@0.6.29 > node-pre-gyp info using node@7.0.0 | linux | x64 > node-pre-gyp info check checked for ""/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/lib/binding/Release/node-v51-linux-x64/fse.node"" (not found) > node-pre-gyp http GET https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > node-pre-gyp http 404 https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > node-pre-gyp ERR! Tried to download: https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > node-pre-gyp ERR! Pre-built binaries not found for fsevents@1.0.15 and node@7.0.0 (node-v51 ABI) (falling back to source compile with node-gyp) > node-pre-gyp http Pre-built binary not available for your system, looked for https://fsevents-binaries.s3-us-west-2.amazonaws.com/v1.0.15/fse-v1.0.15-node-v51-linux-x64.tar.gz > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@7.0.0 | linux | x64 > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@7.0.0 | linux | x64 > gyp http GET https://nodejs.org/download/release/v7.0.0/node-v7.0.0-headers.tar.gz > gyp http 200 https://nodejs.org/download/release/v7.0.0/node-v7.0.0-headers.tar.gz > gyp http GET https://nodejs.org/download/release/v7.0.0/SHASUMS256.txt > gyp http 200 https://nodejs.org/download/release/v7.0.0/SHASUMS256.txt > gyp info spawn /usr/bin/python2 > gyp info spawn args [ '/usr/lib/node_modules/node-gyp/gyp/gyp_main.py', > gyp info spawn args 'binding.gyp', > gyp info spawn args '-f', > gyp info spawn args 'make', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/build/config.gypi', > gyp info spawn args '-I', > gyp info spawn args '/usr/lib/node_modules/node-gyp/addon.gypi', > gyp info spawn args '-I', > gyp info spawn args '/home/nowuser/.node-gyp/7.0.0/include/node/common.gypi', > gyp info spawn args '-Dlibrary=shared_library', > gyp info spawn args '-Dvisibility=default', > gyp info spawn args '-Dnode_root_dir=/home/nowuser/.node-gyp/7.0.0', > gyp info spawn args '-Dnode_gyp_dir=/usr/lib/node_modules/node-gyp', > gyp info spawn args '-Dnode_lib_file=node.lib', > gyp info spawn args '-Dmodule_root_dir=/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3', > gyp info spawn args '--depth=.', > gyp info spawn args '--no-parallel', > gyp info spawn args '--generator-output', > gyp info spawn args 'build', > gyp info spawn args '-Goutput_dir=.' ] > gyp info ok > gyp info it worked if it ends with ok > gyp info using node-gyp@3.3.1 > gyp info using node@7.0.0 | linux | x64 > gyp info spawn make > make: Entering directory '/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/build' > SOLINK_MODULE(target) Release/obj.target/.node > gyp info spawn args [ 'BUILDTYPE=Release', '-C', 'build' ] > COPY Release/.node > make: Leaving directory '/home/nowuser/src/node_modules/dc1ba8196115775facd8a7e77d3b9c0387eea5f3/build' > gyp info ok > node-pre-gyp info ok >  npm run build > build exited with status 0 >  npm start > (node:275) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: EACCES: permission denied, rmdir '/home/nowuser/src/.next' > (node:275) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.  documentation-file documentation-file source-file",no-bug,0.95
799,vercel,https://github.com/vercel/vercel/issues/799,Specify scope in now.json,"Let me specify which team owns the project by setting the key `package.json.now.team`, as I might forget to `now switch` before deploying. Thank you.",source-file | test-file | test-file | test-file,"Specify scope in now.json Let me specify which team owns the project by setting the key `package.json.now.team`, as I might forget to `now switch` before deploying. Thank you. source-file test-file test-file test-file",no-bug,0.8
2685,vercel,https://github.com/vercel/vercel/issues/2685,[now dev] Needs `continue: true` + `dest` support,"This was recently added to the Now proxy in production. json { ""version"": 2, ""routes"": [ { ""src"": ""^(/.*)"", ""dest"": ""/www$1"", ""continue"": true, ""headers"": { ""middleware"": ""1"", ""override"": ""first"" } }, { ""src"": ""^/www(.*)"", ""dest"": ""/www$1?params=1&host=$host&overwritten=newvalue"", ""headers"": { ""test"": ""1"", ""x_host"": ""$host"", ""override"": ""second"" } } ] } ",source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file,"[now dev] Needs `continue: true` + `dest` support This was recently added to the Now proxy in production. json { ""version"": 2, ""routes"": [ { ""src"": ""^(/.*)"", ""dest"": ""/www$1"", ""continue"": true, ""headers"": { ""middleware"": ""1"", ""override"": ""first"" } }, { ""src"": ""^/www(.*)"", ""dest"": ""/www$1?params=1&host=$host&overwritten=newvalue"", ""headers"": { ""test"": ""1"", ""x_host"": ""$host"", ""override"": ""second"" } } ] }  source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file",no-bug,0.8
2024,vercel,https://github.com/vercel/vercel/issues/2024,Have dynamic ports,"It would be great if `now-dev` had dynamic ports, in case **default port 3000 is busy**, assign a port available to the user. Similar to what `Create React App` does in its development mode :)",documentation-file | source-file | other-file | documentation-file | source-file | other-file | documentation-file | source-file | other-file | documentation-file | source-file | other-file,"Have dynamic ports It would be great if `now-dev` had dynamic ports, in case **default port 3000 is busy**, assign a port available to the user. Similar to what `Create React App` does in its development mode :) documentation-file source-file other-file documentation-file source-file other-file documentation-file source-file other-file documentation-file source-file other-file",no-bug,0.9
673,vercel,https://github.com/vercel/vercel/issues/673,now alias ls [alias] does not work on simple aliases,## Aliases  $ now alias ls > 4 aliases found [877ms] under sequoia source url age https://auth-pqcfahnogz.now.sh https://sequoia-auth.now.sh 2d https://webapp-bpgcubktqz.now.sh https://sequoia-webapp.now.sh 2d [3 custom rules] https://sequoia-monolith.now.sh 2d [4 custom rules] https://counter-demo.now.sh 16d  ## `now alias ls alias-with-rules`  $ now alias ls counter-demo.now.sh pathname method dest /login * writer-gkdldldejq.now.sh /increment * writer-gkdldldejq.now.sh /logout * writer-gkdldldejq.now.sh * reader-jdaugptkks.now.sh  ## `now alias ls alias-without-rules`  $ now alias ls sequoia-auth.now.sh > Error! Could not match path alias for: sequoia-auth.now.sh  # Expected `now alias ls <alias>` returns info about an alias # Actual `now alias ls <alias>` **fails** if it's a simple url source alias,source-file | test-file | test-file | test-file,now alias ls [alias] does not work on simple aliases ## Aliases  $ now alias ls > 4 aliases found [877ms] under sequoia source url age https://auth-pqcfahnogz.now.sh https://sequoia-auth.now.sh 2d https://webapp-bpgcubktqz.now.sh https://sequoia-webapp.now.sh 2d [3 custom rules] https://sequoia-monolith.now.sh 2d [4 custom rules] https://counter-demo.now.sh 16d  ## `now alias ls alias-with-rules`  $ now alias ls counter-demo.now.sh pathname method dest /login * writer-gkdldldejq.now.sh /increment * writer-gkdldldejq.now.sh /logout * writer-gkdldldejq.now.sh * reader-jdaugptkks.now.sh  ## `now alias ls alias-without-rules`  $ now alias ls sequoia-auth.now.sh > Error! Could not match path alias for: sequoia-auth.now.sh  # Expected `now alias ls <alias>` returns info about an alias # Actual `now alias ls <alias>` **fails** if it's a simple url source alias source-file test-file test-file test-file,bug,0.9
186,vercel,https://github.com/vercel/vercel/issues/186,`now-alias` should copy to clipboard?,"I think that'd be kinda cool, to be in line with `now`. - We should also improve the copy and include `[copied to clipboard]`. - Only on ttys",source-file | source-file,"`now-alias` should copy to clipboard? I think that'd be kinda cool, to be in line with `now`. - We should also improve the copy and include `[copied to clipboard]`. - Only on ttys source-file source-file",no-bug,0.9
489,vercel,https://github.com/vercel/vercel/issues/489,Feature Request: Timestamp Option for 'now ls',"A timestamp option instead of approx time ago would help to differentiate some deploys, particularly if done a few hrs or days ago. now ls -t? -l?",source-file,"Feature Request: Timestamp Option for 'now ls' A timestamp option instead of approx time ago would help to differentiate some deploys, particularly if done a few hrs or days ago. now ls -t? -l? source-file",no-bug,0.9
213,vercel,https://github.com/vercel/vercel/issues/213,Remove old deployments for app that are not aliased,"I'm using `now` to deploy my blog, and trying to make deployment seamless by automatically removing old deployments that are not aliased (the non-production ones). I make sure to name all my deployments under the same app name, so they all show up when I type `now ls domain.com` However, if I redeploy, I get a list of all former deployments and have to manually delete them. For the time being I wrote this deploy script. Is there any easier way than this? A `now rm --not-aliased my-app` would be amazing to have.  echo ""Deploying $DOMAIN"" now --static ./public --token=$TOKEN -n $DOMAIN -a $DOMAIN ALIAS=""$(now alias list|grep ""$DOMAIN""|awk '/now\.sh/ { print $2}')"" echo ""Currently aliased to $ALIAS, removing all others for $DOMAIN"" now ls $DOMAIN | grep -v ""$ALIAS"" | awk '/.*([A-Za-z0-9]{24}).*/ { print $1; }' | xargs -I{} now -y rm {}  I would be happy to make a PR for now-cli if this is a wanted feature. There is definitely a more elegant way to do this from within the app's code.",source-file | source-file | source-file | other-file | documentation-file | test-file | other-file,"Remove old deployments for app that are not aliased I'm using `now` to deploy my blog, and trying to make deployment seamless by automatically removing old deployments that are not aliased (the non-production ones). I make sure to name all my deployments under the same app name, so they all show up when I type `now ls domain.com` However, if I redeploy, I get a list of all former deployments and have to manually delete them. For the time being I wrote this deploy script. Is there any easier way than this? A `now rm --not-aliased my-app` would be amazing to have.  echo ""Deploying $DOMAIN"" now --static ./public --token=$TOKEN -n $DOMAIN -a $DOMAIN ALIAS=""$(now alias list|grep ""$DOMAIN""|awk '/now\.sh/ { print $2}')"" echo ""Currently aliased to $ALIAS, removing all others for $DOMAIN"" now ls $DOMAIN | grep -v ""$ALIAS"" | awk '/.*([A-Za-z0-9]{24}).*/ { print $1; }' | xargs -I{} now -y rm {}  I would be happy to make a PR for now-cli if this is a wanted feature. There is definitely a more elegant way to do this from within the app's code. source-file source-file source-file other-file documentation-file test-file other-file",no-bug,0.9
5580,vercel,https://github.com/vercel/vercel/issues/5580,Python bug: error occurs when url including special charactors visited,"The server cannot deal with url with special charactors when the serverless function is written in python using handler that inherits from the BaseHTTPRequestHandler class. For example, https://test.nicelee.vercel.app/api/date goes right, while https://test.nicelee.vercel.app/api/date?test=%E5%93%88%E5%93%88 goes wrong, or https://test.nicelee.vercel.app/api/date?test= goes wrong The serverless function follows here.  from http.server import BaseHTTPRequestHandler, HTTPServer from datetime import datetime count = 0 class handler(BaseHTTPRequestHandler): def do_GET(self): global count count = count + 1 self.send_response(200) self.send_header('Content-type', 'text/plain') self.end_headers() self.wfile.write(str(datetime.now().strftime('%Y-%m-%d %H:%M:%S\n')).encode()) self.wfile.write(str(count).encode()) return ",source-file,"Python bug: error occurs when url including special charactors visited The server cannot deal with url with special charactors when the serverless function is written in python using handler that inherits from the BaseHTTPRequestHandler class. For example, https://test.nicelee.vercel.app/api/date goes right, while https://test.nicelee.vercel.app/api/date?test=%E5%93%88%E5%93%88 goes wrong, or https://test.nicelee.vercel.app/api/date?test= goes wrong The serverless function follows here.  from http.server import BaseHTTPRequestHandler, HTTPServer from datetime import datetime count = 0 class handler(BaseHTTPRequestHandler): def do_GET(self): global count count = count + 1 self.send_response(200) self.send_header('Content-type', 'text/plain') self.end_headers() self.wfile.write(str(datetime.now().strftime('%Y-%m-%d %H:%M:%S\n')).encode()) self.wfile.write(str(count).encode()) return  source-file",bug,0.9
326,vercel,https://github.com/vercel/vercel/issues/326,How to debug deployment?,"I'm deploying an application with Docker. I've had a couple successful deploys, but now all of the sudden, I'm getting a cryptic ""502: An error occured with your deployment."" error. Is there anyway to debug this? I'm not sure what's causing this error, but the docker container works perfectly fine on my local machine. I'm relatively new to `now` and I've been burning through my 20 deploys very quickly with these failures. Any help would be much appreciated.",source-file | test-file | test-file | test-file | test-file,"How to debug deployment? I'm deploying an application with Docker. I've had a couple successful deploys, but now all of the sudden, I'm getting a cryptic ""502: An error occured with your deployment."" error. Is there anyway to debug this? I'm not sure what's causing this error, but the docker container works perfectly fine on my local machine. I'm relatively new to `now` and I've been burning through my 20 deploys very quickly with these failures. Any help would be much appreciated. source-file test-file test-file test-file test-file",no-bug,0.9
292,vercel,https://github.com/vercel/vercel/issues/292,--no-clipboard is ignored when using now.json,Starting a command: bash now --docker --alias applaudience-showtime-data-sources-worker --no-clipboard --debug  Ends with:  > Success! Alias created (): https://applaudience-showtime-data-sources-worker.now.sh now points to https://applaudienceshowtime-data-sources-worker-ryhbkahjqh.now.sh () [copied to clipboard] > Deployment complete!  I am suspecting this is because options are not correctly merged with now.json.,source-file | source-file,--no-clipboard is ignored when using now.json Starting a command: bash now --docker --alias applaudience-showtime-data-sources-worker --no-clipboard --debug  Ends with:  > Success! Alias created (): https://applaudience-showtime-data-sources-worker.now.sh now points to https://applaudienceshowtime-data-sources-worker-ryhbkahjqh.now.sh () [copied to clipboard] > Deployment complete!  I am suspecting this is because options are not correctly merged with now.json. source-file source-file,no-bug,0.8
807,vercel,https://github.com/vercel/vercel/issues/807,`now alias X Y` should provide feedback that it is loading,"It took about 10secs for me, and no message is displayed showing any progress. I thought I had typed the wrong command or something.",source-file | source-file | source-file | source-file,"`now alias X Y` should provide feedback that it is loading It took about 10secs for me, and no message is displayed showing any progress. I thought I had typed the wrong command or something. source-file source-file source-file source-file",no-bug,0.9
728,vercel,https://github.com/vercel/vercel/issues/728,Callback when build is done,"I have a problem. I'm trying to do the Continuous integration from our master branch to the specified URL (say abc.zeit.sh). I need an alias (abc.zeit.sh) to be always up and working (100% uptime). Now I have a bash script in my CI that does: - now - now alias The problem is that these 2 commands exit quickly, alias is created to a deployment that currently shows html page with build progress, until the build process is done. Expected behavior: alias is service the previous deployment until the new deployment is fully built, and then switches to new deployment. It would be possible to solve if e.g `now` has a flag `--waitForBuildToFinish`, so CLI command doesn't exit until build has finished. Next CLI command will do `now alias` and everything will be smooth. So now I don't know how to automate the EXACT MOMENT when I need to do `now alias`.",other-file | config-file | source-file | test-file | test-file | test-file,"Callback when build is done I have a problem. I'm trying to do the Continuous integration from our master branch to the specified URL (say abc.zeit.sh). I need an alias (abc.zeit.sh) to be always up and working (100% uptime). Now I have a bash script in my CI that does: - now - now alias The problem is that these 2 commands exit quickly, alias is created to a deployment that currently shows html page with build progress, until the build process is done. Expected behavior: alias is service the previous deployment until the new deployment is fully built, and then switches to new deployment. It would be possible to solve if e.g `now` has a flag `--waitForBuildToFinish`, so CLI command doesn't exit until build has finished. Next CLI command will do `now alias` and everything will be smooth. So now I don't know how to automate the EXACT MOMENT when I need to do `now alias`. other-file config-file source-file test-file test-file test-file",no-bug,0.9
296,vercel,https://github.com/vercel/vercel/issues/296,Important failure in alias,"We have automated deployments, today we had a billing problem, and our account was downgraded. The deployment don't allow files higher than 1MB but it doesn't fail. Although we were able to reassign the alias to the new _malformed_ new deployment and for obvious reasons it doesn't work anymore in the new aliased release. Proposal: If the account doesn't support aliases, or the alias have a paid deployment and we are assigning an OSS one; throw an error when trying to reassign the alias.",source-file,"Important failure in alias We have automated deployments, today we had a billing problem, and our account was downgraded. The deployment don't allow files higher than 1MB but it doesn't fail. Although we were able to reassign the alias to the new _malformed_ new deployment and for obvious reasons it doesn't work anymore in the new aliased release. Proposal: If the account doesn't support aliases, or the alias have a paid deployment and we are assigning an OSS one; throw an error when trying to reassign the alias. source-file",no-bug,0.8
3191,vercel,https://github.com/vercel/vercel/issues/3191,[now-cli] Error: Command failed: taskkill /pid 1044 /T /F,"Sentry Issue: [NOW-CLI-5GB](https://sentry.io/organizations/zeithq/issues/1292401504/?referrer=github_integration)  Error: Command failed: taskkill /pid 1044 /T /F ERROR: The process ""1044"" not found. File ""child_process.js"", line 295, in ChildProcess.exithandler File ""events.js"", line 210, in ChildProcess.emit File ""domain.js"", line 476, in ChildProcess.EventEmitter.emit File ""internal/child_process.js"", line 1021, in maybeClose File ""internal/child_process.js"", line 430, in Socket.<anonymous>  (3 additional frame(s) were not displayed) ",source-file | source-file | source-file,"[now-cli] Error: Command failed: taskkill /pid 1044 /T /F Sentry Issue: [NOW-CLI-5GB](https://sentry.io/organizations/zeithq/issues/1292401504/?referrer=github_integration)  Error: Command failed: taskkill /pid 1044 /T /F ERROR: The process ""1044"" not found. File ""child_process.js"", line 295, in ChildProcess.exithandler File ""events.js"", line 210, in ChildProcess.emit File ""domain.js"", line 476, in ChildProcess.EventEmitter.emit File ""internal/child_process.js"", line 1021, in maybeClose File ""internal/child_process.js"", line 430, in Socket.<anonymous>  (3 additional frame(s) were not displayed)  source-file source-file source-file",no-bug,0.9
875,vercel,https://github.com/vercel/vercel/issues/875,Friendly error message for aliasing to nested subdomains," > Error! Unknown error: Error: The supplied alias ""foo.bar.now.sh"" is not a valid hostname. Make sure it excludes http:// and slashes  The error happens when you add aliases by `now alias` with settings in `now.json`. I think we should display a more friendly message ~~if we don't support nested subdomains~~ (we don't support it).",config-file | documentation-file,"Friendly error message for aliasing to nested subdomains  > Error! Unknown error: Error: The supplied alias ""foo.bar.now.sh"" is not a valid hostname. Make sure it excludes http:// and slashes  The error happens when you add aliases by `now alias` with settings in `now.json`. I think we should display a more friendly message ~~if we don't support nested subdomains~~ (we don't support it). config-file documentation-file",no-bug,0.8
871,vercel,https://github.com/vercel/vercel/issues/871,now logs --follow doesn't follow,"I'm no longer getting the _tail -f_ behavior with _now logs -f_. This occurred when I upgraded to now 2.5.5 mac binary, and now 8.3.4 on the command line. I was using this successfully in past versions. zeit deployed app is running just fine, too. thanks,",other-file | other-file | source-file | other-file | container-file | config-file | other-file | other-file | test-file | test-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file,"now logs --follow doesn't follow I'm no longer getting the _tail -f_ behavior with _now logs -f_. This occurred when I upgraded to now 2.5.5 mac binary, and now 8.3.4 on the command line. I was using this successfully in past versions. zeit deployed app is running just fine, too. thanks, other-file other-file source-file other-file container-file config-file other-file other-file test-file test-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file other-file source-file documentation-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file other-file other-file other-file other-file documentation-file other-file other-file source-file source-file source-file other-file other-file other-file other-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file",no-bug,0.8
82,vercel,https://github.com/vercel/vercel/issues/82,Better error message for missing CNAME / ALIAS,It should point to an URL with further explanations,test-file | source-file | test-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | test-file | test-file | source-file,Better error message for missing CNAME / ALIAS It should point to an URL with further explanations test-file source-file test-file test-file test-file test-file source-file test-file test-file test-file test-file test-file source-file,no-bug,0.7
529,vercel,https://github.com/vercel/vercel/issues/529,Check the plan before trying to `alias`,We should use the same approach we use to deploy  fire up a Promise an `await` it later ,documentation-file,Check the plan before trying to `alias` We should use the same approach we use to deploy  fire up a Promise an `await` it later  documentation-file,no-bug,0.9
2931,vercel,https://github.com/vercel/vercel/issues/2931,"Typo in error message: ""occurres""","The current stable version of now cli has an error message when you're messing with URL routes that says: > The segment ""[something]"" **occurres** more than one time in your path ""occurs"" is spelled wrong [in detect-routes.ts](https://github.com/zeit/now/blob/236f5f4159fb15891233aa38c389d6443dbdcf91/packages/now-build-utils/src/detect-routes.ts#L229) (and also in a [comment](https://github.com/zeit/now/blob/236f5f4159fb15891233aa38c389d6443dbdcf91/packages/now-build-utils/src/detect-routes.ts#L121) elsewhere in that file) This is kinda related to #2761 :)",source-file | source-file,"Typo in error message: ""occurres"" The current stable version of now cli has an error message when you're messing with URL routes that says: > The segment ""[something]"" **occurres** more than one time in your path ""occurs"" is spelled wrong [in detect-routes.ts](https://github.com/zeit/now/blob/236f5f4159fb15891233aa38c389d6443dbdcf91/packages/now-build-utils/src/detect-routes.ts#L229) (and also in a [comment](https://github.com/zeit/now/blob/236f5f4159fb15891233aa38c389d6443dbdcf91/packages/now-build-utils/src/detect-routes.ts#L121) elsewhere in that file) This is kinda related to #2761 :) source-file source-file",no-bug,0.9
23,vercel,https://github.com/vercel/vercel/issues/23,handle.writeLatin1String is not a function on Node 6.5,"Works fine on earlier versions of 6.x.  js net.js:732 return handle.writeLatin1String(req, data); ^ TypeError: handle.writeLatin1String is not a function at createWriteReq (net.js:732:21) at Socket._writeGeneric (net.js:702:11) at Socket._write (net.js:725:8) at doWrite (_stream_writable.js:307:12) at clearBuffer (_stream_writable.js:414:7) at Socket.Writable.uncork (_stream_writable.js:243:7) at ClientRequest._flushOutput (_http_outgoing.js:666:10) at ClientRequest.OutgoingMessage._flush (_http_outgoing.js:640:16) at _http_client.js:195:10 at callSocketMethod (_http_client.js:591:7)  @quarterto",documentation-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"handle.writeLatin1String is not a function on Node 6.5 Works fine on earlier versions of 6.x.  js net.js:732 return handle.writeLatin1String(req, data); ^ TypeError: handle.writeLatin1String is not a function at createWriteReq (net.js:732:21) at Socket._writeGeneric (net.js:702:11) at Socket._write (net.js:725:8) at doWrite (_stream_writable.js:307:12) at clearBuffer (_stream_writable.js:414:7) at Socket.Writable.uncork (_stream_writable.js:243:7) at ClientRequest._flushOutput (_http_outgoing.js:666:10) at ClientRequest.OutgoingMessage._flush (_http_outgoing.js:640:16) at _http_client.js:195:10 at callSocketMethod (_http_client.js:591:7)  @quarterto documentation-file other-file other-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
2696,vercel,https://github.com/vercel/vercel/issues/2696,Serving an empty dir with `now dev` should render 404,"Currently, serving a empty directory will cause a infinite loop of warnings that make no sense to the user. Instead, we want to make it work and render a 404, if possible. And also replicate the warning that `now` generates: ![image](https://user-images.githubusercontent.com/6170607/62456834-ac3b3d00-b779-11e9-9486-bdfa9f7daa2b.png) [empty dir.mp4.zip](https://github.com/zeit/now-cli/files/3467067/empty.dir.mp4.zip)",source-file | source-file | source-file | source-file | test-file | other-file | documentation-file | source-file | source-file | source-file | source-file | test-file | test-file | other-file | documentation-file | source-file | source-file | source-file | source-file | test-file | test-file,"Serving an empty dir with `now dev` should render 404 Currently, serving a empty directory will cause a infinite loop of warnings that make no sense to the user. Instead, we want to make it work and render a 404, if possible. And also replicate the warning that `now` generates: ![image](https://user-images.githubusercontent.com/6170607/62456834-ac3b3d00-b779-11e9-9486-bdfa9f7daa2b.png) [empty dir.mp4.zip](https://github.com/zeit/now-cli/files/3467067/empty.dir.mp4.zip) source-file source-file source-file source-file test-file other-file documentation-file source-file source-file source-file source-file test-file test-file other-file documentation-file source-file source-file source-file source-file test-file test-file",no-bug,0.8
2878,vercel,https://github.com/vercel/vercel/issues/2878,now dev return spawn E2BIG,"# Bug report Suddenly after a couple weeks of development, my now dev command line doesn't work anymore. It started when I closed the terminal where it was running and opened a new one. Now, it does the same even with a basic nextjs project ![image](https://user-images.githubusercontent.com/9078109/63739652-8e688000-c8c0-11e9-8c19-b7aac913e48f.png) And even with the now init nextjs command line ![image](https://user-images.githubusercontent.com/9078109/63739719-db4c5680-c8c0-11e9-811d-0cae92f37176.png) ## To Reproduce now init nextjs cd nextjs now dev ## Expected behavior The now dev server is properly launched and I can debug my code. ## System information - OS : macOS 10.14.6 - Memory: 16 GB - Node : v10.16.0 (but tested with 8.x.x also) - yarn 1.16.0 (but tested with 1.14 and 1.15 also) - Version of Next.js: 9.0.5 ## Additional context It happened to my collegues too. After a while, the command line just doesn't work anymore. We have tried : - Reinstall node, update node, downgrade node - Reinstall yarn, update yarn, downgrade yarn - Uninstall / Reinstall now - rm -rf /Users//Library/Caches/co.zeit.now/ Nothing works. The command line throw the error directly after the yarn command, just like if it was a problem with the size of a file (maybe logs ?) or the number of arguments in a function? Anyone can help ? Thank you very much",documentation-file | source-file,"now dev return spawn E2BIG # Bug report Suddenly after a couple weeks of development, my now dev command line doesn't work anymore. It started when I closed the terminal where it was running and opened a new one. Now, it does the same even with a basic nextjs project ![image](https://user-images.githubusercontent.com/9078109/63739652-8e688000-c8c0-11e9-8c19-b7aac913e48f.png) And even with the now init nextjs command line ![image](https://user-images.githubusercontent.com/9078109/63739719-db4c5680-c8c0-11e9-811d-0cae92f37176.png) ## To Reproduce now init nextjs cd nextjs now dev ## Expected behavior The now dev server is properly launched and I can debug my code. ## System information - OS : macOS 10.14.6 - Memory: 16 GB - Node : v10.16.0 (but tested with 8.x.x also) - yarn 1.16.0 (but tested with 1.14 and 1.15 also) - Version of Next.js: 9.0.5 ## Additional context It happened to my collegues too. After a while, the command line just doesn't work anymore. We have tried : - Reinstall node, update node, downgrade node - Reinstall yarn, update yarn, downgrade yarn - Uninstall / Reinstall now - rm -rf /Users//Library/Caches/co.zeit.now/ Nothing works. The command line throw the error directly after the yarn command, just like if it was a problem with the size of a file (maybe logs ?) or the number of arguments in a function? Anyone can help ? Thank you very much documentation-file source-file",no-bug,0.9
3772,vercel,https://github.com/vercel/vercel/issues/3772,now dev requires login and is missing --token from help,"`now dev` requires login now. If you don't log in it gives you a fun error like this:  Error! An unexpected error occurred! Error: The specified token is not valid at Object.getUser (/home/user/.config/yarn/global/node_modules/now/dist/index.js:2:2248948) at processTicksAndRejections (internal/process/task_queues.js:94:5) Error: The specified token is not valid at Object.getUser (/home/user/.config/yarn/global/node_modules/now/dist/index.js:2:2248948) at processTicksAndRejections (internal/process/task_queues.js:94:5)  In CI you can specify a token using `-t` or `--token`, but this is not listed in the description shown by specifying `--help`.",source-file | source-file | source-file | source-file | source-file,"now dev requires login and is missing --token from help `now dev` requires login now. If you don't log in it gives you a fun error like this:  Error! An unexpected error occurred! Error: The specified token is not valid at Object.getUser (/home/user/.config/yarn/global/node_modules/now/dist/index.js:2:2248948) at processTicksAndRejections (internal/process/task_queues.js:94:5) Error: The specified token is not valid at Object.getUser (/home/user/.config/yarn/global/node_modules/now/dist/index.js:2:2248948) at processTicksAndRejections (internal/process/task_queues.js:94:5)  In CI you can specify a token using `-t` or `--token`, but this is not listed in the description shown by specifying `--help`. source-file source-file source-file source-file source-file",bug,0.85
492,vercel,https://github.com/vercel/vercel/issues/492,Path alias appears broken,Running `now` [path alias](https://zeit.co/docs/features/path-aliases#monolith-appearance) command from an empty directory than includes routing `rules.json` results in the following error. bash $ now alias example.com -r rules.json > Error! Couldn't find a now.json or package.json file with an alias list in it ,source-file,Path alias appears broken Running `now` [path alias](https://zeit.co/docs/features/path-aliases#monolith-appearance) command from an empty directory than includes routing `rules.json` results in the following error. bash $ now alias example.com -r rules.json > Error! Couldn't find a now.json or package.json file with an alias list in it  source-file,no-bug,0.8
718,vercel,https://github.com/vercel/vercel/issues/718,now scale should allow you to specify a project,"now scale requires you to specify a full URL, but for deployment tooling, it'd be super convenient to be able to list a project instead (i.e. `mycoolapp` without `mycoolapp-xuekwpcief.sh`) and have the latest version of that project be scaled up and the others scaled down.",source-file | source-file | test-file,"now scale should allow you to specify a project now scale requires you to specify a full URL, but for deployment tooling, it'd be super convenient to be able to list a project instead (i.e. `mycoolapp` without `mycoolapp-xuekwpcief.sh`) and have the latest version of that project be scaled up and the others scaled down. source-file source-file test-file",no-bug,0.7
459,vercel,https://github.com/vercel/vercel/issues/459,now alias failed for domain with external DNS (GoDaddy),I am trying to setup alias for custom domain (serviced by GoDaddy). I am following [zeit doc](https://zeit.co/blog/domain-verification): 1. Created `CNAME` for `www` and pointed to `alias.zeit.co` 1. Removed `A` which was pointing to old hosting 1. Added `TXT` record with key from `now domain add --external` run Now I am trying to alias my deployment to custom domain (id and domain obfuscated): > C:\src\sample>now alias abcdefg0123456789 example.com > example.com is a custom domain. > Verifying the DNS settings for example.com (see https://zeit.world for help) > Verification OK! > Provisioning certificate for example.com > Error! Unknown error: Error: Invalid challenge response for example.com. Make sure the DNS records are correct. Error: Invalid challenge response for example.com. Make sure the DNS records ar e correct. at retry (C:\thebox\home\travis\build\zeit\now-cli\lib\index.js:635:17) at process._tickCallback (internal/process/next_tick.js:103:7) What am I missing?,source-file | source-file,now alias failed for domain with external DNS (GoDaddy) I am trying to setup alias for custom domain (serviced by GoDaddy). I am following [zeit doc](https://zeit.co/blog/domain-verification): 1. Created `CNAME` for `www` and pointed to `alias.zeit.co` 1. Removed `A` which was pointing to old hosting 1. Added `TXT` record with key from `now domain add --external` run Now I am trying to alias my deployment to custom domain (id and domain obfuscated): > C:\src\sample>now alias abcdefg0123456789 example.com > example.com is a custom domain. > Verifying the DNS settings for example.com (see https://zeit.world for help) > Verification OK! > Provisioning certificate for example.com > Error! Unknown error: Error: Invalid challenge response for example.com. Make sure the DNS records are correct. Error: Invalid challenge response for example.com. Make sure the DNS records ar e correct. at retry (C:\thebox\home\travis\build\zeit\now-cli\lib\index.js:635:17) at process._tickCallback (internal/process/next_tick.js:103:7) What am I missing? source-file source-file,no-bug,0.9
2738,vercel,https://github.com/vercel/vercel/issues/2738,Display rate limit errors message from API response,"In order to make the rate limit exceptions more clear, we should extract and output the message returned by the API when a rate limit happens instead of outputting a generic error. https://github.com/zeit/now-cli/blob/413fdd7c39949805ec8cc40d1308d9d6b6c459a7/src/util/handle-error.ts#L34-L38",source-file | source-file | source-file,"Display rate limit errors message from API response In order to make the rate limit exceptions more clear, we should extract and output the message returned by the API when a rate limit happens instead of outputting a generic error. https://github.com/zeit/now-cli/blob/413fdd7c39949805ec8cc40d1308d9d6b6c459a7/src/util/handle-error.ts#L34-L38 source-file source-file source-file",no-bug,0.8
809,vercel,https://github.com/vercel/vercel/issues/809,`now secrets` with no subcommand shows help text twice,"Running `now secrets` with no subcommand shows the help text twice: console $ now --version 8.0.2 $ now secrets now secrets <ls | add | rename | rm> <secret> Options: -h, --help Output usage information -b, --base64 Treat value as base64-encoded -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -t TOKEN, --token=TOKEN Login token Examples:  Lists all your secrets: $ now secrets ls  Adds a new secret: $ now secrets add my-secret ""my value""  Once added, a secret's value can't be retrieved in plaintext anymore  If the secret's value is more than one word, wrap it in quotes  Actually, when in doubt, wrap your value in quotes  Exposes a secret as an env variable: $ now -e MY_SECRET=@my-secret Notice the `@` symbol which makes the value a secret reference.  Renames a secret: $ now secrets rename my-secret my-renamed-secret  Removes a secret: $ now secrets rm my-secret > Error! Please specify a valid subcommand: ls | add | rename | rm now secrets <ls | add | rename | rm> <secret> Options: -h, --help Output usage information -b, --base64 Treat value as base64-encoded -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -t TOKEN, --token=TOKEN Login token Examples:  Lists all your secrets: $ now secrets ls  Adds a new secret: $ now secrets add my-secret ""my value""  Once added, a secret's value can't be retrieved in plaintext anymore  If the secret's value is more than one word, wrap it in quotes  Actually, when in doubt, wrap your value in quotes  Exposes a secret as an env variable: $ now -e MY_SECRET=@my-secret Notice the `@` symbol which makes the value a secret reference.  Renames a secret: $ now secrets rename my-secret my-renamed-secret  Removes a secret: $ now secrets rm my-secret ",source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"`now secrets` with no subcommand shows help text twice Running `now secrets` with no subcommand shows the help text twice: console $ now --version 8.0.2 $ now secrets now secrets <ls | add | rename | rm> <secret> Options: -h, --help Output usage information -b, --base64 Treat value as base64-encoded -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -t TOKEN, --token=TOKEN Login token Examples:  Lists all your secrets: $ now secrets ls  Adds a new secret: $ now secrets add my-secret ""my value""  Once added, a secret's value can't be retrieved in plaintext anymore  If the secret's value is more than one word, wrap it in quotes  Actually, when in doubt, wrap your value in quotes  Exposes a secret as an env variable: $ now -e MY_SECRET=@my-secret Notice the `@` symbol which makes the value a secret reference.  Renames a secret: $ now secrets rename my-secret my-renamed-secret  Removes a secret: $ now secrets rm my-secret > Error! Please specify a valid subcommand: ls | add | rename | rm now secrets <ls | add | rename | rm> <secret> Options: -h, --help Output usage information -b, --base64 Treat value as base64-encoded -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -t TOKEN, --token=TOKEN Login token Examples:  Lists all your secrets: $ now secrets ls  Adds a new secret: $ now secrets add my-secret ""my value""  Once added, a secret's value can't be retrieved in plaintext anymore  If the secret's value is more than one word, wrap it in quotes  Actually, when in doubt, wrap your value in quotes  Exposes a secret as an env variable: $ now -e MY_SECRET=@my-secret Notice the `@` symbol which makes the value a secret reference.  Renames a secret: $ now secrets rename my-secret my-renamed-secret  Removes a secret: $ now secrets rm my-secret  source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
3377,vercel,https://github.com/vercel/vercel/issues/3377,Feedback form doesn't work,"When you build using `now dev`, there's a link to a feedback form at https://zeit.typeform.com/to/JMdFYu?product=now-dev This feedback form is currently marked as private, meaning it's not possible to give feedback,",source-file,"Feedback form doesn't work When you build using `now dev`, there's a link to a feedback form at https://zeit.typeform.com/to/JMdFYu?product=now-dev This feedback form is currently marked as private, meaning it's not possible to give feedback, source-file",no-bug,0.9
530,vercel,https://github.com/vercel/vercel/issues/530,Make DNS propagation delay more apparent when verifying a domain,"I've noticed an increase in users asking why their newly added domains are showing an error when aliasing, due to DNS not propagating yet. Since now can't verify that the alias works, there should probably be a more descriptive/apparent message given to the user. They really need to know that they need to sit tight and wait, from anywhere from a few minutes to 24 hours. Right now the domain verification error/message might need some love too.",source-file,"Make DNS propagation delay more apparent when verifying a domain I've noticed an increase in users asking why their newly added domains are showing an error when aliasing, due to DNS not propagating yet. Since now can't verify that the alias works, there should probably be a more descriptive/apparent message given to the user. They really need to know that they need to sit tight and wait, from anywhere from a few minutes to 24 hours. Right now the domain verification error/message might need some love too. source-file",no-bug,0.85
7086,vercel,https://github.com/vercel/vercel/issues/7086,`_middleware.js` does not have access to process.env when run without Next.js,When compiling the `_middleware.js` file with esbuild you need to pass the `process.env` variables to define or those will be undefined https://github.com/vercel/vercel/blob/be1c78e72f1bbb23fbbcecf569049211cdf8bd52/packages/middleware/src/index.ts#L66,source-file | source-file | test-file | test-file,`_middleware.js` does not have access to process.env when run without Next.js When compiling the `_middleware.js` file with esbuild you need to pass the `process.env` variables to define or those will be undefined https://github.com/vercel/vercel/blob/be1c78e72f1bbb23fbbcecf569049211cdf8bd52/packages/middleware/src/index.ts#L66 source-file source-file test-file test-file,no-bug,0.9
13224,vercel,https://github.com/vercel/vercel/issues/13224,"Typo in README: ""insructions""  ""instructions""","**Thanks for reaching out!** We use this Issue tracker for issues with the Vercel CLI and related open source libraries. If you are experiencing an issue with the Vercel CLI please delete this text and describe your issue. _For general platform help and feedback please open a new discussion at https://vercel.community._ Hey team , I noticed a small typo in the README of this repo: > ""Follow the insructions here https://vercel.com/docs/rest-api#creating-an-access-token"" The word **""insructions""** should be corrected to **""instructions""**. Thanks for maintaining this awesome repo!",documentation-file | documentation-file | documentation-file,"Typo in README: ""insructions""  ""instructions"" **Thanks for reaching out!** We use this Issue tracker for issues with the Vercel CLI and related open source libraries. If you are experiencing an issue with the Vercel CLI please delete this text and describe your issue. _For general platform help and feedback please open a new discussion at https://vercel.community._ Hey team , I noticed a small typo in the README of this repo: > ""Follow the insructions here https://vercel.com/docs/rest-api#creating-an-access-token"" The word **""insructions""** should be corrected to **""instructions""**. Thanks for maintaining this awesome repo! documentation-file documentation-file documentation-file",no-bug,1.0
410,vercel,https://github.com/vercel/vercel/issues/410,now alias rm shows undefined when using custom rules,`now alias ls` works fine:  $ now alias ls > 9 aliases found [25s] id source url created e53FKD3s5fsLCa0D4emq0dLF [2 custom rules] https://my.domain 11m ago   But `now alias rm` has a display issue:  $ now alias rm https://my.domain - > The following alias will be removed permanently e53FKD3s5fsLCa0D4emq0dLF https://undefined https://my.domain ,documentation-file | source-file | source-file | source-file,now alias rm shows undefined when using custom rules `now alias ls` works fine:  $ now alias ls > 9 aliases found [25s] id source url created e53FKD3s5fsLCa0D4emq0dLF [2 custom rules] https://my.domain 11m ago   But `now alias rm` has a display issue:  $ now alias rm https://my.domain - > The following alias will be removed permanently e53FKD3s5fsLCa0D4emq0dLF https://undefined https://my.domain  documentation-file source-file source-file source-file,no-bug,0.8
414,vercel,https://github.com/vercel/vercel/issues/414,"Show ToS in email, not in CLI",But only upon signup!,documentation-file | source-file | source-file | other-file,"Show ToS in email, not in CLI But only upon signup! documentation-file source-file source-file other-file",no-bug,0.9
2754,vercel,https://github.com/vercel/vercel/issues/2754,"""More information"" URL in config is outdated","After running `now login` both the generated user settings files (~/.now/(auth,config).json) contain a comment:  { ""_"": ""[  ] More: https://bit.ly/2qAK8bb"" }  The link used here (https://bit.ly/2qAK8bb) is outdated and returns a 404: https://zeit.co/docs/v2/advanced/platform/global-configuration The code defining the URL seems to be here: https://github.com/zeit/now-cli/blob/2777ec3e2cba5035585b2f463ec2b5103b82557f/src/util/config/get-default.js#L6 https://github.com/zeit/now-cli/blob/2777ec3e2cba5035585b2f463ec2b5103b82557f/src/util/config/get-default.js#L69 However I'm not sure what the best solution to this is (nor what the link should point to). The best solution might be to update the bit.ly link but I don't know if that is possible.",source-file | source-file | source-file,"""More information"" URL in config is outdated After running `now login` both the generated user settings files (~/.now/(auth,config).json) contain a comment:  { ""_"": ""[  ] More: https://bit.ly/2qAK8bb"" }  The link used here (https://bit.ly/2qAK8bb) is outdated and returns a 404: https://zeit.co/docs/v2/advanced/platform/global-configuration The code defining the URL seems to be here: https://github.com/zeit/now-cli/blob/2777ec3e2cba5035585b2f463ec2b5103b82557f/src/util/config/get-default.js#L6 https://github.com/zeit/now-cli/blob/2777ec3e2cba5035585b2f463ec2b5103b82557f/src/util/config/get-default.js#L69 However I'm not sure what the best solution to this is (nor what the link should point to). The best solution might be to update the bit.ly link but I don't know if that is possible. source-file source-file source-file",no-bug,0.95
2641,vercel,https://github.com/vercel/vercel/issues/2641,Ship canary Builders with canary Now CLI,"Currently, we're shipping stable Builders with stable and canary Now CLI. To make it easier to test them, we should ship canary Builders with canary Now CLI. In turn, we also need to make now/build-utils aware of this (that's where we select the default builders for zero config).",source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | test-file | test-file | documentation-file | source-file | source-file | source-file | source-file | test-file | test-file,"Ship canary Builders with canary Now CLI Currently, we're shipping stable Builders with stable and canary Now CLI. To make it easier to test them, we should ship canary Builders with canary Now CLI. In turn, we also need to make now/build-utils aware of this (that's where we select the default builders for zero config). source-file source-file source-file documentation-file source-file source-file source-file source-file test-file test-file documentation-file source-file source-file source-file source-file test-file test-file",no-bug,0.9
729,vercel,https://github.com/vercel/vercel/issues/729,Fails install on Windows,"`npm i now -g` On windows, yields  C:\Users\User\test>npm i now -g C:\Program Files\nodejs\now -> C:\Program Files\nodejs\node_modules\now\download\dist\now > now@7.3.0 postinstall C:\Program Files\nodejs\node_modules\now > node download/install.js > For the source code, check out: https://github.com/zeit/now-cli > Downloading now CLI 7.3.0 [] 100% { Error: ENOENT: no such file or directory, open 'C:\Users\User\AppData\Roaming\npm\now' at Error (native) at Object.fs.openSync (fs.js:641:18) at Object.fs.readFileSync (fs.js:509:33) at _callee2$ (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2138:249) at tryCatch (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2328:40) at GeneratorFunctionPrototype.invoke [as _invoke] (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2566:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2380:21) at step (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:3023:30) at C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:3034:13 at process._tickCallback (internal/process/next_tick.js:109:7) errno: -4058, code: 'ENOENT', syscall: 'open', path: 'C:\\Users\\User\\AppData\\Roaming\\npm\\now' } npm ERR! Windows_NT 10.0.15063 npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""i"" ""now"" ""-g"" npm ERR! node v6.11.1 npm ERR! npm v3.10.10 npm ERR! code ELIFECYCLE npm ERR! now@7.3.0 postinstall: `node download/install.js` npm ERR! Exit status 2 npm ERR! npm ERR! Failed at the now@7.3.0 postinstall script 'node download/install.js'. npm ERR! Make sure you have the latest version of node.js and npm installed. npm ERR! If you do, this is most likely a problem with the now package, npm ERR! not with npm itself. npm ERR! Tell the author that this fails on your system: npm ERR! node download/install.js npm ERR! You can get information on how to open an issue for this project with: npm ERR! npm bugs now npm ERR! Or if that isn't available, you can get their info via: npm ERR! npm owner ls now npm ERR! There is likely additional logging output above. npm ERR! Please include the following file with any support request: npm ERR! C:\Users\User\test\npm-debug.log  Steps to reproduce: - [virtualbox image from microsoft](https://developer.microsoft.com/en-us/windows/downloads/virtual-machines). - [Install Chocolatey](https://chocolatey.org/install) - `choco install nvm -y` - `nvm install 6.11.1` - `nvm use 6.11.1` - `npm i now -g` Fails to install 7.3.0",source-file | documentation-file | documentation-file,"Fails install on Windows `npm i now -g` On windows, yields  C:\Users\User\test>npm i now -g C:\Program Files\nodejs\now -> C:\Program Files\nodejs\node_modules\now\download\dist\now > now@7.3.0 postinstall C:\Program Files\nodejs\node_modules\now > node download/install.js > For the source code, check out: https://github.com/zeit/now-cli > Downloading now CLI 7.3.0 [] 100% { Error: ENOENT: no such file or directory, open 'C:\Users\User\AppData\Roaming\npm\now' at Error (native) at Object.fs.openSync (fs.js:641:18) at Object.fs.readFileSync (fs.js:509:33) at _callee2$ (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2138:249) at tryCatch (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2328:40) at GeneratorFunctionPrototype.invoke [as _invoke] (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2566:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:2380:21) at step (C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:3023:30) at C:\ProgramData\nvm\v6.11.1\node_modules\now\download\dist\download.js:3034:13 at process._tickCallback (internal/process/next_tick.js:109:7) errno: -4058, code: 'ENOENT', syscall: 'open', path: 'C:\\Users\\User\\AppData\\Roaming\\npm\\now' } npm ERR! Windows_NT 10.0.15063 npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""i"" ""now"" ""-g"" npm ERR! node v6.11.1 npm ERR! npm v3.10.10 npm ERR! code ELIFECYCLE npm ERR! now@7.3.0 postinstall: `node download/install.js` npm ERR! Exit status 2 npm ERR! npm ERR! Failed at the now@7.3.0 postinstall script 'node download/install.js'. npm ERR! Make sure you have the latest version of node.js and npm installed. npm ERR! If you do, this is most likely a problem with the now package, npm ERR! not with npm itself. npm ERR! Tell the author that this fails on your system: npm ERR! node download/install.js npm ERR! You can get information on how to open an issue for this project with: npm ERR! npm bugs now npm ERR! Or if that isn't available, you can get their info via: npm ERR! npm owner ls now npm ERR! There is likely additional logging output above. npm ERR! Please include the following file with any support request: npm ERR! C:\Users\User\test\npm-debug.log  Steps to reproduce: - [virtualbox image from microsoft](https://developer.microsoft.com/en-us/windows/downloads/virtual-machines). - [Install Chocolatey](https://chocolatey.org/install) - `choco install nvm -y` - `nvm install 6.11.1` - `nvm use 6.11.1` - `npm i now -g` Fails to install 7.3.0 source-file documentation-file documentation-file",no-bug,0.95
350,vercel,https://github.com/vercel/vercel/issues/350,Support for plugins,Things like `now open` could be split out into plugins and installed: bash npm install -g now-open ,source-file | documentation-file | other-file,Support for plugins Things like `now open` could be split out into plugins and installed: bash npm install -g now-open  source-file documentation-file other-file,no-bug,0.9
801,vercel,https://github.com/vercel/vercel/issues/801,`now dns add` should return error feedback in case of an error,Running:  $ now dns add <DOMAIN> TXT <VALUE>  on `v7.4.0` it returns me `> Error! Invalid number of arguments. See: now dns --help for usage.` but on `v8.0.1` it does not return anything. cc @sergiodxa,source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,`now dns add` should return error feedback in case of an error Running:  $ now dns add <DOMAIN> TXT <VALUE>  on `v7.4.0` it returns me `> Error! Invalid number of arguments. See: now dns --help for usage.` but on `v8.0.1` it does not return anything. cc @sergiodxa source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file,bug,0.85
10187,vercel,https://github.com/vercel/vercel/issues/10187,Respect .gitignore file when deploying,"Vercel's cli to deploy is great BUT it should respect the gitignore file. If I'm using Vercel via a GitHub repo connection it respects that - since pushing to GitHub respects it. But if I'm using Vercel solely from a local repo via the cli, it does not respect that. Instead it requires me to add and maintain a `.vercelignore` file. Respecting the `.gitignore` file would follow the principle of least surprise and keep users safer. additional info: https://vercel.com/docs/concepts/deployments/vercel-ignore",source-file | source-file,"Respect .gitignore file when deploying Vercel's cli to deploy is great BUT it should respect the gitignore file. If I'm using Vercel via a GitHub repo connection it respects that - since pushing to GitHub respects it. But if I'm using Vercel solely from a local repo via the cli, it does not respect that. Instead it requires me to add and maintain a `.vercelignore` file. Respecting the `.gitignore` file would follow the principle of least surprise and keep users safer. additional info: https://vercel.com/docs/concepts/deployments/vercel-ignore source-file source-file",no-bug,0.95
642,vercel,https://github.com/vercel/vercel/issues/642,Now scale throws error for docker deployments in BUILDING status,"Now scale cannot be called immediately after deployment (e.g. inside a script), if attempted the following error occurs: now scale --debug https://upload-service-aqlyobpave.now.sh 1 > [debug] /list: 964.816ms > Deployment is currently in 0 replicas, preparing deployment for scaling > [debug] #1 POST /deployments/zI5gXiMWlSkcLqMIiHtohh7G/instances: 891.363ms > Error! An unexpected error occurred Same thing happens if alias is called for a new instance of a pre-scaled deployment: now alias content-service-ktesmqrzja.now.sh https://content-service.xxxxx > Alias content-service.xxxxx points to content-service-aekxwisoip.now.sh (1 instances) > Scaling content-service-ktesmqrzja.now.sh to 1 instances atomically > Error! An unexpected error occurred",documentation-file,"Now scale throws error for docker deployments in BUILDING status Now scale cannot be called immediately after deployment (e.g. inside a script), if attempted the following error occurs: now scale --debug https://upload-service-aqlyobpave.now.sh 1 > [debug] /list: 964.816ms > Deployment is currently in 0 replicas, preparing deployment for scaling > [debug] #1 POST /deployments/zI5gXiMWlSkcLqMIiHtohh7G/instances: 891.363ms > Error! An unexpected error occurred Same thing happens if alias is called for a new instance of a pre-scaled deployment: now alias content-service-ktesmqrzja.now.sh https://content-service.xxxxx > Alias content-service.xxxxx points to content-service-aekxwisoip.now.sh (1 instances) > Scaling content-service-ktesmqrzja.now.sh to 1 instances atomically > Error! An unexpected error occurred documentation-file",no-bug,0.9
901,vercel,https://github.com/vercel/vercel/issues/901,Don't show update message if installed using Now Desktop,When can accomplish that by checking the path in which the binary is located,source-file,Don't show update message if installed using Now Desktop When can accomplish that by checking the path in which the binary is located source-file,no-bug,0.8
685,vercel,https://github.com/vercel/vercel/issues/685,Deploy is holding on step3 although `npm start` has been executed,https://zeit.co/jounqin/vue-ssr/lelhtdxwkh,documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,Deploy is holding on step3 although `npm start` has been executed https://zeit.co/jounqin/vue-ssr/lelhtdxwkh documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file,no-bug,0.9
636,vercel,https://github.com/vercel/vercel/issues/636,Standalone external alias,"* I have `app` on now at `app.now.sh` * `app` is a monolith that currently has `/Foos` path to get `Foo` objects from DB * `app` *also* needs to be able to call the `Foos` APIs internally, so if `foo-api` is split off the application it must know where it is. * My goal is to 1. FIRST: Remove `foo-api` to separate application on now & passthrough alias to it from `app.now.sh` on `pathname: Foos*` 2. LATER: Remove `foo-api` to a hosted API on bluemix (`foo-api.mybluemix.com/Foos`, and pass through to it on `pathname: Foos*` (same alias) ## What works 1. Deploying `foo-api` to `now` 2. Aliasing it on now: `now alias foo-api-o92u7oasjdfakl.now.sh foo-api` 2. Passthrough aliasing to it from `app.now.sh`: json { ""pathname"": ""/Foos**"", ""dest"" : ""foo-api.now.sh"" }  3. Setting `FOO_API` as an ENV far on `app.now.sh` instance so it knows where to look up `Foos` internally: `[~/app/] $ now -e FOO_API=""https://foo-api.now.sh""` ## What doesn't work Now I want to move my `foo-api` to bluemix and point `foo-api.now.sh` to bluemix so: 1. The existing pass through alias on `app.now.sh/Foos*` still works 2. **Calling the foo api via `process.env.FOO_API` within `app.now.sh` still works without me having to redeploy with new ENV vars** because `foo-api.now.sh` now points to external Step 2 above is what I can't figure out. I would like `app` to *not* be aware of where its calls to `foo-api.now.sh` actually go so it can transparently be switched to from now-local to remote without having to redeploy `app` with new env vars. This would require *two* steps for migration: 1. Change alias 2. Change path internally Where I would like just 1. # Question Is it possible to set up an alias without an instance? Example: `now alias https://foo.mybluemix.com foo-api.now.sh`",source-file,"Standalone external alias * I have `app` on now at `app.now.sh` * `app` is a monolith that currently has `/Foos` path to get `Foo` objects from DB * `app` *also* needs to be able to call the `Foos` APIs internally, so if `foo-api` is split off the application it must know where it is. * My goal is to 1. FIRST: Remove `foo-api` to separate application on now & passthrough alias to it from `app.now.sh` on `pathname: Foos*` 2. LATER: Remove `foo-api` to a hosted API on bluemix (`foo-api.mybluemix.com/Foos`, and pass through to it on `pathname: Foos*` (same alias) ## What works 1. Deploying `foo-api` to `now` 2. Aliasing it on now: `now alias foo-api-o92u7oasjdfakl.now.sh foo-api` 2. Passthrough aliasing to it from `app.now.sh`: json { ""pathname"": ""/Foos**"", ""dest"" : ""foo-api.now.sh"" }  3. Setting `FOO_API` as an ENV far on `app.now.sh` instance so it knows where to look up `Foos` internally: `[~/app/] $ now -e FOO_API=""https://foo-api.now.sh""` ## What doesn't work Now I want to move my `foo-api` to bluemix and point `foo-api.now.sh` to bluemix so: 1. The existing pass through alias on `app.now.sh/Foos*` still works 2. **Calling the foo api via `process.env.FOO_API` within `app.now.sh` still works without me having to redeploy with new ENV vars** because `foo-api.now.sh` now points to external Step 2 above is what I can't figure out. I would like `app` to *not* be aware of where its calls to `foo-api.now.sh` actually go so it can transparently be switched to from now-local to remote without having to redeploy `app` with new env vars. This would require *two* steps for migration: 1. Change alias 2. Change path internally Where I would like just 1. # Question Is it possible to set up an alias without an instance? Example: `now alias https://foo.mybluemix.com foo-api.now.sh` source-file",no-bug,0.8
320,vercel,https://github.com/vercel/vercel/issues/320,now alias fails when now.json does not define deployment type,"now version: `4.5.6` Performing `now alias` with a `now.json` of the following: JSON { ""alias"": ""this-is-a-test.now.sh"" }  Fails with:  > Error! Failed to read JSON in ""/Users/hugo/Desktop/test/package.json""  This error doesn't occur if `now.json` defines a `type`. Ideally, `now` should work out the deployment type as it does when running `now` without a `now.json` file. I believe this could be fixed by modifying [read-metadata.js](https://github.com/zeit/now-cli/blob/b1a2e6feeeb2e0082e97e8cf69e7d8f7bd989e29/lib/read-metadata.js).",source-file | source-file | source-file | source-file,"now alias fails when now.json does not define deployment type now version: `4.5.6` Performing `now alias` with a `now.json` of the following: JSON { ""alias"": ""this-is-a-test.now.sh"" }  Fails with:  > Error! Failed to read JSON in ""/Users/hugo/Desktop/test/package.json""  This error doesn't occur if `now.json` defines a `type`. Ideally, `now` should work out the deployment type as it does when running `now` without a `now.json` file. I believe this could be fixed by modifying [read-metadata.js](https://github.com/zeit/now-cli/blob/b1a2e6feeeb2e0082e97e8cf69e7d8f7bd989e29/lib/read-metadata.js). source-file source-file source-file source-file",no-bug,0.8
2410,vercel,https://github.com/vercel/vercel/issues/2410,`now whoami` not working in version 15.4.0,"In version 15.4.0 the command `now whoami` throws the next error:  Error! The specified file or directory ""whoami"" does not exist.  When executing `now --help` the output displays `whoami` as a valid subcommand but, when executing `now --help whoami`, it throws the next error:  Error! The ""whoami"" subcommand does not exist  If this feature has been removed from the client the `now --help` output should be updated. If not, it seems there is a problem with the command.",source-file | source-file | test-file | source-file | test-file,"`now whoami` not working in version 15.4.0 In version 15.4.0 the command `now whoami` throws the next error:  Error! The specified file or directory ""whoami"" does not exist.  When executing `now --help` the output displays `whoami` as a valid subcommand but, when executing `now --help whoami`, it throws the next error:  Error! The ""whoami"" subcommand does not exist  If this feature has been removed from the client the `now --help` output should be updated. If not, it seems there is a problem with the command. source-file source-file test-file source-file test-file",no-bug,0.9
591,vercel,https://github.com/vercel/vercel/issues/591,now secret add results in an Error,"It looks like `now secret add` has a limit in terms of the variable name size. Using the command while setting a 30 characters long variable name results in an Error, but no message is provided.",source-file | test-file,"now secret add results in an Error It looks like `now secret add` has a limit in terms of the variable name size. Using the command while setting a 30 characters long variable name results in an Error, but no message is provided. source-file test-file",bug,0.85
11130,vercel,https://github.com/vercel/vercel/issues/11130,`vercel` cli has not option to update existing values,Hello. We use the vercel cli in our CICD platform and we've noticed that using `vercel env add` command will fail one existing secrets. It would be ideal if the CLI had an `--update` flag to make the vercel CLI overwrite the existing env secret rather than failing with an error. This will ensure we set the most recent secrets and not keeping around any old values.,source-file | source-file | source-file | test-file | test-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file,`vercel` cli has not option to update existing values Hello. We use the vercel cli in our CICD platform and we've noticed that using `vercel env add` command will fail one existing secrets. It would be ideal if the CLI had an `--update` flag to make the vercel CLI overwrite the existing env secret rather than failing with an error. This will ensure we set the most recent secrets and not keeping around any old values. source-file source-file source-file test-file test-file documentation-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file documentation-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file,no-bug,0.8
2609,vercel,https://github.com/vercel/vercel/issues/2609,Replicate platform error style in now dev,"Currently, the errors in now dev look nothing like in production. Also, the 404 error page for static files looks even different. ![Untitled-7](https://user-images.githubusercontent.com/6170607/61794857-65b51c80-ae22-11e9-980c-24a95c3e7f76.png)",other-file | other-file | documentation-file | source-file | source-file | source-file | other-file | source-file | other-file | source-file | other-file | other-file | config-file | other-file | other-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | config-file | other-file | other-file | documentation-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file,"Replicate platform error style in now dev Currently, the errors in now dev look nothing like in production. Also, the 404 error page for static files looks even different. ![Untitled-7](https://user-images.githubusercontent.com/6170607/61794857-65b51c80-ae22-11e9-980c-24a95c3e7f76.png) other-file other-file documentation-file source-file source-file source-file other-file source-file other-file source-file other-file other-file config-file other-file other-file documentation-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file config-file other-file other-file documentation-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file",no-bug,0.9
9452,vercel,https://github.com/vercel/vercel/issues/9452,[gatsby-plugin-vercel-builder] Gatsby builds are not being cached increasing build time,"I think this change has increased the build times of one of my medium sized projects (couple hundred pages). After this change was released, the build times more than doubled from around 4 minutes to 9+. The major problem is that the site utilizes a source plugin and there are tasks such as `Running gatsby.IMAGE_CDN jobs` and `gatsby-plugin-sharp.IMAGE_PROCESSING` which are very time consuming and need to run again. Is it possible to specify the version of `@vercel/gatsby-plugin-vercel-builder` used for the build? I'd like to somehow test using `v1.0.3`. I tried adding the package in `package.json` but then it runs twice and throws an error. See [this commit](https://github.com/vercel/vercel/commit/aa6b957b23101cff6c265bd4baa1c06a3fd1f1bd)",source-file | source-file | source-file,"[gatsby-plugin-vercel-builder] Gatsby builds are not being cached increasing build time I think this change has increased the build times of one of my medium sized projects (couple hundred pages). After this change was released, the build times more than doubled from around 4 minutes to 9+. The major problem is that the site utilizes a source plugin and there are tasks such as `Running gatsby.IMAGE_CDN jobs` and `gatsby-plugin-sharp.IMAGE_PROCESSING` which are very time consuming and need to run again. Is it possible to specify the version of `@vercel/gatsby-plugin-vercel-builder` used for the build? I'd like to somehow test using `v1.0.3`. I tried adding the package in `package.json` but then it runs twice and throws an error. See [this commit](https://github.com/vercel/vercel/commit/aa6b957b23101cff6c265bd4baa1c06a3fd1f1bd) source-file source-file source-file",no-bug,0.95
257,vercel,https://github.com/vercel/vercel/issues/257,Option for disabling scaling when deploying?,Is there a way to deploy a Dockerfile project and disable scaling?,test-file,Option for disabling scaling when deploying? Is there a way to deploy a Dockerfile project and disable scaling? test-file,no-bug,0.9
1934,vercel,https://github.com/vercel/vercel/issues/1934,deploy after sign up if command was `now [deploy]`,"This supports a single command sign up and deployment flow, so projects like [frontarm/navi](https://github.com/frontarm/navi/blob/9a87bcdcbfc0f37a24d9488616dff65407606370/examples/blog-typescript/package.json) can use `now` as their deployment script and it works in one command, even if the user doesn't yet have an account. Currently if you issue `now` as a new user you get the sign up flow but need to run `now` a second time for it to actually do the deploy.",source-file,"deploy after sign up if command was `now [deploy]` This supports a single command sign up and deployment flow, so projects like [frontarm/navi](https://github.com/frontarm/navi/blob/9a87bcdcbfc0f37a24d9488616dff65407606370/examples/blog-typescript/package.json) can use `now` as their deployment script and it works in one command, even if the user doesn't yet have an account. Currently if you issue `now` as a new user you get the sign up flow but need to run `now` a second time for it to actually do the deploy. source-file",no-bug,0.9
2161,vercel,https://github.com/vercel/vercel/issues/2161,show the entire directory,"I'm testing the example of **serverless-ssr-reddit** of now-examples but when I try to access http://localhost:300/ i receive the following <img width=""289"" alt=""56072796-57a22b00-5d60-11e9-8f74-9873fd7469ba"" src=""https://user-images.githubusercontent.com/16585386/56074034-4b729980-5d71-11e9-96aa-3d21fe9f2546.png""> but when I deploy the project with Now it shows me the entire directory <img width=""1280"" alt=""Screen Shot 2019-04-12 at 22 10 10"" src=""https://user-images.githubusercontent.com/16585386/56074042-7fe65580-5d71-11e9-9d6c-d11ba6356224.png""> It would be a good idea to have this in `now dev` ",source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"show the entire directory I'm testing the example of **serverless-ssr-reddit** of now-examples but when I try to access http://localhost:300/ i receive the following <img width=""289"" alt=""56072796-57a22b00-5d60-11e9-8f74-9873fd7469ba"" src=""https://user-images.githubusercontent.com/16585386/56074034-4b729980-5d71-11e9-96aa-3d21fe9f2546.png""> but when I deploy the project with Now it shows me the entire directory <img width=""1280"" alt=""Screen Shot 2019-04-12 at 22 10 10"" src=""https://user-images.githubusercontent.com/16585386/56074042-7fe65580-5d71-11e9-9d6c-d11ba6356224.png""> It would be a good idea to have this in `now dev`  source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.8
2782,vercel,https://github.com/vercel/vercel/issues/2782,"Rename to ""zeit/now"" and create a monorepo","As part of our effort of merging our codebases (Now CLI will invoke now-client, Now CLI will bundle & lock the default builders, they all need canary channels), we're going to merge all of the following repositories into a single one: - https://github.com/zeit/now-cli - https://github.com/zeit/now-builders - https://github.com/zeit/now-client In the near future, these packages should all live inside `zeit/now-cli` and the repo will be renamed to `zeit/now`.  Tasks - [x] Move `zeit/now-client` into `zeit/now-cli` - [x] Move `zeit/now-builders` into `zeit/now-cli` - [x] Set up Lerna with `canary` and `master` - [x] Set up CI (new GitHub Actions if possible) - [x] Merge monorepo to `master` #2812 - [x] Cherry pick monorepo commit to `canary` 229a62d8b6aeb1f5b19de71d4e7c8733ba9e310d - [x] Rename `zeit/now-cli` to `zeit/now` - [x] Transfer any open issues and PRs from `zeit/now-client` and `zeit/now-builders` to `zeit/now` - [x] Archive `zeit/now-client` and `zeit/now-builders` and make the README point to the new `zeit/now` - [x] Adjust all links across our system pointing to these repos https://github.com/zeit/docs/pull/1184 - [x] Cherry pick any missing PRs into `canary` [see example](https://stackoverflow.com/questions/42800902/git-generate-patch-for-all-commits-in-a-branch) #2884 #2880 #2883 #2885 #2881 - [x] Add GitHub Actions for publishing to npm #2891 - [x] Publish canary [16.1.3-canary.0](https://github.com/zeit/now/releases/tag/now%4016.1.3-canary.0) - [x] Update readme of `zeit/now` to ""The easiest way to deploy websites"" (fix title) #2886 - [x] Unify linting & autoformatting #2914 - [x] Update links to repos on https://zeit.co/oss",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file,"Rename to ""zeit/now"" and create a monorepo As part of our effort of merging our codebases (Now CLI will invoke now-client, Now CLI will bundle & lock the default builders, they all need canary channels), we're going to merge all of the following repositories into a single one: - https://github.com/zeit/now-cli - https://github.com/zeit/now-builders - https://github.com/zeit/now-client In the near future, these packages should all live inside `zeit/now-cli` and the repo will be renamed to `zeit/now`.  Tasks - [x] Move `zeit/now-client` into `zeit/now-cli` - [x] Move `zeit/now-builders` into `zeit/now-cli` - [x] Set up Lerna with `canary` and `master` - [x] Set up CI (new GitHub Actions if possible) - [x] Merge monorepo to `master` #2812 - [x] Cherry pick monorepo commit to `canary` 229a62d8b6aeb1f5b19de71d4e7c8733ba9e310d - [x] Rename `zeit/now-cli` to `zeit/now` - [x] Transfer any open issues and PRs from `zeit/now-client` and `zeit/now-builders` to `zeit/now` - [x] Archive `zeit/now-client` and `zeit/now-builders` and make the README point to the new `zeit/now` - [x] Adjust all links across our system pointing to these repos https://github.com/zeit/docs/pull/1184 - [x] Cherry pick any missing PRs into `canary` [see example](https://stackoverflow.com/questions/42800902/git-generate-patch-for-all-commits-in-a-branch) #2884 #2880 #2883 #2885 #2881 - [x] Add GitHub Actions for publishing to npm #2891 - [x] Publish canary [16.1.3-canary.0](https://github.com/zeit/now/releases/tag/now%4016.1.3-canary.0) - [x] Update readme of `zeit/now` to ""The easiest way to deploy websites"" (fix title) #2886 - [x] Unify linting & autoformatting #2914 - [x] Update links to repos on https://zeit.co/oss documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file source-file documentation-file documentation-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file",no-bug,0.95
456,vercel,https://github.com/vercel/vercel/issues/456,Star plus negation on `.dockerignore` doesn't work as expected,"The negations doesn't seems to be working  only the `*` is being considered: `.dockerignore`:  * !lib !index.js !package.json   ~/tmp now --debug --docker > Deploying ~/dev/zeit/tmp > [debug] Forcing `deploymentType` = `docker` > No `name` LABEL in `Dockerfile`, using qr > [debug] ignoring ""~/dev/zeit/tmp/.dockerignore"" > [debug] ignoring ""~/dev/zeit/tmp/.git"" > [debug] ignoring ""~/dev/zeit/tmp/.gitignore"" > [debug] ignoring ""~/dev/zeit/tmp/Dockerfile"" > [debug] ignoring ""~/dev/zeit/tmp/Readme.md"" > [debug] ignoring ""~/dev/zeit/tmp/app.yaml"" > [debug] ignoring ""~/dev/zeit/tmp/lib/get.js"" > [debug] ignoring ""~/dev/zeit/tmp/lib/white-bg-logo-1200.png"" > [debug] locating files ~/dev/zeit/tmp: 21.093ms > [debug] Getting files: 29.172ms > [debug] Computing hashes: 2.401ms ^C ",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Star plus negation on `.dockerignore` doesn't work as expected The negations doesn't seems to be working  only the `*` is being considered: `.dockerignore`:  * !lib !index.js !package.json   ~/tmp now --debug --docker > Deploying ~/dev/zeit/tmp > [debug] Forcing `deploymentType` = `docker` > No `name` LABEL in `Dockerfile`, using qr > [debug] ignoring ""~/dev/zeit/tmp/.dockerignore"" > [debug] ignoring ""~/dev/zeit/tmp/.git"" > [debug] ignoring ""~/dev/zeit/tmp/.gitignore"" > [debug] ignoring ""~/dev/zeit/tmp/Dockerfile"" > [debug] ignoring ""~/dev/zeit/tmp/Readme.md"" > [debug] ignoring ""~/dev/zeit/tmp/app.yaml"" > [debug] ignoring ""~/dev/zeit/tmp/lib/get.js"" > [debug] ignoring ""~/dev/zeit/tmp/lib/white-bg-logo-1200.png"" > [debug] locating files ~/dev/zeit/tmp: 21.093ms > [debug] Getting files: 29.172ms > [debug] Computing hashes: 2.401ms ^C  source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
361,vercel,https://github.com/vercel/vercel/issues/361,Support for `now alias <domain.tld>`,"In cases where you can't have a configuration (like when running `now user/repo`), we still need a way for aliasing the latest deployment easily. In turn, this need to work: bash now && now alias domain.tld  And it should deploy + assign the alias ""domain.tld"" to that deployment.",source-file | source-file | source-file,"Support for `now alias <domain.tld>` In cases where you can't have a configuration (like when running `now user/repo`), we still need a way for aliasing the latest deployment easily. In turn, this need to work: bash now && now alias domain.tld  And it should deploy + assign the alias ""domain.tld"" to that deployment. source-file source-file source-file",no-bug,0.8
912,vercel,https://github.com/vercel/vercel/issues/912,now alias fails for AWS Route 53," > test.<MY_DOMAIN>.com is a custom domain. > Verifying the DNS settings for test.<MY_DOMAIN>.com (see https://zeit.world for help) > Error! Unknown error: Error: Verification required: Please add the following TXT record on the external DNS server: _now.<MY_DOMAIN>.com: eddcd0a153d9dda9fd92482150  The error message is clear, but how exactly do I configure the text record? Do I add it for the top-level domain or subdomain? Is the _now.<MY_DOMAIN>.com included in the text record?",source-file,"now alias fails for AWS Route 53  > test.<MY_DOMAIN>.com is a custom domain. > Verifying the DNS settings for test.<MY_DOMAIN>.com (see https://zeit.world for help) > Error! Unknown error: Error: Verification required: Please add the following TXT record on the external DNS server: _now.<MY_DOMAIN>.com: eddcd0a153d9dda9fd92482150  The error message is clear, but how exactly do I configure the text record? Do I add it for the top-level domain or subdomain? Is the _now.<MY_DOMAIN>.com included in the text record? source-file",no-bug,0.9
2063,vercel,https://github.com/vercel/vercel/issues/2063,`now dev` should install yarn into the builder cache,So that the user doesn't have to install it themselves. `node` itself shouldn't even be required to run `now dev` since it gets downloaded as well.,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,`now dev` should install yarn into the builder cache So that the user doesn't have to install it themselves. `node` itself shouldn't even be required to run `now dev` since it gets downloaded as well. source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.9
443,vercel,https://github.com/vercel/vercel/issues/443,Correctly show error message for node versions lower than 6,,source-file,Correctly show error message for node versions lower than 6  source-file,no-bug,0.7
930,vercel,https://github.com/vercel/vercel/issues/930,Cannot get external domain aliased,"I have problems getting my external domain `ilike.to` to work with Now and Zeit.World. What I've done so far: - Followed all steps in https://zeit.co/docs/features/aliases - Added and verified my domain using the TXT record  $ now domains ls > 1 domains found under sbstnmsch [840ms] domain dns verified created ilike.to external true 3d ago  - Pointed my domain (former hosted on checkdomain.de) to Zeit.World London, Frankfurt, California AND Singapore:  $ dig ns ilike.to ; <<>> DiG 9.8.3-P1 <<>> ns ilike.to ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 171 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 4 ;; QUESTION SECTION: ;ilike.to. IN NS ;; ANSWER SECTION: ilike.to. 6071 IN NS london.zeit.world. ilike.to. 6071 IN NS frankfurt.zeit.world. ilike.to. 6071 IN NS california.zeit.world. ;; ADDITIONAL SECTION: california.zeit.world. 2055 IN A 173.255.215.107 frankfurt.zeit.world. 2471 IN A 91.109.245.139 london.zeit.world. 59516 IN A 178.62.47.76 london.zeit.world. 59516 IN AAAA 2a03:b0c0:1:d0::db:e001 ;; Query time: 329 msec ;; SERVER: 10.144.0.1#53(10.144.0.1) ;; WHEN: Fri Oct 13 11:14:49 2017 ;; MSG SIZE rcvd: 182  - Here I see `Singapore.zeit.world` is missing completely?! - No authorities in `dig` answer - I did that 3 days ago and the domain has still not propagated globally - No A-Records https://www.whatsmydns.net/#A/ilike.to - Only ~50% NS-Records https://www.whatsmydns.net/#NS/ilike.to pointing to Zeit.World servers, others unknown - Asked the support of my former domain hoster and they said something seems misconfigured with Zeit.World - I tried aliasing my deployment to my external domain and get certificate errors:  $ now alias iliketo-cnzqtnxxjf.now.sh ilike.to > ilike.to is a custom domain. > Verifying the DNS settings for ilike.to (see https://zeit.world for help) > Verification OK! > Provisioning certificate for ilike.to > Error! Unknown error: Error: Invalid challenge response for ilike.to. Make sure the DNS records are correct. Error: Invalid challenge response for ilike.to. Make sure the DNS records are correct. at module.exports.EventEmitter.createCert.domain.retry (/snapshot/now-cli/dist/now.js:906:15) at process._tickCallback (internal/process/next_tick.js:109:7)  I googled around, found others with similar problems (#459 #566), though some of them resolved it by just waiting. I asked in the Slack-Channel #now - but no resolution so far. I think there is something wrong here.",source-file,"Cannot get external domain aliased I have problems getting my external domain `ilike.to` to work with Now and Zeit.World. What I've done so far: - Followed all steps in https://zeit.co/docs/features/aliases - Added and verified my domain using the TXT record  $ now domains ls > 1 domains found under sbstnmsch [840ms] domain dns verified created ilike.to external true 3d ago  - Pointed my domain (former hosted on checkdomain.de) to Zeit.World London, Frankfurt, California AND Singapore:  $ dig ns ilike.to ; <<>> DiG 9.8.3-P1 <<>> ns ilike.to ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 171 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 4 ;; QUESTION SECTION: ;ilike.to. IN NS ;; ANSWER SECTION: ilike.to. 6071 IN NS london.zeit.world. ilike.to. 6071 IN NS frankfurt.zeit.world. ilike.to. 6071 IN NS california.zeit.world. ;; ADDITIONAL SECTION: california.zeit.world. 2055 IN A 173.255.215.107 frankfurt.zeit.world. 2471 IN A 91.109.245.139 london.zeit.world. 59516 IN A 178.62.47.76 london.zeit.world. 59516 IN AAAA 2a03:b0c0:1:d0::db:e001 ;; Query time: 329 msec ;; SERVER: 10.144.0.1#53(10.144.0.1) ;; WHEN: Fri Oct 13 11:14:49 2017 ;; MSG SIZE rcvd: 182  - Here I see `Singapore.zeit.world` is missing completely?! - No authorities in `dig` answer - I did that 3 days ago and the domain has still not propagated globally - No A-Records https://www.whatsmydns.net/#A/ilike.to - Only ~50% NS-Records https://www.whatsmydns.net/#NS/ilike.to pointing to Zeit.World servers, others unknown - Asked the support of my former domain hoster and they said something seems misconfigured with Zeit.World - I tried aliasing my deployment to my external domain and get certificate errors:  $ now alias iliketo-cnzqtnxxjf.now.sh ilike.to > ilike.to is a custom domain. > Verifying the DNS settings for ilike.to (see https://zeit.world for help) > Verification OK! > Provisioning certificate for ilike.to > Error! Unknown error: Error: Invalid challenge response for ilike.to. Make sure the DNS records are correct. Error: Invalid challenge response for ilike.to. Make sure the DNS records are correct. at module.exports.EventEmitter.createCert.domain.retry (/snapshot/now-cli/dist/now.js:906:15) at process._tickCallback (internal/process/next_tick.js:109:7)  I googled around, found others with similar problems (#459 #566), though some of them resolved it by just waiting. I asked in the Slack-Channel #now - but no resolution so far. I think there is something wrong here. source-file",no-bug,0.9
7306,vercel,https://github.com/vercel/vercel/issues/7306,vc dev issues with node 17; unresponsive site and/or 502 on api routes (ipv4 / ipv6 issue),"**TL;DR;** The issue is caused by changes in DNS resolution order in node 17. The quickest short-term *workaround* is to remove `::1` from your `hosts` file (or otherwise change your system to resolve `localhost` to 127.0.0.1 before ::1), but watch this issue for a better solution. **Full Explanation** This issue affects `create-react-app` and presumably any other framework which defaults to `ipv4` and where `vc dev` waits for a port to become reachable. Node 17 has a potentially breaking change where [`--dns-result-order` now defaults to `verbatim`](https://github.com/nodejs/node/commit/1b2749ecbe) (instead of `ip4first`). Depending on system setup, this means `localhost` will now resolve to `::1` (ipv6) instead of `127.0.0.1` (ipv4). Since create-react-app [currently defaults to ipv4](https://github.com/facebook/create-react-app/issues/11302), what happens in this case is: 1. `create-react-app` still opens your browser to `localhost` (127.0.0.1) on some random port 2. Browser requests to e.g. `localhost:3000` hang (with little hint why on the console) 3. After 5m (i.e. 300s), `vc dev` fails with, e.g.  Error! Detecting port 33409 timed out after 300000ms  This is because `vc dev`, using `is-port-reachable`, is testing on `localhost` which in this case resolves to `::1`, while `create-react-app` is only listening on `127.0.0.1`, so it will never be reachable (for `vc dev`). The easiest workaround is to modify your system to resolve the `ipv4` address first, or, failing that, to remove `::1` from your `hosts` file. Obviously this is not a good long-term solution. You can force `create-react-app` to bind to an ipv6 with the `HOST` environment variable:  $ HOST=::1 vc dev  This allows the dev server to fully load and proxy requests to `create-react-app`, but API routes fail since the serverless funcs don't listen for them on `::1`, i.e.  Error! Failed to complete request to /api/serverless: Error: connect ECONNREFUSED ::1:35855  That's perhaps a different issue though :) If relevant, I'm currently on Vercel CLI 23.1.3-canary.72. A little surprised I'm the first one to report this, but maybe my system is unique :)",documentation-file | source-file | source-file | other-file,"vc dev issues with node 17; unresponsive site and/or 502 on api routes (ipv4 / ipv6 issue) **TL;DR;** The issue is caused by changes in DNS resolution order in node 17. The quickest short-term *workaround* is to remove `::1` from your `hosts` file (or otherwise change your system to resolve `localhost` to 127.0.0.1 before ::1), but watch this issue for a better solution. **Full Explanation** This issue affects `create-react-app` and presumably any other framework which defaults to `ipv4` and where `vc dev` waits for a port to become reachable. Node 17 has a potentially breaking change where [`--dns-result-order` now defaults to `verbatim`](https://github.com/nodejs/node/commit/1b2749ecbe) (instead of `ip4first`). Depending on system setup, this means `localhost` will now resolve to `::1` (ipv6) instead of `127.0.0.1` (ipv4). Since create-react-app [currently defaults to ipv4](https://github.com/facebook/create-react-app/issues/11302), what happens in this case is: 1. `create-react-app` still opens your browser to `localhost` (127.0.0.1) on some random port 2. Browser requests to e.g. `localhost:3000` hang (with little hint why on the console) 3. After 5m (i.e. 300s), `vc dev` fails with, e.g.  Error! Detecting port 33409 timed out after 300000ms  This is because `vc dev`, using `is-port-reachable`, is testing on `localhost` which in this case resolves to `::1`, while `create-react-app` is only listening on `127.0.0.1`, so it will never be reachable (for `vc dev`). The easiest workaround is to modify your system to resolve the `ipv4` address first, or, failing that, to remove `::1` from your `hosts` file. Obviously this is not a good long-term solution. You can force `create-react-app` to bind to an ipv6 with the `HOST` environment variable:  $ HOST=::1 vc dev  This allows the dev server to fully load and proxy requests to `create-react-app`, but API routes fail since the serverless funcs don't listen for them on `::1`, i.e.  Error! Failed to complete request to /api/serverless: Error: connect ECONNREFUSED ::1:35855  That's perhaps a different issue though :) If relevant, I'm currently on Vercel CLI 23.1.3-canary.72. A little surprised I'm the first one to report this, but maybe my system is unique :) documentation-file source-file source-file other-file",no-bug,0.9
545,vercel,https://github.com/vercel/vercel/issues/545,Cli not building project as specified in webpack config file,"OS: Windows 10 Pro now: 4.11.2 webpack: 1.14.0 npm: 3.10.10 yarn: 0.24.4 So, it appears that `now` is not building my project, based upon my package.json, as expected. My webpack.config.prod file, referenced in my package.json, dynamically builds an index.html, service_worker.json, and a cacheable bundle .js file. But what is actually happening is that the `now` process is picking up the static version of my index.html file, located in the root of my project:  <html> <head> <meta charset=""UTF-8""> <title>Flamingo City</title> <link rel=""shortcut icon"" type=""image/png"" href=""http://wes.io/ehRe/my-favourite-icon.png""/> </head> <body> <div id=""root""></div> <script type=""text/javascript"" src=""/static/bundle.js""></script> </body> </html>  The index.html file that should be pushed to my now directory is as follows:  <!DOCTYPE html> <html> <head> <meta charset=""utf-8""> <title>Flamingo City</title> <link rel=""shortcut icon"" type=""image/png"" href=""/images/my-favourite-icon.png""/> <link rel=""manifest"" href=""/manifest.json"" /> </head> <body> <div id=""root""></div> <script> /* Register Service Worker */ if('serviceWorker' in navigator) {  } </script> <script type=""text/javascript"" src=""/main-e10ebce4a00d76daf58c.js""></script></body> </html>  What is the issue here? My webpack.config.prod file is as follows:  var path = require('path'); var webpack = require('webpack'); var SWPrecacheWebpackPlugin = require('sw-precache-webpack-plugin'); const Dotenv = require('dotenv-webpack'); var HtmlWebpackPlugin = require('html-webpack-plugin'); module.exports = { devtool: 'source-map', context: __dirname, entry: { main: path.resolve(__dirname, './client/app'), }, output: { path: path.join(__dirname, '/public'), filename: '[name]-[hash].js', publicPath: '/' }, plugins: [ new webpack.optimize.OccurenceOrderPlugin(), new Dotenv({ path: './.env', // Path to .env file (this is the default) safe: true // load .env.example (defaults to ""false"" which does not use dotenv-safe) }), new webpack.DefinePlugin({ 'process.env': { 'NODE_ENV': ""'production'"" } }), new webpack.optimize.UglifyJsPlugin({ compressor: { warnings: false } }), new SWPrecacheWebpackPlugin( { cacheId: 'flamingoCity', filename: 'my-service-worker.js', staticFileGlobs: [ '/*.{js,html,css,js.map,json,png,jpg,gif,svg,eot,ttf,woff}', '/images/*.png', '/images/icons/*png', ], mergeStaticsConfig: true, stripPrefix: path.join(__dirname, 'public').replace(/\\/g,""/""), maximumFileSizeToCacheInBytes: 6194304, clientsClaim: true, minify: true, runtimeCaching: [{ handler: 'cacheFirst', urlPattern: '/', }], } ), new HtmlWebpackPlugin({ filename: 'index.html', template: './index_template.html' }) ], module: { loaders: [ // js { test: /\.js$/, loaders: ['babel'], include: path.join(__dirname, 'client') }, // CSS { test: /\.styl$/, include: path.join(__dirname, 'client'), loader: 'style-loader!css-loader!stylus-loader' } ] } };  and my package.json file is as follows:  { ""name"": ""learn-redux-graphql"", ""version"": ""1.0.0"", ""description"": "":) "", ""scripts"": { ""build:webpack"": ""set NODE_ENV=production && webpack --config webpack.config.prod.js"", ""build"": ""npm run clean && npm run build:webpack"", ""test"": ""NODE_ENV=production mocha './tests/**/*.spec.js' --compilers js:babel-core/register"", ""clean"": ""rimraf dist"", ""start"": ""node devServer.js"" }, ""repository"": { ""type"": ""git"", ""url"": ""https://github.com/TheoMer/learn-redux-graphql.git"" }, ""author"": ""Theo Mer"", ""license"": ""MIT"", ""homepage"": ""https://github.com/TheoMer/learn-redux-graphql"", ""dependencies"": { ""apollo-client"": ""^1.0.2"", ""babel-core"": ""^6.5.2"", ""babel-eslint"": ""^6.1.2"", ""babel-loader"": ""^6.2.3"", ""babel-plugin-react-transform"": ""^2.0.0"", ""babel-plugin-transform-object-rest-spread"": ""^6.5.0"", ""babel-plugin-transform-react-display-name"": ""^6.5.0"", ""babel-polyfill"": ""^6.5.0"", ""babel-preset-es2015"": ""^6.5.0"", ""babel-preset-react"": ""^6.5.0"", ""css-loader"": ""^0.23.1"", ""dotenv-webpack"": ""^1.4.5"", ""eslint"": ""^3.4.0"", ""eslint-plugin-babel"": ""^3.1.0"", ""eslint-plugin-react"": ""^4.1.0"", ""express"": ""^4.13.4"", ""firebase"": ""^3.3.0"", ""graphql-tag"": ""^1.3.2"", ""graphql-tools"": ""^0.10.1"", ""immutability-helper"": ""^2.1.2"", ""lodash"": ""^4.17.4"", ""node-env-file"": ""^0.1.8"", ""raven-js"": ""^2.1.1"", ""react"": ""^0.14.7"", ""react-addons-css-transition-group"": ""^0.14.7"", ""react-apollo"": ""^1.0.0-rc.3"", ""react-dom"": ""^0.14.7"", ""react-redux"": ""^4.4.0"", ""react-router"": ""^2.0.0"", ""react-router-redux"": ""^4.0.0"", ""react-transform-catch-errors"": ""^1.0.2"", ""react-transform-hmr"": ""^1.0.2"", ""redbox-react"": ""^1.2.2"", ""redux"": ""^3.3.1"", ""redux-thunk"": ""^2.0.1"", ""rimraf"": ""^2.5.2"", ""style-loader"": ""^0.13.0"", ""stylus"": ""^0.54.5"", ""stylus-loader"": ""^2.3.1"", ""subscriptions-transport-ws"": ""^0.5.5-alpha.0"", ""webpack"": ""^1.12.14"", ""webpack-dev-middleware"": ""^1.5.1"", ""webpack-hot-middleware"": ""^2.7.1"" }, ""devDependencies"": { ""babel-plugin-transform-react-jsx"": ""^6.23.0"", ""expect"": ""^1.14.0"", ""expect-jsx"": ""^2.3.0"", ""html-webpack-plugin"": ""^2.28.0"", ""mocha"": ""^2.4.5"", ""react-addons-test-utils"": ""^0.14.7"", ""sw-precache-webpack-plugin"": ""^0.9.1"" }, ""babel"": { ""presets"": [ ""react"", ""es2015"" ], ""env"": { ""development"": { ""plugins"": [ [ ""transform-object-rest-spread"" ], [ ""transform-react-display-name"" ], [ ""react-transform"", { ""transforms"": [ { ""transform"": ""react-transform-hmr"", ""imports"": [ ""react"" ], ""locals"": [ ""module"" ] }, { ""transform"": ""react-transform-catch-errors"", ""imports"": [ ""react"", ""redbox-react"" ] } ] } ] ] }, ""production"": { ""plugins"": [ [ ""transform-object-rest-spread"" ], [ ""transform-react-display-name"" ] ] } } }, ""eslintConfig"": { ""ecmaFeatures"": { ""jsx"": true, ""modules"": true }, ""env"": { ""browser"": true, ""node"": true }, ""parser"": ""babel-eslint"", ""rules"": { ""quotes"": [ 2, ""single"" ], ""strict"": [ 2, ""never"" ], ""babel/generator-star-spacing"": 1, ""babel/new-cap"": 1, ""babel/object-shorthand"": 1, ""babel/arrow-parens"": 1, ""babel/no-await-in-loop"": 1, ""react/jsx-uses-react"": 2, ""react/jsx-uses-vars"": 2, ""react/react-in-jsx-scope"": 2 }, ""plugins"": [ ""babel"", ""react"" ] } } ",source-file | test-file | test-file | test-file,"Cli not building project as specified in webpack config file OS: Windows 10 Pro now: 4.11.2 webpack: 1.14.0 npm: 3.10.10 yarn: 0.24.4 So, it appears that `now` is not building my project, based upon my package.json, as expected. My webpack.config.prod file, referenced in my package.json, dynamically builds an index.html, service_worker.json, and a cacheable bundle .js file. But what is actually happening is that the `now` process is picking up the static version of my index.html file, located in the root of my project:  <html> <head> <meta charset=""UTF-8""> <title>Flamingo City</title> <link rel=""shortcut icon"" type=""image/png"" href=""http://wes.io/ehRe/my-favourite-icon.png""/> </head> <body> <div id=""root""></div> <script type=""text/javascript"" src=""/static/bundle.js""></script> </body> </html>  The index.html file that should be pushed to my now directory is as follows:  <!DOCTYPE html> <html> <head> <meta charset=""utf-8""> <title>Flamingo City</title> <link rel=""shortcut icon"" type=""image/png"" href=""/images/my-favourite-icon.png""/> <link rel=""manifest"" href=""/manifest.json"" /> </head> <body> <div id=""root""></div> <script> /* Register Service Worker */ if('serviceWorker' in navigator) {  } </script> <script type=""text/javascript"" src=""/main-e10ebce4a00d76daf58c.js""></script></body> </html>  What is the issue here? My webpack.config.prod file is as follows:  var path = require('path'); var webpack = require('webpack'); var SWPrecacheWebpackPlugin = require('sw-precache-webpack-plugin'); const Dotenv = require('dotenv-webpack'); var HtmlWebpackPlugin = require('html-webpack-plugin'); module.exports = { devtool: 'source-map', context: __dirname, entry: { main: path.resolve(__dirname, './client/app'), }, output: { path: path.join(__dirname, '/public'), filename: '[name]-[hash].js', publicPath: '/' }, plugins: [ new webpack.optimize.OccurenceOrderPlugin(), new Dotenv({ path: './.env', // Path to .env file (this is the default) safe: true // load .env.example (defaults to ""false"" which does not use dotenv-safe) }), new webpack.DefinePlugin({ 'process.env': { 'NODE_ENV': ""'production'"" } }), new webpack.optimize.UglifyJsPlugin({ compressor: { warnings: false } }), new SWPrecacheWebpackPlugin( { cacheId: 'flamingoCity', filename: 'my-service-worker.js', staticFileGlobs: [ '/*.{js,html,css,js.map,json,png,jpg,gif,svg,eot,ttf,woff}', '/images/*.png', '/images/icons/*png', ], mergeStaticsConfig: true, stripPrefix: path.join(__dirname, 'public').replace(/\\/g,""/""), maximumFileSizeToCacheInBytes: 6194304, clientsClaim: true, minify: true, runtimeCaching: [{ handler: 'cacheFirst', urlPattern: '/', }], } ), new HtmlWebpackPlugin({ filename: 'index.html', template: './index_template.html' }) ], module: { loaders: [ // js { test: /\.js$/, loaders: ['babel'], include: path.join(__dirname, 'client') }, // CSS { test: /\.styl$/, include: path.join(__dirname, 'client'), loader: 'style-loader!css-loader!stylus-loader' } ] } };  and my package.json file is as follows:  { ""name"": ""learn-redux-graphql"", ""version"": ""1.0.0"", ""description"": "":) "", ""scripts"": { ""build:webpack"": ""set NODE_ENV=production && webpack --config webpack.config.prod.js"", ""build"": ""npm run clean && npm run build:webpack"", ""test"": ""NODE_ENV=production mocha './tests/**/*.spec.js' --compilers js:babel-core/register"", ""clean"": ""rimraf dist"", ""start"": ""node devServer.js"" }, ""repository"": { ""type"": ""git"", ""url"": ""https://github.com/TheoMer/learn-redux-graphql.git"" }, ""author"": ""Theo Mer"", ""license"": ""MIT"", ""homepage"": ""https://github.com/TheoMer/learn-redux-graphql"", ""dependencies"": { ""apollo-client"": ""^1.0.2"", ""babel-core"": ""^6.5.2"", ""babel-eslint"": ""^6.1.2"", ""babel-loader"": ""^6.2.3"", ""babel-plugin-react-transform"": ""^2.0.0"", ""babel-plugin-transform-object-rest-spread"": ""^6.5.0"", ""babel-plugin-transform-react-display-name"": ""^6.5.0"", ""babel-polyfill"": ""^6.5.0"", ""babel-preset-es2015"": ""^6.5.0"", ""babel-preset-react"": ""^6.5.0"", ""css-loader"": ""^0.23.1"", ""dotenv-webpack"": ""^1.4.5"", ""eslint"": ""^3.4.0"", ""eslint-plugin-babel"": ""^3.1.0"", ""eslint-plugin-react"": ""^4.1.0"", ""express"": ""^4.13.4"", ""firebase"": ""^3.3.0"", ""graphql-tag"": ""^1.3.2"", ""graphql-tools"": ""^0.10.1"", ""immutability-helper"": ""^2.1.2"", ""lodash"": ""^4.17.4"", ""node-env-file"": ""^0.1.8"", ""raven-js"": ""^2.1.1"", ""react"": ""^0.14.7"", ""react-addons-css-transition-group"": ""^0.14.7"", ""react-apollo"": ""^1.0.0-rc.3"", ""react-dom"": ""^0.14.7"", ""react-redux"": ""^4.4.0"", ""react-router"": ""^2.0.0"", ""react-router-redux"": ""^4.0.0"", ""react-transform-catch-errors"": ""^1.0.2"", ""react-transform-hmr"": ""^1.0.2"", ""redbox-react"": ""^1.2.2"", ""redux"": ""^3.3.1"", ""redux-thunk"": ""^2.0.1"", ""rimraf"": ""^2.5.2"", ""style-loader"": ""^0.13.0"", ""stylus"": ""^0.54.5"", ""stylus-loader"": ""^2.3.1"", ""subscriptions-transport-ws"": ""^0.5.5-alpha.0"", ""webpack"": ""^1.12.14"", ""webpack-dev-middleware"": ""^1.5.1"", ""webpack-hot-middleware"": ""^2.7.1"" }, ""devDependencies"": { ""babel-plugin-transform-react-jsx"": ""^6.23.0"", ""expect"": ""^1.14.0"", ""expect-jsx"": ""^2.3.0"", ""html-webpack-plugin"": ""^2.28.0"", ""mocha"": ""^2.4.5"", ""react-addons-test-utils"": ""^0.14.7"", ""sw-precache-webpack-plugin"": ""^0.9.1"" }, ""babel"": { ""presets"": [ ""react"", ""es2015"" ], ""env"": { ""development"": { ""plugins"": [ [ ""transform-object-rest-spread"" ], [ ""transform-react-display-name"" ], [ ""react-transform"", { ""transforms"": [ { ""transform"": ""react-transform-hmr"", ""imports"": [ ""react"" ], ""locals"": [ ""module"" ] }, { ""transform"": ""react-transform-catch-errors"", ""imports"": [ ""react"", ""redbox-react"" ] } ] } ] ] }, ""production"": { ""plugins"": [ [ ""transform-object-rest-spread"" ], [ ""transform-react-display-name"" ] ] } } }, ""eslintConfig"": { ""ecmaFeatures"": { ""jsx"": true, ""modules"": true }, ""env"": { ""browser"": true, ""node"": true }, ""parser"": ""babel-eslint"", ""rules"": { ""quotes"": [ 2, ""single"" ], ""strict"": [ 2, ""never"" ], ""babel/generator-star-spacing"": 1, ""babel/new-cap"": 1, ""babel/object-shorthand"": 1, ""babel/arrow-parens"": 1, ""babel/no-await-in-loop"": 1, ""react/jsx-uses-react"": 2, ""react/jsx-uses-vars"": 2, ""react/react-in-jsx-scope"": 2 }, ""plugins"": [ ""babel"", ""react"" ] } }  source-file test-file test-file test-file",no-bug,0.95
267,vercel,https://github.com/vercel/vercel/issues/267,!@localhost: event not found when adding secrets with special characters like !@,"I am executing this command bash $ now secrets add mongo-url ""mongodb://user:pass!@localhost:27017/pin?authSource=admin""  And the output is bash -bash: !@localhost: event not found  I am also unable to set secrets with `!`, the `!` is being replaced with empty string so for example: bash $ now secrets add mongo-pass ""pass!""  The value of `mongo-pass` is saved as only `pass` however if I remove the quotes then the value is the expected `pass!`",source-file,"!@localhost: event not found when adding secrets with special characters like !@ I am executing this command bash $ now secrets add mongo-url ""mongodb://user:pass!@localhost:27017/pin?authSource=admin""  And the output is bash -bash: !@localhost: event not found  I am also unable to set secrets with `!`, the `!` is being replaced with empty string so for example: bash $ now secrets add mongo-pass ""pass!""  The value of `mongo-pass` is saved as only `pass` however if I remove the quotes then the value is the expected `pass!` source-file",no-bug,0.9
418,vercel,https://github.com/vercel/vercel/issues/418,Error when deploying meteor,  [METEOR-NOW] - building meteor app (this can take several minutes)Possibly unhandled Error: 1 at Promise$_rejecter (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:590:44) at /usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/index.js:85:13 at tryCatch1 (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/util.js:63:19) at Promise$_callHandler [as _callHandler] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:695:13) at Promise$_settlePromiseFromHandler [as _settlePromiseFromHandler] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:711:18) at Promise$_settlePromiseAt [as _settlePromiseAt] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:868:14) at Promise$_settlePromises [as _settlePromises] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:1006:14) at Promise$_rejectPromises [as _rejectPromises] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:999:10) at Async$_consumeFunctionBuffer [as _consumeFunctionBuffer] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/async.js:74:12) at Async$consumeFunctionBuffer (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/async.js:37:14)  Does anyone know what could be the problem?,source-file | documentation-file | other-file,Error when deploying meteor   [METEOR-NOW] - building meteor app (this can take several minutes)Possibly unhandled Error: 1 at Promise$_rejecter (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:590:44) at /usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/index.js:85:13 at tryCatch1 (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/util.js:63:19) at Promise$_callHandler [as _callHandler] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:695:13) at Promise$_settlePromiseFromHandler [as _settlePromiseFromHandler] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:711:18) at Promise$_settlePromiseAt [as _settlePromiseAt] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:868:14) at Promise$_settlePromises [as _settlePromises] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:1006:14) at Promise$_rejectPromises [as _rejectPromises] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/promise.js:999:10) at Async$_consumeFunctionBuffer [as _consumeFunctionBuffer] (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/async.js:74:12) at Async$consumeFunctionBuffer (/usr/local/lib/node_modules/meteor-now/node_modules/promise-spawner/node_modules/bluebird/js/main/async.js:37:14)  Does anyone know what could be the problem? source-file documentation-file other-file,no-bug,0.9
3491,vercel,https://github.com/vercel/vercel/issues/3491,"Custom 404 page - ""cannot mix legacy routes with new keys""","Trying to set a custom 404 page as shown [here ](https://khrome.dev/blog/custom-404-pages-on-zeit-now-v2-platform) and [here](https://spectrum.chat/zeit/now/custom-404-page~1f921045-60d9-477b-b23c-1626c9fa1565), getting this: > Deployment failed with the following error: >  > Cannot mix legacy routes with new keys: >  I'm using Hugo static generator, and here's the 404 routing part in my `now.json`  ""routes"": [{ ""src"": ""/.*"", ""dest"": ""/$1"" }, { ""handle"": ""filesystem"" }, { ""src"": ""/.*"", ""status"": 404, ""dest"": ""/404"" }  I also tried:  }, { ""src"": ""/(.*)"",   I've looked around for other examples, maybe missing a difference between now v1/2? Thanks in advance",source-file | test-file | source-file | source-file | test-file,"Custom 404 page - ""cannot mix legacy routes with new keys"" Trying to set a custom 404 page as shown [here ](https://khrome.dev/blog/custom-404-pages-on-zeit-now-v2-platform) and [here](https://spectrum.chat/zeit/now/custom-404-page~1f921045-60d9-477b-b23c-1626c9fa1565), getting this: > Deployment failed with the following error: >  > Cannot mix legacy routes with new keys: >  I'm using Hugo static generator, and here's the 404 routing part in my `now.json`  ""routes"": [{ ""src"": ""/.*"", ""dest"": ""/$1"" }, { ""handle"": ""filesystem"" }, { ""src"": ""/.*"", ""status"": 404, ""dest"": ""/404"" }  I also tried:  }, { ""src"": ""/(.*)"",   I've looked around for other examples, maybe missing a difference between now v1/2? Thanks in advance source-file test-file source-file source-file test-file",no-bug,0.9
1950,vercel,https://github.com/vercel/vercel/issues/1950,Check the maxLambdaSize,`now-dev` currently does not check for `maxLambdaSize`,source-file | source-file | config-file | source-file | source-file | config-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | config-file | source-file | source-file | config-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file,Check the maxLambdaSize `now-dev` currently does not check for `maxLambdaSize` source-file source-file config-file source-file source-file config-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file config-file source-file source-file config-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file,no-bug,0.8
615,vercel,https://github.com/vercel/vercel/issues/615,Periodic failures install now-cli on TravisCI running Node 6,"During the`postinstall` script, the `latest.assets` is `undefined` which breaks builds. I have tried both installing `now` as a `devDependency` in my `package.json` as well as just installing globally through a `preinstall` hook in my `.travis.yml` file. Periodically (1 in every 3-4 invocations) the build will pass without issue. Otherwise I get the output below:  now@6.2.5 postinstall /home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now > node download/install.js > Retrieving the latest CLI version TypeError: Cannot read property 'find' of undefined at _callee$ (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:4771:34) at tryCatch (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:14364:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:14599:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:14416:21) at step (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:5003:30) at /home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:5014:13 at process._tickCallback (internal/process/next_tick.js:109:7) npm ERR! Linux 4.8.12-040812-generic npm ERR! argv ""/home/travis/.nvm/versions/node/v6.10.3/bin/node"" ""/home/travis/.nvm/versions/node/v6.10.3/bin/npm"" ""install"" ""-g"" ""now"" npm ERR! node v6.10.3 npm ERR! npm v3.10.10 npm ERR! code ELIFECYCLE ",source-file | test-file,"Periodic failures install now-cli on TravisCI running Node 6 During the`postinstall` script, the `latest.assets` is `undefined` which breaks builds. I have tried both installing `now` as a `devDependency` in my `package.json` as well as just installing globally through a `preinstall` hook in my `.travis.yml` file. Periodically (1 in every 3-4 invocations) the build will pass without issue. Otherwise I get the output below:  now@6.2.5 postinstall /home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now > node download/install.js > Retrieving the latest CLI version TypeError: Cannot read property 'find' of undefined at _callee$ (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:4771:34) at tryCatch (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:14364:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:14599:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:14416:21) at step (/home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:5003:30) at /home/travis/.nvm/versions/node/v6.10.3/lib/node_modules/now/download/dist/download.js:5014:13 at process._tickCallback (internal/process/next_tick.js:109:7) npm ERR! Linux 4.8.12-040812-generic npm ERR! argv ""/home/travis/.nvm/versions/node/v6.10.3/bin/node"" ""/home/travis/.nvm/versions/node/v6.10.3/bin/npm"" ""install"" ""-g"" ""now"" npm ERR! node v6.10.3 npm ERR! npm v3.10.10 npm ERR! code ELIFECYCLE  source-file test-file",no-bug,0.9
3334,vercel,https://github.com/vercel/vercel/issues/3334,"[now-cli] TypeError [ERR_INVALID_CHAR]: Invalid character in header content [""authorization""]","Sentry Issue: [NOW-CLI-5KR](https://sentry.io/organizations/zeithq/issues/1318322919/?referrer=github_integration)  TypeError [ERR_INVALID_CHAR]: Invalid character in header content [""authorization""] ?, in new Promise  (5 additional frame(s) were not displayed) ",documentation-file | source-file | documentation-file | source-file | test-file,"[now-cli] TypeError [ERR_INVALID_CHAR]: Invalid character in header content [""authorization""] Sentry Issue: [NOW-CLI-5KR](https://sentry.io/organizations/zeithq/issues/1318322919/?referrer=github_integration)  TypeError [ERR_INVALID_CHAR]: Invalid character in header content [""authorization""] ?, in new Promise  (5 additional frame(s) were not displayed)  documentation-file source-file documentation-file source-file test-file",no-bug,0.8
613,vercel,https://github.com/vercel/vercel/issues/613,Windows: Doesn't work because of .bin executable issue," Environment * **OS**: Windows 7/10 * **Node**: 8 * **now**: latest * **CLI**: git for windows (2.13)  Steps  Install `npm install now`  Run sh ./node_modules/.bin/now -v   Error sh ./node_modules/.bin/now: line 1: /../now/download/dist/now: No such file or directory   Findings  Current: node_modules/.bin/now sh ""$basedir/../now/download/dist/now"" ""$@"" exit $?   Expected: node_modules/.bin/now sh #!/bin/sh basedir=$(dirname ""$(echo ""$0"" | sed -e 's,\\,/,g')"") case `uname` in *CYGWIN*) basedir=`cygpath -w ""$basedir""`;; esac if [ -x ""$basedir/node"" ]; then ""$basedir/node"" ""$basedir/../now/download/dist/now"" ""$@"" ret=$? else node ""$basedir/../now/download/dist/now"" ""$@"" ret=$? fi exit $ret  **Note: By making this change it fixes the issue**  ESLint example I used ESLint generated code and replaced the file paths. sh #!/bin/sh basedir=$(dirname ""$(echo ""$0"" | sed -e 's,\\,/,g')"") case `uname` in *CYGWIN*) basedir=`cygpath -w ""$basedir""`;; esac if [ -x ""$basedir/node"" ]; then ""$basedir/node"" ""$basedir/../eslint/bin/eslint.js"" ""$@"" ret=$? else node ""$basedir/../eslint/bin/eslint.js"" ""$@"" ret=$? fi exit $ret   Notes/Questions * Really not sure why this is happening, maybe how its packaged? * We at `ESLint` doesn't do anything special and all this is generated by npm install process. * Sorry if this is duplicate. I did try searching :smile: .",source-file | source-file | source-file,"Windows: Doesn't work because of .bin executable issue  Environment * **OS**: Windows 7/10 * **Node**: 8 * **now**: latest * **CLI**: git for windows (2.13)  Steps  Install `npm install now`  Run sh ./node_modules/.bin/now -v   Error sh ./node_modules/.bin/now: line 1: /../now/download/dist/now: No such file or directory   Findings  Current: node_modules/.bin/now sh ""$basedir/../now/download/dist/now"" ""$@"" exit $?   Expected: node_modules/.bin/now sh #!/bin/sh basedir=$(dirname ""$(echo ""$0"" | sed -e 's,\\,/,g')"") case `uname` in *CYGWIN*) basedir=`cygpath -w ""$basedir""`;; esac if [ -x ""$basedir/node"" ]; then ""$basedir/node"" ""$basedir/../now/download/dist/now"" ""$@"" ret=$? else node ""$basedir/../now/download/dist/now"" ""$@"" ret=$? fi exit $ret  **Note: By making this change it fixes the issue**  ESLint example I used ESLint generated code and replaced the file paths. sh #!/bin/sh basedir=$(dirname ""$(echo ""$0"" | sed -e 's,\\,/,g')"") case `uname` in *CYGWIN*) basedir=`cygpath -w ""$basedir""`;; esac if [ -x ""$basedir/node"" ]; then ""$basedir/node"" ""$basedir/../eslint/bin/eslint.js"" ""$@"" ret=$? else node ""$basedir/../eslint/bin/eslint.js"" ""$@"" ret=$? fi exit $ret   Notes/Questions * Really not sure why this is happening, maybe how its packaged? * We at `ESLint` doesn't do anything special and all this is generated by npm install process. * Sorry if this is duplicate. I did try searching :smile: . source-file source-file source-file",no-bug,0.9
661,vercel,https://github.com/vercel/vercel/issues/661,Add NOW_ACTUAL_URL environment variable,"In the documentation it says: > **Default Env Variables** > By default, all deployments expose these environent variables: > - [] > - `NOW_URL`: Contains the unique URL of your deployment. **Even if you deployment was aliased, this variable will always contain the URL with the .now.sh suffix.** I have a use case where I need to allow cookies on subdomains. The way to do that is to set the `Set-Cookie` header to `.domain.com`. If that isn't set, the browser assumes you mean to set it for the current domain. The default behaviour works great, because that means I don't have to change anything and cookies will work for the `domain-asdfwett123sf.now.sh` URL and `domain.com` when I alias it, meaning I can test my deployment before I alias it. The issue is that **when `Set-Cookie` isn't set the cookies don't work for subdomains like `bla.domain.com`, and when I set it to `.domain.com` it doesn't work for the `.now.sh` URL.** In my code I basically want to do something like this: JS cookie: { domain: IS_PROD && `.${process.env.NOW_URL}` }  Except I need `process.env.NOW_URL` points to the aliased domain when there is one. Is there any chance you could support something like `process.env.NOW_ACTUAL_URL` or similar to allow me to do this?",source-file,"Add NOW_ACTUAL_URL environment variable In the documentation it says: > **Default Env Variables** > By default, all deployments expose these environent variables: > - [] > - `NOW_URL`: Contains the unique URL of your deployment. **Even if you deployment was aliased, this variable will always contain the URL with the .now.sh suffix.** I have a use case where I need to allow cookies on subdomains. The way to do that is to set the `Set-Cookie` header to `.domain.com`. If that isn't set, the browser assumes you mean to set it for the current domain. The default behaviour works great, because that means I don't have to change anything and cookies will work for the `domain-asdfwett123sf.now.sh` URL and `domain.com` when I alias it, meaning I can test my deployment before I alias it. The issue is that **when `Set-Cookie` isn't set the cookies don't work for subdomains like `bla.domain.com`, and when I set it to `.domain.com` it doesn't work for the `.now.sh` URL.** In my code I basically want to do something like this: JS cookie: { domain: IS_PROD && `.${process.env.NOW_URL}` }  Except I need `process.env.NOW_URL` points to the aliased domain when there is one. Is there any chance you could support something like `process.env.NOW_ACTUAL_URL` or similar to allow me to do this? source-file",no-bug,0.9
475,vercel,https://github.com/vercel/vercel/issues/475,now ls error if no deployments exists,`now ls` with no deployments on that team  Error! Unknown error: TypeError: Cannot read property 'deploymentId' of undefined TypeError: Cannot read property 'deploymentId' of undefined at /usr/local/lib/node_modules/now/build/bin/now-list.js:117:48 at Generator.next (<anonymous>) at c (/usr/local/lib/node_modules/now/build/bin/now-list.js:254:99) at process._tickCallback (internal/process/next_tick.js:109:7)  now version 5.0.0,source-file,now ls error if no deployments exists `now ls` with no deployments on that team  Error! Unknown error: TypeError: Cannot read property 'deploymentId' of undefined TypeError: Cannot read property 'deploymentId' of undefined at /usr/local/lib/node_modules/now/build/bin/now-list.js:117:48 at Generator.next (<anonymous>) at c (/usr/local/lib/node_modules/now/build/bin/now-list.js:254:99) at process._tickCallback (internal/process/next_tick.js:109:7)  now version 5.0.0 source-file,no-bug,0.9
598,vercel,https://github.com/vercel/vercel/issues/598,Throw an error when run in a removed directory,,source-file | test-file,Throw an error when run in a removed directory  source-file test-file,no-bug,0.9
7951,vercel,https://github.com/vercel/vercel/issues/7951,Cannot find module '@vercel/build-utils' or its corresponding type declarations.," System Info - yarn: `1.22.17` - pnpm: `7.1.6` - npm: `8.1.2` All three had the same issue.  Dependencies - `""@types/node"": ""^17.0.42""` - `""@vercel/node"": ""^2.1.0""` - `""typescript"": ""^4.7.3""`  Error  node_modules/.pnpm/@vercel+node@2.1.0/node_modules/@vercel/node/dist/index.d.ts:1:29 - error TS2307: Cannot find module '@vercel/build-utils' or its corresponding type declarations. 1 import { shouldServe } from '@vercel/build-utils'; node_modules/.pnpm/@vercel+node@2.1.0/node_modules/@vercel/node/dist/index.d.ts:2:60 - error TS2307: Cannot find module '@vercel/build-utils' or its corresponding type declarations. 2 import type { BuildV3, PrepareCache, StartDevServer } from '@vercel/build-utils';  ## Reproduction js import type { VercelRequest, VercelResponse } from '@vercel/node'; import type { Readable } from 'node:stream'; export const config = { api: { bodyParser: false, }, }; async function buffer(readable: Readable) { const chunks = []; for await (const chunk of readable) { chunks.push(typeof chunk  'string' ? Buffer.from(chunk) : chunk); } return Buffer.concat(chunks); } export default async function (req: VercelRequest, res: VercelResponse) { if (req.method  'POST') { const buf = await buffer(req); const rawBody = buf.toString('utf8'); res.json({ rawBody }); } else { res.setHeader('Allow', 'POST'); res.status(405).end('Method Not Allowed'); } } ",documentation-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | source-file | source-file | source-file | documentation-file | source-file | other-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | source-file | other-file,"Cannot find module '@vercel/build-utils' or its corresponding type declarations.  System Info - yarn: `1.22.17` - pnpm: `7.1.6` - npm: `8.1.2` All three had the same issue.  Dependencies - `""@types/node"": ""^17.0.42""` - `""@vercel/node"": ""^2.1.0""` - `""typescript"": ""^4.7.3""`  Error  node_modules/.pnpm/@vercel+node@2.1.0/node_modules/@vercel/node/dist/index.d.ts:1:29 - error TS2307: Cannot find module '@vercel/build-utils' or its corresponding type declarations. 1 import { shouldServe } from '@vercel/build-utils'; node_modules/.pnpm/@vercel+node@2.1.0/node_modules/@vercel/node/dist/index.d.ts:2:60 - error TS2307: Cannot find module '@vercel/build-utils' or its corresponding type declarations. 2 import type { BuildV3, PrepareCache, StartDevServer } from '@vercel/build-utils';  ## Reproduction js import type { VercelRequest, VercelResponse } from '@vercel/node'; import type { Readable } from 'node:stream'; export const config = { api: { bodyParser: false, }, }; async function buffer(readable: Readable) { const chunks = []; for await (const chunk of readable) { chunks.push(typeof chunk  'string' ? Buffer.from(chunk) : chunk); } return Buffer.concat(chunks); } export default async function (req: VercelRequest, res: VercelResponse) { if (req.method  'POST') { const buf = await buffer(req); const rawBody = buf.toString('utf8'); res.json({ rawBody }); } else { res.setHeader('Allow', 'POST'); res.status(405).end('Method Not Allowed'); } }  documentation-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file source-file source-file source-file documentation-file source-file other-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file source-file other-file",no-bug,0.95
217,vercel,https://github.com/vercel/vercel/issues/217,now ls does not list all deployments,`now ls` without additional args does not list all deployments:  now ls  compliments XXX https://compliments-XXX.now.sh 41d ago  whereas with the respective package name it is complete:  now ls compliments > 5 deployments found [936ms] compliments XXX https://compliments-xxxrcdds.now.sh 26s ago XXX https://compliments-xxxsnidwqh.now.sh 51m ago XXX https://compliments-xxxxpvfgof.now.sh 52m ago XXX https://compliments-xxxyuapbxn.now.sh 57m ago XXX https://compliments-xxxnxidbxz.now.sh 41d ago   now --version now 2.0.3 ,source-file,now ls does not list all deployments `now ls` without additional args does not list all deployments:  now ls  compliments XXX https://compliments-XXX.now.sh 41d ago  whereas with the respective package name it is complete:  now ls compliments > 5 deployments found [936ms] compliments XXX https://compliments-xxxrcdds.now.sh 26s ago XXX https://compliments-xxxsnidwqh.now.sh 51m ago XXX https://compliments-xxxxpvfgof.now.sh 52m ago XXX https://compliments-xxxyuapbxn.now.sh 57m ago XXX https://compliments-xxxnxidbxz.now.sh 41d ago   now --version now 2.0.3  source-file,no-bug,0.8
480,vercel,https://github.com/vercel/vercel/issues/480,Cannot read property 'state' of undefined,"User report from community:  > Enter your billing address  Country Finland  ZIP 00100TypeError: Cannot read property 'state' of undefined at /thebox/Users/leo/Projects/now-cli/build/bin/now-billing-add.js:159:28 at Generator.next (<anonymous>) at c (/thebox/Users/leo/Projects/now-cli/build/bin/now-billing-add.js:208:99) at process._tickCallback (internal/process/next_tick.js:103:7)  ZIP 00100 Not sure if this still applies, needs to be tested.",other-file,"Cannot read property 'state' of undefined User report from community:  > Enter your billing address  Country Finland  ZIP 00100TypeError: Cannot read property 'state' of undefined at /thebox/Users/leo/Projects/now-cli/build/bin/now-billing-add.js:159:28 at Generator.next (<anonymous>) at c (/thebox/Users/leo/Projects/now-cli/build/bin/now-billing-add.js:208:99) at process._tickCallback (internal/process/next_tick.js:103:7)  ZIP 00100 Not sure if this still applies, needs to be tested. other-file",no-bug,0.8
760,vercel,https://github.com/vercel/vercel/issues/760,`now help` no longer lists available subcommands,"_From @darknoon on August 24, 2017 22:47_ I find the beta version significantly harder to use, b/c I can't see what the available subcommands are like `ls`, etc, especially since they might vary among providers (aws, sh, )  Old:  / $ now help now [options] <command | path> Commands: Cloud deploy [path] Performs a deployment (default) ls | list [app] List deployments rm | remove [id] Remove a deployment ln | alias [id] [url] Configures aliases for deployments domains [name] Manages your domain names certs [cmd] Manages your SSL certificates secrets [name] Manages your secret environment variables dns [name] Manages your DNS records logs [url] Displays the logs for a deployment scale [args] Scales the instance count of a deployment help [cmd] Displays complete help for [cmd] Administrative billing | cc [cmd] Manages your credit cards and billing methods upgrade | downgrade [plan] Upgrades or downgrades your plan teams [team] Manages your teams switch Switches between teams and your account login Login into your account or creates a new one logout Logout from your account Options: -h, --help Output usage information -v, --version Output the version number -n, --name Set the name of the deployment -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -f, --force Force a new deployment even if nothing has changed -t TOKEN, --token=TOKEN Login token -L, --login Configure login -l, --links Copy symlinks without resolving their target -p, --public Deployment is public (`/_src` is exposed) [on for oss, off for premium] -e, --env Include an env var (e.g.: `-e KEY=value`). Can appear many times. -E FILE, --dotenv=FILE Include env vars from .env file. Defaults to '.env' -C, --no-clipboard Do not attempt to copy URL to clipboard -N, --forward-npm Forward login information to install private npm modules --session-affinity Session affinity, `ip` (default) or `random` to control session affinity. Enforcable Types (when both package.json and Dockerfile exist): --npm Node.js application --docker Docker container --static Static file hosting Examples:  Deploys the current directory $ now  Deploys a custom path `/usr/src/project` $ now /usr/src/project  Deploys a GitHub repository $ now user/repo#ref  Deploys a GitHub, GitLab or Bitbucket repo using its URL $ now https://gitlab.com/user/repo  Deploys with ENV vars $ now -e NODE_ENV=production -e MYSQL_PASSWORD=@mysql-password  Displays comprehensive help for the subcommand `list` $ now help list   New:  $ ../node_modules/.bin/now help Now: universal serverless deployments. To deploy, run in any directory of your choosing: `now` The deployment backend provider is fully configurable. The following are supported: - sh now.sh - aws AWS Lambda - gcp Google Cloud Platform For example, to setup AWS Lambda functions run: `now aws login` Some useful subcommands: - `now ls` - `now rm` - `now alias` To read more in-depth documentation, run: `now [provider] [subcommand] help` For more information: https://github.com/zeit/now.  _Copied from original issue: zeit/now#58_",source-file | test-file | test-file | test-file | test-file,"`now help` no longer lists available subcommands _From @darknoon on August 24, 2017 22:47_ I find the beta version significantly harder to use, b/c I can't see what the available subcommands are like `ls`, etc, especially since they might vary among providers (aws, sh, )  Old:  / $ now help now [options] <command | path> Commands: Cloud deploy [path] Performs a deployment (default) ls | list [app] List deployments rm | remove [id] Remove a deployment ln | alias [id] [url] Configures aliases for deployments domains [name] Manages your domain names certs [cmd] Manages your SSL certificates secrets [name] Manages your secret environment variables dns [name] Manages your DNS records logs [url] Displays the logs for a deployment scale [args] Scales the instance count of a deployment help [cmd] Displays complete help for [cmd] Administrative billing | cc [cmd] Manages your credit cards and billing methods upgrade | downgrade [plan] Upgrades or downgrades your plan teams [team] Manages your teams switch Switches between teams and your account login Login into your account or creates a new one logout Logout from your account Options: -h, --help Output usage information -v, --version Output the version number -n, --name Set the name of the deployment -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -f, --force Force a new deployment even if nothing has changed -t TOKEN, --token=TOKEN Login token -L, --login Configure login -l, --links Copy symlinks without resolving their target -p, --public Deployment is public (`/_src` is exposed) [on for oss, off for premium] -e, --env Include an env var (e.g.: `-e KEY=value`). Can appear many times. -E FILE, --dotenv=FILE Include env vars from .env file. Defaults to '.env' -C, --no-clipboard Do not attempt to copy URL to clipboard -N, --forward-npm Forward login information to install private npm modules --session-affinity Session affinity, `ip` (default) or `random` to control session affinity. Enforcable Types (when both package.json and Dockerfile exist): --npm Node.js application --docker Docker container --static Static file hosting Examples:  Deploys the current directory $ now  Deploys a custom path `/usr/src/project` $ now /usr/src/project  Deploys a GitHub repository $ now user/repo#ref  Deploys a GitHub, GitLab or Bitbucket repo using its URL $ now https://gitlab.com/user/repo  Deploys with ENV vars $ now -e NODE_ENV=production -e MYSQL_PASSWORD=@mysql-password  Displays comprehensive help for the subcommand `list` $ now help list   New:  $ ../node_modules/.bin/now help Now: universal serverless deployments. To deploy, run in any directory of your choosing: `now` The deployment backend provider is fully configurable. The following are supported: - sh now.sh - aws AWS Lambda - gcp Google Cloud Platform For example, to setup AWS Lambda functions run: `now aws login` Some useful subcommands: - `now ls` - `now rm` - `now alias` To read more in-depth documentation, run: `now [provider] [subcommand] help` For more information: https://github.com/zeit/now.  _Copied from original issue: zeit/now#58_ source-file test-file test-file test-file test-file",no-bug,0.9
11905,vercel,https://github.com/vercel/vercel/issues/11905,[WARNING:CLI] The `punycode` module is deprecated,"The problem is when running vercel from the terminal: ![Captura de pantalla 2024-07-26 a la(s) 5 07 54 p m](https://github.com/user-attachments/assets/f10d1680-1bdf-4a78-8525-34307fd15d93) Looking at the [Node.js documentation](https://nodejs.org/api/punycode.html), it is already documented that said dependency (Punycode) is deprecated. This **warning** was also reported when running the [serve command](https://github.com/vercel/serve/issues/802). My versions: `Node v22.5.1` `Vercel v35.2.1`",documentation-file | config-file | documentation-file | other-file | source-file | source-file | source-file | documentation-file,"[WARNING:CLI] The `punycode` module is deprecated The problem is when running vercel from the terminal: ![Captura de pantalla 2024-07-26 a la(s) 5 07 54 p m](https://github.com/user-attachments/assets/f10d1680-1bdf-4a78-8525-34307fd15d93) Looking at the [Node.js documentation](https://nodejs.org/api/punycode.html), it is already documented that said dependency (Punycode) is deprecated. This **warning** was also reported when running the [serve command](https://github.com/vercel/serve/issues/802). My versions: `Node v22.5.1` `Vercel v35.2.1` documentation-file config-file documentation-file other-file source-file source-file source-file documentation-file",no-bug,0.9
904,vercel,https://github.com/vercel/vercel/issues/904,Remove usages of `backend`,"We're deprecating the existence of `backend`, so its usages should be removed and replaced if necessary.",source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Remove usages of `backend` We're deprecating the existence of `backend`, so its usages should be removed and replaced if necessary. source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.7
367,vercel,https://github.com/vercel/vercel/issues/367,Docker Deployments getting stuck on Storing Image,Docker deployments are getting stuck on storing image for the past 2 days.,test-file | test-file | test-file | test-file | test-file | test-file,Docker Deployments getting stuck on Storing Image Docker deployments are getting stuck on storing image for the past 2 days. test-file test-file test-file test-file test-file test-file,no-bug,0.9
1919,vercel,https://github.com/vercel/vercel/issues/1919,`now rm` removes also ongoing deployments,"I'm deploying my apps to Now from Gitlab CI. after successful deployment, I'm aliasing it to dynamically created URL for each branch and then using `now rm -s` remove old not aliased anymore deployments, because are not useful anymore. And there start the problem, because I can run multiple deployments at the same time, while now rm removes all not aliased deployments, even those not fully deployed with status ""INITIALIZING"", so it breaks ongoing deployments. I'm planning to add metadata so these deployments might be reused or just be easier to target them, but still: - after removing alias, I don't know what was the source of deployment, so it's useless - after merging the freature, I want to remove all old deployments related to it - it's waste of resources to keep deployments that are not being in use - it's just messy when you need to check the admin area and have few hundrets of deployments, while for example only 5 really matters **Why I'm facing such issues?** CI pipelines are running concurrently, so even simple tasks like updating old feature branches with current develop can easily create few commits in a short period of time, so when the first deployment will be finished, will run `now rm -s` and break ongoing processes by removing all unfinished deployments. **Proposed solution** 1. `--safe` shouldn't touch deployments with state other than `ERROR` or `READY` 2. Add new flag - `--finished -F Skip ongoing deployments` 3. Combine it with metadata (#1917 ) - `now rm status=READY status=ERROR`",source-file | source-file,"`now rm` removes also ongoing deployments I'm deploying my apps to Now from Gitlab CI. after successful deployment, I'm aliasing it to dynamically created URL for each branch and then using `now rm -s` remove old not aliased anymore deployments, because are not useful anymore. And there start the problem, because I can run multiple deployments at the same time, while now rm removes all not aliased deployments, even those not fully deployed with status ""INITIALIZING"", so it breaks ongoing deployments. I'm planning to add metadata so these deployments might be reused or just be easier to target them, but still: - after removing alias, I don't know what was the source of deployment, so it's useless - after merging the freature, I want to remove all old deployments related to it - it's waste of resources to keep deployments that are not being in use - it's just messy when you need to check the admin area and have few hundrets of deployments, while for example only 5 really matters **Why I'm facing such issues?** CI pipelines are running concurrently, so even simple tasks like updating old feature branches with current develop can easily create few commits in a short period of time, so when the first deployment will be finished, will run `now rm -s` and break ongoing processes by removing all unfinished deployments. **Proposed solution** 1. `--safe` shouldn't touch deployments with state other than `ERROR` or `READY` 2. Add new flag - `--finished -F Skip ongoing deployments` 3. Combine it with metadata (#1917 ) - `now rm status=READY status=ERROR` source-file source-file",no-bug,0.9
792,vercel,https://github.com/vercel/vercel/issues/792,Why not host on NPM instead of downloading in a postinstall script?,"The reason I ask is because it seems dubious to have someone run `npm i -g now` to install essentially nothing, and then postinstall downloads the actual tool. It seems like abuse of the NPM registry, using it in a way that wasn't intended. I'm not saying that Now is dubious, just that the install process might seem dubious to some.  But anyways, all the Zeit stuff is simply awesome, and it's a great product!!",source-file,"Why not host on NPM instead of downloading in a postinstall script? The reason I ask is because it seems dubious to have someone run `npm i -g now` to install essentially nothing, and then postinstall downloads the actual tool. It seems like abuse of the NPM registry, using it in a way that wasn't intended. I'm not saying that Now is dubious, just that the install process might seem dubious to some.  But anyways, all the Zeit stuff is simply awesome, and it's a great product!! source-file",no-bug,0.95
9524,vercel,https://github.com/vercel/vercel/issues/9524,Error: File /vercel/path0/api/index.js does not exist,"**Vercel deployment for remix is not working after the latest update.** No build errors but throwing error while deployment - `Error: File /vercel/path0/api/index.js does not exist.` Tried deploying a new branch or redeployed already built branch, failed with the above error. This happened after today's latest update. <img width=""1061"" alt=""image"" src=""https://user-images.githubusercontent.com/60436404/220876457-934e92d1-a0f9-4725-a6f1-a13eae023cd8.png"">",documentation-file | documentation-file | source-file | source-file | test-file,"Error: File /vercel/path0/api/index.js does not exist **Vercel deployment for remix is not working after the latest update.** No build errors but throwing error while deployment - `Error: File /vercel/path0/api/index.js does not exist.` Tried deploying a new branch or redeployed already built branch, failed with the above error. This happened after today's latest update. <img width=""1061"" alt=""image"" src=""https://user-images.githubusercontent.com/60436404/220876457-934e92d1-a0f9-4725-a6f1-a13eae023cd8.png""> documentation-file documentation-file source-file source-file test-file",no-bug,0.9
608,vercel,https://github.com/vercel/vercel/issues/608,Spawn multiple process of update-notifier when upgrade now-cli@6.2.3 using npm@5,"Hi!, I'm getting these process spawned automatically, it happends after running this command: npm install -g now@latest (6.2.3) The CPU started to raise and running ps -fA | grep now brings => 501 23637 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23643 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23646 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23656 1 0 5:07PM ?? 0:00.49 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23657 23656 0 5:07PM ?? 0:00.48 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23658 23657 0 5:07PM ?? 0:00.48 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23663 23658 0 5:07PM ?? 0:00.47 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23664 23663 0 5:07PM ?? 0:00.46 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23665 23664 0 5:07PM ?? 0:00.47 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23670 23665 0 5:07PM ?? 0:00.41 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23683 23670 0 5:07PM ?? 0:00.20 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23692 23683 0 5:07PM ?? 0:00.02 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} I get rid of those with this command: pkill -f now It keep spawning process periodically.",source-file,"Spawn multiple process of update-notifier when upgrade now-cli@6.2.3 using npm@5 Hi!, I'm getting these process spawned automatically, it happends after running this command: npm install -g now@latest (6.2.3) The CPU started to raise and running ps -fA | grep now brings => 501 23637 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23643 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23646 1 0 5:07PM ?? 0:00.50 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23656 1 0 5:07PM ?? 0:00.49 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23657 23656 0 5:07PM ?? 0:00.48 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23658 23657 0 5:07PM ?? 0:00.48 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23663 23658 0 5:07PM ?? 0:00.47 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23664 23663 0 5:07PM ?? 0:00.46 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23665 23664 0 5:07PM ?? 0:00.47 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23670 23665 0 5:07PM ?? 0:00.41 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23683 23670 0 5:07PM ?? 0:00.20 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} 501 23692 23683 0 5:07PM ?? 0:00.02 /usr/local/lib/node_modules/now/download/dist/now /snapshot/home/travis/build/zeit/now-cli/node_modules/update-notifier/check.js {""pkg"":{""name"":""now"",""version"":""6.2.3""}} I get rid of those with this command: pkill -f now It keep spawning process periodically. source-file",no-bug,0.9
124,vercel,https://github.com/vercel/vercel/issues/124,Error! Custom domains are only enabled for premium accounts,"Hello. Before all. Thank you som much for [zeit/now](https://github.com/zeit/now) project. I have the project https://slack-invite-automation-gzrjrzqhif.now.sh on now.sh platform, so i tried to set a custom domain and return me message bellow. Can you help please help me.? If is required to upgrade the account or it sounds a dns configuration error? `now alias set https://slack-invite-automation-gzrjrzqhif.now.sh app.josecage.com --debug` > [debug] Checking for updates. > [debug] Up to date (0.28.1). > [debug] /list: 16848ms > [debug] matched deployment wHGtUDaYCgjmhWOItJy2nWa6 by url slack-invite-automation-gzrjrzqhif.now.sh > app.josecage.com is a custom domain. > Verifying the DNS settings for app.josecage.com (see https://zeit.world for help) > [debug] #1 GET /whois-ns: 1977ms > [debug] Found domain josecage.com and nameservers graham.ns.cloudflare.com,heather.ns.cloudflare.com > [debug] Trying to register a non-ZeitWorld domain josecage.com for the current user > [debug] #1 POST /domains: 1023ms > Error! Custom domains are only enabled for premium accounts. Please upgrade at https://zeit.co/account.",source-file | source-file,"Error! Custom domains are only enabled for premium accounts Hello. Before all. Thank you som much for [zeit/now](https://github.com/zeit/now) project. I have the project https://slack-invite-automation-gzrjrzqhif.now.sh on now.sh platform, so i tried to set a custom domain and return me message bellow. Can you help please help me.? If is required to upgrade the account or it sounds a dns configuration error? `now alias set https://slack-invite-automation-gzrjrzqhif.now.sh app.josecage.com --debug` > [debug] Checking for updates. > [debug] Up to date (0.28.1). > [debug] /list: 16848ms > [debug] matched deployment wHGtUDaYCgjmhWOItJy2nWa6 by url slack-invite-automation-gzrjrzqhif.now.sh > app.josecage.com is a custom domain. > Verifying the DNS settings for app.josecage.com (see https://zeit.world for help) > [debug] #1 GET /whois-ns: 1977ms > [debug] Found domain josecage.com and nameservers graham.ns.cloudflare.com,heather.ns.cloudflare.com > [debug] Trying to register a non-ZeitWorld domain josecage.com for the current user > [debug] #1 POST /domains: 1023ms > Error! Custom domains are only enabled for premium accounts. Please upgrade at https://zeit.co/account. source-file source-file",no-bug,0.9
3172,vercel,https://github.com/vercel/vercel/issues/3172,File permissions are not preserved with now@16.3.0 and up,"I using the following config to upload a executable file in my `now.json`: json ""builds"": [ { ""src"": ""index.go"", ""use"": ""@now/go"", ""config"": { ""includeFiles"": [ ""domain/files/myExec"" ] } }]  ..and using it with this code: go cmd := exec.Command(""./domain/files/myExec"") err := cmd.Run()  This worked fine with `16.2.0`. Today I updated to `16.3.1` (and also testet `16.3.0` - same issue) and for some reasons I get this error: > Error: fork/exec ./domain/files/myExec: permission denied () From my naiv point of view it looks like that the permission of that file aren't set in 16.3.+ anymore. But could be also totally wrong For now I will stick at `16.2.0`. So not a very important fix required for me but maybe for others.",source-file | source-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file,"File permissions are not preserved with now@16.3.0 and up I using the following config to upload a executable file in my `now.json`: json ""builds"": [ { ""src"": ""index.go"", ""use"": ""@now/go"", ""config"": { ""includeFiles"": [ ""domain/files/myExec"" ] } }]  ..and using it with this code: go cmd := exec.Command(""./domain/files/myExec"") err := cmd.Run()  This worked fine with `16.2.0`. Today I updated to `16.3.1` (and also testet `16.3.0` - same issue) and for some reasons I get this error: > Error: fork/exec ./domain/files/myExec: permission denied () From my naiv point of view it looks like that the permission of that file aren't set in 16.3.+ anymore. But could be also totally wrong For now I will stick at `16.2.0`. So not a very important fix required for me but maybe for others. source-file source-file test-file test-file test-file test-file test-file source-file source-file test-file test-file test-file test-file test-file",no-bug,0.9
730,vercel,https://github.com/vercel/vercel/issues/730,"Deployment claims to be successful, while in fact still building","It is sort of a weird setup, but my `now-build` executes the server and binds to a port. Once there, `now` claims deployment is successful  1. Synced 59s 2. Prepared container 8s 3. Installed and built project 48s 4. Started! 52m READY! VISIT NOW  But in fact it's still in the `build` phase, and will time out after 15mins, causing `now` to then rebuild if the instance is accessed. instance log:  08/10 07:38 PM (10m) npm run now-build 08/10 07:38 PM (10m) > gisteam@0.9.0 now-build /home/nowuser/src > gulp build && cross-env NODE_ENV=production node . 08/10 07:38 PM (10m) [12:38:25] Using gulpfile ~/src/gulpfile.js 08/10 07:38 PM (10m) [12:38:25] Starting 'build' 08/10 07:38 PM (10m) [12:38:25] Starting 'clean' 08/10 07:38 PM (10m) [12:38:25] Finished 'clean' after 12 ms 08/10 07:38 PM (10m) [12:38:25] Starting 'copy' 08/10 07:38 PM (10m) [12:38:25] Finished 'copy' after 144 ms 08/10 07:38 PM (10m) [12:38:25] Starting 'babel' 08/10 07:38 PM (10m) [12:38:26] Finished 'babel' after 1.28 s 08/10 07:38 PM (10m) [12:38:26] Starting 'gzip' 08/10 07:38 PM (10m) [12:38:26] Finished 'gzip' after 41 ms 08/10 07:38 PM (10m) [12:38:26] Finished 'build' after 1.49 s 08/10 07:38 PM (10m) Thu, 10 Aug 2017 12:38:29 GMT koa deprecated Support for generators will be removed in v3. See the documentation for examples of how to convert old middleware https://github.com/koajs/koa/blob/master/docs/migration.md at lib/server.js:94:5 08/10 07:38 PM (10m) info: Server now listening on 3000  https://zeit.co/hirako2000/gisteam/wlrojcrklj/logs The status should probably says it's still building. It is also a problem `now-build` can be hijacked to actually start an application. with the current behaviour, this causes multiple re-build per day, in a loop, every 15mins if the instance is accessed.",test-file | test-file | test-file | test-file,"Deployment claims to be successful, while in fact still building It is sort of a weird setup, but my `now-build` executes the server and binds to a port. Once there, `now` claims deployment is successful  1. Synced 59s 2. Prepared container 8s 3. Installed and built project 48s 4. Started! 52m READY! VISIT NOW  But in fact it's still in the `build` phase, and will time out after 15mins, causing `now` to then rebuild if the instance is accessed. instance log:  08/10 07:38 PM (10m) npm run now-build 08/10 07:38 PM (10m) > gisteam@0.9.0 now-build /home/nowuser/src > gulp build && cross-env NODE_ENV=production node . 08/10 07:38 PM (10m) [12:38:25] Using gulpfile ~/src/gulpfile.js 08/10 07:38 PM (10m) [12:38:25] Starting 'build' 08/10 07:38 PM (10m) [12:38:25] Starting 'clean' 08/10 07:38 PM (10m) [12:38:25] Finished 'clean' after 12 ms 08/10 07:38 PM (10m) [12:38:25] Starting 'copy' 08/10 07:38 PM (10m) [12:38:25] Finished 'copy' after 144 ms 08/10 07:38 PM (10m) [12:38:25] Starting 'babel' 08/10 07:38 PM (10m) [12:38:26] Finished 'babel' after 1.28 s 08/10 07:38 PM (10m) [12:38:26] Starting 'gzip' 08/10 07:38 PM (10m) [12:38:26] Finished 'gzip' after 41 ms 08/10 07:38 PM (10m) [12:38:26] Finished 'build' after 1.49 s 08/10 07:38 PM (10m) Thu, 10 Aug 2017 12:38:29 GMT koa deprecated Support for generators will be removed in v3. See the documentation for examples of how to convert old middleware https://github.com/koajs/koa/blob/master/docs/migration.md at lib/server.js:94:5 08/10 07:38 PM (10m) info: Server now listening on 3000  https://zeit.co/hirako2000/gisteam/wlrojcrklj/logs The status should probably says it's still building. It is also a problem `now-build` can be hijacked to actually start an application. with the current behaviour, this causes multiple re-build per day, in a loop, every 15mins if the instance is accessed. test-file test-file test-file test-file",no-bug,0.9
716,vercel,https://github.com/vercel/vercel/issues/716,Deployed app stuck in BUILDING state,"<img width=""667"" alt=""screen shot 2017-07-11 at 3 06 42 pm"" src=""https://user-images.githubusercontent.com/7402211/28093334-b007bc64-664b-11e7-8386-8d9c37c1bab3.png""> The source code is [here](https://github.com/BenDiuguid/hobbit-intuition) I was trying to deploy a simple twitter-bot and ran `yarn deploy` for the first 2 tries, then `npm run deploy` for the 3rd attempt. It seems like `now` is running `npm start` (which is just `node index.js`) as part of the BUILDING phase? Also here is the `npm run deploy` command: `now --public -e CONSUMER_KEY=@hi-twit-key -e CONSUMER_SECRET=@hi-twit-secret -e ACCESS_TOKEN=@hi-twit-access -e ACCESS_TOKEN_SECRET=@hi-twit-access-secret` Let me know if you need any more information or if there is a better repo for this issue? `now` is an incredible product so thanks so much!!",documentation-file,"Deployed app stuck in BUILDING state <img width=""667"" alt=""screen shot 2017-07-11 at 3 06 42 pm"" src=""https://user-images.githubusercontent.com/7402211/28093334-b007bc64-664b-11e7-8386-8d9c37c1bab3.png""> The source code is [here](https://github.com/BenDiuguid/hobbit-intuition) I was trying to deploy a simple twitter-bot and ran `yarn deploy` for the first 2 tries, then `npm run deploy` for the 3rd attempt. It seems like `now` is running `npm start` (which is just `node index.js`) as part of the BUILDING phase? Also here is the `npm run deploy` command: `now --public -e CONSUMER_KEY=@hi-twit-key -e CONSUMER_SECRET=@hi-twit-secret -e ACCESS_TOKEN=@hi-twit-access -e ACCESS_TOKEN_SECRET=@hi-twit-access-secret` Let me know if you need any more information or if there is a better repo for this issue? `now` is an incredible product so thanks so much!! documentation-file",no-bug,0.9
9501,vercel,https://github.com/vercel/vercel/issues/9501,Vercel dev cannot handle requests to Edge functions with CloudFlare Tunnel," Discussed in https://github.com/vercel/vercel/discussions/9500 <div type='discussions-op-text'> <sup>Originally posted by **PonomareVlad** February 22, 2023</sup>  Summary Vercel CLI outputs this error on every request:  Unhandled rejection: Failed to parse URL from https,http://.trycloudflare.com/: Invalid URL: https,http://.trycloudflare.com/  Where `` is some randomly generated domain from [CloudFlare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/do-more-with-tunnels/trycloudflare/)  Additional information Steps to reproduce: 1. Install Vercel CLI `28.12.4` 2. Install [CloudFlare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/do-more-with-tunnels/trycloudflare/) (`cloudflared`) 3. Make any [Edge function](https://vercel.com/docs/concepts/functions/edge-functions) ([or get example from repo](https://github.com/PonomareVlad/lit-ssr-vercel/tree/edge)) 4. Run `vercel dev` (should work perfect on `localhost` origin) 5. Run `cloudflared tunnel --url http://localhost:3000` 6. After opening tunnel URL from console (ends with `.trycloudflare.com`) 7. You will see `FUNCTION_INVOCATION_FAILED` in browser 8. And this error in Vercel CLI output: ` Failed to parse URL from https,http://.trycloudflare.com/ `  Example https://github.com/PonomareVlad/lit-ssr-vercel/tree/edge</div>",source-file | source-file | test-file,"Vercel dev cannot handle requests to Edge functions with CloudFlare Tunnel  Discussed in https://github.com/vercel/vercel/discussions/9500 <div type='discussions-op-text'> <sup>Originally posted by **PonomareVlad** February 22, 2023</sup>  Summary Vercel CLI outputs this error on every request:  Unhandled rejection: Failed to parse URL from https,http://.trycloudflare.com/: Invalid URL: https,http://.trycloudflare.com/  Where `` is some randomly generated domain from [CloudFlare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/do-more-with-tunnels/trycloudflare/)  Additional information Steps to reproduce: 1. Install Vercel CLI `28.12.4` 2. Install [CloudFlare Tunnel](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/do-more-with-tunnels/trycloudflare/) (`cloudflared`) 3. Make any [Edge function](https://vercel.com/docs/concepts/functions/edge-functions) ([or get example from repo](https://github.com/PonomareVlad/lit-ssr-vercel/tree/edge)) 4. Run `vercel dev` (should work perfect on `localhost` origin) 5. Run `cloudflared tunnel --url http://localhost:3000` 6. After opening tunnel URL from console (ends with `.trycloudflare.com`) 7. You will see `FUNCTION_INVOCATION_FAILED` in browser 8. And this error in Vercel CLI output: ` Failed to parse URL from https,http://.trycloudflare.com/ `  Example https://github.com/PonomareVlad/lit-ssr-vercel/tree/edge</div> source-file source-file test-file",no-bug,0.8
2046,vercel,https://github.com/vercel/vercel/issues/2046,now dev doesn't set `build.env` vars for builders,"I'm using the now dev feature in the new canary build of now-cli. I'm setting environment variables in now.json as such:  ""build"": { ""env"": { ""TEST"": ""TEST"", ""SITE_URL"" : ""http://localhost:3000"" } }  And I'm trying to use them in next.config.js as such:  const config = { target: 'serverless', env: { TEST: process.env.TEST, SITE_URL: process.env.SITE_URL, } } module.exports = (phase, { defaultConfig }) => { console.log(""PHASE"", phase) console.log(""CONFIG"", process.env.TEST) if (phase  PHASE_PRODUCTION_SERVER) { // Config used to run in production. return config } const withCSS = require('@zeit/next-css') return withCSS(config); }  I'm using the serverless target which suggests you add an env property to the config object you return, and I was intending to just add the build time variables to that value, however the env values I add in now.json always come back 'undefined'. This is the process that was suggested here and it's claimed that it worked, but I simply can't access build env variables: https://github.com/zeit/next.js/pull/6212#issuecomment-462071522 UPDATE: I just went ahead with this configuration and deployed the NextJS app to Now, and the actual deployment appears to have had access to the build variables. The Auth0 client I use client side which uses process.env.AUTH_DOMAIN to instantiate is working. When using now dev, I the library was saying that process.env.AUTH_DOMAIN was undefined. This is confirmed when looking at the outputs of doing a deploy with 'now' and doing 'now dev' respectively. now: ![Selection_037](https://user-images.githubusercontent.com/5091808/55294965-c4670e00-53cd-11e9-8b0c-c08b2c5cc458.png) now dev: ![Selection_038](https://user-images.githubusercontent.com/5091808/55294968-caf58580-53cd-11e9-928e-c5f8cbd7de2b.png)",source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | other-file | documentation-file | source-file | source-file | source-file | source-file | other-file,"now dev doesn't set `build.env` vars for builders I'm using the now dev feature in the new canary build of now-cli. I'm setting environment variables in now.json as such:  ""build"": { ""env"": { ""TEST"": ""TEST"", ""SITE_URL"" : ""http://localhost:3000"" } }  And I'm trying to use them in next.config.js as such:  const config = { target: 'serverless', env: { TEST: process.env.TEST, SITE_URL: process.env.SITE_URL, } } module.exports = (phase, { defaultConfig }) => { console.log(""PHASE"", phase) console.log(""CONFIG"", process.env.TEST) if (phase  PHASE_PRODUCTION_SERVER) { // Config used to run in production. return config } const withCSS = require('@zeit/next-css') return withCSS(config); }  I'm using the serverless target which suggests you add an env property to the config object you return, and I was intending to just add the build time variables to that value, however the env values I add in now.json always come back 'undefined'. This is the process that was suggested here and it's claimed that it worked, but I simply can't access build env variables: https://github.com/zeit/next.js/pull/6212#issuecomment-462071522 UPDATE: I just went ahead with this configuration and deployed the NextJS app to Now, and the actual deployment appears to have had access to the build variables. The Auth0 client I use client side which uses process.env.AUTH_DOMAIN to instantiate is working. When using now dev, I the library was saying that process.env.AUTH_DOMAIN was undefined. This is confirmed when looking at the outputs of doing a deploy with 'now' and doing 'now dev' respectively. now: ![Selection_037](https://user-images.githubusercontent.com/5091808/55294965-c4670e00-53cd-11e9-8b0c-c08b2c5cc458.png) now dev: ![Selection_038](https://user-images.githubusercontent.com/5091808/55294968-caf58580-53cd-11e9-928e-c5f8cbd7de2b.png) source-file source-file source-file documentation-file source-file source-file source-file source-file other-file documentation-file source-file source-file source-file source-file other-file",no-bug,0.9
72,vercel,https://github.com/vercel/vercel/issues/72,Create React App,"I am not sure if this should be possible at all but I will leave it here anyways: After deploying an app that was created with [create rect app](https://facebook.github.io/react/blog/2016/07/22/create-apps-with-no-configuration.html) I am getting this warning: `> (node:310) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Exited with code 3` And in the browser:  Failed to compile. Error in ./src/index.js Module build failed: Error: EACCES: permission denied, mkdir '/home/nowuser/src/node_modules/.cache' at Error (native) @ multi main ",config-file,"Create React App I am not sure if this should be possible at all but I will leave it here anyways: After deploying an app that was created with [create rect app](https://facebook.github.io/react/blog/2016/07/22/create-apps-with-no-configuration.html) I am getting this warning: `> (node:310) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Exited with code 3` And in the browser:  Failed to compile. Error in ./src/index.js Module build failed: Error: EACCES: permission denied, mkdir '/home/nowuser/src/node_modules/.cache' at Error (native) @ multi main  config-file",no-bug,0.9
2622,vercel,https://github.com/vercel/vercel/issues/2622,"[now dev] Routing edge case that works in prod, but not in dev","This works in `now dev` and prod:  { ""src"": ""/(.*)"", ""dest"": ""/www/$1"" }  However, this __does not work__ in `now dev`, but it works in prod:  { ""src"": ""(.*)"", ""dest"": ""/www$1"" } ",source-file | test-file | source-file | test-file | source-file | test-file,"[now dev] Routing edge case that works in prod, but not in dev This works in `now dev` and prod:  { ""src"": ""/(.*)"", ""dest"": ""/www/$1"" }  However, this __does not work__ in `now dev`, but it works in prod:  { ""src"": ""(.*)"", ""dest"": ""/www$1"" }  source-file test-file source-file test-file source-file test-file",no-bug,0.7
756,vercel,https://github.com/vercel/vercel/issues/756,Add support for now <file>,"_From @rauchg on July 7, 2017 6:16_ Support for `now <file>`, with support for: - Binaries as a first-class deployment type - Static deployments as a fallback _Copied from original issue: zeit/now#2_",source-file,"Add support for now <file> _From @rauchg on July 7, 2017 6:16_ Support for `now <file>`, with support for: - Binaries as a first-class deployment type - Static deployments as a fallback _Copied from original issue: zeit/now#2_ source-file",no-bug,0.9
910,vercel,https://github.com/vercel/vercel/issues/910,[Question] now --static now --alias,"I can't find any similar questions or docs, is there a way to assign a custom domain to a static site? I deploy with now --static no problem, now how do I point a custom domain? now --alias says no project has been deployed.",source-file,"[Question] now --static now --alias I can't find any similar questions or docs, is there a way to assign a custom domain to a static site? I deploy with now --static no problem, now how do I point a custom domain? now --alias says no project has been deployed. source-file",no-bug,0.9
681,vercel,https://github.com/vercel/vercel/issues/681,Rm UX varies,The rm confirmation varies between commands.  % now alias rm xyz.xstack.io > > The following alias will be removed permanently BYYoCpciD9l9xGa8DGR6eSE2 https://pizzatilaus-lgbhlhfniy.now.sh https://xyz.xstack.io 10s ago Are you sure? [y|N]  `Are you sure?` isn't formatted and continues immediately when I press `Y`.  % now certs rm xyzzz.xstack.io > The following certificate will be removed permanently 1ahc8kd6p3xmSsby7xLH xyzzz.xstack.io 1m ago > Are you sure? [y/N] y  Here `Are you sure?` is in red and doesn't continue until I press return.,source-file | source-file,Rm UX varies The rm confirmation varies between commands.  % now alias rm xyz.xstack.io > > The following alias will be removed permanently BYYoCpciD9l9xGa8DGR6eSE2 https://pizzatilaus-lgbhlhfniy.now.sh https://xyz.xstack.io 10s ago Are you sure? [y|N]  `Are you sure?` isn't formatted and continues immediately when I press `Y`.  % now certs rm xyzzz.xstack.io > The following certificate will be removed permanently 1ahc8kd6p3xmSsby7xLH xyzzz.xstack.io 1m ago > Are you sure? [y/N] y  Here `Are you sure?` is in red and doesn't continue until I press return. source-file source-file,no-bug,0.9
884,vercel,https://github.com/vercel/vercel/issues/884,now logs -n seems to be ignored,now logs -n 5000 my-api.now.sh gives me only 1000 lines of logs.,other-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,now logs -n seems to be ignored now logs -n 5000 my-api.now.sh gives me only 1000 lines of logs. other-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file,no-bug,0.8
193,vercel,https://github.com/vercel/vercel/issues/193,What's best way to use Now with babel?,"My app's code lives in `/src`. I use `Flow` type annotations & `async`/`await`, so I either run it via `babel-node` or strip/tranpsile it with `babel`. So my NPM scripts look like this:  ""dev"": ""babel-node src/index.js"", ""babelify"": ""babel src -d ./dist"", ""start"": ""node index.js"" // this file is in project root, but imports from `./dist`  I run `npm run babelify`, then `now`, but this throws the following error:  > Installed to /home/nowuser/src/node_modules/3507677b72fdc3fde6c22daf0c5b8ca8465b37d2/vendor/linux-x64-51/binding.node >  npm start > at Function.Module._load (module.js:441:3) > module.js:474 > throw err; > ^ > Error: Cannot find module './dist/app.js' > at Function.Module._resolveFilename (module.js:472:15) > at Function.Module._load (module.js:420:25) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/index.js:1:157) > at Module._compile (module.js:573:32) > at Object.Module._extensions..js (module.js:582:10) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > start exited with status 0  I tried changing `npm start` to `npm run babelify && node index.js`, but I don't have permission to write to `dist`. `babel-node index.js` seems to work, but afaik `babel-node` isn't meant for production use. What's best practice for using `babel` in a case like this? Can I make `now` include my `dist` folder in the upload? Or do I have to use `babel-node`?",other-file | other-file,"What's best way to use Now with babel? My app's code lives in `/src`. I use `Flow` type annotations & `async`/`await`, so I either run it via `babel-node` or strip/tranpsile it with `babel`. So my NPM scripts look like this:  ""dev"": ""babel-node src/index.js"", ""babelify"": ""babel src -d ./dist"", ""start"": ""node index.js"" // this file is in project root, but imports from `./dist`  I run `npm run babelify`, then `now`, but this throws the following error:  > Installed to /home/nowuser/src/node_modules/3507677b72fdc3fde6c22daf0c5b8ca8465b37d2/vendor/linux-x64-51/binding.node >  npm start > at Function.Module._load (module.js:441:3) > module.js:474 > throw err; > ^ > Error: Cannot find module './dist/app.js' > at Function.Module._resolveFilename (module.js:472:15) > at Function.Module._load (module.js:420:25) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/index.js:1:157) > at Module._compile (module.js:573:32) > at Object.Module._extensions..js (module.js:582:10) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > start exited with status 0  I tried changing `npm start` to `npm run babelify && node index.js`, but I don't have permission to write to `dist`. `babel-node index.js` seems to work, but afaik `babel-node` isn't meant for production use. What's best practice for using `babel` in a case like this? Can I make `now` include my `dist` folder in the upload? Or do I have to use `babel-node`? other-file other-file",no-bug,0.95
539,vercel,https://github.com/vercel/vercel/issues/539,ENOENT: no such file or directory,"So, I'm going to leave this here for now: https://zeit.co/spences10/tweet-bot-playground/rqbujyiyqk/source?f=index.js Some screenshots too fore when I destroy that instance, but first an explanation, I guess. Trying to store a temp file [~150kb] in the `tmp` folder, I get `Error: ENOENT: no such file or directory, open '../tmp/nasa.jpg'` I was getting permission errors before but that was when I was trying to create the file in `src` after reading some similar issues I realise that it should be in the `tmp` folder, so here the structure: ![image](https://cloud.githubusercontent.com/assets/234708/26035143/6ef60a32-38bf-11e7-9c22-e4512faf23d7.png) And here is where the relative file path is being fed in: ![image](https://cloud.githubusercontent.com/assets/234708/26035174/e5eac20e-38bf-11e7-9ad3-73cf6fc697e4.png) I'm a bit confused as to why if cant be found, anyone have any feedback? Thanks.",config-file | config-file | other-file | documentation-file,"ENOENT: no such file or directory So, I'm going to leave this here for now: https://zeit.co/spences10/tweet-bot-playground/rqbujyiyqk/source?f=index.js Some screenshots too fore when I destroy that instance, but first an explanation, I guess. Trying to store a temp file [~150kb] in the `tmp` folder, I get `Error: ENOENT: no such file or directory, open '../tmp/nasa.jpg'` I was getting permission errors before but that was when I was trying to create the file in `src` after reading some similar issues I realise that it should be in the `tmp` folder, so here the structure: ![image](https://cloud.githubusercontent.com/assets/234708/26035143/6ef60a32-38bf-11e7-9c22-e4512faf23d7.png) And here is where the relative file path is being fed in: ![image](https://cloud.githubusercontent.com/assets/234708/26035174/e5eac20e-38bf-11e7-9ad3-73cf6fc697e4.png) I'm a bit confused as to why if cant be found, anyone have any feedback? Thanks. config-file config-file other-file documentation-file",no-bug,0.9
3373,vercel,https://github.com/vercel/vercel/issues/3373,Cannot find module 'now-client'. in typescript,![image](https://user-images.githubusercontent.com/2764106/69910805-36579180-144c-11ea-98d8-f07f73f38938.png),documentation-file | documentation-file,Cannot find module 'now-client'. in typescript ![image](https://user-images.githubusercontent.com/2764106/69910805-36579180-144c-11ea-98d8-f07f73f38938.png) documentation-file documentation-file,no-bug,0.9
7287,vercel,https://github.com/vercel/vercel/issues/7287,"Using esbuild in serverless functions fails due to ""esbuild-linux-64"" not being found"," Discussed in https://github.com/vercel/vercel/discussions/6865 <div type='discussions-op-text'> <sup>Originally posted by **hassanzadeh** October 19, 2021</sup> Hey guys, Starting form about a week ago, all my deployments fail at Run time with this error (copied form functions log): ""2021-10-19T17:58:53.710Z f7284007-d328-48a7-b4e3-ecf669500227 ERROR Error: The package ""esbuild-linux-64"" could not be found, and is needed by esbuild. If you are installing esbuild with npm, make sure that you don't specify the ""--no-optional"" flag. The ""optionalDependencies"" package.json feature is used by esbuild to install the correct binary executable for your current platform. at generateBinPath (/var/task/node_modules/esbuild/lib/main.js:1643:15)"" I'm not sure what has changed under the hood that is causing everything to break. I also noticed that I'm getting these warnings during the build time; Info esbuild-darwin-arm64@0.13.8: The platform ""linux"" is incompatible with this module. Any thoughts? thanks </div> Hello! It appears that using esbuild in serverless functions doesn't work, I've been getting the same error described in the discussion above, i.e. esbuild cannot find `esbuild-linux-64`. [I created a Remix project](https://github.com/silvenon/repro/tree/vercel-esbuild) from Vercel's template and ran esbuild in the home page's `loader` to demonstrate this issue, it's deployed at https://silvenon-repro.vercel.app, where you can clearly see the error. The project _builds_ fine, so the esbuild that Remix itself uses under the hood works fine in the build step, but using esbuild separately later, in the application itself, doesn't work. Any help with this would be highly appreciated ",documentation-file | documentation-file | source-file | documentation-file | source-file | other-file,"Using esbuild in serverless functions fails due to ""esbuild-linux-64"" not being found  Discussed in https://github.com/vercel/vercel/discussions/6865 <div type='discussions-op-text'> <sup>Originally posted by **hassanzadeh** October 19, 2021</sup> Hey guys, Starting form about a week ago, all my deployments fail at Run time with this error (copied form functions log): ""2021-10-19T17:58:53.710Z f7284007-d328-48a7-b4e3-ecf669500227 ERROR Error: The package ""esbuild-linux-64"" could not be found, and is needed by esbuild. If you are installing esbuild with npm, make sure that you don't specify the ""--no-optional"" flag. The ""optionalDependencies"" package.json feature is used by esbuild to install the correct binary executable for your current platform. at generateBinPath (/var/task/node_modules/esbuild/lib/main.js:1643:15)"" I'm not sure what has changed under the hood that is causing everything to break. I also noticed that I'm getting these warnings during the build time; Info esbuild-darwin-arm64@0.13.8: The platform ""linux"" is incompatible with this module. Any thoughts? thanks </div> Hello! It appears that using esbuild in serverless functions doesn't work, I've been getting the same error described in the discussion above, i.e. esbuild cannot find `esbuild-linux-64`. [I created a Remix project](https://github.com/silvenon/repro/tree/vercel-esbuild) from Vercel's template and ran esbuild in the home page's `loader` to demonstrate this issue, it's deployed at https://silvenon-repro.vercel.app, where you can clearly see the error. The project _builds_ fine, so the esbuild that Remix itself uses under the hood works fine in the build step, but using esbuild separately later, in the application itself, doesn't work. Any help with this would be highly appreciated  documentation-file documentation-file source-file documentation-file source-file other-file",no-bug,0.9
704,vercel,https://github.com/vercel/vercel/issues/704,Domain not found,Never mind. Problem solved.,source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,Domain not found Never mind. Problem solved. source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file,no-bug,0.9
548,vercel,https://github.com/vercel/vercel/issues/548,"any now command just ""hangs"" - never completes","No matter what I do, it just hangs:  $ now > CTRL-C $ now secret > CTRL-C $ $ now secret add stripe-secret sk_test_XqWFkixxxxx > CTRL-C  What could be the reason for this weird behaviour!?",source-file | test-file | test-file,"any now command just ""hangs"" - never completes No matter what I do, it just hangs:  $ now > CTRL-C $ now secret > CTRL-C $ $ now secret add stripe-secret sk_test_XqWFkixxxxx > CTRL-C  What could be the reason for this weird behaviour!? source-file test-file test-file",no-bug,0.7
293,vercel,https://github.com/vercel/vercel/issues/293,now --deploy docker does not exit,"I am running the command in GitLab EE CI. The deployment completes successfully, however, it remains hanging. bash $ now --docker --token $ZEIT_TOKEN --alias applaudience-showtime-data-sources-worker --no-clipboard --debug > [debug] Forcing `deploymentType` = `docker` > [debug] ignoring invalid file ""/builds/applaudience/showtime-data-sources-worker/.npmrc"" > [debug] locating files /builds/applaudience/showtime-data-sources-worker: 14.850ms > [debug] Getting files: 25.960ms > [debug] Computing hashes: 4.339ms > [debug] /now/create: 1725.716ms https://applaudienceshowtime-data-sources-worker-now.sh> [debug] closing agent  The box running the deployment is Docker `node:7` image. yaml release: image: node:7 stage: release only: - master@applaudience/showtime-data-sources-worker script: - export NPM_CONFIG_LOGLEVEL=warn - export NPM_CONFIG_DEPTH=0 - npm install now -g - now --docker --token $ZEIT_TOKEN --alias applaudience-showtime-data-sources-worker --no-clipboard --debug  I cannot replicate the same behaviour on OSX.",test-file,"now --deploy docker does not exit I am running the command in GitLab EE CI. The deployment completes successfully, however, it remains hanging. bash $ now --docker --token $ZEIT_TOKEN --alias applaudience-showtime-data-sources-worker --no-clipboard --debug > [debug] Forcing `deploymentType` = `docker` > [debug] ignoring invalid file ""/builds/applaudience/showtime-data-sources-worker/.npmrc"" > [debug] locating files /builds/applaudience/showtime-data-sources-worker: 14.850ms > [debug] Getting files: 25.960ms > [debug] Computing hashes: 4.339ms > [debug] /now/create: 1725.716ms https://applaudienceshowtime-data-sources-worker-now.sh> [debug] closing agent  The box running the deployment is Docker `node:7` image. yaml release: image: node:7 stage: release only: - master@applaudience/showtime-data-sources-worker script: - export NPM_CONFIG_LOGLEVEL=warn - export NPM_CONFIG_DEPTH=0 - npm install now -g - now --docker --token $ZEIT_TOKEN --alias applaudience-showtime-data-sources-worker --no-clipboard --debug  I cannot replicate the same behaviour on OSX. test-file",no-bug,0.9
295,vercel,https://github.com/vercel/vercel/issues/295,Error response from daemon: network brddepl not found,"I deployed a Dockerfile project and got the following error https://mantra-accounts-test-skfrjivapf.now.sh/  Successfully built 9263a3c93c2c Storing image Deploying image Container started Error response from daemon: network brddepl not found  Redeploying without any changes was successful, not sure why it failed first time. https://mantra-accounts-test-fntitbpsdt.now.sh/",source-file,"Error response from daemon: network brddepl not found I deployed a Dockerfile project and got the following error https://mantra-accounts-test-skfrjivapf.now.sh/  Successfully built 9263a3c93c2c Storing image Deploying image Container started Error response from daemon: network brddepl not found  Redeploying without any changes was successful, not sure why it failed first time. https://mantra-accounts-test-fntitbpsdt.now.sh/ source-file",no-bug,0.9
863,vercel,https://github.com/vercel/vercel/issues/863,"Unsupported ""deploymentType"": nodejs","[This section](https://github.com/zeit/now-cli/blob/master/readme.md#project-configuration) should list `npm` as a type, not `nodejs`.",documentation-file | source-file | source-file,"Unsupported ""deploymentType"": nodejs [This section](https://github.com/zeit/now-cli/blob/master/readme.md#project-configuration) should list `npm` as a type, not `nodejs`. documentation-file source-file source-file",no-bug,0.8
2289,vercel,https://github.com/vercel/vercel/issues/2289,Route parameters not passed to getInitialProps({ query }) (NextJS)," { ""src"": ""/(?<locale>[^/]*)/registration/"", ""dest"": ""/registration/?locale=$locale"" },  parameters are not into NextJS from route to `query`.",source-file | documentation-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"Route parameters not passed to getInitialProps({ query }) (NextJS)  { ""src"": ""/(?<locale>[^/]*)/registration/"", ""dest"": ""/registration/?locale=$locale"" },  parameters are not into NextJS from route to `query`. source-file documentation-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.7
1899,vercel,https://github.com/vercel/vercel/issues/1899,The first execution of now-dev limited,"Hi, unfortunately `now-dev` has some problems that impede me from using it in my application of chat ## General remarks `now-dev` does not support `now secret`, apparently it does not affect the compilation of `ncc` if we have now secret in our file now.json Ideally, **be warned that it does not support now-dev before compiling** because this could make users believe that ""now secret"" is compatible, which is not for the moment :[ ## Main problems - Overly long compile times ## Overly long compile times **NOTE:** the gif does not represent the total compilation time :] ![long-compile](https://media.giphy.com/media/oyQ8O89LD2cByFhS7t/giphy.gif) `now-dev` has problems compiling with projects with `package.json` too long, the compilation times of `ncc` can be extended to **2:37:11** which has resulted that lambda never load our project Example of `auth-chat` ![carbon](https://user-images.githubusercontent.com/16585386/52918945-a1bbe280-32c2-11e9-86f1-9dcb80793039.png)  Temporary solution Recommendations: when `now-dev` is used, a `user` and a `ncc` folder is generated, every time I use now-dev I recommend removing those 2 folders, I've noticed that it has some problems related to the cache for some strange reason, if we remove **only one dependency** and then reinstall the compilation time of `ncc` it will be much smaller than **2:37:11** gives as it turns out in the lambada loading correctly with that we rule out that the problem **is not the number of dependencies in your package.json** this relation to the first execution of lambda I do not know if the first execution is limited or something similar.",source-file | documentation-file | source-file | source-file | source-file | other-file | config-file | source-file | source-file | config-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | config-file | source-file | source-file | config-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | config-file | source-file | source-file | config-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file,"The first execution of now-dev limited Hi, unfortunately `now-dev` has some problems that impede me from using it in my application of chat ## General remarks `now-dev` does not support `now secret`, apparently it does not affect the compilation of `ncc` if we have now secret in our file now.json Ideally, **be warned that it does not support now-dev before compiling** because this could make users believe that ""now secret"" is compatible, which is not for the moment :[ ## Main problems - Overly long compile times ## Overly long compile times **NOTE:** the gif does not represent the total compilation time :] ![long-compile](https://media.giphy.com/media/oyQ8O89LD2cByFhS7t/giphy.gif) `now-dev` has problems compiling with projects with `package.json` too long, the compilation times of `ncc` can be extended to **2:37:11** which has resulted that lambda never load our project Example of `auth-chat` ![carbon](https://user-images.githubusercontent.com/16585386/52918945-a1bbe280-32c2-11e9-86f1-9dcb80793039.png)  Temporary solution Recommendations: when `now-dev` is used, a `user` and a `ncc` folder is generated, every time I use now-dev I recommend removing those 2 folders, I've noticed that it has some problems related to the cache for some strange reason, if we remove **only one dependency** and then reinstall the compilation time of `ncc` it will be much smaller than **2:37:11** gives as it turns out in the lambada loading correctly with that we rule out that the problem **is not the number of dependencies in your package.json** this relation to the first execution of lambda I do not know if the first execution is limited or something similar. source-file documentation-file source-file source-file source-file other-file config-file source-file source-file config-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file config-file source-file source-file config-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file config-file source-file source-file config-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file",no-bug,0.9
631,vercel,https://github.com/vercel/vercel/issues/631,`now-cc add` country selection is Case Sensitive,"`United States` is ok, but it seems that `united states` is not",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file,"`now-cc add` country selection is Case Sensitive `United States` is ok, but it seems that `united states` is not documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file",bug,0.85
576,vercel,https://github.com/vercel/vercel/issues/576,`now` not working on Wercker (CI),"I was trying to set up `now` with my CI ([Wercker](http://www.wercker.com)) but I'm getting this error. `Error! Unexpected error. Please try later. (Authentication error  stdin lacks setRawMode support)` I'm suspecting it tries to set up some kind of prompt, but I'm supplying my token with `--token` so I'm not sure where it would need a prompt for. Is this a bug or are some CI just not supported?",other-file,"`now` not working on Wercker (CI) I was trying to set up `now` with my CI ([Wercker](http://www.wercker.com)) but I'm getting this error. `Error! Unexpected error. Please try later. (Authentication error  stdin lacks setRawMode support)` I'm suspecting it tries to set up some kind of prompt, but I'm supplying my token with `--token` so I'm not sure where it would need a prompt for. Is this a bug or are some CI just not supported? other-file",no-bug,0.9
11063,vercel,https://github.com/vercel/vercel/issues/11063,[BUG] Could not parse the patch version in go.mod file,"In golang 1.21, the go version inside `go.mod` is updated to `major.minor.patch`, e.g. `go 1.21.1` However, vercel only support `major.minor` pattern so far. So when I deploying with go 1.21.1, it give my the following warn:  Warning: Unknown Go version in /vercel/path0/go.mod   PS: when I open <https://vercel.com/support/request> for report, it gave me 404",source-file | documentation-file | source-file | test-file | test-file,"[BUG] Could not parse the patch version in go.mod file In golang 1.21, the go version inside `go.mod` is updated to `major.minor.patch`, e.g. `go 1.21.1` However, vercel only support `major.minor` pattern so far. So when I deploying with go 1.21.1, it give my the following warn:  Warning: Unknown Go version in /vercel/path0/go.mod   PS: when I open <https://vercel.com/support/request> for report, it gave me 404 source-file documentation-file source-file test-file test-file",no-bug,0.9
633,vercel,https://github.com/vercel/vercel/issues/633,`now ls` throws after logging in,"now 6.3.1, macos `rm ~/.now.json` `now ls` I log in and see  Cannot read property 'username' of undefined at list (/snapshot/home/travis/build/zeit/now-cli/bin/now-list.js:148:145) ",source-file | source-file | source-file | test-file | test-file | test-file | test-file,"`now ls` throws after logging in now 6.3.1, macos `rm ~/.now.json` `now ls` I log in and see  Cannot read property 'username' of undefined at list (/snapshot/home/travis/build/zeit/now-cli/bin/now-list.js:148:145)  source-file source-file source-file test-file test-file test-file test-file",no-bug,0.8
711,vercel,https://github.com/vercel/vercel/issues/711,[Config] Ignore files,"Is there any plans for Now to be able to ignore files uploaded? I know it allows to force upload `.gitignore` files, but the opposite would be rad. Use case would be if a project has a React Storybook associated with it, but you don't want the storybook and all the assets associated with it on your `now` instance.",source-file | test-file | test-file,"[Config] Ignore files Is there any plans for Now to be able to ignore files uploaded? I know it allows to force upload `.gitignore` files, but the opposite would be rad. Use case would be if a project has a React Storybook associated with it, but you don't want the storybook and all the assets associated with it on your `now` instance. source-file test-file test-file",no-bug,0.9
676,vercel,https://github.com/vercel/vercel/issues/676,A `--team` flag is needed,As discussed with @matheuss and @jamo,other-file,A `--team` flag is needed As discussed with @matheuss and @jamo other-file,no-bug,0.9
10222,vercel,https://github.com/vercel/vercel/issues/10222,deprecated vm2@3.9.19 - The library contains critical security issues,"After installing with `pnpm i -g vercel` we get: `WARN deprecated vm2@3.9.19: The library contains critical security issues and should not be used for production! The maintenance of the project has been discontinued. Consider migrating your code to isolated-vm.` I know it's just a Warning, but it also mentions ""Critical Security Issues"" Would be nice to see this fixed. And also https://github.com/vercel/vercel/issues/10027",documentation-file | documentation-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | documentation-file | source-file,"deprecated vm2@3.9.19 - The library contains critical security issues After installing with `pnpm i -g vercel` we get: `WARN deprecated vm2@3.9.19: The library contains critical security issues and should not be used for production! The maintenance of the project has been discontinued. Consider migrating your code to isolated-vm.` I know it's just a Warning, but it also mentions ""Critical Security Issues"" Would be nice to see this fixed. And also https://github.com/vercel/vercel/issues/10027 documentation-file documentation-file source-file source-file source-file test-file test-file test-file test-file test-file documentation-file source-file",no-bug,0.9
505,vercel,https://github.com/vercel/vercel/issues/505,`now teams add` shouldn't `throw` by any means,"It shouldn't `throw` in any step, including the `name` one (via @jamo)",source-file | test-file,"`now teams add` shouldn't `throw` by any means It shouldn't `throw` in any step, including the `name` one (via @jamo) source-file test-file",no-bug,0.6
3408,vercel,https://github.com/vercel/vercel/issues/3408,"[now dev] failed to validate now.json when using ""includeFiles""","Hi, I'm trying to implement _Including Additional File_ as [docs](https://zeit.co/docs/configuration#project/functions) says. After I config my `now.json` file with `functions` property  { ""functions"": { ""api/test.js"": { ""includeFiles"": ""templates/**"" } } }  `now dev` run failed with `includeFiles` in `now.json`  > Now CLI 16.6.2 dev (beta)  https://zeit.co/feedback/dev > Error! Invalid `functions` property: ['api/test.js'] should NOT have additional properties ",source-file,"[now dev] failed to validate now.json when using ""includeFiles"" Hi, I'm trying to implement _Including Additional File_ as [docs](https://zeit.co/docs/configuration#project/functions) says. After I config my `now.json` file with `functions` property  { ""functions"": { ""api/test.js"": { ""includeFiles"": ""templates/**"" } } }  `now dev` run failed with `includeFiles` in `now.json`  > Now CLI 16.6.2 dev (beta)  https://zeit.co/feedback/dev > Error! Invalid `functions` property: ['api/test.js'] should NOT have additional properties  source-file",no-bug,0.9
19,vercel,https://github.com/vercel/vercel/issues/19,"Loading indicator on landing page, overflow + scroll","Sorry, this one is super-tiny, but I noticed it and just wanted to document in case it was a detail someone wanted to update. The combination of the [default browser style](http://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css#L37) for Chrome (51):  body { margin: 8px; }  and the ""Loading"" element with  width: 100%   breaks the box model, with a 16px overflow, horizontally. The fix would be to reset the `<body>` margin to 0, or update the absolute positioning of the loading element:  // width: 100%; left: 0; right: 0;  @bpartridge83",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | source-file,"Loading indicator on landing page, overflow + scroll Sorry, this one is super-tiny, but I noticed it and just wanted to document in case it was a detail someone wanted to update. The combination of the [default browser style](http://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css#L37) for Chrome (51):  body { margin: 8px; }  and the ""Loading"" element with  width: 100%   breaks the box model, with a 16px overflow, horizontally. The fix would be to reset the `<body>` margin to 0, or update the absolute positioning of the loading element:  // width: 100%; left: 0; right: 0;  @bpartridge83 source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file source-file",no-bug,0.95
129,vercel,https://github.com/vercel/vercel/issues/129,"getting a ""deploy failed"" error"," repro steps: 1. go to https://nodered-ldzodlpekq.now.sh 2. go to the web tab 3. from the nodes listed in the left pane, under ""output"", drag a ""debug"" node onto the main work area 4. drag a 2nd ""debug"" node onto the canvas 5. click the red ""deploy"" button in the top right. 6. Notice you get the error below: <img width=""679"" alt=""screen shot 2016-11-14 at 9 08 16 pm"" src=""https://cloud.githubusercontent.com/assets/718067/20295817/27f6d35a-aabc-11e6-8520-40a162fb64e6.png"">",other-file | test-file | source-file,"getting a ""deploy failed"" error  repro steps: 1. go to https://nodered-ldzodlpekq.now.sh 2. go to the web tab 3. from the nodes listed in the left pane, under ""output"", drag a ""debug"" node onto the main work area 4. drag a 2nd ""debug"" node onto the canvas 5. click the red ""deploy"" button in the top right. 6. Notice you get the error below: <img width=""679"" alt=""screen shot 2016-11-14 at 9 08 16 pm"" src=""https://cloud.githubusercontent.com/assets/718067/20295817/27f6d35a-aabc-11e6-8520-40a162fb64e6.png""> other-file test-file source-file",no-bug,0.7
1,vercel,https://github.com/vercel/vercel/issues/1,Logging in should revoke existing token if any,"If we're logging out to log in under a different account, we should revoke the existing token.",source-file | source-file,"Logging in should revoke existing token if any If we're logging out to log in under a different account, we should revoke the existing token. source-file source-file",no-bug,0.8
7676,vercel,https://github.com/vercel/vercel/issues/7676,cli: `npx ts-eager src` no longer working,"Scenario: Trying to work on `packages/cli` locally. The README of `packages/cli` mentions it's possible to run the `cli` using `npx ts-eager src` here https://github.com/vercel/vercel/tree/main/packages/cli#local-development. This seems to have stopped working. Depending on which command I run, I get a slightly different error.  $ npx ts-eager src whoami Vercel CLI 24.1.1-canary.1  https://vercel.com/feedback Error! Cannot find module '/x/vercel/vercel/packages/cli/src/commands/whoami' imported from /x/vercel/vercel/packages/cli/src/index.ts $ npx ts-eager src init Vercel CLI 24.1.1-canary.1  https://vercel.com/feedback Error! Directory import '/x/vercel/vercel/packages/cli/src/commands/init' is not supported resolving ES modules imported from /x/vercel/vercel/packages/cli/src/index.ts  I guess the different error is due to the respective command either being a directory (`packages/cli/src/commands/init`) or a file (`packages/cli/src/commands/whoami.ts`).",source-file | source-file,"cli: `npx ts-eager src` no longer working Scenario: Trying to work on `packages/cli` locally. The README of `packages/cli` mentions it's possible to run the `cli` using `npx ts-eager src` here https://github.com/vercel/vercel/tree/main/packages/cli#local-development. This seems to have stopped working. Depending on which command I run, I get a slightly different error.  $ npx ts-eager src whoami Vercel CLI 24.1.1-canary.1  https://vercel.com/feedback Error! Cannot find module '/x/vercel/vercel/packages/cli/src/commands/whoami' imported from /x/vercel/vercel/packages/cli/src/index.ts $ npx ts-eager src init Vercel CLI 24.1.1-canary.1  https://vercel.com/feedback Error! Directory import '/x/vercel/vercel/packages/cli/src/commands/init' is not supported resolving ES modules imported from /x/vercel/vercel/packages/cli/src/index.ts  I guess the different error is due to the respective command either being a directory (`packages/cli/src/commands/init`) or a file (`packages/cli/src/commands/whoami.ts`). source-file source-file",no-bug,0.9
579,vercel,https://github.com/vercel/vercel/issues/579,"""> Deployment complete"" logged in TTY mode for static builds","Im using `now deploy` commands ability to output only the deployed url when not in TTY mode (an awesome behavior by the way!) to automate some deployments. However, it looks like for static builds an extra line is logged here: https://github.com/zeit/now-cli/blob/1224aa6d8771fc858b5732db95a1a665c4ce9dec/bin/now-deploy.js#L618-L624 This results in the final value printed to stdout by now as: `https://{deployment_id}.now.sh> Deployment complete!`. Thanks for the awesome work",documentation-file | documentation-file,"""> Deployment complete"" logged in TTY mode for static builds Im using `now deploy` commands ability to output only the deployed url when not in TTY mode (an awesome behavior by the way!) to automate some deployments. However, it looks like for static builds an extra line is logged here: https://github.com/zeit/now-cli/blob/1224aa6d8771fc858b5732db95a1a665c4ce9dec/bin/now-deploy.js#L618-L624 This results in the final value printed to stdout by now as: `https://{deployment_id}.now.sh> Deployment complete!`. Thanks for the awesome work documentation-file documentation-file",no-bug,0.9
917,vercel,https://github.com/vercel/vercel/issues/917,It does not delete a group of deployments with quotation marks in the name.,![screenshot_4](https://user-images.githubusercontent.com/9091881/31309480-3772f46a-ab5d-11e7-9eef-6b05af803718.jpg),documentation-file | documentation-file | other-file,It does not delete a group of deployments with quotation marks in the name. ![screenshot_4](https://user-images.githubusercontent.com/9091881/31309480-3772f46a-ab5d-11e7-9eef-6b05af803718.jpg) documentation-file documentation-file other-file,no-bug,0.7
389,vercel,https://github.com/vercel/vercel/issues/389,Cannot access application websocket,"Hi all, I have deployed a Meteor application using meteor-now package. Now I am trying to access the websocket from an external Android application using a DDP Client. I have tried using two different implementations of DDP clients and none of them work. I am using the free plan from Zeit, and their generated domain (not a custom domain name). Is there anything else I can do to access the applications websocket? I have created an alias example.now.sh. I have tried : - example.now.sh/websocket - example.now.sh:80/websocket - example-oevqefrifa.now.sh/websocket - example-oevqefrifa.now.sh:80/websocket - example-oevqefrifa.now.sh/sockjs/147/ezmyu805/websocket (I found these values in some GET calls in the Developer Tools from the browser) * For deploy I have used : meteor-now -e MONGO_URL= I did not use the ROOT_URL if it matters",source-file,"Cannot access application websocket Hi all, I have deployed a Meteor application using meteor-now package. Now I am trying to access the websocket from an external Android application using a DDP Client. I have tried using two different implementations of DDP clients and none of them work. I am using the free plan from Zeit, and their generated domain (not a custom domain name). Is there anything else I can do to access the applications websocket? I have created an alias example.now.sh. I have tried : - example.now.sh/websocket - example.now.sh:80/websocket - example-oevqefrifa.now.sh/websocket - example-oevqefrifa.now.sh:80/websocket - example-oevqefrifa.now.sh/sockjs/147/ezmyu805/websocket (I found these values in some GET calls in the Developer Tools from the browser) * For deploy I have used : meteor-now -e MONGO_URL= I did not use the ROOT_URL if it matters source-file",no-bug,0.9
18,vercel,https://github.com/vercel/vercel/issues/18,npm install issues with node-gyp and node 6.2.1,https://github.com/zeit/now-issues/issues/9,documentation-file,npm install issues with node-gyp and node 6.2.1 https://github.com/zeit/now-issues/issues/9 documentation-file,no-bug,0.9
3634,vercel,https://github.com/vercel/vercel/issues/3634,Jekyll example seems outdated,"In the Jekyll example (https://github.com/zeit/now/tree/master/examples/jekyll) the readme mentions a `package.json` file which doesn't exist, with a build rule to adapt jekyll to the defaults of Zeit. What build command does Zeit run for Jekyll sites? Thanks!",documentation-file | documentation-file,"Jekyll example seems outdated In the Jekyll example (https://github.com/zeit/now/tree/master/examples/jekyll) the readme mentions a `package.json` file which doesn't exist, with a build rule to adapt jekyll to the defaults of Zeit. What build command does Zeit run for Jekyll sites? Thanks! documentation-file documentation-file",no-bug,0.9
125,vercel,https://github.com/vercel/vercel/issues/125,Internal Error when code has async/await (transpiled),"Seeing the following error when I have `async/await` code present, even though it's transpiled..   ~/sandbox/community-group-backend now --docker --debug master :: 14h36m ::  > [debug] Checking for updates. > [debug] Up to date (0.28.1). > Deploying ~/sandbox/community-group-backend > [debug] Forcing `deploymentType` = `docker` > No `name` LABEL in `Dockerfile`, using community-group-backend > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/.git"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/.gitignore"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/dist/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-4aNNgLwK.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-Ghw8uQMk.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-Q12alTnz.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-ZWvk6pLF.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-cBA7SHFF.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-nsZJ2nVy.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-qbtjPlrs.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-syZ3rtVD.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-07rjW7vC.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-0JtgZEB1.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-1iIFtQ0K.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-2IYdh7Wu.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-45qyBbsL.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-4SC8q879.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-4jY9DL73.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-64I5TBGn.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-6khwLeqL.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-9q5IKxYb.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-A24udRFs.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-CZUg5Z13.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-DrIPYjZy.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-DskePeVg.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-E9Un5BhG.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-HbXHHHw2.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-KkdsMIha.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-MS6mLL05.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-NN5damQl.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-OHk9D7Yp.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-Q1uS6h2o.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-TwTNAeMb.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-U4fnEvH5.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-UqK3VLJ3.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-V8ooQdXE.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-VlThZ6qJ.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-X74euIuW.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-YEAWUiFJ.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-YWyt4hjt.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-Ye6A8abP.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-ZCo24iBX.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-a5ZovsUi.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-agpOj9bK.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-bXoPPD1G.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-bqoBLb6y.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-ddKqAqqC.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-e3zhzLAl.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-fzVdar7r.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-gVyF82k3.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-iLbOhVxX.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-iS33AJi8.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-jGAz06cl.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-jV9kVooS.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-nFRCFlvE.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-nGSe2HdX.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-oRt8ftHz.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-r4kP4J5l.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-rEDtmSn6.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-s8od4uVF.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-smuxc66e.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-tsoLQmeO.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-ttDEjjTo.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-uo1DOvnL.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-vFO3ZXKr.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-vaUbH1Bg.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-zO8t1Luf.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/7/node_modules"" > [debug] locating files /Users/iradchenko/sandbox/community-group-backend: 4010.462ms > [debug] Getting files: 4425.453ms > [debug] Computing hashes: 1304.584ms > [debug] /now/create: 2628.661ms > [debug] Retrying: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > [debug] /now/create: 2105.969ms > [debug] Retrying: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > [debug] /now/create: 2018.853ms > [debug] Retrying: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > [debug] /now/create: 2023.291ms > [debug] error: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > Error! Unexpected error. Please try later. (An unexpected internal error occurred)  My Dockerfile looks like so: Dockerfile FROM node:6.9 ENV PORT 80 RUN mkdir -p /usr/src/app COPY package.json /usr/src/app/ RUN npm install --production COPY . /usr/src/app WORKDIR /usr/src/app EXPOSE 80 CMD [ ""npm"", ""start"" ] ",config-file | config-file,"Internal Error when code has async/await (transpiled) Seeing the following error when I have `async/await` code present, even though it's transpiled..   ~/sandbox/community-group-backend now --docker --debug master :: 14h36m ::  > [debug] Checking for updates. > [debug] Up to date (0.28.1). > Deploying ~/sandbox/community-group-backend > [debug] Forcing `deploymentType` = `docker` > No `name` LABEL in `Dockerfile`, using community-group-backend > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/.git"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/.gitignore"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/dist/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-4aNNgLwK.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-Ghw8uQMk.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-Q12alTnz.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-ZWvk6pLF.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-cBA7SHFF.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-nsZJ2nVy.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-qbtjPlrs.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-output_path-syZ3rtVD.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-07rjW7vC.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-0JtgZEB1.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-1iIFtQ0K.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-2IYdh7Wu.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-45qyBbsL.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-4SC8q879.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-4jY9DL73.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-64I5TBGn.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-6khwLeqL.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-9q5IKxYb.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-A24udRFs.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-CZUg5Z13.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-DrIPYjZy.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-DskePeVg.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-E9Un5BhG.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-HbXHHHw2.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-KkdsMIha.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-MS6mLL05.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-NN5damQl.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-OHk9D7Yp.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-Q1uS6h2o.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-TwTNAeMb.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-U4fnEvH5.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-UqK3VLJ3.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-V8ooQdXE.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-VlThZ6qJ.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-X74euIuW.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-YEAWUiFJ.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-YWyt4hjt.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-Ye6A8abP.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-ZCo24iBX.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-a5ZovsUi.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-agpOj9bK.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-bXoPPD1G.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-bqoBLb6y.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-ddKqAqqC.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-e3zhzLAl.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-fzVdar7r.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-gVyF82k3.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-iLbOhVxX.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-iS33AJi8.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-jGAz06cl.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-jV9kVooS.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-nFRCFlvE.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-nGSe2HdX.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-oRt8ftHz.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-r4kP4J5l.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-rEDtmSn6.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-s8od4uVF.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-smuxc66e.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-tsoLQmeO.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-ttDEjjTo.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-uo1DOvnL.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-vFO3ZXKr.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-vaUbH1Bg.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/funnel-output_path-zO8t1Luf.tmp/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KEl9Ly0W.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-KiKBj2S1.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-Z3EzgwaQ.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-eLph9yDv.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-iqAZsaLh.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-n8fZxx9j.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-nKw9QbFt.tmp/7/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/1/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/2/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/3/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/4/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/5/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/6/node_modules"" > [debug] ignoring ""/Users/iradchenko/sandbox/community-group-backend/tmp/broccoli_merge_trees-input_base_path-uUNkAbfx.tmp/7/node_modules"" > [debug] locating files /Users/iradchenko/sandbox/community-group-backend: 4010.462ms > [debug] Getting files: 4425.453ms > [debug] Computing hashes: 1304.584ms > [debug] /now/create: 2628.661ms > [debug] Retrying: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > [debug] /now/create: 2105.969ms > [debug] Retrying: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > [debug] /now/create: 2018.853ms > [debug] Retrying: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > [debug] /now/create: 2023.291ms > [debug] error: Error: An unexpected internal error occurred at Now._callee$ (/usr/local/lib/node_modules/now/build/lib/index.js:389:35) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at process._tickCallback (internal/process/next_tick.js:103:7) > Error! Unexpected error. Please try later. (An unexpected internal error occurred)  My Dockerfile looks like so: Dockerfile FROM node:6.9 ENV PORT 80 RUN mkdir -p /usr/src/app COPY package.json /usr/src/app/ RUN npm install --production COPY . /usr/src/app WORKDIR /usr/src/app EXPOSE 80 CMD [ ""npm"", ""start"" ]  config-file config-file",no-bug,0.9
279,vercel,https://github.com/vercel/vercel/issues/279,unable to build next.js app,"My `now` command fails at `next build`. It never really fails, just keep trying again and again endlessly <img width=""871"" alt=""screen shot 2017-02-03 at 3 19 23 pm"" src=""https://cloud.githubusercontent.com/assets/10930134/22607073/4cdc6598-ea24-11e6-8db5-770e6c6e903e.png"">",source-file,"unable to build next.js app My `now` command fails at `next build`. It never really fails, just keep trying again and again endlessly <img width=""871"" alt=""screen shot 2017-02-03 at 3 19 23 pm"" src=""https://cloud.githubusercontent.com/assets/10930134/22607073/4cdc6598-ea24-11e6-8db5-770e6c6e903e.png""> source-file",no-bug,0.9
4835,vercel,https://github.com/vercel/vercel/issues/4835,Vercel refuses to work with TypeScripts default tsconfig.json,"By creating a `tsconfig.json` using `tsc --init`, which looks like this: jsonc { ""compilerOptions"": { /* Visit https://aka.ms/tsconfig.json to read more about this file */ /* Basic Options */ // ""incremental"": true, /* Enable incremental compilation */ ""target"": ""es5"", /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019', 'ES2020', or 'ESNEXT'. */ ""module"": ""commonjs"", /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', 'es2020', or 'ESNext'. */ // ""lib"": [], /* Specify library files to be included in the compilation. */ // ""allowJs"": true, /* Allow javascript files to be compiled. */ // ""checkJs"": true, /* Report errors in .js files. */ // ""jsx"": ""preserve"", /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */ // ""declaration"": true, /* Generates corresponding '.d.ts' file. */ // ""declarationMap"": true, /* Generates a sourcemap for each corresponding '.d.ts' file. */ // ""sourceMap"": true, /* Generates corresponding '.map' file. */ // ""outFile"": ""./"", /* Concatenate and emit output to single file. */ // ""outDir"": ""./"", /* Redirect output structure to the directory. */ // ""rootDir"": ""./"", /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */ // ""composite"": true, /* Enable project compilation */ // ""tsBuildInfoFile"": ""./"", /* Specify file to store incremental compilation information */ // ""removeComments"": true, /* Do not emit comments to output. */ // ""noEmit"": true, /* Do not emit outputs. */ // ""importHelpers"": true, /* Import emit helpers from 'tslib'. */ // ""downlevelIteration"": true, /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */ // ""isolatedModules"": true, /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */ /* Strict Type-Checking Options */ ""strict"": true, /* Enable all strict type-checking options. */ // ""noImplicitAny"": true, /* Raise error on expressions and declarations with an implied 'any' type. */ // ""strictNullChecks"": true, /* Enable strict null checks. */ // ""strictFunctionTypes"": true, /* Enable strict checking of function types. */ // ""strictBindCallApply"": true, /* Enable strict 'bind', 'call', and 'apply' methods on functions. */ // ""strictPropertyInitialization"": true, /* Enable strict checking of property initialization in classes. */ // ""noImplicitThis"": true, /* Raise error on 'this' expressions with an implied 'any' type. */ // ""alwaysStrict"": true, /* Parse in strict mode and emit ""use strict"" for each source file. */ /* Additional Checks */ // ""noUnusedLocals"": true, /* Report errors on unused locals. */ // ""noUnusedParameters"": true, /* Report errors on unused parameters. */ // ""noImplicitReturns"": true, /* Report error when not all code paths in function return a value. */ // ""noFallthroughCasesInSwitch"": true, /* Report errors for fallthrough cases in switch statement. */ /* Module Resolution Options */ // ""moduleResolution"": ""node"", /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */ // ""baseUrl"": ""./"", /* Base directory to resolve non-absolute module names. */ // ""paths"": {}, /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */ // ""rootDirs"": [], /* List of root folders whose combined content represents the structure of the project at runtime. */ // ""typeRoots"": [], /* List of folders to include type definitions from. */ // ""types"": [], /* Type declaration files to be included in compilation. */ // ""allowSyntheticDefaultImports"": true, /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */ ""esModuleInterop"": true, /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */ // ""preserveSymlinks"": true, /* Do not resolve the real path of symlinks. */ // ""allowUmdGlobalAccess"": true, /* Allow accessing UMD globals from modules. */ /* Source Map Options */ // ""sourceRoot"": """", /* Specify the location where debugger should locate TypeScript files instead of source locations. */ // ""mapRoot"": """", /* Specify the location where debugger should locate map files instead of generated locations. */ // ""inlineSourceMap"": true, /* Emit a single file with source maps instead of having a separate file. */ // ""inlineSources"": true, /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */ /* Experimental Options */ // ""experimentalDecorators"": true, /* Enables experimental support for ES7 decorators. */ // ""emitDecoratorMetadata"": true, /* Enables experimental support for emitting type metadata for decorators. */ /* Advanced Options */ ""skipLibCheck"": true, /* Skip type checking of declaration files. */ ""forceConsistentCasingInFileNames"": true /* Disallow inconsistently-cased references to the same file. */ } }  and then run `vercel dev`, it errors out with:  Error while parsing ""/home/ubuntu/environment/dtinth/tsconfig.json"" /home/ubuntu/environment/dtinth/node_modules/vercel/node_modules/@vercel/node/dist/dev-server.js:47 throw err; ^ SyntaxError: Unexpected token / in JSON at position 29 at JSON.parse (<anonymous>) at Object.<anonymous> (/home/ubuntu/environment/dtinth/node_modules/vercel/node_modules/@vercel/node/dist/dev-server.js:38:37) at Module._compile (internal/modules/cjs/loader.js:778:30) at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10) at Module.load (internal/modules/cjs/loader.js:653:32) at tryModuleLoad (internal/modules/cjs/loader.js:593:12) at Function.Module._load (internal/modules/cjs/loader.js:585:3) at Function.Module.runMain (internal/modules/cjs/loader.js:831:12) at startup (internal/bootstrap/node.js:283:19) at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)  From checking the source code, it seems that the code that parses `tsconfig.json` did not handle JSON comments. https://github.com/vercel/vercel/blob/c68e83f9726e622c3366653aee2674e35ccf4bc9/packages/now-node/src/dev-server.ts#L37 Note that TypeScript configuration file `tsconfig.json`, despite having a `.json` file format, is actually a JSONC (JSON with Comments) file. Easiest way to deal with this may be to use [strip-json-comments](https://www.npmjs.com/package/strip-json-comments)",test-file | source-file | documentation-file,"Vercel refuses to work with TypeScripts default tsconfig.json By creating a `tsconfig.json` using `tsc --init`, which looks like this: jsonc { ""compilerOptions"": { /* Visit https://aka.ms/tsconfig.json to read more about this file */ /* Basic Options */ // ""incremental"": true, /* Enable incremental compilation */ ""target"": ""es5"", /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019', 'ES2020', or 'ESNEXT'. */ ""module"": ""commonjs"", /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', 'es2020', or 'ESNext'. */ // ""lib"": [], /* Specify library files to be included in the compilation. */ // ""allowJs"": true, /* Allow javascript files to be compiled. */ // ""checkJs"": true, /* Report errors in .js files. */ // ""jsx"": ""preserve"", /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */ // ""declaration"": true, /* Generates corresponding '.d.ts' file. */ // ""declarationMap"": true, /* Generates a sourcemap for each corresponding '.d.ts' file. */ // ""sourceMap"": true, /* Generates corresponding '.map' file. */ // ""outFile"": ""./"", /* Concatenate and emit output to single file. */ // ""outDir"": ""./"", /* Redirect output structure to the directory. */ // ""rootDir"": ""./"", /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */ // ""composite"": true, /* Enable project compilation */ // ""tsBuildInfoFile"": ""./"", /* Specify file to store incremental compilation information */ // ""removeComments"": true, /* Do not emit comments to output. */ // ""noEmit"": true, /* Do not emit outputs. */ // ""importHelpers"": true, /* Import emit helpers from 'tslib'. */ // ""downlevelIteration"": true, /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */ // ""isolatedModules"": true, /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */ /* Strict Type-Checking Options */ ""strict"": true, /* Enable all strict type-checking options. */ // ""noImplicitAny"": true, /* Raise error on expressions and declarations with an implied 'any' type. */ // ""strictNullChecks"": true, /* Enable strict null checks. */ // ""strictFunctionTypes"": true, /* Enable strict checking of function types. */ // ""strictBindCallApply"": true, /* Enable strict 'bind', 'call', and 'apply' methods on functions. */ // ""strictPropertyInitialization"": true, /* Enable strict checking of property initialization in classes. */ // ""noImplicitThis"": true, /* Raise error on 'this' expressions with an implied 'any' type. */ // ""alwaysStrict"": true, /* Parse in strict mode and emit ""use strict"" for each source file. */ /* Additional Checks */ // ""noUnusedLocals"": true, /* Report errors on unused locals. */ // ""noUnusedParameters"": true, /* Report errors on unused parameters. */ // ""noImplicitReturns"": true, /* Report error when not all code paths in function return a value. */ // ""noFallthroughCasesInSwitch"": true, /* Report errors for fallthrough cases in switch statement. */ /* Module Resolution Options */ // ""moduleResolution"": ""node"", /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */ // ""baseUrl"": ""./"", /* Base directory to resolve non-absolute module names. */ // ""paths"": {}, /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */ // ""rootDirs"": [], /* List of root folders whose combined content represents the structure of the project at runtime. */ // ""typeRoots"": [], /* List of folders to include type definitions from. */ // ""types"": [], /* Type declaration files to be included in compilation. */ // ""allowSyntheticDefaultImports"": true, /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */ ""esModuleInterop"": true, /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */ // ""preserveSymlinks"": true, /* Do not resolve the real path of symlinks. */ // ""allowUmdGlobalAccess"": true, /* Allow accessing UMD globals from modules. */ /* Source Map Options */ // ""sourceRoot"": """", /* Specify the location where debugger should locate TypeScript files instead of source locations. */ // ""mapRoot"": """", /* Specify the location where debugger should locate map files instead of generated locations. */ // ""inlineSourceMap"": true, /* Emit a single file with source maps instead of having a separate file. */ // ""inlineSources"": true, /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */ /* Experimental Options */ // ""experimentalDecorators"": true, /* Enables experimental support for ES7 decorators. */ // ""emitDecoratorMetadata"": true, /* Enables experimental support for emitting type metadata for decorators. */ /* Advanced Options */ ""skipLibCheck"": true, /* Skip type checking of declaration files. */ ""forceConsistentCasingInFileNames"": true /* Disallow inconsistently-cased references to the same file. */ } }  and then run `vercel dev`, it errors out with:  Error while parsing ""/home/ubuntu/environment/dtinth/tsconfig.json"" /home/ubuntu/environment/dtinth/node_modules/vercel/node_modules/@vercel/node/dist/dev-server.js:47 throw err; ^ SyntaxError: Unexpected token / in JSON at position 29 at JSON.parse (<anonymous>) at Object.<anonymous> (/home/ubuntu/environment/dtinth/node_modules/vercel/node_modules/@vercel/node/dist/dev-server.js:38:37) at Module._compile (internal/modules/cjs/loader.js:778:30) at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10) at Module.load (internal/modules/cjs/loader.js:653:32) at tryModuleLoad (internal/modules/cjs/loader.js:593:12) at Function.Module._load (internal/modules/cjs/loader.js:585:3) at Function.Module.runMain (internal/modules/cjs/loader.js:831:12) at startup (internal/bootstrap/node.js:283:19) at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)  From checking the source code, it seems that the code that parses `tsconfig.json` did not handle JSON comments. https://github.com/vercel/vercel/blob/c68e83f9726e622c3366653aee2674e35ccf4bc9/packages/now-node/src/dev-server.ts#L37 Note that TypeScript configuration file `tsconfig.json`, despite having a `.json` file format, is actually a JSONC (JSON with Comments) file. Easiest way to deal with this may be to use [strip-json-comments](https://www.npmjs.com/package/strip-json-comments) test-file source-file documentation-file",no-bug,0.9
593,vercel,https://github.com/vercel/vercel/issues/593,Support package-lock.json for speedy installs,"npm@5 is out now, introducing `package-lock.json`, which serves a similar purpose to `yarn.lock`. I'm keen to migrate back to NPM from Yarn. Will Now take advantage of this file, [like it does with `yarn.lock`](https://zeit.co/blog/faster-javascript-deployments)?",documentation-file | documentation-file | source-file,"Support package-lock.json for speedy installs npm@5 is out now, introducing `package-lock.json`, which serves a similar purpose to `yarn.lock`. I'm keen to migrate back to NPM from Yarn. Will Now take advantage of this file, [like it does with `yarn.lock`](https://zeit.co/blog/faster-javascript-deployments)? documentation-file documentation-file source-file",no-bug,0.95
786,vercel,https://github.com/vercel/vercel/issues/786,AccessDenied when trying to deploy to AWS Lambda,"_From @callumlocke on August 3, 2017 14:3_ I get this error when I do `now aws` (user details censored):  AccessDenied: User: arn:aws:iam:::user/ is not authorized to perform: iam:GetRole on resource: role now-default-role  I'm not able to give total ""AdministratorAccess"" on my company's AWS account. I have to request a minimal set of permissions and wait to get it approved. From the above it looks like I need a policy that allows the `iam:GetRole` action. Can you tell me what other actions I need to allow? A minimal sample policy would be useful. _Copied from original issue: zeit/now#40_",source-file,"AccessDenied when trying to deploy to AWS Lambda _From @callumlocke on August 3, 2017 14:3_ I get this error when I do `now aws` (user details censored):  AccessDenied: User: arn:aws:iamuser/ is not authorized to perform: iam:GetRole on resource: role now-default-role  I'm not able to give total ""AdministratorAccess"" on my company's AWS account. I have to request a minimal set of permissions and wait to get it approved. From the above it looks like I need a policy that allows the `iam:GetRole` action. Can you tell me what other actions I need to allow? A minimal sample policy would be useful. _Copied from original issue: zeit/now#40_ source-file",no-bug,0.95
778,vercel,https://github.com/vercel/vercel/issues/778,now@8.0.0-beta.1 [subcommand] fails,"_From @remy on July 13, 2017 15:32_ I've run `now aws login` and created new credentials, these are successfully saved in `~/.now/auth.json`. I've deployed successful (in theory) with `now` to aws (though it [returns a 500](https://atse1q3lw1.execute-api.us-west-1.amazonaws.com/now) - I'll follow up separately). However, any other command fails: <img width=""1280"" alt=""screen shot 2017-07-13 at 16 30 01"" src=""https://user-images.githubusercontent.com/13700/28174145-8b17a9ca-67e8-11e7-8c41-9236430b0cda.png""> I've then tried to switch back to now.sh, using `now sh login` - which was successful, but running `now` in a directory deploys using the AWS target. _Copied from original issue: zeit/now#17_",config-file | source-file | documentation-file | test-file | test-file | test-file | test-file | other-file,"now@8.0.0-beta.1 [subcommand] fails _From @remy on July 13, 2017 15:32_ I've run `now aws login` and created new credentials, these are successfully saved in `~/.now/auth.json`. I've deployed successful (in theory) with `now` to aws (though it [returns a 500](https://atse1q3lw1.execute-api.us-west-1.amazonaws.com/now) - I'll follow up separately). However, any other command fails: <img width=""1280"" alt=""screen shot 2017-07-13 at 16 30 01"" src=""https://user-images.githubusercontent.com/13700/28174145-8b17a9ca-67e8-11e7-8c41-9236430b0cda.png""> I've then tried to switch back to now.sh, using `now sh login` - which was successful, but running `now` in a directory deploys using the AWS target. _Copied from original issue: zeit/now#17_ config-file source-file documentation-file test-file test-file test-file test-file other-file",no-bug,0.8
275,vercel,https://github.com/vercel/vercel/issues/275,Allow multiple now.json config files and add a way to specify one.,"Use case : I need to differentiate between staging and production environments so I'd like to use 2 different config files (`staging.now.json` and `production.now.json`). The now CLI tool help indicates that you can specify a config file using `--config=FILE`:  -n, --name Set the name of the deployment -c FILE, --config=FILE Config file -d, --debug Debug mode [off]  But it looks like this is to set another config file (`.now.json`) which is used to store the account login token. It would be super nice to allow another flag for the CLI in order to specify what `now.json` to use because this is hardcoded right now (https://github.com/zeit/now-cli/blob/cb7fb54805dcbdb2e876ff73d5cb76786e8b7334/lib/read-metadata.js#L32). Thanks and keep up the good work :)",source-file | test-file | test-file | test-file,"Allow multiple now.json config files and add a way to specify one. Use case : I need to differentiate between staging and production environments so I'd like to use 2 different config files (`staging.now.json` and `production.now.json`). The now CLI tool help indicates that you can specify a config file using `--config=FILE`:  -n, --name Set the name of the deployment -c FILE, --config=FILE Config file -d, --debug Debug mode [off]  But it looks like this is to set another config file (`.now.json`) which is used to store the account login token. It would be super nice to allow another flag for the CLI in order to specify what `now.json` to use because this is hardcoded right now (https://github.com/zeit/now-cli/blob/cb7fb54805dcbdb2e876ff73d5cb76786e8b7334/lib/read-metadata.js#L32). Thanks and keep up the good work :) source-file test-file test-file test-file",no-bug,0.9
268,vercel,https://github.com/vercel/vercel/issues/268,now --alias doesn't work," now -v now 4.0.1  <img width=""1884"" alt=""screen shot 2017-01-31 at 18 15 59"" src=""https://cloud.githubusercontent.com/assets/941075/22482959/60a8b412-e7e2-11e6-8d47-561ed0f1f27b.png""> I don't have a package.json file. Maybe that's the issue?",source-file,"now --alias doesn't work  now -v now 4.0.1  <img width=""1884"" alt=""screen shot 2017-01-31 at 18 15 59"" src=""https://cloud.githubusercontent.com/assets/941075/22482959/60a8b412-e7e2-11e6-8d47-561ed0f1f27b.png""> I don't have a package.json file. Maybe that's the issue? source-file",no-bug,0.8
463,vercel,https://github.com/vercel/vercel/issues/463,`public` property inside config is ignored,"As stated in the [docs](https://zeit.co/docs/features/configuration#`public`-(boolean)), it should be possible to use this property. But as it seems, this feature isn't implemented yet.",source-file | test-file | test-file | test-file,"`public` property inside config is ignored As stated in the [docs](https://zeit.co/docs/features/configuration#`public`-(boolean)), it should be possible to use this property. But as it seems, this feature isn't implemented yet. source-file test-file test-file test-file",no-bug,0.8
3786,vercel,https://github.com/vercel/vercel/issues/3786,Can't do anything after `now logout`,"After logged out from cli, both login and logout don't work (now v17.0.3)  $ now logout Now CLI 17.0.3 Error! The content of ""~/.now/auth.json"" is invalid. No `token` property found inside. Run `now login` to authorize. $ now login Now CLI 17.0.3 Error! An unexpected error occurred! Error: The specified token is not valid  I even can't see the help message  $ now --help Now CLI 17.0.3 Error! An unexpected error occurred! Error: The specified token is not valid ",source-file | source-file | source-file | source-file | source-file,"Can't do anything after `now logout` After logged out from cli, both login and logout don't work (now v17.0.3)  $ now logout Now CLI 17.0.3 Error! The content of ""~/.now/auth.json"" is invalid. No `token` property found inside. Run `now login` to authorize. $ now login Now CLI 17.0.3 Error! An unexpected error occurred! Error: The specified token is not valid  I even can't see the help message  $ now --help Now CLI 17.0.3 Error! An unexpected error occurred! Error: The specified token is not valid  source-file source-file source-file source-file source-file",no-bug,0.7
488,vercel,https://github.com/vercel/vercel/issues/488,List Deployments w/ Aliases,"I know we can see them both separately (now ls + now alias ls), but seeing this info together would help. now ls -a (alias/advanced/all?) Great if we could see both running instances along with their aliases. Perhaps a column with an orange colored alias name. It's difficult to know which deployment is which.",source-file,"List Deployments w/ Aliases I know we can see them both separately (now ls + now alias ls), but seeing this info together would help. now ls -a (alias/advanced/all?) Great if we could see both running instances along with their aliases. Perhaps a column with an orange colored alias name. It's difficult to know which deployment is which. source-file",no-bug,0.9
391,vercel,https://github.com/vercel/vercel/issues/391,"Now app starts in background, starts a LOT of stuff and looks bad to Windows","Now app starts in background, starts a LOT of stuff and looks bad to Windows. Happy to talk about this but you might want to rethink: - Starting it up by default - How it shells out to a bunch of stuff ![image](https://cloud.githubusercontent.com/assets/2892/24066300/6c226440-0b2e-11e7-83a3-8f82094d20ed.png)",source-file | source-file | test-file | test-file | test-file | test-file | test-file,"Now app starts in background, starts a LOT of stuff and looks bad to Windows Now app starts in background, starts a LOT of stuff and looks bad to Windows. Happy to talk about this but you might want to rethink: - Starting it up by default - How it shells out to a bunch of stuff ![image](https://cloud.githubusercontent.com/assets/2892/24066300/6c226440-0b2e-11e7-83a3-8f82094d20ed.png) source-file source-file test-file test-file test-file test-file test-file",no-bug,0.9
733,vercel,https://github.com/vercel/vercel/issues/733,NPM error executing serve -s build,"Hi guys, I'm trying to deploy a create-react-app with react routes in `now`. I added in my package.json `serve` as a dependency and a custom start (now-start) with `serve -s build`. But it fails on deploy, what appears to be an error with Chalk, and looks like theres no much I can try now. Could you take a look? node --version v8.2.1 npm --version 5.3.0 now --version 7.3.0 package.json (where it matters):  ""dependencies"": { ""react"": ""^15.6.1"", ""react-dom"": ""^15.6.1"", ""react-router-dom"": ""^4.1.2"", ""react-scripts"": ""1.0.10"", ""serve"": ""^6.0.6"" }, ""scripts"": { ""start"": ""react-scripts start"", ""build"": ""react-scripts build"", ""now-start"": ""serve -s build"", ""test"": ""react-scripts test --env=jsdom"", ""eject"": ""react-scripts eject"", ""predeploy"": ""npm run build"" }  The error after running now: https://puu.sh/x96JE/6772acf19a.png now url: https://horizoverlay-culxvkwtif.now.sh",other-file | source-file | documentation-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | source-file | other-file | documentation-file | source-file | test-file | test-file | test-file | test-file | documentation-file | source-file | source-file | other-file | source-file | documentation-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | source-file | other-file | documentation-file | source-file | test-file | test-file | test-file | test-file | documentation-file | source-file | source-file | other-file | source-file | documentation-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | source-file | other-file | documentation-file | source-file | test-file | test-file | test-file | test-file | documentation-file | source-file | source-file | other-file | source-file | documentation-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | source-file | other-file | documentation-file | source-file | test-file | test-file | test-file | test-file | documentation-file | source-file | source-file | other-file | source-file | documentation-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | other-file | other-file | source-file | documentation-file | test-file | test-file | test-file | test-file | source-file | other-file | documentation-file | source-file | test-file | test-file | test-file | test-file | documentation-file | source-file | source-file | other-file | source-file | documentation-file | test-file | test-file | test-file | other-file,"NPM error executing serve -s build Hi guys, I'm trying to deploy a create-react-app with react routes in `now`. I added in my package.json `serve` as a dependency and a custom start (now-start) with `serve -s build`. But it fails on deploy, what appears to be an error with Chalk, and looks like theres no much I can try now. Could you take a look? node --version v8.2.1 npm --version 5.3.0 now --version 7.3.0 package.json (where it matters):  ""dependencies"": { ""react"": ""^15.6.1"", ""react-dom"": ""^15.6.1"", ""react-router-dom"": ""^4.1.2"", ""react-scripts"": ""1.0.10"", ""serve"": ""^6.0.6"" }, ""scripts"": { ""start"": ""react-scripts start"", ""build"": ""react-scripts build"", ""now-start"": ""serve -s build"", ""test"": ""react-scripts test --env=jsdom"", ""eject"": ""react-scripts eject"", ""predeploy"": ""npm run build"" }  The error after running now: https://puu.sh/x96JE/6772acf19a.png now url: https://horizoverlay-culxvkwtif.now.sh other-file source-file documentation-file other-file other-file source-file documentation-file test-file test-file test-file test-file other-file other-file source-file documentation-file test-file test-file test-file test-file source-file other-file documentation-file source-file test-file test-file test-file test-file documentation-file source-file source-file other-file source-file documentation-file test-file test-file test-file other-file other-file source-file documentation-file other-file other-file source-file documentation-file test-file test-file test-file test-file other-file other-file source-file documentation-file test-file test-file test-file test-file source-file other-file documentation-file source-file test-file test-file test-file test-file documentation-file source-file source-file other-file source-file documentation-file test-file test-file test-file other-file other-file source-file documentation-file other-file other-file source-file documentation-file test-file test-file test-file test-file other-file other-file source-file documentation-file test-file test-file test-file test-file source-file other-file documentation-file source-file test-file test-file test-file test-file documentation-file source-file source-file other-file source-file documentation-file test-file test-file test-file other-file other-file source-file documentation-file other-file other-file source-file documentation-file test-file test-file test-file test-file other-file other-file source-file documentation-file test-file test-file test-file test-file source-file other-file documentation-file source-file test-file test-file test-file test-file documentation-file source-file source-file other-file source-file documentation-file test-file test-file test-file other-file other-file source-file documentation-file other-file other-file source-file documentation-file test-file test-file test-file test-file other-file other-file source-file documentation-file test-file test-file test-file test-file source-file other-file documentation-file source-file test-file test-file test-file test-file documentation-file source-file source-file other-file source-file documentation-file test-file test-file test-file other-file",no-bug,0.95
2807,vercel,https://github.com/vercel/vercel/issues/2807,Provide a `--skip-alias` or `--target none` option to allow aliasing to be skipped during deployment,Allowing _stealth_ deployments to be made with only the deployment URL and no aliasing. `now --skip-alias` or `now --target none`,test-file,Provide a `--skip-alias` or `--target none` option to allow aliasing to be skipped during deployment Allowing _stealth_ deployments to be made with only the deployment URL and no aliasing. `now --skip-alias` or `now --target none` test-file,no-bug,0.9
25,vercel,https://github.com/vercel/vercel/issues/25,`net` module error on deployment,https://github.com/zeit/now-issues/issues/21,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | documentation-file,`net` module error on deployment https://github.com/zeit/now-issues/issues/21 source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file documentation-file,no-bug,0.7
788,vercel,https://github.com/vercel/vercel/issues/788,Cross Device Link error on Linux,"When running `now` on my project, I get the following error  > Deploying ""~/myproject"" (gcp) (us-central1)  Building and bundling your app> Error! An unexpected error occurred! Error: EXDEV: cross-device link not permitted, link '~/myproject/.esm-cache' -> '/tmp/now-nodejs-build-0DOGQEFWt3KyBYF8Okep/.esm-cache' Error: EXDEV: cross-device link not permitted, link '/home/igneo676/Code/adaptist-graphql/.esm-cache' -> '/tmp/now-nodejs-build-0DOGQEFWt3KyBYF8Okep/.esm-cache'  This is probably due to the fact that /tmp is on a separate partition on my machine, which is a pretty common pattern in Linux desktop machines",source-file | test-file,"Cross Device Link error on Linux When running `now` on my project, I get the following error  > Deploying ""~/myproject"" (gcp) (us-central1)  Building and bundling your app> Error! An unexpected error occurred! Error: EXDEV: cross-device link not permitted, link '~/myproject/.esm-cache' -> '/tmp/now-nodejs-build-0DOGQEFWt3KyBYF8Okep/.esm-cache' Error: EXDEV: cross-device link not permitted, link '/home/igneo676/Code/adaptist-graphql/.esm-cache' -> '/tmp/now-nodejs-build-0DOGQEFWt3KyBYF8Okep/.esm-cache'  This is probably due to the fact that /tmp is on a separate partition on my machine, which is a pretty common pattern in Linux desktop machines source-file test-file",no-bug,0.9
88,vercel,https://github.com/vercel/vercel/issues/88,Handle Docker build returning an error code,"## Description Instead of continuing after `docker build` returns a non-zero exit code, now should stop the deployment. ## What happens An example run of what happens now:  scifi now --version now 0.26.0 scifi now -e DB_URL=@db-url > Deploying ~/Developer/go/src/kisu.club/scifi > Using Node.js 6.9.0 (default) > Ready! https://scifi-bnurmgeuyl.now.sh (copied to clipboard) [4s] > Initializing > Building >  docker build > > Using cache > > ab51cc788ac7 > Step 5 : COPY . /go/src/scifi > > Using cache > > 86c222a09002 > Step 6 : RUN go get -d -v > > Running in be379d337348 > github.com/lib/pq (download) > go: missing Git command. See https://golang.org/s/gogetcmd > package github.com/lib/pq: exec: ""git"": executable file not found in $PATH > The command 'go get -d -v' returned a non-zero code: 1 >  Storing image >  docker build > > f4ef3b6138f0 > Removing intermediate container c3c6d114dc4e > Step 5 : COPY . /go/src/scifi > > cd9d38cf7b74 > Removing intermediate container cde385575838 > Step 6 : RUN go get -d -v > > Running in a71ef90cb15c > github.com/lib/pq (download) > go: missing Git command. See https://golang.org/s/gogetcmd > package github.com/lib/pq: exec: ""git"": executable file not found in $PATH > The command 'go get -d -v' returned a non-zero code: 1 >  Storing image [the build got stuck here I think]  It looks like the build falls back to rebuilding the image from scratch if the initial `docker build` fails. If the second build fails too, the deployment seems to hang forever. (The error in this build is that the image doesn't have `git`, but this report probably applies to any Docker build that returns a non-zero exit code.) ## Expected behaviour After `docker build` fails, Now should report the error to the user and stop the deployment.",documentation-file | source-file | source-file | other-file,"Handle Docker build returning an error code ## Description Instead of continuing after `docker build` returns a non-zero exit code, now should stop the deployment. ## What happens An example run of what happens now:  scifi now --version now 0.26.0 scifi now -e DB_URL=@db-url > Deploying ~/Developer/go/src/kisu.club/scifi > Using Node.js 6.9.0 (default) > Ready! https://scifi-bnurmgeuyl.now.sh (copied to clipboard) [4s] > Initializing > Building >  docker build > > Using cache > > ab51cc788ac7 > Step 5 : COPY . /go/src/scifi > > Using cache > > 86c222a09002 > Step 6 : RUN go get -d -v > > Running in be379d337348 > github.com/lib/pq (download) > go: missing Git command. See https://golang.org/s/gogetcmd > package github.com/lib/pq: exec: ""git"": executable file not found in $PATH > The command 'go get -d -v' returned a non-zero code: 1 >  Storing image >  docker build > > f4ef3b6138f0 > Removing intermediate container c3c6d114dc4e > Step 5 : COPY . /go/src/scifi > > cd9d38cf7b74 > Removing intermediate container cde385575838 > Step 6 : RUN go get -d -v > > Running in a71ef90cb15c > github.com/lib/pq (download) > go: missing Git command. See https://golang.org/s/gogetcmd > package github.com/lib/pq: exec: ""git"": executable file not found in $PATH > The command 'go get -d -v' returned a non-zero code: 1 >  Storing image [the build got stuck here I think]  It looks like the build falls back to rebuilding the image from scratch if the initial `docker build` fails. If the second build fails too, the deployment seems to hang forever. (The error in this build is that the image doesn't have `git`, but this report probably applies to any Docker build that returns a non-zero exit code.) ## Expected behaviour After `docker build` fails, Now should report the error to the user and stop the deployment. documentation-file source-file source-file other-file",no-bug,0.9
3193,vercel,https://github.com/vercel/vercel/issues/3193,"[now-cli] Error: ENOENT: no such file or directory, uv_cwd","Sentry Issue: [NOW-CLI-5EE](https://sentry.io/organizations/zeithq/issues/1282230049/?referrer=github_integration)  Error: ENOENT: no such file or directory, uv_cwd File ""/snapshot/repo/dist/index.js"", line 1, in process.cwd '{snip} LATFORM||process.platform;process.cwd=function(){if(!o)o=i.call(process);return o};try{process.cwd()}catch(e){}var s=process.chdir;process.c {snip} File ""/snapshot/repo/dist/index.js"", line 1, in getConfig '{snip} 7283));let u;async function getConfig(e,t){const n=process.cwd();if(u){return u}if(t){const r=i.default.resolve(n,t);e.debug(`Found config i {snip} File ""/snapshot/repo/dist/index.js"", line 1, in ge '{snip} );me=a.debug;const c=r[""--local-config""];const u=await te()(a,c);if(c&&u instanceof ne[""CantFindConfig""]){a.error(`Couldn't find a project c {snip} File ""/snapshot/repo/dist/index.js"", line 1, in Module.4165 '{snip} unhandledRejection"",ye);process.on(""uncaughtException"",be);ge(process.argv).then(e=>{process.emit(""nowExit"");process.on(""beforeExit"",()=>{pr {snip} File ""/snapshot/repo/dist/index.js"", line 1, in __webpack_require__ '{snip} turn n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,__webpack_require__);r.l=true;return r.exports}__webpa {snip}  (5 additional frame(s) were not displayed) Error: ENOENT: no such file or directory, uv_cwd ",source-file | source-file | source-file | source-file | source-file | source-file,"[now-cli] Error: ENOENT: no such file or directory, uv_cwd Sentry Issue: [NOW-CLI-5EE](https://sentry.io/organizations/zeithq/issues/1282230049/?referrer=github_integration)  Error: ENOENT: no such file or directory, uv_cwd File ""/snapshot/repo/dist/index.js"", line 1, in process.cwd '{snip} LATFORM||process.platform;process.cwd=function(){if(!o)o=i.call(process);return o};try{process.cwd()}catch(e){}var s=process.chdir;process.c {snip} File ""/snapshot/repo/dist/index.js"", line 1, in getConfig '{snip} 7283));let u;async function getConfig(e,t){const n=process.cwd();if(u){return u}if(t){const r=i.default.resolve(n,t);e.debug(`Found config i {snip} File ""/snapshot/repo/dist/index.js"", line 1, in ge '{snip} );me=a.debug;const c=r[""--local-config""];const u=await te()(a,c);if(c&&u instanceof ne[""CantFindConfig""]){a.error(`Couldn't find a project c {snip} File ""/snapshot/repo/dist/index.js"", line 1, in Module.4165 '{snip} unhandledRejection"",ye);process.on(""uncaughtException"",be);ge(process.argv).then(e=>{process.emit(""nowExit"");process.on(""beforeExit"",()=>{pr {snip} File ""/snapshot/repo/dist/index.js"", line 1, in __webpack_require__ '{snip} turn n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,__webpack_require__);r.l=true;return r.exports}__webpa {snip}  (5 additional frame(s) were not displayed) Error: ENOENT: no such file or directory, uv_cwd  source-file source-file source-file source-file source-file source-file",no-bug,0.9
923,vercel,https://github.com/vercel/vercel/issues/923,`Error! Unexpected error` when the error is in the message,"$ now certs create domain.com > Error! Unexpected error. Please try again later. (You don't have access to ""domain.com"")",source-file | source-file | documentation-file | other-file | source-file | source-file | documentation-file | other-file | source-file | source-file | documentation-file | other-file,"`Error! Unexpected error` when the error is in the message $ now certs create domain.com > Error! Unexpected error. Please try again later. (You don't have access to ""domain.com"") source-file source-file documentation-file other-file source-file source-file documentation-file other-file source-file source-file documentation-file other-file",no-bug,0.7
3310,vercel,https://github.com/vercel/vercel/issues/3310,[now-client] Missing dist files,The published version of `now-client` is missing its distribution files. It started happening after 5.2.1 update. https://unpkg.com/now-client@5.2.1 https://unpkg.com/now-client@5.2.2 https://unpkg.com/now-client@5.2.3,documentation-file | source-file | documentation-file | source-file | source-file | documentation-file | other-file,[now-client] Missing dist files The published version of `now-client` is missing its distribution files. It started happening after 5.2.1 update. https://unpkg.com/now-client@5.2.1 https://unpkg.com/now-client@5.2.2 https://unpkg.com/now-client@5.2.3 documentation-file source-file documentation-file source-file source-file documentation-file other-file,no-bug,0.9
247,vercel,https://github.com/vercel/vercel/issues/247,Now-cli console and web console messages not in sync,"When e.g I'm deploying [this code](https://github.com/relatenow/relate/tree/f89847422eeb0f83d3ddae1dcf2a9002133e45c5), I see this in the console: <details>  $ now > Deploying ~/Documents/relate > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/callback.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/login.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/commons.js (size exceeded 1MB) > Warning! 3 of the files exceeded the limit for your plan. > See https://zeit.co/account to upgrade. > Using Node.js 7.0.0 (default) > Ready! https://relate-jonxlpwpir.now.sh (copied to clipboard) [2s] > Upload [] 100% 0.0s > Sync complete (72.55kB) [2s] > Initializing > Building >  npm install >  eslint@^3.8.1 >  eslint-config-airbnb@^14.0.0 >  nodemon@^1.11.0 >  pre-commit@^1.1.3 >  apollo-client@^0.7.2 >  graphql-anywhere@^2.0.0 >  graphql-tag@^1.1.2 >  react-apollo@^0.8.1 >  react-player@^0.14.1  </details><br/> But I see this in the browser at https://relate-jonxlpwpir.now.sh: <details>  npm install  Using ""yarn.lock""  Installing:  babel-eslint@^7.1.0  eslint@^3.8.1  eslint-config-airbnb@^14.0.0  eslint-plugin-import@^2.0.1  eslint-plugin-jsx-a11y@^3.0.2  eslint-plugin-react@^6.4.1  lint-staged@^3.2.0  nodemon@^1.11.0  pre-commit@^1.1.3  apollo-client@^0.7.2  auth0-lock@^10.7.2  graphql-anywhere@^2.0.0  graphql-tag@^1.1.2  next@^2.0.0-beta  nprogress@^0.2.0  path-match@^1.2.4  react-apollo@^0.8.1  react-ga@^2.1.2  react-player@^0.14.1  smooch@^3.9.3  uuid@^3.0.1  </details><br/> I wondered why the messages are different (e.g ` npm install` vs. `npm install   Using ""yarn.lock""   Installing`) and why the package list is different.",source-file,"Now-cli console and web console messages not in sync When e.g I'm deploying [this code](https://github.com/relatenow/relate/tree/f89847422eeb0f83d3ddae1dcf2a9002133e45c5), I see this in the console: <details>  $ now > Deploying ~/Documents/relate > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/callback.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/bundles/pages/auth/login.json (size exceeded 1MB) > Warning! Skipping file /Users/sdubois/Documents/relate/.next/commons.js (size exceeded 1MB) > Warning! 3 of the files exceeded the limit for your plan. > See https://zeit.co/account to upgrade. > Using Node.js 7.0.0 (default) > Ready! https://relate-jonxlpwpir.now.sh (copied to clipboard) [2s] > Upload [] 100% 0.0s > Sync complete (72.55kB) [2s] > Initializing > Building >  npm install >  eslint@^3.8.1 >  eslint-config-airbnb@^14.0.0 >  nodemon@^1.11.0 >  pre-commit@^1.1.3 >  apollo-client@^0.7.2 >  graphql-anywhere@^2.0.0 >  graphql-tag@^1.1.2 >  react-apollo@^0.8.1 >  react-player@^0.14.1  </details><br/> But I see this in the browser at https://relate-jonxlpwpir.now.sh: <details>  npm install  Using ""yarn.lock""  Installing:  babel-eslint@^7.1.0  eslint@^3.8.1  eslint-config-airbnb@^14.0.0  eslint-plugin-import@^2.0.1  eslint-plugin-jsx-a11y@^3.0.2  eslint-plugin-react@^6.4.1  lint-staged@^3.2.0  nodemon@^1.11.0  pre-commit@^1.1.3  apollo-client@^0.7.2  auth0-lock@^10.7.2  graphql-anywhere@^2.0.0  graphql-tag@^1.1.2  next@^2.0.0-beta  nprogress@^0.2.0  path-match@^1.2.4  react-apollo@^0.8.1  react-ga@^2.1.2  react-player@^0.14.1  smooch@^3.9.3  uuid@^3.0.1  </details><br/> I wondered why the messages are different (e.g ` npm install` vs. `npm install   Using ""yarn.lock""   Installing`) and why the package list is different. source-file",no-bug,0.9
594,vercel,https://github.com/vercel/vercel/issues/594,Question on Path Aliasing,"When you create following rules: js { ""rules"": [ { ""pathname"": ""/foo/**"", ""dest"": ""foo.another.com"" } ] }  Why do I still have to use `foo.example.com/foo/bar` instead of just using `foo.example.com/bar`? The problem is that the app running on foo.another.com needs to be aware of the path used in `rules.json` which makes it kinda coupled.",config-file | source-file | documentation-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file,"Question on Path Aliasing When you create following rules: js { ""rules"": [ { ""pathname"": ""/foo/**"", ""dest"": ""foo.another.com"" } ] }  Why do I still have to use `foo.example.com/foo/bar` instead of just using `foo.example.com/bar`? The problem is that the app running on foo.another.com needs to be aware of the path used in `rules.json` which makes it kinda coupled. config-file source-file documentation-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file other-file",no-bug,0.9
1190,vercel,https://github.com/vercel/vercel/issues/1190,login doesn't work in emacs shell,"If you try to run `now` within an Emacs shell, it fails to properly read your email address. To reproduce: - Run `emacs -q` (for example, GNU Emacs 25.3.1). The -q turns off all local customization - M-x shell - In the shell:  $ now login > Enter your email: glasser@apollographql.com  After entering your email, `now` just hangs. This is presumably an issue in the email-prompt npm module.",documentation-file | other-file,"login doesn't work in emacs shell If you try to run `now` within an Emacs shell, it fails to properly read your email address. To reproduce: - Run `emacs -q` (for example, GNU Emacs 25.3.1). The -q turns off all local customization - M-x shell - In the shell:  $ now login > Enter your email: glasser@apollographql.com  After entering your email, `now` just hangs. This is presumably an issue in the email-prompt npm module. documentation-file other-file",no-bug,0.9
2564,vercel,https://github.com/vercel/vercel/issues/2564,Error: kill ENOSYS," Error: kill ENOSYS File ""C:\snapshot\repo\dist\index.js"", line 1, in process.listener '{snip} oad();emit(""exit"",null,e);emit(""afterexit"",null,e);process.kill(process.pid,e));e.exports.signals=function(){return i};e.exports.load=loa {snip} File ""C:\snapshot\repo\dist\sourcemap-register.js"", line 1138, in process.module.exports.210.process.emit return origEmit.apply(this, arguments); Error: kill ENOSYS ",documentation-file | other-file | documentation-file | other-file | documentation-file | other-file,"Error: kill ENOSYS  Error: kill ENOSYS File ""C:\snapshot\repo\dist\index.js"", line 1, in process.listener '{snip} oad();emit(""exit"",null,e);emit(""afterexit"",null,e);process.kill(process.pid,e));e.exports.signals=function(){return i};e.exports.load=loa {snip} File ""C:\snapshot\repo\dist\sourcemap-register.js"", line 1138, in process.module.exports.210.process.emit return origEmit.apply(this, arguments); Error: kill ENOSYS  documentation-file other-file documentation-file other-file documentation-file other-file",no-bug,0.9
447,vercel,https://github.com/vercel/vercel/issues/447,Warning! Requested node version 7.9.0 is not available 7.7.3,"Express does not support async. I was trying to do something like: `server.post('/api/getApi', async (req, res) => {` The current version installed 7.7.3 does not support it, but with 7.9.0 it works. Will you update node to the last one?",source-file | test-file | test-file | test-file,"Warning! Requested node version 7.9.0 is not available 7.7.3 Express does not support async. I was trying to do something like: `server.post('/api/getApi', async (req, res) => {` The current version installed 7.7.3 does not support it, but with 7.9.0 it works. Will you update node to the last one? source-file test-file test-file test-file",no-bug,0.9
2417,vercel,https://github.com/vercel/vercel/issues/2417,[now dev] Routes don't work when there is only one static builder specified,"`now dev` doesn't respect routing rules when there are no lambdas configured in `now.json`. When I visit `localhost:3000/`, I get directory listing view, not the html file configured in `now.json` ## Technical info **OS:** macOS 10.15 (Catalina) Beta (19A471t) **My `now.json`:** json { ""version"": 2, ""builds"": [ { ""src"": ""public/**"", ""use"": ""@now/static"" } ], ""routes"": [ { ""src"": ""/"", ""dest"": ""/public/host.html"" }, { ""src"": ""\/l\/(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)"", ""dest"": ""/public/guest.html""} ] }  **Other useful info:**  $ now --version 15.4.0 $ node -v v11.13.0 $ tree .  LICENSE.md  README.md  docs   logo.svg  now.json  package.json  public  guest.html  guest.js  host.html  host.js  logo.svg  main.css 2 directories, 11 files $ now dev -d > [debug] [2019-06-10T13:50:50.256Z] Found config in file /Users/georgebougakov/dev/JoinMyCall/now.json > [debug] [2019-06-10T13:50:50.270Z] Using Now CLI 15.4.0 > [debug] [2019-06-10T13:50:50.275Z] user supplied known subcommand > Now CLI 15.4.0 dev (beta)  https://zeit.co/feedback/dev > [debug] [2019-06-10T13:50:50.490Z] The yarn executable is already cached, not re-downloading > [debug] [2019-06-10T13:50:50.490Z] Reading `now.json` file > [debug] [2019-06-10T13:50:50.504Z] Locating files /Users/georgebougakov/dev/JoinMyCall > [debug] [2019-06-10T13:50:50.508Z] Ignoring /Users/georgebougakov/dev/JoinMyCall/.git > [debug] [2019-06-10T13:50:50.520Z] Locating files /Users/georgebougakov/dev/JoinMyCall: 14.910ms > [debug] [2019-06-10T13:50:50.560Z] Locating files /Users/georgebougakov/dev/JoinMyCall > [debug] [2019-06-10T13:50:50.562Z] Locating files /Users/georgebougakov/dev/JoinMyCall: 1.667ms > [debug] [2019-06-10T13:50:50.563Z] Adding build match for ""public/guest.html"" > [debug] [2019-06-10T13:50:50.563Z] Adding build match for ""public/guest.js"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/host.html"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/host.js"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/logo.svg"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/main.css"" > Ready! Available at http://localhost:3000 > GET / ",source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"[now dev] Routes don't work when there is only one static builder specified `now dev` doesn't respect routing rules when there are no lambdas configured in `now.json`. When I visit `localhost:3000/`, I get directory listing view, not the html file configured in `now.json` ## Technical info **OS:** macOS 10.15 (Catalina) Beta (19A471t) **My `now.json`:** json { ""version"": 2, ""builds"": [ { ""src"": ""public/**"", ""use"": ""@now/static"" } ], ""routes"": [ { ""src"": ""/"", ""dest"": ""/public/host.html"" }, { ""src"": ""\/l\/(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)"", ""dest"": ""/public/guest.html""} ] }  **Other useful info:**  $ now --version 15.4.0 $ node -v v11.13.0 $ tree .  LICENSE.md  README.md  docs   logo.svg  now.json  package.json  public  guest.html  guest.js  host.html  host.js  logo.svg  main.css 2 directories, 11 files $ now dev -d > [debug] [2019-06-10T13:50:50.256Z] Found config in file /Users/georgebougakov/dev/JoinMyCall/now.json > [debug] [2019-06-10T13:50:50.270Z] Using Now CLI 15.4.0 > [debug] [2019-06-10T13:50:50.275Z] user supplied known subcommand > Now CLI 15.4.0 dev (beta)  https://zeit.co/feedback/dev > [debug] [2019-06-10T13:50:50.490Z] The yarn executable is already cached, not re-downloading > [debug] [2019-06-10T13:50:50.490Z] Reading `now.json` file > [debug] [2019-06-10T13:50:50.504Z] Locating files /Users/georgebougakov/dev/JoinMyCall > [debug] [2019-06-10T13:50:50.508Z] Ignoring /Users/georgebougakov/dev/JoinMyCall/.git > [debug] [2019-06-10T13:50:50.520Z] Locating files /Users/georgebougakov/dev/JoinMyCall: 14.910ms > [debug] [2019-06-10T13:50:50.560Z] Locating files /Users/georgebougakov/dev/JoinMyCall > [debug] [2019-06-10T13:50:50.562Z] Locating files /Users/georgebougakov/dev/JoinMyCall: 1.667ms > [debug] [2019-06-10T13:50:50.563Z] Adding build match for ""public/guest.html"" > [debug] [2019-06-10T13:50:50.563Z] Adding build match for ""public/guest.js"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/host.html"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/host.js"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/logo.svg"" > [debug] [2019-06-10T13:50:50.564Z] Adding build match for ""public/main.css"" > Ready! Available at http://localhost:3000 > GET /  source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.8
638,vercel,https://github.com/vercel/vercel/issues/638,now rm $(now ls),"It would be nice if `now ls` could return only deployment ids if there's no tty, to let us pipe the result to another. Just like in docker we can do `docker rm $(docker ps -aq)`. In now, it could be `now rm $(now ls)` Or explicitly tell silent mode `-s`, `now rm $(now ls -q)`",documentation-file | source-file | source-file | test-file | other-file,"now rm $(now ls) It would be nice if `now ls` could return only deployment ids if there's no tty, to let us pipe the result to another. Just like in docker we can do `docker rm $(docker ps -aq)`. In now, it could be `now rm $(now ls)` Or explicitly tell silent mode `-s`, `now rm $(now ls -q)` documentation-file source-file source-file test-file other-file",no-bug,0.9
3416,vercel,https://github.com/vercel/vercel/issues/3416,[now dev] @now/python builder exited with SIGKILL,"Hi, I tried to run `now dev` on my Digital Ocean VPS and this error happened with Python lambdas. I don't know exactly why. - OS Fedora 30 - `now` v16.6.3 - Debug log:  > [debug] [2019-12-12T11:38:03.970Z] Error: Builder exited with SIGKILL before sending build result at ChildProcess.onExit (/usr/lib/node_modules/now/dist/index.js:2:3462594) at ChildProcess.emit (events.js:203:15) at ChildProcess.EventEmitter.emit (domain.js:448:20) at Process.ChildProcess._handle.onexit (internal/child_process.js:248:12)  However, it doesn't happen with my Manjaro installation. Do you know what may be the cause and how to fix it? Thank you!",source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"[now dev] @now/python builder exited with SIGKILL Hi, I tried to run `now dev` on my Digital Ocean VPS and this error happened with Python lambdas. I don't know exactly why. - OS Fedora 30 - `now` v16.6.3 - Debug log:  > [debug] [2019-12-12T11:38:03.970Z] Error: Builder exited with SIGKILL before sending build result at ChildProcess.onExit (/usr/lib/node_modules/now/dist/index.js:2:3462594) at ChildProcess.emit (events.js:203:15) at ChildProcess.EventEmitter.emit (domain.js:448:20) at Process.ChildProcess._handle.onexit (internal/child_process.js:248:12)  However, it doesn't happen with my Manjaro installation. Do you know what may be the cause and how to fix it? Thank you! source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
419,vercel,https://github.com/vercel/vercel/issues/419,now help help throws stack trace,"This is by no means a major bug, but it's worth mentioning. I'd expect now help help to be equivalent to now help, not throw a stack trace. ~  now --version now 2.0.2 ~  now help help module.js:472 var err = new Error(""Cannot find module '"" + request + ""'""); ^ Error: Cannot find module '/thebox/Users/leo/Projects/now-cli/bin/now-help.js' at Module._resolveFilename (module.js:472:15) at Function.Module._resolveFilename (evalmachine.<anonymous>:0:0) at Function.Module._load (module.js:420:25) at Module.require (module.js:500:17) at Module.require (evalmachine.<anonymous>:0:0) at require (internal/module.js:20:19) at Object.<anonymous> (/thebox/Users/leo/Projects/now-cli/bin/now.js:85:1) at Module._compile (module.js:573:32) at Module._compile (evalmachine.<anonymous>:0:0) at Object.Module._extensions..js (module.js:582:10)   ~ ",documentation-file | documentation-file | source-file,"now help help throws stack trace This is by no means a major bug, but it's worth mentioning. I'd expect now help help to be equivalent to now help, not throw a stack trace. ~  now --version now 2.0.2 ~  now help help module.js:472 var err = new Error(""Cannot find module '"" + request + ""'""); ^ Error: Cannot find module '/thebox/Users/leo/Projects/now-cli/bin/now-help.js' at Module._resolveFilename (module.js:472:15) at Function.Module._resolveFilename (evalmachine.<anonymous>:0:0) at Function.Module._load (module.js:420:25) at Module.require (module.js:500:17) at Module.require (evalmachine.<anonymous>:0:0) at require (internal/module.js:20:19) at Object.<anonymous> (/thebox/Users/leo/Projects/now-cli/bin/now.js:85:1) at Module._compile (module.js:573:32) at Module._compile (evalmachine.<anonymous>:0:0) at Object.Module._extensions..js (module.js:582:10)   ~  documentation-file documentation-file source-file",no-bug,0.9
3107,vercel,https://github.com/vercel/vercel/issues/3107,[now-cli] Now cli 16.3.0 `--prod` option does not alias domain when build succeeded,"Hi everyone, First of all, amazing service and this is really the first time I've found an issue in a process that was overall very seamless, thank you! Now I did get an issue with updating `now-cli` to 16.3.0, and to my surprise my build does not get to be aliased to my custom domain. Going back to `now-cli@16.2.0` fixes my issue completely. My command is the following:  now --prod --local-config ./.now/now.dev.json  My config is:  { ""name"": ""website-dev"", ""alias"": ""domain.com"", ""version"": 2, ""build"": { ""env"": { // hidden } }, ""builds"": [{ ""src"": ""next.config.js"", ""use"": ""@now/next"" }] }  Is there something I need to update to support the newer now-cli updates? Thanks in advance, let me know if you need more info from me!",source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file,"[now-cli] Now cli 16.3.0 `--prod` option does not alias domain when build succeeded Hi everyone, First of all, amazing service and this is really the first time I've found an issue in a process that was overall very seamless, thank you! Now I did get an issue with updating `now-cli` to 16.3.0, and to my surprise my build does not get to be aliased to my custom domain. Going back to `now-cli@16.2.0` fixes my issue completely. My command is the following:  now --prod --local-config ./.now/now.dev.json  My config is:  { ""name"": ""website-dev"", ""alias"": ""domain.com"", ""version"": 2, ""build"": { ""env"": { // hidden } }, ""builds"": [{ ""src"": ""next.config.js"", ""use"": ""@now/next"" }] }  Is there something I need to update to support the newer now-cli updates? Thanks in advance, let me know if you need more info from me! source-file source-file source-file test-file test-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file",no-bug,0.8
691,vercel,https://github.com/vercel/vercel/issues/691,Remove old aliased deployments after replacing them,"## Goal In CI, when I [deploy my app to staging](https://gist.github.com/sholladay/bd0d9ffeebee6dd8207766be18886503#file-deploy-staging-sh) and then alias it, I'd like to remove the deployment that is being replaced (the one that was previously at that alias). The old deployment will forever go unused from that point forward and it takes up space in the `now ls` output, adding noise and confusion to what our deployments actually represent. ## Details The command `now remove my-app --yes --safe` comes close to what I want, except that it potentially removes deployments that weren't done in CI (e.g. experiments by my team), so it's a bit too aggressive. Additionally, it errors out if there _aren't_ any old deployments (i.e. it fails the first time), which I don't want in the case of an alias that otherwise succeeds. As a workaround, I had an idea to run `OLD_URL=$(now ls my-alias)` as a first step before deploying, so that I know what to remove later on. Trying that, `OLD_URL` currently becomes: > \> 1 deployment found under my-app [1s] my-app (1 of 1 total) url inst # state age my-app-abcdefghij.now.sh 1 READY 20h So the info I need (`my-app-abcdefghij.now.sh`) is in there, but I would have to parse it, which I'm not keen on. My ideal solution would simply be an opt-in flag to use when aliasing, since this is a common case. sh now alias set staging.my-app.com --remove-old ",source-file | test-file | test-file | test-file | test-file | test-file,"Remove old aliased deployments after replacing them ## Goal In CI, when I [deploy my app to staging](https://gist.github.com/sholladay/bd0d9ffeebee6dd8207766be18886503#file-deploy-staging-sh) and then alias it, I'd like to remove the deployment that is being replaced (the one that was previously at that alias). The old deployment will forever go unused from that point forward and it takes up space in the `now ls` output, adding noise and confusion to what our deployments actually represent. ## Details The command `now remove my-app --yes --safe` comes close to what I want, except that it potentially removes deployments that weren't done in CI (e.g. experiments by my team), so it's a bit too aggressive. Additionally, it errors out if there _aren't_ any old deployments (i.e. it fails the first time), which I don't want in the case of an alias that otherwise succeeds. As a workaround, I had an idea to run `OLD_URL=$(now ls my-alias)` as a first step before deploying, so that I know what to remove later on. Trying that, `OLD_URL` currently becomes: > \> 1 deployment found under my-app [1s] my-app (1 of 1 total) url inst # state age my-app-abcdefghij.now.sh 1 READY 20h So the info I need (`my-app-abcdefghij.now.sh`) is in there, but I would have to parse it, which I'm not keen on. My ideal solution would simply be an opt-in flag to use when aliasing, since this is a common case. sh now alias set staging.my-app.com --remove-old  source-file test-file test-file test-file test-file test-file",no-bug,0.9
710,vercel,https://github.com/vercel/vercel/issues/710,Can not install now-cli on ubuntu,"I am using ubuntu 16.04. I run `sudo npm i -g now`, but got the following output: bash /opt/node-v6.9.2-linux-x64/bin/now -> /opt/node-v6.9.2-linux-x64/lib/node_modules/now/download/dist/now > now@7.2.0 postinstall /opt/node-v6.9.2-linux-x64/lib/node_modules/now > node download/install.js > For the source code, check out: https://github.com/zeit/now-cli > Downloading now CLI 7.2.0 [ ] 0%  My network has no problem, but progress stays in 0% and never changed.",source-file | test-file | test-file,"Can not install now-cli on ubuntu I am using ubuntu 16.04. I run `sudo npm i -g now`, but got the following output: bash /opt/node-v6.9.2-linux-x64/bin/now -> /opt/node-v6.9.2-linux-x64/lib/node_modules/now/download/dist/now > now@7.2.0 postinstall /opt/node-v6.9.2-linux-x64/lib/node_modules/now > node download/install.js > For the source code, check out: https://github.com/zeit/now-cli > Downloading now CLI 7.2.0 [ ] 0%  My network has no problem, but progress stays in 0% and never changed. source-file test-file test-file",no-bug,0.9
3351,vercel,https://github.com/vercel/vercel/issues/3351,[now-python] Packages reinstalled at every build with `now dev`,This problem was already solved for nodejs but still exists in python,source-file | source-file,[now-python] Packages reinstalled at every build with `now dev` This problem was already solved for nodejs but still exists in python source-file source-file,no-bug,0.8
1732,vercel,https://github.com/vercel/vercel/issues/1732,Broken deployment-error link,Just received an unspecified error message after my files where uploaded:   > Error! Your deployment failed. Please retry later. More: https://err.sh/now-cli/deployment-error  The link [https://err.sh/now-cli/deployment-error](https://err.sh/now-cli/deployment-error) redirects to [https://github.com/zeit/now-cli/blob/master/errors/deployment-error.md](https://github.com/zeit/now-cli/blob/master/errors/deployment-error.md) which does not exist. Would suggest to either fix the redirect or create the doc file in case it is missing. Using now-cli v2.,documentation-file | documentation-file,Broken deployment-error link Just received an unspecified error message after my files where uploaded:   > Error! Your deployment failed. Please retry later. More: https://err.sh/now-cli/deployment-error  The link [https://err.sh/now-cli/deployment-error](https://err.sh/now-cli/deployment-error) redirects to [https://github.com/zeit/now-cli/blob/master/errors/deployment-error.md](https://github.com/zeit/now-cli/blob/master/errors/deployment-error.md) which does not exist. Would suggest to either fix the redirect or create the doc file in case it is missing. Using now-cli v2. documentation-file documentation-file,no-bug,0.9
1167,vercel,https://github.com/vercel/vercel/issues/1167,Consistently apply waiting message to all commands that perform I/O,"Related to #1166 Right now, some commands are displaying a ""fetching data"" message, and some others are not. We should consistently apply this technique. Example: `now ls` is not doing something like this:   now ls  Fetching deployments for *zeit* ",source-file | source-file | source-file | source-file | source-file | documentation-file | test-file | other-file | documentation-file | source-file | source-file | test-file | other-file | source-file | documentation-file | source-file | source-file | test-file | other-file | source-file | source-file | source-file | source-file,"Consistently apply waiting message to all commands that perform I/O Related to #1166 Right now, some commands are displaying a ""fetching data"" message, and some others are not. We should consistently apply this technique. Example: `now ls` is not doing something like this:   now ls  Fetching deployments for *zeit*  source-file source-file source-file source-file source-file documentation-file test-file other-file documentation-file source-file source-file test-file other-file source-file documentation-file source-file source-file test-file other-file source-file source-file source-file source-file",no-bug,0.9
127,vercel,https://github.com/vercel/vercel/issues/127,Glob patterns in package.json doesn't work,"Having a glob pattern like following in files directive of package.json results in the following error:  ""files"": [ ""*.js"" ],   > Deploying ~/test [debug] `package.json` found, assuming `deploymentType` = `npm` > [debug] error: Error: ENOENT: no such file or directory, stat '/Users/me/test/*.js' at Error (native) > Error! Unexpected error. Please try later. (ENOENT: no such file or directory, stat '/Users/me/test/*.js')  Workaround is to install earlier release e.g. `npm i -g now@0.28.0`",source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | source-file | documentation-file,"Glob patterns in package.json doesn't work Having a glob pattern like following in files directive of package.json results in the following error:  ""files"": [ ""*.js"" ],   > Deploying ~/test [debug] `package.json` found, assuming `deploymentType` = `npm` > [debug] error: Error: ENOENT: no such file or directory, stat '/Users/me/test/*.js' at Error (native) > Error! Unexpected error. Please try later. (ENOENT: no such file or directory, stat '/Users/me/test/*.js')  Workaround is to install earlier release e.g. `npm i -g now@0.28.0` source-file documentation-file source-file documentation-file source-file documentation-file source-file documentation-file source-file documentation-file",no-bug,0.9
2023,vercel,https://github.com/vercel/vercel/issues/2023,`now dev` routing errors,"Please assign now dev tag, and good work getting closer to public release. Getting `Error: Unable to encode undefined of type undefined` when trying to navigate directly to a page defined in the routes, `/page?uid=$uid` in a project integrating Prismic. Client-side routing works as usual. Issue seems to be when `getInitialProps` is called and tries to fetch using the Prismic API  const API = await Prismic.getApi(apiEndpoint, { req, accessToken }); const document = await API.getByUID('page', uid);  Works without any issues when deployed in Now v2. Repository to replicate error https://github.com/raulg/nextjs-blog/tree/Serverless-Now",source-file | documentation-file | source-file | test-file | other-file | source-file | documentation-file | source-file | source-file | test-file | other-file | source-file | documentation-file | source-file | source-file | test-file | other-file | source-file | documentation-file | source-file | source-file | test-file | other-file,"`now dev` routing errors Please assign now dev tag, and good work getting closer to public release. Getting `Error: Unable to encode undefined of type undefined` when trying to navigate directly to a page defined in the routes, `/page?uid=$uid` in a project integrating Prismic. Client-side routing works as usual. Issue seems to be when `getInitialProps` is called and tries to fetch using the Prismic API  const API = await Prismic.getApi(apiEndpoint, { req, accessToken }); const document = await API.getByUID('page', uid);  Works without any issues when deployed in Now v2. Repository to replicate error https://github.com/raulg/nextjs-blog/tree/Serverless-Now source-file documentation-file source-file test-file other-file source-file documentation-file source-file source-file test-file other-file source-file documentation-file source-file source-file test-file other-file source-file documentation-file source-file source-file test-file other-file",no-bug,0.7
366,vercel,https://github.com/vercel/vercel/issues/366,Improve UX/DX of `now alias`,"After discussing on slack I had the following idea: Right now we do a client side DNS check only. Because DNS is not propagated right away it usually shows a message saying something like: records not verified, please try again later. What we want to do is this: 1. We check local DNS (same as we do at the moment) 2. We check the records on a specific nameserver And then show a message is they are out of sync, We should still fail it, just show why it fails. And if it was configured correctly on ZEIT.world or not, say, failed propagation because of dns caching would be transparent to the user this way. cc @jamo @OlliV",source-file | documentation-file,"Improve UX/DX of `now alias` After discussing on slack I had the following idea: Right now we do a client side DNS check only. Because DNS is not propagated right away it usually shows a message saying something like: records not verified, please try again later. What we want to do is this: 1. We check local DNS (same as we do at the moment) 2. We check the records on a specific nameserver And then show a message is they are out of sync, We should still fail it, just show why it fails. And if it was configured correctly on ZEIT.world or not, say, failed propagation because of dns caching would be transparent to the user this way. cc @jamo @OlliV source-file documentation-file",no-bug,0.9
810,vercel,https://github.com/vercel/vercel/issues/810,"now-cli 8 prints ""> Caching account information"" even if the output is piped into a command","Hi, The following command : deploy_url=$(cd out/ && now --static -p -n unicodetool-client -t $NOW_TOKEN) works well on my machine where I'm logged in and don't need the token, but on travis the content of `deploy_url` is `> Caching account information https://unicodetool-client-xxx.now.sh` The caching part should probably be hidden when piping or be printed on stderr. I'm almost certain it was working yesterday on version 7, but I can't be sure because it was on another project so something else could have changed.",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"now-cli 8 prints ""> Caching account information"" even if the output is piped into a command Hi, The following command : deploy_url=$(cd out/ && now --static -p -n unicodetool-client -t $NOW_TOKEN) works well on my machine where I'm logged in and don't need the token, but on travis the content of `deploy_url` is `> Caching account information https://unicodetool-client-xxx.now.sh` The caching part should probably be hidden when piping or be printed on stderr. I'm almost certain it was working yesterday on version 7, but I can't be sure because it was on another project so something else could have changed. source-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
907,vercel,https://github.com/vercel/vercel/issues/907,"Unable to add mx records (""invalid MX priority"")","I'm trying to set up mx records for my domain `happo.io`, pointing to google servers. On using the `now dns add` command, I'm getting this error:  now dns add happo.io @ MX ASPMX.L.GOOGLE.COM 1 > Error! Unexpected error. Please try again later. (Invalid priority given for an MX record)  I've tried other priorities as well (0, 10, 20, etc) and they all result in the same error. I've [reached out to folks in the zeit-community slack channel](https://zeit-community.slack.com/archives/C1TMPLCKS/p1507150386000010) but I haven't had any responses.",source-file,"Unable to add mx records (""invalid MX priority"") I'm trying to set up mx records for my domain `happo.io`, pointing to google servers. On using the `now dns add` command, I'm getting this error:  now dns add happo.io @ MX ASPMX.L.GOOGLE.COM 1 > Error! Unexpected error. Please try again later. (Invalid priority given for an MX record)  I've tried other priorities as well (0, 10, 20, etc) and they all result in the same error. I've [reached out to folks in the zeit-community slack channel](https://zeit-community.slack.com/archives/C1TMPLCKS/p1507150386000010) but I haven't had any responses. source-file",no-bug,0.8
583,vercel,https://github.com/vercel/vercel/issues/583,"Now upload failed error, but little details","I'm using now to deploy a static web site. During the deployment, something went wrong: ![image](https://cloud.githubusercontent.com/assets/393660/26458848/1e476b8e-413a-11e7-909b-c08702a7b01e.png) I've got little to no idea what ""Response error"" means here. Well, I can guess it means the CLI didn't like what it heard back from the server, but I don't know how to go forward in terms of correcting it.",test-file,"Now upload failed error, but little details I'm using now to deploy a static web site. During the deployment, something went wrong: ![image](https://cloud.githubusercontent.com/assets/393660/26458848/1e476b8e-413a-11e7-909b-c08702a7b01e.png) I've got little to no idea what ""Response error"" means here. Well, I can guess it means the CLI didn't like what it heard back from the server, but I don't know how to go forward in terms of correcting it. test-file",no-bug,0.9
289,vercel,https://github.com/vercel/vercel/issues/289,new static deployments are broken,"Similar to #288 I was trying to deploy earlier but failed. Here is my environment.  $ node --version v6.3.0 $ now --version now 4.1.2  Using default deploy by `now`, seems some issues were there cause the deployment took much longer with error showing `> FetchError: network timeout at: http://10.100.202.49:3000`. Would be nice to have some investigation, if you need more information please let me know.  $ now > Deploying ~/try/xxx.xxx > Using Node.js 7.0.0 (default) > Ready! https://xxxxxxx-xwsmsifefl.now.sh (copied to clipboard) [2s] > Initializing > Building >  npm install >  Installing: >  serve@^3.2.0 > FetchError: network timeout at: http://10.100.202.49:3000 >  npm install > Installing package serve@^3.2.0 >  npm start > > xxxx.xxx@ start /home/nowuser/src > > serve ./content > npm ERR! > npm ERR! Failed at the xxxx.xxx@ start script 'serve ./content'. > npm ERR! Make sure you have the latest version of node.js and npm installed. > npm ERR! If you do, this is most likely a problem with the xxxxx.xxx package, > npm ERR! not with npm itself. > npm ERR! Tell the author that this fails on your system: > npm ERR! serve ./content > npm ERR! You can get information on how to open an issue for this project with: > npm ERR! npm bugs xxxx.xxx > npm ERR! Or if that isn't available, you can get their info via: > npm ERR! npm owner ls xxxx.xxx > npm ERR! There is likely additional logging output above. > npm ERR! Linux 4.7.0-coreos > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.0.0 > npm ERR! code EACCES > npm ERR! errno -13 > npm ERR! Error: EACCES: permission denied, open 'npm-debug.log.4282404183' > npm ERR! { Error: EACCES: permission denied, open 'npm-debug.log.4282404183' > /home/nowuser/src/node_modules/877f43508f8b78f3e67c804b38705ae738d0118a/lib/listening.js:7 > const copyToClipboard = async text => { >  > SyntaxError: Unexpected identifier > at Object.exports.runInThisContext (vm.js:76:16) > at Module._compile (module.js:545:28) > at Module._extensions..js (module.js:582:10) > at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/2a9909022d27ed3456706e4b2e3a923934cd710e/register.js:42:5) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > at Function.Module._load (module.js:441:3) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/node_modules/877f43508f8b78f3e67c804b38705ae738d0118a/lib/index.js:11:19) > npm ERR! Linux 4.7.0-coreos > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.0.0 > npm ERR! npm v3.10.9 > npm ERR! code ELIFECYCLE > npm ERR! xxxx.xxx@ start: `serve ./content` > npm ERR! Exit status 1 > npm ERR! syscall open > npm ERR! syscall: 'open', > npm ERR! > npm ERR! npm v3.10.9 > npm ERR! path npm-debug.log.4282404183 > npm ERR! errno: -13, > npm ERR! code: 'EACCES', > npm ERR! path: 'npm-debug.log.4282404183' } > npm ERR! Please try running this command again as root/Administrator. > npm ERR! Please include the following file with any support request: > npm ERR! /home/nowuser/src/npm-debug.log ",documentation-file,"new static deployments are broken Similar to #288 I was trying to deploy earlier but failed. Here is my environment.  $ node --version v6.3.0 $ now --version now 4.1.2  Using default deploy by `now`, seems some issues were there cause the deployment took much longer with error showing `> FetchError: network timeout at: http://10.100.202.49:3000`. Would be nice to have some investigation, if you need more information please let me know.  $ now > Deploying ~/try/xxx.xxx > Using Node.js 7.0.0 (default) > Ready! https://xxxxxxx-xwsmsifefl.now.sh (copied to clipboard) [2s] > Initializing > Building >  npm install >  Installing: >  serve@^3.2.0 > FetchError: network timeout at: http://10.100.202.49:3000 >  npm install > Installing package serve@^3.2.0 >  npm start > > xxxx.xxx@ start /home/nowuser/src > > serve ./content > npm ERR! > npm ERR! Failed at the xxxx.xxx@ start script 'serve ./content'. > npm ERR! Make sure you have the latest version of node.js and npm installed. > npm ERR! If you do, this is most likely a problem with the xxxxx.xxx package, > npm ERR! not with npm itself. > npm ERR! Tell the author that this fails on your system: > npm ERR! serve ./content > npm ERR! You can get information on how to open an issue for this project with: > npm ERR! npm bugs xxxx.xxx > npm ERR! Or if that isn't available, you can get their info via: > npm ERR! npm owner ls xxxx.xxx > npm ERR! There is likely additional logging output above. > npm ERR! Linux 4.7.0-coreos > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.0.0 > npm ERR! code EACCES > npm ERR! errno -13 > npm ERR! Error: EACCES: permission denied, open 'npm-debug.log.4282404183' > npm ERR! { Error: EACCES: permission denied, open 'npm-debug.log.4282404183' > /home/nowuser/src/node_modules/877f43508f8b78f3e67c804b38705ae738d0118a/lib/listening.js:7 > const copyToClipboard = async text => { >  > SyntaxError: Unexpected identifier > at Object.exports.runInThisContext (vm.js:76:16) > at Module._compile (module.js:545:28) > at Module._extensions..js (module.js:582:10) > at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/2a9909022d27ed3456706e4b2e3a923934cd710e/register.js:42:5) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > at Function.Module._load (module.js:441:3) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/node_modules/877f43508f8b78f3e67c804b38705ae738d0118a/lib/index.js:11:19) > npm ERR! Linux 4.7.0-coreos > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.0.0 > npm ERR! npm v3.10.9 > npm ERR! code ELIFECYCLE > npm ERR! xxxx.xxx@ start: `serve ./content` > npm ERR! Exit status 1 > npm ERR! syscall open > npm ERR! syscall: 'open', > npm ERR! > npm ERR! npm v3.10.9 > npm ERR! path npm-debug.log.4282404183 > npm ERR! errno: -13, > npm ERR! code: 'EACCES', > npm ERR! path: 'npm-debug.log.4282404183' } > npm ERR! Please try running this command again as root/Administrator. > npm ERR! Please include the following file with any support request: > npm ERR! /home/nowuser/src/npm-debug.log  documentation-file",no-bug,0.9
782,vercel,https://github.com/vercel/vercel/issues/782,Fix the default config description,"_From @matheuss on July 21, 2017 4:19_ _Copied from original issue: zeit/now/pull/38_",documentation-file | test-file | test-file | test-file | test-file | other-file,"Fix the default config description _From @matheuss on July 21, 2017 4:19_ _Copied from original issue: zeit/now/pull/38_ documentation-file test-file test-file test-file test-file other-file",no-bug,0.9
65,vercel,https://github.com/vercel/vercel/issues/65,git based dependencies doesn't work,"Example deploy: https://code-flow-svuzhcsykp.now.sh/ The problem is that `image-to-ascii` contains a git based dependency, which `now` can't install, and throws an `UnhandledPromiseRejectionWarning` from a `404 (see logs in URL above). This is the dep tree:   image-to-ascii@3.0.3   asciify-pixel-matrix@1.0.4    asciify-pixel@1.2.4    couleurs@6.0.3     ansy@1.0.4      ansi-styles@2.1.0 (git://github.com/chalk/ansi-styles.git#5dadc5c6333127f95dc0dc09ada4fbde8bf66e69)  I tried to make `ansi-styles@2.1.0` a direct dependency of my project to allow the code to still run, but the failed install process doesn't allow my project to start, so I can't work around the issue. Essentially the 404 is a total blocker for using this `image-to-ascii` project (pending a PR to _it's_ repo!). For reference, since the source doesn't work on the deployment (not sure why), here's the `package.json` dependencies:  ""dependencies"": { ""ansi-styles"": ""^2.1.0"", ""busboy"": ""^0.2.13"", ""express"": ""^4.14.0"", ""image-to-ascii"": ""^3.0.3"", ""multer"": ""^1.2.0"" } ",test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"git based dependencies doesn't work Example deploy: https://code-flow-svuzhcsykp.now.sh/ The problem is that `image-to-ascii` contains a git based dependency, which `now` can't install, and throws an `UnhandledPromiseRejectionWarning` from a `404 (see logs in URL above). This is the dep tree:   image-to-ascii@3.0.3   asciify-pixel-matrix@1.0.4    asciify-pixel@1.2.4    couleurs@6.0.3     ansy@1.0.4      ansi-styles@2.1.0 (git://github.com/chalk/ansi-styles.git#5dadc5c6333127f95dc0dc09ada4fbde8bf66e69)  I tried to make `ansi-styles@2.1.0` a direct dependency of my project to allow the code to still run, but the failed install process doesn't allow my project to start, so I can't work around the issue. Essentially the 404 is a total blocker for using this `image-to-ascii` project (pending a PR to _it's_ repo!). For reference, since the source doesn't work on the deployment (not sure why), here's the `package.json` dependencies:  ""dependencies"": { ""ansi-styles"": ""^2.1.0"", ""busboy"": ""^0.2.13"", ""express"": ""^4.14.0"", ""image-to-ascii"": ""^3.0.3"", ""multer"": ""^1.2.0"" }  test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
362,vercel,https://github.com/vercel/vercel/issues/362,Use .env when available by default,"It would be useful if we could just run `now` and now would detect and use `.env` automatically. Right now, we have to run `now -E` to include it by default. Any thoughts?",source-file | test-file | test-file | test-file,"Use .env when available by default It would be useful if we could just run `now` and now would detect and use `.env` automatically. Right now, we have to run `now -E` to include it by default. Any thoughts? source-file test-file test-file test-file",no-bug,0.9
893,vercel,https://github.com/vercel/vercel/issues/893,Cryptic error message if package.json contains an error,"I accidentally forgot to remove a trailing comma in my `package.json`. When trying to deploy with a faulty `package.json` file, now returns this cryptic error message. It would be nice if that error at least mentioned `package.json`.  > Error! An unexpected error occurred! SyntaxError: Unexpected token } in JSON at position 133 at JSON.parse (<anonymous>) at readJSON (/snapshot/now-cli/dist/now.js:4484:17) SyntaxError: Unexpected token } in JSON at position 133 at JSON.parse (<anonymous>) at readJSON (/snapshot/now-cli/dist/now.js:4484:17) ",source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | other-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | other-file | other-file,"Cryptic error message if package.json contains an error I accidentally forgot to remove a trailing comma in my `package.json`. When trying to deploy with a faulty `package.json` file, now returns this cryptic error message. It would be nice if that error at least mentioned `package.json`.  > Error! An unexpected error occurred! SyntaxError: Unexpected token } in JSON at position 133 at JSON.parse (<anonymous>) at readJSON (/snapshot/now-cli/dist/now.js:4484:17) SyntaxError: Unexpected token } in JSON at position 133 at JSON.parse (<anonymous>) at readJSON (/snapshot/now-cli/dist/now.js:4484:17)  source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file other-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file other-file other-file",no-bug,0.9
204,vercel,https://github.com/vercel/vercel/issues/204,Document all the now package.json config options,"Currently I can't find the various now `package.json` config options documented anywhere. The only way I discovered that `now.alias` existed was by accidently seeing it while browsing the source code trying to fix an unrelated bug. Also the `--config` option isn't documented anywhere, I'm guessing it can contain the same options as the ones in the `package.json`?",config-file,"Document all the now package.json config options Currently I can't find the various now `package.json` config options documented anywhere. The only way I discovered that `now.alias` existed was by accidently seeing it while browsing the source code trying to fix an unrelated bug. Also the `--config` option isn't documented anywhere, I'm guessing it can contain the same options as the ones in the `package.json`? config-file",no-bug,0.9
597,vercel,https://github.com/vercel/vercel/issues/597,.gitignore exclude patterns are ignored,"Consider the following .gitignore file:  public/js/*.js !public/js/foo.js  This should match all files except for `foo.js`, and with Git it does. However, `now` does not upload any files from `public/js` including `foo.js`.",source-file | test-file | test-file | test-file | test-file | test-file,".gitignore exclude patterns are ignored Consider the following .gitignore file:  public/js/*.js !public/js/foo.js  This should match all files except for `foo.js`, and with Git it does. However, `now` does not upload any files from `public/js` including `foo.js`. source-file test-file test-file test-file test-file test-file",no-bug,0.95
2759,vercel,https://github.com/vercel/vercel/issues/2759,Broken error when purchasing domains,"Currently, we're showing this if you try to purchase a domain: ![image](https://user-images.githubusercontent.com/6170607/62973981-7fd98d80-be17-11e9-85a9-b3f32686aff1.png) Instead, we want to STOP the spinner and print the error in a new fresh line. Furthermore, the error should not expose the entire stack trace. It should just print: > An unexpected error occurred while purchasing your domain. Please try again later.",source-file | source-file | source-file,"Broken error when purchasing domains Currently, we're showing this if you try to purchase a domain: ![image](https://user-images.githubusercontent.com/6170607/62973981-7fd98d80-be17-11e9-85a9-b3f32686aff1.png) Instead, we want to STOP the spinner and print the error in a new fresh line. Furthermore, the error should not expose the entire stack trace. It should just print: > An unexpected error occurred while purchasing your domain. Please try again later. source-file source-file source-file",bug,0.9
32,vercel,https://github.com/vercel/vercel/issues/32,API for getting the log / stdout / console out,Currently now is hard to work with because it is not visible if something breaks (to my knowledge). It would be mighty helpful to get the log output of container.,source-file | source-file | source-file,API for getting the log / stdout / console out Currently now is hard to work with because it is not visible if something breaks (to my knowledge). It would be mighty helpful to get the log output of container. source-file source-file source-file,no-bug,0.7
427,vercel,https://github.com/vercel/vercel/issues/427,Show a meaningful message when trying to add an external subdomain,"Currently we have:   ~ now domains add --external something.google.com > Error! Not authorized to access domain something.google.com  We should have:   ~ now domains add --external something.google.com > Some message that tells you to not add the subdomain, but the actual domain instead ",source-file,"Show a meaningful message when trying to add an external subdomain Currently we have:   ~ now domains add --external something.google.com > Error! Not authorized to access domain something.google.com  We should have:   ~ now domains add --external something.google.com > Some message that tells you to not add the subdomain, but the actual domain instead  source-file",no-bug,0.8
766,vercel,https://github.com/vercel/vercel/issues/766,Feedback on v1 release of now.json @beta,"_From @babakness on August 3, 2017 23:16_ Feature request: Being able to launch a service into a VPC so that it can access services (like a database) would be awesome. Perhaps there could be a key for ""vpc"" in now.json accompanied by the matching function. I have noted that there ""regions"" key which is an array. If launch simultaneously to multiple region, I suppose the idea here is to load balance between them? Perhaps, then, vpc is an object which provides a region-to-vpc map. In which case it seems that the ""regions"" option could be unnecessary since the regions are the VPC keys.  ""regions"": { ""us-west-1"": '192.168.0.0/16, ""us-west-2"": '192.168.0.0/16 }  implies values for ""regions"" of ""us-west-1"" and ""us-west-2"" _Copied from original issue: zeit/now#42_",source-file,"Feedback on v1 release of now.json @beta _From @babakness on August 3, 2017 23:16_ Feature request: Being able to launch a service into a VPC so that it can access services (like a database) would be awesome. Perhaps there could be a key for ""vpc"" in now.json accompanied by the matching function. I have noted that there ""regions"" key which is an array. If launch simultaneously to multiple region, I suppose the idea here is to load balance between them? Perhaps, then, vpc is an object which provides a region-to-vpc map. In which case it seems that the ""regions"" option could be unnecessary since the regions are the VPC keys.  ""regions"": { ""us-west-1"": '192.168.0.0/16, ""us-west-2"": '192.168.0.0/16 }  implies values for ""regions"" of ""us-west-1"" and ""us-west-2"" _Copied from original issue: zeit/now#42_ source-file",no-bug,0.9
9735,vercel,https://github.com/vercel/vercel/issues/9735,Error: Cannot find module 'path-to-regexp',"Looks like `@vercel/node` depends on `path-to-regexp` at runtime, but that dependency is [specified as a dev dependency](https://github.com/vercel/vercel/blob/main/packages/node/package.json#L62) for `@vercel/node`.  Require stack: - C:\app\node_modules\@vercel\node\dist\utils.js - C:\app\node_modules\@vercel\node\dist\dev-server.js at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1075:15) at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (C:\app\node_modules\@cspotcode\source-map-support\source-map-support.js:811:30) at Function.Module._load (node:internal/modules/cjs/loader:920:27) at Module.require (node:internal/modules/cjs/loader:1141:19) at require (node:internal/modules/cjs/helpers:110:18) at Object.<anonymous> (C:\app\node_modules\@vercel\node\dist\utils.js:5:26) at Module._compile (node:internal/modules/cjs/loader:1254:14) at Module._extensions..js (node:internal/modules/cjs/loader:1308:10) at Object.require.extensions.<computed> [as .js] (C:\app\node_modules\ts-node\src\index.ts:1608:43) at Module.load (node:internal/modules/cjs/loader:1117:32) { code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\app\\node_modules\\@vercel\\node\\dist\\utils.js', 'C:\\app\\node_modules\\@vercel\\node\\dist\\dev-server.js' ] } ",source-file | documentation-file | documentation-file,"Error: Cannot find module 'path-to-regexp' Looks like `@vercel/node` depends on `path-to-regexp` at runtime, but that dependency is [specified as a dev dependency](https://github.com/vercel/vercel/blob/main/packages/node/package.json#L62) for `@vercel/node`.  Require stack: - C:\app\node_modules\@vercel\node\dist\utils.js - C:\app\node_modules\@vercel\node\dist\dev-server.js at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1075:15) at Function.Module._resolveFilename.sharedData.moduleResolveFilenameHook.installedValue [as _resolveFilename] (C:\app\node_modules\@cspotcode\source-map-support\source-map-support.js:811:30) at Function.Module._load (node:internal/modules/cjs/loader:920:27) at Module.require (node:internal/modules/cjs/loader:1141:19) at require (node:internal/modules/cjs/helpers:110:18) at Object.<anonymous> (C:\app\node_modules\@vercel\node\dist\utils.js:5:26) at Module._compile (node:internal/modules/cjs/loader:1254:14) at Module._extensions..js (node:internal/modules/cjs/loader:1308:10) at Object.require.extensions.<computed> [as .js] (C:\app\node_modules\ts-node\src\index.ts:1608:43) at Module.load (node:internal/modules/cjs/loader:1117:32) { code: 'MODULE_NOT_FOUND', requireStack: [ 'C:\\app\\node_modules\\@vercel\\node\\dist\\utils.js', 'C:\\app\\node_modules\\@vercel\\node\\dist\\dev-server.js' ] }  source-file documentation-file documentation-file",no-bug,0.9
915,vercel,https://github.com/vercel/vercel/issues/915,`now secret add` fails with an unexpected internal error,"I tried to run:  $ now secret add db-url ""mongodb://mycloudurl""  But I'm getting:  Error! Unexpected error. Please try again later. (An unexpected internal error occurred)  Additional infos:  $ now -v 8.3.9 ",source-file | test-file | test-file | test-file | test-file,"`now secret add` fails with an unexpected internal error I tried to run:  $ now secret add db-url ""mongodb://mycloudurl""  But I'm getting:  Error! Unexpected error. Please try again later. (An unexpected internal error occurred)  Additional infos:  $ now -v 8.3.9  source-file test-file test-file test-file test-file",no-bug,0.3
310,vercel,https://github.com/vercel/vercel/issues/310,Unclear that yarn is being used in now-cli,"Taking over conversation from https://github.com/zeit/now-cli/issues/153#issuecomment-279761171 @TooTallNate the problem is that, whereas the web console shows that, the CLI version doesn't agree, it truncates the messages and this is all that's visible:  $ now > Deploying ~/Documents/relate > Using Node.js 7.0.0 (default) > Ready! https://relate-nhxizwsjpv.now.sh (copied to clipboard) [3s] > Upload [] 100% 0.0s > Sync complete (6.46kB) [2s] > Initializing > Building >  npm install >  react-no-ssr@^1.1.0 >  redux-thunk@^2.2.0 >  session-file-store@^1.0.0 >  eslint-plugin-react@^6.4.1 >  express@^4.14.1 >  next-routes@^1.0.14 >  react-intl@^2.2.3 >  smooch@^3.11.0 >  uuid@^3.0.1 ",test-file,"Unclear that yarn is being used in now-cli Taking over conversation from https://github.com/zeit/now-cli/issues/153#issuecomment-279761171 @TooTallNate the problem is that, whereas the web console shows that, the CLI version doesn't agree, it truncates the messages and this is all that's visible:  $ now > Deploying ~/Documents/relate > Using Node.js 7.0.0 (default) > Ready! https://relate-nhxizwsjpv.now.sh (copied to clipboard) [3s] > Upload [] 100% 0.0s > Sync complete (6.46kB) [2s] > Initializing > Building >  npm install >  react-no-ssr@^1.1.0 >  redux-thunk@^2.2.0 >  session-file-store@^1.0.0 >  eslint-plugin-react@^6.4.1 >  express@^4.14.1 >  next-routes@^1.0.14 >  react-intl@^2.2.3 >  smooch@^3.11.0 >  uuid@^3.0.1  test-file",no-bug,0.9
2,vercel,https://github.com/vercel/vercel/issues/2,`main` should support skipping the `.js` suffix,"Right now if a user specifies `main` in `package.json`, we expect it to have a `.js` suffix, but npm supports without.",source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file,"`main` should support skipping the `.js` suffix Right now if a user specifies `main` in `package.json`, we expect it to have a `.js` suffix, but npm supports without. source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file",no-bug,0.8
3042,vercel,https://github.com/vercel/vercel/issues/3042,"""Authentication error"" on canary instead of ""You are not owner of the domain""","When adding an `alias` to now.json that the current token does not own, the stable channel shows:  > Deploying ~/Code/foo under username > Using project projectname > Error! You are not owner of the domain ""example.com""  However, the canary channel has regressed and shows the following:  > Deploying ~/Code/foo under username > Using project projectname > Error! Authentication error. Run `now login` to log-in again. ",test-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file,"""Authentication error"" on canary instead of ""You are not owner of the domain"" When adding an `alias` to now.json that the current token does not own, the stable channel shows:  > Deploying ~/Code/foo under username > Using project projectname > Error! You are not owner of the domain ""example.com""  However, the canary channel has regressed and shows the following:  > Deploying ~/Code/foo under username > Using project projectname > Error! Authentication error. Run `now login` to log-in again.  test-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file test-file",bug,0.9
330,vercel,https://github.com/vercel/vercel/issues/330,"'now alias' command fails if package.json missing but now.json exists with ""alias"":  entry","I have a javascript/webpack app which on build, compiles a static website into the `dist` folder. The `dist` folder includes `now.json` file with an `alias` entry. To deploy I cd into the `dist` folder and run `now`, which deploys successfully, but running `now alias` fails with the following error:  > Error! Failed to read JSON in ""/dist/package.json"" ",test-file,"'now alias' command fails if package.json missing but now.json exists with ""alias"":  entry I have a javascript/webpack app which on build, compiles a static website into the `dist` folder. The `dist` folder includes `now.json` file with an `alias` entry. To deploy I cd into the `dist` folder and run `now`, which deploys successfully, but running `now alias` fails with the following error:  > Error! Failed to read JSON in ""/dist/package.json""  test-file",no-bug,0.9
783,vercel,https://github.com/vercel/vercel/issues/783,Add caching logic similar to now-cli's,"_From @matheuss on July 21, 2017 3:50_ In the current `now-cli` we have a logic to store the user details (username, email etc) with a TTL of 8h. I didn't copy it over when copying the login/deployment code over because I want to improve it. I'd want `~/.now/cache.json`, that'd be used specifically to store stuff like that. Specially because username, for example, is not a configuration option  it depends on the API token. @rauchg @nkzawa `~/.now/cache.json` sounds great? Also cc @leo, since we would share such file with Now Desktop Assigning myself since I'd like to implement it and I implemented the current logic on `now-cli`, so it'll be trivial to do it here. _Copied from original issue: zeit/now#37_",documentation-file,"Add caching logic similar to now-cli's _From @matheuss on July 21, 2017 3:50_ In the current `now-cli` we have a logic to store the user details (username, email etc) with a TTL of 8h. I didn't copy it over when copying the login/deployment code over because I want to improve it. I'd want `~/.now/cache.json`, that'd be used specifically to store stuff like that. Specially because username, for example, is not a configuration option  it depends on the API token. @rauchg @nkzawa `~/.now/cache.json` sounds great? Also cc @leo, since we would share such file with Now Desktop Assigning myself since I'd like to implement it and I implemented the current logic on `now-cli`, so it'll be trivial to do it here. _Copied from original issue: zeit/now#37_ documentation-file",no-bug,0.9
491,vercel,https://github.com/vercel/vercel/issues/491,Feature Request: 'Lock' an Instance,"Provide a way to 'lock' an instance from getting deleted or re-aliased by other folks on a team. I assume this gets into team roles and permissions, not sure where this is on your roadmap.",source-file,"Feature Request: 'Lock' an Instance Provide a way to 'lock' an instance from getting deleted or re-aliased by other folks on a team. I assume this gets into team roles and permissions, not sure where this is on your roadmap. source-file",no-bug,0.9
533,vercel,https://github.com/vercel/vercel/issues/533,`now` eagerly deploys on first run,"## Problem I just installed `now` and ran it, expecting to see some usage info. Instead, the CLI starting deploying my current working directory. This scared me a little, especially when nothing happened when I repeatedly hit `C`. Seems kinda like a security risk. <img width=""632"" alt=""screen shot 2017-05-11 at 5 30 44 pm"" src=""https://cloud.githubusercontent.com/assets/2289/25977379/1e5a0e08-3670-11e7-9969-3ffdbcff39a8.png""> ## A Proposed Solution The first time I run `now` and authenticate my email, I think the CLI should say something like:   now > Enter your email: zeke@sikelianos.com > Please follow the link sent to zeke@sikelianos.com to log in. > Verify that the provided security code in the email matches Lively Squid.  Confirmed email address! Run `now` to deploy the current directory, or `now --help` for usage info. ",source-file | source-file | other-file | source-file | other-file | source-file | source-file | documentation-file | test-file | documentation-file | test-file | other-file,"`now` eagerly deploys on first run ## Problem I just installed `now` and ran it, expecting to see some usage info. Instead, the CLI starting deploying my current working directory. This scared me a little, especially when nothing happened when I repeatedly hit `C`. Seems kinda like a security risk. <img width=""632"" alt=""screen shot 2017-05-11 at 5 30 44 pm"" src=""https://cloud.githubusercontent.com/assets/2289/25977379/1e5a0e08-3670-11e7-9969-3ffdbcff39a8.png""> ## A Proposed Solution The first time I run `now` and authenticate my email, I think the CLI should say something like:   now > Enter your email: zeke@sikelianos.com > Please follow the link sent to zeke@sikelianos.com to log in. > Verify that the provided security code in the email matches Lively Squid.  Confirmed email address! Run `now` to deploy the current directory, or `now --help` for usage info.  source-file source-file other-file source-file other-file source-file source-file documentation-file test-file documentation-file test-file other-file",no-bug,0.9
460,vercel,https://github.com/vercel/vercel/issues/460,Feature Request: Addons from CLI,"I would like the ability to be able to setup external services like Redis or MongoDB from either the command line or a simple web interface like Heroku does. https://elements.heroku.com/addons Not only would this make things much easier for developers, but it would bring in extra revenue to your company through vendor commissions.",source-file,"Feature Request: Addons from CLI I would like the ability to be able to setup external services like Redis or MongoDB from either the command line or a simple web interface like Heroku does. https://elements.heroku.com/addons Not only would this make things much easier for developers, but it would bring in extra revenue to your company through vendor commissions. source-file",no-bug,0.95
337,vercel,https://github.com/vercel/vercel/issues/337,"Display account info (deployments left, used storage etc)","To find out how many deploys i have left for this month, or how much storage i've used, a new command could be introduced Something like: `now account`, `now status` or `now info`  $ now account > Current plan: OSS > Deployments: 12/20 > Used Bandwidth: 137MB/1GB > Storage: 566MB/1GB ",source-file | source-file,"Display account info (deployments left, used storage etc) To find out how many deploys i have left for this month, or how much storage i've used, a new command could be introduced Something like: `now account`, `now status` or `now info`  $ now account > Current plan: OSS > Deployments: 12/20 > Used Bandwidth: 137MB/1GB > Storage: 566MB/1GB  source-file source-file",no-bug,0.9
3400,vercel,https://github.com/vercel/vercel/issues/3400,Error: EISDIR: illegal operation on a directory when deploying on Now,"A couple issues with now + next.js seem to be caused by this module when run with yarn workspaces and tracing out of the workspace root. Running locally is not an issue, but it fails on zeit now. - https://spectrum.chat/zeit/now/deployment-failed-error-eisdir-illegal-operation-on-a-directory~1610db37-38fa-4ac8-ab9f-dc25888ef18b - https://spectrum.chat/zeit/now/error-deploying-next-js-monorepo-on-now~99acb8f4-1648-4422-91ea-ca243195fbc4 [My log](https://gist.github.com/darknoon/bfa10f31b0f9054ce735a784fe12f10f)",source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file,"Error: EISDIR: illegal operation on a directory when deploying on Now A couple issues with now + next.js seem to be caused by this module when run with yarn workspaces and tracing out of the workspace root. Running locally is not an issue, but it fails on zeit now. - https://spectrum.chat/zeit/now/deployment-failed-error-eisdir-illegal-operation-on-a-directory~1610db37-38fa-4ac8-ab9f-dc25888ef18b - https://spectrum.chat/zeit/now/error-deploying-next-js-monorepo-on-now~99acb8f4-1648-4422-91ea-ca243195fbc4 [My log](https://gist.github.com/darknoon/bfa10f31b0f9054ce735a784fe12f10f) source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file",no-bug,0.9
11533,vercel,https://github.com/vercel/vercel/issues/11533,Function runtime error: Cannot find module,"Here's the minimal repro: https://github.com/dglazkov/vercel-test 1. Create a Vercel project 2. Deploy the github project above in it 3. Go to `<deployment url>/api/hello`. It gets a consistent ""This Serverless Function has crashed."" error. When I look into the runtime logs, I see that the the problem is described as follows:  Error: Cannot find module '/var/task/node_modules/@google-labs/breadboard/dist/src/remote.js' imported from /var/task/node_modules/@google-labs/breadboard/dist/src/runner.js at finalizeResolution (node:internal/modules/esm/resolve:269:11) at moduleResolve (node:internal/modules/esm/resolve:937:10) at moduleResolveWithNodePath (node:internal/modules/esm/resolve:1161:14) at defaultResolve (node:internal/modules/esm/resolve:1204:79) at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12) at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25) at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38) at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39) at link (node:internal/modules/esm/module_job:86:36) { code: 'ERR_MODULE_NOT_FOUND', url: 'file:var/task/node_modules/@google-labs/breadboard/dist/src/remote.js' } Node.js process exited with exit status: 1. The logs above can help with debugging the issue. INIT_REPORT Init Duration: 241.97 ms Phase: invoke Status: error Error Type: Runtime.ExitError Unknown application error occurred  When I look at the `node_modules` in the project, the `remote.js` file is present: bash $ find node_modules | grep remote.js node_modules/@google-labs/breadboard/dist/src/remote.js node_modules/@google-labs/breadboard/dist/src/remote.js.map $  However, when I do a local `vercel build`, I can see that this file is not present in the `node_modules` of the function: bash $ find .vercel/output/functions/api/hello.func/node_modules | grep ""remote.js"" $  It looks like it's getting dropped somehow? Not sure where. I gave the `@vercel/node` a quick spelunk and couldn't find anything that jumped out at me.",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,"Function runtime error: Cannot find module Here's the minimal repro: https://github.com/dglazkov/vercel-test 1. Create a Vercel project 2. Deploy the github project above in it 3. Go to `<deployment url>/api/hello`. It gets a consistent ""This Serverless Function has crashed."" error. When I look into the runtime logs, I see that the the problem is described as follows:  Error: Cannot find module '/var/task/node_modules/@google-labs/breadboard/dist/src/remote.js' imported from /var/task/node_modules/@google-labs/breadboard/dist/src/runner.js at finalizeResolution (node:internal/modules/esm/resolve:269:11) at moduleResolve (node:internal/modules/esm/resolve:937:10) at moduleResolveWithNodePath (node:internal/modules/esm/resolve:1161:14) at defaultResolve (node:internal/modules/esm/resolve:1204:79) at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:390:12) at ModuleLoader.resolve (node:internal/modules/esm/loader:359:25) at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:234:38) at ModuleWrap.<anonymous> (node:internal/modules/esm/module_job:87:39) at link (node:internal/modules/esm/module_job:86:36) { code: 'ERR_MODULE_NOT_FOUND', url: 'file:var/task/node_modules/@google-labs/breadboard/dist/src/remote.js' } Node.js process exited with exit status: 1. The logs above can help with debugging the issue. INIT_REPORT Init Duration: 241.97 ms Phase: invoke Status: error Error Type: Runtime.ExitError Unknown application error occurred  When I look at the `node_modules` in the project, the `remote.js` file is present: bash $ find node_modules | grep remote.js node_modules/@google-labs/breadboard/dist/src/remote.js node_modules/@google-labs/breadboard/dist/src/remote.js.map $  However, when I do a local `vercel build`, I can see that this file is not present in the `node_modules` of the function: bash $ find .vercel/output/functions/api/hello.func/node_modules | grep ""remote.js"" $  It looks like it's getting dropped somehow? Not sure where. I gave the `@vercel/node` a quick spelunk and couldn't find anything that jumped out at me. documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file",no-bug,0.9
925,vercel,https://github.com/vercel/vercel/issues/925,instance urls only link to the same instance,"hi, i have a simple micro app. just save the serverStartTime and show it.  global.serverStartTime = new Date().getTime() module.exports = (req, res) => { res.end('serverStartTime:' + global.serverStartTime) } setInterval(() => { console.log('serverStartTime:' + global.serverStartTime) }, 5000)  and i scaled it to 3 instances, so i expected 3 instances urls link to different server instances and show different serverStartTime. (because 3 instances started at different time) here are instances urls  micro-time-qjxyomjsfq.now.sh 3 READY 7h - micro-time-qjxyomjsfq-d2992830d580b2722adcde6b.now.sh - micro-time-qjxyomjsfq-302c22d080d6ab88084ab081.now.sh - micro-time-qjxyomjsfq-3c85f55f2459c9af31af0695.now.sh  open https://micro-time-qjxyomjsfq-d2992830d580b2722adcde6b.now.sh/ - shows `serverStartTime:1507739307039` open https://micro-time-qjxyomjsfq-302c22d080d6ab88084ab081.now.sh - shows `serverStartTime:1507739307039` open https://micro-time-qjxyomjsfq-3c85f55f2459c9af31af0695.now.sh/ - shows `serverStartTime:1507739307039` that means 3 instances urls only link to the same server instance and i check the logs `now logs micro-time-qjxyomjsfq-d2992830d580b2722adcde6b.now.sh` - show `serverStartTime:1507739278104` `now logs micro-time-qjxyomjsfq-302c22d080d6ab88084ab081.now.sh` - show `serverStartTime:1507739307039` `now logs micro-time-qjxyomjsfq-3c85f55f2459c9af31af0695.now.sh` - show `serverStartTime:1507739308767` the logs are corrent. but the instance urls not.",source-file | source-file | test-file,"instance urls only link to the same instance hi, i have a simple micro app. just save the serverStartTime and show it.  global.serverStartTime = new Date().getTime() module.exports = (req, res) => { res.end('serverStartTime:' + global.serverStartTime) } setInterval(() => { console.log('serverStartTime:' + global.serverStartTime) }, 5000)  and i scaled it to 3 instances, so i expected 3 instances urls link to different server instances and show different serverStartTime. (because 3 instances started at different time) here are instances urls  micro-time-qjxyomjsfq.now.sh 3 READY 7h - micro-time-qjxyomjsfq-d2992830d580b2722adcde6b.now.sh - micro-time-qjxyomjsfq-302c22d080d6ab88084ab081.now.sh - micro-time-qjxyomjsfq-3c85f55f2459c9af31af0695.now.sh  open https://micro-time-qjxyomjsfq-d2992830d580b2722adcde6b.now.sh/ - shows `serverStartTime:1507739307039` open https://micro-time-qjxyomjsfq-302c22d080d6ab88084ab081.now.sh - shows `serverStartTime:1507739307039` open https://micro-time-qjxyomjsfq-3c85f55f2459c9af31af0695.now.sh/ - shows `serverStartTime:1507739307039` that means 3 instances urls only link to the same server instance and i check the logs `now logs micro-time-qjxyomjsfq-d2992830d580b2722adcde6b.now.sh` - show `serverStartTime:1507739278104` `now logs micro-time-qjxyomjsfq-302c22d080d6ab88084ab081.now.sh` - show `serverStartTime:1507739307039` `now logs micro-time-qjxyomjsfq-3c85f55f2459c9af31af0695.now.sh` - show `serverStartTime:1507739308767` the logs are corrent. but the instance urls not. source-file source-file test-file",no-bug,0.8
679,vercel,https://github.com/vercel/vercel/issues/679,`now login` autocomplete does not work,email autocomplete it's not working on `now v7.0.0` when trying to `now login`,source-file | source-file | test-file,`now login` autocomplete does not work email autocomplete it's not working on `now v7.0.0` when trying to `now login` source-file source-file test-file,no-bug,0.7
208,vercel,https://github.com/vercel/vercel/issues/208,1.0.0 / now alias ls error,I started getting this error after upgrading to 1.0.0 and using `now alias ls`.  > Error! Invalid number of arguments. Usage: `now alias rm <id>`  ![hyper](https://cloud.githubusercontent.com/assets/136654/21773450/26a79a3a-d65d-11e6-9b6d-6408135b45af.png),documentation-file | documentation-file,1.0.0 / now alias ls error I started getting this error after upgrading to 1.0.0 and using `now alias ls`.  > Error! Invalid number of arguments. Usage: `now alias rm <id>`  ![hyper](https://cloud.githubusercontent.com/assets/136654/21773450/26a79a3a-d65d-11e6-9b6d-6408135b45af.png) documentation-file documentation-file,no-bug,0.9
769,vercel,https://github.com/vercel/vercel/issues/769,Discover custom providers based on presence of `now-*` binaries in $PATH,"_From @rauchg on July 7, 2017 21:35_ _Copied from original issue: zeit/now#6_",source-file,"Discover custom providers based on presence of `now-*` binaries in $PATH _From @rauchg on July 7, 2017 21:35_ _Copied from original issue: zeit/now#6_ source-file",no-bug,0.9
6,vercel,https://github.com/vercel/vercel/issues/6,Build logs socket doesn't reconnect / retry properly in flaky connections,"In all honesty it might, but we need to test it more.",test-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file,"Build logs socket doesn't reconnect / retry properly in flaky connections In all honesty it might, but we need to test it more. test-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file other-file",no-bug,0.7
319,vercel,https://github.com/vercel/vercel/issues/319,Determine deployment type automatically,"- package.json and dockerfile => docker - dockerfile => docker - package.json => npm - no meta file => static - item is a file, not a folder => static It will never prompt and just let the user define with ""--docker"", ""--static"" and ""--npm"" and to the remaining determination part (if no flag defined) automatically by itself.",documentation-file | other-file,"Determine deployment type automatically - package.json and dockerfile => docker - dockerfile => docker - package.json => npm - no meta file => static - item is a file, not a folder => static It will never prompt and just let the user define with ""--docker"", ""--static"" and ""--npm"" and to the remaining determination part (if no flag defined) automatically by itself. documentation-file other-file",no-bug,0.9
4,vercel,https://github.com/vercel/vercel/issues/4,Add note that source is open if deploying under the OSS plan,,documentation-file | source-file | source-file | other-file | documentation-file | source-file | source-file | other-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,Add note that source is open if deploying under the OSS plan  documentation-file source-file source-file other-file documentation-file source-file source-file other-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.9
452,vercel,https://github.com/vercel/vercel/issues/452,`sh: yarn: not found` when installing dependencies in sub directories,"I've split my server and client code into two different subdirectories, each with their own `package.json`. This is so I can use `yarn`'s [flat configuration option](https://yarnpkg.com/en/docs/package-json#toc-flat) in my client code.  my-project/  client   package.json  server  package.json package.json  My top level `package.json` has the following scripts:  ""scripts"": { ""install:all"": ""yarn run install:client && yarn run install:server"", ""install:client"": ""cd ./client && yarn"", ""install:server"": ""cd ./server && yarn"", ""build"": ""yarn run install:all && tsc -p ./client/src/"", ""start"": ""node server/bin/www"" }  Unfortunately when it gets to the `build` script it throws saying it can't find `yarn`.  >  npm run build > > my-project@1.0.0 build /home/nowuser/src > > yarn run install:all && tsc -p ./client/src/ > sh: yarn: not found  I saw in https://github.com/zeit/now-cli/issues/153#issuecomment-279761171 that `yarn` isn't actually being used so I'm not sure if it's possible to work around this.",source-file,"`sh: yarn: not found` when installing dependencies in sub directories I've split my server and client code into two different subdirectories, each with their own `package.json`. This is so I can use `yarn`'s [flat configuration option](https://yarnpkg.com/en/docs/package-json#toc-flat) in my client code.  my-project/  client   package.json  server  package.json package.json  My top level `package.json` has the following scripts:  ""scripts"": { ""install:all"": ""yarn run install:client && yarn run install:server"", ""install:client"": ""cd ./client && yarn"", ""install:server"": ""cd ./server && yarn"", ""build"": ""yarn run install:all && tsc -p ./client/src/"", ""start"": ""node server/bin/www"" }  Unfortunately when it gets to the `build` script it throws saying it can't find `yarn`.  >  npm run build > > my-project@1.0.0 build /home/nowuser/src > > yarn run install:all && tsc -p ./client/src/ > sh: yarn: not found  I saw in https://github.com/zeit/now-cli/issues/153#issuecomment-279761171 that `yarn` isn't actually being used so I'm not sure if it's possible to work around this. source-file",no-bug,0.95
62,vercel,https://github.com/vercel/vercel/issues/62,"The ""update available"" warning should only show if binary not enclosed","If the ""now"" binary contains node, now.app is responsible for managing its updates (not npm).",source-file,"The ""update available"" warning should only show if binary not enclosed If the ""now"" binary contains node, now.app is responsible for managing its updates (not npm). source-file",no-bug,0.8
2830,vercel,https://github.com/vercel/vercel/issues/2830,[now-python] The lambda function size exceeds the maximum size limit (50mb),"Hello fellas. I have problem with deploying my project using now. Deployment of static parts of page goes well, but I have problem with deploying lambda. **I was very suprised that after build the lambda has ridiculous size (246mb)**. Here is the code of the lambda: https://pastebin.com/8SPRxz6y. Any idea what am I doing wrong and how to reduce lambda size? Anyway I am great fan of now and pretty much all zeit projects. Keep it up. Thanks import smtplib from email.message import EmailMessage from http.server import BaseHTTPRequestHandler from urllib.parse import urlparse, parse_qs import json class calculationRequestHandler(BaseHTTPRequestHandler): gmail_user = 'xxxxxxx@gmail.com' gmail_password = 'xxxxxxxxx' mail_recipient = 'xxxxxx@gmail.com' def sendGmail(self, sender, sender_pass, recipient, subject, content): msg = EmailMessage() msg['Subject'] = subject msg['From'] = sender msg['To'] = recipient msg.set_content(content) try: server = smtplib.SMTP_SSL('smtp.gmail.com', 465) server.ehlo() server.login(sender, sender_pass) server.sendmail(sender, recipient, msg.as_string()) except Exception as err: print(err) return False return True def end_headers(self): self.send_header('Content-type','text/plain') # comment this line out before deployment # self.send_header('Access-Control-Allow-Origin', '*') BaseHTTPRequestHandler.end_headers(self) def parse_product(self, product): product_dict = json.loads(product) del product_dict[""productImgSrc""] del product_dict[""productHref""] return product_dict def generate_content(self, my_query): parsed_products = [] for product in my_query['productList[]']: parsed_products.append(self.parse_product(product)) return json.dumps({ 'email': my_query['email'][0], 'produkty': parsed_products }, ensure_ascii=False, indent=2) def do_GET(self): parsed_url = urlparse(self.path) my_query = parse_qs(parsed_url.query) content = self.generate_content(my_query) subject = 'ziadost o kalkulaciu - ' + my_query['email'][0] self.sendGmail(self.gmail_user, self.gmail_password, self.mail_recipient, subject, content) self.send_response(200) self.end_headers() return ",source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file,"[now-python] The lambda function size exceeds the maximum size limit (50mb) Hello fellas. I have problem with deploying my project using now. Deployment of static parts of page goes well, but I have problem with deploying lambda. **I was very suprised that after build the lambda has ridiculous size (246mb)**. Here is the code of the lambda: https://pastebin.com/8SPRxz6y. Any idea what am I doing wrong and how to reduce lambda size? Anyway I am great fan of now and pretty much all zeit projects. Keep it up. Thanks import smtplib from email.message import EmailMessage from http.server import BaseHTTPRequestHandler from urllib.parse import urlparse, parse_qs import json class calculationRequestHandler(BaseHTTPRequestHandler): gmail_user = 'xxxxxxx@gmail.com' gmail_password = 'xxxxxxxxx' mail_recipient = 'xxxxxx@gmail.com' def sendGmail(self, sender, sender_pass, recipient, subject, content): msg = EmailMessage() msg['Subject'] = subject msg['From'] = sender msg['To'] = recipient msg.set_content(content) try: server = smtplib.SMTP_SSL('smtp.gmail.com', 465) server.ehlo() server.login(sender, sender_pass) server.sendmail(sender, recipient, msg.as_string()) except Exception as err: print(err) return False return True def end_headers(self): self.send_header('Content-type','text/plain') # comment this line out before deployment # self.send_header('Access-Control-Allow-Origin', '*') BaseHTTPRequestHandler.end_headers(self) def parse_product(self, product): product_dict = json.loads(product) del product_dict[""productImgSrc""] del product_dict[""productHref""] return product_dict def generate_content(self, my_query): parsed_products = [] for product in my_query['productList[]']: parsed_products.append(self.parse_product(product)) return json.dumps({ 'email': my_query['email'][0], 'produkty': parsed_products }, ensure_ascii=False, indent=2) def do_GET(self): parsed_url = urlparse(self.path) my_query = parse_qs(parsed_url.query) content = self.generate_content(my_query) subject = 'ziadost o kalkulaciu - ' + my_query['email'][0] self.sendGmail(self.gmail_user, self.gmail_password, self.mail_recipient, subject, content) self.send_response(200) self.end_headers() return  source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
3497,vercel,https://github.com/vercel/vercel/issues/3497,[dev] Now dev fails to serve api functions when used with Gridsome,"Following the [Gridsome example project](https://github.com/zeit/now-examples/blob/master/gridsome) and executing `now dev` will lunch the Gridsome Dev mode but the Now api functions will be ignored. A solution is to remove the `dev` script from the package.json, but it is not clear then if its a bug or a missconfiguration as the documentation and the example encourages setting the script.",source-file,"[dev] Now dev fails to serve api functions when used with Gridsome Following the [Gridsome example project](https://github.com/zeit/now-examples/blob/master/gridsome) and executing `now dev` will lunch the Gridsome Dev mode but the Now api functions will be ignored. A solution is to remove the `dev` script from the package.json, but it is not clear then if its a bug or a missconfiguration as the documentation and the example encourages setting the script. source-file",no-bug,0.7
536,vercel,https://github.com/vercel/vercel/issues/536,"Postgres on RDS, SSL","I couldn't find this documented, how does one connect an app to Postgres over a secure connection given the need for the certificate to be on the server https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_PostgreSQL.html#PostgreSQL.Concepts.General.SSL Step 1: ""Download the public key stored at https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem.""",source-file,"Postgres on RDS, SSL I couldn't find this documented, how does one connect an app to Postgres over a secure connection given the need for the certificate to be on the server https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_PostgreSQL.html#PostgreSQL.Concepts.General.SSL Step 1: ""Download the public key stored at https://s3.amazonaws.com/rds-downloads/rds-combined-ca-bundle.pem."" source-file",no-bug,0.9
313,vercel,https://github.com/vercel/vercel/issues/313,Problem with GitLab dependency,"Hi, I'm trying to specify GitLab repository as a dependency of my project but it fails when `npm install` runs on now deployment. I tried putting `""wsdm-tooltip"": ""gitlab:lapidusinteractive/wsdm-tooltip""` in my package.json. It works perfectly on my local machine. On now it seems that it tries to fetch this repo from github as indicated by this part of the log  Error { HTTPError at EventEmitter.<anonymous> (/usr/lib/node_modules/@zeit/ace/node_modules/got/index.js:187:24) at emitOne (events.js:96:13) at EventEmitter.emit (events.js:188:7) at Immediate.<anonymous> (/usr/lib/node_modules/@zeit/ace/node_modules/got/index.js:55:8) at runCallback (timers.js:637:20) at tryOnImmediate (timers.js:610:5) at processImmediate [as _immediateCallback] (timers.js:582:5) message: 'Response code 404 (Not Found)', host: 'github.com', hostname: 'github.com', method: 'GET', path: '/lapidusinteractive/wsdm-tooltip/raw/archive/master.tar.gz', statusCode: 404, statusMessage: 'Not Found' }  I tried different ways of specifying the repo in the package.json, like suggested in the npm docs. I also tried the suggested ways from this blog post https://zeit.co/blog/package-installation-improvements, , including the full repo url: `""wsdm-tooltip"": ""https://gitlab.com/lapidusinteractive/wsdm-tooltip"" No matter what I try, the host in this log shows up as github.com I'd really appreciate any help, thank you!",source-file,"Problem with GitLab dependency Hi, I'm trying to specify GitLab repository as a dependency of my project but it fails when `npm install` runs on now deployment. I tried putting `""wsdm-tooltip"": ""gitlab:lapidusinteractive/wsdm-tooltip""` in my package.json. It works perfectly on my local machine. On now it seems that it tries to fetch this repo from github as indicated by this part of the log  Error { HTTPError at EventEmitter.<anonymous> (/usr/lib/node_modules/@zeit/ace/node_modules/got/index.js:187:24) at emitOne (events.js:96:13) at EventEmitter.emit (events.js:188:7) at Immediate.<anonymous> (/usr/lib/node_modules/@zeit/ace/node_modules/got/index.js:55:8) at runCallback (timers.js:637:20) at tryOnImmediate (timers.js:610:5) at processImmediate [as _immediateCallback] (timers.js:582:5) message: 'Response code 404 (Not Found)', host: 'github.com', hostname: 'github.com', method: 'GET', path: '/lapidusinteractive/wsdm-tooltip/raw/archive/master.tar.gz', statusCode: 404, statusMessage: 'Not Found' }  I tried different ways of specifying the repo in the package.json, like suggested in the npm docs. I also tried the suggested ways from this blog post https://zeit.co/blog/package-installation-improvements, , including the full repo url: `""wsdm-tooltip"": ""https://gitlab.com/lapidusinteractive/wsdm-tooltip"" No matter what I try, the host in this log shows up as github.com I'd really appreciate any help, thank you! source-file",no-bug,0.9
13,vercel,https://github.com/vercel/vercel/issues/13,`now domain` doesn't handle authentication errors,Instead it's showing a stack trace like:  Cannot read property `sort` of undefined ,source-file | source-file,`now domain` doesn't handle authentication errors Instead it's showing a stack trace like:  Cannot read property `sort` of undefined  source-file source-file,bug,0.9
866,vercel,https://github.com/vercel/vercel/issues/866,GitHub deployments is not working,"When trying to deploy a GitHub repo using: bash now user/repo  Is not working, it looks the error is here https://github.com/zeit/now-cli/blob/master/src/providers/sh/commands/deploy.js#L287 Because that `rawPath` is `undefined` then the validation to check if it's a GH repo is not working and show this error. https://github.com/zeit/now-cli/blob/master/src/providers/sh/commands/deploy.js#L345",other-file,"GitHub deployments is not working When trying to deploy a GitHub repo using: bash now user/repo  Is not working, it looks the error is here https://github.com/zeit/now-cli/blob/master/src/providers/sh/commands/deploy.js#L287 Because that `rawPath` is `undefined` then the validation to check if it's a GH repo is not working and show this error. https://github.com/zeit/now-cli/blob/master/src/providers/sh/commands/deploy.js#L345 other-file",no-bug,0.9
564,vercel,https://github.com/vercel/vercel/issues/564,Copying url to clipboard doesn't happen on windows,I think this is because windows doesn't returns undefined for `process.stdout.isTTY`,documentation-file | other-file | documentation-file | other-file | documentation-file | other-file,Copying url to clipboard doesn't happen on windows I think this is because windows doesn't returns undefined for `process.stdout.isTTY` documentation-file other-file documentation-file other-file documentation-file other-file,no-bug,0.9
242,vercel,https://github.com/vercel/vercel/issues/242,Now does not respect engines.npm,"I am currently attempting to deploy a vue-cli project built with the Webpack template. By default the package.json specifies :  ""engines"": { ""node"": "">= 4.0.0"", ""npm"": "">= 3.0.0"" }  However during the build process provided by vue-cli a version check returns the following error  To use this template, you must update following to modules: npm: 2.15.11 should be >= 3.0.0  I was able to get around this issue by bumping up the npm version in my package.json to  ""engines"": { ""node"": "">= 7.0.0"", ""npm"":"">= 3.10.9"" }  But it would be nice if "">= 3.0.0"" resolved to a version of npm 3+ not 2.15.11",source-file | documentation-file,"Now does not respect engines.npm I am currently attempting to deploy a vue-cli project built with the Webpack template. By default the package.json specifies :  ""engines"": { ""node"": "">= 4.0.0"", ""npm"": "">= 3.0.0"" }  However during the build process provided by vue-cli a version check returns the following error  To use this template, you must update following to modules: npm: 2.15.11 should be >= 3.0.0  I was able to get around this issue by bumping up the npm version in my package.json to  ""engines"": { ""node"": "">= 7.0.0"", ""npm"":"">= 3.10.9"" }  But it would be nice if "">= 3.0.0"" resolved to a version of npm 3+ not 2.15.11 source-file documentation-file",no-bug,0.9
678,vercel,https://github.com/vercel/vercel/issues/678,Deploying git repositories not working,"`now user/repo` doesn't work anymore. It returns `> Error! The specified directory ""repo"" doesn't exist.` Also tried with the repository url, same error. on now@7.0.0",documentation-file | source-file | test-file | other-file,"Deploying git repositories not working `now user/repo` doesn't work anymore. It returns `> Error! The specified directory ""repo"" doesn't exist.` Also tried with the repository url, same error. on now@7.0.0 documentation-file source-file test-file other-file",no-bug,0.7
7749,vercel,https://github.com/vercel/vercel/issues/7749,[Monorepo Detection] Add getWorkspacePackagePaths helper function,"ts /** * Gets the list of workspace package paths based on the configuration * * @example * * my-repo * |-- packages * | |-- api-1 * | |-- api-2 * |-- package.json * |-- pnpm-workspaces.yaml // packages: [""packages/*""] * * const fs = new  // based on 'my-repo' * const workspace = { , type: ""pnpm"" } * getWorkspacePackagePaths({ fs, workspace }) => [ * ""my-repo/packages/api-1"", * ""my-repo/packages/api-2"" * ] */ function getWorkspacePackagePaths(fs: DetectorFilesystem, workspace: Workspace): string[] ",documentation-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file,"[Monorepo Detection] Add getWorkspacePackagePaths helper function ts /** * Gets the list of workspace package paths based on the configuration * * @example * * my-repo * |-- packages * | |-- api-1 * | |-- api-2 * |-- package.json * |-- pnpm-workspaces.yaml // packages: [""packages/*""] * * const fs = new  // based on 'my-repo' * const workspace = { , type: ""pnpm"" } * getWorkspacePackagePaths({ fs, workspace }) => [ * ""my-repo/packages/api-1"", * ""my-repo/packages/api-2"" * ] */ function getWorkspacePackagePaths(fs: DetectorFilesystem, workspace: Workspace): string[]  documentation-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file other-file",no-bug,0.95
216,vercel,https://github.com/vercel/vercel/issues/216,Error with aliasing a subdomain: Unable to verify. Please try the alias again later," now alias https://ramda-repl-zsofwtzrvd.now.sh repl.johnlindquist.com > repl.johnlindquist.com is a custom domain. > Verifying the DNS settings for repl.johnlindquist.com (see https://zeit.world for help) > Detected zeit.world nameservers! Configuring records. > DNS Configured! Verifying propagation > Error! > We configured the DNS settings for your alias, but we were unable to verify that they've propagated. Please try the alias again later.  I've been trying this command for the past day. johnlindquist.com is pointing to the zeit.world nameservers. Am I missing a config step or is something broken?",other-file | other-file | config-file | source-file | source-file | source-file | source-file | documentation-file | source-file | other-file | other-file,"Error with aliasing a subdomain: Unable to verify. Please try the alias again later  now alias https://ramda-repl-zsofwtzrvd.now.sh repl.johnlindquist.com > repl.johnlindquist.com is a custom domain. > Verifying the DNS settings for repl.johnlindquist.com (see https://zeit.world for help) > Detected zeit.world nameservers! Configuring records. > DNS Configured! Verifying propagation > Error! > We configured the DNS settings for your alias, but we were unable to verify that they've propagated. Please try the alias again later.  I've been trying this command for the past day. johnlindquist.com is pointing to the zeit.world nameservers. Am I missing a config step or is something broken? other-file other-file config-file source-file source-file source-file source-file documentation-file source-file other-file other-file",no-bug,0.9
22,vercel,https://github.com/vercel/vercel/issues/22,Not all NPM scripts are executed during deployment,"According to [the NPM docs](https://docs.npmjs.com/misc/scripts) `prepublish` script should be executed _on local npm install without any arguments_. It seems that on Now it is not the case. I depend on this to compile my sources (e.g. `coffee`, `elm` -> `js`). Consider this [sample package to test scripts execution](https://github.com/lzrski/npm-scripts). This is the output on my local machine:  $ npm install > npm-scripts@1.0.0 preinstall /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: preinstall' NPM SCRIPT: preinstall | > npm-scripts@1.0.0 install /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: install' NPM SCRIPT: install > npm-scripts@1.0.0 postinstall /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: postinstall' NPM SCRIPT: postinstall > npm-scripts@1.0.0 prepublish /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: prepublish' NPM SCRIPT: prepublish coffee-script@1.10.0 node_modules/coffee-script lodash@3.10.1 node_modules/lodash  and this is output from `now`:  $ now > Deploying ~/Projects/npm-scripts > Using Node.js 6.2.1 (default) > Ready! https://npm-scripts-izbtgitqee.now.sh (copied to clipboard) [3s] > Upload [] 100% 0.0s > Sync complete (25.9kB) [3s] > Initializing > Building >  npm install > Installing package lodash@^3.10.1 > Installing package coffee-script@^1.9.3 >  npm start > NPM SCRIPT: prestart > NPM SCRIPT: start > NPM SCRIPT: poststart > start exited with status 0  As you can see none of the following scripts: - `preinstall` - `install` - `postinstall` - `prepublish` was executed in Now. @lzrski",documentation-file,"Not all NPM scripts are executed during deployment According to [the NPM docs](https://docs.npmjs.com/misc/scripts) `prepublish` script should be executed _on local npm install without any arguments_. It seems that on Now it is not the case. I depend on this to compile my sources (e.g. `coffee`, `elm` -> `js`). Consider this [sample package to test scripts execution](https://github.com/lzrski/npm-scripts). This is the output on my local machine:  $ npm install > npm-scripts@1.0.0 preinstall /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: preinstall' NPM SCRIPT: preinstall | > npm-scripts@1.0.0 install /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: install' NPM SCRIPT: install > npm-scripts@1.0.0 postinstall /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: postinstall' NPM SCRIPT: postinstall > npm-scripts@1.0.0 prepublish /Users/tadeuszlazurski/Projects/npm-scripts > echo 'NPM SCRIPT: prepublish' NPM SCRIPT: prepublish coffee-script@1.10.0 node_modules/coffee-script lodash@3.10.1 node_modules/lodash  and this is output from `now`:  $ now > Deploying ~/Projects/npm-scripts > Using Node.js 6.2.1 (default) > Ready! https://npm-scripts-izbtgitqee.now.sh (copied to clipboard) [3s] > Upload [] 100% 0.0s > Sync complete (25.9kB) [3s] > Initializing > Building >  npm install > Installing package lodash@^3.10.1 > Installing package coffee-script@^1.9.3 >  npm start > NPM SCRIPT: prestart > NPM SCRIPT: start > NPM SCRIPT: poststart > start exited with status 0  As you can see none of the following scripts: - `preinstall` - `install` - `postinstall` - `prepublish` was executed in Now. @lzrski documentation-file",no-bug,0.9
3020,vercel,https://github.com/vercel/vercel/issues/3020,Render prompt when deploying home directory,"Currently, if you're deploying your home directory accidentally, we're not telling you: ![image](https://user-images.githubusercontent.com/6170607/64913581-e9182d80-d742-11e9-8121-f1813aa41756.png) In the case of my machine, I got an error because it wasn't able to read my `Cookies` directory. In other cases, however, you wouldn't get this error (for example when setting up a refresh non-GUI Ubuntu VM). To make it more clear that you might accidentally be deploying your entire home dir, we want to render this prompt: > You are deploying your home directory. Do you want to continue?",test-file,"Render prompt when deploying home directory Currently, if you're deploying your home directory accidentally, we're not telling you: ![image](https://user-images.githubusercontent.com/6170607/64913581-e9182d80-d742-11e9-8121-f1813aa41756.png) In the case of my machine, I got an error because it wasn't able to read my `Cookies` directory. In other cases, however, you wouldn't get this error (for example when setting up a refresh non-GUI Ubuntu VM). To make it more clear that you might accidentally be deploying your entire home dir, we want to render this prompt: > You are deploying your home directory. Do you want to continue? test-file",no-bug,0.9
943,vercel,https://github.com/vercel/vercel/issues/943,Now desktop app does not open,"I'm new to Zeit and I'm currently evaluating it. I'm trying to deploy this [simple branch](https://github.com/grommet/grommet-site/tree/zeit) but I get this error: > Error! Unexpected error. Please try again later. (Unexpected response) Also, I'm trying to install the Now desktop app for Mac and there is nothing I can do to open it. I've moved it to Applications and I click on it and no feedback at all.",source-file | test-file,"Now desktop app does not open I'm new to Zeit and I'm currently evaluating it. I'm trying to deploy this [simple branch](https://github.com/grommet/grommet-site/tree/zeit) but I get this error: > Error! Unexpected error. Please try again later. (Unexpected response) Also, I'm trying to install the Now desktop app for Mac and there is nothing I can do to open it. I've moved it to Applications and I click on it and no feedback at all. source-file test-file",no-bug,0.9
11464,vercel,https://github.com/vercel/vercel/issues/11464,getInstalledPackageVersion is not a function,"Hello, I tried to build using `vercel build` 20 minutes ago using `vercel@latest` installed with `npm install -g vercel@latest` but I get this error : `Error: (0 , import_build_utils13.getInstalledPackageVersion) is not a function`. My GitHub Actions builds keep failing because they encounter this error at the end. How can I fix it?",documentation-file | documentation-file,"getInstalledPackageVersion is not a function Hello, I tried to build using `vercel build` 20 minutes ago using `vercel@latest` installed with `npm install -g vercel@latest` but I get this error : `Error: (0 , import_build_utils13.getInstalledPackageVersion) is not a function`. My GitHub Actions builds keep failing because they encounter this error at the end. How can I fix it? documentation-file documentation-file",no-bug,0.9
398,vercel,https://github.com/vercel/vercel/issues/398,"If remote build / start has an error code, shouldn't the cli exit with non 0?","When running a deployment, if something does not deploy correctly on the server due to a missing dep or npm not working right (hey, it happens) IMHO the CLI should exit with a non zero. Currently the log output will show npm exiting with non zero but then things just keep going right along",source-file | documentation-file | source-file | source-file | other-file,"If remote build / start has an error code, shouldn't the cli exit with non 0? When running a deployment, if something does not deploy correctly on the server due to a missing dep or npm not working right (hey, it happens) IMHO the CLI should exit with a non zero. Currently the log output will show npm exiting with non zero but then things just keep going right along source-file documentation-file source-file source-file other-file",no-bug,0.8
1359,vercel,https://github.com/vercel/vercel/issues/1359,now alias not working in 11.1.12,**Now CLI version:** 11.1.12 **Command:** now alias \<deployment> \<domain> **Error:**  > Error! An unexpected error occurred in alias: TypeError: Cannot read property 'includes' of null at getCertRequestSettings (C:\snapshot\repo\dist\now.js:3472:19) at createCertificateForAlias (C:\snapshot\repo\dist\now.js:3394:7) at createAlias (C:\snapshot\repo\dist\now.js:5672:58) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7) ,source-file,now alias not working in 11.1.12 **Now CLI version:** 11.1.12 **Command:** now alias \<deployment> \<domain> **Error:**  > Error! An unexpected error occurred in alias: TypeError: Cannot read property 'includes' of null at getCertRequestSettings (C:\snapshot\repo\dist\now.js:3472:19) at createCertificateForAlias (C:\snapshot\repo\dist\now.js:3394:7) at createAlias (C:\snapshot\repo\dist\now.js:5672:58) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7)  source-file,no-bug,0.9
7750,vercel,https://github.com/vercel/vercel/issues/7750,[Monorepo Detection] Add readdir and chdir functions to DetectorFilesystem,"In order to support various `fs` operations for monorepo detection, the team needs to add two new abstract functions to `DetectorFilesystem` in order to traverse down into children directories * readdir * chdir ts interface Stat { name: string path: string type: ""file"" | ""dir"" } export abstract class DetectorFilesystem {  /** * Returns a list of Stat objects from the current working directory. * * @example * * const url = ""https://github.com/vercel/front"" * const fs = new GitDetectorFilesystem() // based on url * * // calls ""https://api.github.com/repos/vercel/front/contents"" behind the scenes * await fs.readdir() => [ * { name: ""docs"", path: ""docs"", type: ""dir"" }, * { name: ""front"", path: ""front"", type: ""dir"" }, * , * { name: ""package.json"", path: ""package.json"", type: ""file"" }, * ] */ protected abstract _readdir(name: string): Promise<Stat[]>; /** * Changes the current directory to the specified path and returns a new instance of DetectorFilesystem. * * @example * * my-repo * |-- backend * | |-- api-1 * | |-- api-2 * | |-- package.json // workspaces: [""api-1"", ""api-2""] * | |-- yarn.lock * |-- frontend * | |-- nextjs-app * | |-- gatsby-app * | |-- package.json * | |-- pnpm-workspaces.yaml // packages: [""nextjs-app"", ""gatsby-app""] * * const fs = new () // based on ""my-repo"" as the root * const backendFs = fs.chdir(""backend"") * const frontendFs = fs.chdir(""frontend"") * * const backendWorkspaceManager = detectFramework({ fs: backendFs, frameworkList: workspaceManagers }) // ""yarn"" * const frontendWorkspaceManager = detectFramework({ fs: frontendFs, frameworkList: workspaceManagers }) // ""pnpm"" */ protected abstract _chdir(name: string): DetectorFilesystem  } ",source-file | test-file | test-file,"[Monorepo Detection] Add readdir and chdir functions to DetectorFilesystem In order to support various `fs` operations for monorepo detection, the team needs to add two new abstract functions to `DetectorFilesystem` in order to traverse down into children directories * readdir * chdir ts interface Stat { name: string path: string type: ""file"" | ""dir"" } export abstract class DetectorFilesystem {  /** * Returns a list of Stat objects from the current working directory. * * @example * * const url = ""https://github.com/vercel/front"" * const fs = new GitDetectorFilesystem() // based on url * * // calls ""https://api.github.com/repos/vercel/front/contents"" behind the scenes * await fs.readdir() => [ * { name: ""docs"", path: ""docs"", type: ""dir"" }, * { name: ""front"", path: ""front"", type: ""dir"" }, * , * { name: ""package.json"", path: ""package.json"", type: ""file"" }, * ] */ protected abstract _readdir(name: string): Promise<Stat[]>; /** * Changes the current directory to the specified path and returns a new instance of DetectorFilesystem. * * @example * * my-repo * |-- backend * | |-- api-1 * | |-- api-2 * | |-- package.json // workspaces: [""api-1"", ""api-2""] * | |-- yarn.lock * |-- frontend * | |-- nextjs-app * | |-- gatsby-app * | |-- package.json * | |-- pnpm-workspaces.yaml // packages: [""nextjs-app"", ""gatsby-app""] * * const fs = new () // based on ""my-repo"" as the root * const backendFs = fs.chdir(""backend"") * const frontendFs = fs.chdir(""frontend"") * * const backendWorkspaceManager = detectFramework({ fs: backendFs, frameworkList: workspaceManagers }) // ""yarn"" * const frontendWorkspaceManager = detectFramework({ fs: frontendFs, frameworkList: workspaceManagers }) // ""pnpm"" */ protected abstract _chdir(name: string): DetectorFilesystem  }  source-file test-file test-file",no-bug,0.9
689,vercel,https://github.com/vercel/vercel/issues/689,Pass `debug` flag in all places `handleError` is being used,"By passing `, { debug: true }`, we would get the ability to see stack traces whenever `-d` is used and an error occurs that gets passed to the `handleError` utility",source-file,"Pass `debug` flag in all places `handleError` is being used By passing `, { debug: true }`, we would get the ability to see stack traces whenever `-d` is used and an error occurs that gets passed to the `handleError` utility source-file",no-bug,0.9
3109,vercel,https://github.com/vercel/vercel/issues/3109,"Now + Next.js: ""Please install typescript"" error with --prod deployment","I have a staging/production environment on Zeit for a frontend application done in Next.js. Last prod deployment was done 4 days ago, without issues. Today I've merged staging into prod, but I get an error that blocks the deployment while building the application:  It looks like you're trying to use TypeScript but do not have the required package(s) installed. Please install typescript by running: npm install --save-dev typescript If you are not trying to use TypeScript, please remove the tsconfig.json file from your package root (and any TypeScript files)  I'm not sure what is the reason why this error shows up now and not in the previous builds. I've checked the builds logs and nothing changed. I could probably solve this by adding typescript as **prod dependency** instead of having it as devDependency in my package.json file, but I'm not sure why the error is happening now and wasn't there on the latest releases. Another workaround would be to not use the **--prod flag** on the **production deployment** since the issue doesn't happen with the **staging deployment** that doesn't use the --prod flag. This is the full deployment command I'm using  now --prod --token $ZEIT_TOKEN --local-config .now/now.production.json  I have a gut feeling that it might be connected to #3107 and #3105 Any hints? Ps: I've also open a [thread on spectrum](https://spectrum.chat/zeit/general/now-next-js-please-install-typescript-error-on-production-deployment~6cc5a743-0ca1-4e21-b45f-02a8ee0dcfb8) and seems I'm not the only one",source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file,"Now + Next.js: ""Please install typescript"" error with --prod deployment I have a staging/production environment on Zeit for a frontend application done in Next.js. Last prod deployment was done 4 days ago, without issues. Today I've merged staging into prod, but I get an error that blocks the deployment while building the application:  It looks like you're trying to use TypeScript but do not have the required package(s) installed. Please install typescript by running: npm install --save-dev typescript If you are not trying to use TypeScript, please remove the tsconfig.json file from your package root (and any TypeScript files)  I'm not sure what is the reason why this error shows up now and not in the previous builds. I've checked the builds logs and nothing changed. I could probably solve this by adding typescript as **prod dependency** instead of having it as devDependency in my package.json file, but I'm not sure why the error is happening now and wasn't there on the latest releases. Another workaround would be to not use the **--prod flag** on the **production deployment** since the issue doesn't happen with the **staging deployment** that doesn't use the --prod flag. This is the full deployment command I'm using  now --prod --token $ZEIT_TOKEN --local-config .now/now.production.json  I have a gut feeling that it might be connected to #3107 and #3105 Any hints? Ps: I've also open a [thread on spectrum](https://spectrum.chat/zeit/general/now-next-js-please-install-typescript-error-on-production-deployment~6cc5a743-0ca1-4e21-b45f-02a8ee0dcfb8) and seems I'm not the only one source-file source-file source-file test-file test-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file",no-bug,0.95
3323,vercel,https://github.com/vercel/vercel/issues/3323,Error sending response,"I'm running `now dev` against a very basic Go api.  - api - customer - customer.go - index.go - www - index.html  Everything works correctly, however, very frequently (something like 1 in 20-ish requests), produce the following error:  2019/11/16 16:12:12 Error sending response: Post http://127.0.0.1:49500/2018-06-01/runtime/invocation/3d05b4bc-bea9-4fdf-987d-22184eda5fa7/response: net/http: request canceled (Client.Timeout exceeded while awaiting headers)  This works 100% correctly when I deploy it in to zeits infrastructure using `now` Seems like there is a very low timeout setting somewhere when running in dev mode? Code is here: https://github.com/howdoeyeknowyou-machine/small-error-example Running example is here (which works all the time - it only fails locally): https://small-error-example.now.sh",documentation-file | other-file | documentation-file | other-file,"Error sending response I'm running `now dev` against a very basic Go api.  - api - customer - customer.go - index.go - www - index.html  Everything works correctly, however, very frequently (something like 1 in 20-ish requests), produce the following error:  2019/11/16 16:12:12 Error sending response: Post http://127.0.0.1:49500/2018-06-01/runtime/invocation/3d05b4bc-bea9-4fdf-987d-22184eda5fa7/response: net/http: request canceled (Client.Timeout exceeded while awaiting headers)  This works 100% correctly when I deploy it in to zeits infrastructure using `now` Seems like there is a very low timeout setting somewhere when running in dev mode? Code is here: https://github.com/howdoeyeknowyou-machine/small-error-example Running example is here (which works all the time - it only fails locally): https://small-error-example.now.sh documentation-file other-file documentation-file other-file",no-bug,0.8
449,vercel,https://github.com/vercel/vercel/issues/449,Ask for confirmation on `now domain rm`,"After discussing on zeit.chat, we should ask for confirmation when someone is about to remove their domain name (and all dns records)",documentation-file | source-file | other-file,"Ask for confirmation on `now domain rm` After discussing on zeit.chat, we should ask for confirmation when someone is about to remove their domain name (and all dns records) documentation-file source-file other-file",no-bug,0.9
228,vercel,https://github.com/vercel/vercel/issues/228,Slack integration?,"I'd like to have notifications in my Slack group when deploying with `now`, so that my team members are kept informed of changes. Is that possible and how, or if not, could it be implemented?",config-file | config-file,"Slack integration? I'd like to have notifications in my Slack group when deploying with `now`, so that my team members are kept informed of changes. Is that possible and how, or if not, could it be implemented? config-file config-file",no-bug,0.9
66,vercel,https://github.com/vercel/vercel/issues/66,minimatch seems to not be used as dependency,"Just reviewing the codebase and notice this one https://github.com/zeit/now/search?utf8=%E2%9C%93&q=minimatch If you wanna use some matching try out `micromatch` :P And btw, awesome service! Excellent job! I :heart: it.",documentation-file | source-file | test-file | source-file,"minimatch seems to not be used as dependency Just reviewing the codebase and notice this one https://github.com/zeit/now/search?utf8=%E2%9C%93&q=minimatch If you wanna use some matching try out `micromatch` :P And btw, awesome service! Excellent job! I :heart: it. documentation-file source-file test-file source-file",no-bug,0.9
8231,vercel,https://github.com/vercel/vercel/issues/8231,"500 errors for Vercel Python: ""There is no current event loop in thread""","I'm getting the following error from ALL of my Python functions - for example on https://til.simonwillison.net/ which logs to https://vercel.com/datasette/simon-til/9SYmpgw4ExnTbRLnsevw5zXXTRgb/functions  [ERROR] RuntimeError: There is no current event loop in thread 'MainThread'. Traceback (most recent call last) : File ""/var/task/vc handler python.py"", line 453, in vc_handler lifespan = Lifespan( vc module.app) File ""/var/task/vc handler python.py"", line 308, in init self. loop = get event loop() File ""/var/task/vc handler_python. py"", line 184, in get_event_loop return asyncio.get event_loop() File ""/var/lang/lib/python3.g/asyncio/events.py"" line 642, in get _event_loop raise RuntimeError('There is no current event loop in thread er.  Full details here: - https://github.com/simonw/datasette-publish-vercel/issues/58 I first encountered this error this afternoon. I think it's caused by this commit here, which applied fixes involving `asyncio.get event_loop()` for Python 3.10: https://github.com/vercel/vercel/commit/66c8544e8fb7b8eb77106d8b428ef6736b9ecb45 I would upgrade to Python 3.10 but as far as I can tell that's not possible yet - the docs at https://vercel.com/docs/runtimes#official-runtimes/python/python-version suggest that only Python 3.9 is supported at the moment.",test-file | test-file | test-file | test-file | test-file | source-file,"500 errors for Vercel Python: ""There is no current event loop in thread"" I'm getting the following error from ALL of my Python functions - for example on https://til.simonwillison.net/ which logs to https://vercel.com/datasette/simon-til/9SYmpgw4ExnTbRLnsevw5zXXTRgb/functions  [ERROR] RuntimeError: There is no current event loop in thread 'MainThread'. Traceback (most recent call last) : File ""/var/task/vc handler python.py"", line 453, in vc_handler lifespan = Lifespan( vc module.app) File ""/var/task/vc handler python.py"", line 308, in init self. loop = get event loop() File ""/var/task/vc handler_python. py"", line 184, in get_event_loop return asyncio.get event_loop() File ""/var/lang/lib/python3.g/asyncio/events.py"" line 642, in get _event_loop raise RuntimeError('There is no current event loop in thread er.  Full details here: - https://github.com/simonw/datasette-publish-vercel/issues/58 I first encountered this error this afternoon. I think it's caused by this commit here, which applied fixes involving `asyncio.get event_loop()` for Python 3.10: https://github.com/vercel/vercel/commit/66c8544e8fb7b8eb77106d8b428ef6736b9ecb45 I would upgrade to Python 3.10 but as far as I can tell that's not possible yet - the docs at https://vercel.com/docs/runtimes#official-runtimes/python/python-version suggest that only Python 3.9 is supported at the moment. test-file test-file test-file test-file test-file source-file",no-bug,0.8
861,vercel,https://github.com/vercel/vercel/issues/861,Google's Puppeteer doesn't work in now.sh,"When trying to run [Google's Puppeteer](https://github.com/GoogleChrome/puppeteer) on now it throws the following error  > (node:185) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Failed to launch chrome! > /home/nowuser/src/node_modules/puppeteer/.local-chromium/linux-497674/chrome-linux/chrome: error while loading shared libraries: libnss3.so: cannot open shared object file: No such file or directory > TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md > (node:185) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code ",documentation-file | other-file,"Google's Puppeteer doesn't work in now.sh When trying to run [Google's Puppeteer](https://github.com/GoogleChrome/puppeteer) on now it throws the following error  > (node:185) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Failed to launch chrome! > /home/nowuser/src/node_modules/puppeteer/.local-chromium/linux-497674/chrome-linux/chrome: error while loading shared libraries: libnss3.so: cannot open shared object file: No such file or directory > TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md > (node:185) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code  documentation-file other-file",no-bug,0.9
1102,vercel,https://github.com/vercel/vercel/issues/1102,Improve error when adding boolean to environment variables,"`now.json`:  { ""env"": {""FOO"": true} }  Results in: > Error! The env key FOO passed an unsupported type for its value Environment variables can't be booleans, and previously (before now-cli 9.x) we turned them into strings. The new behaviour is correct. But we can improve the message shown to users. Maybe just an `err.sh` link to an article explaining that all environment variables should be strings.",documentation-file | source-file,"Improve error when adding boolean to environment variables `now.json`:  { ""env"": {""FOO"": true} }  Results in: > Error! The env key FOO passed an unsupported type for its value Environment variables can't be booleans, and previously (before now-cli 9.x) we turned them into strings. The new behaviour is correct. But we can improve the message shown to users. Maybe just an `err.sh` link to an article explaining that all environment variables should be strings. documentation-file source-file",no-bug,0.9
365,vercel,https://github.com/vercel/vercel/issues/365,Add notice that `.ws` domains are not supported on ZEIT.world,After discussing on slack. ZEIT.world can't support `.ws` (emoji domains) at the moment. Hosting on `now` is fine. It's just the DNS. The user could use cloudflare for DNS.,source-file | source-file | source-file | source-file | source-file | source-file,Add notice that `.ws` domains are not supported on ZEIT.world After discussing on slack. ZEIT.world can't support `.ws` (emoji domains) at the moment. Hosting on `now` is fine. It's just the DNS. The user could use cloudflare for DNS. source-file source-file source-file source-file source-file source-file,no-bug,0.9
675,vercel,https://github.com/vercel/vercel/issues/675,Unfriendly error message displayed when specifying a wrong directory,sh $ now aaa > Error! Unexpected error. Please try later. (Could not read directory /path/aaa)  This should be an expected error.,documentation-file,Unfriendly error message displayed when specifying a wrong directory sh $ now aaa > Error! Unexpected error. Please try later. (Could not read directory /path/aaa)  This should be an expected error. documentation-file,no-bug,0.8
2092,vercel,https://github.com/vercel/vercel/issues/2092,[now-dev] Route parameters do not work in headers,"Route parameters do not work in ""headers"". In the following example, the correct $locale value is used for both _headers_ and _dest_ on Now server. In `now-dev`, `$locale` will resolves to the right value only for dest. When used in ""headers"" for redirect, $locale did not resolve to a value, a redirection to the literal path ""/$locale/how/"" occured.  routes: [ { ""src"": ""/(?<locale>[^/]*)/how/$"", ""dest"": ""/how?locale=$locale"" }, { ""src"": ""/(?<locale>[^/]*)/how$"", ""status"": 301, ""headers"": { ""Location"": ""/$locale/how/"" } } ] ",source-file | source-file,"[now-dev] Route parameters do not work in headers Route parameters do not work in ""headers"". In the following example, the correct $locale value is used for both _headers_ and _dest_ on Now server. In `now-dev`, `$locale` will resolves to the right value only for dest. When used in ""headers"" for redirect, $locale did not resolve to a value, a redirection to the literal path ""/$locale/how/"" occured.  routes: [ { ""src"": ""/(?<locale>[^/]*)/how/$"", ""dest"": ""/how?locale=$locale"" }, { ""src"": ""/(?<locale>[^/]*)/how$"", ""status"": 301, ""headers"": { ""Location"": ""/$locale/how/"" } } ]  source-file source-file",bug,0.9
3866,vercel,https://github.com/vercel/vercel/issues/3866,Now Dev Crashes on Node 8,"When running `now dev` on node 8.6, it crashes with a very cryptic error. It should check the node version cleanly if there's a requirement.  kpffl % now dev (master) kpffl /usr/local/Cellar/now-cli/17.0.4/libexec/lib/node_modules/now/dist/index.js:2 require('./sourcemap-register.js');module.exports=function(e,t){""use strict"";var n={};function __webpack_require__(t){if(n[t]){return n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,__webpack_require__);r.l=true;return r.exports}__webpack_require__.c=n;function startup(){return __webpack_require__(4165)}t(__webpack_require__);return startup()}([function(e,t,n){""use strict"";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,""__esModule"",{value:true});const i=r(n(4859));function arrayMove(e,t,n,r,i){for(let o=0;o<i;++o){n[o+r]=e[o+t];e[o+t]=void 0}}function pow2AtLeast(e){e=e0;e=e-1;e=e|e>>1;e=e|e>>2;e=e|e>>4;e=e|e>>8;e=e|e>>16;return e+1}function getCapacity(e){return pow2AtLeast(Math.min(Math.max(16,e),1073741824))}class Deque{constructor(e){this._capacity=getCapacity(e);this._length=0;this._front=0;this.arr=[]}push(e){cons SyntaxError: Unexpected token * at createScript (vm.js:80:10) at Object.runInThisContext (vm.js:139:10) at Module._compile (module.js:616:28) at Object.Module._extensions..js (module.js:663:10) at Module.load (module.js:565:32) at tryModuleLoad (module.js:505:12) at Function.Module._load (module.js:497:3) at Function.Module.runMain (module.js:693:10) at startup (bootstrap_node.js:191:16) at bootstrap_node.js:612:3 kpffl % (master) kpffl kpffl % nvm use (master) kpffl Found '/Users/XXXXX/Documents/Projects/kpffl/.nvmrc' with version <13.8.0> Now using node v13.8.0 (npm v6.13.6) kpffl % now dev (master) kpffl Now CLI 17.0.4 dev (beta)  https://zeit.co/feedback > Ready! Available at http://localhost:3000 ",source-file,"Now Dev Crashes on Node 8 When running `now dev` on node 8.6, it crashes with a very cryptic error. It should check the node version cleanly if there's a requirement.  kpffl % now dev (master) kpffl /usr/local/Cellar/now-cli/17.0.4/libexec/lib/node_modules/now/dist/index.js:2 require('./sourcemap-register.js');module.exports=function(e,t){""use strict"";var n={};function __webpack_require__(t){if(n[t]){return n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,__webpack_require__);r.l=true;return r.exports}__webpack_require__.c=n;function startup(){return __webpack_require__(4165)}t(__webpack_require__);return startup()}([function(e,t,n){""use strict"";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,""__esModule"",{value:true});const i=r(n(4859));function arrayMove(e,t,n,r,i){for(let o=0;o<i;++o){n[o+r]=e[o+t];e[o+t]=void 0}}function pow2AtLeast(e){e=e0;e=e-1;e=e|e>>1;e=e|e>>2;e=e|e>>4;e=e|e>>8;e=e|e>>16;return e+1}function getCapacity(e){return pow2AtLeast(Math.min(Math.max(16,e),1073741824))}class Deque{constructor(e){this._capacity=getCapacity(e);this._length=0;this._front=0;this.arr=[]}push(e){cons SyntaxError: Unexpected token * at createScript (vm.js:80:10) at Object.runInThisContext (vm.js:139:10) at Module._compile (module.js:616:28) at Object.Module._extensions..js (module.js:663:10) at Module.load (module.js:565:32) at tryModuleLoad (module.js:505:12) at Function.Module._load (module.js:497:3) at Function.Module.runMain (module.js:693:10) at startup (bootstrap_node.js:191:16) at bootstrap_node.js:612:3 kpffl % (master) kpffl kpffl % nvm use (master) kpffl Found '/Users/XXXXX/Documents/Projects/kpffl/.nvmrc' with version <13.8.0> Now using node v13.8.0 (npm v6.13.6) kpffl % now dev (master) kpffl Now CLI 17.0.4 dev (beta)  https://zeit.co/feedback > Ready! Available at http://localhost:3000  source-file",no-bug,0.9
813,vercel,https://github.com/vercel/vercel/issues/813,now alias error,"`$ now alias talky.cards -r rules.json`  Verifying the DNS settings for talky.cards (see https://zeit.world for help) > Verification OK! > Error! Unknown error: Error: An unexpected internal error occurred Error: An unexpected internal error occurred at module.exports.Now.upsertPathAlias.rules.retry (/snapshot/now-cli/dist/now.js:3581:21) at process._tickCallback (internal/process/next_tick.js:109:7)  rules.json json { ""rules"": [ { ""pathname"": ""/app/**"", ""dest"": ""static.talky.cards"" }, { ""pathname"": ""/svg/**"", ""dest"": ""static.talky.cards"" }, { ""pathname"": ""/backgrounds/**"", ""dest"": ""static.talky.cards"" }, { ""pathname"": ""/**"", ""dest"": ""app.talky.cards"" }, { ""pathname"": ""/"", ""dest"": ""app.talky.cards"" } ] } ",source-file,"now alias error `$ now alias talky.cards -r rules.json`  Verifying the DNS settings for talky.cards (see https://zeit.world for help) > Verification OK! > Error! Unknown error: Error: An unexpected internal error occurred Error: An unexpected internal error occurred at module.exports.Now.upsertPathAlias.rules.retry (/snapshot/now-cli/dist/now.js:3581:21) at process._tickCallback (internal/process/next_tick.js:109:7)  rules.json json { ""rules"": [ { ""pathname"": ""/app/**"", ""dest"": ""static.talky.cards"" }, { ""pathname"": ""/svg/**"", ""dest"": ""static.talky.cards"" }, { ""pathname"": ""/backgrounds/**"", ""dest"": ""static.talky.cards"" }, { ""pathname"": ""/**"", ""dest"": ""app.talky.cards"" }, { ""pathname"": ""/"", ""dest"": ""app.talky.cards"" } ] }  source-file",no-bug,0.9
2368,vercel,https://github.com/vercel/vercel/issues/2368,incorrect Now v1 scaling info,"The current defaults for `max` in `now-cli scale --help` is wrong. <img width=""812"" alt=""Screenshot 2019-05-21 at 13 17 12"" src=""https://user-images.githubusercontent.com/179761/58070237-df365180-7bca-11e9-8257-7cbf8bc3043c.png""> The `max` default is actually `auto`: ![image (2)](https://user-images.githubusercontent.com/179761/58070252-f83f0280-7bca-11e9-89a5-c543aa2f9c73.png) Related to an error in `docs` https://github.com/zeit/docs/pull/838",source-file | source-file | source-file,"incorrect Now v1 scaling info The current defaults for `max` in `now-cli scale --help` is wrong. <img width=""812"" alt=""Screenshot 2019-05-21 at 13 17 12"" src=""https://user-images.githubusercontent.com/179761/58070237-df365180-7bca-11e9-8257-7cbf8bc3043c.png""> The `max` default is actually `auto`: ![image (2)](https://user-images.githubusercontent.com/179761/58070252-f83f0280-7bca-11e9-89a5-c543aa2f9c73.png) Related to an error in `docs` https://github.com/zeit/docs/pull/838 source-file source-file source-file",no-bug,0.9
231,vercel,https://github.com/vercel/vercel/issues/231,Revert to package.json `name` as deployment name default,"I've been deploying my OSS projects out of their respective `dist` directories. Before upgrading to the latest version, my deployment's default name would be parsed from the `dist/package.json`. It's now using the current/targeted directory name as its default. This quickly becomes a problem when multiple projects (all with `dist`) are deployed and share the same base & identifier. sh # now dist  https://dist-ngetttuaxt.now.sh 8m ago  https://dist-wgbalakrxl.now.sh 12m ago  https://dist-kwnbojmpnv.now.sh 13d ago # preferred colors-app  https://icolors-ngetttuaxt.now.sh 8m ago inferno-starter  https://inferno-starter-kwnbojmpnv.now.sh 13d ago preact-starter  https://preact-starter-wgbalakrxl.now.sh 10d ago  Without being careful, you'll quickly have a stack of `dist` deployments, and won't know which are safe to get rid of without visiting each url individually. Lastly, I realize that there **is** a `--name` flag that I can use, but this is only on initial deployment. I cannot fix/rename a deployment after it's been made. I can only ""fix"" it by redeploying & including a `--name` flag, which makes your system work more than it should need to.",source-file | documentation-file | other-file,"Revert to package.json `name` as deployment name default I've been deploying my OSS projects out of their respective `dist` directories. Before upgrading to the latest version, my deployment's default name would be parsed from the `dist/package.json`. It's now using the current/targeted directory name as its default. This quickly becomes a problem when multiple projects (all with `dist`) are deployed and share the same base & identifier. sh # now dist  https://dist-ngetttuaxt.now.sh 8m ago  https://dist-wgbalakrxl.now.sh 12m ago  https://dist-kwnbojmpnv.now.sh 13d ago # preferred colors-app  https://icolors-ngetttuaxt.now.sh 8m ago inferno-starter  https://inferno-starter-kwnbojmpnv.now.sh 13d ago preact-starter  https://preact-starter-wgbalakrxl.now.sh 10d ago  Without being careful, you'll quickly have a stack of `dist` deployments, and won't know which are safe to get rid of without visiting each url individually. Lastly, I realize that there **is** a `--name` flag that I can use, but this is only on initial deployment. I cannot fix/rename a deployment after it's been made. I can only ""fix"" it by redeploying & including a `--name` flag, which makes your system work more than it should need to. source-file documentation-file other-file",no-bug,0.9
800,vercel,https://github.com/vercel/vercel/issues/800,"For `now ls`, print `http://` prefix to allow cmd+clicking from terminal","To keep the interface cleaner, perhaps you'd like to put this behind a flag, or some kind of global config `~/.now/config.js`",source-file | source-file | source-file | source-file,"For `now ls`, print `http://` prefix to allow cmd+clicking from terminal To keep the interface cleaner, perhaps you'd like to put this behind a flag, or some kind of global config `~/.now/config.js` source-file source-file source-file source-file",no-bug,0.9
1350,vercel,https://github.com/vercel/vercel/issues/1350,`now rm` prints misleading error message upon HTTP 500,https://github.com/zeit/now-cli/blob/7e98d0a22b5363f9d46274b4fcd4163ab0591275/src/providers/sh/util/index.js#L765 It should say `Failed to remove deployment` instead.,source-file | source-file | source-file,`now rm` prints misleading error message upon HTTP 500 https://github.com/zeit/now-cli/blob/7e98d0a22b5363f9d46274b4fcd4163ab0591275/src/providers/sh/util/index.js#L765 It should say `Failed to remove deployment` instead. source-file source-file source-file,bug,0.8
892,vercel,https://github.com/vercel/vercel/issues/892,Missing support for custom domains in `now logs -f`,I am able to use the `now log` to print the logs in my terminal but it does not work when I use the `-f` follow option. When I activate the `-d` debug option this is the output: CMD: `now log -d -f mydomaine.com`. result : `> [debug] Socket connected > [debug] Socket disconnect`,documentation-file | documentation-file | other-file,Missing support for custom domains in `now logs -f` I am able to use the `now log` to print the logs in my terminal but it does not work when I use the `-f` follow option. When I activate the `-d` debug option this is the output: CMD: `now log -d -f mydomaine.com`. result : `> [debug] Socket connected > [debug] Socket disconnect` documentation-file documentation-file other-file,no-bug,0.9
3247,vercel,https://github.com/vercel/vercel/issues/3247,Saving Gatsby cache between builds,"I have a Gatsby site deployed with Now and I have noticed that it takes a long time to generate image thumbnails on every build. This could be improved by adding the `.cache` folder Gatsby generates to the cache that Now creates after each build. Is there a way to do this today? If not, are you planning on adding a way to do this manually or even automatically in the future?",other-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Saving Gatsby cache between builds I have a Gatsby site deployed with Now and I have noticed that it takes a long time to generate image thumbnails on every build. This could be improved by adding the `.cache` folder Gatsby generates to the cache that Now creates after each build. Is there a way to do this today? If not, are you planning on adding a way to do this manually or even automatically in the future? other-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file other-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file other-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.95
649,vercel,https://github.com/vercel/vercel/issues/649,Using `--token` to deploy as a team,"I'm looking to deploy to now automatically from CI. On the site I can only get a token for my user, not my team. When I deploy using that token (using `--token`) it deploys under my user not under my team. Am I missing something? I was looking for a `--team` or a token for the team.",source-file | source-file | source-file | source-file,"Using `--token` to deploy as a team I'm looking to deploy to now automatically from CI. On the site I can only get a token for my user, not my team. When I deploy using that token (using `--token`) it deploys under my user not under my team. Am I missing something? I was looking for a `--team` or a token for the team. source-file source-file source-file source-file",no-bug,0.8
522,vercel,https://github.com/vercel/vercel/issues/522,Docker `--dotenv` loading environment inconsistently,"It seems like this is happening somewhere further down. Running `now deploy --docker --dotenv .env.dev` creates a container, but none of the env variables are available. I added logging within `now-deploy.js` right before calling `now.create`, to log the `env`, everything looks correct: - it is parsed correctly - any secrets that were referenced show up with values as `{ uid: 'sec_234l2k3jsdflkja' }` Some builds have the variables, others don't",source-file | documentation-file | source-file | documentation-file | source-file | other-file,"Docker `--dotenv` loading environment inconsistently It seems like this is happening somewhere further down. Running `now deploy --docker --dotenv .env.dev` creates a container, but none of the env variables are available. I added logging within `now-deploy.js` right before calling `now.create`, to log the `env`, everything looks correct: - it is parsed correctly - any secrets that were referenced show up with values as `{ uid: 'sec_234l2k3jsdflkja' }` Some builds have the variables, others don't source-file documentation-file source-file documentation-file source-file other-file",no-bug,0.9
9321,vercel,https://github.com/vercel/vercel/issues/9321,`vercel rm <project> --safe` is not working,"The `vercel rm <project> --safe` command is not working as intended in the latest version of the CLI (currently v28.13.1).  Steps to reproduce: 1. Create a few deployments 2. Run the command `vercel rm <project> --safe` 3. Receive the incorrect error:  > Could not find unaliased deployments or projects matching ""<project>"". Run `vercel ls` to list.   Expected: The command should print all deployments except for the current production deployment and prompt you to delete. Example:  > Found N deployments for removal in <scope> [723ms] > The following N deployments will be permanently removed: dpl_<id> <url> 11h ago  > Are you sure? [y/N]  To confirm this expected behavior, I ran the command with a version of the CLI from several months ago (v28.4.8) and the command worked as expected.  Additional Information Here is the debug output from each CLI version when running these commands: <details> <summary>Working (v28.4.8)</summary>  > [debug] [2023-01-26T05:30:45.414Z] user supplied known subcommand: ""rm"" > [debug] [2023-01-26T05:30:45.434Z] #1  GET https://api.vercel.com/v2/user > [debug] [2023-01-26T05:30:45.590Z] #1  200 OK: sfo1::mxm5k-1674711045582-e0f2f1d06c51 [156ms] > [debug] [2023-01-26T05:30:45.592Z] Spinner invoked (Fetching deployment(s) ""<project>"" in <user>) with a 300ms delay > [debug] [2023-01-26T05:30:45.596Z] #2  GET https://api.vercel.com/v5/now/deployments/<project>? > [debug] [2023-01-26T05:30:45.598Z] #3  GET https://api.vercel.com/v8/projects/<project>? > [debug] [2023-01-26T05:30:45.747Z] #2  404 Not Found: sfo1::rt842-1674711045747-041940a27823 [151ms] > [debug] [2023-01-26T05:30:45.765Z] #3  200 OK: sfo1::pjfmt-1674711045743-da54e38ad74e [167ms] > [debug] [2023-01-26T05:30:45.771Z] #4  GET https://api.vercel.com/v4/now/deployments?projectId=prj_<id>&limit=100 > [debug] [2023-01-26T05:30:45.935Z] #4  200 OK: sfo1::25qb8-1674711045913-b68a0f7843e5 [163ms] > [debug] [2023-01-26T05:30:45.943Z] #5  GET https://api.vercel.com/now/deployments/dpl_<id>/aliases? > [debug] [2023-01-26T05:30:45.947Z] #6  GET https://api.vercel.com/now/deployments/dpl_<id>/aliases? > [debug] [2023-01-26T05:30:45.950Z] #7  GET https://api.vercel.com/now/deployments/dpl_<id>/aliases? > [debug] [2023-01-26T05:30:46.172Z] #5  200 OK: sfo1::5rpvc-1674711046085-392d8e79c6a5 [229ms] > [debug] [2023-01-26T05:30:46.180Z] #7  200 OK: sfo1::n8tp4-1674711046096-1290a6aa6f33 [230ms] > [debug] [2023-01-26T05:30:46.183Z] #6  200 OK: sfo1::qncbd-1674711046096-e79353408dfa [236ms]  </details> <details> <summary>Not working (v28.13.1 latest)</summary>  > [debug] [2023-01-26T05:30:20.722Z] user supplied known subcommand: ""rm"" > [debug] [2023-01-26T05:30:20.744Z] #1  GET https://api.vercel.com/v2/user > [debug] [2023-01-26T05:30:21.032Z] #1  200 OK: sfo1::8xsng-1674711021021-f4a5ccad3cbc [288ms] > [debug] [2023-01-26T05:30:21.035Z] Spinner invoked (Fetching deployment(s) ""<project>"" in <user>) with a 300ms delay > [debug] [2023-01-26T05:30:21.041Z] #2  GET https://api.vercel.com/v13/deployments/<project> > [debug] [2023-01-26T05:30:21.045Z] #3  GET https://api.vercel.com/v8/projects/<project> > [debug] [2023-01-26T05:30:21.214Z] #2  404 Not Found: sfo1::pcrkt-1674711021205-b85db600fed1 [173ms] > [debug] [2023-01-26T05:30:21.228Z] #3  200 OK: sfo1::b54z9-1674711021205-8b4f8c3faed3 [183ms] > [debug] [2023-01-26T05:30:21.235Z] #4  GET https://api.vercel.com/v4/now/deployments?projectId=prj_<id>&limit=100 > [debug] [2023-01-26T05:30:21.423Z] #4  200 OK: sfo1::b54z9-1674711021376-b4b5efb94e4c [187ms] > [debug] [2023-01-26T05:30:21.431Z] #5  GET https://api.vercel.com/v3/now/aliases?limit=20 > [debug] [2023-01-26T05:30:21.435Z] #6  GET https://api.vercel.com/v3/now/aliases?limit=20 > [debug] [2023-01-26T05:30:21.437Z] #7  GET https://api.vercel.com/v3/now/aliases?limit=20 > [debug] [2023-01-26T05:30:21.642Z] #7  200 OK: sfo1::dhsr6-1674711021588-a5ed20901dbd [205ms] > [debug] [2023-01-26T05:30:21.661Z] #5  200 OK: sfo1::h58kr-1674711021578-57a823bcb98c [230ms] > [debug] [2023-01-26T05:30:21.668Z] #6  200 OK: sfo1::kslfr-1674711021593-a41f58517c08 [233ms]  </details>",source-file | source-file,"`vercel rm <project> --safe` is not working The `vercel rm <project> --safe` command is not working as intended in the latest version of the CLI (currently v28.13.1).  Steps to reproduce: 1. Create a few deployments 2. Run the command `vercel rm <project> --safe` 3. Receive the incorrect error:  > Could not find unaliased deployments or projects matching ""<project>"". Run `vercel ls` to list.   Expected: The command should print all deployments except for the current production deployment and prompt you to delete. Example:  > Found N deployments for removal in <scope> [723ms] > The following N deployments will be permanently removed: dpl_<id> <url> 11h ago  > Are you sure? [y/N]  To confirm this expected behavior, I ran the command with a version of the CLI from several months ago (v28.4.8) and the command worked as expected.  Additional Information Here is the debug output from each CLI version when running these commands: <details> <summary>Working (v28.4.8)</summary>  > [debug] [2023-01-26T05:30:45.414Z] user supplied known subcommand: ""rm"" > [debug] [2023-01-26T05:30:45.434Z] #1  GET https://api.vercel.com/v2/user > [debug] [2023-01-26T05:30:45.590Z] #1  200 OK: sfo1::mxm5k-1674711045582-e0f2f1d06c51 [156ms] > [debug] [2023-01-26T05:30:45.592Z] Spinner invoked (Fetching deployment(s) ""<project>"" in <user>) with a 300ms delay > [debug] [2023-01-26T05:30:45.596Z] #2  GET https://api.vercel.com/v5/now/deployments/<project>? > [debug] [2023-01-26T05:30:45.598Z] #3  GET https://api.vercel.com/v8/projects/<project>? > [debug] [2023-01-26T05:30:45.747Z] #2  404 Not Found: sfo1::rt842-1674711045747-041940a27823 [151ms] > [debug] [2023-01-26T05:30:45.765Z] #3  200 OK: sfo1::pjfmt-1674711045743-da54e38ad74e [167ms] > [debug] [2023-01-26T05:30:45.771Z] #4  GET https://api.vercel.com/v4/now/deployments?projectId=prj_<id>&limit=100 > [debug] [2023-01-26T05:30:45.935Z] #4  200 OK: sfo1::25qb8-1674711045913-b68a0f7843e5 [163ms] > [debug] [2023-01-26T05:30:45.943Z] #5  GET https://api.vercel.com/now/deployments/dpl_<id>/aliases? > [debug] [2023-01-26T05:30:45.947Z] #6  GET https://api.vercel.com/now/deployments/dpl_<id>/aliases? > [debug] [2023-01-26T05:30:45.950Z] #7  GET https://api.vercel.com/now/deployments/dpl_<id>/aliases? > [debug] [2023-01-26T05:30:46.172Z] #5  200 OK: sfo1::5rpvc-1674711046085-392d8e79c6a5 [229ms] > [debug] [2023-01-26T05:30:46.180Z] #7  200 OK: sfo1::n8tp4-1674711046096-1290a6aa6f33 [230ms] > [debug] [2023-01-26T05:30:46.183Z] #6  200 OK: sfo1::qncbd-1674711046096-e79353408dfa [236ms]  </details> <details> <summary>Not working (v28.13.1 latest)</summary>  > [debug] [2023-01-26T05:30:20.722Z] user supplied known subcommand: ""rm"" > [debug] [2023-01-26T05:30:20.744Z] #1  GET https://api.vercel.com/v2/user > [debug] [2023-01-26T05:30:21.032Z] #1  200 OK: sfo1::8xsng-1674711021021-f4a5ccad3cbc [288ms] > [debug] [2023-01-26T05:30:21.035Z] Spinner invoked (Fetching deployment(s) ""<project>"" in <user>) with a 300ms delay > [debug] [2023-01-26T05:30:21.041Z] #2  GET https://api.vercel.com/v13/deployments/<project> > [debug] [2023-01-26T05:30:21.045Z] #3  GET https://api.vercel.com/v8/projects/<project> > [debug] [2023-01-26T05:30:21.214Z] #2  404 Not Found: sfo1::pcrkt-1674711021205-b85db600fed1 [173ms] > [debug] [2023-01-26T05:30:21.228Z] #3  200 OK: sfo1::b54z9-1674711021205-8b4f8c3faed3 [183ms] > [debug] [2023-01-26T05:30:21.235Z] #4  GET https://api.vercel.com/v4/now/deployments?projectId=prj_<id>&limit=100 > [debug] [2023-01-26T05:30:21.423Z] #4  200 OK: sfo1::b54z9-1674711021376-b4b5efb94e4c [187ms] > [debug] [2023-01-26T05:30:21.431Z] #5  GET https://api.vercel.com/v3/now/aliases?limit=20 > [debug] [2023-01-26T05:30:21.435Z] #6  GET https://api.vercel.com/v3/now/aliases?limit=20 > [debug] [2023-01-26T05:30:21.437Z] #7  GET https://api.vercel.com/v3/now/aliases?limit=20 > [debug] [2023-01-26T05:30:21.642Z] #7  200 OK: sfo1::dhsr6-1674711021588-a5ed20901dbd [205ms] > [debug] [2023-01-26T05:30:21.661Z] #5  200 OK: sfo1::h58kr-1674711021578-57a823bcb98c [230ms] > [debug] [2023-01-26T05:30:21.668Z] #6  200 OK: sfo1::kslfr-1674711021593-a41f58517c08 [233ms]  </details> source-file source-file",no-bug,0.9
368,vercel,https://github.com/vercel/vercel/issues/368,Doesn't parse Dockerfile LABEL correctly,"In the announcement blog post about Docker support for now, the example uses  LABEL name abc  However, this is not (AFAIK) correct, as the Docker documentation states the syntax is  LABEL <key>=<value> <key>=<value> <key>=<value>   >[Source](https://docs.docker.com/engine/reference/builder/#label) Another issue is that the first syntax doesn't even work for ``now-cli``, the only thing that worked was:  LABEL name=""website""  Note the quotes are required for ``now-cli``, whereas the Docker documentation states quotes only need to be used if there's a space in the label key or value.",source-file | source-file,"Doesn't parse Dockerfile LABEL correctly In the announcement blog post about Docker support for now, the example uses  LABEL name abc  However, this is not (AFAIK) correct, as the Docker documentation states the syntax is  LABEL <key>=<value> <key>=<value> <key>=<value>   >[Source](https://docs.docker.com/engine/reference/builder/#label) Another issue is that the first syntax doesn't even work for ``now-cli``, the only thing that worked was:  LABEL name=""website""  Note the quotes are required for ``now-cli``, whereas the Docker documentation states quotes only need to be used if there's a space in the label key or value. source-file source-file",no-bug,0.9
12,vercel,https://github.com/vercel/vercel/issues/12,`now rm` doesn't accept an url as the identifier of deployment, now rm ${deploymentUrl}  should work,other-file | other-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | documentation-file | config-file,`now rm` doesn't accept an url as the identifier of deployment  now rm ${deploymentUrl}  should work other-file other-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file documentation-file source-file documentation-file source-file documentation-file source-file documentation-file source-file source-file documentation-file source-file source-file documentation-file source-file source-file documentation-file source-file source-file documentation-file source-file documentation-file source-file documentation-file source-file source-file documentation-file source-file documentation-file config-file,no-bug,0.8
232,vercel,https://github.com/vercel/vercel/issues/232,Passing email and password to --login flag?,"I don't see a way to automate logging into `now` via the command line. For example, how would I be able to deploy with `now` using travis? Passing `--login` flag prompts for checking email and clicking link. Is there a way for me to pass in my email and password and have the `now` authenticate me directly?",source-file | source-file | documentation-file | other-file,"Passing email and password to --login flag? I don't see a way to automate logging into `now` via the command line. For example, how would I be able to deploy with `now` using travis? Passing `--login` flag prompts for checking email and clicking link. Is there a way for me to pass in my email and password and have the `now` authenticate me directly? source-file source-file documentation-file other-file",no-bug,0.8
1166,vercel,https://github.com/vercel/vercel/issues/1166,Debounce `wait` utility to 300ms,"If 300ms elapse, we actually render the [ora](https://github.com/sindresorhus/ora). This will make it not render unnecessarily for fast commands.  Example   now ls  Fetching deployments  The "" Fetching deployments"" line would only be rendered if `now ls` is taking longer than 300ms.",source-file | source-file | source-file | source-file | source-file | documentation-file | test-file | other-file | documentation-file | source-file | source-file | test-file | other-file | source-file | documentation-file | source-file | source-file | test-file | other-file | source-file,"Debounce `wait` utility to 300ms If 300ms elapse, we actually render the [ora](https://github.com/sindresorhus/ora). This will make it not render unnecessarily for fast commands.  Example   now ls  Fetching deployments  The "" Fetching deployments"" line would only be rendered if `now ls` is taking longer than 300ms. source-file source-file source-file source-file source-file documentation-file test-file other-file documentation-file source-file source-file test-file other-file source-file documentation-file source-file source-file test-file other-file source-file",no-bug,0.95
768,vercel,https://github.com/vercel/vercel/issues/768,Add example of deployable dashboard,"_From @rauchg on July 7, 2017 6:17_ Running the event feed and basic switcher from https://zeit.co _Copied from original issue: zeit/now#4_",source-file,"Add example of deployable dashboard _From @rauchg on July 7, 2017 6:17_ Running the event feed and basic switcher from https://zeit.co _Copied from original issue: zeit/now#4_ source-file",no-bug,0.9
641,vercel,https://github.com/vercel/vercel/issues/641,Deployment Failures,"Hi, I'm loving now. I'm just having a fair amount of failed deployments since last night that just hang on 'initializing' in the cli and 'preparing container' in the dashboard. I'm just wondering what I can do to debug this issue. It doesn't seem that the --debug setting in the cli reveals much about the issue just that there is often an unexpected internal error after '[debug] Computing Hashes' and a similar error after [debug] /now/create also quite often but both seem inconsistant. It seems like it all started when the cil first encountered a Dockerfile in one of my repos but that may be a coincidence. edit: But also if I just keep trying eventually they seem to work. Except for my create-react-app which never seem to work. edit2: For the failed create-react-app deployments I get the following error on repeated retries until it fails. /now/create: 50841.727ms > [debug] Retrying: Error: An unexpected internal error occurred Error: An unexpected internal error occurred at deployment.retry (/snapshot/home/travis/build/zeit/now-cli/lib/index.js:201:15) at process._tickCallback (internal/process/next_tick.js:103:7)",source-file | documentation-file | source-file | documentation-file | source-file | other-file | source-file | documentation-file | source-file | documentation-file | source-file | other-file,"Deployment Failures Hi, I'm loving now. I'm just having a fair amount of failed deployments since last night that just hang on 'initializing' in the cli and 'preparing container' in the dashboard. I'm just wondering what I can do to debug this issue. It doesn't seem that the --debug setting in the cli reveals much about the issue just that there is often an unexpected internal error after '[debug] Computing Hashes' and a similar error after [debug] /now/create also quite often but both seem inconsistant. It seems like it all started when the cil first encountered a Dockerfile in one of my repos but that may be a coincidence. edit: But also if I just keep trying eventually they seem to work. Except for my create-react-app which never seem to work. edit2: For the failed create-react-app deployments I get the following error on repeated retries until it fails. /now/create: 50841.727ms > [debug] Retrying: Error: An unexpected internal error occurred Error: An unexpected internal error occurred at deployment.retry (/snapshot/home/travis/build/zeit/now-cli/lib/index.js:201:15) at process._tickCallback (internal/process/next_tick.js:103:7) source-file documentation-file source-file documentation-file source-file other-file source-file documentation-file source-file documentation-file source-file other-file",no-bug,0.9
720,vercel,https://github.com/vercel/vercel/issues/720,[now-cli 7.2.4] can not be installed,"![](https://user-images.githubusercontent.com/45934/28497069-ebd4c5a0-6fb7-11e7-94c8-255202102130.png)  @wmlee  ~ npm i -g now /Users/wmlee/.nvm/versions/node/v8.2.0/bin/now -> /Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/now > now@7.2.4 postinstall /Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now > node download/install.js > For the source code, check out: https://github.com/zeit/now-cli > Downloading now CLI 7.2.4 [] 100% Error: Gateway Time-out https://cdn.zeit.co/releases/now-cli/7.2.4/now-macos at _callee$ (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:4808:19) at tryCatch (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:5027:40) at Generator.invoke [as _invoke] (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:5265:22) at Generator.prototype.(anonymous function) [as next] (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:5079:21) at step (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:6633:30) at /Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:6644:13 at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7) npm ERR! code ELIFECYCLE npm ERR! errno 2 npm ERR! now@7.2.4 postinstall: `node download/install.js` npm ERR! Exit status 2 npm ERR! npm ERR! Failed at the now@7.2.4 postinstall script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm ERR! A complete log of this run can be found in: npm ERR! /Users/wmlee/.npm/_logs/2017-07-23T06_04_33_204Z-debug.log  ## Steps 1. `npm i -g now` ## Env  os: sierra 10.12.5 node: v8.2.0 npm: 5.3.0 ",source-file,"[now-cli 7.2.4] can not be installed ![](https://user-images.githubusercontent.com/45934/28497069-ebd4c5a0-6fb7-11e7-94c8-255202102130.png)  @wmlee  ~ npm i -g now /Users/wmlee/.nvm/versions/node/v8.2.0/bin/now -> /Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/now > now@7.2.4 postinstall /Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now > node download/install.js > For the source code, check out: https://github.com/zeit/now-cli > Downloading now CLI 7.2.4 [] 100% Error: Gateway Time-out https://cdn.zeit.co/releases/now-cli/7.2.4/now-macos at _callee$ (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:4808:19) at tryCatch (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:5027:40) at Generator.invoke [as _invoke] (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:5265:22) at Generator.prototype.(anonymous function) [as next] (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:5079:21) at step (/Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:6633:30) at /Users/wmlee/.nvm/versions/node/v8.2.0/lib/node_modules/now/download/dist/download.js:6644:13 at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7) npm ERR! code ELIFECYCLE npm ERR! errno 2 npm ERR! now@7.2.4 postinstall: `node download/install.js` npm ERR! Exit status 2 npm ERR! npm ERR! Failed at the now@7.2.4 postinstall script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm ERR! A complete log of this run can be found in: npm ERR! /Users/wmlee/.npm/_logs/2017-07-23T06_04_33_204Z-debug.log  ## Steps 1. `npm i -g now` ## Env  os: sierra 10.12.5 node: v8.2.0 npm: 5.3.0  source-file",no-bug,0.9
353,vercel,https://github.com/vercel/vercel/issues/353,Strip protocol and path when adding domain,"Just a minor UX thing: sh  now domains add http://example.com/  Error! The supplied value ""http://example.com/"" is not a valid domain.  What do you think of supporting that, just stripping away the protocol and path? Since when you copy/paste from chrome, it will add that http(s):// and the trailing slash. Maybe even add an extra confirmation (if/when) the domain extracted so the user can confirm it's correct. Just a minor thing that would make it a tiny bit more awesome If you think it's a good idea, I'll send a PR",source-file | source-file | source-file | source-file,"Strip protocol and path when adding domain Just a minor UX thing: sh  now domains add http://example.com/  Error! The supplied value ""http://example.com/"" is not a valid domain.  What do you think of supporting that, just stripping away the protocol and path? Since when you copy/paste from chrome, it will add that http(s):// and the trailing slash. Maybe even add an extra confirmation (if/when) the domain extracted so the user can confirm it's correct. Just a minor thing that would make it a tiny bit more awesome If you think it's a good idea, I'll send a PR source-file source-file source-file source-file",no-bug,0.9
909,vercel,https://github.com/vercel/vercel/issues/909,Arguments order and path,"Contrary to what now --help prints, the path must appear first in the arguments. Using now 8.3.9, I get the following behavior. This works and publishes the build directory:  now ./build --static --name chaud --public  But this publishes the current directory, ignoring ./build:  now --static --name chaud --public ./build ",source-file | source-file | source-file | source-file,"Arguments order and path Contrary to what now --help prints, the path must appear first in the arguments. Using now 8.3.9, I get the following behavior. This works and publishes the build directory:  now ./build --static --name chaud --public  But this publishes the current directory, ignoring ./build:  now --static --name chaud --public ./build  source-file source-file source-file source-file",no-bug,0.8
338,vercel,https://github.com/vercel/vercel/issues/338,500 Internal Server Error nginx,"I have a deployment that was at one point working, but I'm now getting a ""500 Internal Server Error nginx"" error. This was a Docker container that I deployed that just contains a simple Node.js application that makes use of a few R scripts (via [node-rio](https://github.com/albertosantini/node-rio)). My Dockerfile doesn't mention nginx at all, so I'd assume it isn't anything on my end causing this issue. Any ideas?",source-file,"500 Internal Server Error nginx I have a deployment that was at one point working, but I'm now getting a ""500 Internal Server Error nginx"" error. This was a Docker container that I deployed that just contains a simple Node.js application that makes use of a few R scripts (via [node-rio](https://github.com/albertosantini/node-rio)). My Dockerfile doesn't mention nginx at all, so I'd assume it isn't anything on my end causing this issue. Any ideas? source-file",no-bug,0.7
575,vercel,https://github.com/vercel/vercel/issues/575,Lost Account,"As the subject says, I lost access to a now account. I used a temporary email (that i dont have access to anymore) to deploy 2 of my projects and aliased them: https://view.now.sh/ https://mostplayed.now.sh/ I did so because my primary account had reached the maximum of 20 deployments. But since that was recently changed, is there any way you guys can unalias and remove them so that I can redeploy using my main account?",source-file | source-file,"Lost Account As the subject says, I lost access to a now account. I used a temporary email (that i dont have access to anymore) to deploy 2 of my projects and aliased them: https://view.now.sh/ https://mostplayed.now.sh/ I did so because my primary account had reached the maximum of 20 deployments. But since that was recently changed, is there any way you guys can unalias and remove them so that I can redeploy using my main account? source-file source-file",no-bug,0.9
290,vercel,https://github.com/vercel/vercel/issues/290,failed to deploy single index.html file,"trying to deploy a folder with single html file. it failed on windows and on ubuntu. I'm using now 4.2.0. and I get this error: > Deploying C:\dev\testing > Using Node.js 7.0.0 (default) > Ready! https://testing-qstggvtrzz.now.sh (copied to clipboard) [2s] > Initializing > Building >  npm install >  Installing: >  serve@^3.2.3 >  Installed 167 modules [13s] >  npm start > > testing@ start /home/nowuser/src > > serve ./content > /home/nowuser/src/node_modules/serve/lib/listening.js:7 > const copyToClipboard = async text => { >  > SyntaxError: Unexpected identifier > at Object.exports.runInThisContext (vm.js:76:16) > at Module._compile (module.js:545:28) > at Module._extensions..js (module.js:582:10) > at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/async-to-gen/register.js:42:5) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > at Function.Module._load (module.js:441:3) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/node_modules/serve/lib/index.js:11:19) > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.0.0 > npm ERR! Exit status 1 > npm ERR! code ELIFECYCLE > npm ERR! Failed at the testing@ start script 'serve ./content'. > npm ERR! testing@ start: `serve ./content` > npm ERR! If you do, this is most likely a problem with the testing package, > npm ERR! not with npm itself. > npm ERR! Tell the author that this fails on your system: > npm ERR! Make sure you have the latest version of node.js and npm installed. > npm ERR! serve ./content > npm ERR! npm bugs testing > npm ERR! There is likely additional logging output above. > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! Or if that isn't available, you can get their info via: > npm ERR! npm owner ls testing > npm ERR! Linux 4.7.0-coreos > npm ERR! node v7.0.0 > npm ERR! code EACCES > npm ERR! syscall open > npm ERR! > npm ERR! Please try running this command again as root/Administrator. > npm ERR! Please include the following file with any support request: > npm ERR! errno: -13, > npm ERR! Error: EACCES: permission denied, open 'npm-debug.log.2464837890' > npm ERR! code: 'EACCES', > npm ERR! path: 'npm-debug.log.2464837890' } > npm ERR! /home/nowuser/src/npm-debug.log > npm ERR! Linux 4.7.0-coreos > npm ERR! npm v3.10.9 > npm ERR! > npm ERR! You can get information on how to open an issue for this project with: > npm ERR! npm v3.10.9 > npm ERR! path npm-debug.log.2464837890 > npm ERR! errno -13 > npm ERR! { Error: EACCES: permission denied, open 'npm-debug.log.2464837890' > npm ERR! syscall: 'open', a bug? or did I miss something?",source-file,"failed to deploy single index.html file trying to deploy a folder with single html file. it failed on windows and on ubuntu. I'm using now 4.2.0. and I get this error: > Deploying C:\dev\testing > Using Node.js 7.0.0 (default) > Ready! https://testing-qstggvtrzz.now.sh (copied to clipboard) [2s] > Initializing > Building >  npm install >  Installing: >  serve@^3.2.3 >  Installed 167 modules [13s] >  npm start > > testing@ start /home/nowuser/src > > serve ./content > /home/nowuser/src/node_modules/serve/lib/listening.js:7 > const copyToClipboard = async text => { >  > SyntaxError: Unexpected identifier > at Object.exports.runInThisContext (vm.js:76:16) > at Module._compile (module.js:545:28) > at Module._extensions..js (module.js:582:10) > at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/async-to-gen/register.js:42:5) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > at Function.Module._load (module.js:441:3) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/node_modules/serve/lib/index.js:11:19) > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! node v7.0.0 > npm ERR! Exit status 1 > npm ERR! code ELIFECYCLE > npm ERR! Failed at the testing@ start script 'serve ./content'. > npm ERR! testing@ start: `serve ./content` > npm ERR! If you do, this is most likely a problem with the testing package, > npm ERR! not with npm itself. > npm ERR! Tell the author that this fails on your system: > npm ERR! Make sure you have the latest version of node.js and npm installed. > npm ERR! serve ./content > npm ERR! npm bugs testing > npm ERR! There is likely additional logging output above. > npm ERR! argv ""/usr/bin/node"" ""/usr/bin/npm"" ""run"" ""start"" > npm ERR! Or if that isn't available, you can get their info via: > npm ERR! npm owner ls testing > npm ERR! Linux 4.7.0-coreos > npm ERR! node v7.0.0 > npm ERR! code EACCES > npm ERR! syscall open > npm ERR! > npm ERR! Please try running this command again as root/Administrator. > npm ERR! Please include the following file with any support request: > npm ERR! errno: -13, > npm ERR! Error: EACCES: permission denied, open 'npm-debug.log.2464837890' > npm ERR! code: 'EACCES', > npm ERR! path: 'npm-debug.log.2464837890' } > npm ERR! /home/nowuser/src/npm-debug.log > npm ERR! Linux 4.7.0-coreos > npm ERR! npm v3.10.9 > npm ERR! > npm ERR! You can get information on how to open an issue for this project with: > npm ERR! npm v3.10.9 > npm ERR! path npm-debug.log.2464837890 > npm ERR! errno -13 > npm ERR! { Error: EACCES: permission denied, open 'npm-debug.log.2464837890' > npm ERR! syscall: 'open', a bug? or did I miss something? source-file",no-bug,0.9
226,vercel,https://github.com/vercel/vercel/issues/226,Error: Can't find npm module when deploying with Dockerfile,"I have a project that successfully runs with docker when doing:  docker build -t myimage . docker run -p 80:3000 -e PORT=3000 -e ROOT_URL=http://example.com myimage  But when deploying with `now -e PORT=3000 -e ROOT_URL=http://example.com` I get:  /programs/server/boot.js:348 }).run(); ^ Error: Can't find npm module 'meteor-deque'. Did you forget to call 'Npm.depends' in package.js within the 'meteor' package? at Object.require (/programs/server/boot.js:200:17) at packages/meteor.js:677:32 at packages/meteor.js:846:4 at packages/meteor.js:1380:3 at /programs/server/boot.js:295:34 at Array.forEach (native) at Function._.each._.forEach (/programs/server/node_modules/underscore/underscore.js:79:11) at /programs/server/boot.js:128:5 at /programs/server/boot.js:344:5 at Function.run (/programs/server/profile.js:480:12)  I posted my entire repo here: https://github.com/mazlix/now-docker-deploy-issue in case anyone would like to reproduce (by doing what I did above [running `docker build/run` works and `now` fails] Here's just the Dockerfile:  FROM node:boron ENV NPM_CONFIG_LOGLEVEL warn RUN mkdir -p programs/server/ COPY programs/server/package.json programs/server/package.json WORKDIR programs/server/ RUN npm install COPY . ../../ WORKDIR ../../ EXPOSE 3000 CMD [""node"", ""main.js""]  Is there anywhere in the docs where I can see exactly what the docker build/run commands are?",source-file,"Error: Can't find npm module when deploying with Dockerfile I have a project that successfully runs with docker when doing:  docker build -t myimage . docker run -p 80:3000 -e PORT=3000 -e ROOT_URL=http://example.com myimage  But when deploying with `now -e PORT=3000 -e ROOT_URL=http://example.com` I get:  /programs/server/boot.js:348 }).run(); ^ Error: Can't find npm module 'meteor-deque'. Did you forget to call 'Npm.depends' in package.js within the 'meteor' package? at Object.require (/programs/server/boot.js:200:17) at packages/meteor.js:677:32 at packages/meteor.js:846:4 at packages/meteor.js:1380:3 at /programs/server/boot.js:295:34 at Array.forEach (native) at Function._.each._.forEach (/programs/server/node_modules/underscore/underscore.js:79:11) at /programs/server/boot.js:128:5 at /programs/server/boot.js:344:5 at Function.run (/programs/server/profile.js:480:12)  I posted my entire repo here: https://github.com/mazlix/now-docker-deploy-issue in case anyone would like to reproduce (by doing what I did above [running `docker build/run` works and `now` fails] Here's just the Dockerfile:  FROM node:boron ENV NPM_CONFIG_LOGLEVEL warn RUN mkdir -p programs/server/ COPY programs/server/package.json programs/server/package.json WORKDIR programs/server/ RUN npm install COPY . ../../ WORKDIR ../../ EXPOSE 3000 CMD [""node"", ""main.js""]  Is there anywhere in the docs where I can see exactly what the docker build/run commands are? source-file",no-bug,0.95
281,vercel,https://github.com/vercel/vercel/issues/281,"Now cannot find module ""index.js""","Hi there, I am trying to deploy my next.js app on 'now' but I get this error: > Error! Unexpected error. Please try later. (Cannot find module '/Users/alex/Labs/Nextjs/patient/index.js'). And for sure there is not index.js in the root directory of my next.js app Below is my package.json config: json { ""name"": ""patient"", ""version"": ""1.0.0"", ""main"": ""index.js"", ""license"": ""MIT"", ""dependencies"": { ""material-ui"": ""^0.16.7"", ""mobx"": ""^3.0.2"", ""mobx-react"": ""^4.1.0"", ""next"": ""2.0.0-beta.18"", ""react-icons"": ""^2.2.3"", ""react-slick"": ""^0.14.5"", ""react-tap-event-plugin"": ""^2.0.1"" }, ""scripts"": { ""dev"": ""next"", ""build"": ""next build"", ""flow"": ""flow"", ""start"": ""next start"", ""test"": ""jest --watch --env=jsdom"" },  I will appreciate help on how to resolve this. Thanks. BR Alex",source-file | source-file | source-file,"Now cannot find module ""index.js"" Hi there, I am trying to deploy my next.js app on 'now' but I get this error: > Error! Unexpected error. Please try later. (Cannot find module '/Users/alex/Labs/Nextjs/patient/index.js'). And for sure there is not index.js in the root directory of my next.js app Below is my package.json config: json { ""name"": ""patient"", ""version"": ""1.0.0"", ""main"": ""index.js"", ""license"": ""MIT"", ""dependencies"": { ""material-ui"": ""^0.16.7"", ""mobx"": ""^3.0.2"", ""mobx-react"": ""^4.1.0"", ""next"": ""2.0.0-beta.18"", ""react-icons"": ""^2.2.3"", ""react-slick"": ""^0.14.5"", ""react-tap-event-plugin"": ""^2.0.1"" }, ""scripts"": { ""dev"": ""next"", ""build"": ""next build"", ""flow"": ""flow"", ""start"": ""next start"", ""test"": ""jest --watch --env=jsdom"" },  I will appreciate help on how to resolve this. Thanks. BR Alex source-file source-file source-file",no-bug,0.9
844,vercel,https://github.com/vercel/vercel/issues/844,Add the ttl setting when create record,add the ttl setting option api and add a param for cli seemed like this `now dns add my.io shotttl 1.2.3.4 --ttl 60` `now dns add my.io longttl 1.2.3.4 --ttl 12000`,source-file | source-file,Add the ttl setting when create record add the ttl setting option api and add a param for cli seemed like this `now dns add my.io shotttl 1.2.3.4 --ttl 60` `now dns add my.io longttl 1.2.3.4 --ttl 12000` source-file source-file,no-bug,0.7
846,vercel,https://github.com/vercel/vercel/issues/846,SIGPIPE should kill now/cancel a deployment,"`SIGPIPE` is raised with a process if an output pipe for one of the standard file descriptors breaks during execution. We need to cancel/roll back a deployment if `SIGPIPE` or `EPIPE` are raised via a signal or fd operation, respectively. @rauchg pointed out [epipebomb](https://github.com/mhart/epipebomb) as an example for how some of these are handled.",source-file | source-file | source-file | source-file | source-file | source-file | test-file,"SIGPIPE should kill now/cancel a deployment `SIGPIPE` is raised with a process if an output pipe for one of the standard file descriptors breaks during execution. We need to cancel/roll back a deployment if `SIGPIPE` or `EPIPE` are raised via a signal or fd operation, respectively. @rauchg pointed out [epipebomb](https://github.com/mhart/epipebomb) as an example for how some of these are handled. source-file source-file source-file source-file source-file source-file test-file",no-bug,0.9
942,vercel,https://github.com/vercel/vercel/issues/942,"""Unexpected error. Please try again later."" during deployment","When running `now -d` to deploy my project, I get an unexpected error. bash ~/src/project-name now -d > Deploying ~/src/project-name under  > [debug] Detected `deploymentType` = `npm` > [debug] Detected `deploymentName` = ""project-name"" > [debug] ignoring ""/Users//src/project-name/.DS_Store"" > [debug] ignoring ""/Users//src/project-name/node_modules"" > [debug] ignoring ""/Users//src/project-name/npm-debug.log"" > [debug] ignoring ""/Users//src/project-name/components/.DS_Store"" > [debug] locating files /Users//src/project-name: 40.945ms > [debug] Getting files: 54.949ms > [debug] Computing hashes: 102.523ms > [debug] /now/create: 5302.537ms > [debug] Retrying: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > [debug] /now/create: 5132.542ms > [debug] Retrying: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > [debug] /now/create: 6404.834ms > [debug] Retrying: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > [debug] /now/create: 1921.381ms > [debug] error: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > Error! Unexpected error. Please try again later. (Unexpected response)  Here is my package.json (if it helps). json { ""name"": ""project-name"", ""version"": ""1.0.0"", ""description"": """", ""main"": ""index.js"", ""scripts"": { ""dev"": ""micro-dev index.js"", ""start"": ""micro index.js"", ""test"": ""echo \""Error: no test specified\"" && exit 1"" }, ""author"": """", ""private"": true, ""dependencies"": { ""apollo-server-micro"": ""^1.1.7"", ""graphql"": ""^0.11.7"", ""graphql-tools"": ""^2.5.1"", ""isomorphic-fetch"": ""^2.2.1"", ""micro"": ""^9.0.0"", ""micro-cors"": ""0.0.4"", ""microrouter"": ""^2.2.3"" }, ""devDependencies"": { ""micro-dev"": ""^1.2.3"" } }  My project is running fine locally using `npm start` and `npm run dev`. I am also having trouble deploying another project which has previously deployed successfully and continues to run on now.sh. Is this a network or system error?",documentation-file | documentation-file | other-file,"""Unexpected error. Please try again later."" during deployment When running `now -d` to deploy my project, I get an unexpected error. bash ~/src/project-name now -d > Deploying ~/src/project-name under  > [debug] Detected `deploymentType` = `npm` > [debug] Detected `deploymentName` = ""project-name"" > [debug] ignoring ""/Users//src/project-name/.DS_Store"" > [debug] ignoring ""/Users//src/project-name/node_modules"" > [debug] ignoring ""/Users//src/project-name/npm-debug.log"" > [debug] ignoring ""/Users//src/project-name/components/.DS_Store"" > [debug] locating files /Users//src/project-name: 40.945ms > [debug] Getting files: 54.949ms > [debug] Computing hashes: 102.523ms > [debug] /now/create: 5302.537ms > [debug] Retrying: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > [debug] /now/create: 5132.542ms > [debug] Retrying: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > [debug] /now/create: 6404.834ms > [debug] Retrying: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > [debug] /now/create: 1921.381ms > [debug] error: Error: Unexpected response Error: Unexpected response at module.exports.EventEmitter.create.deployment.retry (/snapshot/now-cli/dist/now.js:402:15) at process._tickCallback (internal/process/next_tick.js:109:7) > Error! Unexpected error. Please try again later. (Unexpected response)  Here is my package.json (if it helps). json { ""name"": ""project-name"", ""version"": ""1.0.0"", ""description"": """", ""main"": ""index.js"", ""scripts"": { ""dev"": ""micro-dev index.js"", ""start"": ""micro index.js"", ""test"": ""echo \""Error: no test specified\"" && exit 1"" }, ""author"": """", ""private"": true, ""dependencies"": { ""apollo-server-micro"": ""^1.1.7"", ""graphql"": ""^0.11.7"", ""graphql-tools"": ""^2.5.1"", ""isomorphic-fetch"": ""^2.2.1"", ""micro"": ""^9.0.0"", ""micro-cors"": ""0.0.4"", ""microrouter"": ""^2.2.3"" }, ""devDependencies"": { ""micro-dev"": ""^1.2.3"" } }  My project is running fine locally using `npm start` and `npm run dev`. I am also having trouble deploying another project which has previously deployed successfully and continues to run on now.sh. Is this a network or system error? documentation-file documentation-file other-file",no-bug,0.9
658,vercel,https://github.com/vercel/vercel/issues/658,Post-install always getting `UPDATE NEEDED Current: 0.34.0  Latest 6.3.2 (released 1d ago)`,"Hi everyone, Every time I run `npm install -g now`, everything looks fine until I run `now --version` and I get the following error: `UPDATE NEEDED Current: 0.34.0  Latest 6.3.2 (released 1d ago)` Which is especially strange, since the terminal outputs this at the end of the install:  + now@6.3.2 added 1 package in 107.084s  Does anyone else have this issue and/or know what exactly is going on? Thank you!",source-file | test-file,"Post-install always getting `UPDATE NEEDED Current: 0.34.0  Latest 6.3.2 (released 1d ago)` Hi everyone, Every time I run `npm install -g now`, everything looks fine until I run `now --version` and I get the following error: `UPDATE NEEDED Current: 0.34.0  Latest 6.3.2 (released 1d ago)` Which is especially strange, since the terminal outputs this at the end of the install:  + now@6.3.2 added 1 package in 107.084s  Does anyone else have this issue and/or know what exactly is going on? Thank you! source-file test-file",no-bug,0.9
2617,vercel,https://github.com/vercel/vercel/issues/2617,"Replace ""Aliases assigned"" with ""Deployment complete""","<img width=""523"" alt=""image"" src=""https://user-images.githubusercontent.com/6170607/61820005-7aaaa380-ae54-11e9-8278-09f53b953582.png"">",test-file | test-file | test-file,"Replace ""Aliases assigned"" with ""Deployment complete"" <img width=""523"" alt=""image"" src=""https://user-images.githubusercontent.com/6170607/61820005-7aaaa380-ae54-11e9-8278-09f53b953582.png""> test-file test-file test-file",no-bug,0.9
882,vercel,https://github.com/vercel/vercel/issues/882,aws help submenu not implemented,currently it just prints `halp` https://github.com/zeit/now-cli/blob/3e677e3a34e480c1ba07d780721d239b266869f9/src/providers/aws/help.js,source-file | test-file,aws help submenu not implemented currently it just prints `halp` https://github.com/zeit/now-cli/blob/3e677e3a34e480c1ba07d780721d239b266869f9/src/providers/aws/help.js source-file test-file,no-bug,0.9
317,vercel,https://github.com/vercel/vercel/issues/317,I can't copy paste credit card number.,now cc add \> Enter your card details  Name Foo Bar \- Number 4111 1111 1111 111u ndef ined    ,source-file | source-file,I can't copy paste credit card number. now cc add \> Enter your card details  Name Foo Bar \- Number 4111 1111 1111 111u ndef ined     source-file source-file,no-bug,0.7
2982,vercel,https://github.com/vercel/vercel/issues/2982,Prevent using environment variables that don't match AWS' rules,"Currently, we accept variables that start with `_`, for example. In https://github.com/zeit/api/issues/862, the API will be fixed so that `now` automatically throws an error for those, as [AWS doesn't allow them](https://docs.aws.amazon.com/lambda/latest/dg/env_variables.html). However, we still need to ensure that `now dev` prints a validation error and exits immediately if it notices a environment variable in `now.json` that does NOT comply with the [AWS rules](https://docs.aws.amazon.com/lambda/latest/dg/env_variables.html).",source-file | source-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file,"Prevent using environment variables that don't match AWS' rules Currently, we accept variables that start with `_`, for example. In https://github.com/zeit/api/issues/862, the API will be fixed so that `now` automatically throws an error for those, as [AWS doesn't allow them](https://docs.aws.amazon.com/lambda/latest/dg/env_variables.html). However, we still need to ensure that `now dev` prints a validation error and exits immediately if it notices a environment variable in `now.json` that does NOT comply with the [AWS rules](https://docs.aws.amazon.com/lambda/latest/dg/env_variables.html). source-file source-file test-file test-file test-file source-file test-file test-file test-file",no-bug,0.8
1605,vercel,https://github.com/vercel/vercel/issues/1605,now rm returns error when didn't find any unaliased deployments matching,"https://github.com/zeit/now-cli/blob/ae8cbdce0a107b7bdddd9d3a03a63e29f2057141/src/providers/sh/commands/remove.js#L153 I think that if I want to remove ""all unaliased deployments"" and the current set of ""unaliased deployments"" is 0, I shouldn't get ERROR response. It broke automatic pipeline for me although it's not error situation.",source-file | source-file | test-file | source-file | test-file,"now rm returns error when didn't find any unaliased deployments matching https://github.com/zeit/now-cli/blob/ae8cbdce0a107b7bdddd9d3a03a63e29f2057141/src/providers/sh/commands/remove.js#L153 I think that if I want to remove ""all unaliased deployments"" and the current set of ""unaliased deployments"" is 0, I shouldn't get ERROR response. It broke automatic pipeline for me although it's not error situation. source-file source-file test-file source-file test-file",no-bug,0.9
300,vercel,https://github.com/vercel/vercel/issues/300,Add option to specify .env file in now.json,"I use 'now -E' to deploy a .env file when deploying Next.js projects to now, which is a really great feature. Sometimes, I irritatingly forget to specify the '-E' flag when running 'now' and have to redeploy. It would great if I could specify the option to also deploy a .env file in in now.json so I don't need to remember to specify '-E' each time - perhaps by file name, for those than might want to have different .env files for different environments. Tagging in @timneutkens after discussing on Slack",source-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file,"Add option to specify .env file in now.json I use 'now -E' to deploy a .env file when deploying Next.js projects to now, which is a really great feature. Sometimes, I irritatingly forget to specify the '-E' flag when running 'now' and have to redeploy. It would great if I could specify the option to also deploy a .env file in in now.json so I don't need to remember to specify '-E' each time - perhaps by file name, for those than might want to have different .env files for different environments. Tagging in @timneutkens after discussing on Slack source-file documentation-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
7757,vercel,https://github.com/vercel/vercel/issues/7757,[Monorepo Detection] Add monorepo-managers.ts,"This file will mimic the structure of `vercel/frameworks/frameworks.ts` in the sense that it defines the list of supported monorepo managers. These are the ones were targeting for the initial launch, - Turborepo ts export const monorepoManagers = [ { name: ""Turborepo"", slug: ""turbo"", detectors: { every: [ { path: 'turbo.json' }, ], }, }, ] ",source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"[Monorepo Detection] Add monorepo-managers.ts This file will mimic the structure of `vercel/frameworks/frameworks.ts` in the sense that it defines the list of supported monorepo managers. These are the ones were targeting for the initial launch, - Turborepo ts export const monorepoManagers = [ { name: ""Turborepo"", slug: ""turbo"", detectors: { every: [ { path: 'turbo.json' }, ], }, }, ]  source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.95
696,vercel,https://github.com/vercel/vercel/issues/696,Can we get a domain availability checker?,"Pretty simple, just a basic option to only check domain availability without buying option. Something like: `now domains check example.com` Which will give the same initial response as `now domains buy example.com` currently does: \> The domain ""example.com"" is _available_ to buy under **yourname**! Without the follow-up prompt of \> Buy now for $15 (1yr)? [y|N]",other-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file,"Can we get a domain availability checker? Pretty simple, just a basic option to only check domain availability without buying option. Something like: `now domains check example.com` Which will give the same initial response as `now domains buy example.com` currently does: \> The domain ""example.com"" is _available_ to buy under **yourname**! Without the follow-up prompt of \> Buy now for $15 (1yr)? [y|N] other-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file",no-bug,0.9
3,vercel,https://github.com/vercel/vercel/issues/3,Pass flags to subcommands,`now -d list` should result in `now list -d`,test-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | documentation-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,Pass flags to subcommands `now -d list` should result in `now list -d` test-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file documentation-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.8
150,vercel,https://github.com/vercel/vercel/issues/150,Naming a deployment,"Apologies if this has been answered already, but is it possible to name a deployment like we used to be able to do with `now-serve`? e.g  now -n foobar  I do a lot of work with jekyll sites, which all use `_site` as their output folder, so over a few projects, I have multiple items beneathc `_site` when I run `now ls`. Any ideas?",source-file | source-file | source-file | source-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file,"Naming a deployment Apologies if this has been answered already, but is it possible to name a deployment like we used to be able to do with `now-serve`? e.g  now -n foobar  I do a lot of work with jekyll sites, which all use `_site` as their output folder, so over a few projects, I have multiple items beneathc `_site` when I run `now ls`. Any ideas? source-file source-file source-file source-file documentation-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file",no-bug,0.9
3331,vercel,https://github.com/vercel/vercel/issues/3331,Default Gatsby configuration provides no cache options,"Hello! I have just deployed a static gatsby page using your service and basically none of the static content is cached. Video `mp4` cache: `cache-control: s-maxage=0` images etc  cache-control: public, max-age=0, must-revalidate  I see this MR probably breaks it - https://github.com/zeit/now/pull/3212 I will use for now https://github.com/universse/gatsby-plugin-zeit-now",source-file | test-file,"Default Gatsby configuration provides no cache options Hello! I have just deployed a static gatsby page using your service and basically none of the static content is cached. Video `mp4` cache: `cache-control: s-maxage=0` images etc  cache-control: public, max-age=0, must-revalidate  I see this MR probably breaks it - https://github.com/zeit/now/pull/3212 I will use for now https://github.com/universse/gatsby-plugin-zeit-now source-file test-file",no-bug,0.9
780,vercel,https://github.com/vercel/vercel/issues/780,Extrange error in server (internal/streams/legacy.js:59),"_From @tomyo on July 17, 2017 20:54_ internal/streams/legacy.js:59 throw er; // Unhandled stream error in pipe. ^ Error: write EPROTO 140217767479104:error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure:../deps/openssl/openssl/ssl/s23_clnt.c:769: at exports._errnoException (util.js:1018:11) at WriteWrap.afterWrite (net.js:800:14) _Copied from original issue: zeit/now#28_",documentation-file | documentation-file | source-file | documentation-file | documentation-file | source-file | config-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file,"Extrange error in server (internal/streams/legacy.js:59) _From @tomyo on July 17, 2017 20:54_ internal/streams/legacy.js:59 throw er; // Unhandled stream error in pipe. ^ Error: write EPROTO 140217767479104:error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure:../deps/openssl/openssl/ssl/s23_clnt.c:769: at exports._errnoException (util.js:1018:11) at WriteWrap.afterWrite (net.js:800:14) _Copied from original issue: zeit/now#28_ documentation-file documentation-file source-file documentation-file documentation-file source-file config-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file other-file",no-bug,0.9
3761,vercel,https://github.com/vercel/vercel/issues/3761,Now dev uses start script instead of build script,"Hey, I have recently stumbled upon an issue where now dev runs the start script defined inside package.json (which is ""react-scripts start"" from CRA) instead of the build script. This causes to start the default CRA development server which prevents the actual start of now dev. I'm not sure when this originally started happening (I'm pretty sure it's not more than 14 days), but I've observed similar behavior happening in all projects I've tried so far (including CRA and Next apps). It makes now dev unusable for me. ![Screenshot 2020-02-06 at 18 00 05](https://user-images.githubusercontent.com/52152407/73966629-af74d880-4916-11ea-9296-3df187f44345.jpeg) <img width=""464"" alt=""Screenshot 2020-02-06 at 18 00 14"" src=""https://user-images.githubusercontent.com/52152407/73966632-b0a60580-4916-11ea-842f-02fb59fce684.png""> ![Screenshot 2020-02-06 at 19 30 40](https://user-images.githubusercontent.com/52152407/73966904-31650180-4917-11ea-8583-2126b77e7563.png) I've already tried reinstalling the CLI but that unfortunately didn't seem to make any effect. I've also tried reverting to the last commit that I was sure it was working, but that didn't help either, supporting my conclusion that this isn't a project related issue. Is there any way I can make now dev command use the build script again? (Started on cli version 16.7.3, current version 17.0.1). I'd be thankful for any help. Thank you!",source-file | test-file | test-file | test-file,"Now dev uses start script instead of build script Hey, I have recently stumbled upon an issue where now dev runs the start script defined inside package.json (which is ""react-scripts start"" from CRA) instead of the build script. This causes to start the default CRA development server which prevents the actual start of now dev. I'm not sure when this originally started happening (I'm pretty sure it's not more than 14 days), but I've observed similar behavior happening in all projects I've tried so far (including CRA and Next apps). It makes now dev unusable for me. ![Screenshot 2020-02-06 at 18 00 05](https://user-images.githubusercontent.com/52152407/73966629-af74d880-4916-11ea-9296-3df187f44345.jpeg) <img width=""464"" alt=""Screenshot 2020-02-06 at 18 00 14"" src=""https://user-images.githubusercontent.com/52152407/73966632-b0a60580-4916-11ea-842f-02fb59fce684.png""> ![Screenshot 2020-02-06 at 19 30 40](https://user-images.githubusercontent.com/52152407/73966904-31650180-4917-11ea-8583-2126b77e7563.png) I've already tried reinstalling the CLI but that unfortunately didn't seem to make any effect. I've also tried reverting to the last commit that I was sure it was working, but that didn't help either, supporting my conclusion that this isn't a project related issue. Is there any way I can make now dev command use the build script again? (Started on cli version 16.7.3, current version 17.0.1). I'd be thankful for any help. Thank you! source-file test-file test-file test-file",no-bug,0.9
84,vercel,https://github.com/vercel/vercel/issues/84,`now domain` doesn't handle auth errors,"<img width=""799"" alt=""screen shot 2016-07-19 at 4 19 35 pm"" src=""https://cloud.githubusercontent.com/assets/775227/16941728/e8601a18-4dcc-11e6-8719-ee9499934faf.png"">",other-file | source-file | source-file,"`now domain` doesn't handle auth errors <img width=""799"" alt=""screen shot 2016-07-19 at 4 19 35 pm"" src=""https://cloud.githubusercontent.com/assets/775227/16941728/e8601a18-4dcc-11e6-8719-ee9499934faf.png""> other-file source-file source-file",no-bug,0.7
2606,vercel,https://github.com/vercel/vercel/issues/2606,We show a weird error when the auth token is expired,"This error is useless: ![image](https://user-images.githubusercontent.com/6170607/61789604-68f5db80-ae15-11e9-9124-fa6783740837.png) Instead, we want to tell the user: > You don't have access to this deployment. Please log in: (and then we auto-trigger the login)",source-file | test-file | source-file | test-file | source-file | test-file,"We show a weird error when the auth token is expired This error is useless: ![image](https://user-images.githubusercontent.com/6170607/61789604-68f5db80-ae15-11e9-9124-fa6783740837.png) Instead, we want to tell the user: > You don't have access to this deployment. Please log in: (and then we auto-trigger the login) source-file test-file source-file test-file source-file test-file",bug,0.9
3069,vercel,https://github.com/vercel/vercel/issues/3069,Now should detect the home folder or warn users about the default behavior.,"## Summary It is very common that users run, by mistake, the `now` command in the home folder. This is especially common with new users and, even the deployment will likely fail, it can be a security issue for those users. ## Ideas 1. We can detect the home folder and avoid the command to exit successfully. 2. When deploying static files only, we can introduce a warning. 3. Detect the first run of the user and showcase the usage of the tool for the user. Something like a ""video"" tutorial but right in the terminal. We could ask the user to run the following steps: 3.1 Would you like to run a tutorial y/n? 3.2 If yes, then show a list of available examples and the user could select them. 3.3 Explain what is happening and useful URLs.",test-file | source-file | source-file | test-file | test-file | source-file | source-file | test-file,"Now should detect the home folder or warn users about the default behavior. ## Summary It is very common that users run, by mistake, the `now` command in the home folder. This is especially common with new users and, even the deployment will likely fail, it can be a security issue for those users. ## Ideas 1. We can detect the home folder and avoid the command to exit successfully. 2. When deploying static files only, we can introduce a warning. 3. Detect the first run of the user and showcase the usage of the tool for the user. Something like a ""video"" tutorial but right in the terminal. We could ask the user to run the following steps: 3.1 Would you like to run a tutorial y/n? 3.2 If yes, then show a list of available examples and the user could select them. 3.3 Explain what is happening and useful URLs. test-file source-file source-file test-file test-file source-file source-file test-file",no-bug,0.9
639,vercel,https://github.com/vercel/vercel/issues/639,Deployment failure when using binary modules.,"I'm using `sharp` to process images. Is there anything I can do? The following log is from now.sh.  06/06 09:05 PM (5m) npm install 06/06 09:05 PM (5m)  Using ""yarn.lock"" 06/06 09:05 PM (5m)  Installing 44 main dependencies 06/06 09:06 PM (4m) > Building ""sharp@0.18.1"" remotely > sharp@0.18.1 install /tmp/ace-build-sharp-0.18.1-g4lpI/node_modules/sharp > node-gyp rebuild 06/06 09:06 PM (4m) ERROR: musl libc (x86_64) requires manual installation - please see http://sharp.dimens.io/en/stable/install/ gyp: Call to 'LDD_VERSION=""musl libc (x86_64) Version 1.1.16 Dynamic Program Loader Usage: ldd [options] [--] pathname"" node -e ""require('./binding').download_vips()""' returned exit status 1 while in binding.gyp. while trying to load binding.gyp 06/06 09:06 PM (4m) gyp ERR! configure error gyp ERR! stack Error: `gyp` failed with exit code: 1 gyp ERR! stack at ChildProcess.onCpExit (/node/57/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:336:16) gyp ERR! stack at emitTwo (events.js:125:13) gyp ERR! stack at ChildProcess.emit (events.js:213:7) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:197:12) gyp ERR! System Linux 4.7.0-coreos gyp ERR! command ""/node/57/bin/node"" ""/node/57/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild"" gyp ERR! cwd /tmp/ace-build-sharp-0.18.1-g4lpI/node_modules/sharp 06/06 09:06 PM (4m) gyp ERR! node -v v8.0.0 gyp ERR! node-gyp -v v3.6.1 gyp ERR! not ok npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sharp@0.18.1 install: `node-gyp rebuild` npm ERR! Exit status 1 npm ERR! 06/06 09:06 PM (4m) npm ERR! Failed at the sharp@0.18.1 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm WARN Local package.json exists, but node_modules missing, did you mean to install? npm ERR! A complete log of this run can be found in: npm ERR! /home/nowuser/.npm/_logs/2017-06-06T12_06_10_912Z-debug.log 06/06 09:06 PM (4m) > Building ""sharp@0.18.1"" remotely > sharp@0.18.1 install /tmp/ace-build-sharp-0.18.1-WsbS7/node_modules/sharp > node-gyp rebuild 06/06 09:06 PM (4m) ERROR: musl libc (x86_64) requires manual installation - please see http://sharp.dimens.io/en/stable/install/ gyp: Call to 'LDD_VERSION=""musl libc (x86_64) Version 1.1.16 Dynamic Program Loader Usage: ldd [options] [--] pathname"" node -e ""require('./binding').download_vips()""' returned exit status 1 while in binding.gyp. while trying to load binding.gyp 06/06 09:06 PM (4m) gyp ERR! configure error gyp ERR! stack Error: `gyp` failed with exit code: 1 gyp ERR! stack at ChildProcess.onCpExit (/node/57/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:336:16) gyp ERR! stack at emitTwo (events.js:125:13) 06/06 09:06 PM (4m) gyp ERR! stack at ChildProcess.emit (events.js:213:7) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:197:12) gyp ERR! System Linux 4.7.0-coreos 06/06 09:06 PM (4m) gyp ERR! command ""/node/57/bin/node"" ""/node/57/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild"" gyp ERR! cwd /tmp/ace-build-sharp-0.18.1-WsbS7/node_modules/sharp gyp ERR! node -v v8.0.0 gyp ERR! node-gyp -v v3.6.1 gyp ERR! not ok npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sharp@0.18.1 install: `node-gyp rebuild` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the sharp@0.18.1 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm WARN Local package.json exists, but node_modules missing, did you mean to install? npm ERR! A complete log of this run can be found in: 06/06 09:06 PM (4m) npm ERR! /home/nowuser/.npm/_logs/2017-06-06T12_06_16_933Z-debug.log 06/06 09:06 PM (4m) > Building ""sharp@0.18.1"" remotely > sharp@0.18.1 install /tmp/ace-build-sharp-0.18.1-yNVes/node_modules/sharp > node-gyp rebuild 06/06 09:06 PM (4m) ERROR: musl libc (x86_64) requires manual installation - please see http://sharp.dimens.io/en/stable/install/ gyp: Call to 'LDD_VERSION=""musl libc (x86_64) Version 1.1.16 Dynamic Program Loader Usage: ldd [options] [--] pathname"" node -e ""require('./binding').download_vips()""' returned exit status 1 while in binding.gyp. while trying to load binding.gyp gyp ERR! configure error gyp ERR! stack Error: `gyp` failed with exit code: 1 gyp ERR! stack at ChildProcess.onCpExit (/node/57/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:336:16) gyp ERR! stack at emitTwo (events.js:125:13) gyp ERR! stack at ChildProcess.emit (events.js:213:7) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:197:12) gyp ERR! System Linux 4.7.0-coreos gyp ERR! command ""/node/57/bin/node"" ""/node/57/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild"" gyp ERR! cwd /tmp/ace-build-sharp-0.18.1-yNVes/node_modules/sharp gyp ERR! node -v v8.0.0 gyp ERR! node-gyp -v v3.6.1 gyp ERR! not ok npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sharp@0.18.1 install: `node-gyp rebuild` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the sharp@0.18.1 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm WARN Local package.json exists, but node_modules missing, did you mean to install? npm ERR! A complete log of this run can be found in: npm ERR! /home/nowuser/.npm/_logs/2017-06-06T12_06_22_873Z-debug.log 06/06 09:06 PM (4m) > Build failed for ""sharp@0.18.1"" on Linux/musl 64-bit with Unsupported runtime (57): exit code 1 Error: Error parsing `package.json` for sharp-0.18.1.tar at extract (/snapshot/home/travis/build/zeit/ace/lib/extract.js:36:11) at process._tickCallback (internal/process/next_tick.js:103:7) Error: Error parsing `package.json` for sharp-0.18.1.tar at extract (/snapshot/home/travis/build/zeit/ace/lib/extract.js:36:11) at process._tickCallback (internal/process/next_tick.js:103:7) Error: Error parsing `package.json` for sharp-0.18.1.tar at extract (/snapshot/home/travis/build/zeit/ace/lib/extract.js:36:11) at process._tickCallback (internal/process/next_tick.js:103:7) 06/06 09:06 PM (4m) npm install 06/06 09:06 PM (4m) Installing package aws-sdk@^2.54.0 06/06 09:06 PM (4m) Installing package body-parser@~1.17.1 06/06 09:06 PM (4m) Installing package cookie-parser@~1.4.3 06/06 09:06 PM (4m) Installing package debug@~2.6.3 06/06 09:06 PM (4m) Installing package dotenv@^4.0.0 06/06 09:06 PM (4m) Installing package express@~4.15.2 06/06 09:06 PM (4m) Installing package express-fileupload@^0.1.3 06/06 09:06 PM (4m) Installing package express-session@^1.15.2 06/06 09:06 PM (4m) Installing package http-proxy-middleware@^0.17.4 06/06 09:06 PM (4m) Installing package moment@^2.18.1 06/06 09:06 PM (4m) Installing package mongoose@^4.9.4 06/06 09:06 PM (4m) Installing package morgan@~1.8.1 06/06 09:06 PM (4m) Installing package next@^2.4.1 06/06 09:06 PM (4m) Installing package nprogress@^0.2.0 06/06 09:06 PM (4m) Installing package octicons@^5.0.1 06/06 09:06 PM (4m) Installing package open-color@^1.5.1 06/06 09:06 PM (4m) Installing package passport@^0.3.2 06/06 09:06 PM (4m) Installing package passport-github@^1.1.0 06/06 09:06 PM (4m) Installing package react@^15.5.3 06/06 09:06 PM (4m) Installing package react-dom@^15.5.3 06/06 09:06 PM (4m) Installing package react-redux@^5.0.4 Installing package redux@^3.6.0 06/06 09:06 PM (4m) Installing package redux-logger@^3.0.1 06/06 09:06 PM (4m) Installing package redux-saga@^0.15.3 06/06 09:06 PM (4m) Installing package reduxlet-saga@^0.3.0 06/06 09:06 PM (4m) Installing package remark@^7.0.1 06/06 09:06 PM (4m) Installing package remark-react@^4.0.0 06/06 09:06 PM (4m) Installing package session-file-store@^1.0.0 Installing package sharp@^0.18.1 Installing package socket.io@^1.7.4 06/06 09:06 PM (4m) Installing package twemoji@^2.2.5 06/06 09:06 PM (4m) Installing package validator@^7.0.0 06/06 09:06 PM (4m) Installing package @carbonstack/base-css@^0.0.3 06/06 09:06 PM (4m) Installing package async-to-gen@^1.3.3 06/06 09:06 PM (4m) Installing package babel-eslint@^7.2.2 06/06 09:06 PM (4m) Installing package babel-jest@^19.0.0 06/06 09:06 PM (4m) Installing package babel-plugin-inline-react-svg@^0.4.0 06/06 09:06 PM (4m) Installing package babel-plugin-transform-define@^1.2.0 06/06 09:06 PM (4m) Installing package babel-plugin-transform-runtime@^6.23.0 06/06 09:06 PM (4m) Installing package babel-preset-stage-0@^6.24.1 06/06 09:06 PM (4m) Installing package concurrently@^3.4.0 06/06 09:06 PM (4m) Installing package jest@^19.0.2 06/06 09:06 PM (4m) Installing package nodemon@^1.11.0 06/06 09:06 PM (4m) Installing package standard@^10.0.1 06/06 09:07 PM (3m) (node:83) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: ENOENT: no such file or directory, readlink '/home/nowuser/src/node_modules/.tmp/fe83890a-2798-4488-a9f4-21f6e869ec6f/node_modules/node-pre-gyp' (node:83) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. 06/06 09:07 PM (3m) sh: node-gyp: not found 06/06 09:07 PM (3m) Error: Command node-gyp rebuild ended with code 127 at ChildProcess.<anonymous> (/usr/lib/node_modules/@zeit/cace/build/lib/run.js:1:599) at emitTwo (events.js:125:13) at ChildProcess.emit (events.js:213:7) at maybeClose (internal/child_process.js:887:16) at Process.ChildProcess._handle.onexit (internal/child_process.js:208:5) 06/06 09:07 PM (3m) npm run build 06/06 09:07 PM (3m) > carbonstack@0.1.0 build /home/nowuser/src > next build 06/06 09:07 PM (3m) > Using external babel configuration 06/06 09:07 PM (3m) > location: ""/home/nowuser/src/.babelrc"" 06/06 09:08 PM (2m) npm start 06/06 09:08 PM (2m) > carbonstack@0.1.0 start /home/nowuser/src > NODE_ENV=production node next/app.js 06/06 09:08 PM (2m) (node:250) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Cannot find module '../build/Release/sharp.node' 06/06 09:08 PM (2m) (node:250) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. 06/06 09:08 PM (2m) Db.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials. 06/06 09:08 PM (2m) ",source-file | documentation-file,"Deployment failure when using binary modules. I'm using `sharp` to process images. Is there anything I can do? The following log is from now.sh.  06/06 09:05 PM (5m) npm install 06/06 09:05 PM (5m)  Using ""yarn.lock"" 06/06 09:05 PM (5m)  Installing 44 main dependencies 06/06 09:06 PM (4m) > Building ""sharp@0.18.1"" remotely > sharp@0.18.1 install /tmp/ace-build-sharp-0.18.1-g4lpI/node_modules/sharp > node-gyp rebuild 06/06 09:06 PM (4m) ERROR: musl libc (x86_64) requires manual installation - please see http://sharp.dimens.io/en/stable/install/ gyp: Call to 'LDD_VERSION=""musl libc (x86_64) Version 1.1.16 Dynamic Program Loader Usage: ldd [options] [--] pathname"" node -e ""require('./binding').download_vips()""' returned exit status 1 while in binding.gyp. while trying to load binding.gyp 06/06 09:06 PM (4m) gyp ERR! configure error gyp ERR! stack Error: `gyp` failed with exit code: 1 gyp ERR! stack at ChildProcess.onCpExit (/node/57/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:336:16) gyp ERR! stack at emitTwo (events.js:125:13) gyp ERR! stack at ChildProcess.emit (events.js:213:7) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:197:12) gyp ERR! System Linux 4.7.0-coreos gyp ERR! command ""/node/57/bin/node"" ""/node/57/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild"" gyp ERR! cwd /tmp/ace-build-sharp-0.18.1-g4lpI/node_modules/sharp 06/06 09:06 PM (4m) gyp ERR! node -v v8.0.0 gyp ERR! node-gyp -v v3.6.1 gyp ERR! not ok npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sharp@0.18.1 install: `node-gyp rebuild` npm ERR! Exit status 1 npm ERR! 06/06 09:06 PM (4m) npm ERR! Failed at the sharp@0.18.1 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm WARN Local package.json exists, but node_modules missing, did you mean to install? npm ERR! A complete log of this run can be found in: npm ERR! /home/nowuser/.npm/_logs/2017-06-06T12_06_10_912Z-debug.log 06/06 09:06 PM (4m) > Building ""sharp@0.18.1"" remotely > sharp@0.18.1 install /tmp/ace-build-sharp-0.18.1-WsbS7/node_modules/sharp > node-gyp rebuild 06/06 09:06 PM (4m) ERROR: musl libc (x86_64) requires manual installation - please see http://sharp.dimens.io/en/stable/install/ gyp: Call to 'LDD_VERSION=""musl libc (x86_64) Version 1.1.16 Dynamic Program Loader Usage: ldd [options] [--] pathname"" node -e ""require('./binding').download_vips()""' returned exit status 1 while in binding.gyp. while trying to load binding.gyp 06/06 09:06 PM (4m) gyp ERR! configure error gyp ERR! stack Error: `gyp` failed with exit code: 1 gyp ERR! stack at ChildProcess.onCpExit (/node/57/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:336:16) gyp ERR! stack at emitTwo (events.js:125:13) 06/06 09:06 PM (4m) gyp ERR! stack at ChildProcess.emit (events.js:213:7) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:197:12) gyp ERR! System Linux 4.7.0-coreos 06/06 09:06 PM (4m) gyp ERR! command ""/node/57/bin/node"" ""/node/57/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild"" gyp ERR! cwd /tmp/ace-build-sharp-0.18.1-WsbS7/node_modules/sharp gyp ERR! node -v v8.0.0 gyp ERR! node-gyp -v v3.6.1 gyp ERR! not ok npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sharp@0.18.1 install: `node-gyp rebuild` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the sharp@0.18.1 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm WARN Local package.json exists, but node_modules missing, did you mean to install? npm ERR! A complete log of this run can be found in: 06/06 09:06 PM (4m) npm ERR! /home/nowuser/.npm/_logs/2017-06-06T12_06_16_933Z-debug.log 06/06 09:06 PM (4m) > Building ""sharp@0.18.1"" remotely > sharp@0.18.1 install /tmp/ace-build-sharp-0.18.1-yNVes/node_modules/sharp > node-gyp rebuild 06/06 09:06 PM (4m) ERROR: musl libc (x86_64) requires manual installation - please see http://sharp.dimens.io/en/stable/install/ gyp: Call to 'LDD_VERSION=""musl libc (x86_64) Version 1.1.16 Dynamic Program Loader Usage: ldd [options] [--] pathname"" node -e ""require('./binding').download_vips()""' returned exit status 1 while in binding.gyp. while trying to load binding.gyp gyp ERR! configure error gyp ERR! stack Error: `gyp` failed with exit code: 1 gyp ERR! stack at ChildProcess.onCpExit (/node/57/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:336:16) gyp ERR! stack at emitTwo (events.js:125:13) gyp ERR! stack at ChildProcess.emit (events.js:213:7) gyp ERR! stack at Process.ChildProcess._handle.onexit (internal/child_process.js:197:12) gyp ERR! System Linux 4.7.0-coreos gyp ERR! command ""/node/57/bin/node"" ""/node/57/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild"" gyp ERR! cwd /tmp/ace-build-sharp-0.18.1-yNVes/node_modules/sharp gyp ERR! node -v v8.0.0 gyp ERR! node-gyp -v v3.6.1 gyp ERR! not ok npm ERR! code ELIFECYCLE npm ERR! errno 1 npm ERR! sharp@0.18.1 install: `node-gyp rebuild` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the sharp@0.18.1 install script. npm ERR! This is probably not a problem with npm. There is likely additional logging output above. npm WARN Local package.json exists, but node_modules missing, did you mean to install? npm ERR! A complete log of this run can be found in: npm ERR! /home/nowuser/.npm/_logs/2017-06-06T12_06_22_873Z-debug.log 06/06 09:06 PM (4m) > Build failed for ""sharp@0.18.1"" on Linux/musl 64-bit with Unsupported runtime (57): exit code 1 Error: Error parsing `package.json` for sharp-0.18.1.tar at extract (/snapshot/home/travis/build/zeit/ace/lib/extract.js:36:11) at process._tickCallback (internal/process/next_tick.js:103:7) Error: Error parsing `package.json` for sharp-0.18.1.tar at extract (/snapshot/home/travis/build/zeit/ace/lib/extract.js:36:11) at process._tickCallback (internal/process/next_tick.js:103:7) Error: Error parsing `package.json` for sharp-0.18.1.tar at extract (/snapshot/home/travis/build/zeit/ace/lib/extract.js:36:11) at process._tickCallback (internal/process/next_tick.js:103:7) 06/06 09:06 PM (4m) npm install 06/06 09:06 PM (4m) Installing package aws-sdk@^2.54.0 06/06 09:06 PM (4m) Installing package body-parser@~1.17.1 06/06 09:06 PM (4m) Installing package cookie-parser@~1.4.3 06/06 09:06 PM (4m) Installing package debug@~2.6.3 06/06 09:06 PM (4m) Installing package dotenv@^4.0.0 06/06 09:06 PM (4m) Installing package express@~4.15.2 06/06 09:06 PM (4m) Installing package express-fileupload@^0.1.3 06/06 09:06 PM (4m) Installing package express-session@^1.15.2 06/06 09:06 PM (4m) Installing package http-proxy-middleware@^0.17.4 06/06 09:06 PM (4m) Installing package moment@^2.18.1 06/06 09:06 PM (4m) Installing package mongoose@^4.9.4 06/06 09:06 PM (4m) Installing package morgan@~1.8.1 06/06 09:06 PM (4m) Installing package next@^2.4.1 06/06 09:06 PM (4m) Installing package nprogress@^0.2.0 06/06 09:06 PM (4m) Installing package octicons@^5.0.1 06/06 09:06 PM (4m) Installing package open-color@^1.5.1 06/06 09:06 PM (4m) Installing package passport@^0.3.2 06/06 09:06 PM (4m) Installing package passport-github@^1.1.0 06/06 09:06 PM (4m) Installing package react@^15.5.3 06/06 09:06 PM (4m) Installing package react-dom@^15.5.3 06/06 09:06 PM (4m) Installing package react-redux@^5.0.4 Installing package redux@^3.6.0 06/06 09:06 PM (4m) Installing package redux-logger@^3.0.1 06/06 09:06 PM (4m) Installing package redux-saga@^0.15.3 06/06 09:06 PM (4m) Installing package reduxlet-saga@^0.3.0 06/06 09:06 PM (4m) Installing package remark@^7.0.1 06/06 09:06 PM (4m) Installing package remark-react@^4.0.0 06/06 09:06 PM (4m) Installing package session-file-store@^1.0.0 Installing package sharp@^0.18.1 Installing package socket.io@^1.7.4 06/06 09:06 PM (4m) Installing package twemoji@^2.2.5 06/06 09:06 PM (4m) Installing package validator@^7.0.0 06/06 09:06 PM (4m) Installing package @carbonstack/base-css@^0.0.3 06/06 09:06 PM (4m) Installing package async-to-gen@^1.3.3 06/06 09:06 PM (4m) Installing package babel-eslint@^7.2.2 06/06 09:06 PM (4m) Installing package babel-jest@^19.0.0 06/06 09:06 PM (4m) Installing package babel-plugin-inline-react-svg@^0.4.0 06/06 09:06 PM (4m) Installing package babel-plugin-transform-define@^1.2.0 06/06 09:06 PM (4m) Installing package babel-plugin-transform-runtime@^6.23.0 06/06 09:06 PM (4m) Installing package babel-preset-stage-0@^6.24.1 06/06 09:06 PM (4m) Installing package concurrently@^3.4.0 06/06 09:06 PM (4m) Installing package jest@^19.0.2 06/06 09:06 PM (4m) Installing package nodemon@^1.11.0 06/06 09:06 PM (4m) Installing package standard@^10.0.1 06/06 09:07 PM (3m) (node:83) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: ENOENT: no such file or directory, readlink '/home/nowuser/src/node_modules/.tmp/fe83890a-2798-4488-a9f4-21f6e869ec6f/node_modules/node-pre-gyp' (node:83) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. 06/06 09:07 PM (3m) sh: node-gyp: not found 06/06 09:07 PM (3m) Error: Command node-gyp rebuild ended with code 127 at ChildProcess.<anonymous> (/usr/lib/node_modules/@zeit/cace/build/lib/run.js:1:599) at emitTwo (events.js:125:13) at ChildProcess.emit (events.js:213:7) at maybeClose (internal/child_process.js:887:16) at Process.ChildProcess._handle.onexit (internal/child_process.js:208:5) 06/06 09:07 PM (3m) npm run build 06/06 09:07 PM (3m) > carbonstack@0.1.0 build /home/nowuser/src > next build 06/06 09:07 PM (3m) > Using external babel configuration 06/06 09:07 PM (3m) > location: ""/home/nowuser/src/.babelrc"" 06/06 09:08 PM (2m) npm start 06/06 09:08 PM (2m) > carbonstack@0.1.0 start /home/nowuser/src > NODE_ENV=production node next/app.js 06/06 09:08 PM (2m) (node:250) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Cannot find module '../build/Release/sharp.node' 06/06 09:08 PM (2m) (node:250) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. 06/06 09:08 PM (2m) Db.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials. 06/06 09:08 PM (2m)  source-file documentation-file",no-bug,0.95
2711,vercel,https://github.com/vercel/vercel/issues/2711,`now` is giving an error using Mojave and Node 8 LTS, $ now (node:32756) ExperimentalWarning: The http2 module is an experimental API. (node:32756) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 nowExit listeners added. Use emitter.setMaxListeners() to increase limit > Error! An unexpected error occurred! TypeError: e.ref is not a function at f.ref (/usr/local/lib/node_modules/now/dist/index.js:2:491203) at H2Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:488764) at Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713162) at Context.getHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713387) at Object.get (/usr/local/lib/node_modules/now/dist/index.js:2:1711928) at fetchImpl (/usr/local/lib/node_modules/now/dist/index.js:2:3785448) at <anonymous> TypeError: e.ref is not a function at f.ref (/usr/local/lib/node_modules/now/dist/index.js:2:491203) at H2Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:488764) at Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713162) at Context.getHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713387) at Object.get (/usr/local/lib/node_modules/now/dist/index.js:2:1711928) at fetchImpl (/usr/local/lib/node_modules/now/dist/index.js:2:3785448) at <anonymous>  The error was originally reported by @leourbina.  node version is v8.9.0 now version is 16.0.0 ,config-file | documentation-file | config-file | documentation-file | config-file | documentation-file | config-file | documentation-file | config-file | documentation-file | test-file | config-file | documentation-file | test-file,`now` is giving an error using Mojave and Node 8 LTS  $ now (node:32756) ExperimentalWarning: The http2 module is an experimental API. (node:32756) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 nowExit listeners added. Use emitter.setMaxListeners() to increase limit > Error! An unexpected error occurred! TypeError: e.ref is not a function at f.ref (/usr/local/lib/node_modules/now/dist/index.js:2:491203) at H2Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:488764) at Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713162) at Context.getHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713387) at Object.get (/usr/local/lib/node_modules/now/dist/index.js:2:1711928) at fetchImpl (/usr/local/lib/node_modules/now/dist/index.js:2:3785448) at <anonymous> TypeError: e.ref is not a function at f.ref (/usr/local/lib/node_modules/now/dist/index.js:2:491203) at H2Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:488764) at Context.getOrCreateHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713162) at Context.getHttp2 (/usr/local/lib/node_modules/now/dist/index.js:2:1713387) at Object.get (/usr/local/lib/node_modules/now/dist/index.js:2:1711928) at fetchImpl (/usr/local/lib/node_modules/now/dist/index.js:2:3785448) at <anonymous>  The error was originally reported by @leourbina.  node version is v8.9.0 now version is 16.0.0  config-file documentation-file config-file documentation-file config-file documentation-file config-file documentation-file config-file documentation-file test-file config-file documentation-file test-file,no-bug,0.9
1441,vercel,https://github.com/vercel/vercel/issues/1441,Error: escSL is not defined,"Hi, could you help me with the error: `$ now --docker` `> Deploying C:\projects\app under my@mail.com` `> Error! escSL is not defined` I haven't found anything about this message. I suppose that it can be missing sertificate or similar, but not sure. PS. I'm using free plan. Thanx in advance",documentation-file | documentation-file | documentation-file | other-file | documentation-file | other-file,"Error: escSL is not defined Hi, could you help me with the error: `$ now --docker` `> Deploying C:\projects\app under my@mail.com` `> Error! escSL is not defined` I haven't found anything about this message. I suppose that it can be missing sertificate or similar, but not sure. PS. I'm using free plan. Thanx in advance documentation-file documentation-file documentation-file other-file documentation-file other-file",no-bug,0.9
215,vercel,https://github.com/vercel/vercel/issues/215,serve: not found,"I've been trying to run the following for the past couple hours: `now --static` The output is  PS C:\Users\John Lindquist\projects\ramda-repl> now --static > Deploying ~\projects\ramda-repl > Using Node.js 7.0.0 (default) > Ready! https://ramda-repl-ezhpeniyrp.now.sh (copied to clipboard) [1s] > Initializing > Building >  npm install > Installing package serve@latest >  npm start > sh: serve: not found > Error Error: Command serve ./content ended with code 127 > at ChildProcess.<anonymous> (/usr/lib/node_modules/@zeit/ace/build/lib/run.js:1:599) > at emitTwo (events.js:106:13) > at ChildProcess.emit (events.js:191:7) > at maybeClose (internal/child_process.js:877:16) > at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5) > (node:96) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Command serve ./cont ent ended with code 127 > (node:96) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.  Help please?",other-file | other-file,"serve: not found I've been trying to run the following for the past couple hours: `now --static` The output is  PS C:\Users\John Lindquist\projects\ramda-repl> now --static > Deploying ~\projects\ramda-repl > Using Node.js 7.0.0 (default) > Ready! https://ramda-repl-ezhpeniyrp.now.sh (copied to clipboard) [1s] > Initializing > Building >  npm install > Installing package serve@latest >  npm start > sh: serve: not found > Error Error: Command serve ./content ended with code 127 > at ChildProcess.<anonymous> (/usr/lib/node_modules/@zeit/ace/build/lib/run.js:1:599) > at emitTwo (events.js:106:13) > at ChildProcess.emit (events.js:191:7) > at maybeClose (internal/child_process.js:877:16) > at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5) > (node:96) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Command serve ./cont ent ended with code 127 > (node:96) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.  Help please? other-file other-file",no-bug,0.9
596,vercel,https://github.com/vercel/vercel/issues/596,`files` setting doesn't work as expected,"Consider this project:  $ ls -la .gitignore src/ foo.db Dockerfile now.json  with this .gitignore:  $ cat .gitignore *.db  I want to start a deployment with foo.db uploaded, so I put this into my now.json:  $ cat now.json { ""files"": [""foo.db""] }  If I deploy that, this is what I see in the deployment source:  Dockerfile now.json  I.e. nothing is uploaded except for Dockerfile and now.json. If I add the current dir in now.json explicitly:  $ cat now.json { ""files"": [""."", ""foo.db""] }  this is what I get in the deployment source:  src/ Dockerfile now.json ",source-file,"`files` setting doesn't work as expected Consider this project:  $ ls -la .gitignore src/ foo.db Dockerfile now.json  with this .gitignore:  $ cat .gitignore *.db  I want to start a deployment with foo.db uploaded, so I put this into my now.json:  $ cat now.json { ""files"": [""foo.db""] }  If I deploy that, this is what I see in the deployment source:  Dockerfile now.json  I.e. nothing is uploaded except for Dockerfile and now.json. If I add the current dir in now.json explicitly:  $ cat now.json { ""files"": [""."", ""foo.db""] }  this is what I get in the deployment source:  src/ Dockerfile now.json  source-file",no-bug,0.8
1463,vercel,https://github.com/vercel/vercel/issues/1463,Cannot read property 'readyState' of null,`Cannot read property 'readyState' of null` seems because `now-cli` still gets `missing-files` after upload: https://github.com/zeit/now-cli/blob/11.2.9/src/providers/sh/util/index.js#L301 and https://github.com/zeit/now-cli/blob/11.2.9/src/providers/sh/commands/deploy/deploy.js#L811 and https://github.com/zeit/now-cli/blob/11.2.9/src/providers/sh/commands/deploy/deploy.js#L904,source-file | source-file | source-file | source-file,Cannot read property 'readyState' of null `Cannot read property 'readyState' of null` seems because `now-cli` still gets `missing-files` after upload: https://github.com/zeit/now-cli/blob/11.2.9/src/providers/sh/util/index.js#L301 and https://github.com/zeit/now-cli/blob/11.2.9/src/providers/sh/commands/deploy/deploy.js#L811 and https://github.com/zeit/now-cli/blob/11.2.9/src/providers/sh/commands/deploy/deploy.js#L904 source-file source-file source-file source-file,no-bug,0.8
3209,vercel,https://github.com/vercel/vercel/issues/3209,bug: CLI uses folder name instead of `name` property specified in custom config,"When running the following command: bash now ./dist/myproject-dashboard --local-config ./now-staging.json --token ${NOW_TOKEN}  With the following `now-staging.json`: json { ""name"": ""myproject-dashboard-preview"", ""scope"": ""myorg"", ""version"": 2, ""alias"": ""dashboard.preview.myproject.com"", ""routes"": [{ ""handle"": ""filesystem"" }, { ""src"": ""/.*"", ""dest"": ""/index.html"" }] }  The CLI will upload the code to a project matching the folder name (`myproject-dashboard`) instead of correctly using the specified `name` in the custom config. CLI version:   now -v 16.4.3 ",source-file | test-file | test-file,"bug: CLI uses folder name instead of `name` property specified in custom config When running the following command: bash now ./dist/myproject-dashboard --local-config ./now-staging.json --token ${NOW_TOKEN}  With the following `now-staging.json`: json { ""name"": ""myproject-dashboard-preview"", ""scope"": ""myorg"", ""version"": 2, ""alias"": ""dashboard.preview.myproject.com"", ""routes"": [{ ""handle"": ""filesystem"" }, { ""src"": ""/.*"", ""dest"": ""/index.html"" }] }  The CLI will upload the code to a project matching the folder name (`myproject-dashboard`) instead of correctly using the specified `name` in the custom config. CLI version:   now -v 16.4.3  source-file test-file test-file",no-bug,0.8
5136,vercel,https://github.com/vercel/vercel/issues/5136,Deployment sometimes fails when using Yarn 2,"I'm playing with Yarn 2 and Vercel ([my project](http://github.com/kidonng/swiss), which [doesn't use Plug'n'Play](https://github.com/kidonng/swiss/blob/aa67475ee9bbea49fb468c8bdad8003b6cf40bf5/.yarnrc.yml#L1)). It works fine when using the Vercel CLI, but sometimes fails when using GitHub integration. **EDIT**: looks like it may also fail even if using the Vercel CLI, so I'm changing the title to make it clear. - An example of failed deployment (https://vercel.com/kidonng/swiss/non9mdxh5) Actually, most of the deployments will fail  20:30:20.203 | Cloning github.com/kidonng/swiss (Branch: master, Commit: aa67475) 20:30:20.849 | Cloning completed in 646ms 20:30:20.850 | Analyzing source code (Omitted) 20:30:46.416 |  YN0013:  yn@npm:3.1.1 can't be found in the cache and will be fetched from the remote registry 20:30:46.416 |  YN0013:  yorkie@npm:2.0.0 can't be found in the cache and will be fetched from the remote registry 20:31:48.790 |  YN0000:  Completed in 1.37m 20:31:48.956 |  YN0000:  Link step 20:31:49.037 |  YN0062:  fsevents@patch:fsevents@npm%3A2.1.3#builtin<compat/fsevents>::version=2.1.3&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:31:49.382 |  YN0062:  fsevents@patch:fsevents@npm%3A1.2.13#builtin<compat/fsevents>::version=1.2.13&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:31:50.230 |  YN0001:  Error: While loading /vercel/6b66e1f4/node_modules/cet-score: Manifest not found 20:31:50.230 | at Function.find (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:272112) 20:31:50.230 | at async j.cachedManifestLoad (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:154591) 20:31:50.230 | at async r.loadManifest (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:150434) 20:31:50.230 | at async baseFs (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:150323) 20:31:50.230 | at async j.finalizeInstallWithPnp (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:146882) 20:31:50.230 | at async j.finalizeInstall (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:223849) 20:31:50.230 | at async ie.linkEverything (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:321535) 20:31:50.230 | at async /vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:328208 20:31:50.230 | at async C.startTimerPromise (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:337598) 20:31:50.230 | at async ie.install (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:327992) 20:31:50.230 |  YN0000:  Completed in 1.27s 20:31:50.230 |  YN0000: Failed with errors in 1.4m 20:31:50.302 | Error: Command ""yarn install"" exited with 1  - An example of success deployment (https://vercel.com/kidonng/swiss/pqwx93xs0) This is the same commit as the above one, I just clicked ""Redeploy""  20:38:45.993 | Cloning github.com/kidonng/swiss (Branch: master, Commit: aa67475) 20:38:46.609 | Cloning completed in 616ms 20:38:46.611 | Analyzing source code (Omitted) 20:39:08.451 |  YN0013:  yn@npm:3.1.1 can't be found in the cache and will be fetched from the remote registry 20:39:08.451 |  YN0013:  yorkie@npm:2.0.0 can't be found in the cache and will be fetched from the remote registry 20:40:09.438 |  YN0000:  Completed in 1.32m 20:40:09.601 |  YN0000:  Link step 20:40:09.678 |  YN0062:  fsevents@patch:fsevents@npm%3A2.1.3#builtin<compat/fsevents>::version=2.1.3&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:40:10.024 |  YN0062:  fsevents@patch:fsevents@npm%3A1.2.13#builtin<compat/fsevents>::version=1.2.13&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:40:15.608 |  YN0007:  protobufjs@npm:6.10.1 must be built because it never did before or the last one failed 20:40:15.608 |  YN0007:  yorkie@npm:2.0.0 must be built because it never did before or the last one failed 20:40:15.608 |  YN0007:  ejs@npm:2.7.4 must be built because it never did before or the last one failed 20:40:15.851 |  YN0000:  Completed in 6.25s 20:40:15.851 |  YN0000: Done with warnings in 1.44m 20:40:16.123 | Using TypeScript 3.9.7 (local user-provided)   A few other things I'd like to mention about Yarn 2: - Yarn 2 outputs a massive amount of log in the Vercel dashboard unfortunately I didn't find an argument to silence the message. I wish the log to be hidden in the dashboard. **EDIT**: Vercel just rolled out a sane log limit: ![image](https://user-images.githubusercontent.com/44045911/94879030-a9c59780-0491-11eb-81f0-71e26b6acc09.png) So this issue is mostly resolved. - Is PnP support on your roadmap? Currently the Serverless Function build will fail if using PnP I know it could be hard but I can wait",source-file | test-file | test-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | source-file,"Deployment sometimes fails when using Yarn 2 I'm playing with Yarn 2 and Vercel ([my project](http://github.com/kidonng/swiss), which [doesn't use Plug'n'Play](https://github.com/kidonng/swiss/blob/aa67475ee9bbea49fb468c8bdad8003b6cf40bf5/.yarnrc.yml#L1)). It works fine when using the Vercel CLI, but sometimes fails when using GitHub integration. **EDIT**: looks like it may also fail even if using the Vercel CLI, so I'm changing the title to make it clear. - An example of failed deployment (https://vercel.com/kidonng/swiss/non9mdxh5) Actually, most of the deployments will fail  20:30:20.203 | Cloning github.com/kidonng/swiss (Branch: master, Commit: aa67475) 20:30:20.849 | Cloning completed in 646ms 20:30:20.850 | Analyzing source code (Omitted) 20:30:46.416 |  YN0013:  yn@npm:3.1.1 can't be found in the cache and will be fetched from the remote registry 20:30:46.416 |  YN0013:  yorkie@npm:2.0.0 can't be found in the cache and will be fetched from the remote registry 20:31:48.790 |  YN0000:  Completed in 1.37m 20:31:48.956 |  YN0000:  Link step 20:31:49.037 |  YN0062:  fsevents@patch:fsevents@npm%3A2.1.3#builtin<compat/fsevents>::version=2.1.3&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:31:49.382 |  YN0062:  fsevents@patch:fsevents@npm%3A1.2.13#builtin<compat/fsevents>::version=1.2.13&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:31:50.230 |  YN0001:  Error: While loading /vercel/6b66e1f4/node_modules/cet-score: Manifest not found 20:31:50.230 | at Function.find (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:272112) 20:31:50.230 | at async j.cachedManifestLoad (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:154591) 20:31:50.230 | at async r.loadManifest (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:150434) 20:31:50.230 | at async baseFs (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:150323) 20:31:50.230 | at async j.finalizeInstallWithPnp (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:146882) 20:31:50.230 | at async j.finalizeInstall (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:223849) 20:31:50.230 | at async ie.linkEverything (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:321535) 20:31:50.230 | at async /vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:328208 20:31:50.230 | at async C.startTimerPromise (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:337598) 20:31:50.230 | at async ie.install (/vercel/6b66e1f4/.yarn/releases/yarn-berry.cjs:2:327992) 20:31:50.230 |  YN0000:  Completed in 1.27s 20:31:50.230 |  YN0000: Failed with errors in 1.4m 20:31:50.302 | Error: Command ""yarn install"" exited with 1  - An example of success deployment (https://vercel.com/kidonng/swiss/pqwx93xs0) This is the same commit as the above one, I just clicked ""Redeploy""  20:38:45.993 | Cloning github.com/kidonng/swiss (Branch: master, Commit: aa67475) 20:38:46.609 | Cloning completed in 616ms 20:38:46.611 | Analyzing source code (Omitted) 20:39:08.451 |  YN0013:  yn@npm:3.1.1 can't be found in the cache and will be fetched from the remote registry 20:39:08.451 |  YN0013:  yorkie@npm:2.0.0 can't be found in the cache and will be fetched from the remote registry 20:40:09.438 |  YN0000:  Completed in 1.32m 20:40:09.601 |  YN0000:  Link step 20:40:09.678 |  YN0062:  fsevents@patch:fsevents@npm%3A2.1.3#builtin<compat/fsevents>::version=2.1.3&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:40:10.024 |  YN0062:  fsevents@patch:fsevents@npm%3A1.2.13#builtin<compat/fsevents>::version=1.2.13&hash=87eb42 The platform linux is incompatible with this module, linking skipped. 20:40:15.608 |  YN0007:  protobufjs@npm:6.10.1 must be built because it never did before or the last one failed 20:40:15.608 |  YN0007:  yorkie@npm:2.0.0 must be built because it never did before or the last one failed 20:40:15.608 |  YN0007:  ejs@npm:2.7.4 must be built because it never did before or the last one failed 20:40:15.851 |  YN0000:  Completed in 6.25s 20:40:15.851 |  YN0000: Done with warnings in 1.44m 20:40:16.123 | Using TypeScript 3.9.7 (local user-provided)   A few other things I'd like to mention about Yarn 2: - Yarn 2 outputs a massive amount of log in the Vercel dashboard unfortunately I didn't find an argument to silence the message. I wish the log to be hidden in the dashboard. **EDIT**: Vercel just rolled out a sane log limit: ![image](https://user-images.githubusercontent.com/44045911/94879030-a9c59780-0491-11eb-81f0-71e26b6acc09.png) So this issue is mostly resolved. - Is PnP support on your roadmap? Currently the Serverless Function build will fail if using PnP I know it could be hard but I can wait source-file test-file test-file test-file test-file test-file source-file test-file test-file test-file source-file",no-bug,0.95
3638,vercel,https://github.com/vercel/vercel/issues/3638,Cannot Deploy Python Runtime,"Hi, I wanted to set up a simple Python crawler so I resorted to the **Python runtime**. When I tried to run the demo from the [official documentation](https://zeit.co/docs/runtimes#official-runtimes/python), it turned out that the demos all failed. I followed exactly the same procedure, and used `now dev` to build locally. When I attempted to visit http://localhost:3000/api/, it gave me a `502` error as follows. I tried all three examples and none of them worked. ![image](https://user-images.githubusercontent.com/26131764/72917564-08713800-3d7f-11ea-841e-0faa2531d57a.png) There went the second problem when I tried to `now` it to check if it was a local error, but it seemed zeit was inaccessible. ![image](https://user-images.githubusercontent.com/26131764/72917706-4a9a7980-3d7f-11ea-977b-bea3b2580e93.png) Thank you very much!",source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Cannot Deploy Python Runtime Hi, I wanted to set up a simple Python crawler so I resorted to the **Python runtime**. When I tried to run the demo from the [official documentation](https://zeit.co/docs/runtimes#official-runtimes/python), it turned out that the demos all failed. I followed exactly the same procedure, and used `now dev` to build locally. When I attempted to visit http://localhost:3000/api/, it gave me a `502` error as follows. I tried all three examples and none of them worked. ![image](https://user-images.githubusercontent.com/26131764/72917564-08713800-3d7f-11ea-841e-0faa2531d57a.png) There went the second problem when I tried to `now` it to check if it was a local error, but it seemed zeit was inaccessible. ![image](https://user-images.githubusercontent.com/26131764/72917706-4a9a7980-3d7f-11ea-977b-bea3b2580e93.png) Thank you very much! source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.8
21,vercel,https://github.com/vercel/vercel/issues/21,Can't use a numeric value as a secret,"If I try to add a secret with a numeric value I get an error, even if I quote it. E.g:  now secrets add user_id ""497017065025001729471"" Error! Only string or an object containing a `base64` key allowed as `value`  I've hacked `lib/secrets.js` in the now CLI to force the value to be a string, which fixed the error:  fetch('/now/secrets', { method: 'POST', body: { name: name, value: `${value}` } });  @Rowno",documentation-file,"Can't use a numeric value as a secret If I try to add a secret with a numeric value I get an error, even if I quote it. E.g:  now secrets add user_id ""497017065025001729471"" Error! Only string or an object containing a `base64` key allowed as `value`  I've hacked `lib/secrets.js` in the now CLI to force the value to be a string, which fixed the error:  fetch('/now/secrets', { method: 'POST', body: { name: name, value: `${value}` } });  @Rowno documentation-file",no-bug,0.7
751,vercel,https://github.com/vercel/vercel/issues/751,Command to show deployment logs,"I ran `now`, and then `ctrl+c`d, and was surprised to find my build still running, but no command to view the deployment logs (upload/sync status etc.).",source-file,"Command to show deployment logs I ran `now`, and then `ctrl+c`d, and was surprised to find my build still running, but no command to view the deployment logs (upload/sync status etc.). source-file",no-bug,0.9
3159,vercel,https://github.com/vercel/vercel/issues/3159,"[now-dev] ""Invalid `builds` property"" when property not set","I get the following error when running `now dev` in a directory where there's a `build/` directory alongside the `now.json` file : bash > Error! Invalid `builds` property: should NOT have more than 128 items  I don't have any `builds` property defined in my `now.json` : json { ""version"": 2, ""name"": ""my-website"", ""routes"": [ { ""src"": ""/catalogue"", ""dest"": ""index.html"" }, { ""src"": ""/contactez-nous"", ""dest"": ""index.html"" }, { ""src"": ""/qui-sommes-nous"", ""dest"": ""index.html"" } ] }  But the `build/` directory indeed contains more than 128 files, and `now dev` is confusing it with a `builds` property. Unfortunately I can't change the name of this directory because it's automatically generated by [Stencil.js](https://github.com/ionic-team/stencil).",documentation-file | source-file | test-file | test-file | documentation-file | source-file | test-file | test-file,"[now-dev] ""Invalid `builds` property"" when property not set I get the following error when running `now dev` in a directory where there's a `build/` directory alongside the `now.json` file : bash > Error! Invalid `builds` property: should NOT have more than 128 items  I don't have any `builds` property defined in my `now.json` : json { ""version"": 2, ""name"": ""my-website"", ""routes"": [ { ""src"": ""/catalogue"", ""dest"": ""index.html"" }, { ""src"": ""/contactez-nous"", ""dest"": ""index.html"" }, { ""src"": ""/qui-sommes-nous"", ""dest"": ""index.html"" } ] }  But the `build/` directory indeed contains more than 128 files, and `now dev` is confusing it with a `builds` property. Unfortunately I can't change the name of this directory because it's automatically generated by [Stencil.js](https://github.com/ionic-team/stencil). documentation-file source-file test-file test-file documentation-file source-file test-file test-file",no-bug,0.9
11201,vercel,https://github.com/vercel/vercel/issues/11201,Dependabot alert for undici,"Hi, @vercel/node, which the vercel cli depends on, pins the `undici` version to `5.26.5`, but Dependabot reports a vulnerability with the recommendation to upgrade to `~> 5.28.3`. https://github.com/vercel/vercel/blob/c2d99855ea6132380434ed29643120680f95fad7/packages/node/package.json#L42",documentation-file | documentation-file | documentation-file,"Dependabot alert for undici Hi, @vercel/node, which the vercel cli depends on, pins the `undici` version to `5.26.5`, but Dependabot reports a vulnerability with the recommendation to upgrade to `~> 5.28.3`. https://github.com/vercel/vercel/blob/c2d99855ea6132380434ed29643120680f95fad7/packages/node/package.json#L42 documentation-file documentation-file documentation-file",no-bug,0.95
387,vercel,https://github.com/vercel/vercel/issues/387,Remove IDs,There's no need for IDs anymore. All of our data sets have their own identifiers (like deployments have a URL or a domain and the same for aliases). This was suggested by @nkzawa.,source-file | test-file | test-file | test-file,Remove IDs There's no need for IDs anymore. All of our data sets have their own identifiers (like deployments have a URL or a domain and the same for aliases). This was suggested by @nkzawa. source-file test-file test-file test-file,no-bug,0.8
490,vercel,https://github.com/vercel/vercel/issues/490,Feature Request: Old Deployments Pruning,"There is a lot of 'pruning' that one has to do for past deployments. I'm not sure if its just because of being in testing mode, but there is a lot of deleting going on and I've deleted instances unintentionally. I don't know what the answer is, but finding ways to manage this a better would be helpful, particularly for dev envs.",source-file,"Feature Request: Old Deployments Pruning There is a lot of 'pruning' that one has to do for past deployments. I'm not sure if its just because of being in testing mode, but there is a lot of deleting going on and I've deleted instances unintentionally. I don't know what the answer is, but finding ways to manage this a better would be helpful, particularly for dev envs. source-file",no-bug,0.9
112,vercel,https://github.com/vercel/vercel/issues/112,Named pipe prevents deployment,"A fifo file in the root prevents deployment, likely waiting for fifo output. Suggest checking for filetype before reading contents.",source-file | documentation-file | source-file | documentation-file | source-file | source-file | documentation-file | source-file | documentation-file | documentation-file | test-file | other-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file,"Named pipe prevents deployment A fifo file in the root prevents deployment, likely waiting for fifo output. Suggest checking for filetype before reading contents. source-file documentation-file source-file documentation-file source-file source-file documentation-file source-file documentation-file documentation-file test-file other-file documentation-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file other-file",no-bug,0.9
604,vercel,https://github.com/vercel/vercel/issues/604,Package.json is not picking up now config when running `now deploy path`,"I have a package.json file that goes like this  ""now"": { ""name"": ""project-name"", ""alias"": ""example.com"", ""type"": ""static"", ""public"": false }  and I run `now deploy build/`,   Result It deploys to `https://build-xxxxxxxx.now.sh` with not setting the alias.  Expected Deploy to `https://project-name.xxxxxxxx.now.sh` and set the alias",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file,"Package.json is not picking up now config when running `now deploy path` I have a package.json file that goes like this  ""now"": { ""name"": ""project-name"", ""alias"": ""example.com"", ""type"": ""static"", ""public"": false }  and I run `now deploy build/`,   Result It deploys to `https://build-xxxxxxxx.now.sh` with not setting the alias.  Expected Deploy to `https://project-name.xxxxxxxx.now.sh` and set the alias source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file",no-bug,0.9
8104,vercel,https://github.com/vercel/vercel/issues/8104,npm install vercel fails when npm cannot find @vercel/hydrogen,"shell $ npm install --global vercel npm ERR! code E404 npm ERR! 404 Not Found - GET https://registry.npmjs.org/@vercel%2fhydrogen - Not found npm ERR! 404 npm ERR! 404 '@vercel/hydrogen@0.0.2' is not in this registry. npm ERR! 404 You should bug the author to publish it (or use the name yourself!) npm ERR! 404 npm ERR! 404 Note that you can also install from a npm ERR! 404 tarball, folder, http url, or git url. npm ERR! A complete log of this run can be found in: npm ERR! /Users/rob/.npm/_logs/2022-07-08T01_08_44_972Z-debug-0.log  It looks like @vercel/hydrogen was added as a dependency recently, and isn't currently published on npm, leading installs to fail. Fixes might include publishing that package to npm or removing the dependency.",documentation-file | source-file | other-file | documentation-file | source-file | other-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | other-file | source-file | test-file | test-file | documentation-file | source-file | other-file | documentation-file | other-file | source-file,"npm install vercel fails when npm cannot find @vercel/hydrogen shell $ npm install --global vercel npm ERR! code E404 npm ERR! 404 Not Found - GET https://registry.npmjs.org/@vercel%2fhydrogen - Not found npm ERR! 404 npm ERR! 404 '@vercel/hydrogen@0.0.2' is not in this registry. npm ERR! 404 You should bug the author to publish it (or use the name yourself!) npm ERR! 404 npm ERR! 404 Note that you can also install from a npm ERR! 404 tarball, folder, http url, or git url. npm ERR! A complete log of this run can be found in: npm ERR! /Users/rob/.npm/_logs/2022-07-08T01_08_44_972Z-debug-0.log  It looks like @vercel/hydrogen was added as a dependency recently, and isn't currently published on npm, leading installs to fail. Fixes might include publishing that package to npm or removing the dependency. documentation-file source-file other-file documentation-file source-file other-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file source-file source-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file source-file other-file other-file source-file other-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file other-file source-file source-file source-file other-file other-file source-file other-file other-file other-file other-file source-file other-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file other-file source-file other-file other-file source-file test-file test-file documentation-file source-file other-file documentation-file other-file source-file",no-bug,0.9
380,vercel,https://github.com/vercel/vercel/issues/380,What Zsh/Vim themes are shown in the marketing screenshots?,I love the minimal white `.zsh` and Vim themes I've seen on the website and in casts. Any pointers as to what setup you guys are using? ![screen shot 2017-03-13 at 10 07 39 am](https://cloud.githubusercontent.com/assets/275617/23866257/8229ecba-07d5-11e7-94a7-ae976492e055.png) ![screen shot 2017-03-13 at 10 07 50 am](https://cloud.githubusercontent.com/assets/275617/23866258/822b7ba2-07d5-11e7-86dd-45f31d83c844.png),source-file,What Zsh/Vim themes are shown in the marketing screenshots? I love the minimal white `.zsh` and Vim themes I've seen on the website and in casts. Any pointers as to what setup you guys are using? ![screen shot 2017-03-13 at 10 07 39 am](https://cloud.githubusercontent.com/assets/275617/23866257/8229ecba-07d5-11e7-94a7-ae976492e055.png) ![screen shot 2017-03-13 at 10 07 50 am](https://cloud.githubusercontent.com/assets/275617/23866258/822b7ba2-07d5-11e7-86dd-45f31d83c844.png) source-file,no-bug,0.95
3353,vercel,https://github.com/vercel/vercel/issues/3353,[now dev] Custom runtimes are reinstalled at every build,"`now dev` should check if a custom runtime already exists before installing it, instead always installs it. This function is probably the problem, it filters out the already installed packages in cache https://github.com/zeit/now/blob/b69f1761439b92e058aa7b9c30be0475073bcf38/packages/now-cli/src/util/dev/builder-cache.ts#L161",other-file | source-file | test-file,"[now dev] Custom runtimes are reinstalled at every build `now dev` should check if a custom runtime already exists before installing it, instead always installs it. This function is probably the problem, it filters out the already installed packages in cache https://github.com/zeit/now/blob/b69f1761439b92e058aa7b9c30be0475073bcf38/packages/now-cli/src/util/dev/builder-cache.ts#L161 other-file source-file test-file",no-bug,0.9
857,vercel,https://github.com/vercel/vercel/issues/857,Unexpected error. Please try again later. (search_.map is not a function),Keep getting this error:  $ now --version 8.3.1 $ now > Deploying ~/Dev/oss/test under lukechilds > Error! Unexpected error. Please try again later. (search_.map is not a function) ,source-file,Unexpected error. Please try again later. (search_.map is not a function) Keep getting this error:  $ now --version 8.3.1 $ now > Deploying ~/Dev/oss/test under lukechilds > Error! Unexpected error. Please try again later. (search_.map is not a function)  source-file,no-bug,0.8
552,vercel,https://github.com/vercel/vercel/issues/552,`now domain buy` doesn't handle pre-orders,"Hi! :) I wanted to buy a "".now"" domain, currently it's pre-order only and `now` doesn't seem to handle this. Instead it shows: `Buy now for $undefined (<my_email>)?`",other-file | other-file | other-file | other-file | documentation-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | other-file,"`now domain buy` doesn't handle pre-orders Hi! :) I wanted to buy a "".now"" domain, currently it's pre-order only and `now` doesn't seem to handle this. Instead it shows: `Buy now for $undefined (<my_email>)?` other-file other-file other-file other-file documentation-file source-file source-file source-file test-file documentation-file source-file source-file other-file",bug,0.85
581,vercel,https://github.com/vercel/vercel/issues/581,"""deploy"": ""cd out && now --static"" deploying as Node project","So I have this script in my `package.json` and when I run it, `now-cli` deploys the contents of the `out` folder as a Nodejs project instead of a static project.  ""deploy"": ""cd out && now --static""   ~/xxx $ yarn deploy yarn deploy v0.18.1 $ cd out && now --static > Deploying /xxx/out > Using Node.js 7.10.0 (default) > Ready! https://out-btepxxxx.now.sh (copied to clipboard) [2s] > Initializing ^C  However, if I manually `cd` into the `out` folder and run the command, it deploys as static site  ~/xxx $ cd out ~/xxx/out $ now --static > Deploying /xxx/out under purplecones > Ready! https://xxx-rayrqvbxxx.now.sh (copied to clipboard) [1s] > Initializing > Deployment complete! ",documentation-file,"""deploy"": ""cd out && now --static"" deploying as Node project So I have this script in my `package.json` and when I run it, `now-cli` deploys the contents of the `out` folder as a Nodejs project instead of a static project.  ""deploy"": ""cd out && now --static""   ~/xxx $ yarn deploy yarn deploy v0.18.1 $ cd out && now --static > Deploying /xxx/out > Using Node.js 7.10.0 (default) > Ready! https://out-btepxxxx.now.sh (copied to clipboard) [2s] > Initializing ^C  However, if I manually `cd` into the `out` folder and run the command, it deploys as static site  ~/xxx $ cd out ~/xxx/out $ now --static > Deploying /xxx/out under purplecones > Ready! https://xxx-rayrqvbxxx.now.sh (copied to clipboard) [1s] > Initializing > Deployment complete!  documentation-file",no-bug,0.9
2088,vercel,https://github.com/vercel/vercel/issues/2088,"`""continue"": true` in routes is not supported locally","In `now.json`, it is possible to set global headers by using `""continue"": true`. This setup currently confuses the heck out of now-dev.  routes: [ { ""src"": ""/.*"", ""headers"": {""cache-control"": ""s-maxage=31536000, max-age=0""}, ""continue"": true },  ] ",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"`""continue"": true` in routes is not supported locally In `now.json`, it is possible to set global headers by using `""continue"": true`. This setup currently confuses the heck out of now-dev.  routes: [ { ""src"": ""/.*"", ""headers"": {""cache-control"": ""s-maxage=31536000, max-age=0""}, ""continue"": true },  ]  source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.7
1998,vercel,https://github.com/vercel/vercel/issues/1998,Remove `now scale` from help list for v2,**Is your feature request related to a problem? Please describe.** `now scale ` only works for now v1 but it is still showing up in `now --help` which is for v2. **Describe the solution you'd like** only show `scale` command under `now help deploy-v1` which is reserved for v1.,source-file | source-file | source-file,Remove `now scale` from help list for v2 **Is your feature request related to a problem? Please describe.** `now scale ` only works for now v1 but it is still showing up in `now --help` which is for v2. **Describe the solution you'd like** only show `scale` command under `now help deploy-v1` which is reserved for v1. source-file source-file source-file,no-bug,0.9
8121,vercel,https://github.com/vercel/vercel/issues/8121,`vercel dev` in Vite app causes port timeout,I get the following error after a while running vercel dev in a Vite/SvelteKit app:  Error! Detecting port 62323 timed out after 300000ms Error! An unexpected error occurred! Error: Detecting port 62323 timed out after 300000ms at checkForPort (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243842:19) at runMicrotasks (<anonymous>) at processTicksAndRejections (node:internal/process/task_queues:96:5) at DevServer.runDevCommand (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243643:9) at DevServer._start (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243267:9) Error! An unexpected error occurred! Error: Detecting port 62323 timed out after 300000ms at checkForPort (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243842:19) at runMicrotasks (<anonymous>) at processTicksAndRejections (node:internal/process/task_queues:96:5) at DevServer.runDevCommand (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243643:9) at DevServer._start (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243267:9) ,source-file | source-file | test-file | test-file,`vercel dev` in Vite app causes port timeout I get the following error after a while running vercel dev in a Vite/SvelteKit app:  Error! Detecting port 62323 timed out after 300000ms Error! An unexpected error occurred! Error: Detecting port 62323 timed out after 300000ms at checkForPort (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243842:19) at runMicrotasks (<anonymous>) at processTicksAndRejections (node:internal/process/task_queues:96:5) at DevServer.runDevCommand (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243643:9) at DevServer._start (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243267:9) Error! An unexpected error occurred! Error: Detecting port 62323 timed out after 300000ms at checkForPort (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243842:19) at runMicrotasks (<anonymous>) at processTicksAndRejections (node:internal/process/task_queues:96:5) at DevServer.runDevCommand (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243643:9) at DevServer._start (/Users/kabir/Library/pnpm/global/5/.pnpm/vercel@27.0.0/node_modules/vercel/dist/index.js:243267:9)  source-file source-file test-file test-file,no-bug,0.9
27,vercel,https://github.com/vercel/vercel/issues/27,Aliasing a `now-serve` deployment to custom domain,"Hopefully I just have a bad dependency somewhere. Note that the domain I'm trying this with is a .bm (Bermuda) domain name, not sure if that matters but it's definitely not common. Deployment ID and domain truncated and replaced, respectively, for privacy.  bash $ now alias wKUr5n example.bm --debug > [debug] Checking for updates. > [debug] Up to date (0.25.0). > [debug] /list: 703.425ms > [debug] matched deployment wKUr5n by uid wKUr5n > example.bm is a custom domain. > Verifying the DNS settings for example.bm (see https://zeit.world for help) > [debug] #1 GET /whois-ns: 287.395ms > [debug] Retrying: Error: Whois error (500): An unexpected internal error occurred at Alias._callee11$ (/usr/local/lib/node_modules/now/build/lib/index.js:900:27) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at run (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:108:47) at /usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:119:28 at flush (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/$.microtask.js:19:5) at nextTickCallbackWith0Args (node.js:433:9) > [debug] #2 GET /whois-ns: 84.056ms > [debug] Retrying: Error: Whois error (500): An unexpected internal error occurred at Alias._callee11$ (/usr/local/lib/node_modules/now/build/lib/index.js:900:27) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at run (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:108:47) at /usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:119:28 at flush (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/$.microtask.js:19:5) at nextTickCallbackWith0Args (node.js:433:9) > [debug] Retrying: FetchError: request to https://api.zeit.co/whois-ns-fallback?domain=example.bm failed, reason: socket hang up at ClientRequest.<anonymous> (/usr/local/lib/node_modules/now/node_modules/node-fetch/index.js:127:11) at emitOne (events.js:77:13) at ClientRequest.emit (events.js:169:7) at Socket.socketErrorListener (_http_client.js:265:9) at emitOne (events.js:77:13) at Socket.emit (events.js:169:7) at Stream.onStreamError (/usr/local/lib/node_modules/now/node_modules/spdy/lib/spdy/handle.js:89:18) at emitOne (events.js:77:13) at Stream.emit (events.js:169:7) at /usr/local/lib/node_modules/now/node_modules/spdy-transport/lib/spdy-transport/connection.js:752:12 ",source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | test-file,"Aliasing a `now-serve` deployment to custom domain Hopefully I just have a bad dependency somewhere. Note that the domain I'm trying this with is a .bm (Bermuda) domain name, not sure if that matters but it's definitely not common. Deployment ID and domain truncated and replaced, respectively, for privacy.  bash $ now alias wKUr5n example.bm --debug > [debug] Checking for updates. > [debug] Up to date (0.25.0). > [debug] /list: 703.425ms > [debug] matched deployment wKUr5n by uid wKUr5n > example.bm is a custom domain. > Verifying the DNS settings for example.bm (see https://zeit.world for help) > [debug] #1 GET /whois-ns: 287.395ms > [debug] Retrying: Error: Whois error (500): An unexpected internal error occurred at Alias._callee11$ (/usr/local/lib/node_modules/now/build/lib/index.js:900:27) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at run (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:108:47) at /usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:119:28 at flush (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/$.microtask.js:19:5) at nextTickCallbackWith0Args (node.js:433:9) > [debug] #2 GET /whois-ns: 84.056ms > [debug] Retrying: Error: Whois error (500): An unexpected internal error occurred at Alias._callee11$ (/usr/local/lib/node_modules/now/build/lib/index.js:900:27) at tryCatch (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:88:40) at GeneratorFunctionPrototype.invoke [as _invoke] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:341:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (/usr/local/lib/node_modules/now/node_modules/babel-runtime/regenerator/runtime.js:121:21) at step (/usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:17:30) at /usr/local/lib/node_modules/now/node_modules/babel-runtime/helpers/asyncToGenerator.js:28:13 at run (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:108:47) at /usr/local/lib/node_modules/now/node_modules/core-js/library/modules/es6.promise.js:119:28 at flush (/usr/local/lib/node_modules/now/node_modules/core-js/library/modules/$.microtask.js:19:5) at nextTickCallbackWith0Args (node.js:433:9) > [debug] Retrying: FetchError: request to https://api.zeit.co/whois-ns-fallback?domain=example.bm failed, reason: socket hang up at ClientRequest.<anonymous> (/usr/local/lib/node_modules/now/node_modules/node-fetch/index.js:127:11) at emitOne (events.js:77:13) at ClientRequest.emit (events.js:169:7) at Socket.socketErrorListener (_http_client.js:265:9) at emitOne (events.js:77:13) at Socket.emit (events.js:169:7) at Stream.onStreamError (/usr/local/lib/node_modules/now/node_modules/spdy/lib/spdy/handle.js:89:18) at emitOne (events.js:77:13) at Stream.emit (events.js:169:7) at /usr/local/lib/node_modules/now/node_modules/spdy-transport/lib/spdy-transport/connection.js:752:12  source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file source-file test-file",no-bug,0.8
243,vercel,https://github.com/vercel/vercel/issues/243,now deploy hangs forever on travis-ci,"Hi there, Pro subscriber here! I'm having some trouble getting a `now` deploy script to exit on Travis-CI. Running the script locally works just fine, but on travis, it consistently will not finish. [On this line](https://github.com/zeit/now-cli/blob/cb8403174b2807ff5884ac6b64630c6e7d44f393/bin/now-deploy.js#L150) it states that you've had some issues with stdout not flushing and it looks like that function [isn't being used here](https://github.com/zeit/now-cli/blob/cb8403174b2807ff5884ac6b64630c6e7d44f393/bin/now-deploy.js#L613), where I think the issue might be originating. Here's one of the failed builds for reference: https://travis-ci.org/aliemteam/aliemcards/builds/195055148#L347 Here's the deploy script that I'd like to use: https://github.com/aliemteam/aliemcards/blob/master/deploy (Side Note: I'm aware of your node library, but the cli tool is way easier to use for my purposes) Thanks so much for the help and all you've done for the OSS community! Let me know if there's anything I might be able to assist with.",source-file | source-file | test-file | test-file | test-file | test-file,"now deploy hangs forever on travis-ci Hi there, Pro subscriber here! I'm having some trouble getting a `now` deploy script to exit on Travis-CI. Running the script locally works just fine, but on travis, it consistently will not finish. [On this line](https://github.com/zeit/now-cli/blob/cb8403174b2807ff5884ac6b64630c6e7d44f393/bin/now-deploy.js#L150) it states that you've had some issues with stdout not flushing and it looks like that function [isn't being used here](https://github.com/zeit/now-cli/blob/cb8403174b2807ff5884ac6b64630c6e7d44f393/bin/now-deploy.js#L613), where I think the issue might be originating. Here's one of the failed builds for reference: https://travis-ci.org/aliemteam/aliemcards/builds/195055148#L347 Here's the deploy script that I'd like to use: https://github.com/aliemteam/aliemcards/blob/master/deploy (Side Note: I'm aware of your node library, but the cli tool is way easier to use for my purposes) Thanks so much for the help and all you've done for the OSS community! Let me know if there's anything I might be able to assist with. source-file source-file test-file test-file test-file test-file",no-bug,0.9
8471,vercel,https://github.com/vercel/vercel/issues/8471,"[client] createDeployment failing ""MODULE_NOT_FOUND"""," Discussed in https://github.com/orgs/vercel/discussions/8466 <div type='discussions-op-text'> <sup>Originally posted by **eric-miller2129** August 25, 2022</sup> Hi there, I'm using `@vercel/client` to run a programmatic deployment to Vercel. Until recently it was working fine however it seems once I bumped the version from `12.1.11` to `12.2.0` it began to fail. ![Screen Shot 2022-08-25 at 17 38 57](https://user-images.githubusercontent.com/1424187/186773899-b9369942-df90-41a6-a486-80015b71c00d.png)  node:internal/modules/cjs/loader:936 throw err; ^ Error: Cannot find module 'tar-fs' Require stack: - /node_modules/@vercel/client/dist/create-deployment.js - /node_modules/@vercel/client/dist/index.js  Switching back to `12.1.11` solves the issue, and just manually installing `tar-fs` also seems to solve the issue, but I don't think either of those things are the correct solution.  Going through the commit history, it looks like this may be coming from the addition of `tar-fs` here https://github.com/vercel/vercel/blob/603b1256c63e46ad54da28aa7963d737349bec4d/packages/client/src/create-deployment.ts#L13",documentation-file | other-file | documentation-file | other-file,"[client] createDeployment failing ""MODULE_NOT_FOUND""  Discussed in https://github.com/orgs/vercel/discussions/8466 <div type='discussions-op-text'> <sup>Originally posted by **eric-miller2129** August 25, 2022</sup> Hi there, I'm using `@vercel/client` to run a programmatic deployment to Vercel. Until recently it was working fine however it seems once I bumped the version from `12.1.11` to `12.2.0` it began to fail. ![Screen Shot 2022-08-25 at 17 38 57](https://user-images.githubusercontent.com/1424187/186773899-b9369942-df90-41a6-a486-80015b71c00d.png)  node:internal/modules/cjs/loader:936 throw err; ^ Error: Cannot find module 'tar-fs' Require stack: - /node_modules/@vercel/client/dist/create-deployment.js - /node_modules/@vercel/client/dist/index.js  Switching back to `12.1.11` solves the issue, and just manually installing `tar-fs` also seems to solve the issue, but I don't think either of those things are the correct solution.  Going through the commit history, it looks like this may be coming from the addition of `tar-fs` here https://github.com/vercel/vercel/blob/603b1256c63e46ad54da28aa7963d737349bec4d/packages/client/src/create-deployment.ts#L13 documentation-file other-file documentation-file other-file",no-bug,0.9
298,vercel,https://github.com/vercel/vercel/issues/298,Multi-Port Access,I noticed in #149 that only a single port is accessible right now. As feature request I'd like to be able to expose multiple ports in my docker containers This could be done by mapping the `EXPOSE` ports to the public facing ports,source-file | source-file,Multi-Port Access I noticed in #149 that only a single port is accessible right now. As feature request I'd like to be able to expose multiple ports in my docker containers This could be done by mapping the `EXPOSE` ports to the public facing ports source-file source-file,no-bug,0.9
646,vercel,https://github.com/vercel/vercel/issues/646,[QUESTION] Can people search for my instances if they are on the free plan?,Topic. the oss plan says that my code is public by default on the OSS plan but can people find my instances if I don't share them?,documentation-file,[QUESTION] Can people search for my instances if they are on the free plan? Topic. the oss plan says that my code is public by default on the OSS plan but can people find my instances if I don't share them? documentation-file,no-bug,0.9
278,vercel,https://github.com/vercel/vercel/issues/278,`now alias` regression,"Copied from #272. Previously, running just `now alias` would alias the most recent deployment using the `alias` field in `package.json`. Since v4 that doesnt work anymore. I just tested it with the `aliases` field instead (per the above) but it still errors:  $ now alias > Error! Please specify a valid subcommand: ls | set | rm now alias <ls | set | rm> <deployment> <alias> Options: -h, --help Output usage information -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -t TOKEN, --token=TOKEN Login token Examples:  Lists all your aliases: $ now alias ls  Adds a new alias to my-api.now.sh: $ now alias set api-ownv3nc9f8.now.sh my-api.now.sh The `.now.sh` suffix can be ommited: $ now alias set api-ownv3nc9f8 my-api The deployment id can be used as the source: $ now alias set deploymentId my-alias Custom domains work as alias targets: $ now alias set api-ownv3nc9f8.now.sh my-api.com  The subcommand `set` is the default and can be skipped.  `http(s)://` in the URLs is unneeded / ignored.  Removing an alias: $ now alias rm aliasId To get the list of alias ids, use `now alias ls`. Alias: ln  TL;DR `now alias` (without further parameters) regressed in v4.",config-file,"`now alias` regression Copied from #272. Previously, running just `now alias` would alias the most recent deployment using the `alias` field in `package.json`. Since v4 that doesnt work anymore. I just tested it with the `aliases` field instead (per the above) but it still errors:  $ now alias > Error! Please specify a valid subcommand: ls | set | rm now alias <ls | set | rm> <deployment> <alias> Options: -h, --help Output usage information -c FILE, --config=FILE Config file -d, --debug Debug mode [off] -t TOKEN, --token=TOKEN Login token Examples:  Lists all your aliases: $ now alias ls  Adds a new alias to my-api.now.sh: $ now alias set api-ownv3nc9f8.now.sh my-api.now.sh The `.now.sh` suffix can be ommited: $ now alias set api-ownv3nc9f8 my-api The deployment id can be used as the source: $ now alias set deploymentId my-alias Custom domains work as alias targets: $ now alias set api-ownv3nc9f8.now.sh my-api.com  The subcommand `set` is the default and can be skipped.  `http(s)://` in the URLs is unneeded / ignored.  Removing an alias: $ now alias rm aliasId To get the list of alias ids, use `now alias ls`. Alias: ln  TL;DR `now alias` (without further parameters) regressed in v4. config-file",no-bug,0.8
742,vercel,https://github.com/vercel/vercel/issues/742,`now --static` should not ignore files,"`now` aggressively ignores files, which is a known issue: https://github.com/zeit/now-cli/issues/157 However, for static deployments, it doesnt make sense to ignore `node_modules` directories etc. Consider not ignoring files for static deployments made through `now --static`.",source-file | test-file | test-file | test-file | test-file,"`now --static` should not ignore files `now` aggressively ignores files, which is a known issue: https://github.com/zeit/now-cli/issues/157 However, for static deployments, it doesnt make sense to ignore `node_modules` directories etc. Consider not ignoring files for static deployments made through `now --static`. source-file test-file test-file test-file test-file",no-bug,0.8
3104,vercel,https://github.com/vercel/vercel/issues/3104,[now-cli] Error after upgrading to 16.3.0,"Receive an error message/unable to deploy after upgrading now-cli to version 16.3.0. Works okay when reverting back to 16.2.0 Details: 1. Upgrade to 16.3.0 with `npm i -g now@latest` 2. In console, run ""now"" command `now` 3. Get this error: > Error! ENOENT: no such file or directory, stat 'LOCAL_PATH/mobile/node_modules/.bin/detect-libc' The 'LOCAL_PATH/mobile' is the directory for a react-native version in the same repo. 4. Revert back to 16.2.0 `npm i -g now@16.2.0` 5. In console, run ""now"" command `now` 6. Runs and deploys correctly without errors I was able to recreate these steps several times.",source-file | source-file | source-file | source-file,"[now-cli] Error after upgrading to 16.3.0 Receive an error message/unable to deploy after upgrading now-cli to version 16.3.0. Works okay when reverting back to 16.2.0 Details: 1. Upgrade to 16.3.0 with `npm i -g now@latest` 2. In console, run ""now"" command `now` 3. Get this error: > Error! ENOENT: no such file or directory, stat 'LOCAL_PATH/mobile/node_modules/.bin/detect-libc' The 'LOCAL_PATH/mobile' is the directory for a react-native version in the same repo. 4. Revert back to 16.2.0 `npm i -g now@16.2.0` 5. In console, run ""now"" command `now` 6. Runs and deploys correctly without errors I was able to recreate these steps several times. source-file source-file source-file source-file",no-bug,0.9
872,vercel,https://github.com/vercel/vercel/issues/872,unable to install now,"I am unable to install now via npm on my system (Windows 10 Pro 64bit) for a work project, not sure how to proceed. I have provided a snippet below. Latest versions of node and npm installed. Any help is greatly appreciated. Thank you.  UNC paths are not supported. Defaulting to Windows directory. module.js:471 throw err; ^ Error: Cannot find module 'C:\Windows\download\install.js' at Function.Module._resolveFilename (module.js:469:15) at Function.Module._load (module.js:417:25) at Module.runMain (module.js:604:10) at run (bootstrap_node.js:389:7) at startup (bootstrap_node.js:149:9) at bootstrap_node.js:502:3 npm ERR! Windows_NT 10.0.15063 npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""-g"" ""now"" npm ERR! node v6.11.3 npm ERR! npm v3.10.10 npm ERR! code ELIFECYCLE npm ERR! now@8.3.4 postinstall: `node download/install.js` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the now@8.3.4 postinstall script 'node download/install.js'. npm ERR! Make sure you have the latest version of node.js and npm installed.`  No debug log was created. Any advice? Thanks.",source-file | test-file,"unable to install now I am unable to install now via npm on my system (Windows 10 Pro 64bit) for a work project, not sure how to proceed. I have provided a snippet below. Latest versions of node and npm installed. Any help is greatly appreciated. Thank you.  UNC paths are not supported. Defaulting to Windows directory. module.js:471 throw err; ^ Error: Cannot find module 'C:\Windows\download\install.js' at Function.Module._resolveFilename (module.js:469:15) at Function.Module._load (module.js:417:25) at Module.runMain (module.js:604:10) at run (bootstrap_node.js:389:7) at startup (bootstrap_node.js:149:9) at bootstrap_node.js:502:3 npm ERR! Windows_NT 10.0.15063 npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""-g"" ""now"" npm ERR! node v6.11.3 npm ERR! npm v3.10.10 npm ERR! code ELIFECYCLE npm ERR! now@8.3.4 postinstall: `node download/install.js` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the now@8.3.4 postinstall script 'node download/install.js'. npm ERR! Make sure you have the latest version of node.js and npm installed.`  No debug log was created. Any advice? Thanks. source-file test-file",no-bug,0.95
612,vercel,https://github.com/vercel/vercel/issues/612,Bug: Unable to deploy static apps,"I think you have a bug with static deployments and instance count. I am unable to deploy any static apps when my instance limit is hit, even though static deployments do not count towards instances. Error message: `Error! Too many active deployment instances` Steps: 1. Use all account instances with dynamic apps 2. Deploy a static app ![screen shot 2017-06-01 at 12 58 56](https://cloud.githubusercontent.com/assets/5610087/26678851/6f7d47d6-46ca-11e7-90b7-fa83c966e371.png) `a`, `b` and `c` are dynamic apps `static` and `static2` are static apps",source-file,"Bug: Unable to deploy static apps I think you have a bug with static deployments and instance count. I am unable to deploy any static apps when my instance limit is hit, even though static deployments do not count towards instances. Error message: `Error! Too many active deployment instances` Steps: 1. Use all account instances with dynamic apps 2. Deploy a static app ![screen shot 2017-06-01 at 12 58 56](https://cloud.githubusercontent.com/assets/5610087/26678851/6f7d47d6-46ca-11e7-90b7-fa83c966e371.png) `a`, `b` and `c` are dynamic apps `static` and `static2` are static apps source-file",no-bug,0.8
726,vercel,https://github.com/vercel/vercel/issues/726,HTML5 history API support,"hey there, awesome, awesome tools and service! I'm switching projects and teams to zeitHQ right now but I noticed something weird. Go to any deeper path in a single page app, refresh the browser and you'll get a 404. I get a 404 whenever I try to access a path other than the root, when using client side routing via history API. Can you push me into the right direction how to fix this? While it would work, I'd rather not use the hashbang hack `https://myapp.io//#/path`.",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"HTML5 history API support hey there, awesome, awesome tools and service! I'm switching projects and teams to zeitHQ right now but I noticed something weird. Go to any deeper path in a single page app, refresh the browser and you'll get a 404. I get a 404 whenever I try to access a path other than the root, when using client side routing via history API. Can you push me into the right direction how to fix this? While it would work, I'd rather not use the hashbang hack `https://myapp.io//#/path`. source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
911,vercel,https://github.com/vercel/vercel/issues/911,now gcp login with no local Window manager generates error,"Using Now CLI 8.3.9 I use a Linux VM via SSH for all development, operations, etc use. I'd like to move our now default deployment to GCP (where the rest of our resources are), but because my Linux VM is connected via SSH without an installed Window manager, when I run 'now gcp login' I get this error:  host$ now gcp login > Error! An unexpected error occurred! Error: spawn /snapshot/now-cli/node_modules/opn/xdg-open ENOENT at exports._errnoException (util.js:1050:11) at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32) at onErrorNT (internal/child_process.js:367:16) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) at Module.runMain (pkg/prelude/bootstrap.js:1282:13) at run (bootstrap_node.js:469:7) at startup (bootstrap_node.js:193:9) at bootstrap_node.js:584:3 Error: spawn /snapshot/now-cli/node_modules/opn/xdg-open ENOENT at exports._errnoException (util.js:1050:11) at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32) at onErrorNT (internal/child_process.js:367:16) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) at Module.runMain (pkg/prelude/bootstrap.js:1282:13) at run (bootstrap_node.js:469:7) at startup (bootstrap_node.js:193:9) at bootstrap_node.js:584:3  With the Google Cloud SDK, logging into GCP detects you have no local Window manager and just outputs the URL for you to paste into your browser to login with, get the authorization code, and paste back into the SSH session. Can we do the same with Now?",source-file | source-file | source-file | source-file | source-file,"now gcp login with no local Window manager generates error Using Now CLI 8.3.9 I use a Linux VM via SSH for all development, operations, etc use. I'd like to move our now default deployment to GCP (where the rest of our resources are), but because my Linux VM is connected via SSH without an installed Window manager, when I run 'now gcp login' I get this error:  host$ now gcp login > Error! An unexpected error occurred! Error: spawn /snapshot/now-cli/node_modules/opn/xdg-open ENOENT at exports._errnoException (util.js:1050:11) at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32) at onErrorNT (internal/child_process.js:367:16) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) at Module.runMain (pkg/prelude/bootstrap.js:1282:13) at run (bootstrap_node.js:469:7) at startup (bootstrap_node.js:193:9) at bootstrap_node.js:584:3 Error: spawn /snapshot/now-cli/node_modules/opn/xdg-open ENOENT at exports._errnoException (util.js:1050:11) at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32) at onErrorNT (internal/child_process.js:367:16) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickCallback (internal/process/next_tick.js:104:9) at Module.runMain (pkg/prelude/bootstrap.js:1282:13) at run (bootstrap_node.js:469:7) at startup (bootstrap_node.js:193:9) at bootstrap_node.js:584:3  With the Google Cloud SDK, logging into GCP detects you have no local Window manager and just outputs the URL for you to paste into your browser to login with, get the authorization code, and paste back into the SSH session. Can we do the same with Now? source-file source-file source-file source-file source-file",no-bug,0.9
11976,vercel,https://github.com/vercel/vercel/issues/11976,[Bug] Vercel failed to build go serverless functions with go >= 1.21,"Currently, vercel fails to build any golang serverless functions when using go1.21 or later, it outputs:  go: module . listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use go: module ../../../.. listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use Error: Command failed: go build -ldflags -s -w -o ./vercel-dev-server-go ./ go: module . listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use go: module ../../../.. listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use Error: Command failed: go build -ldflags -s -w -o ./vercel-dev-server-go ./  I believe it's caused by vercel's `go.work` generation here: https://github.com/vercel/vercel/blob/4052e9b8c61df1bd3d716bfa7a10417834992f46/packages/go/src/index.ts#L785-L790 where it should include the go directive (e.g. `go 1.21.0`) at the top of the generated `go.work` file.",source-file | documentation-file | source-file | documentation-file | source-file | documentation-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file,"[Bug] Vercel failed to build go serverless functions with go >= 1.21 Currently, vercel fails to build any golang serverless functions when using go1.21 or later, it outputs:  go: module . listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use go: module ../../../.. listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use Error: Command failed: go build -ldflags -s -w -o ./vercel-dev-server-go ./ go: module . listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use go: module ../../../.. listed in go.work file requires go >= 1.21, but go.work lists go 1.18; to update it: go work use Error: Command failed: go build -ldflags -s -w -o ./vercel-dev-server-go ./  I believe it's caused by vercel's `go.work` generation here: https://github.com/vercel/vercel/blob/4052e9b8c61df1bd3d716bfa7a10417834992f46/packages/go/src/index.ts#L785-L790 where it should include the go directive (e.g. `go 1.21.0`) at the top of the generated `go.work` file. source-file documentation-file source-file documentation-file source-file documentation-file test-file test-file test-file test-file test-file test-file test-file source-file",no-bug,0.95
224,vercel,https://github.com/vercel/vercel/issues/224,Newline required before user abort error,"If you're not logged in, the package will ask for your email. If you hit `ctrl` + `c`, it will abort but the error message will be printed in the same line. Should be a new line! > Enter your email: > Error! Authentication error  User abort",documentation-file | other-file | other-file | source-file | documentation-file | source-file | test-file | documentation-file | other-file | source-file,"Newline required before user abort error If you're not logged in, the package will ask for your email. If you hit `ctrl` + `c`, it will abort but the error message will be printed in the same line. Should be a new line! > Enter your email: > Error! Authentication error  User abort documentation-file other-file other-file source-file documentation-file source-file test-file documentation-file other-file source-file",no-bug,0.9
784,vercel,https://github.com/vercel/vercel/issues/784,Docker Support?,"_From @e-beach on July 22, 2017 21:7_ Are Docker based projects supported for now@beta? I get this error for a project which works using now@7.2.4.  elliott@elliott-pc ~/m/p/5609-Final-Project> ls app/ Dockerfile* README.md* requirements.txt* venv/ elliott@elliott-pc ~/m/p/5609-Final-Project> now > Deploying ""~/me/projects/5609-Final-Project"" (aws) (us-west-1)  Building and bundling your app> Error! An unexpected error occurred! Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:485:15) at Function.Module._load (module.js:437:25) at Module.require (module.js:513:17) at require (internal/module.js:11:18) at Object.get static [as static] (/home/elliott/me/projects/now/out/serverless/builders/index.js:6:12) at build (/home/elliott/me/projects/now/out/serverless/build.js:4:18) at deploy (/home/elliott/me/projects/now/out/providers/aws/deploy.js:101:25) at <anonymous> Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:485:15) at Function.Module._load (module.js:437:25) at Module.require (module.js:513:17) at require (internal/module.js:11:18) at Object.get static [as static] (/home/elliott/me/projects/now/out/serverless/builders/index.js:6:12) at build (/home/elliott/me/projects/now/out/serverless/build.js:4:18) at deploy (/home/elliott/me/projects/now/out/providers/aws/deploy.js:101:25) at <anonymous> elliott@elliott-pc ~/m/p/5609-Final-Project>  _Copied from original issue: zeit/now#39_",config-file,"Docker Support? _From @e-beach on July 22, 2017 21:7_ Are Docker based projects supported for now@beta? I get this error for a project which works using now@7.2.4.  elliott@elliott-pc ~/m/p/5609-Final-Project> ls app/ Dockerfile* README.md* requirements.txt* venv/ elliott@elliott-pc ~/m/p/5609-Final-Project> now > Deploying ""~/me/projects/5609-Final-Project"" (aws) (us-west-1)  Building and bundling your app> Error! An unexpected error occurred! Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:485:15) at Function.Module._load (module.js:437:25) at Module.require (module.js:513:17) at require (internal/module.js:11:18) at Object.get static [as static] (/home/elliott/me/projects/now/out/serverless/builders/index.js:6:12) at build (/home/elliott/me/projects/now/out/serverless/build.js:4:18) at deploy (/home/elliott/me/projects/now/out/providers/aws/deploy.js:101:25) at <anonymous> Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:485:15) at Function.Module._load (module.js:437:25) at Module.require (module.js:513:17) at require (internal/module.js:11:18) at Object.get static [as static] (/home/elliott/me/projects/now/out/serverless/builders/index.js:6:12) at build (/home/elliott/me/projects/now/out/serverless/build.js:4:18) at deploy (/home/elliott/me/projects/now/out/providers/aws/deploy.js:101:25) at <anonymous> elliott@elliott-pc ~/m/p/5609-Final-Project>  _Copied from original issue: zeit/now#39_ config-file",no-bug,0.9
288,vercel,https://github.com/vercel/vercel/issues/288,static doesn't work in v4.1.2,"Looks like `serve` was bumped, but it doesn't run with the `harmony-async-await` flag.  > > serve ./content > /home/nowuser/src/node_modules/b01b4c3f7eef4ef3ac933c4c925304ca3432df6b/lib/index.js:43 > const handler = async (req, res) => { > ^ > SyntaxError: Unexpected token ( > at Object.exports.runInThisContext (vm.js:76:16) > at Module._compile (module.js:545:28) > at Module._extensions..js (module.js:582:10) > at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/2a9909022d27ed3456706e4b2e3a923934cd710e/register.js:42:5) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > at Function.Module._load (module.js:441:3) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/node_modules/b01b4c3f7eef4ef3ac933c4c925304ca3432df6b/bin/serve.js:37:1) ",documentation-file,"static doesn't work in v4.1.2 Looks like `serve` was bumped, but it doesn't run with the `harmony-async-await` flag.  > > serve ./content > /home/nowuser/src/node_modules/b01b4c3f7eef4ef3ac933c4c925304ca3432df6b/lib/index.js:43 > const handler = async (req, res) => { > ^ > SyntaxError: Unexpected token ( > at Object.exports.runInThisContext (vm.js:76:16) > at Module._compile (module.js:545:28) > at Module._extensions..js (module.js:582:10) > at Object.require.extensions.(anonymous function) [as .js] (/home/nowuser/src/node_modules/2a9909022d27ed3456706e4b2e3a923934cd710e/register.js:42:5) > at Module.load (module.js:490:32) > at tryModuleLoad (module.js:449:12) > at Function.Module._load (module.js:441:3) > at Module.require (module.js:500:17) > at require (internal/module.js:20:19) > at Object.<anonymous> (/home/nowuser/src/node_modules/b01b4c3f7eef4ef3ac933c4c925304ca3432df6b/bin/serve.js:37:1)  documentation-file",no-bug,0.9
2294,vercel,https://github.com/vercel/vercel/issues/2294,[now dev] Can't route a path that matches a file to a 404,"Here's my now.json: json { ""name"": ""now-dev-bugs"", ""version"": 2, ""builds"": [ { ""src"": ""api/*.js"", ""use"": ""@now/node"" } ], ""routes"": [ { ""src"": ""/api/secret.js"", ""status"": 404 }, { ""src"": ""/visible"", ""dest"": ""/api/secret.js"" } ] }  If you visit `localhost:3000/api/secret.js`, the function is invoked and it's output is displayed even though it is configured to 404 to make that path not work. This works as expected in production but it's broken in `now dev`. Reproduction: https://github.com/adamwathan/now-dev-bugs",source-file | source-file | source-file,"[now dev] Can't route a path that matches a file to a 404 Here's my now.json: json { ""name"": ""now-dev-bugs"", ""version"": 2, ""builds"": [ { ""src"": ""api/*.js"", ""use"": ""@now/node"" } ], ""routes"": [ { ""src"": ""/api/secret.js"", ""status"": 404 }, { ""src"": ""/visible"", ""dest"": ""/api/secret.js"" } ] }  If you visit `localhost:3000/api/secret.js`, the function is invoked and it's output is displayed even though it is configured to 404 to make that path not work. This works as expected in production but it's broken in `now dev`. Reproduction: https://github.com/adamwathan/now-dev-bugs source-file source-file source-file",no-bug,0.9
7297,vercel,https://github.com/vercel/vercel/issues/7297,[CLI] get rid of `beta` in vercel dev,It's been in beta for years. Time to get rid of it ![image](https://user-images.githubusercontent.com/933375/148801375-09d752be-ef72-4a30-9428-eede53827b16.png),source-file,[CLI] get rid of `beta` in vercel dev It's been in beta for years. Time to get rid of it ![image](https://user-images.githubusercontent.com/933375/148801375-09d752be-ef72-4a30-9428-eede53827b16.png) source-file,no-bug,0.9
3135,vercel,https://github.com/vercel/vercel/issues/3135,Color-coded terminal output from Next.js not included in 'now dev' output,"<img width=""579"" alt=""Screen Shot 2019-10-08 at 11 03 50 AM"" src=""https://user-images.githubusercontent.com/658727/66424620-cf28de00-e9c2-11e9-83b3-3199f560f210.png""> It would be really nice having the color-coded terminal output coming from Next.js included in the terminal output of `now dev`. Would make for a more easily scannable terminal and a better developer experience.",documentation-file | source-file | source-file | source-file | test-file | test-file | test-file | other-file | documentation-file | source-file | source-file | source-file | test-file | test-file | test-file | other-file,"Color-coded terminal output from Next.js not included in 'now dev' output <img width=""579"" alt=""Screen Shot 2019-10-08 at 11 03 50 AM"" src=""https://user-images.githubusercontent.com/658727/66424620-cf28de00-e9c2-11e9-83b3-3199f560f210.png""> It would be really nice having the color-coded terminal output coming from Next.js included in the terminal output of `now dev`. Would make for a more easily scannable terminal and a better developer experience. documentation-file source-file source-file source-file test-file test-file test-file other-file documentation-file source-file source-file source-file test-file test-file test-file other-file",no-bug,0.9
285,vercel,https://github.com/vercel/vercel/issues/285,"CDN, compression, caching, throttling, SSL, etc","I asked the question on Next.js' side but didn't get any luck (https://github.com/zeit/next.js/issues/985) so am asking here again I'm building a Next.js + Now (+ GraphQL etc) prototype app and recently upgraded to a paid Now account: https://github.com/relatenow/relate The initial ""advertising"" I got of using Now is that you ""just"" run `now` and that's it But of course I understand if there is still more to it than just running this one-liner to get ready for production, and steps probably need to be taken to set up these things ""in front"" of the webapp: 1. SSL 2. fast DNS resolution 3. HTTP/2 4. load-balancing 5. compression 6. CDN (don't know where are Zeit data centers, compared e.g to Cloudflare's 102 data centers) 7. caching, cache storage optimization, localStorage caching 8. accelerated mobile page links (AMP) 9. mobile image optimization 10. throttling, DDOS protection 11. WAF My understanding is that Now currently provides 1, 2, 3, 4, 5 in some form of another. It would be awesome to know: 1. where is Now currently at, what does it want to provide or not provide in the future, what's the roadmap? 2. what configuration does the user need to provide for each of these features to work, if any? 3. how performant are each of these functionalities compared to competition? (e.g DNS resolution speed, perf across different world regions) 4. what does Now recommend to use in conjunction with it, for the things it does not support? 5. Where can people go to learn to take care of the rest? Is there some better ""checklist"" than listed above? 6. Are there any examples or documentation to answer these questions or if not, could some documentation be created? Thanks! EDIT: restructured and enumerated the questions.",source-file,"CDN, compression, caching, throttling, SSL, etc I asked the question on Next.js' side but didn't get any luck (https://github.com/zeit/next.js/issues/985) so am asking here again I'm building a Next.js + Now (+ GraphQL etc) prototype app and recently upgraded to a paid Now account: https://github.com/relatenow/relate The initial ""advertising"" I got of using Now is that you ""just"" run `now` and that's it But of course I understand if there is still more to it than just running this one-liner to get ready for production, and steps probably need to be taken to set up these things ""in front"" of the webapp: 1. SSL 2. fast DNS resolution 3. HTTP/2 4. load-balancing 5. compression 6. CDN (don't know where are Zeit data centers, compared e.g to Cloudflare's 102 data centers) 7. caching, cache storage optimization, localStorage caching 8. accelerated mobile page links (AMP) 9. mobile image optimization 10. throttling, DDOS protection 11. WAF My understanding is that Now currently provides 1, 2, 3, 4, 5 in some form of another. It would be awesome to know: 1. where is Now currently at, what does it want to provide or not provide in the future, what's the roadmap? 2. what configuration does the user need to provide for each of these features to work, if any? 3. how performant are each of these functionalities compared to competition? (e.g DNS resolution speed, perf across different world regions) 4. what does Now recommend to use in conjunction with it, for the things it does not support? 5. Where can people go to learn to take care of the rest? Is there some better ""checklist"" than listed above? 6. Are there any examples or documentation to answer these questions or if not, could some documentation be created? Thanks! EDIT: restructured and enumerated the questions. source-file",no-bug,0.95
87,vercel,https://github.com/vercel/vercel/issues/87,"When build is cached, returns `undefined` for node version",![image](https://cloud.githubusercontent.com/assets/13041/16537155/fe89fdc4-3fb0-11e6-915e-f4f3f9eb7f29.png),other-file | source-file | documentation-file | documentation-file | other-file,"When build is cached, returns `undefined` for node version ![image](https://cloud.githubusercontent.com/assets/13041/16537155/fe89fdc4-3fb0-11e6-915e-f4f3f9eb7f29.png) other-file source-file documentation-file documentation-file other-file",no-bug,0.7
2987,vercel,https://github.com/vercel/vercel/issues/2987,Cannot read property 'replace' of undefined,![image](https://user-images.githubusercontent.com/6170607/64567443-872d8180-d358-11e9-9b98-7b25bcf408ee.png),source-file | documentation-file | documentation-file | source-file | test-file | documentation-file | documentation-file | other-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | documentation-file | source-file | source-file,Cannot read property 'replace' of undefined ![image](https://user-images.githubusercontent.com/6170607/64567443-872d8180-d358-11e9-9b98-7b25bcf408ee.png) source-file documentation-file documentation-file source-file test-file documentation-file documentation-file other-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file documentation-file source-file source-file,no-bug,0.7
865,vercel,https://github.com/vercel/vercel/issues/865,Static deployment with --local-config= and a manual directory causes the configuration to be uploaded,"console $ cat > now.json <<EOF { ""name"": ""my-project"", ""type"": ""static"", ""files"": [ ""out"" ] } EOF $ mkdir out $ echo 'hello' > out/index.html $ now -A `pwd`/now.json out  This deploys only the `now.json` and serves it as the index file. The long argument for local config (instead of `-A`) works the same way.",source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Static deployment with --local-config= and a manual directory causes the configuration to be uploaded console $ cat > now.json <<EOF { ""name"": ""my-project"", ""type"": ""static"", ""files"": [ ""out"" ] } EOF $ mkdir out $ echo 'hello' > out/index.html $ now -A `pwd`/now.json out  This deploys only the `now.json` and serves it as the index file. The long argument for local config (instead of `-A`) works the same way. source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
674,vercel,https://github.com/vercel/vercel/issues/674,"Add ""requiredFiles"" key to now.json","Right now, the `""files""` key in _now.json_ allows listing files that may not exist at the time of deployment, and the absence of those files seem to be quietly ignored. In certain cases, some files (e.g. configuration files) _must_ be present for the deployment to function properly, and not having them may be a waste of time for someone moving quickly. It'd be nice to have either a `""requiredFiles""` key (where all files listed must be present), or alternatively (and similarly to how _package.json_ works) make all files in `""files""` required and add an `""optionalFiles""` key. Use case: I have a repository that is meant to be cloned and then immediately deployed, but requires that _config.json.example_ be copied to _config.json_ first and manually configured prior to running `now`. It'd be nice if it failed fast if _config.json_ didn't exist (i.e. the user forgot the configuration step).",test-file,"Add ""requiredFiles"" key to now.json Right now, the `""files""` key in _now.json_ allows listing files that may not exist at the time of deployment, and the absence of those files seem to be quietly ignored. In certain cases, some files (e.g. configuration files) _must_ be present for the deployment to function properly, and not having them may be a waste of time for someone moving quickly. It'd be nice to have either a `""requiredFiles""` key (where all files listed must be present), or alternatively (and similarly to how _package.json_ works) make all files in `""files""` required and add an `""optionalFiles""` key. Use case: I have a repository that is meant to be cloned and then immediately deployed, but requires that _config.json.example_ be copied to _config.json_ first and manually configured prior to running `now`. It'd be nice if it failed fast if _config.json_ didn't exist (i.e. the user forgot the configuration step). test-file",no-bug,0.9
7731,vercel,https://github.com/vercel/vercel/issues/7731,[Monorepo Detection] Add workspace-managers.ts,"This file will mimic the structure of `vercel/frameworks/frameworks.ts` in the sense that it defines the list of supported workspace managers. These are the ones were targeting for the initial launch, * Yarnv1 * NPM * PNPM",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"[Monorepo Detection] Add workspace-managers.ts This file will mimic the structure of `vercel/frameworks/frameworks.ts` in the sense that it defines the list of supported workspace managers. These are the ones were targeting for the initial launch, * Yarnv1 * NPM * PNPM source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.9
92,vercel,https://github.com/vercel/vercel/issues/92,Make XO happy,"Let's make the project comply to [these rules](https://github.com/zeit/now/blob/master/package.json#L44) (so that we can stop overriding them): - [ ] import/no-unassigned-import - [ ] import/no-dynamic-require - [ ] max-depth - [ ] no-use-before-define - [ ] complexity - [ ] no-control-regex When opening a PR for one of these, please call it: > ""Comply to rule ""max-depth""",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | documentation-file | test-file | test-file | source-file,"Make XO happy Let's make the project comply to [these rules](https://github.com/zeit/now/blob/master/package.json#L44) (so that we can stop overriding them): - [ ] import/no-unassigned-import - [ ] import/no-dynamic-require - [ ] max-depth - [ ] no-use-before-define - [ ] complexity - [ ] no-control-regex When opening a PR for one of these, please call it: > ""Comply to rule ""max-depth"" source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file documentation-file test-file test-file source-file",no-bug,0.95
2940,vercel,https://github.com/vercel/vercel/issues/2940,now update still show under help,"When running `now --help`, `now update` is still shown as a possible command: ![image](https://user-images.githubusercontent.com/26944716/64131987-3819a680-cdc4-11e9-86ea-d93a5518960b.png) This should be removed as `now update` has been deprecated.",source-file | source-file | source-file,"now update still show under help When running `now --help`, `now update` is still shown as a possible command: ![image](https://user-images.githubusercontent.com/26944716/64131987-3819a680-cdc4-11e9-86ea-d93a5518960b.png) This should be removed as `now update` has been deprecated. source-file source-file source-file",no-bug,0.9
1622,vercel,https://github.com/vercel/vercel/issues/1622,Can you reduce the number of retries?,"Currently the number of retries for the download that kicks off on post-install if really high. Can you reduce this to a smaller number? Currently, in CI network jailed environment, it takes forever to fail the installation and to unsuspecting users, it looks like their build has hung. By default `async-retry` uses a value of 10, is there a specific reason you've set it to 500? https://github.com/zeit/now-cli/blob/39fffe6874e5e2fbd5887150bb8601d060066709/download/src/index.js#L136",source-file | source-file | source-file,"Can you reduce the number of retries? Currently the number of retries for the download that kicks off on post-install if really high. Can you reduce this to a smaller number? Currently, in CI network jailed environment, it takes forever to fail the installation and to unsuspecting users, it looks like their build has hung. By default `async-retry` uses a value of 10, is there a specific reason you've set it to 500? https://github.com/zeit/now-cli/blob/39fffe6874e5e2fbd5887150bb8601d060066709/download/src/index.js#L136 source-file source-file source-file",no-bug,0.9
764,vercel,https://github.com/vercel/vercel/issues/764,Error: Cannot find module './static',"_From @rkrueger11 on August 11, 2017 0:36_ When attempting to deploy a static site (Next export), I get the following error:  ~/x/out (master|2) $ now 6 changed files master > Deploying ""~/xyz/out"" (gcp) (us-central1)  Building and bundling your app> Error! An unexpected error occurred! Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:489:15) at Function.Module._load (module.js:439:25) at Module.require (module.js:517:17) at require (internal/module.js:11:18) at Object.get static [as static] (/usr/local/lib/node_modules/now/out/serverless/builders/index.js:6:12) at build (/usr/local/lib/node_modules/now/out/serverless/build.js:4:23) at Object.deploy (/usr/local/lib/node_modules/now/out/providers/gcp/deploy.js:89:25) at <anonymous> Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:489:15) at Function.Module._load (module.js:439:25) at Module.require (module.js:517:17) at require (internal/module.js:11:18) at Object.get static [as static] (/usr/local/lib/node_modules/now/out/serverless/builders/index.js:6:12) at build (/usr/local/lib/node_modules/now/out/serverless/build.js:4:23) at Object.deploy (/usr/local/lib/node_modules/now/out/providers/gcp/deploy.js:89:25) at <anonymous>  Building and bundling your app^C  and it never actually builds or bundles. _Copied from original issue: zeit/now#49_",source-file,"Error: Cannot find module './static' _From @rkrueger11 on August 11, 2017 0:36_ When attempting to deploy a static site (Next export), I get the following error:  ~/x/out (master|2) $ now 6 changed files master > Deploying ""~/xyz/out"" (gcp) (us-central1)  Building and bundling your app> Error! An unexpected error occurred! Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:489:15) at Function.Module._load (module.js:439:25) at Module.require (module.js:517:17) at require (internal/module.js:11:18) at Object.get static [as static] (/usr/local/lib/node_modules/now/out/serverless/builders/index.js:6:12) at build (/usr/local/lib/node_modules/now/out/serverless/build.js:4:23) at Object.deploy (/usr/local/lib/node_modules/now/out/providers/gcp/deploy.js:89:25) at <anonymous> Error: Cannot find module './static' at Function.Module._resolveFilename (module.js:489:15) at Function.Module._load (module.js:439:25) at Module.require (module.js:517:17) at require (internal/module.js:11:18) at Object.get static [as static] (/usr/local/lib/node_modules/now/out/serverless/builders/index.js:6:12) at build (/usr/local/lib/node_modules/now/out/serverless/build.js:4:23) at Object.deploy (/usr/local/lib/node_modules/now/out/providers/gcp/deploy.js:89:25) at <anonymous>  Building and bundling your app^C  and it never actually builds or bundles. _Copied from original issue: zeit/now#49_ source-file",no-bug,0.9
147,vercel,https://github.com/vercel/vercel/issues/147,Error when creating alias - Unknown error: TypeError: Cannot read property 'created' of undefined,"I've updated to 0.31.0 and am trying to alias my deployment. I get to the cert stage and then kaput! Here's the tapestry of failure:  > my.alias.name is a custom domain. > Verifying the DNS settings for my.alias.name (see https://zeit.world for help) > [debug] #1 GET /whois-ns: 754ms > [debug] Found domain alias.name and nameservers dns1.registrar-servers.com,dns2.registrar-servers.com > [debug] No records found for ""my.alias.name"" > [debug] Trying to register a non-ZeitWorld domain .alias.name for the current user > [debug] #1 POST /domains: 653ms > [debug] Domain already exists (noop) > Verification OK! > [debug] closing agent > [debug] /now/deployments/dEpLoYmENtID/aliases #1: 1230ms > Provisioning certificate for my.alias.name > [debug] /now/certs #1: 9358ms > Error! Unknown error: TypeError: Cannot read property 'created' of undefined at Alias._callee5$ (C:\Users\My\AppData\Roaming\npm\node_modules\now\build\lib\alias.js:470:32) at tryCatch (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\regenerator-runtime\runtime.js:63:40) at GeneratorFunctionPrototype.invoke [as _invoke] (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\regenerator-runtime\runtime.js:337:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\regenerator-runtime\runtime.js:96:21) at step (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\helpers\asyncToGenerator.js:17:30) at C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\helpers\asyncToGenerator.js:28:13 at run (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\node_modules\core-js\library\modules\es6.promise.js:87:22) at C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\node_modules\core-js\library\modules\es6.promise.js:100:28 at flush (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\node_modules\core-js\library\modules\_microtask.js:18:9) at nextTickCallbackWith0Args (node.js:415:9) ",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,"Error when creating alias - Unknown error: TypeError: Cannot read property 'created' of undefined I've updated to 0.31.0 and am trying to alias my deployment. I get to the cert stage and then kaput! Here's the tapestry of failure:  > my.alias.name is a custom domain. > Verifying the DNS settings for my.alias.name (see https://zeit.world for help) > [debug] #1 GET /whois-ns: 754ms > [debug] Found domain alias.name and nameservers dns1.registrar-servers.com,dns2.registrar-servers.com > [debug] No records found for ""my.alias.name"" > [debug] Trying to register a non-ZeitWorld domain .alias.name for the current user > [debug] #1 POST /domains: 653ms > [debug] Domain already exists (noop) > Verification OK! > [debug] closing agent > [debug] /now/deployments/dEpLoYmENtID/aliases #1: 1230ms > Provisioning certificate for my.alias.name > [debug] /now/certs #1: 9358ms > Error! Unknown error: TypeError: Cannot read property 'created' of undefined at Alias._callee5$ (C:\Users\My\AppData\Roaming\npm\node_modules\now\build\lib\alias.js:470:32) at tryCatch (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\regenerator-runtime\runtime.js:63:40) at GeneratorFunctionPrototype.invoke [as _invoke] (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\regenerator-runtime\runtime.js:337:22) at GeneratorFunctionPrototype.prototype.(anonymous function) [as next] (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\regenerator-runtime\runtime.js:96:21) at step (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\helpers\asyncToGenerator.js:17:30) at C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\helpers\asyncToGenerator.js:28:13 at run (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\node_modules\core-js\library\modules\es6.promise.js:87:22) at C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\node_modules\core-js\library\modules\es6.promise.js:100:28 at flush (C:\Users\My\AppData\Roaming\npm\node_modules\now\node_modules\babel-runtime\node_modules\core-js\library\modules\_microtask.js:18:9) at nextTickCallbackWith0Args (node.js:415:9)  documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file",no-bug,0.9
705,vercel,https://github.com/vercel/vercel/issues/705,"Needs `--public` flag even when configuration has ""public"": true","In my configuration file, I have `""public"": true` defined. However, now-cli still errors to confirm if I want to deploy publicly as I am on the OSS plan. IMO, defaulting to the configured option seems like a better way of handling this.",documentation-file | source-file | source-file | source-file | source-file | test-file | other-file,"Needs `--public` flag even when configuration has ""public"": true In my configuration file, I have `""public"": true` defined. However, now-cli still errors to confirm if I want to deploy publicly as I am on the OSS plan. IMO, defaulting to the configured option seems like a better way of handling this. documentation-file source-file source-file source-file source-file test-file other-file",no-bug,0.8
2139,vercel,https://github.com/vercel/vercel/issues/2139,`now teams invite` --scope not working,"When `now teams invite` is used, it will invite guest into the default scope even with --scope [slug] passed as a parameter. My default team is *BBI* (I did got the team slug wrong initially): ![image](https://user-images.githubusercontent.com/179761/55998052-3d7c3480-5cef-11e9-9219-3edc9dc4bfce.png) If I switched to my personal account as scope: ![image](https://user-images.githubusercontent.com/179761/55998081-5be23000-5cef-11e9-8796-65487d2262bb.png) What should have happend: 1. if used with --scope [slug], and [slug] is not defined, return error 2. if used with --scope [slug], and [slug] is a user, return error 3. if used with --scope [slug], and [slug] is a team, invite!",source-file | source-file | source-file,"`now teams invite` --scope not working When `now teams invite` is used, it will invite guest into the default scope even with --scope [slug] passed as a parameter. My default team is *BBI* (I did got the team slug wrong initially): ![image](https://user-images.githubusercontent.com/179761/55998052-3d7c3480-5cef-11e9-9219-3edc9dc4bfce.png) If I switched to my personal account as scope: ![image](https://user-images.githubusercontent.com/179761/55998081-5be23000-5cef-11e9-8796-65487d2262bb.png) What should have happend: 1. if used with --scope [slug], and [slug] is not defined, return error 2. if used with --scope [slug], and [slug] is a user, return error 3. if used with --scope [slug], and [slug] is a team, invite! source-file source-file source-file",no-bug,0.8
411,vercel,https://github.com/vercel/vercel/issues/411,DNS verification OK even when DNS record missing,"The now CLI won't complain even if the DNS records are completely empty (tested with CloudFlare DNS). I'd expect it complain if the DNS can't resolve the concerned domain. <img width=""958"" alt=""screen shot 2017-04-01 at 16 43 39"" src=""https://cloud.githubusercontent.com/assets/4217871/24579255/67b2dfe8-16fa-11e7-8ad8-b2b673eb84d2.png"">  $ now alias my.domain -r rules.json > my.domain is a custom domain. > Verifying the DNS settings for my.domain (see https://zeit.world for help) > Verification OK! ",documentation-file | documentation-file | test-file | test-file | other-file,"DNS verification OK even when DNS record missing The now CLI won't complain even if the DNS records are completely empty (tested with CloudFlare DNS). I'd expect it complain if the DNS can't resolve the concerned domain. <img width=""958"" alt=""screen shot 2017-04-01 at 16 43 39"" src=""https://cloud.githubusercontent.com/assets/4217871/24579255/67b2dfe8-16fa-11e7-8ad8-b2b673eb84d2.png"">  $ now alias my.domain -r rules.json > my.domain is a custom domain. > Verifying the DNS settings for my.domain (see https://zeit.world for help) > Verification OK!  documentation-file documentation-file test-file test-file other-file",no-bug,0.9
765,vercel,https://github.com/vercel/vercel/issues/765,Secret being set incorrectly,"_From @captDaylight on August 8, 2017 14:6_ setting a secret with: `now secrets add email_pass ""u5wV@#om$cLwAZC&mmlB3*2ly&Mm8bkv@54JOZ4N""` is getting the secret passed to my app as: `u5wV@#om&mmlB3*2ly&Mm8bkv@54JOZ4N` I'll put them one on top of each other to inspect them easier, first the original and then the output.  u5wV@#om$cLwAZC&mmlB3*2ly&Mm8bkv@54JOZ4N u5wV@#om&mmlB3*2ly&Mm8bkv@54JOZ4N  I fixed this by changing the value to only numbers and letters, but I imagine this is unexpected behavior. _Copied from original issue: zeit/now#45_",documentation-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | other-file,"Secret being set incorrectly _From @captDaylight on August 8, 2017 14:6_ setting a secret with: `now secrets add email_pass ""u5wV@#om$cLwAZC&mmlB3*2ly&Mm8bkv@54JOZ4N""` is getting the secret passed to my app as: `u5wV@#om&mmlB3*2ly&Mm8bkv@54JOZ4N` I'll put them one on top of each other to inspect them easier, first the original and then the output.  u5wV@#om$cLwAZC&mmlB3*2ly&Mm8bkv@54JOZ4N u5wV@#om&mmlB3*2ly&Mm8bkv@54JOZ4N  I fixed this by changing the value to only numbers and letters, but I imagine this is unexpected behavior. _Copied from original issue: zeit/now#45_ documentation-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file other-file",no-bug,0.8
403,vercel,https://github.com/vercel/vercel/issues/403,now with xargs immediately exits,"To tidy up old unused deployments, I run a custom script called `now-no-alias` and I pluck the `uid` and `now rm` them. The workflow is:  $ now-no-alias | json -a uid | xargs now rm  This used to work, and it would prompt me with `[Y/n]` to remove the deployments. Except, now it doesn't. When I run it through a pipe from `xargs` it exits (success) without doing anything: <img width=""763"" alt=""screen shot 2017-03-25 at 14 14 24"" src=""https://cloud.githubusercontent.com/assets/13700/24322969/a1fc175e-1165-11e7-836f-7e7366bbac1d.png""> I'd love to see this fixed againthough I've no idea what `now` is looking for to make this fail the way it is.",test-file | test-file,"now with xargs immediately exits To tidy up old unused deployments, I run a custom script called `now-no-alias` and I pluck the `uid` and `now rm` them. The workflow is:  $ now-no-alias | json -a uid | xargs now rm  This used to work, and it would prompt me with `[Y/n]` to remove the deployments. Except, now it doesn't. When I run it through a pipe from `xargs` it exits (success) without doing anything: <img width=""763"" alt=""screen shot 2017-03-25 at 14 14 24"" src=""https://cloud.githubusercontent.com/assets/13700/24322969/a1fc175e-1165-11e7-836f-7e7366bbac1d.png""> I'd love to see this fixed againthough I've no idea what `now` is looking for to make this fail the way it is. test-file test-file",no-bug,0.9
842,vercel,https://github.com/vercel/vercel/issues/842,now aws deploy fails with EPIPE error,I have tried to deploy a nuxt and an adonisjs app to aws. Both fail with the following error: (and both work fine with now itself)  Error: write EPIPE at exports._errnoException (util.js:1050:11) at Socket._writeGeneric (net.js:725:26) at Socket._write (net.js:744:8) at doWrite (_stream_writable.js:329:12) at writeOrBuffer (_stream_writable.js:315:5) at Socket.Writable.write (_stream_writable.js:241:11) at Socket.write (net.js:671:40) at Socket.Writable.end (_stream_writable.js:475:10) at Socket.end (net.js:441:31) at handleInput (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:62:17) at module.exports (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:247:2) at Object.copy (C:\snapshot\now-cli\node_modules\clipboardy\lib\windows.js:10:16) at exports.write.input (C:\snapshot\now-cli\node_modules\clipboardy\index.js:28:20) at copyToClipboard (C:\snapshot\now-cli\dist\now.js:9058:13) at deploy (C:\snapshot\now-cli\dist\now.js:11994:18) at process._tickDomainCallback (internal/process/next_tick.js:135:7) Error: write EPIPE at exports._errnoException (util.js:1050:11) at Socket._writeGeneric (net.js:725:26) at Socket._write (net.js:744:8) at doWrite (_stream_writable.js:329:12) at writeOrBuffer (_stream_writable.js:315:5) at Socket.Writable.write (_stream_writable.js:241:11) at Socket.write (net.js:671:40) at Socket.Writable.end (_stream_writable.js:475:10) at Socket.end (net.js:441:31) at handleInput (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:62:17) at module.exports (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:247:2) at Object.copy (C:\snapshot\now-cli\node_modules\clipboardy\lib\windows.js:10:16) at exports.write.input (C:\snapshot\now-cli\node_modules\clipboardy\index.js:28:20) at copyToClipboard (C:\snapshot\now-cli\dist\now.js:9058:13) at deploy (C:\snapshot\now-cli\dist\now.js:11994:18) at process._tickDomainCallback (internal/process/next_tick.js:135:7)  When I run the deployed lambda function I get:  Error: Could not establish a connection to the http server at Socket.retry (/var/task/__now_handler.js:77:15) at emitOne (events.js:96:13) at Socket.emit (events.js:188:7) at emitErrorNT (net.js:1277:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickDomainCallback (internal/process/next_tick.js:128:9) ,source-file | test-file,now aws deploy fails with EPIPE error I have tried to deploy a nuxt and an adonisjs app to aws. Both fail with the following error: (and both work fine with now itself)  Error: write EPIPE at exports._errnoException (util.js:1050:11) at Socket._writeGeneric (net.js:725:26) at Socket._write (net.js:744:8) at doWrite (_stream_writable.js:329:12) at writeOrBuffer (_stream_writable.js:315:5) at Socket.Writable.write (_stream_writable.js:241:11) at Socket.write (net.js:671:40) at Socket.Writable.end (_stream_writable.js:475:10) at Socket.end (net.js:441:31) at handleInput (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:62:17) at module.exports (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:247:2) at Object.copy (C:\snapshot\now-cli\node_modules\clipboardy\lib\windows.js:10:16) at exports.write.input (C:\snapshot\now-cli\node_modules\clipboardy\index.js:28:20) at copyToClipboard (C:\snapshot\now-cli\dist\now.js:9058:13) at deploy (C:\snapshot\now-cli\dist\now.js:11994:18) at process._tickDomainCallback (internal/process/next_tick.js:135:7) Error: write EPIPE at exports._errnoException (util.js:1050:11) at Socket._writeGeneric (net.js:725:26) at Socket._write (net.js:744:8) at doWrite (_stream_writable.js:329:12) at writeOrBuffer (_stream_writable.js:315:5) at Socket.Writable.write (_stream_writable.js:241:11) at Socket.write (net.js:671:40) at Socket.Writable.end (_stream_writable.js:475:10) at Socket.end (net.js:441:31) at handleInput (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:62:17) at module.exports (C:\snapshot\now-cli\node_modules\clipboardy\node_modules\execa\index.js:247:2) at Object.copy (C:\snapshot\now-cli\node_modules\clipboardy\lib\windows.js:10:16) at exports.write.input (C:\snapshot\now-cli\node_modules\clipboardy\index.js:28:20) at copyToClipboard (C:\snapshot\now-cli\dist\now.js:9058:13) at deploy (C:\snapshot\now-cli\dist\now.js:11994:18) at process._tickDomainCallback (internal/process/next_tick.js:135:7)  When I run the deployed lambda function I get:  Error: Could not establish a connection to the http server at Socket.retry (/var/task/__now_handler.js:77:15) at emitOne (events.js:96:13) at Socket.emit (events.js:188:7) at emitErrorNT (net.js:1277:8) at _combinedTickCallback (internal/process/next_tick.js:80:11) at process._tickDomainCallback (internal/process/next_tick.js:128:9)  source-file test-file,no-bug,0.9
528,vercel,https://github.com/vercel/vercel/issues/528,`now domains add --force` is not skipping the verifications,"  now domains add -f cadmill.com.au > Error! Unknown error: Error: verification failed, retrying Error: verification failed, retrying at Domains.<anonymous> (/Users/rudi/.config/yarn/global/node_modules/now/build/lib/index.js:689:33) at next (native) at c (/Users/rudi/.config/yarn/global/node_modules/now/build/lib/index.js:983:99) at process._tickCallback (internal/process/next_tick.js:103:7)  Via @ryardley on [zeit.chat](https://zeit.chat)",source-file,"`now domains add --force` is not skipping the verifications   now domains add -f cadmill.com.au > Error! Unknown error: Error: verification failed, retrying Error: verification failed, retrying at Domains.<anonymous> (/Users/rudi/.config/yarn/global/node_modules/now/build/lib/index.js:689:33) at next (native) at c (/Users/rudi/.config/yarn/global/node_modules/now/build/lib/index.js:983:99) at process._tickCallback (internal/process/next_tick.js:103:7)  Via @ryardley on [zeit.chat](https://zeit.chat) source-file",no-bug,0.8
266,vercel,https://github.com/vercel/vercel/issues/266,"now-cli doesn't seem to check ""now"" field of package.json for deployment preference (npm vs dockerfile)","my package.json json { ""name"": ""now-test"", ""version"": ""0.0.0"", ""private"": true, ""engines"": { ""node"": "">= 7.4.0"" }, ""dependencies"": {  }, ""now"": { ""name"": ""fanflow"", ""aliases"": [ ""fanflow.now.sh"", ""www.fanflow.now.sh"" ], ""env"": { ""NODE_ENV"": ""production"" }, ""type"": ""npm"", ""engines"": { ""node"": "">= 7.4.0"" }, ""files"": [ "".env"", "".env.example"", ""./scripts/*"", ""./build/*"", ""./assets/**/*"" ] } }  CLI prompt: sh ~/Code/now-test [master] now -v now 4.0.0 ~/Code/now-test [master] now > Deploying ~/Code/now-test > Two manifests found. Press [n] to deploy or re-run with --flag > [1] package.json --npm > [2] Dockerfile --docker > Error! Aborted ",source-file | source-file | source-file | source-file | documentation-file,"now-cli doesn't seem to check ""now"" field of package.json for deployment preference (npm vs dockerfile) my package.json json { ""name"": ""now-test"", ""version"": ""0.0.0"", ""private"": true, ""engines"": { ""node"": "">= 7.4.0"" }, ""dependencies"": {  }, ""now"": { ""name"": ""fanflow"", ""aliases"": [ ""fanflow.now.sh"", ""www.fanflow.now.sh"" ], ""env"": { ""NODE_ENV"": ""production"" }, ""type"": ""npm"", ""engines"": { ""node"": "">= 7.4.0"" }, ""files"": [ "".env"", "".env.example"", ""./scripts/*"", ""./build/*"", ""./assets/**/*"" ] } }  CLI prompt: sh ~/Code/now-test [master] now -v now 4.0.0 ~/Code/now-test [master] now > Deploying ~/Code/now-test > Two manifests found. Press [n] to deploy or re-run with --flag > [1] package.json --npm > [2] Dockerfile --docker > Error! Aborted  source-file source-file source-file source-file documentation-file",no-bug,0.8
29,vercel,https://github.com/vercel/vercel/issues/29,License missing (+ license field in package.json),"Is MIT okay, @rauchg (legally)?",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file,"License missing (+ license field in package.json) Is MIT okay, @rauchg (legally)? source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file documentation-file",no-bug,0.9
793,vercel,https://github.com/vercel/vercel/issues/793,Unlimited hosting? How do you support this?,"The docs say > ## Unlimited > > Every time you run `now`, you get a fresh URL that represents the current state of your application. > > - No need to remove old ones > - No setup of applications or projects > - URLs stay around forever  How can this be sustained? For example, what if I'm new to programming, a friend shows me how to write a Node program, then every time I want to test it I just run `now`? Suppose I run `now` every minute to generate a new URL? After a few days, I may have published hundreds of deployments just to test an app, because it was easy. How is this sustained? Is it because a ""sleep"" mode deactivates the actual app after a time of no activity, so that runtime resources are not consumed? But there's still disk space required to store every deployment's source. After a while, developing locally and publishing hundreds of test deployments, I may have used a TON of your disk space. You guys are totally okay with this as long as my stuff is OSS, just using infinite disk space?",source-file | test-file | test-file,"Unlimited hosting? How do you support this? The docs say > ## Unlimited > > Every time you run `now`, you get a fresh URL that represents the current state of your application. > > - No need to remove old ones > - No setup of applications or projects > - URLs stay around forever  How can this be sustained? For example, what if I'm new to programming, a friend shows me how to write a Node program, then every time I want to test it I just run `now`? Suppose I run `now` every minute to generate a new URL? After a few days, I may have published hundreds of deployments just to test an app, because it was easy. How is this sustained? Is it because a ""sleep"" mode deactivates the actual app after a time of no activity, so that runtime resources are not consumed? But there's still disk space required to store every deployment's source. After a while, developing locally and publishing hundreds of test deployments, I may have used a TON of your disk space. You guys are totally okay with this as long as my stuff is OSS, just using infinite disk space? source-file test-file test-file",no-bug,0.9
582,vercel,https://github.com/vercel/vercel/issues/582,now list has formatting issues on Windows,Title says it all pretty much. The issue is with the `inst` column. I see it in both Powershell and CMD. Screen shots: ![image](https://cloud.githubusercontent.com/assets/393660/26458038/c94267a8-4137-11e7-831a-8e9f7fe8fc8f.png) ![image](https://cloud.githubusercontent.com/assets/393660/26458058/d788a390-4137-11e7-9ce7-b177d5131cf8.png),source-file | documentation-file | source-file | documentation-file | test-file | other-file,now list has formatting issues on Windows Title says it all pretty much. The issue is with the `inst` column. I see it in both Powershell and CMD. Screen shots: ![image](https://cloud.githubusercontent.com/assets/393660/26458038/c94267a8-4137-11e7-831a-8e9f7fe8fc8f.png) ![image](https://cloud.githubusercontent.com/assets/393660/26458058/d788a390-4137-11e7-9ce7-b177d5131cf8.png) source-file documentation-file source-file documentation-file test-file other-file,no-bug,0.9
707,vercel,https://github.com/vercel/vercel/issues/707,how to clear the log console,"Is there a command to clear the log console directly from the CLI (or from the online dashboard), in order to lighten the weight for my OSS project?",source-file,"how to clear the log console Is there a command to clear the log console directly from the CLI (or from the online dashboard), in order to lighten the weight for my OSS project? source-file",no-bug,0.95
2148,vercel,https://github.com/vercel/vercel/issues/2148,`now dev` is not respecting methods of routes,"## Issue When sending a `GET` request to `localhost:3000/api/users/14` it returns with the response from the `DELETE` method. It does not appear that `now dev` is respecting methods on the route. Similarly, if a `POST` request is made to `localhost:3000/api/status`, it is accepted, even though it is not a valid method.  { ""version"": 2, ""name"": ""now-dev-issue"", ""builds"": [ { ""src"": ""www/package.json"", ""use"": ""@now/static-build"" }, { ""src"": ""api/*/*.js"", ""use"": ""@now/node@canary"" } ], ""routes"": [ { ""src"": ""/api/status"", ""methods"": [""GET""], ""dest"": ""/api/status/list.js"" }, { ""src"": ""/api/users"", ""methods"": [""POST""], ""dest"": ""/api/users/create.js"" }, { ""src"": ""/api/users/(?<id>[^/]+)"", ""methods"": [""DELETE""], ""dest"": ""/api/users/delete.js?id=$id"" }, { ""src"": ""/api/users/(?<id>[^/]+)"", ""methods"": [""GET""], ""dest"": ""/api/users/get.js?id=$id"" }, { ""src"": ""/api/users/(?<id>[^/]+)"", ""methods"": [""PUT""], ""dest"": ""/api/users/update.js?id=$id"" }, { ""src"": ""/(.*)"", ""dest"": ""/www/$1"" } ] }  ## Sample Branch https://github.com/khrome83/now-dev-issue",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"`now dev` is not respecting methods of routes ## Issue When sending a `GET` request to `localhost:3000/api/users/14` it returns with the response from the `DELETE` method. It does not appear that `now dev` is respecting methods on the route. Similarly, if a `POST` request is made to `localhost:3000/api/status`, it is accepted, even though it is not a valid method.  { ""version"": 2, ""name"": ""now-dev-issue"", ""builds"": [ { ""src"": ""www/package.json"", ""use"": ""@now/static-build"" }, { ""src"": ""api/*/*.js"", ""use"": ""@now/node@canary"" } ], ""routes"": [ { ""src"": ""/api/status"", ""methods"": [""GET""], ""dest"": ""/api/status/list.js"" }, { ""src"": ""/api/users"", ""methods"": [""POST""], ""dest"": ""/api/users/create.js"" }, { ""src"": ""/api/users/(?<id>[^/]+)"", ""methods"": [""DELETE""], ""dest"": ""/api/users/delete.js?id=$id"" }, { ""src"": ""/api/users/(?<id>[^/]+)"", ""methods"": [""GET""], ""dest"": ""/api/users/get.js?id=$id"" }, { ""src"": ""/api/users/(?<id>[^/]+)"", ""methods"": [""PUT""], ""dest"": ""/api/users/update.js?id=$id"" }, { ""src"": ""/(.*)"", ""dest"": ""/www/$1"" } ] }  ## Sample Branch https://github.com/khrome83/now-dev-issue source-file source-file test-file source-file source-file test-file source-file source-file test-file",bug,0.95
