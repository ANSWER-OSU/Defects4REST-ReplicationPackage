issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence
6498,awx,https://github.com/ansible/awx/issues/6498,504 timeouts when fetching job_events for a running job,"##### ISSUE TYPE - Bug Report ##### SUMMARY Having issues with 504 timeouts on `job_events` APIs for a given host when a job is running, e.g. `api/v2/hosts/1/job_events/`. Maybe due to deadlocks? **EDIT**: We redeployed `awx_web` to see if we could make the APIs work again, still 504 timeout on every `api/v2/hosts/1/job_events/` request. Something is very wrong here. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: openshift manual deployment * Ansible version: 2.9.5 * Operating System: Official AWX images * Web Browser: Firefox, postman, Python's `request.get()` (from both a Linux and Mac client) ##### STEPS TO REPRODUCE 1. Start a task that takes long time to finish (Our task is a task that writes hundreds of commands on a device and takes about 8 minutes to finish) 2. Fetch job events API while task is running 3. 504 timeouts on that API even after the job is done for a loong time. (It did start responding again earlier, but now I've waited 10 minutes and still no response from the API). It's important to note that when this occurs we get sporadic 504's on other endpoints too, but I believe this may happen due to sync workers and not enough of them. ##### EXPECTED RESULTS Being able to fetch `job_events` when a task is running. ##### ACTUAL RESULTS Timeout on `job_events`. ##### ADDITIONAL INFORMATION We found #6108 and disabled external logging to Logstash, but don't seem like the issue was solved. The timeout is happening due to OpenShift cutting the connection (499), but the request should never take more than 30 seconds anyway: ![image](https://user-images.githubusercontent.com/5310116/78008928-926dec00-7340-11ea-82e8-877aedbe2b17.png)",source-file,"504 timeouts when fetching job_events for a running job ##### ISSUE TYPE - Bug Report ##### SUMMARY Having issues with 504 timeouts on `job_events` APIs for a given host when a job is running, e.g. `api/v2/hosts/1/job_events/`. Maybe due to deadlocks? **EDIT**: We redeployed `awx_web` to see if we could make the APIs work again, still 504 timeout on every `api/v2/hosts/1/job_events/` request. Something is very wrong here. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: openshift manual deployment * Ansible version: 2.9.5 * Operating System: Official AWX images * Web Browser: Firefox, postman, Python's `request.get()` (from both a Linux and Mac client) ##### STEPS TO REPRODUCE 1. Start a task that takes long time to finish (Our task is a task that writes hundreds of commands on a device and takes about 8 minutes to finish) 2. Fetch job events API while task is running 3. 504 timeouts on that API even after the job is done for a loong time. (It did start responding again earlier, but now I've waited 10 minutes and still no response from the API). It's important to note that when this occurs we get sporadic 504's on other endpoints too, but I believe this may happen due to sync workers and not enough of them. ##### EXPECTED RESULTS Being able to fetch `job_events` when a task is running. ##### ACTUAL RESULTS Timeout on `job_events`. ##### ADDITIONAL INFORMATION We found #6108 and disabled external logging to Logstash, but don't seem like the issue was solved. The timeout is happening due to OpenShift cutting the connection (499), but the request should never take more than 30 seconds anyway: ![image](https://user-images.githubusercontent.com/5310116/78008928-926dec00-7340-11ea-82e8-877aedbe2b17.png) source-file",bug,0.9
6126,awx,https://github.com/ansible/awx/issues/6126,Organization Look up refactor,##### ISSUE TYPE -bug ##### SUMMARY OrganizationLookup throws error ##### ENVIRONMENT * AWX version: 2.9 * AWX install method: docker for mac * Ansible version: 9.2 * Operating System:Mojave * Web Browser:Chrome ##### STEPS TO REPRODUCE Go to WFJTDetails (when https://github.com/ansible/awx/pull/5841 merges) and click edit. ##### EXPECTED RESULTS Expect the edit form to load with no errors in the console. ##### ACTUAL RESULTS See error: can't update state on unmounted component. The error is inconsistent but @keithjgrant and I have both seen it. ##### ADDITIONAL INFORMATION I expect that install the useRequest hook onto the OrganizationLookup component with solve this problem.,source-file | source-file | test-file | test-file,Organization Look up refactor ##### ISSUE TYPE -bug ##### SUMMARY OrganizationLookup throws error ##### ENVIRONMENT * AWX version: 2.9 * AWX install method: docker for mac * Ansible version: 9.2 * Operating System:Mojave * Web Browser:Chrome ##### STEPS TO REPRODUCE Go to WFJTDetails (when https://github.com/ansible/awx/pull/5841 merges) and click edit. ##### EXPECTED RESULTS Expect the edit form to load with no errors in the console. ##### ACTUAL RESULTS See error: can't update state on unmounted component. The error is inconsistent but @keithjgrant and I have both seen it. ##### ADDITIONAL INFORMATION I expect that install the useRequest hook onto the OrganizationLookup component with solve this problem. source-file source-file test-file test-file,no-bug,0.9
5067,awx,https://github.com/ansible/awx/issues/5067,Add edit button to Template list rows,##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit),source-file,Add edit button to Template list rows ##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit) source-file,no-bug,0.9
8190,awx,https://github.com/ansible/awx/issues/8190,Add access view for Execution Environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add access view for Execution Environments. See: https://tower-mockups.testing.ansible.com/patternfly/exec-env/exec-env-detail/,other-file | other-file,Add access view for Execution Environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add access view for Execution Environments. See: https://tower-mockups.testing.ansible.com/patternfly/exec-env/exec-env-detail/ other-file other-file,no-bug,0.9
11770,awx,https://github.com/ansible/awx/issues/11770,Notification Template View for a Job Template Admin,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary An error occurs when trying to access a notification related to a job template while logged in as a system auditor with job template admin rights ### AWX version devel ### Select the relevant components - [x] UI - [ ] API - [ ] Docs ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. As a system admin, create a system auditor user 2. Create a job template and in the roles tab give the auditor user admin rights to the job template 3. Navigate to the notifications tab of the job template and create a notification 4. Logout and login as the auditor user (that has job template admin rights) 5. Navigate to the job template that you have admin rights to 6. Navigate to the notifications tab of that job template 7. Click on the notification and you should see the following error: ![image (5)](https://user-images.githubusercontent.com/37008228/154548878-7dfb45e4-992a-431b-ba45-7dc10c680e33.png) ### Expected results See the details of the notification related to the job template ### Actual results Error appears on the page ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file,"Notification Template View for a Job Template Admin ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary An error occurs when trying to access a notification related to a job template while logged in as a system auditor with job template admin rights ### AWX version devel ### Select the relevant components - [x] UI - [ ] API - [ ] Docs ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. As a system admin, create a system auditor user 2. Create a job template and in the roles tab give the auditor user admin rights to the job template 3. Navigate to the notifications tab of the job template and create a notification 4. Logout and login as the auditor user (that has job template admin rights) 5. Navigate to the job template that you have admin rights to 6. Navigate to the notifications tab of that job template 7. Click on the notification and you should see the following error: ![image (5)](https://user-images.githubusercontent.com/37008228/154548878-7dfb45e4-992a-431b-ba45-7dc10c680e33.png) ### Expected results See the details of the notification related to the job template ### Actual results Error appears on the page ### Additional information _No response_ source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file",no-bug,0.8
15116,awx,https://github.com/ansible/awx/issues/15116,Tags in OpenApi schema are missing,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary In the auto-generated OpenAPI schema, there is only one tag `api` which causes the Swagger page (/api/swagger) to appear as a long list of API endpoints without any grouping. In older versions of the controller, prior to 22.4.0, I believe, the OpenAPI schema was generated with specific tags for each endpoint. For example: ```json ""/api/v2/credentials/{id}/"": { ""delete"": { ... }, ""summary"": "" Delete a Credential"", ""tags"": [""Credentials""] }, ... ""/api/v2/inventories/{id}/copy/"": { ""get"": { ... }, ""tags"": [""Inventories""] }, ""post"": { ... }, ""tags"": [""Inventories""] } }, ``` In the latest versions the tag is the same for **all** endpoints: ```json ""/api/v2/credentials/{id}/"": { ""delete"": { ... }, ""summary"": ""Make GET request to this resource to retrieve a single credential"", ""tags"": [ ""api"" ] }, ... ""/api/v2/inventories/{id}/copy/"": { ""get"": { ... }, ""summary"": ""No Description for get on /api/{version}/inventories/{id}/copy/"", ""tags"": [ ""api"" ] }, ... ``` ### AWX version 24.2.0 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [X] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.14.3 ### Operating system Debian 12 ### Web browser Chrome, Edge ### Steps to reproduce 1. Build an run dev containers as usual 2. Generate schema with docker `docker exec tools_awx_1 make genschema` or open https://127.0.0.1:8043/api/swagger ### Expected results All endpoints grouped by tags (Authentication, Activity Streams, Ad Hoc Command Events and etc) ### Actual results All endpoints are grouped under the same tag `api` ![image](https://github.com/ansible/awx/assets/5065694/cef1d64c-4e8f-4673-8dd5-b2b8f8ac14e0) ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Tags in OpenApi schema are missing ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary In the auto-generated OpenAPI schema, there is only one tag `api` which causes the Swagger page (/api/swagger) to appear as a long list of API endpoints without any grouping. In older versions of the controller, prior to 22.4.0, I believe, the OpenAPI schema was generated with specific tags for each endpoint. For example: ```json ""/api/v2/credentials/{id}/"": { ""delete"": { ... }, ""summary"": "" Delete a Credential"", ""tags"": [""Credentials""] }, ... ""/api/v2/inventories/{id}/copy/"": { ""get"": { ... }, ""tags"": [""Inventories""] }, ""post"": { ... }, ""tags"": [""Inventories""] } }, ``` In the latest versions the tag is the same for **all** endpoints: ```json ""/api/v2/credentials/{id}/"": { ""delete"": { ... }, ""summary"": ""Make GET request to this resource to retrieve a single credential"", ""tags"": [ ""api"" ] }, ... ""/api/v2/inventories/{id}/copy/"": { ""get"": { ... }, ""summary"": ""No Description for get on /api/{version}/inventories/{id}/copy/"", ""tags"": [ ""api"" ] }, ... ``` ### AWX version 24.2.0 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [X] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.14.3 ### Operating system Debian 12 ### Web browser Chrome, Edge ### Steps to reproduce 1. Build an run dev containers as usual 2. Generate schema with docker `docker exec tools_awx_1 make genschema` or open https://127.0.0.1:8043/api/swagger ### Expected results All endpoints grouped by tags (Authentication, Activity Streams, Ad Hoc Command Events and etc) ### Actual results All endpoints are grouped under the same tag `api` ![image](https://github.com/ansible/awx/assets/5065694/cef1d64c-4e8f-4673-8dd5-b2b8f8ac14e0) ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
8641,awx,https://github.com/ansible/awx/issues/8641,Cannot disable a schedule for a JT with a missing project (and it keeps running),"##### ISSUE TYPE - Bug Report ##### SUMMARY It's fairly easy to get into a state where a schedule is enabled with an invalid JT, and the schedule cannot be turned off, due to a validation error on the JT. Even though the schedule is invalid, it keeps running on the schedule interval, and its jobs fail obviously. ##### ENVIRONMENT * AWX version: 15.0.1 ##### STEPS TO REPRODUCE Create a JT Create a 1-minute schedule for that JT Delete the project used by the JT (or its inventory) Try to disable the schedule in the UI ##### EXPECTED RESULTS Schedule turns off ##### ACTUAL RESULTS 400 response ```json {""resources_needed_to_start"":[""Job Template project is missing or undefined."",""Job Template inventory is missing or undefined.""]} ``` This is what you get hitting the disable button in the UI, which performs a PATCH to the schedule, setting the ""enabled"" field to False, and it includes the rest of the data. The issue is on the API here, because the request made by the UI seems reasonable, and should be expected to succeed. Perhaps the API should only error on this type of validation if the schedule is being _enabled_. ##### ADDITIONAL INFORMATION Similar to https://github.com/ansible/awx/issues/7521 by @chrismeyersfsu, seen in test runs, and creates background processing since the 1-minute schedule continues to run for the duration that the server is up.",source-file | source-file | source-file | source-file | source-file | source-file,"Cannot disable a schedule for a JT with a missing project (and it keeps running) ##### ISSUE TYPE - Bug Report ##### SUMMARY It's fairly easy to get into a state where a schedule is enabled with an invalid JT, and the schedule cannot be turned off, due to a validation error on the JT. Even though the schedule is invalid, it keeps running on the schedule interval, and its jobs fail obviously. ##### ENVIRONMENT * AWX version: 15.0.1 ##### STEPS TO REPRODUCE Create a JT Create a 1-minute schedule for that JT Delete the project used by the JT (or its inventory) Try to disable the schedule in the UI ##### EXPECTED RESULTS Schedule turns off ##### ACTUAL RESULTS 400 response ```json {""resources_needed_to_start"":[""Job Template project is missing or undefined."",""Job Template inventory is missing or undefined.""]} ``` This is what you get hitting the disable button in the UI, which performs a PATCH to the schedule, setting the ""enabled"" field to False, and it includes the rest of the data. The issue is on the API here, because the request made by the UI seems reasonable, and should be expected to succeed. Perhaps the API should only error on this type of validation if the schedule is being _enabled_. ##### ADDITIONAL INFORMATION Similar to https://github.com/ansible/awx/issues/7521 by @chrismeyersfsu, seen in test runs, and creates background processing since the 1-minute schedule continues to run for the duration that the server is up. source-file source-file source-file source-file source-file source-file",bug,0.95
6195,awx,https://github.com/ansible/awx/issues/6195,"(AWX with external postgres ), Web UI not working after installation - docker","##### ISSUE TYPE Web UI not working after trying to access the hostname url. ##### SUMMARY So , I have installed AWX and it is connected to an external DB which also on a RHEL 8 VM. After installing the awx , I am trying to connect to the UI but it showing as the awx box refused to connect. ##### ENVIRONMENT * AWX version: a * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: RHEL 8.1 * Web Browser: google chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS I expected the UI to come up on the browser. ##### ACTUAL RESULTS Site can't be reached, refused to connect ##### ADDITIONAL INFORMATION Result of docker logs -f awx_tasks The above exception was the direct cause of the following exception: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 87, in _ctit_db_wrapper yield File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 415, in __getattr__ value = self._get_local(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 358, in _get_local setting = Setting.objects.filter(key=name, user__isnull=True).order_by('pk').first() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 653, in first for obj in (self if self.ordered else self.order_by('pk'))[:1]: File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 274, in __iter__ self._fetch_all() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all self._result_cache = list(self._iterable_class(self)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1131, in execute_sql cursor = self.connection.cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor return self._cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 233, in _cursor self.ensure_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect self.connection = self.get_new_connection(conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection connection = Database.connect(**conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect conn = _connect(dsn, connection_factory=connection_factory, **kwasync) django.db.utils.OperationalError: could not connect to server: No route to host Is the server running on host ""10.100.x.x"" and accepting TCP/IP connections on port 5432?",source-file | test-file | test-file,"(AWX with external postgres ), Web UI not working after installation - docker ##### ISSUE TYPE Web UI not working after trying to access the hostname url. ##### SUMMARY So , I have installed AWX and it is connected to an external DB which also on a RHEL 8 VM. After installing the awx , I am trying to connect to the UI but it showing as the awx box refused to connect. ##### ENVIRONMENT * AWX version: a * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: RHEL 8.1 * Web Browser: google chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS I expected the UI to come up on the browser. ##### ACTUAL RESULTS Site can't be reached, refused to connect ##### ADDITIONAL INFORMATION Result of docker logs -f awx_tasks The above exception was the direct cause of the following exception: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 87, in _ctit_db_wrapper yield File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 415, in __getattr__ value = self._get_local(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 358, in _get_local setting = Setting.objects.filter(key=name, user__isnull=True).order_by('pk').first() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 653, in first for obj in (self if self.ordered else self.order_by('pk'))[:1]: File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 274, in __iter__ self._fetch_all() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all self._result_cache = list(self._iterable_class(self)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1131, in execute_sql cursor = self.connection.cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor return self._cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 233, in _cursor self.ensure_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect self.connection = self.get_new_connection(conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection connection = Database.connect(**conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect conn = _connect(dsn, connection_factory=connection_factory, **kwasync) django.db.utils.OperationalError: could not connect to server: No route to host Is the server running on host ""10.100.x.x"" and accepting TCP/IP connections on port 5432? source-file test-file test-file",no-bug,0.9
4920,awx,https://github.com/ansible/awx/issues/4920,traceback in logs related to inventory updates and workflows,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Seeing this traceback in logs of development container, still need to firm up exact reproduction steps. @ryanpetrello seemed to recognize traceback and probably knows what is up ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Running a workflow with a number of nodes in it, seeing some significant delay in jobs running in workflow and looked into logs to investigate. Can send more info about this workflow on request. Seeing this in logs: ``` awx_1 | 2019-10-04 16:26:53,567 ERROR awx.main.commands.run_callback_receiver Callback Task Processor Raised Exception: TypeError(""InventoryUpdateEvent() got an unexpected keyword argument 'workflow_job_id'"",) awx_1 | 2019-10-04 16:26:53,568 ERROR awx.main.commands.run_callback_receiver Detail: Traceback (most recent call last): awx_1 | File ""/awx_devel/awx/main/dispatch/worker/callback.py"", line 107, in perform_work awx_1 | _save_event_data() awx_1 | File ""/awx_devel/awx/main/dispatch/worker/callback.py"", line 45, in _save_event_data awx_1 | cls.create_from_data(**body) awx_1 | File ""/awx_devel/awx/main/models/events.py"", line 622, in create_from_data awx_1 | event = cls.objects.create(**kwargs) awx_1 | File ""/venv/awx/lib64/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method awx_1 | return getattr(self.get_queryset(), name)(*args, **kwargs) awx_1 | File ""/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 420, in create awx_1 | obj = self.model(**kwargs) awx_1 | File ""/venv/awx/lib64/python3.6/site-packages/django/db/models/base.py"", line 501, in __init__ awx_1 | raise TypeError(""%s() got an unexpected keyword argument '%s'"" % (cls.__name__, kwarg)) awx_1 | TypeError: InventoryUpdateEvent() got an unexpected keyword argument 'workflow_job_id' awx_1 | 2019-10-04 16:26:53,570 ERROR awx.main.commands.run_callback_receiver Callback Task Processor Raised Exception: TypeError(""InventoryUpdateEvent() got an unexpected keyword argument 'workflow_job_id'"",) ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> No traceback, no lagging ##### ACTUAL RESULTS <!-- What actually happened? --> Slow spawning of jobs in workflow",source-file | source-file | source-file | source-file,"traceback in logs related to inventory updates and workflows ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Seeing this traceback in logs of development container, still need to firm up exact reproduction steps. @ryanpetrello seemed to recognize traceback and probably knows what is up ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Running a workflow with a number of nodes in it, seeing some significant delay in jobs running in workflow and looked into logs to investigate. Can send more info about this workflow on request. Seeing this in logs: ``` awx_1 | 2019-10-04 16:26:53,567 ERROR awx.main.commands.run_callback_receiver Callback Task Processor Raised Exception: TypeError(""InventoryUpdateEvent() got an unexpected keyword argument 'workflow_job_id'"",) awx_1 | 2019-10-04 16:26:53,568 ERROR awx.main.commands.run_callback_receiver Detail: Traceback (most recent call last): awx_1 | File ""/awx_devel/awx/main/dispatch/worker/callback.py"", line 107, in perform_work awx_1 | _save_event_data() awx_1 | File ""/awx_devel/awx/main/dispatch/worker/callback.py"", line 45, in _save_event_data awx_1 | cls.create_from_data(**body) awx_1 | File ""/awx_devel/awx/main/models/events.py"", line 622, in create_from_data awx_1 | event = cls.objects.create(**kwargs) awx_1 | File ""/venv/awx/lib64/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method awx_1 | return getattr(self.get_queryset(), name)(*args, **kwargs) awx_1 | File ""/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 420, in create awx_1 | obj = self.model(**kwargs) awx_1 | File ""/venv/awx/lib64/python3.6/site-packages/django/db/models/base.py"", line 501, in __init__ awx_1 | raise TypeError(""%s() got an unexpected keyword argument '%s'"" % (cls.__name__, kwarg)) awx_1 | TypeError: InventoryUpdateEvent() got an unexpected keyword argument 'workflow_job_id' awx_1 | 2019-10-04 16:26:53,570 ERROR awx.main.commands.run_callback_receiver Callback Task Processor Raised Exception: TypeError(""InventoryUpdateEvent() got an unexpected keyword argument 'workflow_job_id'"",) ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> No traceback, no lagging ##### ACTUAL RESULTS <!-- What actually happened? --> Slow spawning of jobs in workflow source-file source-file source-file source-file",no-bug,0.9
11807,awx,https://github.com/ansible/awx/issues/11807,Joboutput Search: Put Event Dropdown Options in Alpha Order,##### ISSUE TYPE - Feature Idea ##### SUMMARY The options pictured below are not in Alpha order and they should be. ![Screen Shot 2022-02-24 at 10 19 21 AM](https://user-images.githubusercontent.com/39280967/155553158-f1a71047-34c2-4a45-a5ee-0fab22e5ee81.png),source-file | source-file,Joboutput Search: Put Event Dropdown Options in Alpha Order ##### ISSUE TYPE - Feature Idea ##### SUMMARY The options pictured below are not in Alpha order and they should be. ![Screen Shot 2022-02-24 at 10 19 21 AM](https://user-images.githubusercontent.com/39280967/155553158-f1a71047-34c2-4a45-a5ee-0fab22e5ee81.png) source-file source-file,no-bug,0.9
9197,awx,https://github.com/ansible/awx/issues/9197,AWX 17.0.1: have to log in twice,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Sometimes I have to log in twice to AWX ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: openSUSE Leap 15.2 * Web Browser: Firefox on linux and windows. ##### STEPS TO REPRODUCE Sometimes when I log in to AWX I get a popup that i can't read because it disappears too fast, and are redirected to the login page and have to log in again. ##### EXPECTED RESULTS I would expect that logging in on AWX would actually log me in. ##### ACTUAL RESULTS I log in to AWX, then I get a popup that i can't read because it disappears too fast, and are redirected to the login page and have to log in again. ##### ADDITIONAL INFORMATION just guessing: could this be happening because the previous session timed out or the browser was just closed, instead of properly logging out of AWX?",other-file | test-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file,"AWX 17.0.1: have to log in twice <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Sometimes I have to log in twice to AWX ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: openSUSE Leap 15.2 * Web Browser: Firefox on linux and windows. ##### STEPS TO REPRODUCE Sometimes when I log in to AWX I get a popup that i can't read because it disappears too fast, and are redirected to the login page and have to log in again. ##### EXPECTED RESULTS I would expect that logging in on AWX would actually log me in. ##### ACTUAL RESULTS I log in to AWX, then I get a popup that i can't read because it disappears too fast, and are redirected to the login page and have to log in again. ##### ADDITIONAL INFORMATION just guessing: could this be happening because the previous session timed out or the browser was just closed, instead of properly logging out of AWX? other-file test-file other-file test-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file",no-bug,0.9
5882,awx,https://github.com/ansible/awx/issues/5882,API Provides credential_type for WFJTs,"##### ISSUE TYPE Bug maybe? ##### SUMMARY Missing information in the WFJT end point re: webhook credentials. JobTemplates end point provides credential type and kind information, but WFJT end point does not provide that info for webhook credentials. It would be nice to have. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker for mac * Ansible version: 2.10 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Generate a workflow JT with a webhook credential. Go to api gui for that WFJT ##### EXPECTED RESULTS Credential type and credential kind info would be provided. ##### ACTUAL RESULTS Credential type and credential kind are not provided at that end point when all the other info for the template is provided.",source-file,"API Provides credential_type for WFJTs ##### ISSUE TYPE Bug maybe? ##### SUMMARY Missing information in the WFJT end point re: webhook credentials. JobTemplates end point provides credential type and kind information, but WFJT end point does not provide that info for webhook credentials. It would be nice to have. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker for mac * Ansible version: 2.10 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Generate a workflow JT with a webhook credential. Go to api gui for that WFJT ##### EXPECTED RESULTS Credential type and credential kind info would be provided. ##### ACTUAL RESULTS Credential type and credential kind are not provided at that end point when all the other info for the template is provided. source-file",bug,0.85
6049,awx,https://github.com/ansible/awx/issues/6049,Inventory Group Nested Hosts View errors with a 404,"##### ISSUE TYPE - Bug Report ##### SUMMARY I searched for implemented issues and couldn't find anything. /inventories/inventory/*num*/groups/*num*/nested_hosts isn't loading in ui_next ##### ENVIRONMENT * AWX version: 9.next ##### STEPS TO REPRODUCE 1. Create an Inventory Group with nested hosts 2. View the #/inventories/inventory/*num*/groups/*num*/nested_hosts page ##### EXPECTED RESULTS Nested Hosts to be displayed ##### ACTUAL RESULTS 404 messaging page ##### ADDITIONAL INFORMATION <img width=""1159"" alt=""Screen Shot 2020-02-25 at 9 10 38 AM"" src=""https://user-images.githubusercontent.com/12446869/75254948-29c6a900-57af-11ea-92c0-7d35dee281c6.png"">",source-file,"Inventory Group Nested Hosts View errors with a 404 ##### ISSUE TYPE - Bug Report ##### SUMMARY I searched for implemented issues and couldn't find anything. /inventories/inventory/*num*/groups/*num*/nested_hosts isn't loading in ui_next ##### ENVIRONMENT * AWX version: 9.next ##### STEPS TO REPRODUCE 1. Create an Inventory Group with nested hosts 2. View the #/inventories/inventory/*num*/groups/*num*/nested_hosts page ##### EXPECTED RESULTS Nested Hosts to be displayed ##### ACTUAL RESULTS 404 messaging page ##### ADDITIONAL INFORMATION <img width=""1159"" alt=""Screen Shot 2020-02-25 at 9 10 38 AM"" src=""https://user-images.githubusercontent.com/12446869/75254948-29c6a900-57af-11ea-92c0-7d35dee281c6.png""> source-file",bug,0.9
9323,awx,https://github.com/ansible/awx/issues/9323,StatusLabel displays empty tooltip,"##### ISSUE TYPE - Feature Idea ##### SUMMARY StatusLabel displays empty tooltip. <img width=""1436"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/108076698-b6f6b380-7039-11eb-90f7-1914ee1efaae.png"">",other-file | test-file | other-file | test-file,"StatusLabel displays empty tooltip ##### ISSUE TYPE - Feature Idea ##### SUMMARY StatusLabel displays empty tooltip. <img width=""1436"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/108076698-b6f6b380-7039-11eb-90f7-1914ee1efaae.png""> other-file test-file other-file test-file",no-bug,0.9
10440,awx,https://github.com/ansible/awx/issues/10440,Ad hoc command details does not show the module name,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Launch an ad hoc command that runs the ping module. View the details in the UI. ![Screenshot from 2021-06-14 10-48-57](https://user-images.githubusercontent.com/1385596/121912115-4a957380-ccfe-11eb-95af-fb56623e1a7a.png) At first, I was confused, because I thought I ran the ""ping"" module, not the ""command"" or ""shell"" modules. Then I see that the UI's meaning is that it was an ad hoc _command_. However, the page gives no indication anywhere that I ran the ""ping"" module. It should also probably show the module arguments. If I run a command that does `echo ""Hello world""`, then I need to know: - that I ran the `command` module - the args passed to it (so I know why it printed ""Hello world"") Otherwise, there's nothing to connect this job entry with the function of what actually happened.",source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Ad hoc command details does not show the module name ##### ISSUE TYPE - Feature Idea ##### SUMMARY Launch an ad hoc command that runs the ping module. View the details in the UI. ![Screenshot from 2021-06-14 10-48-57](https://user-images.githubusercontent.com/1385596/121912115-4a957380-ccfe-11eb-95af-fb56623e1a7a.png) At first, I was confused, because I thought I ran the ""ping"" module, not the ""command"" or ""shell"" modules. Then I see that the UI's meaning is that it was an ad hoc _command_. However, the page gives no indication anywhere that I ran the ""ping"" module. It should also probably show the module arguments. If I run a command that does `echo ""Hello world""`, then I need to know: - that I ran the `command` module - the args passed to it (so I know why it printed ""Hello world"") Otherwise, there's nothing to connect this job entry with the function of what actually happened. source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
4541,awx,https://github.com/ansible/awx/issues/4541,Notifications - missing hosts with webhook notification,"##### ISSUE TYPE - Bug Report ##### SUMMARY We have around 400 hosts in the inventory, however, the notification webhook endpoint receives notification about only around 40-50 hosts. (Sometimes it's working fine reporting all the hosts.) ##### ENVIRONMENT * AWX version: 6.1.0.0 (Same problem with 6.0.0.0) * AWX install method: docker on linux (official image from docker hub) * Ansible version: 2.8.2 * Operating System: Centos7 * Web Browser: Chrome ##### STEPS TO REPRODUCE - Create a webhook notification - Start a job (or job-flow), enable notifications. ##### EXPECTED RESULTS Report from all the hosts in JSON format ##### ACTUAL RESULTS Most of the times only partial host list in the report, sometimes full list. Differs in a job-flow, some jobs reporting about all hosts, some only about a few) Workflow with 2 jobs: Number of hosts, on which the job ran (reported in AWX): 438 Number of hosts reported on the webhook script: 53 ##### ADDITIONAL INFORMATION I also have the same problem with 6.0.0.0 and 6.1.0.0 I tried with different users, with standalon jobs or woth flows, also with different playbooks, the problem looks pretty consistent. Thx",source-file,"Notifications - missing hosts with webhook notification ##### ISSUE TYPE - Bug Report ##### SUMMARY We have around 400 hosts in the inventory, however, the notification webhook endpoint receives notification about only around 40-50 hosts. (Sometimes it's working fine reporting all the hosts.) ##### ENVIRONMENT * AWX version: 6.1.0.0 (Same problem with 6.0.0.0) * AWX install method: docker on linux (official image from docker hub) * Ansible version: 2.8.2 * Operating System: Centos7 * Web Browser: Chrome ##### STEPS TO REPRODUCE - Create a webhook notification - Start a job (or job-flow), enable notifications. ##### EXPECTED RESULTS Report from all the hosts in JSON format ##### ACTUAL RESULTS Most of the times only partial host list in the report, sometimes full list. Differs in a job-flow, some jobs reporting about all hosts, some only about a few) Workflow with 2 jobs: Number of hosts, on which the job ran (reported in AWX): 438 Number of hosts reported on the webhook script: 53 ##### ADDITIONAL INFORMATION I also have the same problem with 6.0.0.0 and 6.1.0.0 I tried with different users, with standalon jobs or woth flows, also with different playbooks, the problem looks pretty consistent. Thx source-file",bug,0.9
8835,awx,https://github.com/ansible/awx/issues/8835,[ui_next] Can add team permissions to team,"##### ISSUE TYPE - Bug Report ##### SUMMARY Can add team permissions to team. This menu is for granting access to a team. Granting a team access to another team is extremely confusing, and theres no articulable guidance about the nuances and hazards of doing that. It would be best to not present this menu for teams, and assume that granting access ONLY means granting users access to the team. <img width=""629"" alt=""Screen Shot 2020-12-10 at 5 29 53 PM"" src=""https://user-images.githubusercontent.com/12446869/101837632-587af980-3b0d-11eb-8307-16a4a1516ee2.png""> ##### ENVIRONMENT * AWX version:12/10",other-file,"[ui_next] Can add team permissions to team ##### ISSUE TYPE - Bug Report ##### SUMMARY Can add team permissions to team. This menu is for granting access to a team. Granting a team access to another team is extremely confusing, and theres no articulable guidance about the nuances and hazards of doing that. It would be best to not present this menu for teams, and assume that granting access ONLY means granting users access to the team. <img width=""629"" alt=""Screen Shot 2020-12-10 at 5 29 53 PM"" src=""https://user-images.githubusercontent.com/12446869/101837632-587af980-3b0d-11eb-8307-16a4a1516ee2.png""> ##### ENVIRONMENT * AWX version:12/10 other-file",no-bug,0.8
10990,awx,https://github.com/ansible/awx/issues/10990,awx reports identical UUIDs for instances,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Fresh deployment of awx with three hybrid nodes shows that all three instances have the same UUID. Related ansible-runner mechanism for generating uuid: https://github.com/ansible/ansible-runner/blob/devel/ansible_runner/utils/capacity.py#L24 ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce out-of-the box deployment with 3 hybrid nodes ### Expected results Unique UUIDs for each instance. ### Actual results Identical UUIDs: https://gist.github.com/jladdjr/375a2207a5be9599798eec6384660ef6 ### Additional information _No response_,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,awx reports identical UUIDs for instances ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Fresh deployment of awx with three hybrid nodes shows that all three instances have the same UUID. Related ansible-runner mechanism for generating uuid: https://github.com/ansible/ansible-runner/blob/devel/ansible_runner/utils/capacity.py#L24 ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce out-of-the box deployment with 3 hybrid nodes ### Expected results Unique UUIDs for each instance. ### Actual results Identical UUIDs: https://gist.github.com/jladdjr/375a2207a5be9599798eec6384660ef6 ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.8
5029,awx,https://github.com/ansible/awx/issues/5029,Notification Templates UI doesn't always show custom messages,"```shell $ awx notification_templates get 4 -f human --filter name,messages name messages =========== ==================================================== Testing 123 {""success"": {""message"": ""It worked!"", ""body"": null}} ``` <img width=""877"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/67009254-3fb5b600-f0b9-11e9-914c-184ed81c5e0e.png"">",source-file | source-file,"Notification Templates UI doesn't always show custom messages ```shell $ awx notification_templates get 4 -f human --filter name,messages name messages =========== ==================================================== Testing 123 {""success"": {""message"": ""It worked!"", ""body"": null}} ``` <img width=""877"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/67009254-3fb5b600-f0b9-11e9-914c-184ed81c5e0e.png""> source-file source-file",no-bug,0.7
7561,awx,https://github.com/ansible/awx/issues/7561,Add email as a default search option to Users list,##### ISSUE TYPE - Feature Idea ##### SUMMARY I know that we don't display the email address in the list itself but I could see a situation where someone may want to search based on it on this list.,source-file | source-file,Add email as a default search option to Users list ##### ISSUE TYPE - Feature Idea ##### SUMMARY I know that we don't display the email address in the list itself but I could see a situation where someone may want to search based on it on this list. source-file source-file,no-bug,0.9
6163,awx,https://github.com/ansible/awx/issues/6163,"Enable Webhook option in JT and WFJT forms should read ""Enable Webhooks""","##### ISSUE TYPE - Bug Report ##### SUMMARY See Title ##### STEPS TO REPRODUCE 1. Visit a Job Template or Workflow Job Template page 2. View the add and edit forms for each. ##### EXPECTED RESULTS The option, as well as its corresponding tooltip and aria-label all read ""Enable Webhooks"", the plural form. ##### ACTUAL RESULTS ""Enable Webhook"", without the ""s"".",other-file | other-file | test-file | other-file | other-file | test-file,"Enable Webhook option in JT and WFJT forms should read ""Enable Webhooks"" ##### ISSUE TYPE - Bug Report ##### SUMMARY See Title ##### STEPS TO REPRODUCE 1. Visit a Job Template or Workflow Job Template page 2. View the add and edit forms for each. ##### EXPECTED RESULTS The option, as well as its corresponding tooltip and aria-label all read ""Enable Webhooks"", the plural form. ##### ACTUAL RESULTS ""Enable Webhook"", without the ""s"". other-file other-file test-file other-file other-file test-file",no-bug,0.9
4581,awx,https://github.com/ansible/awx/issues/4581,CLI: awx inventory_sources create --help does not indicate all required args,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `awx inventory_sources create --help` only indicates `--name` as required, but it also requires `--inventory` (expecting an inventroy ID) ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ``` required arguments: --name TEXT Name of this inventory source. --inventory INVENTORY ID Inventory to associate with this inventory source ``` ##### ACTUAL RESULTS <!-- What actually happened? --> ``` required arguments: --name TEXT Name of this inventory source. ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> `--inventory` shows up in `usage` section but in neither `required arguments` nor `optional arguments` nor in the final line `awx inventory_sources create: the following arguments are required: --name`",source-file | source-file | source-file | source-file,"CLI: awx inventory_sources create --help does not indicate all required args ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `awx inventory_sources create --help` only indicates `--name` as required, but it also requires `--inventory` (expecting an inventroy ID) ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ``` required arguments: --name TEXT Name of this inventory source. --inventory INVENTORY ID Inventory to associate with this inventory source ``` ##### ACTUAL RESULTS <!-- What actually happened? --> ``` required arguments: --name TEXT Name of this inventory source. ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> `--inventory` shows up in `usage` section but in neither `required arguments` nor `optional arguments` nor in the final line `awx inventory_sources create: the following arguments are required: --name` source-file source-file source-file source-file",no-bug,0.9
5118,awx,https://github.com/ansible/awx/issues/5118,[RFE] Add description to Job Template expanded view,##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Feature request to add the JT description to the expanded view of Templates.,other-file,[RFE] Add description to Job Template expanded view ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Feature request to add the JT description to the expanded view of Templates. other-file,no-bug,0.95
4874,awx,https://github.com/ansible/awx/issues/4874,Support object reference by (unique) name globally,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> I would like to be able to refer to IDs of things by their unique names when possible, globally. It appears that some functions are able to use this, such as getting a credential: ``` $ /data/awx/virtualenv/bin/awx credential get omgjlk-via-vault -f human id name == ================ 18 omgjlk-via-vault ``` But if I try to use that when creating a credential input source I get an error ``` $ /data/awx/virtualenv/bin/awx credential_input_sources create --target_credential omgjlk-via-vault --input_field_name ssh_key_data --source_credential gtower-vault --metadata ""{'secret_key': 'ssh_key_data', 'secret_path': '/secret/apps/gtower-keys/omgjlk'}"" -f yaml source_credential: - Incorrect type. Expected pk value, received str. target_credential: - Incorrect type. Expected pk value, received str. ``` Allowing the name to be used in one place but not another is pretty annoying. Now I'll have to query the API to discover the ID of these things, parse the output, etc... If I could just use the names then I can rely on the data I already have _outside_ of AWX, the source of my config.",source-file | source-file | source-file,"Support object reference by (unique) name globally ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> I would like to be able to refer to IDs of things by their unique names when possible, globally. It appears that some functions are able to use this, such as getting a credential: ``` $ /data/awx/virtualenv/bin/awx credential get omgjlk-via-vault -f human id name == ================ 18 omgjlk-via-vault ``` But if I try to use that when creating a credential input source I get an error ``` $ /data/awx/virtualenv/bin/awx credential_input_sources create --target_credential omgjlk-via-vault --input_field_name ssh_key_data --source_credential gtower-vault --metadata ""{'secret_key': 'ssh_key_data', 'secret_path': '/secret/apps/gtower-keys/omgjlk'}"" -f yaml source_credential: - Incorrect type. Expected pk value, received str. target_credential: - Incorrect type. Expected pk value, received str. ``` Allowing the name to be used in one place but not another is pretty annoying. Now I'll have to query the API to discover the ID of these things, parse the output, etc... If I could just use the names then I can rely on the data I already have _outside_ of AWX, the source of my config. source-file source-file source-file",no-bug,0.9
4694,awx,https://github.com/ansible/awx/issues/4694,Slow transactions in requests made with OAuth2 tokens hold open per-request row exclusive locks,"##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Create an OAuth2.0 token. 2. Run a request that results in an especially time consuming database transaction. For example, to simulate a slow query, this code diff makes an HTTP GET request to `/api/` _very_ slow: ```diff diff --git a/awx/api/views/root.py b/awx/api/views/root.py index 922041c8b..711907f8d 100644 --- a/awx/api/views/root.py +++ b/awx/api/views/root.py @@ -50,6 +50,8 @@ class ApiRootView(APIView): def get(self, request, format=None): ''' List supported API versions ''' + for x in Instance.objects.raw('SELECT id, pg_sleep(30) FROM main_instance'): + print(x) v2 = reverse('api:api_v2_root_view', kwargs={'version': 'v2'}) data = OrderedDict() data['description'] = _('AWX REST API') ``` ```shell ~curl -sk -H 'Authorization: Bearer TOKEN' 'https://awx.example.org/api/' ``` 3. Observe that step 2 takes 30 seconds. During this time, an exclusive row lock is held on the row for that OAuth2.0 token: ```sql SELECT t.relname,l.locktype,page,virtualtransaction,pid,mode,granted FROM pg_locks l, pg_stat_all_tables t WHERE l.relation=t.relid ORDER BY relation ASC; main_oauth2accesstoken | relation | | 5/99223 | 20896 | RowExclusiveLock | t ``` 4. Simultaneously, perform an HTTP request on a *different* unrelated API endpoint using the *same* OAuth2.0 token: ```shell ~curl -sk -H 'Authorization: Bearer TOKEN' 'https://awx.example.org/api/v2/settings/' ``` Observe the second request _does not_ complete until the first request completes.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Slow transactions in requests made with OAuth2 tokens hold open per-request row exclusive locks ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Create an OAuth2.0 token. 2. Run a request that results in an especially time consuming database transaction. For example, to simulate a slow query, this code diff makes an HTTP GET request to `/api/` _very_ slow: ```diff diff --git a/awx/api/views/root.py b/awx/api/views/root.py index 922041c8b..711907f8d 100644 --- a/awx/api/views/root.py +++ b/awx/api/views/root.py @@ -50,6 +50,8 @@ class ApiRootView(APIView): def get(self, request, format=None): ''' List supported API versions ''' + for x in Instance.objects.raw('SELECT id, pg_sleep(30) FROM main_instance'): + print(x) v2 = reverse('api:api_v2_root_view', kwargs={'version': 'v2'}) data = OrderedDict() data['description'] = _('AWX REST API') ``` ```shell ~curl -sk -H 'Authorization: Bearer TOKEN' 'https://awx.example.org/api/' ``` 3. Observe that step 2 takes 30 seconds. During this time, an exclusive row lock is held on the row for that OAuth2.0 token: ```sql SELECT t.relname,l.locktype,page,virtualtransaction,pid,mode,granted FROM pg_locks l, pg_stat_all_tables t WHERE l.relation=t.relid ORDER BY relation ASC; main_oauth2accesstoken | relation | | 5/99223 | 20896 | RowExclusiveLock | t ``` 4. Simultaneously, perform an HTTP request on a *different* unrelated API endpoint using the *same* OAuth2.0 token: ```shell ~curl -sk -H 'Authorization: Bearer TOKEN' 'https://awx.example.org/api/v2/settings/' ``` Observe the second request _does not_ complete until the first request completes. source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
7410,awx,https://github.com/ansible/awx/issues/7410,Add `description` to the default search options on relevant lists,##### ISSUE TYPE - Feature Idea ##### SUMMARY ~~Seems reasonable that a user may want to search by description on this list. That would make the defaults:~~ ~~Name~~ ~~Description~~ ~~Created By~~ ~~Modified By~~ Repurposing this as I think there are a number of lists that could benefit from adding this option to the default search. - Organizations list - Teams list - Notifications list,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Add `description` to the default search options on relevant lists ##### ISSUE TYPE - Feature Idea ##### SUMMARY ~~Seems reasonable that a user may want to search by description on this list. That would make the defaults:~~ ~~Name~~ ~~Description~~ ~~Created By~~ ~~Modified By~~ Repurposing this as I think there are a number of lists that could benefit from adding this option to the default search. - Organizations list - Teams list - Notifications list other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
7011,awx,https://github.com/ansible/awx/issues/7011,Source Control Branch missing from Prompt on launch,##### ISSUE TYPE - Bug Report ##### SUMMARY `Source Control Branch` missing from `Prompt on launch` ##### STEPS TO REPRODUCE 1 - Select `Allow Branch Override` in a project. 2 - Select `Prompt on launch` for the Source Control Branch field in a job template associated to the project above. 3 - Launch the job template. ##### EXPECTED RESULTS To Source Control Branch to be present on Prompt on launch. ##### ACTUAL RESULTS ![missing_scm_job_template_launch](https://user-images.githubusercontent.com/9053044/81834858-8bc1bf80-950f-11ea-9f64-34c415359ebf.gif),other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file,Source Control Branch missing from Prompt on launch ##### ISSUE TYPE - Bug Report ##### SUMMARY `Source Control Branch` missing from `Prompt on launch` ##### STEPS TO REPRODUCE 1 - Select `Allow Branch Override` in a project. 2 - Select `Prompt on launch` for the Source Control Branch field in a job template associated to the project above. 3 - Launch the job template. ##### EXPECTED RESULTS To Source Control Branch to be present on Prompt on launch. ##### ACTUAL RESULTS ![missing_scm_job_template_launch](https://user-images.githubusercontent.com/9053044/81834858-8bc1bf80-950f-11ea-9f64-34c415359ebf.gif) other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file,no-bug,0.9
9163,awx,https://github.com/ansible/awx/issues/9163,Admins cannot access Workflow Approvals page,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> After upgrading from 15.0.1 to 17.0.0, admin users cannot access the Workflow Approvals page. Non-admin users can access the page as expected. Relevant error from the browser: `TypeError: Cannot read property 'username' of undefined at dI (WorkflowApprovalStatus.jsx:50) at Xo (react-dom.production.min.js:153) at vs (react-dom.production.min.js:261) at cl (react-dom.production.min.js:246) at sl (react-dom.production.min.js:246) at Qs (react-dom.production.min.js:239) at react-dom.production.min.js:123 at t.unstable_runWithPriority (scheduler.production.min.js:19) at Hi (react-dom.production.min.js:122) at Gi (react-dom.production.min.js:123)` ##### ENVIRONMENT * AWX version: 17.0.0 * AWX install method: docker on linux * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Admins cannot access Workflow Approvals page <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> After upgrading from 15.0.1 to 17.0.0, admin users cannot access the Workflow Approvals page. Non-admin users can access the page as expected. Relevant error from the browser: `TypeError: Cannot read property 'username' of undefined at dI (WorkflowApprovalStatus.jsx:50) at Xo (react-dom.production.min.js:153) at vs (react-dom.production.min.js:261) at cl (react-dom.production.min.js:246) at sl (react-dom.production.min.js:246) at Qs (react-dom.production.min.js:239) at react-dom.production.min.js:123 at t.unstable_runWithPriority (scheduler.production.min.js:19) at Hi (react-dom.production.min.js:122) at Gi (react-dom.production.min.js:123)` ##### ENVIRONMENT * AWX version: 17.0.0 * AWX install method: docker on linux * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6069,awx,https://github.com/ansible/awx/issues/6069,[Feedback] Lots of white space on permission role wizard,"##### ISSUE TYPE - Bug Report / Feedback ##### SUMMARY Feedback from the bug bash: ""Do not love permission role wizard thing Lots of whitespace on initial screen?"" ##### ENVIRONMENT * AWX version: 9.next",source-file,"[Feedback] Lots of white space on permission role wizard ##### ISSUE TYPE - Bug Report / Feedback ##### SUMMARY Feedback from the bug bash: ""Do not love permission role wizard thing Lots of whitespace on initial screen?"" ##### ENVIRONMENT * AWX version: 9.next source-file",no-bug,0.9
11718,awx,https://github.com/ansible/awx/issues/11718,Error on Instance Group List based on RBAC,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Error on Instance Group List based on RBAC. There is a request for settings being done at the `InstanceGroupList`. https://github.com/ansible/awx/blob/6f9d4d89cde79e47e9716b27b3bb515041417598/awx/ui/src/screens/InstanceGroup/InstanceGroupList/InstanceGroupList.js#L71 That leads to an error based on user RBAC. ![image](https://user-images.githubusercontent.com/9053044/153441625-1f664f96-8bf0-4910-98c4-b7db1c735543.png) ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Login as Org Admin 2 - Go to Instance Group tab on side bar ### Expected results 1 - Display the instance groups list ### Actual results Error due to lack of permissions to read settings. ### Additional information _No response_,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file,Error on Instance Group List based on RBAC ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Error on Instance Group List based on RBAC. There is a request for settings being done at the `InstanceGroupList`. https://github.com/ansible/awx/blob/6f9d4d89cde79e47e9716b27b3bb515041417598/awx/ui/src/screens/InstanceGroup/InstanceGroupList/InstanceGroupList.js#L71 That leads to an error based on user RBAC. ![image](https://user-images.githubusercontent.com/9053044/153441625-1f664f96-8bf0-4910-98c4-b7db1c735543.png) ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Login as Org Admin 2 - Go to Instance Group tab on side bar ### Expected results 1 - Display the instance groups list ### Actual results Error due to lack of permissions to read settings. ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file,no-bug,0.9
10613,awx,https://github.com/ansible/awx/issues/10613,Add modal to confirm update of LOGIN_REDIRECT_OVERRIDE on the settings,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add modal to confirm update of LOGIN_REDIRECT_OVERRIDE on the settings. ![image](https://user-images.githubusercontent.com/9053044/124985927-02b9f180-e009-11eb-955e-77d07df87de3.png) Giving the user a change to confirm that updated URL is sane. Similar UX was used here: https://github.com/ansible/awx/pull/10102/commits/3b5641c41b44198ee459f3bd5c4353aa59735a9d,other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file,Add modal to confirm update of LOGIN_REDIRECT_OVERRIDE on the settings ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add modal to confirm update of LOGIN_REDIRECT_OVERRIDE on the settings. ![image](https://user-images.githubusercontent.com/9053044/124985927-02b9f180-e009-11eb-955e-77d07df87de3.png) Giving the user a change to confirm that updated URL is sane. Similar UX was used here: https://github.com/ansible/awx/pull/10102/commits/3b5641c41b44198ee459f3bd5c4353aa59735a9d other-file test-file other-file test-file source-file other-file test-file other-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file,no-bug,0.9
12046,awx,https://github.com/ansible/awx/issues/12046,Disable isCreatable for Select component on Advanced Search,"##### SUMMARY Disable isCreatable for Select component on Advanced Search. This prop leads to invalid API searches. <img width=""1496"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/163234927-b4b0c433-435e-4a28-923a-26eafa17f8ef.png""> <img width=""1498"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/163234857-a07d7a9a-1da5-41f9-8ae5-e23213f877ca.png"">",source-file,"Disable isCreatable for Select component on Advanced Search ##### SUMMARY Disable isCreatable for Select component on Advanced Search. This prop leads to invalid API searches. <img width=""1496"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/163234927-b4b0c433-435e-4a28-923a-26eafa17f8ef.png""> <img width=""1498"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/163234857-a07d7a9a-1da5-41f9-8ae5-e23213f877ca.png""> source-file",bug,0.8
8453,awx,https://github.com/ansible/awx/issues/8453,Username is a required field,##### ISSUE TYPE - Bug Report ##### SUMMARY Username is a required field by the API. ![Screenshot_2020-10-25 Ansible AWX(1)](https://user-images.githubusercontent.com/9053044/97114170-47913880-16c5-11eb-8e10-621b6b72e1b2.png),other-file | test-file | other-file | test-file,Username is a required field ##### ISSUE TYPE - Bug Report ##### SUMMARY Username is a required field by the API. ![Screenshot_2020-10-25 Ansible AWX(1)](https://user-images.githubusercontent.com/9053044/97114170-47913880-16c5-11eb-8e10-621b6b72e1b2.png) other-file test-file other-file test-file,no-bug,0.6
13439,awx,https://github.com/ansible/awx/issues/13439,CyberArk Conjur lookup plugin does not work with open source Conjur version,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary The CyberArk Conjur Secrets Manager Lookup plugin no longer supports the lookup against the Conjur OSS. Most likely because the opensource conjure version API endpoint does not have the `/api/` portion recently added by this change: https://github.com/ansible/awx/pull/13121 ### AWX version 2.4 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Deploy Conjur OSS. We use the latest `cyberark/conjur` image for that. The Conjur version is ``` Version 1.19.1-3398 API Version 5.3.0 ``` 2. Under the AWX, create the CyberArk Conjur Secrets Manager Lookup credential. Provide Conjure URL, user, and token. 3. Click Test and provide a path. ### Expected results Connection to Conjur should be established. HTTP 200 response. ### Actual results 401 error returned. ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 504, in run args = self.build_args(self.instance, private_data_dir, passwords) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 937, in build_args ssh_username = creds.get_input('username', default='') File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/credential/__init__.py"", line 275, in get_input return self._get_dynamic_input(field_name) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/credential/__init__.py"", line 309, in _get_dynamic_input return input_source.get_input_value() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/credential/__init__.py"", line 1250, in get_input_value return backend(**backend_kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/credential_plugins/conjur.py"", line 72, in conjur_backend raise_for_status(resp) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/credential_plugins/plugin.py"", line 12, in raise_for_status resp.raise_for_status() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/requests/models.py"", line 1021, in raise_for_status raise HTTPError(http_error_msg, response=self) requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://conjureurl.com/api/authn/test/admin/authenticate ``` ### Additional information _No response_",source-file,"CyberArk Conjur lookup plugin does not work with open source Conjur version ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary The CyberArk Conjur Secrets Manager Lookup plugin no longer supports the lookup against the Conjur OSS. Most likely because the opensource conjure version API endpoint does not have the `/api/` portion recently added by this change: https://github.com/ansible/awx/pull/13121 ### AWX version 2.4 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Deploy Conjur OSS. We use the latest `cyberark/conjur` image for that. The Conjur version is ``` Version 1.19.1-3398 API Version 5.3.0 ``` 2. Under the AWX, create the CyberArk Conjur Secrets Manager Lookup credential. Provide Conjure URL, user, and token. 3. Click Test and provide a path. ### Expected results Connection to Conjur should be established. HTTP 200 response. ### Actual results 401 error returned. ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 504, in run args = self.build_args(self.instance, private_data_dir, passwords) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 937, in build_args ssh_username = creds.get_input('username', default='') File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/credential/__init__.py"", line 275, in get_input return self._get_dynamic_input(field_name) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/credential/__init__.py"", line 309, in _get_dynamic_input return input_source.get_input_value() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/credential/__init__.py"", line 1250, in get_input_value return backend(**backend_kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/credential_plugins/conjur.py"", line 72, in conjur_backend raise_for_status(resp) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/credential_plugins/plugin.py"", line 12, in raise_for_status resp.raise_for_status() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/requests/models.py"", line 1021, in raise_for_status raise HTTPError(http_error_msg, response=self) requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://conjureurl.com/api/authn/test/admin/authenticate ``` ### Additional information _No response_ source-file",bug,0.9
4426,awx,https://github.com/ansible/awx/issues/4426,Add RBAC rules to side-nav,"##### SUMMARY The side-nav in `ui_next` does not have any RBAC rules baked in yet. This issue will be used to track that work. https://github.com/ansible/awx/blob/devel/awx/ui/client/lib/components/layout/layout.partial.html can be used as a reference. In general, we want to do the following: 1. Hide Settings, Management Jobs, and Credential Types from _all users except system administrators and system auditors_. Note that these two flags come from `/api/v2/me` (is_superuser, is_system_auditor). 2. Hide Instance Groups and Integrations (Applications) from _all users except system administrators, system auditors, and org administrators_. Determining whether a user is an org admin is done with a request to `/api/v2/users/:user_id/admin_of_organizations/` and checking that the count is greater than one. 3. Hide Notifications from _all users except system administrators, system auditors, org administrators, and notification administrators_. Determining whether a user is an org admin is done with a request to `api/v2/organizations/?role_level=notification_admin_role` and checking that the count is greater than one. If none of the `Administration` or `Settings` options are shown to a user then those headers should be hidden as well.",other-file | other-file | source-file | test-file | other-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file,"Add RBAC rules to side-nav ##### SUMMARY The side-nav in `ui_next` does not have any RBAC rules baked in yet. This issue will be used to track that work. https://github.com/ansible/awx/blob/devel/awx/ui/client/lib/components/layout/layout.partial.html can be used as a reference. In general, we want to do the following: 1. Hide Settings, Management Jobs, and Credential Types from _all users except system administrators and system auditors_. Note that these two flags come from `/api/v2/me` (is_superuser, is_system_auditor). 2. Hide Instance Groups and Integrations (Applications) from _all users except system administrators, system auditors, and org administrators_. Determining whether a user is an org admin is done with a request to `/api/v2/users/:user_id/admin_of_organizations/` and checking that the count is greater than one. 3. Hide Notifications from _all users except system administrators, system auditors, org administrators, and notification administrators_. Determining whether a user is an org admin is done with a request to `api/v2/organizations/?role_level=notification_admin_role` and checking that the count is greater than one. If none of the `Administration` or `Settings` options are shown to a user then those headers should be hidden as well. other-file other-file source-file test-file other-file test-file other-file other-file source-file test-file other-file test-file other-file other-file source-file test-file other-file test-file",no-bug,0.9
8777,awx,https://github.com/ansible/awx/issues/8777,awx collection workflow approval with success node fail,"##### ISSUE TYPE - Bug Report ##### SUMMARY apply success node to approval_node fail because success_nodes not exists in /api/v2/workflow_approval_templates/ ""msg"": ""The requested object could not be found at /api/v2/workflow_approval_templates/280/success_nodes/."" ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: docker * Ansible version: 2.8.7 * Operating System: redhat * Web Browser: chrome ##### STEPS TO REPRODUCE approval_node with success_node ##### EXPECTED RESULTS ansible tasks changed ##### ACTUAL RESULTS ansible fail ##### ADDITIONAL INFORMATION",source-file | source-file | source-file | source-file | source-file | source-file | source-file,"awx collection workflow approval with success node fail ##### ISSUE TYPE - Bug Report ##### SUMMARY apply success node to approval_node fail because success_nodes not exists in /api/v2/workflow_approval_templates/ ""msg"": ""The requested object could not be found at /api/v2/workflow_approval_templates/280/success_nodes/."" ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: docker * Ansible version: 2.8.7 * Operating System: redhat * Web Browser: chrome ##### STEPS TO REPRODUCE approval_node with success_node ##### EXPECTED RESULTS ansible tasks changed ##### ACTUAL RESULTS ansible fail ##### ADDITIONAL INFORMATION source-file source-file source-file source-file source-file source-file source-file",bug,0.9
8272,awx,https://github.com/ansible/awx/issues/8272,Handle session expiration and tabbed session state on login page,"* When user is automatically logged out for being idle, show a message on the logout page so they know what happened * When user logs in on one tab, transition from login page to home on the others",other-file | test-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file,"Handle session expiration and tabbed session state on login page * When user is automatically logged out for being idle, show a message on the logout page so they know what happened * When user logs in on one tab, transition from login page to home on the others other-file test-file other-file test-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file",no-bug,0.8
6859,awx,https://github.com/ansible/awx/issues/6859,"[ui_next] Survey, check label 'Required' (for the question-required), needs to be marked for translations","##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, check label 'Required' (for the question-required), at 'Templates > Survey' screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to 'Templates > Survey' screen 3. Fill out the survey question for any of the Answer Type (say - Text) 4. Observe the check label 'Required' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS text 'Required' should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS text 'Required' appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting, check label 'Required' (for the question-required), appearing in English at 'Templates > Survey' screen, with Japanese google-chrome: ![Screenshot from 2020-04-28 22-33-24_1](https://user-images.githubusercontent.com/12151785/80519207-3fba3b00-89a5-11ea-9558-e6c259e23283.png) <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file,"[ui_next] Survey, check label 'Required' (for the question-required), needs to be marked for translations ##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, check label 'Required' (for the question-required), at 'Templates > Survey' screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to 'Templates > Survey' screen 3. Fill out the survey question for any of the Answer Type (say - Text) 4. Observe the check label 'Required' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS text 'Required' should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS text 'Required' appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting, check label 'Required' (for the question-required), appearing in English at 'Templates > Survey' screen, with Japanese google-chrome: ![Screenshot from 2020-04-28 22-33-24_1](https://user-images.githubusercontent.com/12151785/80519207-3fba3b00-89a5-11ea-9558-e6c259e23283.png) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file",no-bug,0.9
9685,awx,https://github.com/ansible/awx/issues/9685,Running Ad-hoc command through shell module is not executing against all given hosts,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY When running an ad-hoc command (e.g. hostname) using the shell module against an inventory's hosts, it seems the command is executing only against a single host. However, the command is running properly when ran as tasks within a playbook. e.g. running hostname using the shell module as an ad-hoc command against 192.168.100.112 and 192.168.100.113 is producing the following output. ``` No config file found; using defaults SSH password: 192.168.100.112 | CHANGED | rc=0 >> ansible-target-1 192.168.100.113 | CHANGED | rc=0 >> ansible-target-1 ``` The output when ran against the same set of hosts (192.168.100.112 and 192.168.100.113) through a playbook task: Playbook Tasks: ``` - name: Test running a command on Linux shell: hostname register: cmd_output changed_when: false - debug: var: cmd_output ``` Output: ``` ok: [192.168.100.112] => { ""cmd_output"": { ""changed"": false, ""cmd"": ""hostname"", ""delta"": ""0:00:00.006624"", ""end"": ""2021-03-24 12:32:21.732695"", ""failed"": false, ""rc"": 0, ""start"": ""2021-03-24 12:32:21.726071"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""ansible-target-1"", ""stdout_lines"": [ ""ansible-target-1"" ] } } ok: [192.168.100.113] => { ""cmd_output"": { ""changed"": false, ""cmd"": ""hostname"", ""delta"": ""0:00:00.004691"", ""end"": ""2021-03-24 12:32:21.732708"", ""failed"": false, ""rc"": 0, ""start"": ""2021-03-24 12:32:21.728017"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""ansible-target-2"", ""stdout_lines"": [ ""ansible-target-2"" ] } } ``` ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: On a Kubernetes Cluster using the Kubernetes Operator mentioned in the installation documentation * Ansible version: Default Execution Environment * Operating System: Ubuntu 18.04.5 LTS * Web Browser: Chrome ##### STEPS TO REPRODUCE Run Ad-hoc command using the shell module in AWX: ![image](https://user-images.githubusercontent.com/28568237/112347999-c652c780-8c9d-11eb-894d-e807a71c07a7.png) ##### EXPECTED RESULTS The hostname command should return the hostname of the target against which it is being executed. ``` SSH password: 192.168.100.113 | CHANGED | rc=0 >> ansible-target-2 192.168.100.112 | CHANGED | rc=0 >> ansible-target-1 ``` ##### ACTUAL RESULTS The hostname of 192.168.100.112 is being returned for both hosts. ``` SSH password: 192.168.100.113 | CHANGED | rc=0 >> ansible-target-1 192.168.100.112 | CHANGED | rc=0 >> ansible-target-1 ``` ##### ADDITIONAL INFORMATION This is the first time I deployed AWX on a Kubernetes cluster using the operator. Please suggest if there is any settings which may need to be modified or if any specific logs are needed to debug this issue further.",source-file,"Running Ad-hoc command through shell module is not executing against all given hosts <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY When running an ad-hoc command (e.g. hostname) using the shell module against an inventory's hosts, it seems the command is executing only against a single host. However, the command is running properly when ran as tasks within a playbook. e.g. running hostname using the shell module as an ad-hoc command against 192.168.100.112 and 192.168.100.113 is producing the following output. ``` No config file found; using defaults SSH password: 192.168.100.112 | CHANGED | rc=0 >> ansible-target-1 192.168.100.113 | CHANGED | rc=0 >> ansible-target-1 ``` The output when ran against the same set of hosts (192.168.100.112 and 192.168.100.113) through a playbook task: Playbook Tasks: ``` - name: Test running a command on Linux shell: hostname register: cmd_output changed_when: false - debug: var: cmd_output ``` Output: ``` ok: [192.168.100.112] => { ""cmd_output"": { ""changed"": false, ""cmd"": ""hostname"", ""delta"": ""0:00:00.006624"", ""end"": ""2021-03-24 12:32:21.732695"", ""failed"": false, ""rc"": 0, ""start"": ""2021-03-24 12:32:21.726071"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""ansible-target-1"", ""stdout_lines"": [ ""ansible-target-1"" ] } } ok: [192.168.100.113] => { ""cmd_output"": { ""changed"": false, ""cmd"": ""hostname"", ""delta"": ""0:00:00.004691"", ""end"": ""2021-03-24 12:32:21.732708"", ""failed"": false, ""rc"": 0, ""start"": ""2021-03-24 12:32:21.728017"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""ansible-target-2"", ""stdout_lines"": [ ""ansible-target-2"" ] } } ``` ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: On a Kubernetes Cluster using the Kubernetes Operator mentioned in the installation documentation * Ansible version: Default Execution Environment * Operating System: Ubuntu 18.04.5 LTS * Web Browser: Chrome ##### STEPS TO REPRODUCE Run Ad-hoc command using the shell module in AWX: ![image](https://user-images.githubusercontent.com/28568237/112347999-c652c780-8c9d-11eb-894d-e807a71c07a7.png) ##### EXPECTED RESULTS The hostname command should return the hostname of the target against which it is being executed. ``` SSH password: 192.168.100.113 | CHANGED | rc=0 >> ansible-target-2 192.168.100.112 | CHANGED | rc=0 >> ansible-target-1 ``` ##### ACTUAL RESULTS The hostname of 192.168.100.112 is being returned for both hosts. ``` SSH password: 192.168.100.113 | CHANGED | rc=0 >> ansible-target-1 192.168.100.112 | CHANGED | rc=0 >> ansible-target-1 ``` ##### ADDITIONAL INFORMATION This is the first time I deployed AWX on a Kubernetes cluster using the operator. Please suggest if there is any settings which may need to be modified or if any specific logs are needed to debug this issue further. source-file",no-bug,0.9
12334,awx,https://github.com/ansible/awx/issues/12334,Selecting management jobs as non system admin raises error as node type,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Selecting management jobs as non system admin raises error as node type <img width=""1124"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/172234815-633a7b1b-c11a-455c-ab65-9656de270ccd.png""> ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a user a normal user, user A. 2 - Give the user A - admin permissions on a workflow job template. 3 - Login as user A. 4 - Attempt to add an extra node - select management job as node type. ### Expected results Not be able to select management jobs as node type ### Actual results Able to attempt to select management jobs as node type ### Additional information _No response_",test-file | test-file | source-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | source-file | test-file,"Selecting management jobs as non system admin raises error as node type ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Selecting management jobs as non system admin raises error as node type <img width=""1124"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/172234815-633a7b1b-c11a-455c-ab65-9656de270ccd.png""> ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a user a normal user, user A. 2 - Give the user A - admin permissions on a workflow job template. 3 - Login as user A. 4 - Attempt to add an extra node - select management job as node type. ### Expected results Not be able to select management jobs as node type ### Actual results Able to attempt to select management jobs as node type ### Additional information _No response_ test-file test-file source-file test-file test-file test-file source-file test-file test-file test-file source-file test-file",no-bug,0.8
11169,awx,https://github.com/ansible/awx/issues/11169,Inventory Source AAP subform not being displayed,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Inventory Source AAP subform not being displayed ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Attempt to create an inventory source using `Red Hat Ansible Automation Platform`. 2 - Subform not being displayed <img width=""1492"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/135331900-b537e935-bec1-4df4-86ea-419efdf514c5.png""> ### Expected results Subform being displayed ### Actual results Subform not being displayed ### Additional information _No response_",source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file,"Inventory Source AAP subform not being displayed ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Inventory Source AAP subform not being displayed ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Attempt to create an inventory source using `Red Hat Ansible Automation Platform`. 2 - Subform not being displayed <img width=""1492"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/135331900-b537e935-bec1-4df4-86ea-419efdf514c5.png""> ### Expected results Subform being displayed ### Actual results Subform not being displayed ### Additional information _No response_ source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file",no-bug,0.8
7301,awx,https://github.com/ansible/awx/issues/7301,Custom Credential Type Routing Stub,##### ISSUE TYPE - Feature Idea ##### SUMMARY Stub out the routing and the needed components for Custom Credential Type,other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file,Custom Credential Type Routing Stub ##### ISSUE TYPE - Feature Idea ##### SUMMARY Stub out the routing and the needed components for Custom Credential Type other-file source-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file,no-bug,0.9
9752,awx,https://github.com/ansible/awx/issues/9752,Remove isolated and controller nodes from the UI,##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove isolated and controller nodes to be shown on the UI. See: https://github.com/ansible/awx/issues/8740,test-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file,Remove isolated and controller nodes from the UI ##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove isolated and controller nodes to be shown on the UI. See: https://github.com/ansible/awx/issues/8740 test-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file test-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file test-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file,no-bug,0.9
4894,awx,https://github.com/ansible/awx/issues/4894,"Relation ""django_session"" does not exist","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> when i try to start ansible/awx_web container i got this error on log : ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/handlers/exception.py"", line 34, in inner response = get_response(request) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/deprecation.py"", line 93, in __call__ response = self.process_request(request) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/middleware/locale.py"", line 21, in process_request language = translation.get_language_from_request(request, check_path=i18n_patterns_used) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/translation/__init__.py"", line 236, in get_language_from_request return _trans.get_language_from_request(request, check_path) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/translation/trans_real.py"", line 463, in get_language_from_request lang_code = request.session.get(LANGUAGE_SESSION_KEY) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/base.py"", line 65, in get return self._session.get(key, default) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/base.py"", line 194, in _get_session self._session_cache = self.load() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/db.py"", line 43, in load s = self._get_session_from_db() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/db.py"", line 34, in _get_session_from_db expire_date__gt=timezone.now() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method return getattr(self.get_queryset(), name)(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 402, in get num = len(clone) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 256, in __len__ self._fetch_all() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all self._result_cache = list(self._iterable_class(self)) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1100, in execute_sql cursor.execute(sql, params) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 67, in execute return self._execute_with_wrappers(sql, params, many=False, executor=self._execute) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 76, in _execute_with_wrappers return executor(sql, params, many, context) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute return self.cursor.execute(sql, params) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute return self.cursor.execute(sql, params) django.db.utils.ProgrammingError: relation ""django_session"" does not exist LINE 1: ...ession_data"", ""django_session"".""expire_date"" FROM ""django_se... ``` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker for mac * Ansible version: 2.8.4 * Operating System:Mac os * Web Browser: chrome ##### STEPS TO REPRODUCE ` ansible-playbook -i inventory install.yml` <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS i got an error : `django.db.utils.ProgrammingError: relation ""django_session"" does not exist` <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file,"Relation ""django_session"" does not exist ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> when i try to start ansible/awx_web container i got this error on log : ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/handlers/exception.py"", line 34, in inner response = get_response(request) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/deprecation.py"", line 93, in __call__ response = self.process_request(request) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/middleware/locale.py"", line 21, in process_request language = translation.get_language_from_request(request, check_path=i18n_patterns_used) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/translation/__init__.py"", line 236, in get_language_from_request return _trans.get_language_from_request(request, check_path) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/utils/translation/trans_real.py"", line 463, in get_language_from_request lang_code = request.session.get(LANGUAGE_SESSION_KEY) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/base.py"", line 65, in get return self._session.get(key, default) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/base.py"", line 194, in _get_session self._session_cache = self.load() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/db.py"", line 43, in load s = self._get_session_from_db() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/contrib/sessions/backends/db.py"", line 34, in _get_session_from_db expire_date__gt=timezone.now() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method return getattr(self.get_queryset(), name)(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 402, in get num = len(clone) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 256, in __len__ self._fetch_all() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all self._result_cache = list(self._iterable_class(self)) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1100, in execute_sql cursor.execute(sql, params) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 67, in execute return self._execute_with_wrappers(sql, params, many=False, executor=self._execute) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 76, in _execute_with_wrappers return executor(sql, params, many, context) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute return self.cursor.execute(sql, params) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute return self.cursor.execute(sql, params) django.db.utils.ProgrammingError: relation ""django_session"" does not exist LINE 1: ...ession_data"", ""django_session"".""expire_date"" FROM ""django_se... ``` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker for mac * Ansible version: 2.8.4 * Operating System:Mac os * Web Browser: chrome ##### STEPS TO REPRODUCE ` ansible-playbook -i inventory install.yml` <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS i got an error : `django.db.utils.ProgrammingError: relation ""django_session"" does not exist` <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
8769,awx,https://github.com/ansible/awx/issues/8769,[ui_next] Catastrophic failure if changing between resources in wizard after filtering/sorting on wizard steps,"##### ISSUE TYPE - Bug Report ##### SUMMARY Catastrophic failure if changing between resources in wizard after filtering/sorting on wizard steps. This affects at least the organization add user/team modal, but may be application wide. ##### ENVIRONMENT * AWX version: d14fa93ce9776754a3524fb9c526a42e79cb7421 ##### STEPS TO REPRODUCE 1. Go to Org 'Access' tab 2. Open Add User Wizard 3. Click on User for step 1 4. Create a filtered/sorted view for step 2 5. Click on the resource step to change from User to Team ##### EXPECTED RESULTS Can add a user role, search, change your mind, add team role instead. ##### ACTUAL RESULTS ##### ADDITIONAL INFORMATION ``` Uncaught Error: sortKey must match one of the column keys, check the sortColumns prop passed to <Sort /> at a.value (Sort.jsx:109) at Ra (react-dom.production.min.js:182) at Pa (react-dom.production.min.js:181) at vs (react-dom.production.min.js:263) at cl (react-dom.production.min.js:246) at sl (react-dom.production.min.js:246) at Qs (react-dom.production.min.js:239) at react-dom.production.min.js:123 at t.unstable_runWithPriority (scheduler.production.min.js:19) at Hi (react-dom.production.min.js:122) ```",other-file | test-file | other-file,"[ui_next] Catastrophic failure if changing between resources in wizard after filtering/sorting on wizard steps ##### ISSUE TYPE - Bug Report ##### SUMMARY Catastrophic failure if changing between resources in wizard after filtering/sorting on wizard steps. This affects at least the organization add user/team modal, but may be application wide. ##### ENVIRONMENT * AWX version: d14fa93ce9776754a3524fb9c526a42e79cb7421 ##### STEPS TO REPRODUCE 1. Go to Org 'Access' tab 2. Open Add User Wizard 3. Click on User for step 1 4. Create a filtered/sorted view for step 2 5. Click on the resource step to change from User to Team ##### EXPECTED RESULTS Can add a user role, search, change your mind, add team role instead. ##### ACTUAL RESULTS ##### ADDITIONAL INFORMATION ``` Uncaught Error: sortKey must match one of the column keys, check the sortColumns prop passed to <Sort /> at a.value (Sort.jsx:109) at Ra (react-dom.production.min.js:182) at Pa (react-dom.production.min.js:181) at vs (react-dom.production.min.js:263) at cl (react-dom.production.min.js:246) at sl (react-dom.production.min.js:246) at Qs (react-dom.production.min.js:239) at react-dom.production.min.js:123 at t.unstable_runWithPriority (scheduler.production.min.js:19) at Hi (react-dom.production.min.js:122) ``` other-file test-file other-file",no-bug,0.9
4461,awx,https://github.com/ansible/awx/issues/4461,"Performance issue with many groups, too many SQL queries","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Same Issue as #3214, only this time please handle groups also AWX is crunching through all groups with 10,000 queries for us. Before the job even starts for real. For 60 seconds.",source-file,"Performance issue with many groups, too many SQL queries ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Same Issue as #3214, only this time please handle groups also AWX is crunching through all groups with 10,000 queries for us. Before the job even starts for real. For 60 seconds. source-file",no-bug,0.8
14511,awx,https://github.com/ansible/awx/issues/14511,[DOCS] Add alt-text codeblock to Images for Userguide: main_menu.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the main_menu.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | documentation-file | other-file | other-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | container-file | container-file | config-file | config-file | config-file | other-file | config-file | config-file | config-file | config-file | config-file | config-file | other-file | other-file | documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: main_menu.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the main_menu.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file documentation-file other-file other-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file container-file container-file config-file config-file config-file other-file config-file config-file config-file config-file config-file config-file other-file other-file documentation-file documentation-file documentation-file",no-bug,0.95
14487,awx,https://github.com/ansible/awx/issues/14487,Tower Settings of type on/off idempotency not working,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary When trying to set the setting named AWX_MOUNT_ISOLATED_PATHS_ON_K8S to true, no matter what I put in the playbook it is always marked as ""changed: true"", even if the setting is already true.. Sample Task: ``` - name: SET AWX EXPOSE HOST PATHS awx.awx.settings: name: ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"" value: true ``` When I change the playbook value and register the results of the task to review the results I get this: | Value In Playbook | Resulting Debug| | ------- | ------- | | true | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>}| | True | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>}| | ""true"" | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""true""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>}| | ""True"" | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>} | yes | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>} The documentation says this: ```> AWX.AWX.SETTINGS ([...]collections/ansible_collections/awx/awx/plugins/modules/settings.py) Modify Automation Platform Controller settings. See https://www.ansible.com/tower for an overview. OPTIONS (= is mandatory): - value Value to be modified for given setting. **If given a non-string type, will make best effort to cast it to type API expects.** For better control over types, use the `settings' param instead. default: null type: str ``` This leads me to believe that the logic used to sanitize the input might be doing a little extra or the conversion of 'settings' parameters to/from name/value parameters. The documentation does show an example of how to use both the settings parameter and the name/value parameter. So, this may be lower priority but I wanted to get this somewhere that could be search by others who may be running into this issue. ### AWX version 23.1.0 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [ ] Docs - [X] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version 2.15.4 ### Operating system CentOS Stream release 9 ### Web browser Firefox ### Steps to reproduce Use a playbook that modifies a boolean setting. Use the awx.awx.setting module. Use the name/value parameters instead of the settings paremeter. Sample: ``` - name: SET AWX EXPOSE HOST PATHS awx.awx.settings: name: ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"" value: true register: this_setting - name: Debug this setting debug: var=this_setting ``` ### Expected results When the setting is already true, idempotency keeps the playbook from trying to update the setting again. ### Actual results Regardless if the setting is true or not, the playbook always updates the setting. ### Additional information _No response_",source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Tower Settings of type on/off idempotency not working ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary When trying to set the setting named AWX_MOUNT_ISOLATED_PATHS_ON_K8S to true, no matter what I put in the playbook it is always marked as ""changed: true"", even if the setting is already true.. Sample Task: ``` - name: SET AWX EXPOSE HOST PATHS awx.awx.settings: name: ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"" value: true ``` When I change the playbook value and register the results of the task to review the results I get this: | Value In Playbook | Resulting Debug| | ------- | ------- | | true | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>}| | True | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>}| | ""true"" | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""true""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>}| | ""True"" | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>} | yes | ok: [awxlab] => {<br> ""this_setting"": {<br> ""changed"": true,<br> ""failed"": false,<br> ""new_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": ""True""<br> },<br> ""old_values"": {<br> ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"": true<br> },<br> ""value"": true<br> }<br>} The documentation says this: ```> AWX.AWX.SETTINGS ([...]collections/ansible_collections/awx/awx/plugins/modules/settings.py) Modify Automation Platform Controller settings. See https://www.ansible.com/tower for an overview. OPTIONS (= is mandatory): - value Value to be modified for given setting. **If given a non-string type, will make best effort to cast it to type API expects.** For better control over types, use the `settings' param instead. default: null type: str ``` This leads me to believe that the logic used to sanitize the input might be doing a little extra or the conversion of 'settings' parameters to/from name/value parameters. The documentation does show an example of how to use both the settings parameter and the name/value parameter. So, this may be lower priority but I wanted to get this somewhere that could be search by others who may be running into this issue. ### AWX version 23.1.0 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [ ] Docs - [X] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version 2.15.4 ### Operating system CentOS Stream release 9 ### Web browser Firefox ### Steps to reproduce Use a playbook that modifies a boolean setting. Use the awx.awx.setting module. Use the name/value parameters instead of the settings paremeter. Sample: ``` - name: SET AWX EXPOSE HOST PATHS awx.awx.settings: name: ""AWX_MOUNT_ISOLATED_PATHS_ON_K8S"" value: true register: this_setting - name: Debug this setting debug: var=this_setting ``` ### Expected results When the setting is already true, idempotency keeps the playbook from trying to update the setting again. ### Actual results Regardless if the setting is true or not, the playbook always updates the setting. ### Additional information _No response_ source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.8
7669,awx,https://github.com/ansible/awx/issues/7669,Add support for convergence any/all on workflow nodes,"##### ISSUE TYPE - Feature Idea ##### SUMMARY In old tower we added this field: <img width=""1673"" alt=""Screen Shot 2020-07-20 at 1 18 32 PM"" src=""https://user-images.githubusercontent.com/9889020/87966675-99ee0800-ca8b-11ea-8d50-95041afa2e41.png""> We'll need to add the same field to the workflow node wizard in ui_next.",source-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file,"Add support for convergence any/all on workflow nodes ##### ISSUE TYPE - Feature Idea ##### SUMMARY In old tower we added this field: <img width=""1673"" alt=""Screen Shot 2020-07-20 at 1 18 32 PM"" src=""https://user-images.githubusercontent.com/9889020/87966675-99ee0800-ca8b-11ea-8d50-95041afa2e41.png""> We'll need to add the same field to the workflow node wizard in ui_next. source-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file other-file",no-bug,0.9
6184,awx,https://github.com/ansible/awx/issues/6184,Inventory host add form doesn't save,"##### ISSUE TYPE - Bug Report ##### SUMMARY Inventory Host Add form does not save because it thinks the inventory lookup field is required ![bug](https://user-images.githubusercontent.com/15881645/75999126-cb48ab80-5ecf-11ea-9540-544c8c682086.gif) ##### STEPS TO REPRODUCE * Fill out an Inventory Host Add form * Save ##### EXPECTED RESULTS * Form saves and navigates to detail view ##### ACTUAL RESULTS * Form does not save, no navigation, no errors shown",source-file | source-file,"Inventory host add form doesn't save ##### ISSUE TYPE - Bug Report ##### SUMMARY Inventory Host Add form does not save because it thinks the inventory lookup field is required ![bug](https://user-images.githubusercontent.com/15881645/75999126-cb48ab80-5ecf-11ea-9540-544c8c682086.gif) ##### STEPS TO REPRODUCE * Fill out an Inventory Host Add form * Save ##### EXPECTED RESULTS * Form saves and navigates to detail view ##### ACTUAL RESULTS * Form does not save, no navigation, no errors shown source-file source-file",no-bug,0.8
6499,awx,https://github.com/ansible/awx/issues/6499,ERROR: must be owner of database awx,"##### ISSUE TYPE - Bug Report ##### SUMMARY I have differents errors on postgres pod after one fresh install ##### ENVIRONMENT * AWX version: 9.3 * AWX install method: kubernetes * Ansible version: 2.9.4 * Operating System: Ubuntu 18.04 * Web Browser: Firefox / chromium Helm postgresql chart: postgresql-8.3.0 (app version 11.6.0) ##### STEPS TO REPRODUCE Inventory file ``` localhost ansible_connection=local ansible_python_interpreter=""/usr/bin/env python"" [all:vars] dockerhub_base=ansible # Kubernetes Install kubernetes_context=awx-prp kubernetes_namespace=awx-prp kubernetes_deployment_name=awx-prp kubernetes_deployment_replica_size=1 tiller_namespace=kube-system pg_volume_capacity=20 # Kubernetes Ingress Configuration kubernetes_ingress_hostname=cloud-awx-z00n-prp.cloud.620nm.net kubernetes_ingress_annotations={'kubernetes.io/ingress.class': 'nginx'} kubernetes_ingress_tls_secret=wildcard.cloud.620nm.net # Common Docker parameters awx_task_hostname=awx awx_web_hostname=awxweb postgres_data_dir=""~/.awx/pgdocker"" host_port=80 host_port_ssl=443 #ssl_certificate= docker_compose_dir=""~/.awx/awxcompose"" # Set pg_hostname if you have an external postgres server, otherwise # a new postgres service will be created # pg_hostname=postgresql pg_username=awx # pg_password should be random 10 character alphanumeric string, when postgresql is running on kubernetes # NB: it's a limitation of the ""official"" postgres helm chart pg_password=""<10 character alphanumeric string >"" pg_database=awx pg_port=5432 #pg_sslmode=require # pg_admin_password=postgrespass # RabbitMQ Configuration rabbitmq_password=""< rabbitmq_password >"" rabbitmq_erlang_cookie=cookiemonster # This will create or update a default admin (superuser) account in AWX, if not provided # then these default values are used admin_user=admin admin_password=""< awx_password >"" # Whether or not to create preload data for demonstration purposes create_preload_data=False # AWX Secret key # It's *very* important that this stay the same between upgrades or you will lose the ability to decrypt # your credentials secret_key=awxsecret ``` ##### EXPECTED RESULTS No error in postgres pod ##### ACTUAL RESULTS On the first playbook execution, i have a failed at ""kubernetes : create django super user if it does not exist"" task. ``` TASK [kubernetes : Check for Tower Super users] ******************************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx-prp exec ansible-tower-management -- bash -c \""echo 'from django.contrib.auth.models import User; nsu = User.objects.filter(is_superuser=True).count(); exit(0 if nsu > 0 else 1)' | awx-manage shell\""\n"", ""delta"": ""0:00:02.624181"", ""end"": ""2020-03-31 12:28:16.431460"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:28:13.807279"", ""stderr"": ""command terminated with exit code 1"", ""stderr_lines"": [""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : create django super user if it does not exist] ************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""censored"": ""the output has been hidden due to the fact that 'no_log: true' was specified for this result"", ""changed"": true} ``` If i re lunch the playbook, it's good for ansible, but in postgres log, i have ``` ERROR: must be owner of database awx STATEMENT: ALTER DATABASE ""awx"" OWNER TO ""awx"" ``` ``` kubectl exec -it awx-prp-postgresql-postgresql-0 -- /bin/bash I have no name!@awx-prp-postgresql-postgresql-0:/$ I have no name!@awx-prp-postgresql-postgresql-0:/$ psql --user awx Password for user awx: psql (11.6) Type ""help"" for help. awx=> \l List of databases Name | Owner | Encoding | Collate | Ctype | Access privileges -----------+----------+----------+-------------+-------------+----------------------- awx | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =Tc/postgres + | | | | | postgres=CTc/postgres+ | | | | | awx=CTc/postgres postgres | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | template0 | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =c/postgres + | | | | | postgres=CTc/postgres template1 | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =c/postgres + | | | | | postgres=CTc/postgres (4 rows) awx=> \du List of roles Role name | Attributes | Member of -----------+------------------------------------------------------------+----------- awx | Create DB | {} postgres | Superuser, Create role, Create DB, Replication, Bypass RLS | {} awx=> ``` ##### ADDITIONAL INFORMATION ansible-playbook install.yml -i ../inventory_os_k8s_prp <details> <summary> playbook logs </summary> ``` PLAY [Build and deploy AWX] *************************************************************************************************************************************************************************************** TASK [Gathering Facts] ******************************************************************************************************************************************************************************************** ok: [localhost] TASK [check_vars : include_tasks] ********************************************************************************************************************************************************************************* skipping: [localhost] TASK [check_vars : include_tasks] ********************************************************************************************************************************************************************************* included: /home/mrkw3241/work/k8s/awx/installer/roles/check_vars/tasks/check_docker.yml for localhost TASK [check_vars : postgres_data_dir should be defined] *********************************************************************************************************************************************************** ok: [localhost] => { ""changed"": false, ""msg"": ""All assertions passed"" } TASK [check_vars : host_port should be defined] ******************************************************************************************************************************************************************* ok: [localhost] => { ""changed"": false, ""msg"": ""All assertions passed"" } TASK [image_build : Set global version if not provided] *********************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Verify awx-logos directory exists for official install] *************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Copy logos for inclusion in sdist] ************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Set sdist file name] ************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : AWX Distribution] ***************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stat distribution file] *********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Clean distribution] *************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Build sdist builder image] ******************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Build AWX distribution using container] ******************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Build AWX distribution locally] *************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Set docker build base path] ******************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Set awx_web image name] *********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Set awx_task image name] ********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Ensure directory exists] ********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage sdist] ********************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Template web Dockerfile] ********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Template task Dockerfile] ********************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Stage launch_awx] ***************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage launch_awx_task] ************************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Stage google-cloud-sdk.repo] ****************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage supervisor.conf] ************************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Stage supervisor_task.conf] ******************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Stage settings.py] **************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage requirements] *************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage config watcher] ************************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Stage Makefile] ******************************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Build base web image] ************************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Build base task image] ************************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Tag task and web images as latest] ************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Clean docker base directory] ****************************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Authenticate with Docker registry if registry password given] ********************************************************************************************************************************** skipping: [localhost] TASK [image_push : Remove web image] ****************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Remove task image] ***************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Tag and push web image to registry] ************************************************************************************************************************************************************ skipping: [localhost] TASK [image_push : Tag and push task image to registry] *********************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Set full image path for Registry] ************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : fail] ****************************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : include_tasks] ********************************************************************************************************************************************************************************* skipping: [localhost] => (item=openshift_auth.yml) skipping: [localhost] => (item=openshift.yml) TASK [kubernetes : include_tasks] ********************************************************************************************************************************************************************************* included: /home/mrkw3241/work/k8s/awx/installer/roles/kubernetes/tasks/kubernetes_auth.yml for localhost included: /home/mrkw3241/work/k8s/awx/installer/roles/kubernetes/tasks/kubernetes.yml for localhost TASK [kubernetes : Set the Kubernetes Context] ******************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Get Namespace Detail] ************************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Create AWX Kubernetes Project] ***************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set postgresql service name] ******************************************************************************************************************************************************************* ok: [localhost] TASK [kubernetes : Get Kubernetes API version] ******************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Extract server version from command output] **************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Use kubectl or oc] ***************************************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : set_fact] ************************************************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Record deployment size] ************************************************************************************************************************************************************************ fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl get sts awx-prp -n awx-prp -o=jsonpath='{.status.replicas}'\n"", ""delta"": ""0:00:00.453192"", ""end"": ""2020-03-31 12:25:54.961335"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:25:54.508143"", ""stderr"": ""Error from server (NotFound): statefulsets.apps \""awx-prp\"" not found"", ""stderr_lines"": [""Error from server (NotFound): statefulsets.apps \""awx-prp\"" not found""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : Set expected post-deployment Replicas value] *************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Delete existing Deployment] ******************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Get Postgres Service Detail] ******************************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl describe svc awx-prp-postgresql -n awx-prp"", ""delta"": ""0:00:00.367317"", ""end"": ""2020-03-31 12:25:55.641523"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:25:55.274206"", ""stderr"": ""Error from server (NotFound): services \""awx-prp-postgresql\"" not found"", ""stderr_lines"": [""Error from server (NotFound): services \""awx-prp-postgresql\"" not found""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : Template PostgreSQL Deployment (OpenShift)] **************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Deploy and Activate Postgres (OpenShift)] ****************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Create Temporary Values File (Kubernetes)] ***************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Populate Temporary Values File (Kubernetes)] *************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Deploy and Activate Postgres (Kubernetes)] ***************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Remove tempfile] ******************************************************************************************************************************************************************************* changed: [localhost] TASK [kubernetes : Set postgresql hostname to helm package service (Kubernetes)] ********************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Wait for Postgres to activate] ***************************************************************************************************************************************************************** Pausing for 60 seconds (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort) ok: [localhost] TASK [kubernetes : Check if Postgres 9.6 is being used] *********************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set new pg image] ****************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for change to take affect] **************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set env var for pg upgrade] ******************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for change to take affect] **************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set env var for new pg version] **************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for Postgres to redeploy] ***************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for Postgres to finish upgrading] ********************************************************************************************************************************************************* skipping: [localhost] TASK [kubernetes : Unset upgrade env var] ************************************************************************************************************************************************************************* skipping: [localhost] TASK [kubernetes : Wait for Postgres to redeploy] ***************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set task image name] *************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set web image name] **************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Generate SSL certificates for RabbitMQ, if needed] ********************************************************************************************************************************************* skipping: [localhost] TASK [kubernetes : Determine StatefulSet api version] ************************************************************************************************************************************************************* ok: [localhost] TASK [kubernetes : Render deployment templates] ******************************************************************************************************************************************************************* ok: [localhost] => (item=None) ok: [localhost] => (item=None) ok: [localhost] => (item=None) ok: [localhost] TASK [kubernetes : Apply Deployment] ****************************************************************************************************************************************************************************** changed: [localhost] => (item=None) changed: [localhost] => (item=None) changed: [localhost] => (item=None) changed: [localhost] TASK [kubernetes : Delete any existing management pod] ************************************************************************************************************************************************************ changed: [localhost] TASK [kubernetes : Template management pod] *********************************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Create management pod] ************************************************************************************************************************************************************************* changed: [localhost] TASK [kubernetes : Wait for management pod to start] ************************************************************************************************************************************************************** FAILED - RETRYING: Wait for management pod to start (60 retries left). changed: [localhost] TASK [kubernetes : Migrate database] ****************************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Check for Tower Super users] ******************************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx-prp exec ansible-tower-management -- bash -c \""echo 'from django.contrib.auth.models import User; nsu = User.objects.filter(is_superuser=True).count(); exit(0 if nsu > 0 else 1)' | awx-manage shell\""\n"", ""delta"": ""0:00:02.624181"", ""end"": ""2020-03-31 12:28:16.431460"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:28:13.807279"", ""stderr"": ""command terminated with exit code 1"", ""stderr_lines"": [""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : create django super user if it does not exist] ************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""censored"": ""the output has been hidden due to the fact that 'no_log: true' was specified for this result"", ""changed"": true} PLAY RECAP ******************************************************************************************************************************************************************************************************** localhost : ok=30 changed=15 unreachable=0 failed=1 skipped=57 rescued=0 ignored=3 ``` </details> kubectl logs awx-prp-postgresql-postgresql-0 <details> <summary> postgres logs </summary> ``` + id current user id: uid=0(root) gid=0(root) groups=0(root),1001 + echo current user id: uid=0(root) gid=0(root) groups=0(root),1001 + mkdir -p /bitnami/postgresql/data + chmod 700 /bitnami/postgresql/data + find /bitnami/postgresql -mindepth 1 -maxdepth 1 -not -name .snapshot -not -name lost+found + xargs chown -R 1001:1001 + chmod -R 777 /dev/shm postgresql 10:26:17.28 postgresql 10:26:17.29 Welcome to the Bitnami postgresql container postgresql 10:26:17.29 Subscribe to project updates by watching https://github.com/bitnami/bitnami-docker-postgresql postgresql 10:26:17.29 Submit issues and feature requests at https://github.com/bitnami/bitnami-docker-postgresql/issues postgresql 10:26:17.29 Send us your feedback at containers@bitnami.com postgresql 10:26:17.29 postgresql 10:26:17.31 INFO ==> ** Starting PostgreSQL setup ** postgresql 10:26:17.36 INFO ==> Validating settings in POSTGRESQL_* env vars.. postgresql 10:26:17.36 INFO ==> Loading custom pre-init scripts... postgresql 10:26:17.36 INFO ==> Initializing PostgreSQL database... postgresql 10:26:17.38 INFO ==> postgresql.conf file not detected. Generating it... postgresql 10:26:17.39 INFO ==> pg_hba.conf file not detected. Generating it... postgresql 10:26:17.39 INFO ==> Generating local authentication configuration postgresql 10:26:18.53 INFO ==> Starting PostgreSQL in background... postgresql 10:26:18.91 INFO ==> Creating user awx postgresql 10:26:18.92 INFO ==> Grating access to ""awx"" to the database ""awx"" postgresql 10:26:18.94 INFO ==> Configuring replication parameters postgresql 10:26:18.96 INFO ==> Configuring fsync postgresql 10:26:18.97 INFO ==> Loading custom scripts... postgresql 10:26:18.97 INFO ==> Enabling remote connections postgresql 10:26:18.98 INFO ==> Stopping PostgreSQL... postgresql 10:26:19.99 INFO ==> ** PostgreSQL setup finished! ** postgresql 10:26:20.04 INFO ==> ** Starting PostgreSQL ** 2020-03-31 10:26:20.063 GMT [1] LOG: listening on IPv4 address ""0.0.0.0"", port 5432 2020-03-31 10:26:20.063 GMT [1] LOG: listening on IPv6 address ""::"", port 5432 2020-03-31 10:26:20.066 GMT [1] LOG: listening on Unix socket ""/tmp/.s.PGSQL.5432"" 2020-03-31 10:26:20.080 GMT [213] LOG: database system was shut down at 2020-03-31 10:26:19 GMT 2020-03-31 10:26:20.085 GMT [1] LOG: database system is ready to accept connections 2020-03-31 10:27:12.953 GMT [268] LOG: incomplete startup packet 2020-03-31 10:27:14.254 GMT [269] LOG: incomplete startup packet 2020-03-31 10:27:25.429 GMT [283] ERROR: relation ""conf_setting"" does not exist at character 158 2020-03-31 10:27:25.429 GMT [283] STATEMENT: SELECT ""conf_setting"".""id"", ""conf_setting"".""created"", ""conf_setting"".""modified"", ""conf_setting"".""key"", ""conf_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_setting"" WHERE (""conf_setting"".""key"" IN ('ACTIVITY_STREAM_ENABLED', 'ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC', 'ORG_ADMINS_CAN_SEE_ALL_USERS', 'MANAGE_ORGANIZATION_AUTH', 'TOWER_URL_BASE', 'PROXY_IP_WHITELIST', 'LICENSE', 'REDHAT_USERNAME', 'REDHAT_PASSWORD', 'INSTALL_UUID', 'CUSTOM_VENV_PATHS', 'AD_HOC_COMMANDS', 'ALLOW_JINJA_IN_EXTRA_VARS', 'AWX_PROOT_ENABLED', 'AWX_PROOT_BASE_PATH', 'AWX_PROOT_HIDE_PATHS', 'AWX_PROOT_SHOW_PATHS', 'AWX_ISOLATED_VERBOSITY', 'AWX_ISOLATED_CHECK_INTERVAL', 'AWX_ISOLATED_LAUNCH_TIMEOUT', 'AWX_ISOLATED_CONNECTION_TIMEOUT', 'AWX_ISOLATED_HOST_KEY_CHECKING', 'AWX_ISOLATED_KEY_GENERATION', 'AWX_ISOLATED_PRIVATE_KEY', 'AWX_ISOLATED_PUBLIC_KEY', 'AWX_RESOURCE_PROFILING_ENABLED', 'AWX_RESOURCE_PROFILING_CPU_POLL_INTERVAL', 'AWX_RESOURCE_PROFILING_MEMORY_POLL_INTERVAL', 'AWX_RESOURCE_PROFILING_PID_POLL_INTERVAL', 'AWX_TASK_ENV', 'INSIGHTS_TRACKING_STATE', 'PROJECT_UPDATE_VVV', 'AWX_ROLES_ENABLED', 'AWX_COLLECTIONS_ENABLED', 'PRIMARY_GALAXY_URL', 'PRIMARY_GALAXY_USERNAME', 'PRIMARY_GALAXY_PASSWORD', 'PRIMARY_GALAXY_TOKEN', 'PRIMARY_GALAXY_AUTH_URL', 'PUBLIC_GALAXY_ENABLED', 'GALAXY_IGNORE_CERTS', 'STDOUT_MAX_BYTES_DISPLAY', 'EVENT_STDOUT_MAX_BYTES_DISPLAY', 'SCHEDULE_MAX_JOBS', 'AWX_ANSIBLE_CALLBACK_PLUGINS', 'DEFAULT_JOB_TIMEOUT', 'DEFAULT_INVENTORY_UPDATE_TIMEOUT', 'DEFAULT_PROJECT_UPDATE_TIMEOUT', 'ANSIBLE_FACT_CACHE_TIMEOUT', 'MAX_FORKS', 'LOG_AGGREGATOR_HOST', 'LOG_AGGREGATOR_PORT', 'LOG_AGGREGATOR_TYPE', 'LOG_AGGREGATOR_USERNAME', 'LOG_AGGREGATOR_PASSWORD', 'LOG_AGGREGATOR_LOGGERS', 'LOG_AGGREGATOR_INDIVIDUAL_FACTS', 'LOG_AGGREGATOR_ENABLED', 'LOG_AGGREGATOR_TOWER_UUID', 'LOG_AGGREGATOR_PROTOCOL', 'LOG_AGGREGATOR_TCP_TIMEOUT', 'LOG_AGGREGATOR_VERIFY_CERT', 'LOG_AGGREGATOR_LEVEL', 'LOG_AGGREGATOR_AUDIT', 'BROKER_DURABILITY', 'AUTOMATION_ANALYTICS_LAST_GATHER', 'AUTOMATION_ANALYTICS_GATHER_INTERVAL', 'SESSION_COOKIE_AGE', 'SESSIONS_PER_USER', 'AUTH_BASIC_ENABLED', 'OAUTH2_PROVIDER', 'ALLOW_OAUTH2_FOR_EXTERNAL_USERS', 'LOGIN_REDIRECT_OVERRIDE', 'PENDO_TRACKING_STATE', 'CUSTOM_LOGIN_INFO', 'CUSTOM_LOGO', 'MAX_UI_JOB_EVENTS', 'UI_LIVE_UPDATES_ENABLED', 'SOCIAL_AUTH_ORGANIZATION_MAP', 'SOCIAL_AUTH_TEAM_MAP', 'SOCIAL_AUTH_USER_FIELDS', 'AUTH_LDAP_SERVER_URI', 'AUTH_LDAP_BIND_DN', 'AUTH_LDAP_BIND_PASSWORD', 'AUTH_LDAP_START_TLS', 'AUTH_LDAP_CONNECTION_OPTIONS', 'AUTH_LDAP_USER_SEARCH', 'AUTH_LDAP_USER_DN_TEMPLATE', 'AUTH_LDAP_USER_ATTR_MAP', 'AUTH_LDAP_GROUP_SEARCH', 'AUTH_LDAP_GROUP_TYPE', 'AUTH_LDAP_GROUP_TYPE_PARAMS', 'AUTH_LDAP_REQUIRE_GROUP', 'AUTH_LDAP_DENY_GROUP', 'AUTH_LDAP_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_ORGANIZATION_MAP', 'AUTH_LDAP_TEAM_MAP', 'AUTH_LDAP_1_SERVER_URI', 'AUTH_LDAP_1_BIND_DN', 'AUTH_LDAP_1_BIND_PASSWORD', 'AUTH_LDAP_1_START_TLS', 'AUTH_LDAP_1_CONNECTION_OPTIONS', 'AUTH_LDAP_1_USER_SEARCH', 'AUTH_LDAP_1_USER_DN_TEMPLATE', 'AUTH_LDAP_1_USER_ATTR_MAP', 'AUTH_LDAP_1_GROUP_SEARCH', 'AUTH_LDAP_1_GROUP_TYPE', 'AUTH_LDAP_1_GROUP_TYPE_PARAMS', 'AUTH_LDAP_1_REQUIRE_GROUP', 'AUTH_LDAP_1_DENY_GROUP', 'AUTH_LDAP_1_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_1_ORGANIZATION_MAP', 'AUTH_LDAP_1_TEAM_MAP', 'AUTH_LDAP_2_SERVER_URI', 'AUTH_LDAP_2_BIND_DN', 'AUTH_LDAP_2_BIND_PASSWORD', 'AUTH_LDAP_2_START_TLS', 'AUTH_LDAP_2_CONNECTION_OPTIONS', 'AUTH_LDAP_2_USER_SEARCH', 'AUTH_LDAP_2_USER_DN_TEMPLATE', 'AUTH_LDAP_2_USER_ATTR_MAP', 'AUTH_LDAP_2_GROUP_SEARCH', 'AUTH_LDAP_2_GROUP_TYPE', 'AUTH_LDAP_2_GROUP_TYPE_PARAMS', 'AUTH_LDAP_2_REQUIRE_GROUP', 'AUTH_LDAP_2_DENY_GROUP', 'AUTH_LDAP_2_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_2_ORGANIZATION_MAP', 'AUTH_LDAP_2_TEAM_MAP', 'AUTH_LDAP_3_SERVER_URI', 'AUTH_LDAP_3_BIND_DN', 'AUTH_LDAP_3_BIND_PASSWORD', 'AUTH_LDAP_3_START_TLS', 'AUTH_LDAP_3_CONNECTION_OPTIONS', 'AUTH_LDAP_3_USER_SEARCH', 'AUTH_LDAP_3_USER_DN_TEMPLATE', 'AUTH_LDAP_3_USER_ATTR_MAP', 'AUTH_LDAP_3_GROUP_SEARCH', 'AUTH_LDAP_3_GROUP_TYPE', 'AUTH_LDAP_3_GROUP_TYPE_PARAMS', 'AUTH_LDAP_3_REQUIRE_GROUP', 'AUTH_LDAP_3_DENY_GROUP', 'AUTH_LDAP_3_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_3_ORGANIZATION_MAP', 'AUTH_LDAP_3_TEAM_MAP', 'AUTH_LDAP_4_SERVER_URI', 'AUTH_LDAP_4_BIND_DN', 'AUTH_LDAP_4_BIND_PASSWORD', 'AUTH_LDAP_4_START_TLS', 'AUTH_LDAP_4_CONNECTION_OPTIONS', 'AUTH_LDAP_4_USER_SEARCH', 'AUTH_LDAP_4_USER_DN_TEMPLATE', 'AUTH_LDAP_4_USER_ATTR_MAP', 'AUTH_LDAP_4_GROUP_SEARCH', 'AUTH_LDAP_4_GROUP_TYPE', 'AUTH_LDAP_4_GROUP_TYPE_PARAMS', 'AUTH_LDAP_4_REQUIRE_GROUP', 'AUTH_LDAP_4_DENY_GROUP', 'AUTH_LDAP_4_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_4_ORGANIZATION_MAP', 'AUTH_LDAP_4_TEAM_MAP', 'AUTH_LDAP_5_SERVER_URI', 'AUTH_LDAP_5_BIND_DN', 'AUTH_LDAP_5_BIND_PASSWORD', 'AUTH_LDAP_5_START_TLS', 'AUTH_LDAP_5_CONNECTION_OPTIONS', 'AUTH_LDAP_5_USER_SEARCH', 'AUTH_LDAP_5_USER_DN_TEMPLATE', 'AUTH_LDAP_5_USER_ATTR_MAP', 'AUTH_LDAP_5_GROUP_SEARCH', 'AUTH_LDAP_5_GROUP_TYPE', 'AUTH_LDAP_5_GROUP_TYPE_PARAMS', 'AUTH_LDAP_5_REQUIRE_GROUP', 'AUTH_LDAP_5_DENY_GROUP', 'AUTH_LDAP_5_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_5_ORGANIZATION_MAP', 'AUTH_LDAP_5_TEAM_MAP', 'RADIUS_SERVER', 'RADIUS_PORT', 'RADIUS_SECRET', 'TACACSPLUS_HOST', 'TACACSPLUS_PORT', 'TACACSPLUS_SECRET', 'TACACSPLUS_SESSION_TIMEOUT', 'TACACSPLUS_AUTH_PROTOCOL', 'SOCIAL_AUTH_GOOGLE_OAUTH2_KEY', 'SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET', 'SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS', 'SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS', 'SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP', 'SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP', 'SOCIAL_AUTH_GITHUB_KEY', 'SOCIAL_AUTH_GITHUB_SECRET', 'SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP', 'SOCIAL_AUTH_GITHUB_TEAM_MAP', 'SOCIAL_AUTH_GITHUB_ORG_KEY', 'SOCIAL_AUTH_GITHUB_ORG_SECRET', 'SOCIAL_AUTH_GITHUB_ORG_NAME', 'SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP', 'SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP', 'SOCIAL_AUTH_GITHUB_TEAM_KEY', 'SOCIAL_AUTH_GITHUB_TEAM_SECRET', 'SOCIAL_AUTH_GITHUB_TEAM_ID', 'SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP', 'SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP', 'SOCIAL_AUTH_AZUREAD_OAUTH2_KEY', 'SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET', 'SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP', 'SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP', 'SOCIAL_AUTH_SAML_SP_ENTITY_ID', 'SOCIAL_AUTH_SAML_SP_PUBLIC_CERT', 'SOCIAL_AUTH_SAML_SP_PRIVATE_KEY', 'SOCIAL_AUTH_SAML_ORG_INFO', 'SOCIAL_AUTH_SAML_TECHNICAL_CONTACT', 'SOCIAL_AUTH_SAML_SUPPORT_CONTACT', 'SOCIAL_AUTH_SAML_ENABLED_IDPS', 'SOCIAL_AUTH_SAML_SECURITY_CONFIG', 'SOCIAL_AUTH_SAML_SP_EXTRA', 'SOCIAL_AUTH_SAML_EXTRA_DATA', 'SOCIAL_AUTH_SAML_ORGANIZATION_MAP', 'SOCIAL_AUTH_SAML_TEAM_MAP', 'SOCIAL_AUTH_SAML_ORGANIZATION_ATTR', 'SOCIAL_AUTH_SAML_TEAM_ATTR') AND ""conf_setting"".""user_id"" IS NULL) ORDER BY ""conf_setting"".""id"" ASC 2020-03-31 10:27:25.647 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.647 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND ""django_migrations"".""name"" IN ('0005a_squashed_v310_v313_updates', '0005b_squashed_v310_v313_updates')) 2020-03-31 10:27:25.662 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.662 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.665 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.665 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.676 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.676 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.681 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.681 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.690 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.690 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.692 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.692 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:28:19.603 GMT [359] ERROR: column ""deleted_actor"" of relation ""main_activitystream"" does not exist at character 85 2020-03-31 10:28:19.603 GMT [359] STATEMENT: INSERT INTO ""main_activitystream"" (""actor_id"", ""operation"", ""timestamp"", ""changes"", ""deleted_actor"", ""action_node"", ""object_relationship_type"", ""object1"", ""object2"", ""setting"") VALUES (NULL, 'create', '2020-03-31T10:28:19.598577+00:00'::timestamptz, '{""username"": ""admin"", ""first_name"": """", ""last_name"": """", ""email"": ""root@localhost"", ""is_superuser"": true, ""password"": ""hidden"", ""id"": 1}', NULL, 'ansible-tower-management', '', 'user', '', '{}') RETURNING ""main_activitystream"".""id"" ``` </details> kubectl logs awx-prp-0 -f --all-containers <details> <summary> all containers awx-prp-0 logs </summary> ``` Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, 2020-03-31 10:27:21.608 [info] <0.8.0> Feature flags: list of feature flags found: 2020-03-31 10:27:21.608 [info] <0.8.0> Feature flags: feature flag states written to disk: yes 2020-03-31 10:27:21.634 [info] <0.239.0> ""elapsed"": 0, ""match_groupdict"": {}, ""match_groups"": [], ""path"": null, ""port"": 5432, ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" Starting RabbitMQ 3.7.21 on Erlang 22.1.7 Copyright (C) 2007-2019 Pivotal Software, Inc. Licensed under the MPL. See https://www.rabbitmq.com/ ## ## ## ## RabbitMQ 3.7.21. Copyright (C) 2007-2019 Pivotal Software, Inc. ########## Licensed under the MPL. See https://www.rabbitmq.com/ ###### ## ########## Logs: <stdout> Starting broker... 2020-03-31 10:27:21.635 [info] <0.239.0> node : rabbit@10.233.93.26 home dir : /var/lib/rabbitmq config file(s) : /etc/rabbitmq/rabbitmq.conf cookie hash : at619UOZzsenF44tSK3ulA== }, log(s) : <stdout> database dir : /var/lib/rabbitmq/mnesia/rabbit@10.233.93.26 2020-03-31 10:27:21.650 [info] <0.239.0> Running boot step pre_boot defined by app rabbit ""changed"": false, ""elapsed"": 1, ""match_groupdict"": {}, ""match_groups"": [], ""path"": null, ""port"": 11211, ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" 2020-03-31 10:27:21.650 [info] <0.239.0> Running boot step rabbit_core_metrics defined by app rabbit 2020-03-31 10:27:21.650 [info] <0.239.0> Running boot step rabbit_alarm defined by app rabbit 2020-03-31 10:27:21.654 [info] <0.245.0> Memory high watermark set to 6416 MiB (6727725875 bytes) of 16040 MiB (16819314688 bytes) total 2020-03-31 10:27:21.658 [info] <0.247.0> Enabling free disk space monitoring 2020-03-31 10:27:21.658 [info] <0.247.0> Disk free limit set to 50MB 2020-03-31 10:27:21.661 [info] <0.239.0> Running boot step code_server_cache defined by app rabbit 2020-03-31 10:27:21.662 [info] <0.239.0> Running boot step file_handle_cache defined by app rabbit 2020-03-31 10:27:21.662 [info] <0.250.0> Limiting to approx 1048476 file handles (943626 sockets) 2020-03-31 10:27:21.662 [info] <0.251.0> FHC read buffering: OFF 2020-03-31 10:27:21.663 [info] <0.251.0> FHC write buffering: ON 2020-03-31 10:27:21.663 [info] <0.239.0> Running boot step worker_pool defined by app rabbit }, ""changed"": false, ""elapsed"": 0, ""match_groupdict"": {}, ""match_groups"": [], 2020-03-31 10:27:21.663 [info] <0.240.0> Will use 4 processes for default worker pool 2020-03-31 10:27:21.663 [info] <0.240.0> Starting worker pool 'worker_pool' with 4 processes in it 2020-03-31 10:27:21.664 [info] <0.239.0> Running boot step database defined by app rabbit 2020-03-31 10:27:21.664 [info] <0.239.0> Node database directory at /var/lib/rabbitmq/mnesia/rabbit@10.233.93.26 is empty. Assuming we need to join an existing cluster or initialise from scratch... 2020-03-31 10:27:21.664 [info] <0.239.0> Configured peer discovery backend: rabbit_peer_discovery_k8s 2020-03-31 10:27:21.665 [info] <0.239.0> Will try to lock with peer discovery backend rabbit_peer_discovery_k8s 2020-03-31 10:27:21.665 [info] <0.239.0> Peer discovery backend does not support locking, falling back to randomized delay 2020-03-31 10:27:21.665 [info] <0.239.0> Peer discovery backend rabbit_peer_discovery_k8s does not support registration, skipping randomized startup delay. 2020-03-31 10:27:21.686 [info] <0.239.0> k8s endpoint listing returned nodes not yet ready: 10.233.93.26 2020-03-31 10:27:21.686 [info] <0.239.0> All discovered existing cluster peers: 2020-03-31 10:27:21.686 [info] <0.239.0> Discovered no peer nodes to cluster with 2020-03-31 10:27:21.691 [info] <0.43.0> Application mnesia exited with reason: stopped 2020-03-31 10:27:21.743 [info] <0.239.0> Waiting for Mnesia tables for 30000 ms, 9 retries left 2020-03-31 10:27:21.771 [info] <0.239.0> Waiting for Mnesia tables for 30000 ms, 9 retries left 2020-03-31 10:27:21.799 [info] <0.239.0> Waiting for Mnesia tables for 30000 ms, 9 retries left 2020-03-31 10:27:21.799 [info] <0.239.0> Peer discovery backend rabbit_peer_discovery_k8s does not support registration, skipping registration. 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step database_sync defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step feature_flags defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step codec_correctness_check defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step external_infrastructure defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step rabbit_registry defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_auth_mechanism_cr_demo defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_queue_location_random defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_event defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_auth_mechanism_amqplain defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_auth_mechanism_plain defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_direct defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_fanout defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_headers defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_topic defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_mirror_queue_mode_all defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_mirror_queue_mode_exactly defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_mirror_queue_mode_nodes defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_priority_queue defined by app rabbit ""path"": null, ""port"": 5432, ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { 2020-03-31 10:27:21.803 [info] <0.239.0> Priority queues enabled, real BQ is rabbit_variable_queue 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_queue_location_client_local defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_queue_location_min_masters defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step kernel_ready defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_sysmon_minder defined by app rabbit 2020-03-31 10:27:21.804 [info] <0.239.0> Running boot step rabbit_epmd_monitor defined by app rabbit 2020-03-31 10:27:21.804 [info] <0.424.0> epmd monitor knows us, inter-node communication (distribution) port: 25672 2020-03-31 10:27:21.805 [info] <0.239.0> Running boot step guid_generator defined by app rabbit 2020-03-31 10:27:21.806 [info] <0.239.0> Running boot step rabbit_node_monitor defined by app rabbit 2020-03-31 10:27:21.806 [info] <0.428.0> Starting rabbit_node_monitor 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step delegate_sup defined by app rabbit 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step rabbit_memory_monitor defined by app rabbit 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step core_initialized defined by app rabbit 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step upgrade_queues defined by app rabbit 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: 1 to apply 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: Applying rabbit_variable_queue:move_messages_to_vhost_store 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: No durable queues found. Skipping message store migration 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: Removing the old message store data 2020-03-31 10:27:21.834 [info] <0.239.0> message_store upgrades: All upgrades applied successfully 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_connection_tracking defined by app rabbit 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_connection_tracking_handler defined by app rabbit 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_exchange_parameters defined by app rabbit 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_mirror_queue_misc defined by app rabbit 2020-03-31 10:27:21.867 [info] <0.239.0> Running boot step rabbit_policies defined by app rabbit ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""elapsed"": 3, ""match_groupdict"": {}, ""match_groups"": [], ""path"": null, ""port"": 11211, 2020-03-31 10:27:21.867 [info] <0.239.0> Running boot step rabbit_policy defined by app rabbit 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_queue_location_validator defined by app rabbit 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_vhost_limit defined by app rabbit 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_mgmt_reset_handler defined by app rabbitmq_management 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_mgmt_db_handler defined by app rabbitmq_management_agent 2020-03-31 10:27:21.868 [info] <0.239.0> Management plugin: using rates mode 'basic' 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step recovery defined by app rabbit 2020-03-31 10:27:21.869 [info] <0.239.0> Running boot step load_definitions defined by app rabbitmq_management 2020-03-31 10:27:21.869 [info] <0.239.0> Applying definitions from /etc/rabbitmq/rabbitmq_definitions.json 2020-03-31 10:27:21.869 [info] <0.239.0> Asked to import definitions. Acting user: rmq-internal 2020-03-31 10:27:21.870 [info] <0.239.0> Importing users... ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file 2020-03-31 10:27:21.870 [info] <0.239.0> Creating user 'awx' 2020-03-31 10:27:21.871 [info] <0.239.0> Setting user tags for user 'awx' to [administrator] 2020-03-31 10:27:21.872 [info] <0.239.0> Importing vhosts... 2020-03-31 10:27:21.872 [info] <0.239.0> Adding vhost 'awx' 2020-03-31 10:27:21.880 [info] <0.471.0> Making sure data directory '/var/lib/rabbitmq/mnesia/rabbit@10.233.93.26/msg_stores/vhosts/5A7PFSQL4N28PQOL0INDFDDLU' for vhost 'awx' exists 2020-03-31 10:27:21.882 [info] <0.471.0> Starting message stores for vhost 'awx' 2020-03-31 10:27:21.883 [info] <0.475.0> Message store ""5A7PFSQL4N28PQOL0INDFDDLU/msg_store_transient"": using rabbit_msg_store_ets_index to provide index 2020-03-31 10:27:21.884 [info] <0.471.0> Started message store of type transient for vhost 'awx' 2020-03-31 10:27:21.884 [info] <0.478.0> Message store ""5A7PFSQL4N28PQOL0INDFDDLU/msg_store_persistent"": using rabbit_msg_store_ets_index to provide index 2020-03-31 10:27:21.884 [warning] <0.478.0> Message store ""5A7PFSQL4N28PQOL0INDFDDLU/msg_store_persistent"": rebuilding indices from scratch 2020-03-31 10:27:21.885 [info] <0.471.0> Started message store of type persistent for vhost 'awx' 2020-03-31 10:27:21.886 [info] <0.239.0> Importing user permissions... 2020-03-31 10:27:21.886 [info] <0.239.0> Setting permissions for 'awx' in 'awx' to '.*', '.*', '.*' 2020-03-31 10:27:21.887 [info] <0.239.0> Importing topic permissions... 2020-03-31 10:27:21.887 [info] <0.239.0> Importing parameters... 2020-03-31 10:27:21.888 [info] <0.239.0> Importing global parameters... 2020-03-31 10:27:21.888 [info] <0.239.0> Importing policies... 2020-03-31 10:27:21.890 [info] <0.239.0> Importing queues... 2020-03-31 10:27:21.890 [info] <0.239.0> Importing exchanges... 2020-03-31 10:27:21.890 [info] <0.239.0> Importing bindings... 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step empty_db_check defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step rabbit_looking_glass defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step rabbit_core_metrics_gc defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step background_gc defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step connection_tracking defined by app rabbit 2020-03-31 10:27:21.893 [info] <0.239.0> Setting up a table for connection tracking on this node: 'tracked_connection_on_node_rabbit@10.233.93.26' 2020-03-31 10:27:21.895 [info] <0.239.0> Setting up a table for per-vhost connection counting on this node: 'tracked_connection_per_vhost_on_node_rabbit@10.233.93.26' 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step routing_ready defined by app rabbit 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step pre_flight defined by app rabbit 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step notify_cluster defined by app rabbit 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step networking defined by app rabbit 2020-03-31 10:27:21.899 [info] <0.524.0> started TCP listener on [::]:5672 2020-03-31 10:27:21.899 [info] <0.239.0> Running boot step direct_client defined by app rabbit 2020-03-31 10:27:21.901 [info] <0.570.0> Peer discovery: enabling node cleanup (will remove nodes not known to the discovery backend). Check interval: 10 seconds. 2020-03-31 10:27:21.929 [info] <0.580.0> Management plugin: HTTP (non-TLS) listener started on port 15672 2020-03-31 10:27:21.929 [info] <0.686.0> Statistics database started. 2020-03-31 10:27:21.929 [info] <0.685.0> Starting worker pool 'management_worker_pool' with 3 processes in it 2020-03-31 10:27:22.027 [info] <0.8.0> Server startup complete; 5 plugins started. * rabbitmq_management * rabbitmq_web_dispatch * rabbitmq_peer_discovery_k8s * rabbitmq_peer_discovery_common * rabbitmq_management_agent completed with 5 plugins. ``` </details>",container-file,"ERROR: must be owner of database awx ##### ISSUE TYPE - Bug Report ##### SUMMARY I have differents errors on postgres pod after one fresh install ##### ENVIRONMENT * AWX version: 9.3 * AWX install method: kubernetes * Ansible version: 2.9.4 * Operating System: Ubuntu 18.04 * Web Browser: Firefox / chromium Helm postgresql chart: postgresql-8.3.0 (app version 11.6.0) ##### STEPS TO REPRODUCE Inventory file ``` localhost ansible_connection=local ansible_python_interpreter=""/usr/bin/env python"" [all:vars] dockerhub_base=ansible # Kubernetes Install kubernetes_context=awx-prp kubernetes_namespace=awx-prp kubernetes_deployment_name=awx-prp kubernetes_deployment_replica_size=1 tiller_namespace=kube-system pg_volume_capacity=20 # Kubernetes Ingress Configuration kubernetes_ingress_hostname=cloud-awx-z00n-prp.cloud.620nm.net kubernetes_ingress_annotations={'kubernetes.io/ingress.class': 'nginx'} kubernetes_ingress_tls_secret=wildcard.cloud.620nm.net # Common Docker parameters awx_task_hostname=awx awx_web_hostname=awxweb postgres_data_dir=""~/.awx/pgdocker"" host_port=80 host_port_ssl=443 #ssl_certificate= docker_compose_dir=""~/.awx/awxcompose"" # Set pg_hostname if you have an external postgres server, otherwise # a new postgres service will be created # pg_hostname=postgresql pg_username=awx # pg_password should be random 10 character alphanumeric string, when postgresql is running on kubernetes # NB: it's a limitation of the ""official"" postgres helm chart pg_password=""<10 character alphanumeric string >"" pg_database=awx pg_port=5432 #pg_sslmode=require # pg_admin_password=postgrespass # RabbitMQ Configuration rabbitmq_password=""< rabbitmq_password >"" rabbitmq_erlang_cookie=cookiemonster # This will create or update a default admin (superuser) account in AWX, if not provided # then these default values are used admin_user=admin admin_password=""< awx_password >"" # Whether or not to create preload data for demonstration purposes create_preload_data=False # AWX Secret key # It's *very* important that this stay the same between upgrades or you will lose the ability to decrypt # your credentials secret_key=awxsecret ``` ##### EXPECTED RESULTS No error in postgres pod ##### ACTUAL RESULTS On the first playbook execution, i have a failed at ""kubernetes : create django super user if it does not exist"" task. ``` TASK [kubernetes : Check for Tower Super users] ******************************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx-prp exec ansible-tower-management -- bash -c \""echo 'from django.contrib.auth.models import User; nsu = User.objects.filter(is_superuser=True).count(); exit(0 if nsu > 0 else 1)' | awx-manage shell\""\n"", ""delta"": ""0:00:02.624181"", ""end"": ""2020-03-31 12:28:16.431460"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:28:13.807279"", ""stderr"": ""command terminated with exit code 1"", ""stderr_lines"": [""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : create django super user if it does not exist] ************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""censored"": ""the output has been hidden due to the fact that 'no_log: true' was specified for this result"", ""changed"": true} ``` If i re lunch the playbook, it's good for ansible, but in postgres log, i have ``` ERROR: must be owner of database awx STATEMENT: ALTER DATABASE ""awx"" OWNER TO ""awx"" ``` ``` kubectl exec -it awx-prp-postgresql-postgresql-0 -- /bin/bash I have no name!@awx-prp-postgresql-postgresql-0:/$ I have no name!@awx-prp-postgresql-postgresql-0:/$ psql --user awx Password for user awx: psql (11.6) Type ""help"" for help. awx=> \l List of databases Name | Owner | Encoding | Collate | Ctype | Access privileges -----------+----------+----------+-------------+-------------+----------------------- awx | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =Tc/postgres + | | | | | postgres=CTc/postgres+ | | | | | awx=CTc/postgres postgres | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | template0 | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =c/postgres + | | | | | postgres=CTc/postgres template1 | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =c/postgres + | | | | | postgres=CTc/postgres (4 rows) awx=> \du List of roles Role name | Attributes | Member of -----------+------------------------------------------------------------+----------- awx | Create DB | {} postgres | Superuser, Create role, Create DB, Replication, Bypass RLS | {} awx=> ``` ##### ADDITIONAL INFORMATION ansible-playbook install.yml -i ../inventory_os_k8s_prp <details> <summary> playbook logs </summary> ``` PLAY [Build and deploy AWX] *************************************************************************************************************************************************************************************** TASK [Gathering Facts] ******************************************************************************************************************************************************************************************** ok: [localhost] TASK [check_vars : include_tasks] ********************************************************************************************************************************************************************************* skipping: [localhost] TASK [check_vars : include_tasks] ********************************************************************************************************************************************************************************* included: /home/mrkw3241/work/k8s/awx/installer/roles/check_vars/tasks/check_docker.yml for localhost TASK [check_vars : postgres_data_dir should be defined] *********************************************************************************************************************************************************** ok: [localhost] => { ""changed"": false, ""msg"": ""All assertions passed"" } TASK [check_vars : host_port should be defined] ******************************************************************************************************************************************************************* ok: [localhost] => { ""changed"": false, ""msg"": ""All assertions passed"" } TASK [image_build : Set global version if not provided] *********************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Verify awx-logos directory exists for official install] *************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Copy logos for inclusion in sdist] ************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Set sdist file name] ************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : AWX Distribution] ***************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stat distribution file] *********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Clean distribution] *************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Build sdist builder image] ******************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Build AWX distribution using container] ******************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Build AWX distribution locally] *************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Set docker build base path] ******************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Set awx_web image name] *********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Set awx_task image name] ********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Ensure directory exists] ********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage sdist] ********************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Template web Dockerfile] ********************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Template task Dockerfile] ********************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Stage launch_awx] ***************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage launch_awx_task] ************************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Stage google-cloud-sdk.repo] ****************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage supervisor.conf] ************************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Stage supervisor_task.conf] ******************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Stage settings.py] **************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage requirements] *************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_build : Stage config watcher] ************************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Stage Makefile] ******************************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Build base web image] ************************************************************************************************************************************************************************* skipping: [localhost] TASK [image_build : Build base task image] ************************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Tag task and web images as latest] ************************************************************************************************************************************************************ skipping: [localhost] TASK [image_build : Clean docker base directory] ****************************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Authenticate with Docker registry if registry password given] ********************************************************************************************************************************** skipping: [localhost] TASK [image_push : Remove web image] ****************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Remove task image] ***************************************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Tag and push web image to registry] ************************************************************************************************************************************************************ skipping: [localhost] TASK [image_push : Tag and push task image to registry] *********************************************************************************************************************************************************** skipping: [localhost] TASK [image_push : Set full image path for Registry] ************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : fail] ****************************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : include_tasks] ********************************************************************************************************************************************************************************* skipping: [localhost] => (item=openshift_auth.yml) skipping: [localhost] => (item=openshift.yml) TASK [kubernetes : include_tasks] ********************************************************************************************************************************************************************************* included: /home/mrkw3241/work/k8s/awx/installer/roles/kubernetes/tasks/kubernetes_auth.yml for localhost included: /home/mrkw3241/work/k8s/awx/installer/roles/kubernetes/tasks/kubernetes.yml for localhost TASK [kubernetes : Set the Kubernetes Context] ******************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Get Namespace Detail] ************************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Create AWX Kubernetes Project] ***************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set postgresql service name] ******************************************************************************************************************************************************************* ok: [localhost] TASK [kubernetes : Get Kubernetes API version] ******************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Extract server version from command output] **************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Use kubectl or oc] ***************************************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : set_fact] ************************************************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Record deployment size] ************************************************************************************************************************************************************************ fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl get sts awx-prp -n awx-prp -o=jsonpath='{.status.replicas}'\n"", ""delta"": ""0:00:00.453192"", ""end"": ""2020-03-31 12:25:54.961335"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:25:54.508143"", ""stderr"": ""Error from server (NotFound): statefulsets.apps \""awx-prp\"" not found"", ""stderr_lines"": [""Error from server (NotFound): statefulsets.apps \""awx-prp\"" not found""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : Set expected post-deployment Replicas value] *************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Delete existing Deployment] ******************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Get Postgres Service Detail] ******************************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl describe svc awx-prp-postgresql -n awx-prp"", ""delta"": ""0:00:00.367317"", ""end"": ""2020-03-31 12:25:55.641523"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:25:55.274206"", ""stderr"": ""Error from server (NotFound): services \""awx-prp-postgresql\"" not found"", ""stderr_lines"": [""Error from server (NotFound): services \""awx-prp-postgresql\"" not found""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : Template PostgreSQL Deployment (OpenShift)] **************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Deploy and Activate Postgres (OpenShift)] ****************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Create Temporary Values File (Kubernetes)] ***************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Populate Temporary Values File (Kubernetes)] *************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Deploy and Activate Postgres (Kubernetes)] ***************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Remove tempfile] ******************************************************************************************************************************************************************************* changed: [localhost] TASK [kubernetes : Set postgresql hostname to helm package service (Kubernetes)] ********************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Wait for Postgres to activate] ***************************************************************************************************************************************************************** Pausing for 60 seconds (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort) ok: [localhost] TASK [kubernetes : Check if Postgres 9.6 is being used] *********************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set new pg image] ****************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for change to take affect] **************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set env var for pg upgrade] ******************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for change to take affect] **************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set env var for new pg version] **************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for Postgres to redeploy] ***************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Wait for Postgres to finish upgrading] ********************************************************************************************************************************************************* skipping: [localhost] TASK [kubernetes : Unset upgrade env var] ************************************************************************************************************************************************************************* skipping: [localhost] TASK [kubernetes : Wait for Postgres to redeploy] ***************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set task image name] *************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Set web image name] **************************************************************************************************************************************************************************** skipping: [localhost] TASK [kubernetes : Generate SSL certificates for RabbitMQ, if needed] ********************************************************************************************************************************************* skipping: [localhost] TASK [kubernetes : Determine StatefulSet api version] ************************************************************************************************************************************************************* ok: [localhost] TASK [kubernetes : Render deployment templates] ******************************************************************************************************************************************************************* ok: [localhost] => (item=None) ok: [localhost] => (item=None) ok: [localhost] => (item=None) ok: [localhost] TASK [kubernetes : Apply Deployment] ****************************************************************************************************************************************************************************** changed: [localhost] => (item=None) changed: [localhost] => (item=None) changed: [localhost] => (item=None) changed: [localhost] TASK [kubernetes : Delete any existing management pod] ************************************************************************************************************************************************************ changed: [localhost] TASK [kubernetes : Template management pod] *********************************************************************************************************************************************************************** ok: [localhost] TASK [kubernetes : Create management pod] ************************************************************************************************************************************************************************* changed: [localhost] TASK [kubernetes : Wait for management pod to start] ************************************************************************************************************************************************************** FAILED - RETRYING: Wait for management pod to start (60 retries left). changed: [localhost] TASK [kubernetes : Migrate database] ****************************************************************************************************************************************************************************** changed: [localhost] TASK [kubernetes : Check for Tower Super users] ******************************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx-prp exec ansible-tower-management -- bash -c \""echo 'from django.contrib.auth.models import User; nsu = User.objects.filter(is_superuser=True).count(); exit(0 if nsu > 0 else 1)' | awx-manage shell\""\n"", ""delta"": ""0:00:02.624181"", ""end"": ""2020-03-31 12:28:16.431460"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2020-03-31 12:28:13.807279"", ""stderr"": ""command terminated with exit code 1"", ""stderr_lines"": [""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []} ...ignoring TASK [kubernetes : create django super user if it does not exist] ************************************************************************************************************************************************* fatal: [localhost]: FAILED! => {""censored"": ""the output has been hidden due to the fact that 'no_log: true' was specified for this result"", ""changed"": true} PLAY RECAP ******************************************************************************************************************************************************************************************************** localhost : ok=30 changed=15 unreachable=0 failed=1 skipped=57 rescued=0 ignored=3 ``` </details> kubectl logs awx-prp-postgresql-postgresql-0 <details> <summary> postgres logs </summary> ``` + id current user id: uid=0(root) gid=0(root) groups=0(root),1001 + echo current user id: uid=0(root) gid=0(root) groups=0(root),1001 + mkdir -p /bitnami/postgresql/data + chmod 700 /bitnami/postgresql/data + find /bitnami/postgresql -mindepth 1 -maxdepth 1 -not -name .snapshot -not -name lost+found + xargs chown -R 1001:1001 + chmod -R 777 /dev/shm postgresql 10:26:17.28 postgresql 10:26:17.29 Welcome to the Bitnami postgresql container postgresql 10:26:17.29 Subscribe to project updates by watching https://github.com/bitnami/bitnami-docker-postgresql postgresql 10:26:17.29 Submit issues and feature requests at https://github.com/bitnami/bitnami-docker-postgresql/issues postgresql 10:26:17.29 Send us your feedback at containers@bitnami.com postgresql 10:26:17.29 postgresql 10:26:17.31 INFO ==> ** Starting PostgreSQL setup ** postgresql 10:26:17.36 INFO ==> Validating settings in POSTGRESQL_* env vars.. postgresql 10:26:17.36 INFO ==> Loading custom pre-init scripts... postgresql 10:26:17.36 INFO ==> Initializing PostgreSQL database... postgresql 10:26:17.38 INFO ==> postgresql.conf file not detected. Generating it... postgresql 10:26:17.39 INFO ==> pg_hba.conf file not detected. Generating it... postgresql 10:26:17.39 INFO ==> Generating local authentication configuration postgresql 10:26:18.53 INFO ==> Starting PostgreSQL in background... postgresql 10:26:18.91 INFO ==> Creating user awx postgresql 10:26:18.92 INFO ==> Grating access to ""awx"" to the database ""awx"" postgresql 10:26:18.94 INFO ==> Configuring replication parameters postgresql 10:26:18.96 INFO ==> Configuring fsync postgresql 10:26:18.97 INFO ==> Loading custom scripts... postgresql 10:26:18.97 INFO ==> Enabling remote connections postgresql 10:26:18.98 INFO ==> Stopping PostgreSQL... postgresql 10:26:19.99 INFO ==> ** PostgreSQL setup finished! ** postgresql 10:26:20.04 INFO ==> ** Starting PostgreSQL ** 2020-03-31 10:26:20.063 GMT [1] LOG: listening on IPv4 address ""0.0.0.0"", port 5432 2020-03-31 10:26:20.063 GMT [1] LOG: listening on IPv6 address ""::"", port 5432 2020-03-31 10:26:20.066 GMT [1] LOG: listening on Unix socket ""/tmp/.s.PGSQL.5432"" 2020-03-31 10:26:20.080 GMT [213] LOG: database system was shut down at 2020-03-31 10:26:19 GMT 2020-03-31 10:26:20.085 GMT [1] LOG: database system is ready to accept connections 2020-03-31 10:27:12.953 GMT [268] LOG: incomplete startup packet 2020-03-31 10:27:14.254 GMT [269] LOG: incomplete startup packet 2020-03-31 10:27:25.429 GMT [283] ERROR: relation ""conf_setting"" does not exist at character 158 2020-03-31 10:27:25.429 GMT [283] STATEMENT: SELECT ""conf_setting"".""id"", ""conf_setting"".""created"", ""conf_setting"".""modified"", ""conf_setting"".""key"", ""conf_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_setting"" WHERE (""conf_setting"".""key"" IN ('ACTIVITY_STREAM_ENABLED', 'ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC', 'ORG_ADMINS_CAN_SEE_ALL_USERS', 'MANAGE_ORGANIZATION_AUTH', 'TOWER_URL_BASE', 'PROXY_IP_WHITELIST', 'LICENSE', 'REDHAT_USERNAME', 'REDHAT_PASSWORD', 'INSTALL_UUID', 'CUSTOM_VENV_PATHS', 'AD_HOC_COMMANDS', 'ALLOW_JINJA_IN_EXTRA_VARS', 'AWX_PROOT_ENABLED', 'AWX_PROOT_BASE_PATH', 'AWX_PROOT_HIDE_PATHS', 'AWX_PROOT_SHOW_PATHS', 'AWX_ISOLATED_VERBOSITY', 'AWX_ISOLATED_CHECK_INTERVAL', 'AWX_ISOLATED_LAUNCH_TIMEOUT', 'AWX_ISOLATED_CONNECTION_TIMEOUT', 'AWX_ISOLATED_HOST_KEY_CHECKING', 'AWX_ISOLATED_KEY_GENERATION', 'AWX_ISOLATED_PRIVATE_KEY', 'AWX_ISOLATED_PUBLIC_KEY', 'AWX_RESOURCE_PROFILING_ENABLED', 'AWX_RESOURCE_PROFILING_CPU_POLL_INTERVAL', 'AWX_RESOURCE_PROFILING_MEMORY_POLL_INTERVAL', 'AWX_RESOURCE_PROFILING_PID_POLL_INTERVAL', 'AWX_TASK_ENV', 'INSIGHTS_TRACKING_STATE', 'PROJECT_UPDATE_VVV', 'AWX_ROLES_ENABLED', 'AWX_COLLECTIONS_ENABLED', 'PRIMARY_GALAXY_URL', 'PRIMARY_GALAXY_USERNAME', 'PRIMARY_GALAXY_PASSWORD', 'PRIMARY_GALAXY_TOKEN', 'PRIMARY_GALAXY_AUTH_URL', 'PUBLIC_GALAXY_ENABLED', 'GALAXY_IGNORE_CERTS', 'STDOUT_MAX_BYTES_DISPLAY', 'EVENT_STDOUT_MAX_BYTES_DISPLAY', 'SCHEDULE_MAX_JOBS', 'AWX_ANSIBLE_CALLBACK_PLUGINS', 'DEFAULT_JOB_TIMEOUT', 'DEFAULT_INVENTORY_UPDATE_TIMEOUT', 'DEFAULT_PROJECT_UPDATE_TIMEOUT', 'ANSIBLE_FACT_CACHE_TIMEOUT', 'MAX_FORKS', 'LOG_AGGREGATOR_HOST', 'LOG_AGGREGATOR_PORT', 'LOG_AGGREGATOR_TYPE', 'LOG_AGGREGATOR_USERNAME', 'LOG_AGGREGATOR_PASSWORD', 'LOG_AGGREGATOR_LOGGERS', 'LOG_AGGREGATOR_INDIVIDUAL_FACTS', 'LOG_AGGREGATOR_ENABLED', 'LOG_AGGREGATOR_TOWER_UUID', 'LOG_AGGREGATOR_PROTOCOL', 'LOG_AGGREGATOR_TCP_TIMEOUT', 'LOG_AGGREGATOR_VERIFY_CERT', 'LOG_AGGREGATOR_LEVEL', 'LOG_AGGREGATOR_AUDIT', 'BROKER_DURABILITY', 'AUTOMATION_ANALYTICS_LAST_GATHER', 'AUTOMATION_ANALYTICS_GATHER_INTERVAL', 'SESSION_COOKIE_AGE', 'SESSIONS_PER_USER', 'AUTH_BASIC_ENABLED', 'OAUTH2_PROVIDER', 'ALLOW_OAUTH2_FOR_EXTERNAL_USERS', 'LOGIN_REDIRECT_OVERRIDE', 'PENDO_TRACKING_STATE', 'CUSTOM_LOGIN_INFO', 'CUSTOM_LOGO', 'MAX_UI_JOB_EVENTS', 'UI_LIVE_UPDATES_ENABLED', 'SOCIAL_AUTH_ORGANIZATION_MAP', 'SOCIAL_AUTH_TEAM_MAP', 'SOCIAL_AUTH_USER_FIELDS', 'AUTH_LDAP_SERVER_URI', 'AUTH_LDAP_BIND_DN', 'AUTH_LDAP_BIND_PASSWORD', 'AUTH_LDAP_START_TLS', 'AUTH_LDAP_CONNECTION_OPTIONS', 'AUTH_LDAP_USER_SEARCH', 'AUTH_LDAP_USER_DN_TEMPLATE', 'AUTH_LDAP_USER_ATTR_MAP', 'AUTH_LDAP_GROUP_SEARCH', 'AUTH_LDAP_GROUP_TYPE', 'AUTH_LDAP_GROUP_TYPE_PARAMS', 'AUTH_LDAP_REQUIRE_GROUP', 'AUTH_LDAP_DENY_GROUP', 'AUTH_LDAP_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_ORGANIZATION_MAP', 'AUTH_LDAP_TEAM_MAP', 'AUTH_LDAP_1_SERVER_URI', 'AUTH_LDAP_1_BIND_DN', 'AUTH_LDAP_1_BIND_PASSWORD', 'AUTH_LDAP_1_START_TLS', 'AUTH_LDAP_1_CONNECTION_OPTIONS', 'AUTH_LDAP_1_USER_SEARCH', 'AUTH_LDAP_1_USER_DN_TEMPLATE', 'AUTH_LDAP_1_USER_ATTR_MAP', 'AUTH_LDAP_1_GROUP_SEARCH', 'AUTH_LDAP_1_GROUP_TYPE', 'AUTH_LDAP_1_GROUP_TYPE_PARAMS', 'AUTH_LDAP_1_REQUIRE_GROUP', 'AUTH_LDAP_1_DENY_GROUP', 'AUTH_LDAP_1_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_1_ORGANIZATION_MAP', 'AUTH_LDAP_1_TEAM_MAP', 'AUTH_LDAP_2_SERVER_URI', 'AUTH_LDAP_2_BIND_DN', 'AUTH_LDAP_2_BIND_PASSWORD', 'AUTH_LDAP_2_START_TLS', 'AUTH_LDAP_2_CONNECTION_OPTIONS', 'AUTH_LDAP_2_USER_SEARCH', 'AUTH_LDAP_2_USER_DN_TEMPLATE', 'AUTH_LDAP_2_USER_ATTR_MAP', 'AUTH_LDAP_2_GROUP_SEARCH', 'AUTH_LDAP_2_GROUP_TYPE', 'AUTH_LDAP_2_GROUP_TYPE_PARAMS', 'AUTH_LDAP_2_REQUIRE_GROUP', 'AUTH_LDAP_2_DENY_GROUP', 'AUTH_LDAP_2_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_2_ORGANIZATION_MAP', 'AUTH_LDAP_2_TEAM_MAP', 'AUTH_LDAP_3_SERVER_URI', 'AUTH_LDAP_3_BIND_DN', 'AUTH_LDAP_3_BIND_PASSWORD', 'AUTH_LDAP_3_START_TLS', 'AUTH_LDAP_3_CONNECTION_OPTIONS', 'AUTH_LDAP_3_USER_SEARCH', 'AUTH_LDAP_3_USER_DN_TEMPLATE', 'AUTH_LDAP_3_USER_ATTR_MAP', 'AUTH_LDAP_3_GROUP_SEARCH', 'AUTH_LDAP_3_GROUP_TYPE', 'AUTH_LDAP_3_GROUP_TYPE_PARAMS', 'AUTH_LDAP_3_REQUIRE_GROUP', 'AUTH_LDAP_3_DENY_GROUP', 'AUTH_LDAP_3_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_3_ORGANIZATION_MAP', 'AUTH_LDAP_3_TEAM_MAP', 'AUTH_LDAP_4_SERVER_URI', 'AUTH_LDAP_4_BIND_DN', 'AUTH_LDAP_4_BIND_PASSWORD', 'AUTH_LDAP_4_START_TLS', 'AUTH_LDAP_4_CONNECTION_OPTIONS', 'AUTH_LDAP_4_USER_SEARCH', 'AUTH_LDAP_4_USER_DN_TEMPLATE', 'AUTH_LDAP_4_USER_ATTR_MAP', 'AUTH_LDAP_4_GROUP_SEARCH', 'AUTH_LDAP_4_GROUP_TYPE', 'AUTH_LDAP_4_GROUP_TYPE_PARAMS', 'AUTH_LDAP_4_REQUIRE_GROUP', 'AUTH_LDAP_4_DENY_GROUP', 'AUTH_LDAP_4_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_4_ORGANIZATION_MAP', 'AUTH_LDAP_4_TEAM_MAP', 'AUTH_LDAP_5_SERVER_URI', 'AUTH_LDAP_5_BIND_DN', 'AUTH_LDAP_5_BIND_PASSWORD', 'AUTH_LDAP_5_START_TLS', 'AUTH_LDAP_5_CONNECTION_OPTIONS', 'AUTH_LDAP_5_USER_SEARCH', 'AUTH_LDAP_5_USER_DN_TEMPLATE', 'AUTH_LDAP_5_USER_ATTR_MAP', 'AUTH_LDAP_5_GROUP_SEARCH', 'AUTH_LDAP_5_GROUP_TYPE', 'AUTH_LDAP_5_GROUP_TYPE_PARAMS', 'AUTH_LDAP_5_REQUIRE_GROUP', 'AUTH_LDAP_5_DENY_GROUP', 'AUTH_LDAP_5_USER_FLAGS_BY_GROUP', 'AUTH_LDAP_5_ORGANIZATION_MAP', 'AUTH_LDAP_5_TEAM_MAP', 'RADIUS_SERVER', 'RADIUS_PORT', 'RADIUS_SECRET', 'TACACSPLUS_HOST', 'TACACSPLUS_PORT', 'TACACSPLUS_SECRET', 'TACACSPLUS_SESSION_TIMEOUT', 'TACACSPLUS_AUTH_PROTOCOL', 'SOCIAL_AUTH_GOOGLE_OAUTH2_KEY', 'SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET', 'SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS', 'SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS', 'SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP', 'SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP', 'SOCIAL_AUTH_GITHUB_KEY', 'SOCIAL_AUTH_GITHUB_SECRET', 'SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP', 'SOCIAL_AUTH_GITHUB_TEAM_MAP', 'SOCIAL_AUTH_GITHUB_ORG_KEY', 'SOCIAL_AUTH_GITHUB_ORG_SECRET', 'SOCIAL_AUTH_GITHUB_ORG_NAME', 'SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP', 'SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP', 'SOCIAL_AUTH_GITHUB_TEAM_KEY', 'SOCIAL_AUTH_GITHUB_TEAM_SECRET', 'SOCIAL_AUTH_GITHUB_TEAM_ID', 'SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP', 'SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP', 'SOCIAL_AUTH_AZUREAD_OAUTH2_KEY', 'SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET', 'SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP', 'SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP', 'SOCIAL_AUTH_SAML_SP_ENTITY_ID', 'SOCIAL_AUTH_SAML_SP_PUBLIC_CERT', 'SOCIAL_AUTH_SAML_SP_PRIVATE_KEY', 'SOCIAL_AUTH_SAML_ORG_INFO', 'SOCIAL_AUTH_SAML_TECHNICAL_CONTACT', 'SOCIAL_AUTH_SAML_SUPPORT_CONTACT', 'SOCIAL_AUTH_SAML_ENABLED_IDPS', 'SOCIAL_AUTH_SAML_SECURITY_CONFIG', 'SOCIAL_AUTH_SAML_SP_EXTRA', 'SOCIAL_AUTH_SAML_EXTRA_DATA', 'SOCIAL_AUTH_SAML_ORGANIZATION_MAP', 'SOCIAL_AUTH_SAML_TEAM_MAP', 'SOCIAL_AUTH_SAML_ORGANIZATION_ATTR', 'SOCIAL_AUTH_SAML_TEAM_ATTR') AND ""conf_setting"".""user_id"" IS NULL) ORDER BY ""conf_setting"".""id"" ASC 2020-03-31 10:27:25.647 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.647 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND ""django_migrations"".""name"" IN ('0005a_squashed_v310_v313_updates', '0005b_squashed_v310_v313_updates')) 2020-03-31 10:27:25.662 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.662 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.665 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.665 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.676 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.676 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.681 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.681 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.690 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.690 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:27:25.692 GMT [283] ERROR: relation ""django_migrations"" does not exist at character 124 2020-03-31 10:27:25.692 GMT [283] STATEMENT: SELECT ""django_migrations"".""id"", ""django_migrations"".""app"", ""django_migrations"".""name"", ""django_migrations"".""applied"" FROM ""django_migrations"" WHERE (""django_migrations"".""app"" = 'main' AND NOT (""django_migrations"".""name""::text LIKE '%squashed%')) ORDER BY ""django_migrations"".""id"" DESC LIMIT 1 2020-03-31 10:28:19.603 GMT [359] ERROR: column ""deleted_actor"" of relation ""main_activitystream"" does not exist at character 85 2020-03-31 10:28:19.603 GMT [359] STATEMENT: INSERT INTO ""main_activitystream"" (""actor_id"", ""operation"", ""timestamp"", ""changes"", ""deleted_actor"", ""action_node"", ""object_relationship_type"", ""object1"", ""object2"", ""setting"") VALUES (NULL, 'create', '2020-03-31T10:28:19.598577+00:00'::timestamptz, '{""username"": ""admin"", ""first_name"": """", ""last_name"": """", ""email"": ""root@localhost"", ""is_superuser"": true, ""password"": ""hidden"", ""id"": 1}', NULL, 'ansible-tower-management', '', 'user', '', '{}') RETURNING ""main_activitystream"".""id"" ``` </details> kubectl logs awx-prp-0 -f --all-containers <details> <summary> all containers awx-prp-0 logs </summary> ``` Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, 2020-03-31 10:27:21.608 [info] <0.8.0> Feature flags: list of feature flags found: 2020-03-31 10:27:21.608 [info] <0.8.0> Feature flags: feature flag states written to disk: yes 2020-03-31 10:27:21.634 [info] <0.239.0> ""elapsed"": 0, ""match_groupdict"": {}, ""match_groups"": [], ""path"": null, ""port"": 5432, ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" Starting RabbitMQ 3.7.21 on Erlang 22.1.7 Copyright (C) 2007-2019 Pivotal Software, Inc. Licensed under the MPL. See https://www.rabbitmq.com/ ## ## ## ## RabbitMQ 3.7.21. Copyright (C) 2007-2019 Pivotal Software, Inc. ########## Licensed under the MPL. See https://www.rabbitmq.com/ ###### ## ########## Logs: <stdout> Starting broker... 2020-03-31 10:27:21.635 [info] <0.239.0> node : rabbit@10.233.93.26 home dir : /var/lib/rabbitmq config file(s) : /etc/rabbitmq/rabbitmq.conf cookie hash : at619UOZzsenF44tSK3ulA== }, log(s) : <stdout> database dir : /var/lib/rabbitmq/mnesia/rabbit@10.233.93.26 2020-03-31 10:27:21.650 [info] <0.239.0> Running boot step pre_boot defined by app rabbit ""changed"": false, ""elapsed"": 1, ""match_groupdict"": {}, ""match_groups"": [], ""path"": null, ""port"": 11211, ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" 2020-03-31 10:27:21.650 [info] <0.239.0> Running boot step rabbit_core_metrics defined by app rabbit 2020-03-31 10:27:21.650 [info] <0.239.0> Running boot step rabbit_alarm defined by app rabbit 2020-03-31 10:27:21.654 [info] <0.245.0> Memory high watermark set to 6416 MiB (6727725875 bytes) of 16040 MiB (16819314688 bytes) total 2020-03-31 10:27:21.658 [info] <0.247.0> Enabling free disk space monitoring 2020-03-31 10:27:21.658 [info] <0.247.0> Disk free limit set to 50MB 2020-03-31 10:27:21.661 [info] <0.239.0> Running boot step code_server_cache defined by app rabbit 2020-03-31 10:27:21.662 [info] <0.239.0> Running boot step file_handle_cache defined by app rabbit 2020-03-31 10:27:21.662 [info] <0.250.0> Limiting to approx 1048476 file handles (943626 sockets) 2020-03-31 10:27:21.662 [info] <0.251.0> FHC read buffering: OFF 2020-03-31 10:27:21.663 [info] <0.251.0> FHC write buffering: ON 2020-03-31 10:27:21.663 [info] <0.239.0> Running boot step worker_pool defined by app rabbit }, ""changed"": false, ""elapsed"": 0, ""match_groupdict"": {}, ""match_groups"": [], 2020-03-31 10:27:21.663 [info] <0.240.0> Will use 4 processes for default worker pool 2020-03-31 10:27:21.663 [info] <0.240.0> Starting worker pool 'worker_pool' with 4 processes in it 2020-03-31 10:27:21.664 [info] <0.239.0> Running boot step database defined by app rabbit 2020-03-31 10:27:21.664 [info] <0.239.0> Node database directory at /var/lib/rabbitmq/mnesia/rabbit@10.233.93.26 is empty. Assuming we need to join an existing cluster or initialise from scratch... 2020-03-31 10:27:21.664 [info] <0.239.0> Configured peer discovery backend: rabbit_peer_discovery_k8s 2020-03-31 10:27:21.665 [info] <0.239.0> Will try to lock with peer discovery backend rabbit_peer_discovery_k8s 2020-03-31 10:27:21.665 [info] <0.239.0> Peer discovery backend does not support locking, falling back to randomized delay 2020-03-31 10:27:21.665 [info] <0.239.0> Peer discovery backend rabbit_peer_discovery_k8s does not support registration, skipping randomized startup delay. 2020-03-31 10:27:21.686 [info] <0.239.0> k8s endpoint listing returned nodes not yet ready: 10.233.93.26 2020-03-31 10:27:21.686 [info] <0.239.0> All discovered existing cluster peers: 2020-03-31 10:27:21.686 [info] <0.239.0> Discovered no peer nodes to cluster with 2020-03-31 10:27:21.691 [info] <0.43.0> Application mnesia exited with reason: stopped 2020-03-31 10:27:21.743 [info] <0.239.0> Waiting for Mnesia tables for 30000 ms, 9 retries left 2020-03-31 10:27:21.771 [info] <0.239.0> Waiting for Mnesia tables for 30000 ms, 9 retries left 2020-03-31 10:27:21.799 [info] <0.239.0> Waiting for Mnesia tables for 30000 ms, 9 retries left 2020-03-31 10:27:21.799 [info] <0.239.0> Peer discovery backend rabbit_peer_discovery_k8s does not support registration, skipping registration. 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step database_sync defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step feature_flags defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step codec_correctness_check defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step external_infrastructure defined by app rabbit 2020-03-31 10:27:21.800 [info] <0.239.0> Running boot step rabbit_registry defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_auth_mechanism_cr_demo defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_queue_location_random defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_event defined by app rabbit 2020-03-31 10:27:21.801 [info] <0.239.0> Running boot step rabbit_auth_mechanism_amqplain defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_auth_mechanism_plain defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_direct defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_fanout defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_headers defined by app rabbit 2020-03-31 10:27:21.802 [info] <0.239.0> Running boot step rabbit_exchange_type_topic defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_mirror_queue_mode_all defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_mirror_queue_mode_exactly defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_mirror_queue_mode_nodes defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_priority_queue defined by app rabbit ""path"": null, ""port"": 5432, ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | SUCCESS => { 2020-03-31 10:27:21.803 [info] <0.239.0> Priority queues enabled, real BQ is rabbit_variable_queue 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_queue_location_client_local defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_queue_location_min_masters defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step kernel_ready defined by app rabbit 2020-03-31 10:27:21.803 [info] <0.239.0> Running boot step rabbit_sysmon_minder defined by app rabbit 2020-03-31 10:27:21.804 [info] <0.239.0> Running boot step rabbit_epmd_monitor defined by app rabbit 2020-03-31 10:27:21.804 [info] <0.424.0> epmd monitor knows us, inter-node communication (distribution) port: 25672 2020-03-31 10:27:21.805 [info] <0.239.0> Running boot step guid_generator defined by app rabbit 2020-03-31 10:27:21.806 [info] <0.239.0> Running boot step rabbit_node_monitor defined by app rabbit 2020-03-31 10:27:21.806 [info] <0.428.0> Starting rabbit_node_monitor 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step delegate_sup defined by app rabbit 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step rabbit_memory_monitor defined by app rabbit 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step core_initialized defined by app rabbit 2020-03-31 10:27:21.807 [info] <0.239.0> Running boot step upgrade_queues defined by app rabbit 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: 1 to apply 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: Applying rabbit_variable_queue:move_messages_to_vhost_store 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: No durable queues found. Skipping message store migration 2020-03-31 10:27:21.833 [info] <0.239.0> message_store upgrades: Removing the old message store data 2020-03-31 10:27:21.834 [info] <0.239.0> message_store upgrades: All upgrades applied successfully 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_connection_tracking defined by app rabbit 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_connection_tracking_handler defined by app rabbit 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_exchange_parameters defined by app rabbit 2020-03-31 10:27:21.866 [info] <0.239.0> Running boot step rabbit_mirror_queue_misc defined by app rabbit 2020-03-31 10:27:21.867 [info] <0.239.0> Running boot step rabbit_policies defined by app rabbit ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""elapsed"": 3, ""match_groupdict"": {}, ""match_groups"": [], ""path"": null, ""port"": 11211, 2020-03-31 10:27:21.867 [info] <0.239.0> Running boot step rabbit_policy defined by app rabbit 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_queue_location_validator defined by app rabbit 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_vhost_limit defined by app rabbit 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_mgmt_reset_handler defined by app rabbitmq_management 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step rabbit_mgmt_db_handler defined by app rabbitmq_management_agent 2020-03-31 10:27:21.868 [info] <0.239.0> Management plugin: using rates mode 'basic' 2020-03-31 10:27:21.868 [info] <0.239.0> Running boot step recovery defined by app rabbit 2020-03-31 10:27:21.869 [info] <0.239.0> Running boot step load_definitions defined by app rabbitmq_management 2020-03-31 10:27:21.869 [info] <0.239.0> Applying definitions from /etc/rabbitmq/rabbitmq_definitions.json 2020-03-31 10:27:21.869 [info] <0.239.0> Asked to import definitions. Acting user: rmq-internal 2020-03-31 10:27:21.870 [info] <0.239.0> Importing users... ""search_regex"": null, ""state"": ""started"" } Using /etc/ansible/ansible.cfg as config file 2020-03-31 10:27:21.870 [info] <0.239.0> Creating user 'awx' 2020-03-31 10:27:21.871 [info] <0.239.0> Setting user tags for user 'awx' to [administrator] 2020-03-31 10:27:21.872 [info] <0.239.0> Importing vhosts... 2020-03-31 10:27:21.872 [info] <0.239.0> Adding vhost 'awx' 2020-03-31 10:27:21.880 [info] <0.471.0> Making sure data directory '/var/lib/rabbitmq/mnesia/rabbit@10.233.93.26/msg_stores/vhosts/5A7PFSQL4N28PQOL0INDFDDLU' for vhost 'awx' exists 2020-03-31 10:27:21.882 [info] <0.471.0> Starting message stores for vhost 'awx' 2020-03-31 10:27:21.883 [info] <0.475.0> Message store ""5A7PFSQL4N28PQOL0INDFDDLU/msg_store_transient"": using rabbit_msg_store_ets_index to provide index 2020-03-31 10:27:21.884 [info] <0.471.0> Started message store of type transient for vhost 'awx' 2020-03-31 10:27:21.884 [info] <0.478.0> Message store ""5A7PFSQL4N28PQOL0INDFDDLU/msg_store_persistent"": using rabbit_msg_store_ets_index to provide index 2020-03-31 10:27:21.884 [warning] <0.478.0> Message store ""5A7PFSQL4N28PQOL0INDFDDLU/msg_store_persistent"": rebuilding indices from scratch 2020-03-31 10:27:21.885 [info] <0.471.0> Started message store of type persistent for vhost 'awx' 2020-03-31 10:27:21.886 [info] <0.239.0> Importing user permissions... 2020-03-31 10:27:21.886 [info] <0.239.0> Setting permissions for 'awx' in 'awx' to '.*', '.*', '.*' 2020-03-31 10:27:21.887 [info] <0.239.0> Importing topic permissions... 2020-03-31 10:27:21.887 [info] <0.239.0> Importing parameters... 2020-03-31 10:27:21.888 [info] <0.239.0> Importing global parameters... 2020-03-31 10:27:21.888 [info] <0.239.0> Importing policies... 2020-03-31 10:27:21.890 [info] <0.239.0> Importing queues... 2020-03-31 10:27:21.890 [info] <0.239.0> Importing exchanges... 2020-03-31 10:27:21.890 [info] <0.239.0> Importing bindings... 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step empty_db_check defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step rabbit_looking_glass defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step rabbit_core_metrics_gc defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step background_gc defined by app rabbit 2020-03-31 10:27:21.891 [info] <0.239.0> Running boot step connection_tracking defined by app rabbit 2020-03-31 10:27:21.893 [info] <0.239.0> Setting up a table for connection tracking on this node: 'tracked_connection_on_node_rabbit@10.233.93.26' 2020-03-31 10:27:21.895 [info] <0.239.0> Setting up a table for per-vhost connection counting on this node: 'tracked_connection_per_vhost_on_node_rabbit@10.233.93.26' 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step routing_ready defined by app rabbit 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step pre_flight defined by app rabbit 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step notify_cluster defined by app rabbit 2020-03-31 10:27:21.896 [info] <0.239.0> Running boot step networking defined by app rabbit 2020-03-31 10:27:21.899 [info] <0.524.0> started TCP listener on [::]:5672 2020-03-31 10:27:21.899 [info] <0.239.0> Running boot step direct_client defined by app rabbit 2020-03-31 10:27:21.901 [info] <0.570.0> Peer discovery: enabling node cleanup (will remove nodes not known to the discovery backend). Check interval: 10 seconds. 2020-03-31 10:27:21.929 [info] <0.580.0> Management plugin: HTTP (non-TLS) listener started on port 15672 2020-03-31 10:27:21.929 [info] <0.686.0> Statistics database started. 2020-03-31 10:27:21.929 [info] <0.685.0> Starting worker pool 'management_worker_pool' with 3 processes in it 2020-03-31 10:27:22.027 [info] <0.8.0> Server startup complete; 5 plugins started. * rabbitmq_management * rabbitmq_web_dispatch * rabbitmq_peer_discovery_k8s * rabbitmq_peer_discovery_common * rabbitmq_management_agent completed with 5 plugins. ``` </details> container-file",no-bug,0.9
10132,awx,https://github.com/ansible/awx/issues/10132,Convert Inventory -> Related group tab list and Hosts tab list to tables view,##### ISSUE TYPE - Feature Idea ##### SUMMARY Check out meta issue https://github.com/ansible/awx/issues/6189,other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,Convert Inventory -> Related group tab list and Hosts tab list to tables view ##### ISSUE TYPE - Feature Idea ##### SUMMARY Check out meta issue https://github.com/ansible/awx/issues/6189 other-file test-file other-file test-file other-file test-file other-file test-file,no-bug,0.9
9308,awx,https://github.com/ansible/awx/issues/9308,Add EE to Activity Stream,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add EE to Activity Stream.,other-file | other-file,Add EE to Activity Stream ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add EE to Activity Stream. other-file other-file,no-bug,0.9
11611,awx,https://github.com/ansible/awx/issues/11611,TypeError when running a command on a host in a smart inventory,"When a user accesses the hosts tab of a smart inventory, selects the host, and clicks Run Command, a type error occurs: ![image](https://user-images.githubusercontent.com/63685497/151060638-1badb545-ad13-456d-93b2-f888abde28ba.png) ![image](https://user-images.githubusercontent.com/63685497/151060666-9825f1f3-979c-468f-93c0-3133bd1dc978.png) To be considered- does it make sense to have the Run Command button on this screen?",source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file,"TypeError when running a command on a host in a smart inventory When a user accesses the hosts tab of a smart inventory, selects the host, and clicks Run Command, a type error occurs: ![image](https://user-images.githubusercontent.com/63685497/151060638-1badb545-ad13-456d-93b2-f888abde28ba.png) ![image](https://user-images.githubusercontent.com/63685497/151060666-9825f1f3-979c-468f-93c0-3133bd1dc978.png) To be considered- does it make sense to have the Run Command button on this screen? source-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file",no-bug,0.8
7846,awx,https://github.com/ansible/awx/issues/7846,Add track_submodules option for Git projects,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY With the advent of Git submodules supporting branch specifiers in the `.gitmodules` file, and being able to use `git submodule update --remote` to update the reference easily, it's become feasible to use submodules as a living reference to other repositories instead of just a snapshot of those repos in time. Other deployment tools i.e. Jenkins often have the ability to run `git submodule update --remote` at the beginning of a job, and it would be very useful for my team if AWX could do the same. The `git` module in Ansible has this argument implemented already - `track_submodules` - but it is not exposed in the frontend in AWX.",source-file | source-file | source-file | source-file | config-file | other-file | documentation-file | test-file | other-file | test-file | test-file | documentation-file | other-file | test-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | other-file | documentation-file | test-file | other-file | test-file | test-file | documentation-file | other-file | test-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | other-file | documentation-file | test-file | other-file | test-file | test-file | documentation-file | other-file | test-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | other-file | documentation-file | test-file | other-file | test-file | test-file | documentation-file | other-file | test-file | other-file | source-file | source-file | source-file,"Add track_submodules option for Git projects <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY With the advent of Git submodules supporting branch specifiers in the `.gitmodules` file, and being able to use `git submodule update --remote` to update the reference easily, it's become feasible to use submodules as a living reference to other repositories instead of just a snapshot of those repos in time. Other deployment tools i.e. Jenkins often have the ability to run `git submodule update --remote` at the beginning of a job, and it would be very useful for my team if AWX could do the same. The `git` module in Ansible has this argument implemented already - `track_submodules` - but it is not exposed in the frontend in AWX. source-file source-file source-file source-file config-file other-file documentation-file test-file other-file test-file test-file documentation-file other-file test-file other-file source-file source-file source-file source-file source-file source-file source-file config-file other-file documentation-file test-file other-file test-file test-file documentation-file other-file test-file other-file source-file source-file source-file source-file source-file source-file source-file config-file other-file documentation-file test-file other-file test-file test-file documentation-file other-file test-file other-file source-file source-file source-file source-file source-file source-file source-file config-file other-file documentation-file test-file other-file test-file test-file documentation-file other-file test-file other-file source-file source-file source-file",no-bug,0.95
5717,awx,https://github.com/ansible/awx/issues/5717,awx cli schedules create cannot create schedule if the user is of type Normal User with required permissions.,"##### ISSUE TYPE - Bug Report ##### SUMMARY awx cli schedules create cannot create schedule if the user is of type Normal User with required permissions on the object or even with Organization admin role. Currently the user needs to be a System Administrator type to create the schedule. From the UI the Normal User with permission can create the schedule. POST at the /api/v2/schedules/ endpoint is only available for the user with System Administrator type which is the endpoint used by awx schedules create command. ##### ENVIRONMENT * AWX version: Tower 3.6.2 * AWX install method: Tower 3.6.2 cluster installed with online installer * Ansible version: 2.9.1 * Operating System: RHEL 8 * Web Browser: Chrome 79 ##### STEPS TO REPRODUCE * Create a normal user: * Assign permission to a job template or set the user role as Organization admin. * Try to create the schedule for the job template using awx cli. ``` awx --conf.host https://tower.ishwar.io --conf.username test --conf.password 'PASSWORD' schedules create --name=test --unified_job_template=111 --rrule=""DTSTART;TZID=America/New_York:20180208T221500 RRULE:FREQ=MONTHLY;INTERVAL=1;BYDAY=TH;BYSETPOS=3"" -vvv ``` * Change the user type to system administrator and rerun the command. ##### EXPECTED RESULTS ``` DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): tower.ishwar.io:443 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.208793 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.api.ApiV2'> by url: /api/v2/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/v2/ HTTP/1.1"" 200 1688 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/v2/"" elapsed: 0:00:00.047443 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.052170 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""POST /api/login/ HTTP/1.1"" 302 0 DEBUG:awxkit.api.client:""POST https://tower.ishwar.io/api/login/"" elapsed: 0:00:00.247407 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.080558 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.084587 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/ HTTP/1.1"" 200 13449 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/"" elapsed: 0:00:00.101736 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/1/ HTTP/1.1"" 200 7915 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/1/"" elapsed: 0:00:00.120726 awx: unrecognized arguments: -vvv DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""POST /api/v2/schedules/ HTTP/1.1"" 201 1552 DEBUG:awxkit.api.client:""POST https://tower.ishwar.io/api/v2/schedules/"" elapsed: 0:00:00.156802 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ { ""rrule"": ""DTSTART;TZID=America/New_York:20180208T221500 RRULE:FREQ=MONTHLY;INTERVAL=1;BYDAY=TH;BYSETPOS=3"", ""id"": 14, ""type"": ""schedule"", ""url"": ""/api/v2/schedules/14/"", ""summary_fields"": { ""unified_job_template"": { ""id"": 111, ""name"": ""test-schedule"", ""description"": """", ""unified_job_type"": ""job"" }, ""created_by"": { ""id"": 121, ""username"": ""test"", ""first_name"": ""test"", ""last_name"": ""test"" }, ""modified_by"": { ""id"": 121, ""username"": ""test"", ""first_name"": ""test"", ""last_name"": ""test"" }, ""user_capabilities"": { ""edit"": true, ""delete"": true }, ""inventory"": { ""id"": 29, ""name"": ""Demo Inventory"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 1, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""groups_with_active_failures"": 0, ""has_inventory_sources"": false, ""total_inventory_sources"": 0, ""inventory_sources_with_failures"": 0, ""organization_id"": 1, ""kind"": """", ""insights_credential_id"": null } }, ""created"": ""2020-01-21T07:31:19.312383Z"", ""modified"": ""2020-01-21T07:31:19.312398Z"", ""name"": ""test"", ""description"": """", ""extra_data"": {}, ""inventory"": null, ""scm_branch"": null, ""job_type"": null, ""job_tags"": null, ""skip_tags"": null, ""limit"": null, ""diff_mode"": null, ""verbosity"": null, ""unified_job_template"": 111, ""enabled"": true, ""dtstart"": ""2018-02-16T03:15:00Z"", ""dtend"": null, ""next_run"": ""2020-02-21T03:15:00Z"", ""timezone"": ""America/New_York"", ""until"": """" } ``` ##### ACTUAL RESULTS ``` DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): tower.ishwar.io:443 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.173558 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.api.ApiV2'> by url: /api/v2/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/v2/ HTTP/1.1"" 200 1688 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/v2/"" elapsed: 0:00:00.046141 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.050566 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""POST /api/login/ HTTP/1.1"" 302 0 DEBUG:awxkit.api.client:""POST https://tower.ishwar.io/api/login/"" elapsed: 0:00:00.247518 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.088723 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.081436 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/ HTTP/1.1"" 200 11598 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/"" elapsed: 0:00:00.088985 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/1/ HTTP/1.1"" 200 6065 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/1/"" elapsed: 0:00:00.112443 usage: awx schedules [-h] action ... positional arguments: action list get modify delete optional arguments: -h, --help show this help message and exit awx schedules: argument action: invalid choice: 'create' (choose from 'list', 'get', 'modify', 'delete') ```",source-file | test-file,"awx cli schedules create cannot create schedule if the user is of type Normal User with required permissions. ##### ISSUE TYPE - Bug Report ##### SUMMARY awx cli schedules create cannot create schedule if the user is of type Normal User with required permissions on the object or even with Organization admin role. Currently the user needs to be a System Administrator type to create the schedule. From the UI the Normal User with permission can create the schedule. POST at the /api/v2/schedules/ endpoint is only available for the user with System Administrator type which is the endpoint used by awx schedules create command. ##### ENVIRONMENT * AWX version: Tower 3.6.2 * AWX install method: Tower 3.6.2 cluster installed with online installer * Ansible version: 2.9.1 * Operating System: RHEL 8 * Web Browser: Chrome 79 ##### STEPS TO REPRODUCE * Create a normal user: * Assign permission to a job template or set the user role as Organization admin. * Try to create the schedule for the job template using awx cli. ``` awx --conf.host https://tower.ishwar.io --conf.username test --conf.password 'PASSWORD' schedules create --name=test --unified_job_template=111 --rrule=""DTSTART;TZID=America/New_York:20180208T221500 RRULE:FREQ=MONTHLY;INTERVAL=1;BYDAY=TH;BYSETPOS=3"" -vvv ``` * Change the user type to system administrator and rerun the command. ##### EXPECTED RESULTS ``` DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): tower.ishwar.io:443 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.208793 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.api.ApiV2'> by url: /api/v2/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/v2/ HTTP/1.1"" 200 1688 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/v2/"" elapsed: 0:00:00.047443 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.052170 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""POST /api/login/ HTTP/1.1"" 302 0 DEBUG:awxkit.api.client:""POST https://tower.ishwar.io/api/login/"" elapsed: 0:00:00.247407 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.080558 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.084587 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/ HTTP/1.1"" 200 13449 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/"" elapsed: 0:00:00.101736 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/1/ HTTP/1.1"" 200 7915 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/1/"" elapsed: 0:00:00.120726 awx: unrecognized arguments: -vvv DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""POST /api/v2/schedules/ HTTP/1.1"" 201 1552 DEBUG:awxkit.api.client:""POST https://tower.ishwar.io/api/v2/schedules/"" elapsed: 0:00:00.156802 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ { ""rrule"": ""DTSTART;TZID=America/New_York:20180208T221500 RRULE:FREQ=MONTHLY;INTERVAL=1;BYDAY=TH;BYSETPOS=3"", ""id"": 14, ""type"": ""schedule"", ""url"": ""/api/v2/schedules/14/"", ""summary_fields"": { ""unified_job_template"": { ""id"": 111, ""name"": ""test-schedule"", ""description"": """", ""unified_job_type"": ""job"" }, ""created_by"": { ""id"": 121, ""username"": ""test"", ""first_name"": ""test"", ""last_name"": ""test"" }, ""modified_by"": { ""id"": 121, ""username"": ""test"", ""first_name"": ""test"", ""last_name"": ""test"" }, ""user_capabilities"": { ""edit"": true, ""delete"": true }, ""inventory"": { ""id"": 29, ""name"": ""Demo Inventory"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 1, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""groups_with_active_failures"": 0, ""has_inventory_sources"": false, ""total_inventory_sources"": 0, ""inventory_sources_with_failures"": 0, ""organization_id"": 1, ""kind"": """", ""insights_credential_id"": null } }, ""created"": ""2020-01-21T07:31:19.312383Z"", ""modified"": ""2020-01-21T07:31:19.312398Z"", ""name"": ""test"", ""description"": """", ""extra_data"": {}, ""inventory"": null, ""scm_branch"": null, ""job_type"": null, ""job_tags"": null, ""skip_tags"": null, ""limit"": null, ""diff_mode"": null, ""verbosity"": null, ""unified_job_template"": 111, ""enabled"": true, ""dtstart"": ""2018-02-16T03:15:00Z"", ""dtend"": null, ""next_run"": ""2020-02-21T03:15:00Z"", ""timezone"": ""America/New_York"", ""until"": """" } ``` ##### ACTUAL RESULTS ``` DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): tower.ishwar.io:443 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.173558 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.api.ApiV2'> by url: /api/v2/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/v2/ HTTP/1.1"" 200 1688 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/v2/"" elapsed: 0:00:00.046141 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.050566 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""POST /api/login/ HTTP/1.1"" 302 0 DEBUG:awxkit.api.client:""POST https://tower.ishwar.io/api/login/"" elapsed: 0:00:00.247518 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.088723 DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""GET /api/ HTTP/1.1"" 200 188 DEBUG:awxkit.api.client:""GET https://tower.ishwar.io/api/"" elapsed: 0:00:00.081436 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/ HTTP/1.1"" 200 11598 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/"" elapsed: 0:00:00.088985 DEBUG:awxkit.api.registry:Retrieved <class 'awxkit.api.pages.schedules.Schedules'> by url: /api/v2/schedules/ DEBUG:urllib3.connectionpool:https://tower.ishwar.io:443 ""OPTIONS /api/v2/schedules/1/ HTTP/1.1"" 200 6065 DEBUG:awxkit.api.client:""OPTIONS https://tower.ishwar.io/api/v2/schedules/1/"" elapsed: 0:00:00.112443 usage: awx schedules [-h] action ... positional arguments: action list get modify delete optional arguments: -h, --help show this help message and exit awx schedules: argument action: invalid choice: 'create' (choose from 'list', 'get', 'modify', 'delete') ``` source-file test-file",bug,0.9
14177,awx,https://github.com/ansible/awx/issues/14177,Restart a check job as a run job,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary It would be great if there is an option to change the Job Type from `check` to `run` on relaunching the job. ### Select the relevant components - [x] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce Chaning the Job Type from `check` to `run` requires to create a new job. That's especially annoying if the job has a lot of prompts. ### Current results - create a Job Template - check `Prompt on launch` for a Job Type - save the Job Template and launch it - on prompt, select `Check` as a Job Type - complete the rest of prompts - in order to restart the same job with a Job Type `Run`, I have to create a new job by editing the Job Template - launch it again, but this time with `Run` as a Job Type - complete the rest of prompts ### Sugested feature result - create a Job Template - check `Prompt on launch` for a Job Type - save the Job Template and launch it - on prompt, select `Check` a run the job - complete the rest of prompts - relaunch the same job -> modal appears which gives me an option to choose the Job Type for the relaunch (I don't have to complete every prompt again) ### Additional information _No response_",source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Restart a check job as a run job ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary It would be great if there is an option to change the Job Type from `check` to `run` on relaunching the job. ### Select the relevant components - [x] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce Chaning the Job Type from `check` to `run` requires to create a new job. That's especially annoying if the job has a lot of prompts. ### Current results - create a Job Template - check `Prompt on launch` for a Job Type - save the Job Template and launch it - on prompt, select `Check` as a Job Type - complete the rest of prompts - in order to restart the same job with a Job Type `Run`, I have to create a new job by editing the Job Template - launch it again, but this time with `Run` as a Job Type - complete the rest of prompts ### Sugested feature result - create a Job Template - check `Prompt on launch` for a Job Type - save the Job Template and launch it - on prompt, select `Check` a run the job - complete the rest of prompts - relaunch the same job -> modal appears which gives me an option to choose the Job Type for the relaunch (I don't have to complete every prompt again) ### Additional information _No response_ source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
10399,awx,https://github.com/ansible/awx/issues/10399,Workflow template- details tab shows missing EE resource when not required,"##### ISSUE TYPE - Bug Report ##### SUMMARY When creating a workflow job template, the only field required is the name field. But when the workflow is launched, and the user views the details tab of that job, the EE shows as a missing resource for the WFJT. I then went back to my WFJT, and edited and assigned a specific EE. I then launched the WFJT again. In the job details page, the EE still showed as a missing resource, even though when the user looks at the template itself, it shows the EE that you assigned when you edited the template. ##### STEPS TO REPRODUCE 1. Create a WFJT. Only fill in required fields, leave all others blank. 2. Access the visualizer tab of the WFJT and add one node with a JT. Save. 3. Access the schedules tab of that same WFJT and create a schedule to run the WFJT. 4. Access the Jobs list and wait until the job is triggered and finishes. Expand that job's hidden details line. You will see the warning icon next to the EE saying it is missing. Then click into that job's details page, and next to EE you will see Missing Resource. ##### EXPECTED RESULTS The WFJT should have the default EE assigned to it if the user doesn't pick one. Especially with it not being a required field. ##### ACTUAL RESULTS User has the option not to associate an EE when creating a WFJT, and when they look at the job results after that template launches a job, it shows there is a missing resource. Even if the user does designate a specific EE for the WFJT, the job details page still shows the EE as a missing resource. ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/63685497/121250949-530c2b00-c874-11eb-88a7-28e6b6f7f9d0.png) Launch this workflow, and visit the details screen for that job: ![image](https://user-images.githubusercontent.com/63685497/121251083-7931cb00-c874-11eb-9198-f57dc75d5acf.png)",other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file,"Workflow template- details tab shows missing EE resource when not required ##### ISSUE TYPE - Bug Report ##### SUMMARY When creating a workflow job template, the only field required is the name field. But when the workflow is launched, and the user views the details tab of that job, the EE shows as a missing resource for the WFJT. I then went back to my WFJT, and edited and assigned a specific EE. I then launched the WFJT again. In the job details page, the EE still showed as a missing resource, even though when the user looks at the template itself, it shows the EE that you assigned when you edited the template. ##### STEPS TO REPRODUCE 1. Create a WFJT. Only fill in required fields, leave all others blank. 2. Access the visualizer tab of the WFJT and add one node with a JT. Save. 3. Access the schedules tab of that same WFJT and create a schedule to run the WFJT. 4. Access the Jobs list and wait until the job is triggered and finishes. Expand that job's hidden details line. You will see the warning icon next to the EE saying it is missing. Then click into that job's details page, and next to EE you will see Missing Resource. ##### EXPECTED RESULTS The WFJT should have the default EE assigned to it if the user doesn't pick one. Especially with it not being a required field. ##### ACTUAL RESULTS User has the option not to associate an EE when creating a WFJT, and when they look at the job results after that template launches a job, it shows there is a missing resource. Even if the user does designate a specific EE for the WFJT, the job details page still shows the EE as a missing resource. ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/63685497/121250949-530c2b00-c874-11eb-88a7-28e6b6f7f9d0.png) Launch this workflow, and visit the details screen for that job: ![image](https://user-images.githubusercontent.com/63685497/121251083-7931cb00-c874-11eb-9198-f57dc75d5acf.png) other-file other-file other-file other-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file",no-bug,0.8
8596,awx,https://github.com/ansible/awx/issues/8596,[ui_next] [Meta-issue] Failed to execute 'Send' on Websocket: Still in CONNECTING state.,##### ISSUE TYPE - Bug Report ##### SUMMARY Multiple ways to trigger Failed to execute 'Send' on Websocket: Still in CONNECTING state. 1. Toggling between Job Output and Detail causes invalidstateerror. 2. Relaunching Jobs ##### ENVIRONMENT * AWX version: 10664d1931d789c281e2c9d3d2f14c0a69cb9e13 ##### STEPS TO REPRODUCE 1. Launch a Job 2. Navigate to the Output Page and toggle between Details and Output tabs ##### EXPECTED RESULTS No errors ##### ACTUAL RESULTS Unhandled error ##### ADDITIONAL INFORMATION ![Screen Recording 2020-11-17 at 08 50 37 AM](https://user-images.githubusercontent.com/12446869/99398198-17971880-28b2-11eb-8ba4-c798a90fe95c.gif),source-file,[ui_next] [Meta-issue] Failed to execute 'Send' on Websocket: Still in CONNECTING state. ##### ISSUE TYPE - Bug Report ##### SUMMARY Multiple ways to trigger Failed to execute 'Send' on Websocket: Still in CONNECTING state. 1. Toggling between Job Output and Detail causes invalidstateerror. 2. Relaunching Jobs ##### ENVIRONMENT * AWX version: 10664d1931d789c281e2c9d3d2f14c0a69cb9e13 ##### STEPS TO REPRODUCE 1. Launch a Job 2. Navigate to the Output Page and toggle between Details and Output tabs ##### EXPECTED RESULTS No errors ##### ACTUAL RESULTS Unhandled error ##### ADDITIONAL INFORMATION ![Screen Recording 2020-11-17 at 08 50 37 AM](https://user-images.githubusercontent.com/12446869/99398198-17971880-28b2-11eb-8ba4-c798a90fe95c.gif) source-file,no-bug,0.9
13131,awx,https://github.com/ansible/awx/issues/13131,Job failed if Job Slicing and Fact Storage enabled together,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Job failed if Job Slicing and Fact Storage enabled together `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 504, in run self.instance.start_job_fact_cache( File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/jobs.py"", line 862, in start_job_fact_cache hosts = hosts.filter(ansible_facts_modified__gte=timeout) AttributeError: 'list' object has no attribute 'filter'` ### AWX version AWX 21.7.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Create Job Template. 2. Make sure the Job Slicing >2. 3. Enable Enable Fact Storage flag 4. Launch job ### Expected results Job is done ### Actual results Job failed with error: `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 504, in run self.instance.start_job_fact_cache( File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/jobs.py"", line 862, in start_job_fact_cache hosts = hosts.filter(ansible_facts_modified__gte=timeout) AttributeError: 'list' object has no attribute 'filter'` ### Additional information _No response_",source-file | source-file | source-file | source-file,"Job failed if Job Slicing and Fact Storage enabled together ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Job failed if Job Slicing and Fact Storage enabled together `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 504, in run self.instance.start_job_fact_cache( File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/jobs.py"", line 862, in start_job_fact_cache hosts = hosts.filter(ansible_facts_modified__gte=timeout) AttributeError: 'list' object has no attribute 'filter'` ### AWX version AWX 21.7.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Create Job Template. 2. Make sure the Job Slicing >2. 3. Enable Enable Fact Storage flag 4. Launch job ### Expected results Job is done ### Actual results Job failed with error: `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 504, in run self.instance.start_job_fact_cache( File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/models/jobs.py"", line 862, in start_job_fact_cache hosts = hosts.filter(ansible_facts_modified__gte=timeout) AttributeError: 'list' object has no attribute 'filter'` ### Additional information _No response_ source-file source-file source-file source-file",no-bug,0.9
11873,awx,https://github.com/ansible/awx/issues/11873,Add help text popovers to /#/applications details fields,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Spawned out of https://github.com/ansible/awx/issues/9215 See /#/settings for how this should work. If you look the details view for a particular settings group you'll see help text popovers next to many (if not all) of the fields. The help text matches up with the fields in the form. We want to bring all the forms/details to parity in this regard. If you see form fields that are missing help text, feel free to add it. Here's a list of details views and fields that have help text in the form but not in the details: **Application** - Authorization grant type - Redirect URIs - Client type",source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file,"Add help text popovers to /#/applications details fields ##### ISSUE TYPE - Feature Idea ##### SUMMARY Spawned out of https://github.com/ansible/awx/issues/9215 See /#/settings for how this should work. If you look the details view for a particular settings group you'll see help text popovers next to many (if not all) of the fields. The help text matches up with the fields in the form. We want to bring all the forms/details to parity in this regard. If you see form fields that are missing help text, feel free to add it. Here's a list of details views and fields that have help text in the form but not in the details: **Application** - Authorization grant type - Redirect URIs - Client type source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file",no-bug,0.95
8581,awx,https://github.com/ansible/awx/issues/8581,Add inventory as part of dynamic host filter,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add inventory as part of dynamic host filter. ![image](https://user-images.githubusercontent.com/9053044/98982779-e30c1100-24ed-11eb-826b-db5327144719.png) ![image](https://user-images.githubusercontent.com/9053044/98982949-1cdd1780-24ee-11eb-84cf-30e2bf8f7f8e.png),other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file,Add inventory as part of dynamic host filter ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add inventory as part of dynamic host filter. ![image](https://user-images.githubusercontent.com/9053044/98982779-e30c1100-24ed-11eb-826b-db5327144719.png) ![image](https://user-images.githubusercontent.com/9053044/98982949-1cdd1780-24ee-11eb-84cf-30e2bf8f7f8e.png) other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file,no-bug,0.9
10991,awx,https://github.com/ansible/awx/issues/10991,Inventory Source List Item Status Icon Update,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary We need to update the Inventory Source List Item status Icon to match the icon on the Inventory Source details view. (Mock up)[https://tower-mockups.testing.ansible.com/patternfly/inventories/inventories-sources/] ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Go to an inventory source and sync it. Then go to the inventory source list. Check out the status Icon ### Expected results https://tower-mockups.testing.ansible.com/patternfly/inventories/inventories-sources/ ### Actual results It isn't what's expected. ### Additional information _No response_,source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file,Inventory Source List Item Status Icon Update ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary We need to update the Inventory Source List Item status Icon to match the icon on the Inventory Source details view. (Mock up)[https://tower-mockups.testing.ansible.com/patternfly/inventories/inventories-sources/] ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Go to an inventory source and sync it. Then go to the inventory source list. Check out the status Icon ### Expected results https://tower-mockups.testing.ansible.com/patternfly/inventories/inventories-sources/ ### Actual results It isn't what's expected. ### Additional information _No response_ source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file,no-bug,0.9
9898,awx,https://github.com/ansible/awx/issues/9898,Invalid `type` field in key select filter column in advanced search,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Some model's classes do not contain `type` attributes or fields. Thus, filterable `type` should not be displayed in the key select filter in the advanced search. Affected classes are as follows: 1. ActivityStream 2. CredentialType 3. ExecutionEnvironment 4. Host 5. InstanceGroup 6. Inventory 7. NotificationTemplate 8. OAuth2Application 9. Organization 10. Schedule 11. Team 12. Users ##### ENVIRONMENT * AWX version: `devel` ##### STEPS TO REPRODUCE 1. Go to `schedules` section 2. Select advanced search 3. Select `type` key from the key select filter column 4. Type in any characters in the text input field 5. Click search <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Should only display filterable key in the key select filter column <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Display non-filterable key in the key select filter column <!-- What actually happened? --> ##### ADDITIONAL INFORMATION ![Invalid_field_bug](https://user-images.githubusercontent.com/67208821/114610045-0ff96580-9cd2-11eb-8cd2-25287cbaf43e.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> #### Potential Solution Set the `type` field's filterable as `True` only if the model class consists of the `type` attribute.",source-file | source-file,"Invalid `type` field in key select filter column in advanced search <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Some model's classes do not contain `type` attributes or fields. Thus, filterable `type` should not be displayed in the key select filter in the advanced search. Affected classes are as follows: 1. ActivityStream 2. CredentialType 3. ExecutionEnvironment 4. Host 5. InstanceGroup 6. Inventory 7. NotificationTemplate 8. OAuth2Application 9. Organization 10. Schedule 11. Team 12. Users ##### ENVIRONMENT * AWX version: `devel` ##### STEPS TO REPRODUCE 1. Go to `schedules` section 2. Select advanced search 3. Select `type` key from the key select filter column 4. Type in any characters in the text input field 5. Click search <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Should only display filterable key in the key select filter column <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Display non-filterable key in the key select filter column <!-- What actually happened? --> ##### ADDITIONAL INFORMATION ![Invalid_field_bug](https://user-images.githubusercontent.com/67208821/114610045-0ff96580-9cd2-11eb-8cd2-25287cbaf43e.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> #### Potential Solution Set the `type` field's filterable as `True` only if the model class consists of the `type` attribute. source-file source-file",no-bug,0.9
4660,awx,https://github.com/ansible/awx/issues/4660,Unwanted project source tree updates before job run,"##### ISSUE TYPE - Bug Report ##### SUMMARY Projects are not supposed to update to newer versions when a job is ran, unless the project is set to update on launch. This appears to be happening when `scm_branch` of the project is blank, and new commits have been added to the repo. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE create a new project with test-playbooks, then merge a PR to that repo, and re-run a job that uses the debug playbook from it. ##### EXPECTED RESULTS old version ran ##### ACTUAL RESULTS new version ran ##### ADDITIONAL INFORMATION fallout from project branch override",source-file | source-file,"Unwanted project source tree updates before job run ##### ISSUE TYPE - Bug Report ##### SUMMARY Projects are not supposed to update to newer versions when a job is ran, unless the project is set to update on launch. This appears to be happening when `scm_branch` of the project is blank, and new commits have been added to the repo. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE create a new project with test-playbooks, then merge a PR to that repo, and re-run a job that uses the debug playbook from it. ##### EXPECTED RESULTS old version ran ##### ACTUAL RESULTS new version ran ##### ADDITIONAL INFORMATION fallout from project branch override source-file source-file",no-bug,0.9
6359,awx,https://github.com/ansible/awx/issues/6359,Searching keyword finds more than I expected at Templates menu,"##### ISSUE TYPE - Bug Report ##### SUMMARY Searching keyword finds more than I expected at Templates menu ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: Centos7 * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Create Job Templates with name prefix N_CAT01_ , R_CAT01_ and T_CAT01_ serveral kinds. 2. Repeat 1. with changing prefix number 01 to 02, 10, 11. 3. Search with keyword T_CAT10 (or T_CAT11) 4. Results have N_CAT10_xxx (or N_CAT11_xxx) ##### EXPECTED RESULTS Do not find templates which doesn't have keyword in name ##### ACTUAL RESULTS One or two job templates not related with keyword was found. ##### ADDITIONAL INFORMATION ![T_CAT10](https://user-images.githubusercontent.com/25745571/77148646-4b2b6400-6ad3-11ea-987a-6c4a92e30ce5.png) ![T_CAT11](https://user-images.githubusercontent.com/25745571/77148650-4c5c9100-6ad3-11ea-90eb-de62446c7049.png)",source-file,"Searching keyword finds more than I expected at Templates menu ##### ISSUE TYPE - Bug Report ##### SUMMARY Searching keyword finds more than I expected at Templates menu ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: Centos7 * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Create Job Templates with name prefix N_CAT01_ , R_CAT01_ and T_CAT01_ serveral kinds. 2. Repeat 1. with changing prefix number 01 to 02, 10, 11. 3. Search with keyword T_CAT10 (or T_CAT11) 4. Results have N_CAT10_xxx (or N_CAT11_xxx) ##### EXPECTED RESULTS Do not find templates which doesn't have keyword in name ##### ACTUAL RESULTS One or two job templates not related with keyword was found. ##### ADDITIONAL INFORMATION ![T_CAT10](https://user-images.githubusercontent.com/25745571/77148646-4b2b6400-6ad3-11ea-987a-6c4a92e30ce5.png) ![T_CAT11](https://user-images.githubusercontent.com/25745571/77148650-4c5c9100-6ad3-11ea-90eb-de62446c7049.png) source-file",no-bug,0.7
5079,awx,https://github.com/ansible/awx/issues/5079,Change secret_key and re-encrypt credentials,##### ISSUE TYPE - Feature Idea ##### SUMMARY Currently it seems not possible to change the awx **secret_key** (from installer/inventory) to be able to change the credential encryption key - or is it possible? Will this be supported in the future?,other-file | test-file | other-file | other-file | source-file,Change secret_key and re-encrypt credentials ##### ISSUE TYPE - Feature Idea ##### SUMMARY Currently it seems not possible to change the awx **secret_key** (from installer/inventory) to be able to change the credential encryption key - or is it possible? Will this be supported in the future? other-file test-file other-file other-file source-file,no-bug,0.9
6006,awx,https://github.com/ansible/awx/issues/6006,Add support for JSON patch for the API,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Currently when updating a standalone field like AUTH_LDAP_ORGANIZATION_MAP, we have to provide the complete JSON document. With JSON patch we can express a sequence of operations to apply to a target JSON document.",source-file | source-file | source-file,"Add support for JSON patch for the API ##### ISSUE TYPE - Feature Idea ##### SUMMARY Currently when updating a standalone field like AUTH_LDAP_ORGANIZATION_MAP, we have to provide the complete JSON document. With JSON patch we can express a sequence of operations to apply to a target JSON document. source-file source-file source-file",no-bug,0.9
6428,awx,https://github.com/ansible/awx/issues/6428,instance group ordering,"##### ISSUE TYPE - Bug Report ##### SUMMARY Regression on https://github.com/ansible/awx/issues/3840 ##### ENVIRONMENT * AWX version: devel * AWX install method: openshift * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE * Make 3 instance groups * Go to an org and associate each, one by one ##### EXPECTED RESULTS * For them to be returned in the order in which you added them ##### ACTUAL RESULTS * 1st is 2nd * 2nd is last * 3rd is first",source-file | test-file | source-file | test-file | source-file | test-file | source-file,"instance group ordering ##### ISSUE TYPE - Bug Report ##### SUMMARY Regression on https://github.com/ansible/awx/issues/3840 ##### ENVIRONMENT * AWX version: devel * AWX install method: openshift * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE * Make 3 instance groups * Go to an org and associate each, one by one ##### EXPECTED RESULTS * For them to be returned in the order in which you added them ##### ACTUAL RESULTS * 1st is 2nd * 2nd is last * 3rd is first source-file test-file source-file test-file source-file test-file source-file",no-bug,0.0
11056,awx,https://github.com/ansible/awx/issues/11056,AWX 19.0+ OVIRT Inventory Source Doesn't work,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary I am trying to get AWX to use my OVIRT installation as an inventory, but it is failing to sync the hosts. ### AWX version AWX 19 ### Installation method kubernetes ### Modifications no ### Ansible version What is included in AWX-EE (which is 2.11) ### Operating system CentOS Stream ### Web browser Firefox ### Steps to reproduce 1. Create ovirt credentials 2. Add inventory 3. Add inventory source 4. Select ovirt credential. ### Expected results I should be able to sync inventory ### Actual results ``` config file = None configured module search path = ['/home/runner/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.8/site-packages/ansible ansible collection location = /home/runner/.ansible/collections:/usr/share/ansible/collections:/usr/share/automation-controller/collections executable location = /usr/local/bin/ansible-inventory python version = 3.8.6 (default, Jan 29 2021, 17:38:16) [GCC 8.4.1 20200928 (Red Hat 8.4.1-1)] jinja version = 2.10.3 libyaml = True No config file found; using defaults [WARNING]: * Failed to parse /runner/inventory/ovirt.yml with auto plugin: inventory config '/runner/inventory/ovirt.yml' specifies unknown plugin 'ovirt' File ""/usr/local/lib/python3.8/site-packages/ansible/inventory/manager.py"", line 290, in parse_source plugin.parse(self._inventory, self._loader, source, cache=cache) File ""/usr/local/lib/python3.8/site-packages/ansible/plugins/inventory/auto.py"", line 53, in parse raise AnsibleParserError(""inventory config '{0}' specifies unknown plugin '{1}'"".format(path, plugin_name)) [WARNING]: Unable to parse /runner/inventory/ovirt.yml as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` ### Additional information As far as I can tell, ovirt is included in the container: ``` bash-4.4$ ls -la /usr/share/ansible/collections/ansible_collections/ total 0 drwxr-xr-x. 13 root root 178 Sep 6 12:05 . drwxr-xr-x. 3 root root 33 Sep 6 12:04 .. drwxr-xr-x. 3 root root 17 Sep 6 12:05 amazon drwxr-xr-x. 4 root root 34 Sep 6 12:05 ansible drwxr-xr-x. 3 root root 17 Sep 6 12:05 awx drwxr-xr-x. 3 root root 26 Sep 6 12:05 azure drwxr-xr-x. 3 root root 20 Sep 6 12:05 community drwxr-xr-x. 3 root root 19 Sep 6 12:05 google drwxr-xr-x. 3 root root 18 Sep 6 12:05 kubernetes drwxr-xr-x. 3 root root 19 Sep 6 12:05 openstack drwxr-xr-x. 3 root root 19 Sep 6 12:05 ovirt drwxr-xr-x. 3 root root 22 Sep 6 12:05 redhatinsights drwxr-xr-x. 3 root root 21 Sep 6 12:05 theforeman ``` So it doesn't look like I should rebuild the container. It seems to happen with most awx-ee versions, as I tried: - 0.1.1 - 0.6.0 - devel - latest It seems to be similar to this PR: https://github.com/ansible/awx/issues/9746 Notably, I am able to query the ovirt from within the awx-ee container: ``` bash-4.4$ ansible-inventory -i /runner/inventory/ --host cn01 { ""affinity_groups"": [], ""affinity_labels"": [], ""cluster"": ""Default"", ""creation_time"": ""2021-07-25 01:56:17.680000+00:00"", ""creation_time_timestamp"": 1627178177.68, ""description"": """", ""devices"": { ""enp1s0"": [ ""192.168.3.53"", ""fe80::6dc4:616d:ce22:a2af"" ] }, ""fqdn"": ""cn01"", ""host"": ""ovirt04.example.com"", ""id"": ""b3f12479-0346-453a-848f-93947b7634e5"", ""name"": ""cn01"", ""os"": ""other_linux"", ""statistics"": { ""cpu.current.guest"": 0.48, ""cpu.current.hypervisor"": 0.0, ""cpu.current.total"": 0.48, ""cpu.usage.history"": 0.0, ""disks.usage"": null, ""elapsed.time"": 1041019.0, ""memory.buffered"": 0.0, ""memory.cached"": 0.0, ""memory.free"": 1481633792.0, ""memory.installed"": 2147483648.0, ""memory.unused"": 724025344.0, ""memory.usage.history"": 31.0, ""memory.used"": 665719930.0, ""migration.progress"": 100.0, ""network.current.total"": 0.0, ""network.usage.history"": 0.0 }, ""status"": ""up"", ""tags"": [], ""template"": ""Blank"" } ``` incidentally, this is what my inventory file looks like when I was testing from within the container: ``` --- plugin: ovirt.ovirt.ovirt ovirt_url: https://ovirt-engine.example.com/ovirt-engine/api ovirt_username: admin@internal ovirt_password: mypassword ``` This suggests that the ovirt template was being generated with: ``` plugin: ovirt ``` Rather than: ``` plugin: ovirt.ovirt.ovirt ``` Though it is not clear how I can definitely prove that to be the case. I did try to specify `plugin: ovirt.ovirt.ovirt` in the source variables in an attempt to override the default, with no effects.",source-file | source-file | source-file | source-file,"AWX 19.0+ OVIRT Inventory Source Doesn't work ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary I am trying to get AWX to use my OVIRT installation as an inventory, but it is failing to sync the hosts. ### AWX version AWX 19 ### Installation method kubernetes ### Modifications no ### Ansible version What is included in AWX-EE (which is 2.11) ### Operating system CentOS Stream ### Web browser Firefox ### Steps to reproduce 1. Create ovirt credentials 2. Add inventory 3. Add inventory source 4. Select ovirt credential. ### Expected results I should be able to sync inventory ### Actual results ``` config file = None configured module search path = ['/home/runner/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.8/site-packages/ansible ansible collection location = /home/runner/.ansible/collections:/usr/share/ansible/collections:/usr/share/automation-controller/collections executable location = /usr/local/bin/ansible-inventory python version = 3.8.6 (default, Jan 29 2021, 17:38:16) [GCC 8.4.1 20200928 (Red Hat 8.4.1-1)] jinja version = 2.10.3 libyaml = True No config file found; using defaults [WARNING]: * Failed to parse /runner/inventory/ovirt.yml with auto plugin: inventory config '/runner/inventory/ovirt.yml' specifies unknown plugin 'ovirt' File ""/usr/local/lib/python3.8/site-packages/ansible/inventory/manager.py"", line 290, in parse_source plugin.parse(self._inventory, self._loader, source, cache=cache) File ""/usr/local/lib/python3.8/site-packages/ansible/plugins/inventory/auto.py"", line 53, in parse raise AnsibleParserError(""inventory config '{0}' specifies unknown plugin '{1}'"".format(path, plugin_name)) [WARNING]: Unable to parse /runner/inventory/ovirt.yml as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` ### Additional information As far as I can tell, ovirt is included in the container: ``` bash-4.4$ ls -la /usr/share/ansible/collections/ansible_collections/ total 0 drwxr-xr-x. 13 root root 178 Sep 6 12:05 . drwxr-xr-x. 3 root root 33 Sep 6 12:04 .. drwxr-xr-x. 3 root root 17 Sep 6 12:05 amazon drwxr-xr-x. 4 root root 34 Sep 6 12:05 ansible drwxr-xr-x. 3 root root 17 Sep 6 12:05 awx drwxr-xr-x. 3 root root 26 Sep 6 12:05 azure drwxr-xr-x. 3 root root 20 Sep 6 12:05 community drwxr-xr-x. 3 root root 19 Sep 6 12:05 google drwxr-xr-x. 3 root root 18 Sep 6 12:05 kubernetes drwxr-xr-x. 3 root root 19 Sep 6 12:05 openstack drwxr-xr-x. 3 root root 19 Sep 6 12:05 ovirt drwxr-xr-x. 3 root root 22 Sep 6 12:05 redhatinsights drwxr-xr-x. 3 root root 21 Sep 6 12:05 theforeman ``` So it doesn't look like I should rebuild the container. It seems to happen with most awx-ee versions, as I tried: - 0.1.1 - 0.6.0 - devel - latest It seems to be similar to this PR: https://github.com/ansible/awx/issues/9746 Notably, I am able to query the ovirt from within the awx-ee container: ``` bash-4.4$ ansible-inventory -i /runner/inventory/ --host cn01 { ""affinity_groups"": [], ""affinity_labels"": [], ""cluster"": ""Default"", ""creation_time"": ""2021-07-25 01:56:17.680000+00:00"", ""creation_time_timestamp"": 1627178177.68, ""description"": """", ""devices"": { ""enp1s0"": [ ""192.168.3.53"", ""fe80::6dc4:616d:ce22:a2af"" ] }, ""fqdn"": ""cn01"", ""host"": ""ovirt04.example.com"", ""id"": ""b3f12479-0346-453a-848f-93947b7634e5"", ""name"": ""cn01"", ""os"": ""other_linux"", ""statistics"": { ""cpu.current.guest"": 0.48, ""cpu.current.hypervisor"": 0.0, ""cpu.current.total"": 0.48, ""cpu.usage.history"": 0.0, ""disks.usage"": null, ""elapsed.time"": 1041019.0, ""memory.buffered"": 0.0, ""memory.cached"": 0.0, ""memory.free"": 1481633792.0, ""memory.installed"": 2147483648.0, ""memory.unused"": 724025344.0, ""memory.usage.history"": 31.0, ""memory.used"": 665719930.0, ""migration.progress"": 100.0, ""network.current.total"": 0.0, ""network.usage.history"": 0.0 }, ""status"": ""up"", ""tags"": [], ""template"": ""Blank"" } ``` incidentally, this is what my inventory file looks like when I was testing from within the container: ``` --- plugin: ovirt.ovirt.ovirt ovirt_url: https://ovirt-engine.example.com/ovirt-engine/api ovirt_username: admin@internal ovirt_password: mypassword ``` This suggests that the ovirt template was being generated with: ``` plugin: ovirt ``` Rather than: ``` plugin: ovirt.ovirt.ovirt ``` Though it is not clear how I can definitely prove that to be the case. I did try to specify `plugin: ovirt.ovirt.ovirt` in the source variables in an attempt to override the default, with no effects. source-file source-file source-file source-file",no-bug,0.9
4786,awx,https://github.com/ansible/awx/issues/4786,Unable to install AWX using internally signed SSL certificate - ChromeDriver fails,"##### ISSUE TYPE Cannot build AWX image with internally signed SSL certificate. ##### SUMMARY Installing without HTTPS support works fine. Specifying which certificate to use via the 'ssl_certificate' option causes image build to fail. The certificate I am using is a combined cert/key in PEM format. I added my CA's cert to the local keystore, updated with 'update-ca-trust extract' and confirmed it's present in file '/etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt'. The 'inventory' file settings I adjusted are below: ``` #dockerhub_base=ansible ssl_certificate=/etc/ssl/certs/server.pem ca_trust_dir=/etc/pki/ca-trust/extracted/openssl ``` ! note I also tried pointing ca_trust_dir to the anchors path where copy of the CA cert is - /etc/pki/ca-trust/source/anchors Short version of error I get is: `/tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.4 * Operating System: CentOS 7.6 * Web Browser: chrome ##### STEPS TO REPRODUCE 1) Have server cert/key pair that was generated by internal CA 2) Create combined PEM file from both, specify this in the 'inventory' file 3) Add CA certificate to local store in path: /etc/pki/ca-trust/source/anchors 4) Update local store with - update-ca-trust extract 5) Attempt to build AWX image using command: sudo ansible-playbook -i inventory install.yml ##### EXPECTED RESULTS Successful build. ##### ACTUAL RESULTS This is the verbose error log from the playbook step that fails: ``` TASK [image_build : Build AWX distribution using container] ********************************************************************************************************************************************************************************* task path: /opt/ansible-awx-git/installer/roles/image_build/tasks/main.yml:61 fatal: [localhost -> localhost]: FAILED! => { ""changed"": false, ""invocation"": { ""module_args"": { ""api_version"": ""auto"", ""auto_remove"": false, ""blkio_weight"": null, ""ca_cert"": null, ""cap_drop"": null, ""capabilities"": null, ""cleanup"": false, ""client_cert"": null, ""client_key"": null, ""command"": null, ""comparisons"": null, ""cpu_period"": null, ""cpu_quota"": null, ""cpu_shares"": null, ""cpuset_cpus"": null, ""cpuset_mems"": null, ""debug"": false, ""detach"": false, ""device_read_bps"": null, ""device_read_iops"": null, ""device_write_bps"": null, ""device_write_iops"": null, ""devices"": null, ""dns_opts"": null, ""dns_search_domains"": null, ""dns_servers"": null, ""docker_host"": ""unix://var/run/docker.sock"", ""domainname"": null, ""entrypoint"": null, ""env"": { ""http_proxy"": """", ""https_proxy"": """", ""no_proxy"": """" }, ""env_file"": null, ""etc_hosts"": null, ""exposed_ports"": null, ""force_kill"": false, ""groups"": null, ""healthcheck"": null, ""hostname"": null, ""ignore_image"": false, ""image"": ""awx_sdist_builder:7.0.0"", ""init"": false, ""interactive"": false, ""ipc_mode"": null, ""keep_volumes"": true, ""kernel_memory"": null, ""kill_signal"": null, ""labels"": null, ""links"": null, ""log_driver"": null, ""log_options"": null, ""mac_address"": null, ""memory"": ""0"", ""memory_reservation"": null, ""memory_swap"": null, ""memory_swappiness"": null, ""name"": ""awx_sdist_builder"", ""network_mode"": null, ""networks"": null, ""networks_cli_compatible"": null, ""oom_killer"": null, ""oom_score_adj"": null, ""output_logs"": false, ""paused"": false, ""pid_mode"": null, ""pids_limit"": null, ""privileged"": false, ""published_ports"": null, ""pull"": false, ""purge_networks"": false, ""read_only"": false, ""recreate"": false, ""restart"": false, ""restart_policy"": null, ""restart_retries"": null, ""runtime"": null, ""security_opts"": null, ""shm_size"": null, ""ssl_version"": null, ""state"": ""started"", ""stop_signal"": null, ""stop_timeout"": null, ""sysctls"": null, ""timeout"": 60, ""tls"": false, ""tls_hostname"": ""localhost"", ""tmpfs"": null, ""trust_image_content"": false, ""tty"": false, ""ulimits"": null, ""user"": null, ""userns_mode"": null, ""uts"": null, ""validate_certs"": false, ""volume_driver"": null, ""volumes"": [ ""../:/awx:Z"" ], ""volumes_from"": null, ""working_dir"": null } }, ""msg"": ""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T01_29_42_681Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T02_41_26_233Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T03_05_51_039Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T03_34_13_485Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\nnpm ERR! Error while executing:\nnpm ERR! /usr/bin/git ls-remote -h -t ssh://git@github.com/ansible/timezone-js.git\nnpm ERR! \nnpm ERR! fatal: Unable to read current working directory: No such file or directory\nnpm ERR! \nnpm ERR! exited with error code: 128\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T03_49_32_829Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T04_07_34_078Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T15_58_51_692Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T16_26_27_602Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T16_50_10_567Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T17_30_25_597Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\n"", ""status"": 2 } ``` ##### ADDITIONAL INFORMATION I also added a .npmrc file with the following content: ``` cafile=/etc/pki/ca-trust/source/anchors strict-ssl=false ! also tried this option - path to CA bundle: cafile=/etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt ``` This file was added to this path: /opt/ansible-awx-git/awx/ui/node_modules/chromedriver/.npmrc No change noticed in output - build process still failed. Running the command 'npm config ls -l' from within that directory did show those options to be set however.",documentation-file | other-file | other-file,"Unable to install AWX using internally signed SSL certificate - ChromeDriver fails ##### ISSUE TYPE Cannot build AWX image with internally signed SSL certificate. ##### SUMMARY Installing without HTTPS support works fine. Specifying which certificate to use via the 'ssl_certificate' option causes image build to fail. The certificate I am using is a combined cert/key in PEM format. I added my CA's cert to the local keystore, updated with 'update-ca-trust extract' and confirmed it's present in file '/etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt'. The 'inventory' file settings I adjusted are below: ``` #dockerhub_base=ansible ssl_certificate=/etc/ssl/certs/server.pem ca_trust_dir=/etc/pki/ca-trust/extracted/openssl ``` ! note I also tried pointing ca_trust_dir to the anchors path where copy of the CA cert is - /etc/pki/ca-trust/source/anchors Short version of error I get is: `/tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.4 * Operating System: CentOS 7.6 * Web Browser: chrome ##### STEPS TO REPRODUCE 1) Have server cert/key pair that was generated by internal CA 2) Create combined PEM file from both, specify this in the 'inventory' file 3) Add CA certificate to local store in path: /etc/pki/ca-trust/source/anchors 4) Update local store with - update-ca-trust extract 5) Attempt to build AWX image using command: sudo ansible-playbook -i inventory install.yml ##### EXPECTED RESULTS Successful build. ##### ACTUAL RESULTS This is the verbose error log from the playbook step that fails: ``` TASK [image_build : Build AWX distribution using container] ********************************************************************************************************************************************************************************* task path: /opt/ansible-awx-git/installer/roles/image_build/tasks/main.yml:61 fatal: [localhost -> localhost]: FAILED! => { ""changed"": false, ""invocation"": { ""module_args"": { ""api_version"": ""auto"", ""auto_remove"": false, ""blkio_weight"": null, ""ca_cert"": null, ""cap_drop"": null, ""capabilities"": null, ""cleanup"": false, ""client_cert"": null, ""client_key"": null, ""command"": null, ""comparisons"": null, ""cpu_period"": null, ""cpu_quota"": null, ""cpu_shares"": null, ""cpuset_cpus"": null, ""cpuset_mems"": null, ""debug"": false, ""detach"": false, ""device_read_bps"": null, ""device_read_iops"": null, ""device_write_bps"": null, ""device_write_iops"": null, ""devices"": null, ""dns_opts"": null, ""dns_search_domains"": null, ""dns_servers"": null, ""docker_host"": ""unix://var/run/docker.sock"", ""domainname"": null, ""entrypoint"": null, ""env"": { ""http_proxy"": """", ""https_proxy"": """", ""no_proxy"": """" }, ""env_file"": null, ""etc_hosts"": null, ""exposed_ports"": null, ""force_kill"": false, ""groups"": null, ""healthcheck"": null, ""hostname"": null, ""ignore_image"": false, ""image"": ""awx_sdist_builder:7.0.0"", ""init"": false, ""interactive"": false, ""ipc_mode"": null, ""keep_volumes"": true, ""kernel_memory"": null, ""kill_signal"": null, ""labels"": null, ""links"": null, ""log_driver"": null, ""log_options"": null, ""mac_address"": null, ""memory"": ""0"", ""memory_reservation"": null, ""memory_swap"": null, ""memory_swappiness"": null, ""name"": ""awx_sdist_builder"", ""network_mode"": null, ""networks"": null, ""networks_cli_compatible"": null, ""oom_killer"": null, ""oom_score_adj"": null, ""output_logs"": false, ""paused"": false, ""pid_mode"": null, ""pids_limit"": null, ""privileged"": false, ""published_ports"": null, ""pull"": false, ""purge_networks"": false, ""read_only"": false, ""recreate"": false, ""restart"": false, ""restart_policy"": null, ""restart_retries"": null, ""runtime"": null, ""security_opts"": null, ""shm_size"": null, ""ssl_version"": null, ""state"": ""started"", ""stop_signal"": null, ""stop_timeout"": null, ""sysctls"": null, ""timeout"": 60, ""tls"": false, ""tls_hostname"": ""localhost"", ""tmpfs"": null, ""trust_image_content"": false, ""tty"": false, ""ulimits"": null, ""user"": null, ""userns_mode"": null, ""uts"": null, ""validate_certs"": false, ""volume_driver"": null, ""volumes"": [ ""../:/awx:Z"" ], ""volumes_from"": null, ""working_dir"": null } }, ""msg"": ""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T01_29_42_681Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T02_41_26_233Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T03_05_51_039Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T03_34_13_485Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\nnpm ERR! Error while executing:\nnpm ERR! /usr/bin/git ls-remote -h -t ssh://git@github.com/ansible/timezone-js.git\nnpm ERR! \nnpm ERR! fatal: Unable to read current working directory: No such file or directory\nnpm ERR! \nnpm ERR! exited with error code: 128\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T03_49_32_829Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T04_07_34_078Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T15_58_51_692Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T16_26_27_602Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T16_50_10_567Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\nPUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nDownloading https://chromedriver.storage.googleapis.com/2.40/chromedriver_linux64.zip\nSaving to /tmp/chromedriver/chromedriver_linux64.zip\nChromeDriver installation failed Error with http(s) request: Error: self signed certificate in certificate chain\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2019-09-19T17_30_25_597Z-debug.log\nmake: *** [awx/ui/.release_deps_built] Error 1\n"", ""status"": 2 } ``` ##### ADDITIONAL INFORMATION I also added a .npmrc file with the following content: ``` cafile=/etc/pki/ca-trust/source/anchors strict-ssl=false ! also tried this option - path to CA bundle: cafile=/etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt ``` This file was added to this path: /opt/ansible-awx-git/awx/ui/node_modules/chromedriver/.npmrc No change noticed in output - build process still failed. Running the command 'npm config ls -l' from within that directory did show those options to be set however. documentation-file other-file other-file",no-bug,0.9
9013,awx,https://github.com/ansible/awx/issues/9013,Notify user that a sync has started and completed,"On the details view for Inventory Sources the user can click a sync button. There is no notification to the user of the start, success, or failure of that action. We should notify the user some how. Consider adding websockets to this view and rendering the JobCancelButton when syncing is in progress. https://github.com/ansible/awx/pull/10113 ##### ISSUE TYPE - Feature Idea",other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Notify user that a sync has started and completed On the details view for Inventory Sources the user can click a sync button. There is no notification to the user of the start, success, or failure of that action. We should notify the user some how. Consider adding websockets to this view and rendering the JobCancelButton when syncing is in progress. https://github.com/ansible/awx/pull/10113 ##### ISSUE TYPE - Feature Idea other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
11351,awx,https://github.com/ansible/awx/issues/11351,Display name or alias of node to be deleted on workflow,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Display name or alias of node to be deleted on workflow. Right now, it is not clear which one was selected. <img width=""1707"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/142051398-666f08d2-a400-49a3-a98a-961af0be0924.png"">",source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file,"Display name or alias of node to be deleted on workflow ##### ISSUE TYPE - Feature Idea ##### SUMMARY Display name or alias of node to be deleted on workflow. Right now, it is not clear which one was selected. <img width=""1707"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/142051398-666f08d2-a400-49a3-a98a-961af0be0924.png""> source-file source-file test-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file",no-bug,0.9
9905,awx,https://github.com/ansible/awx/issues/9905,Unable to cancel job - method POST not allowed - awx19,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I had an inventory sync job that was stuck. Upon trying to cancel it, I got an error saying `Method ""POST"" not allowed` This is a refile of #9714 as the issue is still not fixed. ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: minishift * Ansible version: * Operating System: Debian 10 * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Get a stuck job? 2. Try to cancel job. ##### EXPECTED RESULTS job to cancel ##### ACTUAL RESULTS ``` POST /api/v2/inventory_updates/11/cancel/ 405 Method ""POST"" not allowed. ``` ![image](https://user-images.githubusercontent.com/1826947/114759279-f7b63480-9d2b-11eb-96ff-2d5669e4c4a1.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file,"Unable to cancel job - method POST not allowed - awx19 <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I had an inventory sync job that was stuck. Upon trying to cancel it, I got an error saying `Method ""POST"" not allowed` This is a refile of #9714 as the issue is still not fixed. ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: minishift * Ansible version: * Operating System: Debian 10 * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Get a stuck job? 2. Try to cancel job. ##### EXPECTED RESULTS job to cancel ##### ACTUAL RESULTS ``` POST /api/v2/inventory_updates/11/cancel/ 405 Method ""POST"" not allowed. ``` ![image](https://user-images.githubusercontent.com/1826947/114759279-f7b63480-9d2b-11eb-96ff-2d5669e4c4a1.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file",bug,0.9
10620,awx,https://github.com/ansible/awx/issues/10620,Modal about Local Authorization does not close when clicking close button,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Modal about Local Authorization does not close when clicking close button ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to Miscellaneous Authentication 2. Click `Disable the built-in authentication system` 3. Attempt to close the Alert Modal <img width=""723"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/125128002-5d1b8680-e0cb-11eb-9270-1047110e8c4b.png""> ### Expected results Alert Modal does not close ### Actual results Alert Modal should close ### Additional information _No response_",other-file | other-file,"Modal about Local Authorization does not close when clicking close button ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Modal about Local Authorization does not close when clicking close button ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to Miscellaneous Authentication 2. Click `Disable the built-in authentication system` 3. Attempt to close the Alert Modal <img width=""723"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/125128002-5d1b8680-e0cb-11eb-9270-1047110e8c4b.png""> ### Expected results Alert Modal does not close ### Actual results Alert Modal should close ### Additional information _No response_ other-file other-file",no-bug,0.9
5387,awx,https://github.com/ansible/awx/issues/5387,import mysql.connector ImportError: No module named mysql.connector,Hi I am facing issue while syncing Ansible AWX inventory-script import mysql.connector ImportError: No module named mysql.connector,source-file,import mysql.connector ImportError: No module named mysql.connector Hi I am facing issue while syncing Ansible AWX inventory-script import mysql.connector ImportError: No module named mysql.connector source-file,no-bug,0.9
5122,awx,https://github.com/ansible/awx/issues/5122,MacOS+Chrome Users cannot access traditional cluster deployments if configured with invalid self-signed cert,"##### ISSUE TYPE - Bug Report ##### SUMMARY MacOS+Chrome Users cannot access traditional cluster deployments if configured with a self-signed cert. Note: tested the following via browserstack: - Windows 10 with Firefox 68 & 70 - Windows 10 with Chrome 75-79 - MacOS High Sierra with Firefox 68 & 70 - MacOS High Sierra with Chrome 65-80 - MacOS High Sierra with Safari latest - MacOS Mojave with Firefox 68 & 70 - MacOS Mojave with Chrome 65-79 - MacOS Mojave with Safari latest ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: macOS:any * Web Browser: chrome:any (chrome only) ##### STEPS TO REPRODUCE Deploy a yolo tower cluster. Attempt to log in with macOS and Chrome ##### EXPECTED RESULTS Accept cert warning and continue ##### ACTUAL RESULTS Unable to accept cert warning ##### ADDITIONAL INFORMATION ``` <TOWER URL> normally uses encryption to protect your information. When Google Chrome tried to connect to <TOWER URL> this time, the website sent back unusual and incorrect credentials. This may happen when an attacker is trying to pretend to be ec2-3-88-132-1.compute-1.amazonaws.com, or a Wi-Fi sign-in screen has interrupted the connection. Your information is still secure because Google Chrome stopped the connection before any data was exchanged. You cannot visit <TOWER URL> right now because the website sent scrambled credentials that Google Chrome cannot process. Network errors and attacks are usually temporary, so this page will probably work later. ```",source-file | source-file,"MacOS+Chrome Users cannot access traditional cluster deployments if configured with invalid self-signed cert ##### ISSUE TYPE - Bug Report ##### SUMMARY MacOS+Chrome Users cannot access traditional cluster deployments if configured with a self-signed cert. Note: tested the following via browserstack: - Windows 10 with Firefox 68 & 70 - Windows 10 with Chrome 75-79 - MacOS High Sierra with Firefox 68 & 70 - MacOS High Sierra with Chrome 65-80 - MacOS High Sierra with Safari latest - MacOS Mojave with Firefox 68 & 70 - MacOS Mojave with Chrome 65-79 - MacOS Mojave with Safari latest ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: macOS:any * Web Browser: chrome:any (chrome only) ##### STEPS TO REPRODUCE Deploy a yolo tower cluster. Attempt to log in with macOS and Chrome ##### EXPECTED RESULTS Accept cert warning and continue ##### ACTUAL RESULTS Unable to accept cert warning ##### ADDITIONAL INFORMATION ``` <TOWER URL> normally uses encryption to protect your information. When Google Chrome tried to connect to <TOWER URL> this time, the website sent back unusual and incorrect credentials. This may happen when an attacker is trying to pretend to be ec2-3-88-132-1.compute-1.amazonaws.com, or a Wi-Fi sign-in screen has interrupted the connection. Your information is still secure because Google Chrome stopped the connection before any data was exchanged. You cannot visit <TOWER URL> right now because the website sent scrambled credentials that Google Chrome cannot process. Network errors and attacks are usually temporary, so this page will probably work later. ``` source-file source-file",no-bug,0.8
5653,awx,https://github.com/ansible/awx/issues/5653,"Workflow Run On ""Change""","We are still evaluating Ansible/AWX and we are noticing some limitations we thought it would be great to have. ##### ISSUE TYPE When setting up Workflow we think Run On Change should be an option. For example, Whenever a change is detected we would want the same Template to run again x number of times until no more change is detected. For example - if a change keeps occurring that means something is wrong with the Env and requires human intervention. Also, it would be great to be able to send an Email whenever there is a change detected. ![image](https://user-images.githubusercontent.com/20629911/72360079-4944bf00-36a4-11ea-85cd-e7a8803149a8.png) Thank you,",documentation-file,"Workflow Run On ""Change"" We are still evaluating Ansible/AWX and we are noticing some limitations we thought it would be great to have. ##### ISSUE TYPE When setting up Workflow we think Run On Change should be an option. For example, Whenever a change is detected we would want the same Template to run again x number of times until no more change is detected. For example - if a change keeps occurring that means something is wrong with the Env and requires human intervention. Also, it would be great to be able to send an Email whenever there is a change detected. ![image](https://user-images.githubusercontent.com/20629911/72360079-4944bf00-36a4-11ea-85cd-e7a8803149a8.png) Thank you, documentation-file",no-bug,0.9
6048,awx,https://github.com/ansible/awx/issues/6048,Some Installations of ui_next do not render anything in UI on MS Edge Classic and IE11,"##### ISSUE TYPE - Bug Report ##### SUMMARY In the bug bash, we set up a dev server to point to a remote tower api server. When a user of IE11 or Edge Classic attempts to load the page, they see nothing. No errors in the network or console logs. This has a self signed cert pointed to a yolo'd tower with it's own cert. This page loads in the chromium-based browsers and firefox. ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: ui_next local dev install on a remote ec2 target * Operating System: Windows 10 * Web Browser: IE11 and Edge Classic (18) ##### STEPS TO REPRODUCE 1. Log in to web UI on IE11 or Edge Classic ##### EXPECTED RESULTS Functional UI ##### ACTUAL RESULTS Blank page. No console or network errors",source-file | test-file,"Some Installations of ui_next do not render anything in UI on MS Edge Classic and IE11 ##### ISSUE TYPE - Bug Report ##### SUMMARY In the bug bash, we set up a dev server to point to a remote tower api server. When a user of IE11 or Edge Classic attempts to load the page, they see nothing. No errors in the network or console logs. This has a self signed cert pointed to a yolo'd tower with it's own cert. This page loads in the chromium-based browsers and firefox. ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: ui_next local dev install on a remote ec2 target * Operating System: Windows 10 * Web Browser: IE11 and Edge Classic (18) ##### STEPS TO REPRODUCE 1. Log in to web UI on IE11 or Edge Classic ##### EXPECTED RESULTS Functional UI ##### ACTUAL RESULTS Blank page. No console or network errors source-file test-file",no-bug,0.9
9952,awx,https://github.com/ansible/awx/issues/9952,Problem with symbolic links in ansible role to run a job,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Recently I upgrade my awx version from 17.0 to 19.0 using awx-operator and migrating database such as is described on official docu. Everything is okay but when I run a job I had an error in container awx-task. ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: awx-operator in k8s * Ansible version: 2.10 * Operating System: kubernetes running on ubuntu 18 ##### STEPS TO REPRODUCE Have a broken symbolic link in an ansible role repo and update from 17.0.0 to 19.0.0 using awx-operator ##### EXPECTED RESULTS Jobs running successful even with a broken symbolic link like in the 17.0.0 version. ##### ACTUAL RESULTS I am getting this error in awx-task container: ``` 2021-04-20 11:35:50,723 DEBUG [-] awx.main.commands.run_callback_receiver ProjectUpdateEvent.objects.bulk_create(4) 2021-04-20 11:35:50,899 DEBUG [fb4b1880602c4f4881d883bc995d279d] awx.analytics.job_lifecycle job-15549 running playbook Exception in thread Thread-2: Traceback (most recent call last): File ""/usr/lib64/python3.8/threading.py"", line 932, in _bootstrap_inner self.run() File ""/usr/lib64/python3.8/threading.py"", line 870, in run self._target(*self._args, **self._kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/tasks.py"", line 3018, in transmit ansible_runner.interface.run(streamer='transmit', _output=_socket.makefile('wb'), **self.runner_params) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/ansible_runner/interface.py"", line 243, in run r.run() File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/ansible_runner/streaming.py"", line 53, in run self._output.write(utils.stream_dir(self.private_data_dir)) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/ansible_runner/utils.py"", line 95, in stream_dir archive.write(os.path.join(dirpath, fname), arcname=os.path.join(relpath, fname)) File ""/usr/lib64/python3.8/zipfile.py"", line 1740, in write zinfo = ZipInfo.from_file(filename, arcname, File ""/usr/lib64/python3.8/zipfile.py"", line 522, in from_file st = os.stat(filename) FileNotFoundError: [Errno 2] No such file or directory: '/tmp/pdd_wrapper_15549_mh85vlnt/awx_15549_luuthi79/project/core/roles/role-01/files/public_keys/XXXX/XXXXX' ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"Problem with symbolic links in ansible role to run a job <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Recently I upgrade my awx version from 17.0 to 19.0 using awx-operator and migrating database such as is described on official docu. Everything is okay but when I run a job I had an error in container awx-task. ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: awx-operator in k8s * Ansible version: 2.10 * Operating System: kubernetes running on ubuntu 18 ##### STEPS TO REPRODUCE Have a broken symbolic link in an ansible role repo and update from 17.0.0 to 19.0.0 using awx-operator ##### EXPECTED RESULTS Jobs running successful even with a broken symbolic link like in the 17.0.0 version. ##### ACTUAL RESULTS I am getting this error in awx-task container: ``` 2021-04-20 11:35:50,723 DEBUG [-] awx.main.commands.run_callback_receiver ProjectUpdateEvent.objects.bulk_create(4) 2021-04-20 11:35:50,899 DEBUG [fb4b1880602c4f4881d883bc995d279d] awx.analytics.job_lifecycle job-15549 running playbook Exception in thread Thread-2: Traceback (most recent call last): File ""/usr/lib64/python3.8/threading.py"", line 932, in _bootstrap_inner self.run() File ""/usr/lib64/python3.8/threading.py"", line 870, in run self._target(*self._args, **self._kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/tasks.py"", line 3018, in transmit ansible_runner.interface.run(streamer='transmit', _output=_socket.makefile('wb'), **self.runner_params) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/ansible_runner/interface.py"", line 243, in run r.run() File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/ansible_runner/streaming.py"", line 53, in run self._output.write(utils.stream_dir(self.private_data_dir)) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/ansible_runner/utils.py"", line 95, in stream_dir archive.write(os.path.join(dirpath, fname), arcname=os.path.join(relpath, fname)) File ""/usr/lib64/python3.8/zipfile.py"", line 1740, in write zinfo = ZipInfo.from_file(filename, arcname, File ""/usr/lib64/python3.8/zipfile.py"", line 522, in from_file st = os.stat(filename) FileNotFoundError: [Errno 2] No such file or directory: '/tmp/pdd_wrapper_15549_mh85vlnt/awx_15549_luuthi79/project/core/roles/role-01/files/public_keys/XXXX/XXXXX' ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.9
9592,awx,https://github.com/ansible/awx/issues/9592,Unable to select non-global execution environments for organizations,"If you have an execution environment that has organizations assigned to it, you can't choose that EE from the UI when assigning EEs to an organization. Steps to reproduce: 1. Create a new EE a. Use `quay.io/ansible/awx-ee` for the image b. assign it to an organzation 2. Navigate to that organization's page 3. Try to assign that new EE to the organization. It won't show up in the list. I've verified that you can assign it via the API.",other-file | other-file,"Unable to select non-global execution environments for organizations If you have an execution environment that has organizations assigned to it, you can't choose that EE from the UI when assigning EEs to an organization. Steps to reproduce: 1. Create a new EE a. Use `quay.io/ansible/awx-ee` for the image b. assign it to an organzation 2. Navigate to that organization's page 3. Try to assign that new EE to the organization. It won't show up in the list. I've verified that you can assign it via the API. other-file other-file",no-bug,0.8
9788,awx,https://github.com/ansible/awx/issues/9788,Add ability to set instance groups on a job template in the tower_job_template module in the collection,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Right now to associate an instance group with a JT there is no way to do it from the `tower_job_template` module. Only way I've figured out how to do it is with a `uri` module task after creating the job template, and this is not necessarily as nice as I'd like because it is not really able to ensure that this is the only instance group set and is not idempotent, because it does not check what instance groups are set first. It would take several `uri` tasks to implement checking the current instance groups, deleting others, and setting the desired ones and only doing so if necessary. ## Current way w/ URI: ``` - name: Create job templates tower_job_template: name: ""{{ jt_name }}"" organization: ""{{ organization_name }}"" project: ""{{ proj_name }}"" playbook: example.yml job_type: run forks: 16 allow_simultaneous: true inventory: ""example_inventory"" state: present register: jt_result - name: associate the instance group with the job template uri: url: https://{{ tower_host }}/api/v2/job_templates/{{ item.id }}/instance_groups/ force_basic_auth: yes user: admin password: ""{{ admin_password }}"" method: POST body_format: json body: ""{{ {'id': instance_group_id|int }|to_json }}"" status_code: 204 validate_certs: no loop: ""{{ jt_results.result}}"" ``` ## Ideal way w/ module ``` - name: Create job templates tower_job_template: name: ""{{ jt_name }}"" organization: ""{{ organization_name }}"" project: ""{{ proj_name }}"" playbook: example.yml job_type: run instance_groups: [1, 2, 5] # list of id's of instance groups. Even slicker if it can take names instead forks: 16 allow_simultaneous: true inventory: ""example_inventory"" state: present register: jt_result ```",source-file | source-file | source-file | test-file | test-file | test-file,"Add ability to set instance groups on a job template in the tower_job_template module in the collection <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Right now to associate an instance group with a JT there is no way to do it from the `tower_job_template` module. Only way I've figured out how to do it is with a `uri` module task after creating the job template, and this is not necessarily as nice as I'd like because it is not really able to ensure that this is the only instance group set and is not idempotent, because it does not check what instance groups are set first. It would take several `uri` tasks to implement checking the current instance groups, deleting others, and setting the desired ones and only doing so if necessary. ## Current way w/ URI: ``` - name: Create job templates tower_job_template: name: ""{{ jt_name }}"" organization: ""{{ organization_name }}"" project: ""{{ proj_name }}"" playbook: example.yml job_type: run forks: 16 allow_simultaneous: true inventory: ""example_inventory"" state: present register: jt_result - name: associate the instance group with the job template uri: url: https://{{ tower_host }}/api/v2/job_templates/{{ item.id }}/instance_groups/ force_basic_auth: yes user: admin password: ""{{ admin_password }}"" method: POST body_format: json body: ""{{ {'id': instance_group_id|int }|to_json }}"" status_code: 204 validate_certs: no loop: ""{{ jt_results.result}}"" ``` ## Ideal way w/ module ``` - name: Create job templates tower_job_template: name: ""{{ jt_name }}"" organization: ""{{ organization_name }}"" project: ""{{ proj_name }}"" playbook: example.yml job_type: run instance_groups: [1, 2, 5] # list of id's of instance groups. Even slicker if it can take names instead forks: 16 allow_simultaneous: true inventory: ""example_inventory"" state: present register: jt_result ``` source-file source-file source-file test-file test-file test-file",no-bug,0.9
10547,awx,https://github.com/ansible/awx/issues/10547,Advanced Search key field in Run Command Wizard,"When a user triggers a command to run from the Host tab inside of an inventory, and the wizard leads the user to the step where they choose a credential, the advanced search key field does not populate any options. ![image](https://user-images.githubusercontent.com/63685497/123853809-e2dd4c00-d8eb-11eb-8dc8-84956a89a4a8.png)",test-file | test-file | other-file | test-file,"Advanced Search key field in Run Command Wizard When a user triggers a command to run from the Host tab inside of an inventory, and the wizard leads the user to the step where they choose a credential, the advanced search key field does not populate any options. ![image](https://user-images.githubusercontent.com/63685497/123853809-e2dd4c00-d8eb-11eb-8dc8-84956a89a4a8.png) test-file test-file other-file test-file",no-bug,0.8
5381,awx,https://github.com/ansible/awx/issues/5381,"""Stop AWX before upgrading postgres"" fails with docker.io/awx_web not found","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Task ""Stop AWX before upgrading postgres"" fails before attempting to upgrade. This happens both with local docker image build and docker hub images. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install docker on linux * Ansible version: 2.9 * Operating System: Centos 7 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Upgrade existing AWX 7.0.0 with data to AWX 9.0.1 ##### ACTUAL RESULTS <!-- What actually happened? --> ``` TASK [local_docker : Stop AWX before upgrading postgres] **************************************************************************************************************************** task path: /root/awx/9.0.1/awx/installer/roles/local_docker/tasks/main.yml:25 <localhost> ESTABLISH LOCAL CONNECTION FOR USER: root <localhost> EXEC /bin/sh -c 'echo ~root && sleep 0' <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p ""` echo /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081 `"" && echo ansible-tmp-1574414988.12-30300653511081=""` echo /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081 `"" ) && sleep 0' Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/docker/_docker_service.py <localhost> PUT /root/.ansible/tmp/ansible-local-9744MbI606/tmpbSyoOO TO /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/AnsiballZ__docker_service.py <localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/ /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/AnsiballZ__docker_service.py && sleep 0' <localhost> EXEC /bin/sh -c '/usr/bin/env python /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/AnsiballZ__docker_service.py && sleep 0' <localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/ > /dev/null 2>&1 && sleep 0' The full traceback is: WARNING: The below traceback may *not* be related to the actual failure. File ""/tmp/ansible_docker_service_payload_LZ0zA2/__main__.py"", line 784, in cmd_up timeout=self.timeout) File ""/usr/lib/python2.7/site-packages/compose/project.py"", line 527, in up svc.ensure_image_exists(do_build=do_build, silent=silent) File ""/usr/lib/python2.7/site-packages/compose/service.py"", line 354, in ensure_image_exists self.pull(silent=silent) File ""/usr/lib/python2.7/site-packages/compose/service.py"", line 1222, in pull return progress_stream.get_digest_from_pull(event_stream) File ""/usr/lib/python2.7/site-packages/compose/progress_stream.py"", line 102, in get_digest_from_pull for event in events: File ""/usr/lib/python2.7/site-packages/compose/service.py"", line 1193, in _do_pull for event in stream_output(output, sys.stdout): File ""/usr/lib/python2.7/site-packages/compose/progress_stream.py"", line 30, in stream_output print_output_event(event, stream, is_terminal) File ""/usr/lib/python2.7/site-packages/compose/progress_stream.py"", line 62, in print_output_event raise StreamOutputError(event['errorDetail']['message']) [DEPRECATION WARNING]: The 'docker_service' module has been renamed to 'docker_compose'.. This feature will be removed in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg. fatal: [localhost]: FAILED! => { ""changed"": false, ""errors"": [], ""invocation"": { ""module_args"": { ""api_version"": ""auto"", ""build"": false, ""ca_cert"": null, ""client_cert"": null, ""client_key"": null, ""debug"": false, ""definition"": null, ""dependencies"": true, ""docker_host"": ""unix://var/run/docker.sock"", ""files"": null, ""hostname_check"": false, ""nocache"": false, ""project_name"": null, ""project_src"": ""/opt/awxcompose"", ""pull"": false, ""recreate"": ""smart"", ""remove_images"": null, ""remove_orphans"": false, ""remove_volumes"": false, ""restarted"": false, ""scale"": null, ""services"": null, ""ssl_version"": null, ""state"": ""present"", ""stopped"": true, ""timeout"": 10, ""tls"": false, ""tls_hostname"": ""localhost"", ""validate_certs"": false } }, ""module_stderr"": """", ""module_stdout"": ""Trying to pull repository docker.io/library/memcached ... \nalpine: Pulling from docker.io/library/memcached\nDigest: sha256:3cfb2eee0b618722a62f4cc907fa0ede848efa87d773bb9384044f490926e7ce\nStatus: Downloaded newer image for docker.io/memcached:alpine\nTrying to pull repository docker.io/library/postgres ... \n9.6: Pulling from docker.io/library/postgres\nDigest: sha256:ee2bca621b318e79267b169cff0db52a163af0167537483736d14f471ff4ba0a\nStatus: Downloaded newer image for docker.io/postgres:9.6\nTrying to pull repository docker.io/ansible/awx_rabbitmq ... \n3.7.4: Pulling from docker.io/ansible/awx_rabbitmq\nDigest: sha256:3ff448f979149a0684c61b0f00eb0fe7bc480b123323aa80fb3bb8934027f895\nStatus: Downloaded newer image for docker.io/ansible/awx_rabbitmq:3.7.4\nTrying to pull repository docker.io/library/awx_web ... \n"", ""msg"": ""Error starting project repository docker.io/awx_web not found: does not exist or no pull access"" } ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | test-file,"""Stop AWX before upgrading postgres"" fails with docker.io/awx_web not found ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Task ""Stop AWX before upgrading postgres"" fails before attempting to upgrade. This happens both with local docker image build and docker hub images. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install docker on linux * Ansible version: 2.9 * Operating System: Centos 7 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Upgrade existing AWX 7.0.0 with data to AWX 9.0.1 ##### ACTUAL RESULTS <!-- What actually happened? --> ``` TASK [local_docker : Stop AWX before upgrading postgres] **************************************************************************************************************************** task path: /root/awx/9.0.1/awx/installer/roles/local_docker/tasks/main.yml:25 <localhost> ESTABLISH LOCAL CONNECTION FOR USER: root <localhost> EXEC /bin/sh -c 'echo ~root && sleep 0' <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p ""` echo /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081 `"" && echo ansible-tmp-1574414988.12-30300653511081=""` echo /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081 `"" ) && sleep 0' Using module file /usr/lib/python2.7/site-packages/ansible/modules/cloud/docker/_docker_service.py <localhost> PUT /root/.ansible/tmp/ansible-local-9744MbI606/tmpbSyoOO TO /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/AnsiballZ__docker_service.py <localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/ /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/AnsiballZ__docker_service.py && sleep 0' <localhost> EXEC /bin/sh -c '/usr/bin/env python /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/AnsiballZ__docker_service.py && sleep 0' <localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1574414988.12-30300653511081/ > /dev/null 2>&1 && sleep 0' The full traceback is: WARNING: The below traceback may *not* be related to the actual failure. File ""/tmp/ansible_docker_service_payload_LZ0zA2/__main__.py"", line 784, in cmd_up timeout=self.timeout) File ""/usr/lib/python2.7/site-packages/compose/project.py"", line 527, in up svc.ensure_image_exists(do_build=do_build, silent=silent) File ""/usr/lib/python2.7/site-packages/compose/service.py"", line 354, in ensure_image_exists self.pull(silent=silent) File ""/usr/lib/python2.7/site-packages/compose/service.py"", line 1222, in pull return progress_stream.get_digest_from_pull(event_stream) File ""/usr/lib/python2.7/site-packages/compose/progress_stream.py"", line 102, in get_digest_from_pull for event in events: File ""/usr/lib/python2.7/site-packages/compose/service.py"", line 1193, in _do_pull for event in stream_output(output, sys.stdout): File ""/usr/lib/python2.7/site-packages/compose/progress_stream.py"", line 30, in stream_output print_output_event(event, stream, is_terminal) File ""/usr/lib/python2.7/site-packages/compose/progress_stream.py"", line 62, in print_output_event raise StreamOutputError(event['errorDetail']['message']) [DEPRECATION WARNING]: The 'docker_service' module has been renamed to 'docker_compose'.. This feature will be removed in version 2.12. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg. fatal: [localhost]: FAILED! => { ""changed"": false, ""errors"": [], ""invocation"": { ""module_args"": { ""api_version"": ""auto"", ""build"": false, ""ca_cert"": null, ""client_cert"": null, ""client_key"": null, ""debug"": false, ""definition"": null, ""dependencies"": true, ""docker_host"": ""unix://var/run/docker.sock"", ""files"": null, ""hostname_check"": false, ""nocache"": false, ""project_name"": null, ""project_src"": ""/opt/awxcompose"", ""pull"": false, ""recreate"": ""smart"", ""remove_images"": null, ""remove_orphans"": false, ""remove_volumes"": false, ""restarted"": false, ""scale"": null, ""services"": null, ""ssl_version"": null, ""state"": ""present"", ""stopped"": true, ""timeout"": 10, ""tls"": false, ""tls_hostname"": ""localhost"", ""validate_certs"": false } }, ""module_stderr"": """", ""module_stdout"": ""Trying to pull repository docker.io/library/memcached ... \nalpine: Pulling from docker.io/library/memcached\nDigest: sha256:3cfb2eee0b618722a62f4cc907fa0ede848efa87d773bb9384044f490926e7ce\nStatus: Downloaded newer image for docker.io/memcached:alpine\nTrying to pull repository docker.io/library/postgres ... \n9.6: Pulling from docker.io/library/postgres\nDigest: sha256:ee2bca621b318e79267b169cff0db52a163af0167537483736d14f471ff4ba0a\nStatus: Downloaded newer image for docker.io/postgres:9.6\nTrying to pull repository docker.io/ansible/awx_rabbitmq ... \n3.7.4: Pulling from docker.io/ansible/awx_rabbitmq\nDigest: sha256:3ff448f979149a0684c61b0f00eb0fe7bc480b123323aa80fb3bb8934027f895\nStatus: Downloaded newer image for docker.io/ansible/awx_rabbitmq:3.7.4\nTrying to pull repository docker.io/library/awx_web ... \n"", ""msg"": ""Error starting project repository docker.io/awx_web not found: does not exist or no pull access"" } ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file test-file",no-bug,0.9
9830,awx,https://github.com/ansible/awx/issues/9830,"Branding issue: AWX 18 in K3s uses the awx icons and logos everywhere except ""info->about""","<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report (branding) ##### SUMMARY When I look at ""Info->About"" I see the ""angry potato"" logo instead of the AWX logo ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: K3s using awx-operator * Ansible version: unknown (see #9829) * Operating System: K3s on debian buster * Web Browser: Firefox 87 ##### STEPS TO REPRODUCE Deploy AWX 18.0.0 on K3s using the awx operator, then after logging in open ""info->About"" ##### EXPECTED RESULTS I expect the AWX logo since it's used everywhere else ##### ACTUAL RESULTS I see the development version logo (the ""angry potato"") ##### ADDITIONAL INFORMATION",other-file | other-file | other-file,"Branding issue: AWX 18 in K3s uses the awx icons and logos everywhere except ""info->about"" <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report (branding) ##### SUMMARY When I look at ""Info->About"" I see the ""angry potato"" logo instead of the AWX logo ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: K3s using awx-operator * Ansible version: unknown (see #9829) * Operating System: K3s on debian buster * Web Browser: Firefox 87 ##### STEPS TO REPRODUCE Deploy AWX 18.0.0 on K3s using the awx operator, then after logging in open ""info->About"" ##### EXPECTED RESULTS I expect the AWX logo since it's used everywhere else ##### ACTUAL RESULTS I see the development version logo (the ""angry potato"") ##### ADDITIONAL INFORMATION other-file other-file other-file",no-bug,0.9
11671,awx,https://github.com/ansible/awx/issues/11671,"[Tech debt] Task manager fetches resources (instances, jobs, etc.) twice","##### ISSUE TYPE - Feature Idea ##### SUMMARY Running the task manager, it repeats itself doing the same thing twice. Documenting partial call stack here. Both start with the main call path to the task manager: https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L674 Both of these ultimately do the same queries, and the only reason we have two is because multiple developers wrote them, probably mutually unaware of the other data structures that were built, or an unwillingness to modify the code in order to combine efforts. We should combine them. An attempt at this problem was started in https://github.com/ansible/awx/pull/11651 **first fetch** https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L634 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L71 This will then fetch _jobs_ indirectly as `instance.remaining_capacity` is referenced. **second fetch** https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L662 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L620 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L601 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/managers.py#L237 This case attempts to avoid _fetching the jobs list_ by reusing the main list that the task manager operates on. Consider this is a sub-issue of https://github.com/ansible/awx/issues/11306",source-file | source-file | source-file | source-file,"[Tech debt] Task manager fetches resources (instances, jobs, etc.) twice ##### ISSUE TYPE - Feature Idea ##### SUMMARY Running the task manager, it repeats itself doing the same thing twice. Documenting partial call stack here. Both start with the main call path to the task manager: https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L674 Both of these ultimately do the same queries, and the only reason we have two is because multiple developers wrote them, probably mutually unaware of the other data structures that were built, or an unwillingness to modify the code in order to combine efforts. We should combine them. An attempt at this problem was started in https://github.com/ansible/awx/pull/11651 **first fetch** https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L634 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L71 This will then fetch _jobs_ indirectly as `instance.remaining_capacity` is referenced. **second fetch** https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L662 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L620 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/scheduler/task_manager.py#L601 https://github.com/ansible/awx/blob/bff49f2a5fd8929808b2890bc2d16279c523cc53/awx/main/managers.py#L237 This case attempts to avoid _fetching the jobs list_ by reusing the main list that the task manager operates on. Consider this is a sub-issue of https://github.com/ansible/awx/issues/11306 source-file source-file source-file source-file",no-bug,0.9
9695,awx,https://github.com/ansible/awx/issues/9695,Wrong prefix for Docker volumes,"##### ISSUE TYPE - Bug Report ##### SUMMARY The Ansible playbook ```migrate.yml``` creates Docker volumes with the prefix ```tools_```. However, when the command ```make docker-compose``` is executed, Docker volumes with the prefix ```sources_``` are created. ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: docker for mac * Ansible version: 2.10.7 * Operating System: macOS Catalina (10.15.7) * Web Browser: Safari ##### STEPS TO REPRODUCE Migrate PostgreSQL data: ``` $ ansible-playbook -i tools/docker-compose/inventory tools/docker-compose/ansible/migrate.yml -e ""migrate_local_docker=true"" -e ""postgres_data_dir=~/.awx/pgdocker"" -e ""old_docker_compose_dir=~/.awx/awxcompose"" ``` Build Docker image: ``` $ make docker-compose-build $ make docker-compose $ docker exec tools_awx_1 make clean-ui ui-devel ``` ##### EXPECTED RESULTS $ docker volume ls DRIVER VOLUME NAME local awxcompose_rsyslog-config local awxcompose_rsyslog-socket local awxcompose_supervisor-socket local tools_awx_db local tools_receptor_1 local tools_redis_socket_1 ##### ACTUAL RESULTS $ docker volume ls DRIVER VOLUME NAME local awxcompose_rsyslog-config local awxcompose_rsyslog-socket local awxcompose_supervisor-socket local sources_awx_db local sources_receptor_1 local sources_redis_socket_1 local tools_awx_db local tools_receptor_1 local tools_redis_socket_1 ##### ADDITIONAL INFORMATION It is necessary to set a custom name for Docker volumes. ``` $ colordiff -Naur docker-compose.yml /tmp/docker-compose.yml --- docker-compose.yml 2021-03-25 12:13:01.000000000 +0100 +++ /tmp/docker-compose.yml 2021-03-25 11:56:31.000000000 +0100 @@ -65,5 +65,8 @@ - ""awx_db:/var/lib/postgresql/data"" volumes: awx_db: + name: tools_awx_db receptor_1: + name: tools_receptor_1 redis_socket_1: + name: tools_redis_socket_1 ```",other-file,"Wrong prefix for Docker volumes ##### ISSUE TYPE - Bug Report ##### SUMMARY The Ansible playbook ```migrate.yml``` creates Docker volumes with the prefix ```tools_```. However, when the command ```make docker-compose``` is executed, Docker volumes with the prefix ```sources_``` are created. ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: docker for mac * Ansible version: 2.10.7 * Operating System: macOS Catalina (10.15.7) * Web Browser: Safari ##### STEPS TO REPRODUCE Migrate PostgreSQL data: ``` $ ansible-playbook -i tools/docker-compose/inventory tools/docker-compose/ansible/migrate.yml -e ""migrate_local_docker=true"" -e ""postgres_data_dir=~/.awx/pgdocker"" -e ""old_docker_compose_dir=~/.awx/awxcompose"" ``` Build Docker image: ``` $ make docker-compose-build $ make docker-compose $ docker exec tools_awx_1 make clean-ui ui-devel ``` ##### EXPECTED RESULTS $ docker volume ls DRIVER VOLUME NAME local awxcompose_rsyslog-config local awxcompose_rsyslog-socket local awxcompose_supervisor-socket local tools_awx_db local tools_receptor_1 local tools_redis_socket_1 ##### ACTUAL RESULTS $ docker volume ls DRIVER VOLUME NAME local awxcompose_rsyslog-config local awxcompose_rsyslog-socket local awxcompose_supervisor-socket local sources_awx_db local sources_receptor_1 local sources_redis_socket_1 local tools_awx_db local tools_receptor_1 local tools_redis_socket_1 ##### ADDITIONAL INFORMATION It is necessary to set a custom name for Docker volumes. ``` $ colordiff -Naur docker-compose.yml /tmp/docker-compose.yml --- docker-compose.yml 2021-03-25 12:13:01.000000000 +0100 +++ /tmp/docker-compose.yml 2021-03-25 11:56:31.000000000 +0100 @@ -65,5 +65,8 @@ - ""awx_db:/var/lib/postgresql/data"" volumes: awx_db: + name: tools_awx_db receptor_1: + name: tools_receptor_1 redis_socket_1: + name: tools_redis_socket_1 ``` other-file",no-bug,0.9
4821,awx,https://github.com/ansible/awx/issues/4821,AWX install fails due to libselinux-python error,"##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to install Ansible AWX on my local environment (RHEL 7 Maipo). But during the install run, it fails with the ""libselinux-python"" error. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux, * Ansible version: 2.8.5 * Operating System: RHEL 7.5 (Maipo). Kernel 3.10.0-957.27.2.el7.x86_64 * Web Browser: Chrome Version 76.0.3809.132 ##### STEPS TO REPRODUCE 1) Install Python 36 packages (System already had Python 2.7 but was having difficulties with Python Pip and wheel). Hence the need to install Python 36. rh-python36-python-libs-3.6.3-7.el7.x86_64 rh-python36-runtime-2.0-1.el7.x86_64 rh-python36-python-setuptools-36.5.0-1.el7.noarch rh-python36-python-pip-9.0.1-2.el7.noarch rh-python36-python-devel-3.6.3-7.el7.x86_64 rh-python36-python-3.6.3-7.el7.x86_64 rh-python36-python-virtualenv-15.1.0-2.el7.noarch 2) Create a virtualenv ""awxenv. 3) Using pip install the below packages -->pip -V pip 19.2.3 from /usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/pip (python 3.6) -->pip list Package Version ---------------- --------- ansible 2.8.5 asn1crypto 0.24.0 bcrypt 3.1.7 cached-property 1.5.1 certifi 2019.9.11 cffi 1.12.3 chardet 3.0.4 cryptography 2.7 docker 3.7.3 docker-compose 1.24.1 docker-pycreds 0.4.0 dockerpty 0.4.1 docopt 0.6.2 idna 2.7 Jinja2 2.10.1 jsonschema 2.6.0 MarkupSafe 1.1.1 paramiko 2.6.0 pip 19.2.3 pycparser 2.19 PyNaCl 1.3.0 PyYAML 3.13 requests 2.20.1 setuptools 28.8.0 six 1.12.0 texttable 0.9.1 urllib3 1.24.3 websocket-client 0.56.0 wheel 0.29.0 4) Cloned AWX Git repo. 5) Went inside the installer directory. Updated ""inventory"" to use python3 localhost ansible_connection=local ansible_python_interpreter=""/usr/bin/env python3"" 6) Ran the below command ansible-playbook -i inventory install.yml 7) Returned the error TASK [local_docker : Create Docker Compose Configuration] ***************************************************************************************************************************** failed: [localhost] (item=environment.sh) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""e369ef7b0186eef5f38dc16027878a3a6a0d9f0c"", ""item"": ""environment.sh"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=credentials.py) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""9d8c48ec0e65f6cc2aa8d1e2720f826b0f65551a"", ""item"": ""credentials.py"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=docker-compose.yml) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""35538f46d9cb24e817a8754db4c4f2431c126ec3"", ""item"": ""docker-compose.yml"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} PLAY RECAP **************************************************************************************************************************************************************************** localhost : ok=6 changed=0 unreachable=0 failed=1 skipped=78 rescued=0 ignored=0 8) Verified that the selinux packages are already installed. -->rpm -qa |grep selinux libselinux-2.5-14.1.el7.x86_64 selinux-policy-3.13.1-229.el7_6.6.noarch container-selinux-2.77-1.el7_6.noarch libselinux-python-2.5-14.1.el7.x86_64 libselinux-utils-2.5-14.1.el7.x86_64 selinux-policy-targeted-3.13.1-229.el7_6.6.noarch ##### EXPECTED RESULTS I expected the playbook to complete the setup of docker image, bring up the container and run awx instance. ##### ACTUAL RESULTS Playbok failed to complete the run and threw the below error. TASK [local_docker : Create /tmp/awxcompose directory] ******************************************************************************************************************************** ok: [localhost] TASK [local_docker : Create Docker Compose Configuration] ***************************************************************************************************************************** failed: [localhost] (item=environment.sh) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""e369ef7b0186eef5f38dc16027878a3a6a0d9f0c"", ""item"": ""environment.sh"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=credentials.py) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""9d8c48ec0e65f6cc2aa8d1e2720f826b0f65551a"", ""item"": ""credentials.py"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=docker-compose.yml) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""35538f46d9cb24e817a8754db4c4f2431c126ec3"", ""item"": ""docker-compose.yml"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} PLAY RECAP **************************************************************************************************************************************************************************** localhost : ok=6 changed=0 unreachable=0 failed=1 skipped=78 rescued=0 ignored=0 ##### ADDITIONAL INFORMATION 1) I tried restoring the ""inventory"" file to default to use the OS default Python (Python 2.7). Did not work. 2) Tried updating system python to Python3 by adding python3 to ""/usr/local/sbin/python"". Did not work. 3) Tried changing /usr/bin/python to point to python3 but that broke my OS (yum failed and other issues.) 2 things that I noticed i) installing ""libselinux-python-2.5-14.1.el7.x86_64"" package creates a ""selinux"" folder under ""/usr/lib64/python2.7/site-packages"" but not under ""/opt/rh/rh-python36/root/usr/lib64/python3.6/site-packages/ "" (which is the python3 installation location). This is despite the fact that python3 is the default python as explained above (Addition Information section). ii) Python virtualenv does not have ""selinux"" module installed. If I install it, it causes virtualenv to crash. Ansible commands fail until I remove ""selinux"" python module. Error I get is -->ansible Traceback (most recent call last): File ""<string>"", line 1, in <module> AttributeError: module 'site' has no attribute 'getsitepackages' ERROR! Unexpected Exception, this is probably a bug: Command '['/usr/bin/python3', '-c', 'import json, site; print(json.dumps(site.getsitepackages()))']' returned non-zero exit status 1. the full traceback was: Traceback (most recent call last): File ""/usr/mware/pythonApps/awxenv/bin/ansible"", line 90, in <module> mycli = getattr(__import__(""ansible.cli.%s"" % sub, fromlist=[myclass]), myclass) File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/ansible/cli/__init__.py"", line 25, in <module> from ansible.parsing.dataloader import DataLoader File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/ansible/parsing/dataloader.py"", line 17, in <module> from ansible.module_utils.basic import is_executable File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/ansible/module_utils/basic.py"", line 74, in <module> import selinux File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/selinux/__init__.py"", line 91, in <module> check_system_sitepackages() File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/selinux/__init__.py"", line 81, in check_system_sitepackages system_sitepackages = get_system_sitepackages() File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/selinux/__init__.py"", line 71, in get_system_sitepackages ""import json, site; print(json.dumps(site.getsitepackages()))"" File ""/opt/rh/rh-python36/root/usr/lib64/python3.6/subprocess.py"", line 336, in check_output **kwargs).stdout File ""/opt/rh/rh-python36/root/usr/lib64/python3.6/subprocess.py"", line 418, in run output=stdout, stderr=stderr) subprocess.CalledProcessError: Command '['/usr/bin/python3', '-c', 'import json, site; print(json.dumps(site.getsitepackages()))']' returned non-zero exit status 1. Selinux Python module is selinux 0.1.6 Any help would be really appreciated. Thanks, Shemlik",source-file,"AWX install fails due to libselinux-python error ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to install Ansible AWX on my local environment (RHEL 7 Maipo). But during the install run, it fails with the ""libselinux-python"" error. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux, * Ansible version: 2.8.5 * Operating System: RHEL 7.5 (Maipo). Kernel 3.10.0-957.27.2.el7.x86_64 * Web Browser: Chrome Version 76.0.3809.132 ##### STEPS TO REPRODUCE 1) Install Python 36 packages (System already had Python 2.7 but was having difficulties with Python Pip and wheel). Hence the need to install Python 36. rh-python36-python-libs-3.6.3-7.el7.x86_64 rh-python36-runtime-2.0-1.el7.x86_64 rh-python36-python-setuptools-36.5.0-1.el7.noarch rh-python36-python-pip-9.0.1-2.el7.noarch rh-python36-python-devel-3.6.3-7.el7.x86_64 rh-python36-python-3.6.3-7.el7.x86_64 rh-python36-python-virtualenv-15.1.0-2.el7.noarch 2) Create a virtualenv ""awxenv. 3) Using pip install the below packages -->pip -V pip 19.2.3 from /usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/pip (python 3.6) -->pip list Package Version ---------------- --------- ansible 2.8.5 asn1crypto 0.24.0 bcrypt 3.1.7 cached-property 1.5.1 certifi 2019.9.11 cffi 1.12.3 chardet 3.0.4 cryptography 2.7 docker 3.7.3 docker-compose 1.24.1 docker-pycreds 0.4.0 dockerpty 0.4.1 docopt 0.6.2 idna 2.7 Jinja2 2.10.1 jsonschema 2.6.0 MarkupSafe 1.1.1 paramiko 2.6.0 pip 19.2.3 pycparser 2.19 PyNaCl 1.3.0 PyYAML 3.13 requests 2.20.1 setuptools 28.8.0 six 1.12.0 texttable 0.9.1 urllib3 1.24.3 websocket-client 0.56.0 wheel 0.29.0 4) Cloned AWX Git repo. 5) Went inside the installer directory. Updated ""inventory"" to use python3 localhost ansible_connection=local ansible_python_interpreter=""/usr/bin/env python3"" 6) Ran the below command ansible-playbook -i inventory install.yml 7) Returned the error TASK [local_docker : Create Docker Compose Configuration] ***************************************************************************************************************************** failed: [localhost] (item=environment.sh) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""e369ef7b0186eef5f38dc16027878a3a6a0d9f0c"", ""item"": ""environment.sh"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=credentials.py) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""9d8c48ec0e65f6cc2aa8d1e2720f826b0f65551a"", ""item"": ""credentials.py"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=docker-compose.yml) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""35538f46d9cb24e817a8754db4c4f2431c126ec3"", ""item"": ""docker-compose.yml"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} PLAY RECAP **************************************************************************************************************************************************************************** localhost : ok=6 changed=0 unreachable=0 failed=1 skipped=78 rescued=0 ignored=0 8) Verified that the selinux packages are already installed. -->rpm -qa |grep selinux libselinux-2.5-14.1.el7.x86_64 selinux-policy-3.13.1-229.el7_6.6.noarch container-selinux-2.77-1.el7_6.noarch libselinux-python-2.5-14.1.el7.x86_64 libselinux-utils-2.5-14.1.el7.x86_64 selinux-policy-targeted-3.13.1-229.el7_6.6.noarch ##### EXPECTED RESULTS I expected the playbook to complete the setup of docker image, bring up the container and run awx instance. ##### ACTUAL RESULTS Playbok failed to complete the run and threw the below error. TASK [local_docker : Create /tmp/awxcompose directory] ******************************************************************************************************************************** ok: [localhost] TASK [local_docker : Create Docker Compose Configuration] ***************************************************************************************************************************** failed: [localhost] (item=environment.sh) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""e369ef7b0186eef5f38dc16027878a3a6a0d9f0c"", ""item"": ""environment.sh"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=credentials.py) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""9d8c48ec0e65f6cc2aa8d1e2720f826b0f65551a"", ""item"": ""credentials.py"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} failed: [localhost] (item=docker-compose.yml) => {""ansible_loop_var"": ""item"", ""changed"": false, ""checksum"": ""35538f46d9cb24e817a8754db4c4f2431c126ec3"", ""item"": ""docker-compose.yml"", ""msg"": ""Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!""} PLAY RECAP **************************************************************************************************************************************************************************** localhost : ok=6 changed=0 unreachable=0 failed=1 skipped=78 rescued=0 ignored=0 ##### ADDITIONAL INFORMATION 1) I tried restoring the ""inventory"" file to default to use the OS default Python (Python 2.7). Did not work. 2) Tried updating system python to Python3 by adding python3 to ""/usr/local/sbin/python"". Did not work. 3) Tried changing /usr/bin/python to point to python3 but that broke my OS (yum failed and other issues.) 2 things that I noticed i) installing ""libselinux-python-2.5-14.1.el7.x86_64"" package creates a ""selinux"" folder under ""/usr/lib64/python2.7/site-packages"" but not under ""/opt/rh/rh-python36/root/usr/lib64/python3.6/site-packages/ "" (which is the python3 installation location). This is despite the fact that python3 is the default python as explained above (Addition Information section). ii) Python virtualenv does not have ""selinux"" module installed. If I install it, it causes virtualenv to crash. Ansible commands fail until I remove ""selinux"" python module. Error I get is -->ansible Traceback (most recent call last): File ""<string>"", line 1, in <module> AttributeError: module 'site' has no attribute 'getsitepackages' ERROR! Unexpected Exception, this is probably a bug: Command '['/usr/bin/python3', '-c', 'import json, site; print(json.dumps(site.getsitepackages()))']' returned non-zero exit status 1. the full traceback was: Traceback (most recent call last): File ""/usr/mware/pythonApps/awxenv/bin/ansible"", line 90, in <module> mycli = getattr(__import__(""ansible.cli.%s"" % sub, fromlist=[myclass]), myclass) File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/ansible/cli/__init__.py"", line 25, in <module> from ansible.parsing.dataloader import DataLoader File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/ansible/parsing/dataloader.py"", line 17, in <module> from ansible.module_utils.basic import is_executable File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/ansible/module_utils/basic.py"", line 74, in <module> import selinux File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/selinux/__init__.py"", line 91, in <module> check_system_sitepackages() File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/selinux/__init__.py"", line 81, in check_system_sitepackages system_sitepackages = get_system_sitepackages() File ""/usr/mware/pythonApps/awxenv/lib/python3.6/site-packages/selinux/__init__.py"", line 71, in get_system_sitepackages ""import json, site; print(json.dumps(site.getsitepackages()))"" File ""/opt/rh/rh-python36/root/usr/lib64/python3.6/subprocess.py"", line 336, in check_output **kwargs).stdout File ""/opt/rh/rh-python36/root/usr/lib64/python3.6/subprocess.py"", line 418, in run output=stdout, stderr=stderr) subprocess.CalledProcessError: Command '['/usr/bin/python3', '-c', 'import json, site; print(json.dumps(site.getsitepackages()))']' returned non-zero exit status 1. Selinux Python module is selinux 0.1.6 Any help would be really appreciated. Thanks, Shemlik source-file",no-bug,0.95
6289,awx,https://github.com/ansible/awx/issues/6289,Add tabs to sort through job templates based on Jenkins tags,##### ISSUE TYPE - Feature Idea ##### COMPONENT NAME - UI ##### SUMMARY Add tabs at the top of the job template list that are based on Jenkins tags to allow for easier navigation of job templates.,source-file | test-file,Add tabs to sort through job templates based on Jenkins tags ##### ISSUE TYPE - Feature Idea ##### COMPONENT NAME - UI ##### SUMMARY Add tabs at the top of the job template list that are based on Jenkins tags to allow for easier navigation of job templates. source-file test-file,no-bug,0.9
10499,awx,https://github.com/ansible/awx/issues/10499,Survey Form Should Not Show Job Template Tabs,##### ISSUE TYPE -enhancement ##### SUMMARY Current Survey Form: ![Screen Shot 2021-06-23 at 11 34 34 AM](https://user-images.githubusercontent.com/39280967/123126014-08171980-d417-11eb-80a3-fd98e30410cc.png) Mock ups: https://tower-mockups.testing.ansible.com/patternfly/templates/templates-survey-add/,other-file,Survey Form Should Not Show Job Template Tabs ##### ISSUE TYPE -enhancement ##### SUMMARY Current Survey Form: ![Screen Shot 2021-06-23 at 11 34 34 AM](https://user-images.githubusercontent.com/39280967/123126014-08171980-d417-11eb-80a3-fd98e30410cc.png) Mock ups: https://tower-mockups.testing.ansible.com/patternfly/templates/templates-survey-add/ other-file,no-bug,0.9
5158,awx,https://github.com/ansible/awx/issues/5158,Improved insights integration,"##### ISSUE TYPE - Feature Idea ##### SUMMARY When the insights integration for AWX was written, plans were a thing, and the insights API and UI were very different. We should walkthrough what is currently available and make something better.",source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file,"Improved insights integration ##### ISSUE TYPE - Feature Idea ##### SUMMARY When the insights integration for AWX was written, plans were a thing, and the insights API and UI were very different. We should walkthrough what is currently available and make something better. source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file",no-bug,0.9
9087,awx,https://github.com/ansible/awx/issues/9087,Update EE Add/List/Edit/Details with latest API changes,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Update EE Add/List/Edit/Details with latest API changes. There is a field name now, for instance. Evaluate the latest API changes, and update UI accordingly.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Update EE Add/List/Edit/Details with latest API changes ##### ISSUE TYPE - Feature Idea ##### SUMMARY Update EE Add/List/Edit/Details with latest API changes. There is a field name now, for instance. Evaluate the latest API changes, and update UI accordingly. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
10104,awx,https://github.com/ansible/awx/issues/10104,failures in ansible-test integration,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> getting the following failures on devel ``` TASK [tower_ad_hoc_command_cancel : Cancel the command with hard error if it's not running] ************************************************************************************************************************************************** fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Ad Hoc Command is not running""} TASK [tower_instance_group : Create a container group] *************************************************************************************************************************************************************************************** fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Unable to create instance_group AWX-Collection-tests-tower_instance_group-group2-QNVSDsuJwigMEVsm: {'is_container_group': ['is_container_group must be True when associating a credential to an Instance Group']}""} TASK [tower_inventory_source : Delete the inventory source with an invalid cred, source_project, sourece_script specified] ******************************************************************************************************************* fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Unsupported parameters for (tower_inventory_source) module: source_script Supported parameters include: credential, description, enabled_value, enabled_var, execution_environment, host_filter, inventory, name, new_name, notification_templates_error, notification_templates_started, notification_templates_success, organization, overwrite, overwrite_vars, source, source_path, source_project, source_vars, state, timeout, tower_config_file, tower_host, tower_oauthtoken, tower_password, tower_username, update_cache_timeout, update_on_launch, update_on_project_update, validate_certs, verbosity""} ``` ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: docker on linux * Ansible version: 2.10.8",test-file | source-file | test-file | test-file | test-file,"failures in ansible-test integration <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> getting the following failures on devel ``` TASK [tower_ad_hoc_command_cancel : Cancel the command with hard error if it's not running] ************************************************************************************************************************************************** fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Ad Hoc Command is not running""} TASK [tower_instance_group : Create a container group] *************************************************************************************************************************************************************************************** fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Unable to create instance_group AWX-Collection-tests-tower_instance_group-group2-QNVSDsuJwigMEVsm: {'is_container_group': ['is_container_group must be True when associating a credential to an Instance Group']}""} TASK [tower_inventory_source : Delete the inventory source with an invalid cred, source_project, sourece_script specified] ******************************************************************************************************************* fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Unsupported parameters for (tower_inventory_source) module: source_script Supported parameters include: credential, description, enabled_value, enabled_var, execution_environment, host_filter, inventory, name, new_name, notification_templates_error, notification_templates_started, notification_templates_success, organization, overwrite, overwrite_vars, source, source_path, source_project, source_vars, state, timeout, tower_config_file, tower_host, tower_oauthtoken, tower_password, tower_username, update_cache_timeout, update_on_launch, update_on_project_update, validate_certs, verbosity""} ``` ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: docker on linux * Ansible version: 2.10.8 test-file source-file test-file test-file test-file",no-bug,0.9
4540,awx,https://github.com/ansible/awx/issues/4540,Fails to detect roles/requirements.yaml,"##### ISSUE TYPE - Bug Report ##### SUMMARY When a project includes a `roles/requirements.yaml` file it is not detected or processed: ``` TASK [detect requirements.yml] ************************************************* ok: [localhost, -> localhost] => {""changed"": false, ""stat"": {""exists"": false}} ``` It looks like the task to detect the file looks specifically for `requirements.yml` and not also `requirements.yaml`. This is contrary to the YAML offical extension: https://yaml.org/faq.html (Generally because both `.yaml` and `.yml` are in common usage, they should be considered interchangeable as different people like different things for their own reasons. I'd expect AWX/Tower to check and use a file with either extension, and throwing an error if it finds both) ##### ENVIRONMENT * AWX version: 3.5.2 * AWX install method: Tower * Ansible version: 2.8 * Operating System: CentOS 7 * Web Browser: Chrome ##### STEPS TO REPRODUCE Create an AWX/Tower role and specify requirements in `roles/requirements.yaml` and clone into a project rename to requirements.yml and it works. ##### EXPECTED RESULTS I expected that the roles specified in `requirements.yaml` would be installed ##### ACTUAL RESULTS The file `requirements.yaml` was ignored and roles were not installed. ##### ADDITIONAL INFORMATION We use Ansible Tower, but I think AWX has this issue too.",source-file | source-file | config-file | source-file | source-file | config-file | source-file | config-file | source-file | source-file | config-file | source-file | source-file | config-file | source-file | source-file | config-file | source-file | source-file | config-file | source-file | source-file | config-file | source-file | config-file | source-file | config-file | source-file | config-file | source-file | config-file | source-file | config-file,"Fails to detect roles/requirements.yaml ##### ISSUE TYPE - Bug Report ##### SUMMARY When a project includes a `roles/requirements.yaml` file it is not detected or processed: ``` TASK [detect requirements.yml] ************************************************* ok: [localhost, -> localhost] => {""changed"": false, ""stat"": {""exists"": false}} ``` It looks like the task to detect the file looks specifically for `requirements.yml` and not also `requirements.yaml`. This is contrary to the YAML offical extension: https://yaml.org/faq.html (Generally because both `.yaml` and `.yml` are in common usage, they should be considered interchangeable as different people like different things for their own reasons. I'd expect AWX/Tower to check and use a file with either extension, and throwing an error if it finds both) ##### ENVIRONMENT * AWX version: 3.5.2 * AWX install method: Tower * Ansible version: 2.8 * Operating System: CentOS 7 * Web Browser: Chrome ##### STEPS TO REPRODUCE Create an AWX/Tower role and specify requirements in `roles/requirements.yaml` and clone into a project rename to requirements.yml and it works. ##### EXPECTED RESULTS I expected that the roles specified in `requirements.yaml` would be installed ##### ACTUAL RESULTS The file `requirements.yaml` was ignored and roles were not installed. ##### ADDITIONAL INFORMATION We use Ansible Tower, but I think AWX has this issue too. source-file source-file config-file source-file source-file config-file source-file config-file source-file source-file config-file source-file source-file config-file source-file source-file config-file source-file source-file config-file source-file source-file config-file source-file config-file source-file config-file source-file config-file source-file config-file source-file config-file",no-bug,0.9
5632,awx,https://github.com/ansible/awx/issues/5632,AWX Installation on Minishift Unclear,"<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Documentation ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - Installer ##### SUMMARY <!-- Briefly describe the problem. --> Installation on Minishift fails with cannot get securitycontextconstraints.security.openshift.io The AWX installation documentation for minishift mentions the following: > When using OpenShift for deploying AWX make sure you have correct privileges to add the security context 'privileged', otherwise the installation will fail. The privileged context is needed because of the use of the bubblewrap tool to add an additional layer of security when using containers. However it is not clear to me how I can ensure I have the correct privileges? It appears that the default system user does not have cluster-admin rights and there seems to be no way that I could find to give it that. So more info on the security pre-requisites would be helpful for a successful installation. ##### ENVIRONMENT * AWX version: latest * AWX install method: minishift * Ansible version: 2.8.5 * Operating System: CentOS 8 * Web Browser: FireFox * Minishift: 1.34.1 ##### STEPS TO REPRODUCE <!-- For bugs, please show exactly how to reproduce the problem. For new features, show how the feature would be used. --> Install Minishift Follow the instructions to install AWX ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> AWX install succeeds ##### ACTUAL RESULTS <!-- For bug reports, what actually happened? --> Installation on Minishift fails with cannot get securitycontextconstraints.security.openshift.io at the cluster scope: no RBAC policy matched ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | test-file,"AWX Installation on Minishift Unclear <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Documentation ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - Installer ##### SUMMARY <!-- Briefly describe the problem. --> Installation on Minishift fails with cannot get securitycontextconstraints.security.openshift.io The AWX installation documentation for minishift mentions the following: > When using OpenShift for deploying AWX make sure you have correct privileges to add the security context 'privileged', otherwise the installation will fail. The privileged context is needed because of the use of the bubblewrap tool to add an additional layer of security when using containers. However it is not clear to me how I can ensure I have the correct privileges? It appears that the default system user does not have cluster-admin rights and there seems to be no way that I could find to give it that. So more info on the security pre-requisites would be helpful for a successful installation. ##### ENVIRONMENT * AWX version: latest * AWX install method: minishift * Ansible version: 2.8.5 * Operating System: CentOS 8 * Web Browser: FireFox * Minishift: 1.34.1 ##### STEPS TO REPRODUCE <!-- For bugs, please show exactly how to reproduce the problem. For new features, show how the feature would be used. --> Install Minishift Follow the instructions to install AWX ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> AWX install succeeds ##### ACTUAL RESULTS <!-- For bug reports, what actually happened? --> Installation on Minishift fails with cannot get securitycontextconstraints.security.openshift.io at the cluster scope: no RBAC policy matched ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file test-file",no-bug,0.95
4993,awx,https://github.com/ansible/awx/issues/4993,Add upper limits to memory and cpu for pods for Kubernetes deployments,"##### ISSUE TYPE - Presently, when following the documentation (https://github.com/ansible/awx/blob/devel/INSTALL.md#Kubernetes) to set up AWX in Kubernetes, there is a possibility of misconfiguration with respect to memory and cpu limits for the awx pods ##### SUMMARY - According to the documentation linked above (https://github.com/ansible/awx/blob/devel/INSTALL.md#Kubernetes), to set up AWX in Kubernetes, one can quickly clone the repo and run the ansible installer playbook. - However, looking at https://github.com/ansible/awx/blob/devel/installer/roles/kubernetes/defaults/main.yml, it appears that while there are default memory and cpu requests set for the individual pods, there aren't any limits set by default. This could lead to a potential problem where a user using a Kubernetes namespace with a LimitRange object(https://kubernetes.io/docs/concepts/policy/limit-range/) could see a 'Specified memory/cpu request greater than limit' error, because the LimitRange limit gets used for deployments with no explicit limit configuration. In this case, even if the limitrange default limit values happen to be lower than the awx configured default requests ( such as web_mem_request, web_cpu_request, etc) even if the actual max limit is higher. An example of a LimitRange spec is referenced below: ---- #### LimitRange apiVersion: v1 kind: LimitRange metadata: namespace: some-namespace name: default-limits-per-container spec: limits: - max: cpu: ""1.5"" memory: ""6Gi"" min: cpu: ""50m"" memory: ""20Mi"" default: cpu: ""250m"" memory: ""512Mi"" defaultRequest: cpu: ""50m"" memory: ""256Mi"" type: Container --- In the example above, if the values for awx containers (specified in https://github.com/ansible/awx/blob/devel/installer/roles/kubernetes/defaults/main.yml )happen to be the following. web_mem_request: 1 web_cpu_request: 500 task_mem_request: 2 task_cpu_request: 1500 rabbitmq_mem_request: 2 rabbitmq_cpu_request: 500 memcached_mem_request: 1 memcached_cpu_request: 500 Because there are no upper limits set, the LimitRange object will set the default upperlimits which happen to be lower than the explicit request values and can. While the user can mitigate this quickly by adding the variables such as web_mem_limit and web_cpu_limit , it would be helpful if these were included in the default/main.yml configuration.",source-file,"Add upper limits to memory and cpu for pods for Kubernetes deployments ##### ISSUE TYPE - Presently, when following the documentation (https://github.com/ansible/awx/blob/devel/INSTALL.md#Kubernetes) to set up AWX in Kubernetes, there is a possibility of misconfiguration with respect to memory and cpu limits for the awx pods ##### SUMMARY - According to the documentation linked above (https://github.com/ansible/awx/blob/devel/INSTALL.md#Kubernetes), to set up AWX in Kubernetes, one can quickly clone the repo and run the ansible installer playbook. - However, looking at https://github.com/ansible/awx/blob/devel/installer/roles/kubernetes/defaults/main.yml, it appears that while there are default memory and cpu requests set for the individual pods, there aren't any limits set by default. This could lead to a potential problem where a user using a Kubernetes namespace with a LimitRange object(https://kubernetes.io/docs/concepts/policy/limit-range/) could see a 'Specified memory/cpu request greater than limit' error, because the LimitRange limit gets used for deployments with no explicit limit configuration. In this case, even if the limitrange default limit values happen to be lower than the awx configured default requests ( such as web_mem_request, web_cpu_request, etc) even if the actual max limit is higher. An example of a LimitRange spec is referenced below: ---- #### LimitRange apiVersion: v1 kind: LimitRange metadata: namespace: some-namespace name: default-limits-per-container spec: limits: - max: cpu: ""1.5"" memory: ""6Gi"" min: cpu: ""50m"" memory: ""20Mi"" default: cpu: ""250m"" memory: ""512Mi"" defaultRequest: cpu: ""50m"" memory: ""256Mi"" type: Container --- In the example above, if the values for awx containers (specified in https://github.com/ansible/awx/blob/devel/installer/roles/kubernetes/defaults/main.yml )happen to be the following. web_mem_request: 1 web_cpu_request: 500 task_mem_request: 2 task_cpu_request: 1500 rabbitmq_mem_request: 2 rabbitmq_cpu_request: 500 memcached_mem_request: 1 memcached_cpu_request: 500 Because there are no upper limits set, the LimitRange object will set the default upperlimits which happen to be lower than the explicit request values and can. While the user can mitigate this quickly by adding the variables such as web_mem_limit and web_cpu_limit , it would be helpful if these were included in the default/main.yml configuration. source-file",no-bug,0.9
6753,awx,https://github.com/ansible/awx/issues/6753,Allow metrics endpoint to be retrieved anonymously,"##### ISSUE TYPE - Feature Idea ##### SUMMARY I think for some monitoring setups it might be helpful to have an option that would allow for retrieving `/api/v2/metrics` without being authenticated. It would be opt-in, though.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Allow metrics endpoint to be retrieved anonymously ##### ISSUE TYPE - Feature Idea ##### SUMMARY I think for some monitoring setups it might be helpful to have an option that would allow for retrieving `/api/v2/metrics` without being authenticated. It would be opt-in, though. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
7264,awx,https://github.com/ansible/awx/issues/7264,Mattermost Notification fails on latest release,"##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to send a (test) notification to a Mattermost Channel fails with ``` mattermostinfo: Notification failed. Error sending notification mattermost: {""id"":""api.webhook.incoming.error"",""message"":""Could not decode the multipart payload of incoming webhook."",""detailed_error"":"""",""request_id"":""<request ID>"",""status_code"":400} ``` ##### ENVIRONMENT * AWX version: 11.2.0 * AWX install method: docker on linux * Ansible version: 2.9.7 * Operating System: CentOS 7.8 * Web Browser: Chrome,Chromium,Firefox * Mattermost Server Version: 5.22.1 ##### STEPS TO REPRODUCE - Create an incomming webhook - Create a mattermost notification - Send a test notification ##### EXPECTED RESULTS Having a notification in the Channel ##### ACTUAL RESULTS Sending failed with above error message ##### ADDITIONAL INFORMATION The error message in the mattermost log shows ``` {""level"":""error"",""ts"":1591342011.6592789,""caller"":""mlog/log.go:175"",""msg"":""Could not decode the multipart payload of incoming webhook."",""path"":""/ hooks/<hook ID>"",""request_id"":""<request ID>"",""ip_addr"":""<IP Address>"",""user_id"":"""",""method"":""POST"",""err_where"":"" incomingWebhook"",""http_code"":400,""err_details"":""mime: no media type""} ``` --- edit: some ID removed in the log sample, mattermost server version added",source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file,"Mattermost Notification fails on latest release ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to send a (test) notification to a Mattermost Channel fails with ``` mattermostinfo: Notification failed. Error sending notification mattermost: {""id"":""api.webhook.incoming.error"",""message"":""Could not decode the multipart payload of incoming webhook."",""detailed_error"":"""",""request_id"":""<request ID>"",""status_code"":400} ``` ##### ENVIRONMENT * AWX version: 11.2.0 * AWX install method: docker on linux * Ansible version: 2.9.7 * Operating System: CentOS 7.8 * Web Browser: Chrome,Chromium,Firefox * Mattermost Server Version: 5.22.1 ##### STEPS TO REPRODUCE - Create an incomming webhook - Create a mattermost notification - Send a test notification ##### EXPECTED RESULTS Having a notification in the Channel ##### ACTUAL RESULTS Sending failed with above error message ##### ADDITIONAL INFORMATION The error message in the mattermost log shows ``` {""level"":""error"",""ts"":1591342011.6592789,""caller"":""mlog/log.go:175"",""msg"":""Could not decode the multipart payload of incoming webhook."",""path"":""/ hooks/<hook ID>"",""request_id"":""<request ID>"",""ip_addr"":""<IP Address>"",""user_id"":"""",""method"":""POST"",""err_where"":"" incomingWebhook"",""http_code"":400,""err_details"":""mime: no media type""} ``` --- edit: some ID removed in the log sample, mattermost server version added source-file source-file source-file source-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file",bug,0.9
6128,awx,https://github.com/ansible/awx/issues/6128,AWX Collection user and role modules break when creating or updating an existing object,"##### ISSUE TYPE - Bug Report ##### SUMMARY #### Collection Updating an object without a `name` field breaks, which also breaks idempotency. Probably because of: https://github.com/ansible/awx/blob/devel/awx_collection/plugins/module_utils/tower_api.py#L534 ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.4 * Operating System: ubuntu 18.04 ##### STEPS TO REPRODUCE Run a playbook that creates a user or role twice, the second time it will fail ##### EXPECTED RESULTS it should be Idempotent and know how to update those objects ##### ACTUAL RESULTS ``` PLAY [testhost] **************************************************************** TASK [Gathering Facts] ********************************************************* ok: [testhost] TASK [tower_user : Create a User] ********************************************** fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Unable to process update of item due to missing data 'name'""} PLAY RECAP ********************************************************************* testhost : ok=1 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ```",source-file | source-file,"AWX Collection user and role modules break when creating or updating an existing object ##### ISSUE TYPE - Bug Report ##### SUMMARY #### Collection Updating an object without a `name` field breaks, which also breaks idempotency. Probably because of: https://github.com/ansible/awx/blob/devel/awx_collection/plugins/module_utils/tower_api.py#L534 ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.4 * Operating System: ubuntu 18.04 ##### STEPS TO REPRODUCE Run a playbook that creates a user or role twice, the second time it will fail ##### EXPECTED RESULTS it should be Idempotent and know how to update those objects ##### ACTUAL RESULTS ``` PLAY [testhost] **************************************************************** TASK [Gathering Facts] ********************************************************* ok: [testhost] TASK [tower_user : Create a User] ********************************************** fatal: [testhost]: FAILED! => {""changed"": false, ""msg"": ""Unable to process update of item due to missing data 'name'""} PLAY RECAP ********************************************************************* testhost : ok=1 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ``` source-file source-file",bug,0.9
14490,awx,https://github.com/ansible/awx/issues/14490,Fix spelling errors in AWX user guide,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Fix the following spelling errors: ./credentials.rst:616: Authenication ==> Authentication ./glossary.rst:40: serveral ==> several ./inventories.rst:899: documenation ==> documentation ./inventories.rst:927: documenation ==> documentation ./notifications.rst:532: adddress ==> address ./project-sign.rst:36: Vist ==> Visit ### AWX version current ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Firefox ### Steps to reproduce none ### Expected results none ### Actual results none ### Additional information _No response_,documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,Fix spelling errors in AWX user guide ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Fix the following spelling errors: ./credentials.rst:616: Authenication ==> Authentication ./glossary.rst:40: serveral ==> several ./inventories.rst:899: documenation ==> documentation ./inventories.rst:927: documenation ==> documentation ./notifications.rst:532: adddress ==> address ./project-sign.rst:36: Vist ==> Visit ### AWX version current ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Firefox ### Steps to reproduce none ### Expected results none ### Actual results none ### Additional information _No response_ documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file,no-bug,0.95
6546,awx,https://github.com/ansible/awx/issues/6546,Refactor WFJT Form,"##### ISSUE TYPE -improvement ##### SUMMARY WFJT Form is really confusing and needs to be refactored. It works, as expected so no bug perse. ##### ENVIRONMENT * AWX version: 2.10 * AWX install method: docker for mac * Ansible version: 9.3 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE no bug. Just improve the way we are managing the values of all the different fields. Consider using useReducer to manage the state of all the fields in the webhook subform. ##### EXPECTED RESULTS ##### ACTUAL RESULTS ##### ADDITIONAL INFORMATION",source-file,"Refactor WFJT Form ##### ISSUE TYPE -improvement ##### SUMMARY WFJT Form is really confusing and needs to be refactored. It works, as expected so no bug perse. ##### ENVIRONMENT * AWX version: 2.10 * AWX install method: docker for mac * Ansible version: 9.3 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE no bug. Just improve the way we are managing the values of all the different fields. Consider using useReducer to manage the state of all the fields in the webhook subform. ##### EXPECTED RESULTS ##### ACTUAL RESULTS ##### ADDITIONAL INFORMATION source-file",no-bug,0.95
10181,awx,https://github.com/ansible/awx/issues/10181,Host Groups Associate Modals Closes on Sort,##### ISSUE TYPE - Bug Report ##### SUMMARY The Associate modal closes when you sort the Host Groups names. ##### STEPS TO REPRODUCE Click on Hosts --> Groups Tab --> Associate ---> Sort by name ##### EXPECTED RESULTS Group names are returned in the modal in reverse alpha order ##### ACTUAL RESULTS Modal Closes ##### ADDITIONAL INFORMATION ![modalcloses](https://user-images.githubusercontent.com/39280967/117996216-f6b6f980-b30f-11eb-9330-f17c546a5d53.gif),test-file | test-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file,Host Groups Associate Modals Closes on Sort ##### ISSUE TYPE - Bug Report ##### SUMMARY The Associate modal closes when you sort the Host Groups names. ##### STEPS TO REPRODUCE Click on Hosts --> Groups Tab --> Associate ---> Sort by name ##### EXPECTED RESULTS Group names are returned in the modal in reverse alpha order ##### ACTUAL RESULTS Modal Closes ##### ADDITIONAL INFORMATION ![modalcloses](https://user-images.githubusercontent.com/39280967/117996216-f6b6f980-b30f-11eb-9330-f17c546a5d53.gif) test-file test-file test-file other-file other-file test-file other-file test-file other-file test-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file test-file source-file,no-bug,0.9
9772,awx,https://github.com/ansible/awx/issues/9772,"Job output paginator can make requests to page 0 of job_events endpoint, resulting in unhandled 404","It's possible for the job output paginator to produce a request to page 0, which returns an unhandled 404: ![Screenshot from 2021-03-31 11-48-29](https://user-images.githubusercontent.com/9753817/113173073-0b837600-9217-11eb-9962-eccdd4e1785f.png)",source-file | test-file,"Job output paginator can make requests to page 0 of job_events endpoint, resulting in unhandled 404 It's possible for the job output paginator to produce a request to page 0, which returns an unhandled 404: ![Screenshot from 2021-03-31 11-48-29](https://user-images.githubusercontent.com/9753817/113173073-0b837600-9217-11eb-9962-eccdd4e1785f.png) source-file test-file",bug,0.9
13119,awx,https://github.com/ansible/awx/issues/13119,Update CyberArk Conjur Secrets Lookup branding,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Current name for Conjur's external Secrets Management System lookup is `CyberArk Conjur Secrets Lookup`. The name should be updated to match branding `CyberArk Conjur Secrets Manager Lookup`. ### AWX version 21.7.0 ### Select the relevant components - [X] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.13.5 ### Operating system Ubuntu 22.04.1 LTS ### Web browser _No response_ ### Steps to reproduce This is not relevant. Look at the current Lookup name in Credentials. ### Expected results The lookup name should match current CyberArk branding. ### Actual results It does not. ### Additional information PR already prepared and will be submitted shortly.,source-file | source-file | test-file | test-file | documentation-file | documentation-file | source-file,Update CyberArk Conjur Secrets Lookup branding ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Current name for Conjur's external Secrets Management System lookup is `CyberArk Conjur Secrets Lookup`. The name should be updated to match branding `CyberArk Conjur Secrets Manager Lookup`. ### AWX version 21.7.0 ### Select the relevant components - [X] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.13.5 ### Operating system Ubuntu 22.04.1 LTS ### Web browser _No response_ ### Steps to reproduce This is not relevant. Look at the current Lookup name in Credentials. ### Expected results The lookup name should match current CyberArk branding. ### Actual results It does not. ### Additional information PR already prepared and will be submitted shortly. source-file source-file test-file test-file documentation-file documentation-file source-file,no-bug,0.9
5765,awx,https://github.com/ansible/awx/issues/5765,[Performance] Investigate performance characteristics of `settings.__getattr__` memcached access,"Every `conf.settings.__getattr__()` **everywhere** in **every** AWX process incurs a memcached round trip lookup. This is fine for some use cases (within most HTTP requests), but for things like callback event processing where throughput is very high, these domain socket reads really add up (see: https://github.com/ansible/awx/pull/5762) As an extension to this, every `logger.info()` (or `debug()`, or `error()` or etc...) in AWX's logging implementation does per-log-line `settings.__getattr__()` lookups to determine external logging settings *every time we log a message* (so, it's not usual to do 10+ memcached round trips per log line). I'd like to investigate some new ideas for managing in-process setting caching that involve less per-process overhead, especially for the callback receiver, and I'd like to rethink our current approach of cache-based ""pull on demand"".",source-file | documentation-file | source-file | documentation-file | source-file | documentation-file,"[Performance] Investigate performance characteristics of `settings.__getattr__` memcached access Every `conf.settings.__getattr__()` **everywhere** in **every** AWX process incurs a memcached round trip lookup. This is fine for some use cases (within most HTTP requests), but for things like callback event processing where throughput is very high, these domain socket reads really add up (see: https://github.com/ansible/awx/pull/5762) As an extension to this, every `logger.info()` (or `debug()`, or `error()` or etc...) in AWX's logging implementation does per-log-line `settings.__getattr__()` lookups to determine external logging settings *every time we log a message* (so, it's not usual to do 10+ memcached round trips per log line). I'd like to investigate some new ideas for managing in-process setting caching that involve less per-process overhead, especially for the callback receiver, and I'd like to rethink our current approach of cache-based ""pull on demand"". source-file documentation-file source-file documentation-file source-file documentation-file",no-bug,0.95
6864,awx,https://github.com/ansible/awx/issues/6864,Add Copy Support for Inventory Scripts,##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4969,source-file | source-file | source-file | test-file | source-file,Add Copy Support for Inventory Scripts ##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4969 source-file source-file source-file test-file source-file,no-bug,0.9
12446,awx,https://github.com/ansible/awx/issues/12446,"[Task Manager][devel environment] In development environment, expose view that calls task manager(s) for use with debug toolbar","### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature Summary We've been hacking the development environment to call the task manager in a view so we can use the DjangoDebugToolbar to debug queries made in the task manager. This is a great hack but takes time to set up and communicate to other devs, and patches get stale. Instead, we can have a view dedicated to this https://github.com/ansible/awx/blob/f5c176701b0551e179bb4ef663b57fd3a6ba6f0a/awx/api/urls/urls.py#L146-L149 We also may want to introduce a setting for development where we short circuit the regular schedule_task_manager() function and call the _schedule() functions directly in this view. ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"[Task Manager][devel environment] In development environment, expose view that calls task manager(s) for use with debug toolbar ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature Summary We've been hacking the development environment to call the task manager in a view so we can use the DjangoDebugToolbar to debug queries made in the task manager. This is a great hack but takes time to set up and communicate to other devs, and patches get stale. Instead, we can have a view dedicated to this https://github.com/ansible/awx/blob/f5c176701b0551e179bb4ef663b57fd3a6ba6f0a/awx/api/urls/urls.py#L146-L149 We also may want to introduce a setting for development where we short circuit the regular schedule_task_manager() function and call the _schedule() functions directly in this view. ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
10595,awx,https://github.com/ansible/awx/issues/10595,Advanced Smart Inventory Search showing half words,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Advanced Smart Inventory Search showing half words ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Go to advanced search for smart inventories and select `key` scroll down. <img width=""1184"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/124648316-1fb5bf80-de65-11eb-8419-24094d2c1307.png""> ![image](https://user-images.githubusercontent.com/9053044/124648134-dcf3e780-de64-11eb-888e-fc7365e54c7c.png) ### Expected results Key name to be fully displayed. ### Actual results Key name is half displayed. ### Additional information _No response_",other-file | other-file,"Advanced Smart Inventory Search showing half words ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Advanced Smart Inventory Search showing half words ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Go to advanced search for smart inventories and select `key` scroll down. <img width=""1184"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/124648316-1fb5bf80-de65-11eb-8419-24094d2c1307.png""> ![image](https://user-images.githubusercontent.com/9053044/124648134-dcf3e780-de64-11eb-888e-fc7365e54c7c.png) ### Expected results Key name to be fully displayed. ### Actual results Key name is half displayed. ### Additional information _No response_ other-file other-file",no-bug,0.9
9363,awx,https://github.com/ansible/awx/issues/9363,Show host description attribute on more places,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY Please add the Host description attribute to at least one (or all?) places: * Job output: There, ansible only shows the IP address (if no real hostname given) - maybe not possible here but: * Show the host description inside the host task result modal, next to its name: ![grafik](https://user-images.githubusercontent.com/87267/108463917-899b4700-727f-11eb-8abc-081346b53980.png) That would be great :)",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | documentation-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | documentation-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | documentation-file | source-file | test-file,"Show host description attribute on more places <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY Please add the Host description attribute to at least one (or all?) places: * Job output: There, ansible only shows the IP address (if no real hostname given) - maybe not possible here but: * Show the host description inside the host task result modal, next to its name: ![grafik](https://user-images.githubusercontent.com/87267/108463917-899b4700-727f-11eb-8abc-081346b53980.png) That would be great :) source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file documentation-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file documentation-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file documentation-file source-file test-file",no-bug,0.95
10593,awx,https://github.com/ansible/awx/issues/10593,Add sliced job identification for Job List/Details,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add sliced job identification for Job List/Details. Related: https://github.com/ansible/awx/issues/2479,other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,Add sliced job identification for Job List/Details ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add sliced job identification for Job List/Details. Related: https://github.com/ansible/awx/issues/2479 other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file,no-bug,0.9
6663,awx,https://github.com/ansible/awx/issues/6663,Organization field on WFJT form should be required for all non-superusers,"##### ISSUE TYPE - Bug Report ##### SUMMARY Org admin user can't make workflow job templates. ##### STEPS TO REPRODUCE Copied from the steps to reproduce a different bug: 1. Create OrgA & OrgB 2. Add org admin users CuA & CuB respectively in the Orgs. 3. Create a jt in OrgA 4. Give ""execute"" permission on the jt for CuB. 5. Login as CuB. ~~6. Try creating a wfjt using the jt.~~ 6. Try creating a wfjt without specifying an organization ##### EXPECTED RESULTS Can get to the workflow add form. ##### ACTUAL RESULTS Permission denied.",test-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Organization field on WFJT form should be required for all non-superusers ##### ISSUE TYPE - Bug Report ##### SUMMARY Org admin user can't make workflow job templates. ##### STEPS TO REPRODUCE Copied from the steps to reproduce a different bug: 1. Create OrgA & OrgB 2. Add org admin users CuA & CuB respectively in the Orgs. 3. Create a jt in OrgA 4. Give ""execute"" permission on the jt for CuB. 5. Login as CuB. ~~6. Try creating a wfjt using the jt.~~ 6. Try creating a wfjt without specifying an organization ##### EXPECTED RESULTS Can get to the workflow add form. ##### ACTUAL RESULTS Permission denied. test-file test-file other-file test-file test-file test-file other-file test-file test-file test-file other-file test-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.8
5736,awx,https://github.com/ansible/awx/issues/5736,Inventory Group Edit - the Edit/Cancel functionality does not work properly,"##### ISSUE TYPE - Bug Report ##### SUMMARY While on the Inventory group edit page, pressing the Edit or the Cancel button does not redirect to the Inventory Groups Details page. Additionally: 1. On Editing the Inventory Group, the IG gets updated in the backend successfully but an ""error"" is displayed at the bottom 2. On pressing Cancel, the Console displays the error: ""Cannot read property 'id' of undefined"" ##### STEPS TO REPRODUCE 1. Go to the Inventory group edit page 2. Make some changes and press Edit 3. Press Cancel ##### EXPECTED RESULTS 1. On pressing Edit, the update should be successful and it should navigate back to the details page 2. On pressing Cancel, it should navigate back to the details page ##### ACTUAL RESULTS 1. On pressing Edit, ""error"" is shown at the bottom of the form and it stays on the same page 2. On pressing cancel, it says on the same page and throws an error on Console saying ""Cannot read property 'id' of undefined""",source-file,"Inventory Group Edit - the Edit/Cancel functionality does not work properly ##### ISSUE TYPE - Bug Report ##### SUMMARY While on the Inventory group edit page, pressing the Edit or the Cancel button does not redirect to the Inventory Groups Details page. Additionally: 1. On Editing the Inventory Group, the IG gets updated in the backend successfully but an ""error"" is displayed at the bottom 2. On pressing Cancel, the Console displays the error: ""Cannot read property 'id' of undefined"" ##### STEPS TO REPRODUCE 1. Go to the Inventory group edit page 2. Make some changes and press Edit 3. Press Cancel ##### EXPECTED RESULTS 1. On pressing Edit, the update should be successful and it should navigate back to the details page 2. On pressing Cancel, it should navigate back to the details page ##### ACTUAL RESULTS 1. On pressing Edit, ""error"" is shown at the bottom of the form and it stays on the same page 2. On pressing cancel, it says on the same page and throws an error on Console saying ""Cannot read property 'id' of undefined"" source-file",no-bug,0.9
10383,awx,https://github.com/ansible/awx/issues/10383,Unexpected api config requests on logout,"##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE - logout using the top-nav dropdown ##### EXPECTED RESULTS no requests are made to the config endpoint on logout ##### ACTUAL RESULTS requests are made to config endpoint, 400 errors",other-file | other-file,"Unexpected api config requests on logout ##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE - logout using the top-nav dropdown ##### EXPECTED RESULTS no requests are made to the config endpoint on logout ##### ACTUAL RESULTS requests are made to config endpoint, 400 errors other-file other-file",bug,0.85
5646,awx,https://github.com/ansible/awx/issues/5646,Provide enough information for the ui to calculate elapsed time for running jobs,##### ISSUE TYPE - Feature Idea The `started` field for ~running jobs~ **edit:** newly launched jobs is `null`. This field is needed in order to compute and show an accurate playbook run time while the job is running.,source-file | test-file | source-file,Provide enough information for the ui to calculate elapsed time for running jobs ##### ISSUE TYPE - Feature Idea The `started` field for ~running jobs~ **edit:** newly launched jobs is `null`. This field is needed in order to compute and show an accurate playbook run time while the job is running. source-file test-file source-file,no-bug,0.9
5947,awx,https://github.com/ansible/awx/issues/5947,Cannot checkout ansible galaxy roles after upgrade to 9.2.0,"##### ISSUE TYPE - Bug Report ##### SUMMARY Cannot check out the ansible galxy roles on a project run. Running this locally works. The roles are on a private git server, and the same SSH key that is used to checkout the project is also used to download the roles Additional information: Killing the container **awx-celery** will make it work only the first run only. After that the error bellow from the run log shows up. ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: k8s * Ansible version: 2.9.3 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Being able to check out the ansible galaxy roles ##### ACTUAL RESULTS Hangs indefinitely for a checkout of the ansible galaxy roles. ##### ADDITIONAL INFORMATION Run log ``` Identity added: /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data (awx) ansible-playbook 2.9.3 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/lib/python3.6/site-packages/ansible executable location = /usr/bin/ansible-playbook python version = 3.6.8 (default, Nov 21 2019, 19:31:34) [GCC 8.3.1 20190507 (Red Hat 8.3.1-4)] Using /etc/ansible/ansible.cfg as config file host_list declined parsing /tmp/awx_2550_0fu1yi5d/inventory/hosts as it did not pass its verify_file() method script declined parsing /tmp/awx_2550_0fu1yi5d/inventory/hosts as it did not pass its verify_file() method auto declined parsing /tmp/awx_2550_0fu1yi5d/inventory/hosts as it did not pass its verify_file() method Parsed /tmp/awx_2550_0fu1yi5d/inventory/hosts inventory source with ini plugin PLAYBOOK: project_update.yml *************************************************** 2 plays in project_update.yml PLAY [Update source tree if necessary] ***************************************** META: ran handlers META: ran handlers META: ran handlers PLAY [Install content with ansible-galaxy command if necessary] **************** META: ran handlers TASK [detect requirements.yml] ************************************************* task path: /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks/project_update.yml:133 <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: awx <127.0.0.1> EXEC /bin/sh -c 'echo ~awx && sleep 0' <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p ""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382 `"" && echo ansible-tmp-1581719618.0153997-274054373534382=""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382 `"" ) && sleep 0' Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py <127.0.0.1> PUT /var/lib/awx/.ansible/tmp/ansible-local-3zvuarjl6/tmp08hc4g9h TO /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/AnsiballZ_stat.py <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/ /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/AnsiballZ_stat.py && sleep 0' <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/AnsiballZ_stat.py && sleep 0' <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/ > /dev/null 2>&1 && sleep 0' ok: [localhost] => { ""changed"": false, ""invocation"": { ""module_args"": { ""checksum_algorithm"": ""sha1"", ""follow"": false, ""get_attributes"": true, ""get_checksum"": true, ""get_md5"": false, ""get_mime"": true, ""path"": ""/var/lib/awx/projects/_8__baseline/roles/requirements.yml"" } }, ""stat"": { ""atime"": 1581719306.717563, ""attr_flags"": """", ""attributes"": [], ""block_size"": 4096, ""blocks"": 8, ""charset"": ""unknown"", ""checksum"": ""873ac04b1592376ef928d565cc2ce5155883d558"", ""ctime"": 1581719306.2855692, ""dev"": 228, ""device_type"": 0, ""execu TASK [fetch galaxy roles from requirements.yml] ******************************** task path: /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks/project_update.yml:138 <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: awx <127.0.0.1> EXEC /bin/sh -c 'echo ~awx && sleep 0' <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p ""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671 `"" && echo ansible-tmp-1581719618.5172336-42218225795671=""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671 `"" ) && sleep 0' Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py <127.0.0.1> PUT /var/lib/awx/.ansible/tmp/ansible-local-3zvuarjl6/tmpjax4m5ei TO /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/ /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py && sleep 0' <127.0.0.1> EXEC /bin/sh -c 'ANSIBLE_FORCE_COLOR=False /usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py && sleep 0' The authenticity of host 'git.<redacted>.com (176.9.x.x)' can't be established. ECDSA key fingerprint is SHA256:qPurwghZ7CHDtzfDJ2JfNVfj8LEAnHpprxDy+3P23JY. ``` **ps -faux** ``` USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND awx 2645 0.0 0.0 14948 3604 pts/1 Ss 22:40 0:00 /bin/bash awx 2656 0.0 0.0 49276 3660 pts/1 R+ 22:43 0:00 \_ ps -faux awx 2657 0.0 0.0 9672 2116 pts/1 S+ 22:43 0:00 \_ less awx 1 0.0 0.0 37344 4160 ? Ss Feb13 0:00 bash /usr/bin/launch_awx_task.sh awx 132 0.0 0.2 105860 24128 ? S Feb13 0:20 /usr/bin/python3.6 /usr/local/bin/supervisord -c /supervisor_task.conf awx 135 0.0 0.2 83264 17876 ? S Feb13 0:00 \_ python3 /usr/bin/config-watcher awx 136 0.1 1.8 770312 152220 ? Sl Feb13 2:22 \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 160 0.0 0.0 0 0 ? Z Feb13 0:35 | \_ [awx-manage] <defunct> awx 161 0.0 1.6 473996 136804 ? Sl Feb13 0:41 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 162 0.0 1.6 474252 137220 ? Sl Feb13 0:42 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 2578 0.0 0.0 23060 4504 ? S 22:33 0:00 | | \_ git cat-file --batch-check root 2581 0.0 0.0 17652 1264 pts/0 Ss+ 22:33 0:00 | | \_ /usr/bin/bwrap --die-with-parent --unshare-pid --dev-bind / / --proc /proc --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp_twvbhc6 /etc/ssh --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpr_on7l8s /etc/tower --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpgbjqe0a0 /tmp --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpf6a20bcu /var/lib/awx --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp369ttbmc /var/lib/awx/projects --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpwl9a_sbj /var/log --ro-bind /var/lib/awx/venv/ansible /var/lib/awx/venv/ansible --ro-bind /var/lib/awx/venv/awx /var/lib/awx/venv/awx --bind /tmp/awx_2547_imikqrpl /tmp/awx_2547_imikqrpl --bind /tmp/awx_2550_0fu1yi5d /tmp/awx_2550_0fu1yi5d --bind /var/lib/awx/projects /var/lib/awx/projects --bind /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks --chdir /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks ssh-agent sh -c ssh-add /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && rm -f /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2582 0.0 0.0 17748 1316 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/bwrap --die-with-parent --unshare-pid --dev-bind / / --proc /proc --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp_twvbhc6 /etc/ssh --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpr_on7l8s /etc/tower --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpgbjqe0a0 /tmp --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpf6a20bcu /var/lib/awx --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp369ttbmc /var/lib/awx/projects --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpwl9a_sbj /var/log --ro-bind /var/lib/awx/venv/ansible /var/lib/awx/venv/ansible --ro-bind /var/lib/awx/venv/awx /var/lib/awx/venv/awx --bind /tmp/awx_2547_imikqrpl /tmp/awx_2547_imikqrpl --bind /tmp/awx_2550_0fu1yi5d /tmp/awx_2550_0fu1yi5d --bind /var/lib/awx/projects /var/lib/awx/projects --bind /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks --chdir /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks ssh-agent sh -c ssh-add /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && rm -f /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2584 6.5 0.8 388624 70520 pts/0 Sl+ 22:33 0:39 | | \_ /usr/bin/python3.6 -s /usr/bin/ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2585 0.0 0.0 29440 548 ? Ss 22:33 0:00 | | \_ ssh-agent sh -c ssh-add /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && rm -f /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2609 0.0 0.7 396804 64140 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/python3.6 -s /usr/bin/ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2618 0.0 0.0 14816 3216 pts/0 S+ 22:33 0:00 | | \_ /bin/sh -c ANSIBLE_FORCE_COLOR=False /usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py && sleep 0 awx 2619 0.0 0.2 92212 18136 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py awx 2620 0.0 0.5 166468 42588 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/python3.6 -s /usr/bin/ansible-galaxy install -r requirements.yml -p /tmp/awx_2547_imikqrpl/requirements_roles -vvv awx 2624 0.0 0.0 23420 4668 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/git clone git@git.<redacted>.com:msp/ansible/roles/msp.sshd.git msp.sshd awx 2625 0.0 0.0 48216 6296 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/ssh git@git.<redacted>.com git-upload-pack 'msp/ansible/roles/msp.sshd.git' awx 930 0.0 1.7 694040 145176 ? Sl 21:11 0:04 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 1008 0.0 1.8 762644 149716 ? Sl 21:12 0:05 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 137 0.0 1.5 605312 125328 ? Sl Feb13 0:14 \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 154 0.1 1.5 389792 125400 ? Sl Feb13 2:30 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 155 0.1 1.5 389512 125264 ? Sl Feb13 2:29 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 156 0.1 1.5 390112 125148 ? Sl Feb13 2:29 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 157 0.1 1.5 389592 125316 ? Sl Feb13 2:30 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 138 0.0 1.6 320288 132104 ? S Feb13 0:23 \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage runworker --only-channels websocket.* ``` ansible.cfg ``` [defaults] host_key_checking = False timeout = 30 remote_tmp = ~/.ansible/tmp remote_user = root interpreter_python = auto_silent roles_path = ./roles strategy = linear [ssh_connection] pipelining = yes ```",config-file,"Cannot checkout ansible galaxy roles after upgrade to 9.2.0 ##### ISSUE TYPE - Bug Report ##### SUMMARY Cannot check out the ansible galxy roles on a project run. Running this locally works. The roles are on a private git server, and the same SSH key that is used to checkout the project is also used to download the roles Additional information: Killing the container **awx-celery** will make it work only the first run only. After that the error bellow from the run log shows up. ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: k8s * Ansible version: 2.9.3 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Being able to check out the ansible galaxy roles ##### ACTUAL RESULTS Hangs indefinitely for a checkout of the ansible galaxy roles. ##### ADDITIONAL INFORMATION Run log ``` Identity added: /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data (awx) ansible-playbook 2.9.3 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/lib/python3.6/site-packages/ansible executable location = /usr/bin/ansible-playbook python version = 3.6.8 (default, Nov 21 2019, 19:31:34) [GCC 8.3.1 20190507 (Red Hat 8.3.1-4)] Using /etc/ansible/ansible.cfg as config file host_list declined parsing /tmp/awx_2550_0fu1yi5d/inventory/hosts as it did not pass its verify_file() method script declined parsing /tmp/awx_2550_0fu1yi5d/inventory/hosts as it did not pass its verify_file() method auto declined parsing /tmp/awx_2550_0fu1yi5d/inventory/hosts as it did not pass its verify_file() method Parsed /tmp/awx_2550_0fu1yi5d/inventory/hosts inventory source with ini plugin PLAYBOOK: project_update.yml *************************************************** 2 plays in project_update.yml PLAY [Update source tree if necessary] ***************************************** META: ran handlers META: ran handlers META: ran handlers PLAY [Install content with ansible-galaxy command if necessary] **************** META: ran handlers TASK [detect requirements.yml] ************************************************* task path: /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks/project_update.yml:133 <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: awx <127.0.0.1> EXEC /bin/sh -c 'echo ~awx && sleep 0' <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p ""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382 `"" && echo ansible-tmp-1581719618.0153997-274054373534382=""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382 `"" ) && sleep 0' Using module file /usr/lib/python3.6/site-packages/ansible/modules/files/stat.py <127.0.0.1> PUT /var/lib/awx/.ansible/tmp/ansible-local-3zvuarjl6/tmp08hc4g9h TO /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/AnsiballZ_stat.py <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/ /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/AnsiballZ_stat.py && sleep 0' <127.0.0.1> EXEC /bin/sh -c '/usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/AnsiballZ_stat.py && sleep 0' <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.0153997-274054373534382/ > /dev/null 2>&1 && sleep 0' ok: [localhost] => { ""changed"": false, ""invocation"": { ""module_args"": { ""checksum_algorithm"": ""sha1"", ""follow"": false, ""get_attributes"": true, ""get_checksum"": true, ""get_md5"": false, ""get_mime"": true, ""path"": ""/var/lib/awx/projects/_8__baseline/roles/requirements.yml"" } }, ""stat"": { ""atime"": 1581719306.717563, ""attr_flags"": """", ""attributes"": [], ""block_size"": 4096, ""blocks"": 8, ""charset"": ""unknown"", ""checksum"": ""873ac04b1592376ef928d565cc2ce5155883d558"", ""ctime"": 1581719306.2855692, ""dev"": 228, ""device_type"": 0, ""execu TASK [fetch galaxy roles from requirements.yml] ******************************** task path: /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks/project_update.yml:138 <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: awx <127.0.0.1> EXEC /bin/sh -c 'echo ~awx && sleep 0' <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p ""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671 `"" && echo ansible-tmp-1581719618.5172336-42218225795671=""` echo /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671 `"" ) && sleep 0' Using module file /usr/lib/python3.6/site-packages/ansible/modules/commands/command.py <127.0.0.1> PUT /var/lib/awx/.ansible/tmp/ansible-local-3zvuarjl6/tmpjax4m5ei TO /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/ /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py && sleep 0' <127.0.0.1> EXEC /bin/sh -c 'ANSIBLE_FORCE_COLOR=False /usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py && sleep 0' The authenticity of host 'git.<redacted>.com (176.9.x.x)' can't be established. ECDSA key fingerprint is SHA256:qPurwghZ7CHDtzfDJ2JfNVfj8LEAnHpprxDy+3P23JY. ``` **ps -faux** ``` USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND awx 2645 0.0 0.0 14948 3604 pts/1 Ss 22:40 0:00 /bin/bash awx 2656 0.0 0.0 49276 3660 pts/1 R+ 22:43 0:00 \_ ps -faux awx 2657 0.0 0.0 9672 2116 pts/1 S+ 22:43 0:00 \_ less awx 1 0.0 0.0 37344 4160 ? Ss Feb13 0:00 bash /usr/bin/launch_awx_task.sh awx 132 0.0 0.2 105860 24128 ? S Feb13 0:20 /usr/bin/python3.6 /usr/local/bin/supervisord -c /supervisor_task.conf awx 135 0.0 0.2 83264 17876 ? S Feb13 0:00 \_ python3 /usr/bin/config-watcher awx 136 0.1 1.8 770312 152220 ? Sl Feb13 2:22 \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 160 0.0 0.0 0 0 ? Z Feb13 0:35 | \_ [awx-manage] <defunct> awx 161 0.0 1.6 473996 136804 ? Sl Feb13 0:41 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 162 0.0 1.6 474252 137220 ? Sl Feb13 0:42 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 2578 0.0 0.0 23060 4504 ? S 22:33 0:00 | | \_ git cat-file --batch-check root 2581 0.0 0.0 17652 1264 pts/0 Ss+ 22:33 0:00 | | \_ /usr/bin/bwrap --die-with-parent --unshare-pid --dev-bind / / --proc /proc --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp_twvbhc6 /etc/ssh --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpr_on7l8s /etc/tower --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpgbjqe0a0 /tmp --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpf6a20bcu /var/lib/awx --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp369ttbmc /var/lib/awx/projects --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpwl9a_sbj /var/log --ro-bind /var/lib/awx/venv/ansible /var/lib/awx/venv/ansible --ro-bind /var/lib/awx/venv/awx /var/lib/awx/venv/awx --bind /tmp/awx_2547_imikqrpl /tmp/awx_2547_imikqrpl --bind /tmp/awx_2550_0fu1yi5d /tmp/awx_2550_0fu1yi5d --bind /var/lib/awx/projects /var/lib/awx/projects --bind /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks --chdir /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks ssh-agent sh -c ssh-add /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && rm -f /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2582 0.0 0.0 17748 1316 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/bwrap --die-with-parent --unshare-pid --dev-bind / / --proc /proc --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp_twvbhc6 /etc/ssh --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpr_on7l8s /etc/tower --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpgbjqe0a0 /tmp --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpf6a20bcu /var/lib/awx --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmp369ttbmc /var/lib/awx/projects --bind /tmp/ansible_runner_pi_445pegtp/ansible_runner_pi_rv6c_wj8/tmpwl9a_sbj /var/log --ro-bind /var/lib/awx/venv/ansible /var/lib/awx/venv/ansible --ro-bind /var/lib/awx/venv/awx /var/lib/awx/venv/awx --bind /tmp/awx_2547_imikqrpl /tmp/awx_2547_imikqrpl --bind /tmp/awx_2550_0fu1yi5d /tmp/awx_2550_0fu1yi5d --bind /var/lib/awx/projects /var/lib/awx/projects --bind /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks --chdir /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks ssh-agent sh -c ssh-add /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && rm -f /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2584 6.5 0.8 388624 70520 pts/0 Sl+ 22:33 0:39 | | \_ /usr/bin/python3.6 -s /usr/bin/ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2585 0.0 0.0 29440 548 ? Ss 22:33 0:00 | | \_ ssh-agent sh -c ssh-add /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && rm -f /tmp/awx_2550_0fu1yi5d/artifacts/2550/ssh_key_data && ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2609 0.0 0.7 396804 64140 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/python3.6 -s /usr/bin/ansible-playbook -vvv -t install_roles -i /tmp/awx_2550_0fu1yi5d/inventory/hosts -e @/tmp/awx_2550_0fu1yi5d/env/extravars project_update.yml awx 2618 0.0 0.0 14816 3216 pts/0 S+ 22:33 0:00 | | \_ /bin/sh -c ANSIBLE_FORCE_COLOR=False /usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py && sleep 0 awx 2619 0.0 0.2 92212 18136 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/python3.6 /var/lib/awx/.ansible/tmp/ansible-tmp-1581719618.5172336-42218225795671/AnsiballZ_command.py awx 2620 0.0 0.5 166468 42588 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/python3.6 -s /usr/bin/ansible-galaxy install -r requirements.yml -p /tmp/awx_2547_imikqrpl/requirements_roles -vvv awx 2624 0.0 0.0 23420 4668 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/git clone git@git.<redacted>.com:msp/ansible/roles/msp.sshd.git msp.sshd awx 2625 0.0 0.0 48216 6296 pts/0 S+ 22:33 0:00 | | \_ /usr/bin/ssh git@git.<redacted>.com git-upload-pack 'msp/ansible/roles/msp.sshd.git' awx 930 0.0 1.7 694040 145176 ? Sl 21:11 0:04 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 1008 0.0 1.8 762644 149716 ? Sl 21:12 0:05 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_dispatcher awx 137 0.0 1.5 605312 125328 ? Sl Feb13 0:14 \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 154 0.1 1.5 389792 125400 ? Sl Feb13 2:30 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 155 0.1 1.5 389512 125264 ? Sl Feb13 2:29 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 156 0.1 1.5 390112 125148 ? Sl Feb13 2:29 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 157 0.1 1.5 389592 125316 ? Sl Feb13 2:30 | \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage run_callback_receiver awx 138 0.0 1.6 320288 132104 ? S Feb13 0:23 \_ /var/lib/awx/venv/awx/bin/python3 /usr/bin/awx-manage runworker --only-channels websocket.* ``` ansible.cfg ``` [defaults] host_key_checking = False timeout = 30 remote_tmp = ~/.ansible/tmp remote_user = root interpreter_python = auto_silent roles_path = ./roles strategy = linear [ssh_connection] pipelining = yes ``` config-file",no-bug,0.9
10350,awx,https://github.com/ansible/awx/issues/10350,Request loop trying to add users to a team,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY This may be introduced by https://github.com/ansible/awx/commit/fef24355abd445312b4c939ea257bad8906540ff ##### STEPS TO REPRODUCE 1- Create a team 2- Go to Access tab for this team and try to add a user https://user-images.githubusercontent.com/12464858/120703102-4316d480-c48b-11eb-8448-7e135a22a84d.mp4",other-file,"Request loop trying to add users to a team <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY This may be introduced by https://github.com/ansible/awx/commit/fef24355abd445312b4c939ea257bad8906540ff ##### STEPS TO REPRODUCE 1- Create a team 2- Go to Access tab for this team and try to add a user https://user-images.githubusercontent.com/12464858/120703102-4316d480-c48b-11eb-8448-7e135a22a84d.mp4 other-file",no-bug,0.8
5888,awx,https://github.com/ansible/awx/issues/5888,Project Schedules Related Tab,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""1680"" alt=""Screen Shot 2020-02-11 at 10 52 05 AM"" src=""https://user-images.githubusercontent.com/9889020/74253057-91afc680-4cbc-11ea-88a3-8045e0fc65ac.png""> We'll need to support a few different things here: 1) The schedule list itself (should be able to re-use #4959 with a different endpoint) 2) Add schedule form (should be able to re-use #5864 with a different endpoint) 3) Edit schedule form (should be able to re-use #5865 with a different endpoint) 4) Schedule details view (should be able to re-use #5859 with a different endpoint) Going to mark this as blocked until #4959, #5859, #5864, and #5865 are done.",source-file,"Project Schedules Related Tab ##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""1680"" alt=""Screen Shot 2020-02-11 at 10 52 05 AM"" src=""https://user-images.githubusercontent.com/9889020/74253057-91afc680-4cbc-11ea-88a3-8045e0fc65ac.png""> We'll need to support a few different things here: 1) The schedule list itself (should be able to re-use #4959 with a different endpoint) 2) Add schedule form (should be able to re-use #5864 with a different endpoint) 3) Edit schedule form (should be able to re-use #5865 with a different endpoint) 4) Schedule details view (should be able to re-use #5859 with a different endpoint) Going to mark this as blocked until #4959, #5859, #5864, and #5865 are done. source-file",no-bug,0.9
9640,awx,https://github.com/ansible/awx/issues/9640,Workflow job output page 404,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to launch a workflow job: ![image](https://user-images.githubusercontent.com/12464858/111839590-c9366c80-88d9-11eb-9519-73c5666bfbb1.png) ##### STEPS TO REPRODUCE 1. Create a JT 2. Create a Workflow using this JT 3. Launch the Workflow ##### EXPECTED RESULTS Job output page properly rendered ##### ACTUAL RESULTS 404 Stopped working on https://github.com/ansible/awx/commit/6495779e40027d6cc1eaa0b11d0a744f1fe94d4e",other-file,"Workflow job output page 404 <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to launch a workflow job: ![image](https://user-images.githubusercontent.com/12464858/111839590-c9366c80-88d9-11eb-9519-73c5666bfbb1.png) ##### STEPS TO REPRODUCE 1. Create a JT 2. Create a Workflow using this JT 3. Launch the Workflow ##### EXPECTED RESULTS Job output page properly rendered ##### ACTUAL RESULTS 404 Stopped working on https://github.com/ansible/awx/commit/6495779e40027d6cc1eaa0b11d0a744f1fe94d4e other-file",no-bug,0.8
4567,awx,https://github.com/ansible/awx/issues/4567,"CLI: human output with filter throws error for keys that have complex values (dictionaries, lists)","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> These two endpoints serve up slightly different information and both have trouble with passing a filter for the human output. Might consider if we can support it at all (I would be fine if we want to prevent it from these two endpoints until https://github.com/ansible/awx/issues/4566 is handled.) ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ``` awx settings list -f human --filter ""AD_HOC_COMMANDS"" 'list' object has no attribute 'ljust' ``` also same error: ``` awx metrics -f human --filter 'awx_system_info' 'PseudoNamespace' has no attribute 'ljust' ``` same error: ``` awx projects list -f human --filter 'summary_fields' 'PseudoNamespace' has no attribute 'ljust' ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Something that is a little bit more human readable (nice whitespace or something) ``` $ awx metrics -f jq --filter '.awx_system_info' {""labels"": {""ansible_version"": ""2.9.0.dev0"", ""external_logger_enabled"": ""False"", ""external_logger_type"": ""None"", ""insights_analytics"": ""False"", ""install_uuid"": ""65061383-1f89-4ecd-b87c-b0dfe6d779d3"", ""license_expiry"": ""0"", ""license_type"": ""open"", ""pendo_tracking"": ""off"", ""tower_url_base"": ""https://towerhost"", ""tower_version"": ""6.1.0-284-g045578ce2""}, ""value"": 1} $ awx settings list -f jq --filter "".AD_HOC_COMMANDS"" [""command"", ""shell"", ""yum"", ""apt"", ""apt_key"", ""apt_repository"", ""apt_rpm"", ""service"", ""group"", ""user"", ""mount"", ""ping"", ""selinux"", ""setup"", ""win_ping"", ""win_service"", ""win_updates"", ""win_group"", ""win_user""] ````",source-file | source-file,"CLI: human output with filter throws error for keys that have complex values (dictionaries, lists) ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> These two endpoints serve up slightly different information and both have trouble with passing a filter for the human output. Might consider if we can support it at all (I would be fine if we want to prevent it from these two endpoints until https://github.com/ansible/awx/issues/4566 is handled.) ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ``` awx settings list -f human --filter ""AD_HOC_COMMANDS"" 'list' object has no attribute 'ljust' ``` also same error: ``` awx metrics -f human --filter 'awx_system_info' 'PseudoNamespace' has no attribute 'ljust' ``` same error: ``` awx projects list -f human --filter 'summary_fields' 'PseudoNamespace' has no attribute 'ljust' ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Something that is a little bit more human readable (nice whitespace or something) ``` $ awx metrics -f jq --filter '.awx_system_info' {""labels"": {""ansible_version"": ""2.9.0.dev0"", ""external_logger_enabled"": ""False"", ""external_logger_type"": ""None"", ""insights_analytics"": ""False"", ""install_uuid"": ""65061383-1f89-4ecd-b87c-b0dfe6d779d3"", ""license_expiry"": ""0"", ""license_type"": ""open"", ""pendo_tracking"": ""off"", ""tower_url_base"": ""https://towerhost"", ""tower_version"": ""6.1.0-284-g045578ce2""}, ""value"": 1} $ awx settings list -f jq --filter "".AD_HOC_COMMANDS"" [""command"", ""shell"", ""yum"", ""apt"", ""apt_key"", ""apt_repository"", ""apt_rpm"", ""service"", ""group"", ""user"", ""mount"", ""ping"", ""selinux"", ""setup"", ""win_ping"", ""win_service"", ""win_updates"", ""win_group"", ""win_user""] ```` source-file source-file",no-bug,0.7
7451,awx,https://github.com/ansible/awx/issues/7451,Translation strings aren't loaded for production builds of ui_next,##### ISSUE TYPE - Bug Report ##### SUMMARY Translated strings are showing up as untranslated templates in production builds of ui_next ##### STEPS TO REPRODUCE - have dev environment running - run `make ui-devel-next` - visit `https://localhost:8043/next` and sign in ##### EXPECTED RESULTS - translated strings show expected value ##### ACTUAL RESULTS - translated strings appear as untranslated templates ##### ADDITIONAL INFORMATION ![Screenshot from 2020-06-26 13-13-33](https://user-images.githubusercontent.com/9753817/85883380-e1e07e80-b7ae-11ea-90f7-6236b73cd3bf.png),other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Translation strings aren't loaded for production builds of ui_next ##### ISSUE TYPE - Bug Report ##### SUMMARY Translated strings are showing up as untranslated templates in production builds of ui_next ##### STEPS TO REPRODUCE - have dev environment running - run `make ui-devel-next` - visit `https://localhost:8043/next` and sign in ##### EXPECTED RESULTS - translated strings show expected value ##### ACTUAL RESULTS - translated strings appear as untranslated templates ##### ADDITIONAL INFORMATION ![Screenshot from 2020-06-26 13-13-33](https://user-images.githubusercontent.com/9753817/85883380-e1e07e80-b7ae-11ea-90f7-6236b73cd3bf.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
11284,awx,https://github.com/ansible/awx/issues/11284,Limit of Job inside of a Workflow dont work 19.4.0,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary No limit is set in a workflow. Limits are set in the jobs inside of it the workflow. Job limitation does not apply. ### AWX version 19.4.0 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Set no limit in a workflow. Set limits in the jobs inside of it the workflow. ### Expected results Playbook should only apply on selected machines. ### Actual results Playbook get executed on all machines. ### Additional information _No response_,source-file | source-file | test-file | source-file,Limit of Job inside of a Workflow dont work 19.4.0 ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary No limit is set in a workflow. Limits are set in the jobs inside of it the workflow. Job limitation does not apply. ### AWX version 19.4.0 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Set no limit in a workflow. Set limits in the jobs inside of it the workflow. ### Expected results Playbook should only apply on selected machines. ### Actual results Playbook get executed on all machines. ### Additional information _No response_ source-file source-file test-file source-file,no-bug,0.8
9554,awx,https://github.com/ansible/awx/issues/9554,login page - bigger Single Sign-on icons in Next UI,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Please make the Single Sign-on/SAML/Azure AD icons bigger (much bigger!) in the Next UI. If enabled, other login options should take at least 50% of the Login form/screen. It is really hard to instruct users to click the smallest Login icon that is easily missed. ![image](https://user-images.githubusercontent.com/17492066/110771357-b1684400-825a-11eb-8d4d-fe222823dacb.png)",other-file | source-file,"login page - bigger Single Sign-on icons in Next UI ##### ISSUE TYPE - Feature Idea ##### SUMMARY Please make the Single Sign-on/SAML/Azure AD icons bigger (much bigger!) in the Next UI. If enabled, other login options should take at least 50% of the Login form/screen. It is really hard to instruct users to click the smallest Login icon that is easily missed. ![image](https://user-images.githubusercontent.com/17492066/110771357-b1684400-825a-11eb-8d4d-fe222823dacb.png) other-file source-file",no-bug,0.95
4429,awx,https://github.com/ansible/awx/issues/4429,ui_next dependency updates,"##### SUMMARY - update pf libs to latest - remove all security warnings* `*` The last time I checked, this means updating `axios` which in turn breaks some of our unit tests. Part of the work here will involve investigating this and making the necessary fixes to get the tests green after updating.",source-file | test-file,"ui_next dependency updates ##### SUMMARY - update pf libs to latest - remove all security warnings* `*` The last time I checked, this means updating `axios` which in turn breaks some of our unit tests. Part of the work here will involve investigating this and making the necessary fixes to get the tests green after updating. source-file test-file",no-bug,0.8
5110,awx,https://github.com/ansible/awx/issues/5110,"JOB TAGS and SKIP TAGS not being honored via ""prompt on launch""","##### ISSUE TYPE - Bug Report ##### SUMMARY User entered values for SKIP TAGS and JOB TAGS are not honored. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: RHEL 7.6 * Web Browser: Chrome Version 78.0.3904.70 (Official Build) (64-bit) ##### STEPS TO REPRODUCE Configure a template to have null or populated values in JOB TAGS and SKIP TAGS and activate ""prompt on launch"" for those 2 fields. ![tags_null](https://user-images.githubusercontent.com/56000662/67570164-bb89b100-f6fe-11e9-8cd9-bc0b31d44edf.png) On launch, enter the tags one might want to run/skip ![tags_tagged](https://user-images.githubusercontent.com/56000662/67570267-eecc4000-f6fe-11e9-9671-c37445f0c425.png) Click next to get to the job preview. The preview shows no tags have been assigned to the job though they were in fact entered. On launch of the job, the requested tags will not be honored. ![tags_nothonored](https://user-images.githubusercontent.com/56000662/67570508-934e8200-f6ff-11e9-9d57-3af0801cd660.png) NOTE: If the template is saved WITH values, and prompt on launch is selected. You may REMOVE those predefined values with no issue. Any new values entered during ""prompt to launch"" will still go unrecognized. ##### EXPECTED RESULTS JOB TAGS and SKIP TAGS values are assigned via ""prompt on launch"" and honored in job execution ![tags_honored](https://user-images.githubusercontent.com/56000662/67570589-cbee5b80-f6ff-11e9-9eb9-d8f34d52e7df.png) ##### ACTUAL RESULTS Jobs run without honoring the tags entered by the user. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"JOB TAGS and SKIP TAGS not being honored via ""prompt on launch"" ##### ISSUE TYPE - Bug Report ##### SUMMARY User entered values for SKIP TAGS and JOB TAGS are not honored. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: RHEL 7.6 * Web Browser: Chrome Version 78.0.3904.70 (Official Build) (64-bit) ##### STEPS TO REPRODUCE Configure a template to have null or populated values in JOB TAGS and SKIP TAGS and activate ""prompt on launch"" for those 2 fields. ![tags_null](https://user-images.githubusercontent.com/56000662/67570164-bb89b100-f6fe-11e9-8cd9-bc0b31d44edf.png) On launch, enter the tags one might want to run/skip ![tags_tagged](https://user-images.githubusercontent.com/56000662/67570267-eecc4000-f6fe-11e9-9671-c37445f0c425.png) Click next to get to the job preview. The preview shows no tags have been assigned to the job though they were in fact entered. On launch of the job, the requested tags will not be honored. ![tags_nothonored](https://user-images.githubusercontent.com/56000662/67570508-934e8200-f6ff-11e9-9d57-3af0801cd660.png) NOTE: If the template is saved WITH values, and prompt on launch is selected. You may REMOVE those predefined values with no issue. Any new values entered during ""prompt to launch"" will still go unrecognized. ##### EXPECTED RESULTS JOB TAGS and SKIP TAGS values are assigned via ""prompt on launch"" and honored in job execution ![tags_honored](https://user-images.githubusercontent.com/56000662/67570589-cbee5b80-f6ff-11e9-9eb9-d8f34d52e7df.png) ##### ACTUAL RESULTS Jobs run without honoring the tags entered by the user. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",bug,0.9
7016,awx,https://github.com/ansible/awx/issues/7016,JT Launch prompts: Error feedback in Preview Step,"Follow-up for #5909 ##### ISSUE TYPE - Feature Idea ##### SUMMARY After reaching the final step of JT Launch prompts (the preview step), the other steps validate their form data and show errors in the navigation menu on the left. HOWEVER, there is no explicit feedback to the user that there are errors. At the top of the Preview Step, above the details, some sort of error message should appear indicating that errors need to be addressed before the job can launch. Some of this is currently stubbed in, but it needs to be styled appropriately, and the errors need to be passed into the PreviewStep component (either all error messages or simply a boolean indicating that errors are present). Additionally, the Launch button should probably be disabled until errors are addressed.",other-file | test-file | other-file | other-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | source-file,"JT Launch prompts: Error feedback in Preview Step Follow-up for #5909 ##### ISSUE TYPE - Feature Idea ##### SUMMARY After reaching the final step of JT Launch prompts (the preview step), the other steps validate their form data and show errors in the navigation menu on the left. HOWEVER, there is no explicit feedback to the user that there are errors. At the top of the Preview Step, above the details, some sort of error message should appear indicating that errors need to be addressed before the job can launch. Some of this is currently stubbed in, but it needs to be styled appropriately, and the errors need to be passed into the PreviewStep component (either all error messages or simply a boolean indicating that errors are present). Additionally, the Launch button should probably be disabled until errors are addressed. other-file test-file other-file other-file other-file other-file source-file other-file test-file other-file other-file other-file other-file source-file other-file test-file other-file other-file other-file other-file source-file other-file test-file other-file other-file other-file other-file source-file other-file test-file other-file other-file other-file other-file source-file other-file test-file other-file other-file other-file other-file source-file",no-bug,0.9
6492,awx,https://github.com/ansible/awx/issues/6492,ISSUE: Call to /api/v2/job_templates/12/launch failed. POST returned status: 504.,"<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Job Template Run - POST returned status: 504 ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: How to know the version? This is a newly installed AWX as well * AWX install method: docker on Linux * Ansible version: 2.9.6 * Operating System: CentOS 7 * Web Browser: Firefox ##### STEPS TO REPRODUCE The issue will be reproduced when Launching the Job Template <!-- For new features, show how the feature would be used. For bugs, please show exactly how to reproduce the problem. Ideally, provide all steps and data needed to recreate the bug from a new awx install. --> ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS - Call to /api/v2/job_templates/12/launch failed. POST returned status: 504. <!-- For bug reports, what actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> GUYS, PLEASE HELP ME WITH THIS ISSUE. :( Let me know if you need more info.",source-file | test-file,"ISSUE: Call to /api/v2/job_templates/12/launch failed. POST returned status: 504. <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Job Template Run - POST returned status: 504 ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: How to know the version? This is a newly installed AWX as well * AWX install method: docker on Linux * Ansible version: 2.9.6 * Operating System: CentOS 7 * Web Browser: Firefox ##### STEPS TO REPRODUCE The issue will be reproduced when Launching the Job Template <!-- For new features, show how the feature would be used. For bugs, please show exactly how to reproduce the problem. Ideally, provide all steps and data needed to recreate the bug from a new awx install. --> ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS - Call to /api/v2/job_templates/12/launch failed. POST returned status: 504. <!-- For bug reports, what actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> GUYS, PLEASE HELP ME WITH THIS ISSUE. :( Let me know if you need more info. source-file test-file",bug,0.8
12132,awx,https://github.com/ansible/awx/issues/12132,Expose `controller_node` field in inventory update details,"##### ISSUE TYPE - Feature Idea ##### SUMMARY `controller_node` will be added to the api response here: https://github.com/ansible/awx/issues/11196 When displaying the details of an inventory update, we should expose this attribute",source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file,"Expose `controller_node` field in inventory update details ##### ISSUE TYPE - Feature Idea ##### SUMMARY `controller_node` will be added to the api response here: https://github.com/ansible/awx/issues/11196 When displaying the details of an inventory update, we should expose this attribute source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file",no-bug,0.9
10786,awx,https://github.com/ansible/awx/issues/10786,Add job id as part of the job details screen,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Add job id as part of the job details screen. <img width=""1505"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/127536060-26cf5324-69c6-4373-bad4-878d52d89b32.png""> >a little bit of feedback: it would be very useful to see the job id on the job details / project updates details pages. and other things that have an id.",source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file,"Add job id as part of the job details screen ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add job id as part of the job details screen. <img width=""1505"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/127536060-26cf5324-69c6-4373-bad4-878d52d89b32.png""> >a little bit of feedback: it would be very useful to see the job id on the job details / project updates details pages. and other things that have an id. source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
8620,awx,https://github.com/ansible/awx/issues/8620,Hide instance groups when not available on Inventory details,##### ISSUE TYPE - Feature Idea ##### SUMMARY Hide instance groups when not available on Inventory details . ![image](https://user-images.githubusercontent.com/9053044/99556934-1fc58580-2990-11eb-8702-4f554aa24fde.png),other-file | other-file | other-file | other-file | test-file | other-file | test-file,Hide instance groups when not available on Inventory details ##### ISSUE TYPE - Feature Idea ##### SUMMARY Hide instance groups when not available on Inventory details . ![image](https://user-images.githubusercontent.com/9053044/99556934-1fc58580-2990-11eb-8702-4f554aa24fde.png) other-file other-file other-file other-file test-file other-file test-file,no-bug,0.9
4721,awx,https://github.com/ansible/awx/issues/4721,"[CLI] when tower is upgrading/returning /migrations_notran/ , CLI throws error with bad info","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> If tower is actively upgrading (or busted as it sometimes gets in development environment), running `awx -h` will return a hard to interpret error that does not really help you. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> When tower is in the state that you get the ""upgrading screen"" instead of normal response, e.g. when normal request ends up redirecting you to `/migrations_notran/` and you see: `172.18.0.1 GET /migrations_notran/ - HTTP/1.1 200` in the logs, running the following gets weird error: ``` awx -h 'Base' object has no attribute 'available_versions' ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Help text, perhaps some message saying server is not responding normally ##### ACTUAL RESULTS <!-- What actually happened? --> Error message ##### Additional information I think this is an underlying awxkit problem, I've seen this before using just plain awxkit",source-file | source-file,"[CLI] when tower is upgrading/returning /migrations_notran/ , CLI throws error with bad info ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> If tower is actively upgrading (or busted as it sometimes gets in development environment), running `awx -h` will return a hard to interpret error that does not really help you. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> When tower is in the state that you get the ""upgrading screen"" instead of normal response, e.g. when normal request ends up redirecting you to `/migrations_notran/` and you see: `172.18.0.1 GET /migrations_notran/ - HTTP/1.1 200` in the logs, running the following gets weird error: ``` awx -h 'Base' object has no attribute 'available_versions' ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Help text, perhaps some message saying server is not responding normally ##### ACTUAL RESULTS <!-- What actually happened? --> Error message ##### Additional information I think this is an underlying awxkit problem, I've seen this before using just plain awxkit source-file source-file",no-bug,0.8
9296,awx,https://github.com/ansible/awx/issues/9296,What year is it ?!,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Update year version ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 20.04 * Web Browser: Firefox ##### STEPS TO REPRODUCE Info --> About ##### EXPECTED RESULTS Change from 2019 to 2021 ##### ACTUAL RESULTS 2019 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | other-file,"What year is it ?! <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Update year version ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 20.04 * Web Browser: Firefox ##### STEPS TO REPRODUCE Info --> About ##### EXPECTED RESULTS Change from 2019 to 2021 ##### ACTUAL RESULTS 2019 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file other-file",no-bug,0.9
4934,awx,https://github.com/ansible/awx/issues/4934,"""tower"" instances die","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Count for ""tower"" instance_group shrinks from 3 to 1. Jobs start failing. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: kubernetes * Ansible version: 2.8.4 * Operating System: CentOS 7 * Web Browser: Firefox 69.0.1 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Have 3 node k8s cluster installed using Kubespray v2.11.0 (kubectl version v1.15.3). Increase ""tower"" instance_group to have 3 members. Within a few days jobs will start hanging (Pending) and eventually failing with error: Task was marked as running in Tower but was not present in the job queue, so it has been marked as failed. Per k8s awx-0, awx-1, awx-2 all ok. But awx cluster in weird state where ""tower"" instance_group suddenly only has one member (awx-0). Maybe the failing jobs are being scheduled for failed awx-1 and awx-2. Deleting pods awx-1 and awx-2 in k8s causes them to be recreated and then everything works fine but only for a few days. I'm monitoring and know the exact time the issue happens, and do see the following rabbit error at the same time: # kubectl logs -n awx awx-1 awx-rabbit | grep -i crash 2019-10-07 19:11:45.209 [error] <0.390.0> CRASH REPORT Process rabbit_node_monitor with 0 neighbours crashed with reason: no function clause matching rabbit_autoheal. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ""tower"" instance_group count to stay the same. jobs don't hang and fail. ##### ACTUAL RESULTS <!-- What actually happened? --> Count of ""tower"" instance_group shrinks and jobs fail until delete pods awx-1 and awx-2. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file,"""tower"" instances die ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Count for ""tower"" instance_group shrinks from 3 to 1. Jobs start failing. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: kubernetes * Ansible version: 2.8.4 * Operating System: CentOS 7 * Web Browser: Firefox 69.0.1 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Have 3 node k8s cluster installed using Kubespray v2.11.0 (kubectl version v1.15.3). Increase ""tower"" instance_group to have 3 members. Within a few days jobs will start hanging (Pending) and eventually failing with error: Task was marked as running in Tower but was not present in the job queue, so it has been marked as failed. Per k8s awx-0, awx-1, awx-2 all ok. But awx cluster in weird state where ""tower"" instance_group suddenly only has one member (awx-0). Maybe the failing jobs are being scheduled for failed awx-1 and awx-2. Deleting pods awx-1 and awx-2 in k8s causes them to be recreated and then everything works fine but only for a few days. I'm monitoring and know the exact time the issue happens, and do see the following rabbit error at the same time: # kubectl logs -n awx awx-1 awx-rabbit | grep -i crash 2019-10-07 19:11:45.209 [error] <0.390.0> CRASH REPORT Process rabbit_node_monitor with 0 neighbours crashed with reason: no function clause matching rabbit_autoheal. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ""tower"" instance_group count to stay the same. jobs don't hang and fail. ##### ACTUAL RESULTS <!-- What actually happened? --> Count of ""tower"" instance_group shrinks and jobs fail until delete pods awx-1 and awx-2. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file",no-bug,0.9
6971,awx,https://github.com/ansible/awx/issues/6971,Raising warnings when deleting Workflow Job template using Details page,"##### ISSUE TYPE - Bug Report ##### SUMMARY Deletion of `Workflow Job Template` or `Job Template` in details page is raising the following warning: ```text react_devtools_backend.js:6 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function. in WorkflowJobTemplateDetail (created by I18n) in I18n (created by WithI18n) in WithI18n (created by WorkflowJobTemplate) in Route (created by WorkflowJobTemplate) in Switch (created by WorkflowJobTemplate) in article (created by Card) in Card (created by WorkflowJobTemplate) in section (created by PageSection) in PageSection (created by WorkflowJobTemplate) in WorkflowJobTemplate (created by Context.Consumer) in withRouter(WorkflowJobTemplate) (created by I18n) in I18n (created by WithI18n) in WithI18n (created by Context.Consumer) ``` ##### STEPS TO REPRODUCE Go to `Workflow Job Template` and delete a template. Look the console logs. ##### EXPECTED RESULTS No warnings to be raised. Possible solution: https://github.com/ansible/awx/blob/602f2951b9fcecc668ee6d9d009b33eb9412dff1/awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx#L72 ~~Replace the usage of the function above to helper function `useDeleteItems`.~~ This solution was not the ideal fit, since `useDeleteItems` should be used for `paginated` items. Also applicable for Job Templates.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Raising warnings when deleting Workflow Job template using Details page ##### ISSUE TYPE - Bug Report ##### SUMMARY Deletion of `Workflow Job Template` or `Job Template` in details page is raising the following warning: ```text react_devtools_backend.js:6 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function. in WorkflowJobTemplateDetail (created by I18n) in I18n (created by WithI18n) in WithI18n (created by WorkflowJobTemplate) in Route (created by WorkflowJobTemplate) in Switch (created by WorkflowJobTemplate) in article (created by Card) in Card (created by WorkflowJobTemplate) in section (created by PageSection) in PageSection (created by WorkflowJobTemplate) in WorkflowJobTemplate (created by Context.Consumer) in withRouter(WorkflowJobTemplate) (created by I18n) in I18n (created by WithI18n) in WithI18n (created by Context.Consumer) ``` ##### STEPS TO REPRODUCE Go to `Workflow Job Template` and delete a template. Look the console logs. ##### EXPECTED RESULTS No warnings to be raised. Possible solution: https://github.com/ansible/awx/blob/602f2951b9fcecc668ee6d9d009b33eb9412dff1/awx/ui_next/src/screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx#L72 ~~Replace the usage of the function above to helper function `useDeleteItems`.~~ This solution was not the ideal fit, since `useDeleteItems` should be used for `paginated` items. Also applicable for Job Templates. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
7191,awx,https://github.com/ansible/awx/issues/7191,Invalid HTTP request when Conjur credential secret has a space in the name,##### ISSUE TYPE - Bug Report ##### SUMMARY Invalid HTTP request when Conjur credential secret has a space in the name ##### STEPS TO REPRODUCE Create a conjur credential containing a space. When retrieving the credential a 404 is returned from conjur. The reason for this is because the conjur credential plugin url encodes the secretID with a `+` however conjur is expecting a `%20`. ##### EXPECTED RESULTS To get back the credential content. ##### ACTUAL RESULTS AWX fails to retrieve the credential and a 404 is returned. ##### ADDITIONAL INFORMATION,source-file | source-file | documentation-file,Invalid HTTP request when Conjur credential secret has a space in the name ##### ISSUE TYPE - Bug Report ##### SUMMARY Invalid HTTP request when Conjur credential secret has a space in the name ##### STEPS TO REPRODUCE Create a conjur credential containing a space. When retrieving the credential a 404 is returned from conjur. The reason for this is because the conjur credential plugin url encodes the secretID with a `+` however conjur is expecting a `%20`. ##### EXPECTED RESULTS To get back the credential content. ##### ACTUAL RESULTS AWX fails to retrieve the credential and a 404 is returned. ##### ADDITIONAL INFORMATION source-file source-file documentation-file,bug,0.9
10355,awx,https://github.com/ansible/awx/issues/10355,Wrong text in Missing Resource tooltip for Job Details/Jobs List,##### ISSUE TYPE - Bug Report ##### SUMMARY ##### ENVIRONMENT * AWX version: 19.1 * AWX install method: docker for mac * Operating System:Mojave * Web Browser:Chrome ##### STEPS TO REPRODUCE Create a job template the uses an execution environment. Run job. delete execution environment ##### EXPECTED RESULTS See below. The `Missing resource` text appears but with the correct tooltip ##### ACTUAL RESULTS ##### ADDITIONAL INFORMATION ![image (1)](https://user-images.githubusercontent.com/39280967/120804756-05f62500-c513-11eb-96a1-b79a1166c634.png),other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file,Wrong text in Missing Resource tooltip for Job Details/Jobs List ##### ISSUE TYPE - Bug Report ##### SUMMARY ##### ENVIRONMENT * AWX version: 19.1 * AWX install method: docker for mac * Operating System:Mojave * Web Browser:Chrome ##### STEPS TO REPRODUCE Create a job template the uses an execution environment. Run job. delete execution environment ##### EXPECTED RESULTS See below. The `Missing resource` text appears but with the correct tooltip ##### ACTUAL RESULTS ##### ADDITIONAL INFORMATION ![image (1)](https://user-images.githubusercontent.com/39280967/120804756-05f62500-c513-11eb-96a1-b79a1166c634.png) other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file,no-bug,0.9
5819,awx,https://github.com/ansible/awx/issues/5819,Support Prompt on Launch for Workflow Job Template,"##### ISSUE TYPE Some fields in the Workflow Job Template Form need to support Prompt on Launch functionality. See mock up below. https://tower-mockups.testing.ansible.com/patternfly/templates/templates-workflows-add/ ##### SUMMARY Current ui supports Prompt on Launch for SCM Branch, Inventory, Variables, and Limit related to #4967",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file,"Support Prompt on Launch for Workflow Job Template ##### ISSUE TYPE Some fields in the Workflow Job Template Form need to support Prompt on Launch functionality. See mock up below. https://tower-mockups.testing.ansible.com/patternfly/templates/templates-workflows-add/ ##### SUMMARY Current ui supports Prompt on Launch for SCM Branch, Inventory, Variables, and Limit related to #4967 other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file",no-bug,0.9
10831,awx,https://github.com/ansible/awx/issues/10831,Inventory Source Project being validated when not necessary,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary _No response_ ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to `https://localhost:3001/#/inventories/inventory/1/sources/add` 2. Select a project 3. Validation is being displayed. When the project is a valid one. Note: This just happens on the first time the project is selected. Selecting another project will clear the validation error. <img width=""1493"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/128560340-cddfd809-31b7-4491-9740-06f8c5a801f4.png""> ### Expected results No error being displayed for valid projects. ### Actual results Error being displayed for valid projects. ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Inventory Source Project being validated when not necessary ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary _No response_ ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to `https://localhost:3001/#/inventories/inventory/1/sources/add` 2. Select a project 3. Validation is being displayed. When the project is a valid one. Note: This just happens on the first time the project is selected. Selecting another project will clear the validation error. <img width=""1493"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/128560340-cddfd809-31b7-4491-9740-06f8c5a801f4.png""> ### Expected results No error being displayed for valid projects. ### Actual results Error being displayed for valid projects. ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
10694,awx,https://github.com/ansible/awx/issues/10694,Consider capacity for controller_node selection,"edited by cmeyers: Today, we randomly choose an online controller node https://github.com/ansible/awx/blob/b5fac4157df2f8c949361a7ca26452f47fc3baf5/awx/main/models/ha.py#L155 We should do ""something better"" (see comments below for ideas)",source-file | source-file | source-file | source-file,"Consider capacity for controller_node selection edited by cmeyers: Today, we randomly choose an online controller node https://github.com/ansible/awx/blob/b5fac4157df2f8c949361a7ca26452f47fc3baf5/awx/main/models/ha.py#L155 We should do ""something better"" (see comments below for ideas) source-file source-file source-file source-file",no-bug,0.8
4518,awx,https://github.com/ansible/awx/issues/4518,Ansible Tower installation is getting failed(offline through package),"Hi Experts, I am trying to install Ansible tower 3.2.0 version in my Redhat machine 7.2 and getting following error. I already installed ansible version 2.8 . But tower installation is getting failed. ``` failed: [localhost] (item=[u'python-psycopg2', u'python-setuptools', u'libselinux-python', u'setools-libs', u'yum-utils', u'sudo', u'acl']) => {""ansible_loop_var"": ""item"", ""changed"": false, ""item"": [""python-psycopg2"", ""python-setuptools"", ""libselinux-python"", ""setools-libs"", ""yum-utils"", ""sudo"", ""acl""], ""msg"": ""The Python 2 bindings for rpm are needed for this module. If you require Python 3 support use the `dnf` Ansible module instead.. The Python 2 yum module is needed for this module. If you require Python 3 support use the `dnf` Ansible module instead.""} PLAY RECAP ************************************************************************************************************************************************** localhost : ok=28 changed=3 unreachable=0 failed=1 skipped=113 rescued=0 ignored=2 [error] Oops! An error occured while running setup. [warn] /var/log/tower does not exist. Setup log saved to setup.log. ``` Also tried to explicity put the pyuthon2.7 entry in /etc/ansible/hosts file. but still it fails. please advise me here. ( In my server no internet connectivity and doing through offline package)",source-file,"Ansible Tower installation is getting failed(offline through package) Hi Experts, I am trying to install Ansible tower 3.2.0 version in my Redhat machine 7.2 and getting following error. I already installed ansible version 2.8 . But tower installation is getting failed. ``` failed: [localhost] (item=[u'python-psycopg2', u'python-setuptools', u'libselinux-python', u'setools-libs', u'yum-utils', u'sudo', u'acl']) => {""ansible_loop_var"": ""item"", ""changed"": false, ""item"": [""python-psycopg2"", ""python-setuptools"", ""libselinux-python"", ""setools-libs"", ""yum-utils"", ""sudo"", ""acl""], ""msg"": ""The Python 2 bindings for rpm are needed for this module. If you require Python 3 support use the `dnf` Ansible module instead.. The Python 2 yum module is needed for this module. If you require Python 3 support use the `dnf` Ansible module instead.""} PLAY RECAP ************************************************************************************************************************************************** localhost : ok=28 changed=3 unreachable=0 failed=1 skipped=113 rescued=0 ignored=2 [error] Oops! An error occured while running setup. [warn] /var/log/tower does not exist. Setup log saved to setup.log. ``` Also tried to explicity put the pyuthon2.7 entry in /etc/ansible/hosts file. but still it fails. please advise me here. ( In my server no internet connectivity and doing through offline package) source-file",no-bug,0.9
10363,awx,https://github.com/ansible/awx/issues/10363,Default Execution Environment not being update on settings page after EE deletion,##### ISSUE TYPE - Bug Report ##### SUMMARY Default Execution Environment not being update on settings page after EE deletion. ##### STEPS TO REPRODUCE 1. Create a new EE 2. Go to settings page - Set as Default Execution Environment 3. Delete the EE from the step 1. 4. Id of the EE remains on the settings page. ##### EXPECTED RESULTS Settings to be updated as per the EE deletion. ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/9053044/120859402-242f4580-c552-11eb-96ac-a20b87b20cd0.png) ![image](https://user-images.githubusercontent.com/9053044/120859429-2e514400-c552-11eb-9222-082c0d8e1745.png),other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | test-file,Default Execution Environment not being update on settings page after EE deletion ##### ISSUE TYPE - Bug Report ##### SUMMARY Default Execution Environment not being update on settings page after EE deletion. ##### STEPS TO REPRODUCE 1. Create a new EE 2. Go to settings page - Set as Default Execution Environment 3. Delete the EE from the step 1. 4. Id of the EE remains on the settings page. ##### EXPECTED RESULTS Settings to be updated as per the EE deletion. ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/9053044/120859402-242f4580-c552-11eb-96ac-a20b87b20cd0.png) ![image](https://user-images.githubusercontent.com/9053044/120859429-2e514400-c552-11eb-9222-082c0d8e1745.png) other-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file test-file,no-bug,0.8
10497,awx,https://github.com/ansible/awx/issues/10497,Update Execution Environment Lookup,##### ISSUE TYPE - Bug Report ##### SUMMARY Create new job template Select Execution Environment modal Change title from Select Execution Environments to Select Execution Environment ![Screen Shot 2021-06-23 at 11 32 51 AM](https://user-images.githubusercontent.com/39280967/123125805-d736e480-d416-11eb-9a6c-c70116f71c59.png),other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Update Execution Environment Lookup ##### ISSUE TYPE - Bug Report ##### SUMMARY Create new job template Select Execution Environment modal Change title from Select Execution Environments to Select Execution Environment ![Screen Shot 2021-06-23 at 11 32 51 AM](https://user-images.githubusercontent.com/39280967/123125805-d736e480-d416-11eb-9a6c-c70116f71c59.png) other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
11350,awx,https://github.com/ansible/awx/issues/11350,Instance group basic Name search missing __icontains,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When searching a list of instance groups the __icontains parameter is missing. This means that a user can do a basic search for a string contained within the name of an existing instance group, and the UI will return no results. ![image](https://user-images.githubusercontent.com/63685497/142051117-77ea7fad-6d6e-4d35-a830-66435ac89c29.png) ### AWX version 4.1 ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce To reproduce: 1. Create an instance group 2. Visit the list of instance groups and do a basic Name search for part of the name you gave the instance group. No results. ### Expected results If an instance group exists, searching for part of the name should bring up a result. ### Actual results The UI shows no results ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Instance group basic Name search missing __icontains ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When searching a list of instance groups the __icontains parameter is missing. This means that a user can do a basic search for a string contained within the name of an existing instance group, and the UI will return no results. ![image](https://user-images.githubusercontent.com/63685497/142051117-77ea7fad-6d6e-4d35-a830-66435ac89c29.png) ### AWX version 4.1 ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce To reproduce: 1. Create an instance group 2. Visit the list of instance groups and do a basic Name search for part of the name you gave the instance group. No results. ### Expected results If an instance group exists, searching for part of the name should bring up a result. ### Actual results The UI shows no results ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",bug,0.9
7767,awx,https://github.com/ansible/awx/issues/7767,Edit instance groups,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add feature to edit instance groups.,other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file,Edit instance groups ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add feature to edit instance groups. other-file test-file other-file other-file test-file other-file other-file test-file other-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file,no-bug,0.9
15252,awx,https://github.com/ansible/awx/issues/15252,awx.awx collection: support for 'Terraform State' inventory source,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary AWX [24.0.0](https://github.com/ansible/awx/releases/tag/24.0.0) introduced a terraform state inventory source. It would be great to create this inventory source with the 'awx.awx' ansible collection, which is currently not supported. It is the same with the 'Terraform backend configuration' credential type. ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [X] Collection - [ ] CLI - [ ] Other ### Steps to reproduce N/A ### Current results N/A ### Sugested feature result N/A ### Additional information _No response_",source-file,"awx.awx collection: support for 'Terraform State' inventory source ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary AWX [24.0.0](https://github.com/ansible/awx/releases/tag/24.0.0) introduced a terraform state inventory source. It would be great to create this inventory source with the 'awx.awx' ansible collection, which is currently not supported. It is the same with the 'Terraform backend configuration' credential type. ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [X] Collection - [ ] CLI - [ ] Other ### Steps to reproduce N/A ### Current results N/A ### Sugested feature result N/A ### Additional information _No response_ source-file",no-bug,0.9
8347,awx,https://github.com/ansible/awx/issues/8347,"collection module tower_inventory_source_update should have ""name"" instead of ""inventory_source""","<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Module that works on an entity should reference that entity by `name`. It feels more ansibly anyway.",source-file | test-file | source-file | test-file,"collection module tower_inventory_source_update should have ""name"" instead of ""inventory_source"" <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Module that works on an entity should reference that entity by `name`. It feels more ansibly anyway. source-file test-file source-file test-file",no-bug,0.9
9371,awx,https://github.com/ansible/awx/issues/9371,Project Update fails with no output,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: kubernetes * Ansible version: 2.9 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Launch a Job Template with a custom SCM branch. Have that SCM branch been recently updated via a `git commit --amend` and `git push --force`, therefore forcing a rebase or a `git pull --force` to take place. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The project should update properly and the job should run. ##### ACTUAL RESULTS <!-- What actually happened? --> No output in the Job screen: ![image](https://user-images.githubusercontent.com/2234516/108566967-4e2b6780-72d5-11eb-925a-08a0b30a6ee7.png) Some api information from `/api/v2/jobs/3340/` ``` ""job_explanation"": ""Previous Task Failed: {\""job_type\"": \""project_update\"", \""job_name\"": \""Shared Ansible Repo\"", \""job_id\"": \""3341\""}"", ""execution_node"": ""awx-job-3340"", ""controller_node"": ""awx-65b9694b58-7chbw"", ""result_traceback"": ""Traceback (most recent call last):\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 1385, in run\n self.pre_run_hook(self.instance, private_data_dir)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 1944, in pre_run_hook\n sync_task.run(local_project_sync.id)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 816, in _wrapped\n return f(self, *args, **kwargs)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 1557, in run\n raise AwxTaskError.TaskError(self.instance, rc)\nException: project_update 3341 (failed) encountered an error (rc=2), please see task stdout for details.\n"", ""event_processing_finished"": true, ""job_template"": 35, ``` And from `/api/v2/project_updates/3341/` ``` ""job_args"": ""[\""bwrap\"", \""--die-with-parent\"", \""--unshare-pid\"", \""--dev-bind\"", \""/\"", \""/\"", \""--proc\"", \""/proc\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpbmfhfdbr\"", \""/etc/ssh\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmp42e6stt5\"", \""/etc/tower\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpd4xxbyt8\"", \""/tmp\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmp3_5_lb44\"", \""/var/lib/awx\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpnmjdmsbw\"", \""/var/lib/awx/projects\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpipv_v9sd\"", \""/var/log\"", \""--ro-bind\"", \""/var/lib/awx/venv/ansible\"", \""/var/lib/awx/venv/ansible\"", \""--ro-bind\"", \""/var/lib/awx/venv/awx\"", \""/var/lib/awx/venv/awx\"", \""--bind\"", \""/tmp/awx_3341_7b88dg2g\"", \""/tmp/awx_3341_7b88dg2g\"", \""--bind\"", \""/var/lib/awx/projects\"", \""/var/lib/awx/projects\"", \""--chdir\"", \""/tmp/awx_3341_7b88dg2g/project\"", \""ssh-agent\"", \""sh\"", \""-c\"", \""ssh-add /tmp/awx_3341_7b88dg2g/artifacts/3341/ssh_key_data && rm -f /tmp/awx_3341_7b88dg2g/artifacts/3341/ssh_key_data && ansible-playbook -vvv -t update_git,install_roles,install_collections -i /tmp/awx_3341_7b88dg2g/inventory/hosts -e @/tmp/awx_3341_7b88dg2g/env/extravars project_update.yml\""]"", ""job_cwd"": ""/tmp/awx_3341_7b88dg2g/project"", ""job_explanation"": """", ""execution_node"": ""awx-65b9694b58-7chbw"", ""result_traceback"": """", ""event_processing_finished"": true, ``` There is no `stdout` to see. Here's the logs from `awx-task` from the AWX Pod: ``` 2021-02-19 22:07:24,985 ERROR awx.main.tasks job 3342 (running) Exception occurred while running task Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1385, in run self.pre_run_hook(self.instance, private_data_dir) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1944, in pre_run_hook sync_task.run(local_project_sync.id) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 816, in _wrapped return f(self, *args, **kwargs) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1557, in run raise AwxTaskError.TaskError(self.instance, rc) Exception: project_update 3343 (failed) encountered an error (rc=2), please see task stdout for details. ``` Not sure what's going on here, this is all the information I can find.",source-file,"Project Update fails with no output <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: kubernetes * Ansible version: 2.9 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Launch a Job Template with a custom SCM branch. Have that SCM branch been recently updated via a `git commit --amend` and `git push --force`, therefore forcing a rebase or a `git pull --force` to take place. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The project should update properly and the job should run. ##### ACTUAL RESULTS <!-- What actually happened? --> No output in the Job screen: ![image](https://user-images.githubusercontent.com/2234516/108566967-4e2b6780-72d5-11eb-925a-08a0b30a6ee7.png) Some api information from `/api/v2/jobs/3340/` ``` ""job_explanation"": ""Previous Task Failed: {\""job_type\"": \""project_update\"", \""job_name\"": \""Shared Ansible Repo\"", \""job_id\"": \""3341\""}"", ""execution_node"": ""awx-job-3340"", ""controller_node"": ""awx-65b9694b58-7chbw"", ""result_traceback"": ""Traceback (most recent call last):\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 1385, in run\n self.pre_run_hook(self.instance, private_data_dir)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 1944, in pre_run_hook\n sync_task.run(local_project_sync.id)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 816, in _wrapped\n return f(self, *args, **kwargs)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py\"", line 1557, in run\n raise AwxTaskError.TaskError(self.instance, rc)\nException: project_update 3341 (failed) encountered an error (rc=2), please see task stdout for details.\n"", ""event_processing_finished"": true, ""job_template"": 35, ``` And from `/api/v2/project_updates/3341/` ``` ""job_args"": ""[\""bwrap\"", \""--die-with-parent\"", \""--unshare-pid\"", \""--dev-bind\"", \""/\"", \""/\"", \""--proc\"", \""/proc\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpbmfhfdbr\"", \""/etc/ssh\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmp42e6stt5\"", \""/etc/tower\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpd4xxbyt8\"", \""/tmp\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmp3_5_lb44\"", \""/var/lib/awx\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpnmjdmsbw\"", \""/var/lib/awx/projects\"", \""--bind\"", \""/tmp/ansible_runner_pi_utw897xe/ansible_runner_pi_ynztsn__/tmpipv_v9sd\"", \""/var/log\"", \""--ro-bind\"", \""/var/lib/awx/venv/ansible\"", \""/var/lib/awx/venv/ansible\"", \""--ro-bind\"", \""/var/lib/awx/venv/awx\"", \""/var/lib/awx/venv/awx\"", \""--bind\"", \""/tmp/awx_3341_7b88dg2g\"", \""/tmp/awx_3341_7b88dg2g\"", \""--bind\"", \""/var/lib/awx/projects\"", \""/var/lib/awx/projects\"", \""--chdir\"", \""/tmp/awx_3341_7b88dg2g/project\"", \""ssh-agent\"", \""sh\"", \""-c\"", \""ssh-add /tmp/awx_3341_7b88dg2g/artifacts/3341/ssh_key_data && rm -f /tmp/awx_3341_7b88dg2g/artifacts/3341/ssh_key_data && ansible-playbook -vvv -t update_git,install_roles,install_collections -i /tmp/awx_3341_7b88dg2g/inventory/hosts -e @/tmp/awx_3341_7b88dg2g/env/extravars project_update.yml\""]"", ""job_cwd"": ""/tmp/awx_3341_7b88dg2g/project"", ""job_explanation"": """", ""execution_node"": ""awx-65b9694b58-7chbw"", ""result_traceback"": """", ""event_processing_finished"": true, ``` There is no `stdout` to see. Here's the logs from `awx-task` from the AWX Pod: ``` 2021-02-19 22:07:24,985 ERROR awx.main.tasks job 3342 (running) Exception occurred while running task Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1385, in run self.pre_run_hook(self.instance, private_data_dir) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1944, in pre_run_hook sync_task.run(local_project_sync.id) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 816, in _wrapped return f(self, *args, **kwargs) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1557, in run raise AwxTaskError.TaskError(self.instance, rc) Exception: project_update 3343 (failed) encountered an error (rc=2), please see task stdout for details. ``` Not sure what's going on here, this is all the information I can find. source-file",no-bug,0.9
6423,awx,https://github.com/ansible/awx/issues/6423,Simple search on SCM type does not work,"##### ISSUE TYPE - Bug Report ##### SUMMARY When searching in the Project list, one can use a search filter called ""Type"". This is an SCM type, which provides a second dropdown that can filter for Git, Mercurial, etc. This search does not return any results. Recreation steps: 1. Make a project. Don't sync it (unsure if this affects anything). Use Git. 2. Search filter on Git projects. One expects the project to appear in the list, but the list is empty. Before: ![Screenshot from 2020-03-25 14-31-38](https://user-images.githubusercontent.com/19942822/77572442-5bfa2200-6ea5-11ea-9c4b-8550aba4d39c.png) After: ![Screenshot from 2020-03-25 14-31-30](https://user-images.githubusercontent.com/19942822/77572456-61576c80-6ea5-11ea-8e50-a1f975b630d1.png)",source-file,"Simple search on SCM type does not work ##### ISSUE TYPE - Bug Report ##### SUMMARY When searching in the Project list, one can use a search filter called ""Type"". This is an SCM type, which provides a second dropdown that can filter for Git, Mercurial, etc. This search does not return any results. Recreation steps: 1. Make a project. Don't sync it (unsure if this affects anything). Use Git. 2. Search filter on Git projects. One expects the project to appear in the list, but the list is empty. Before: ![Screenshot from 2020-03-25 14-31-38](https://user-images.githubusercontent.com/19942822/77572442-5bfa2200-6ea5-11ea-9c4b-8550aba4d39c.png) After: ![Screenshot from 2020-03-25 14-31-30](https://user-images.githubusercontent.com/19942822/77572456-61576c80-6ea5-11ea-8e50-a1f975b630d1.png) source-file",no-bug,0.7
11413,awx,https://github.com/ansible/awx/issues/11413,Set a non-default value for Django's `SESSION_COOKIE_NAME`,"##### ISSUE TYPE - Feature Idea ##### SUMMARY See https://docs.djangoproject.com/en/3.2/ref/settings/#session-cookie-name > Default: 'sessionid' > The name of the cookie to use for sessions. This can be whatever you want (as long as its different from the other cookie names in your application). Originally attempted in https://github.com/ansible/awx/pull/11348 and then reverted in https://github.com/ansible/awx/pull/11412. The biggest problem that we have is that something is not persisting right between multiple runs of integration tests, probably related to the awxkit connection object. In addition to that, the current value of ""sessionid"" is hard-coded in many places by clients: https://github.com/ansible/awx/search?q=sessionid Those can be trivially updated, and would obviously need to be for merging this change. We also have clients in a few other places that would need to change. We would also need to very strongly broadcast and release-note this change, as it could break automation that users have built around some custom clients.",source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | documentation-file,"Set a non-default value for Django's `SESSION_COOKIE_NAME` ##### ISSUE TYPE - Feature Idea ##### SUMMARY See https://docs.djangoproject.com/en/3.2/ref/settings/#session-cookie-name > Default: 'sessionid' > The name of the cookie to use for sessions. This can be whatever you want (as long as its different from the other cookie names in your application). Originally attempted in https://github.com/ansible/awx/pull/11348 and then reverted in https://github.com/ansible/awx/pull/11412. The biggest problem that we have is that something is not persisting right between multiple runs of integration tests, probably related to the awxkit connection object. In addition to that, the current value of ""sessionid"" is hard-coded in many places by clients: https://github.com/ansible/awx/search?q=sessionid Those can be trivially updated, and would obviously need to be for merging this change. We also have clients in a few other places that would need to change. We would also need to very strongly broadcast and release-note this change, as it could break automation that users have built around some custom clients. source-file source-file source-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file documentation-file",no-bug,0.9
11130,awx,https://github.com/ansible/awx/issues/11130,Disable editing more fields of `controlplane` group,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Users are able to modify several fields of the `controlplane` instance group, which they probably shouldn't be allowed to edit (these edits will break things). ### AWX version 19.2.2 ### Installation method docker on linux ### Modifications no ### Ansible version devel ### Operating system N/A ### Web browser Chrome ### Steps to reproduce PATCH to `/api/v2/instance_groups/N/` where that record has the `name` of ""controlplane"" try giving all the fields (individually) a non-default value: ```json ""name"": ""controlplane"", ""is_container_group"": false, ""credential"": null, ""policy_instance_percentage"": 98, ""policy_instance_minimum"": 0, ""policy_instance_list"": [], ""pod_spec_override"": """" ``` ### Expected results Most of these should give a 400 error ### Actual results Only modifying `name` gives a 400 Out of the others, particularly problematic seeming ones are: - I can set `is_container_group` to true... that doesn't sound good - I can set `policy_instance_percentage` to a value lower than what was set by the installer, which is probably not desired (maybe arguable? but I doubt it) - I can add execution nodes to `policy_instance_list`, which is absolutely not okay ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file,"Disable editing more fields of `controlplane` group ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Users are able to modify several fields of the `controlplane` instance group, which they probably shouldn't be allowed to edit (these edits will break things). ### AWX version 19.2.2 ### Installation method docker on linux ### Modifications no ### Ansible version devel ### Operating system N/A ### Web browser Chrome ### Steps to reproduce PATCH to `/api/v2/instance_groups/N/` where that record has the `name` of ""controlplane"" try giving all the fields (individually) a non-default value: ```json ""name"": ""controlplane"", ""is_container_group"": false, ""credential"": null, ""policy_instance_percentage"": 98, ""policy_instance_minimum"": 0, ""policy_instance_list"": [], ""pod_spec_override"": """" ``` ### Expected results Most of these should give a 400 error ### Actual results Only modifying `name` gives a 400 Out of the others, particularly problematic seeming ones are: - I can set `is_container_group` to true... that doesn't sound good - I can set `policy_instance_percentage` to a value lower than what was set by the installer, which is probably not desired (maybe arguable? but I doubt it) - I can add execution nodes to `policy_instance_list`, which is absolutely not okay ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file test-file",bug,0.9
7930,awx,https://github.com/ansible/awx/issues/7930,List jobs related to a certain instance group,##### ISSUE TYPE - Feature Idea ##### SUMMARY List jobs related to a certain instance group. See: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-jobs/,other-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file,List jobs related to a certain instance group ##### ISSUE TYPE - Feature Idea ##### SUMMARY List jobs related to a certain instance group. See: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-jobs/ other-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file other-file other-file other-file other-file,no-bug,0.9
7557,awx,https://github.com/ansible/awx/issues/7557,List Instance Groups,ISSUE TYPE Feature Idea SUMMARY Add support for list Instance Groups,other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file,List Instance Groups ISSUE TYPE Feature Idea SUMMARY Add support for list Instance Groups other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file test-file,no-bug,0.9
10628,awx,https://github.com/ansible/awx/issues/10628,No Convergence Data in Workflow Node Info Modal,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary We need to include convergence data in a workflow node info modal ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Create a workflow node. Hover over the node and click on the `i` icon. ### Expected results See all the data about the node including the convergence data. ### Actual results No convergence data included ### Additional information ![Screen Shot 2021-07-12 at 3 33 43 PM](https://user-images.githubusercontent.com/39280967/125345467-94d23a80-e326-11eb-8f28-a9dd4f7d078b.png) ![Screen Shot 2021-07-12 at 3 33 38 PM](https://user-images.githubusercontent.com/39280967/125345473-96036780-e326-11eb-97cb-edf49d49402b.png),source-file | test-file | source-file | test-file,No Convergence Data in Workflow Node Info Modal ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary We need to include convergence data in a workflow node info modal ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Create a workflow node. Hover over the node and click on the `i` icon. ### Expected results See all the data about the node including the convergence data. ### Actual results No convergence data included ### Additional information ![Screen Shot 2021-07-12 at 3 33 43 PM](https://user-images.githubusercontent.com/39280967/125345467-94d23a80-e326-11eb-8f28-a9dd4f7d078b.png) ![Screen Shot 2021-07-12 at 3 33 38 PM](https://user-images.githubusercontent.com/39280967/125345473-96036780-e326-11eb-97cb-edf49d49402b.png) source-file test-file source-file test-file,no-bug,0.8
10144,awx,https://github.com/ansible/awx/issues/10144,Display error when modifying allow_override on projects,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Display error when modifying allow_override on projects being used by job templates. Previous implementation: <img width=""1346"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/117497831-fc46c500-af46-11eb-82bb-51bd22b3c15b.png""> Current implementation: <img width=""1792"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/117497949-2304fb80-af47-11eb-8ce9-091ec44b4875.png"">",source-file | source-file | source-file,"Display error when modifying allow_override on projects ##### ISSUE TYPE - Feature Idea ##### SUMMARY Display error when modifying allow_override on projects being used by job templates. Previous implementation: <img width=""1346"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/117497831-fc46c500-af46-11eb-82bb-51bd22b3c15b.png""> Current implementation: <img width=""1792"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/117497949-2304fb80-af47-11eb-8ce9-091ec44b4875.png""> source-file source-file source-file",no-bug,0.9
7506,awx,https://github.com/ansible/awx/issues/7506,YAML code editor evals the YAML,"##### SUMMARY The codemirror box ""evals"" the yaml references and expands the references. This is undesirable. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE ``` --- a: &aa [a,b,c] b: *aa ``` Create a job template with the above extra vars in the box. ##### EXPECTED RESULTS ![image](https://user-images.githubusercontent.com/722880/86271958-d53b9c00-bb9b-11ea-913a-d34c3f68a822.png) ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/722880/86272042-f3090100-bb9b-11ea-808b-140caf515eec.png)",other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | source-file,"YAML code editor evals the YAML ##### SUMMARY The codemirror box ""evals"" the yaml references and expands the references. This is undesirable. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE ``` --- a: &aa [a,b,c] b: *aa ``` Create a job template with the above extra vars in the box. ##### EXPECTED RESULTS ![image](https://user-images.githubusercontent.com/722880/86271958-d53b9c00-bb9b-11ea-913a-d34c3f68a822.png) ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/722880/86272042-f3090100-bb9b-11ea-808b-140caf515eec.png) other-file test-file other-file test-file other-file other-file other-file other-file test-file other-file other-file other-file source-file",no-bug,0.9
14699,awx,https://github.com/ansible/awx/issues/14699,Link to docs in UI's Help Button needs to go to the AWX docs,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary The Help button link on the AWX UI currently goes to the controller docs. It needs to be re-addressed to the new AWX docs URL instead: https://ansible.readthedocs.io/projects/awx/en/latest/userguide/index.html ### AWX version latest ### Select the relevant components - [X] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system MacOS ### Web browser Chrome ### Steps to reproduce 1. Run an instance of AWX and log in with your credentials. 2. At the top of the screen, click (?) drop-down menu and select **Help**. 3. The controller docs open. ### Expected results Help needs to go to: https://ansible.readthedocs.io/projects/awx/en/latest/userguide/index.html ### Actual results Help goes to: https://docs.ansible.com/automation-controller/latest/html/userguide/index.html ### Additional information Location of the Help button: ![image](https://github.com/ansible/awx/assets/7514801/d13227dc-68e0-4c75-a3ee-85878cdf4a89)",other-file | other-file | other-file | other-file | other-file,"Link to docs in UI's Help Button needs to go to the AWX docs ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary The Help button link on the AWX UI currently goes to the controller docs. It needs to be re-addressed to the new AWX docs URL instead: https://ansible.readthedocs.io/projects/awx/en/latest/userguide/index.html ### AWX version latest ### Select the relevant components - [X] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system MacOS ### Web browser Chrome ### Steps to reproduce 1. Run an instance of AWX and log in with your credentials. 2. At the top of the screen, click (?) drop-down menu and select **Help**. 3. The controller docs open. ### Expected results Help needs to go to: https://ansible.readthedocs.io/projects/awx/en/latest/userguide/index.html ### Actual results Help goes to: https://docs.ansible.com/automation-controller/latest/html/userguide/index.html ### Additional information Location of the Help button: ![image](https://github.com/ansible/awx/assets/7514801/d13227dc-68e0-4c75-a3ee-85878cdf4a89) other-file other-file other-file other-file other-file",no-bug,0.95
7326,awx,https://github.com/ansible/awx/issues/7326,Edit Custom Credential Type,##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit Custom Credential Type,other-file | other-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file,Edit Custom Credential Type ##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit Custom Credential Type other-file other-file other-file test-file other-file source-file other-file other-file other-file test-file other-file source-file other-file other-file other-file other-file test-file other-file source-file other-file other-file other-file other-file test-file other-file other-file source-file other-file other-file other-file other-file test-file other-file other-file source-file other-file other-file other-file other-file test-file other-file other-file source-file other-file other-file other-file other-file test-file other-file other-file source-file other-file other-file other-file other-file test-file other-file other-file source-file other-file other-file other-file other-file test-file other-file other-file source-file,no-bug,0.9
10118,awx,https://github.com/ansible/awx/issues/10118,Jobs on systems missing EEs throw an error instead of failing,"##### ISSUE TYPE - Bug Report ##### SUMMARY If the user fails to have an execution environment available, the dispatcher will raise an error and a traceback will go to the logs, but the feedback provided to the user via the UI or API is mysterious. ##### ENVIRONMENT * AWX version: 19.1.0 ##### STEPS TO REPRODUCE 1. deliberately delete all EEs, including any installed managed-by-tower EEs 2. trigger a project update ##### EXPECTED RESULTS If there are no EEs available, the job should fail with an explicit reason provided in the job output in the UI. ##### ACTUAL RESULTS job output: ![image(4)](https://user-images.githubusercontent.com/685957/117202438-d17c3580-adbb-11eb-8d5e-ab255aefeacc.png) in the logs: ``` tools_awx_1 | awx-dispatcher stdout | 2021-05-05 19:46:16,092 ERROR [c77b9784] awx.main.tasks project_update 17 (running) Exception occurred while running task tools_awx_1 | awx-dispatcher stdout | Traceback (most recent call last): tools_awx_1 | awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 1316, in run tools_awx_1 | awx-dispatcher stdout | env = self.build_env(self.instance, private_data_dir, private_data_files=private_data_files) tools_awx_1 | awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 1883, in build_env tools_awx_1 | awx-dispatcher stdout | env = super(RunProjectUpdate, self).build_env(project_update, private_data_dir, private_data_files=private_data_files) tools_awx_1 | awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 997, in build_env tools_awx_1 | awx-dispatcher stdout | ee_cred = self.instance.execution_environment.credential tools_awx_1 | awx-dispatcher stdout | AttributeError: 'NoneType' object has no attribute 'credential' tools_awx_1 | awx-dispatcher stdout | ```",source-file | test-file,"Jobs on systems missing EEs throw an error instead of failing ##### ISSUE TYPE - Bug Report ##### SUMMARY If the user fails to have an execution environment available, the dispatcher will raise an error and a traceback will go to the logs, but the feedback provided to the user via the UI or API is mysterious. ##### ENVIRONMENT * AWX version: 19.1.0 ##### STEPS TO REPRODUCE 1. deliberately delete all EEs, including any installed managed-by-tower EEs 2. trigger a project update ##### EXPECTED RESULTS If there are no EEs available, the job should fail with an explicit reason provided in the job output in the UI. ##### ACTUAL RESULTS job output: ![image(4)](https://user-images.githubusercontent.com/685957/117202438-d17c3580-adbb-11eb-8d5e-ab255aefeacc.png) in the logs: ``` tools_awx_1 | awx-dispatcher stdout | 2021-05-05 19:46:16,092 ERROR [c77b9784] awx.main.tasks project_update 17 (running) Exception occurred while running task tools_awx_1 | awx-dispatcher stdout | Traceback (most recent call last): tools_awx_1 | awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 1316, in run tools_awx_1 | awx-dispatcher stdout | env = self.build_env(self.instance, private_data_dir, private_data_files=private_data_files) tools_awx_1 | awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 1883, in build_env tools_awx_1 | awx-dispatcher stdout | env = super(RunProjectUpdate, self).build_env(project_update, private_data_dir, private_data_files=private_data_files) tools_awx_1 | awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 997, in build_env tools_awx_1 | awx-dispatcher stdout | ee_cred = self.instance.execution_environment.credential tools_awx_1 | awx-dispatcher stdout | AttributeError: 'NoneType' object has no attribute 'credential' tools_awx_1 | awx-dispatcher stdout | ``` source-file test-file",bug,0.9
11422,awx,https://github.com/ansible/awx/issues/11422,Notifications are not sent,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Currently notifications for (some) jobs are not sent due to a race condition (?): ``` awx_1 | 2021-12-06 13:39:14,446 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch scaling down worker pid:14114 awx_1 | 2021-12-06 13:39:14,448 DEBUG [a1a65966262c4559afd398df32b5f445] awx.main.dispatch task 4648c5ba-e5bb-49c4-8040-0e98e1d4975b starting awx.main.tasks.handle_success_and_failure_notifications(*[4021]) awx_1 | 2021-12-06 13:39:14,450 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch scaling down worker pid:14116 awx_1 | 2021-12-06 13:39:14,451 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch worker exiting gracefully pid:14114 awx_1 | 2021-12-06 13:39:14,453 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch worker exiting gracefully pid:14116 awx_1 | 2021-12-06 13:39:14,813 INFO [949fbc302a95418e85b3b941b7bb551d] awx.main.commands.run_callback_receiver Event processing is finished for Job 4021, sending notifications awx_1 | 2021-12-06 13:39:14,813 INFO [949fbc302a95418e85b3b941b7bb551d] awx.main.commands.run_callback_receiver Event processing is finished for Job 4021, sending notifications awx_1 | INFO 2021/12/06 13:39:15 Stdout complete - closing channel for: aCroB8Bf awx_1 | ERROR 2021/12/06 13:39:15 Read error in control service: read unix /var/run/awx-receptor/receptor.sock->@: use of closed network connection awx_1 | INFO 2021/12/06 13:39:15 Client disconnected from control service @ awx_1 | ERROR 2021/12/06 13:39:15 Error closing connection: close unix /var/run/awx-receptor/receptor.sock->@: use of closed network connection awx_1 | 2021-12-06 13:39:15,939 DEBUG [-] awx.main.commands.run_callback_receiver JobEvent.objects.bulk_create(1) awx_1 | 2021-12-06 13:39:15,939 DEBUG [-] awx.main.commands.run_callback_receiver JobEvent.objects.bulk_create(1) awx_1 | 2021-12-06 13:39:18,015 DEBUG [4f92e389a2534afd82ac34149033c2f3] awx.analytics.performance request: <WSGIRequest: GET '/api/v2/jobs/4021/job_events/?counter__gte=13&limit=9&order_by=counter'>, response_time: 0.218s awx_1 | [pid: 45|app: 0|req: 300/912] 192.168.207.101 () {56 vars in 2559 bytes} [Mon Dec 6 13:39:17 2021] GET /api/v2/jobs/4021/job_events/?counter__gte=13&limit=9&order_by=counter => generated 14232 bytes in 220 msecs (HTTP/2.0 200) 15 headers in 581 bytes (1 switches on core 0) awx_1 | INFO 2021/12/06 13:39:18 Client connected to control service @ awx_1 | INFO 2021/12/06 13:39:18 Control service closed awx_1 | INFO 2021/12/06 13:39:18 Client disconnected from control service @ awx_1 | 2021-12-06 13:39:18,481 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.tasks job 4021 (running) finished running, producing 22 events. awx_1 | 2021-12-06 13:39:18,494 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.analytics.job_lifecycle job-4021 post run awx_1 | 2021-12-06 13:39:18,676 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.analytics.job_lifecycle job-4021 finalize run awx_1 | 2021-12-06 13:39:18,776 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.dispatch task e9c3cb47-b314-4f01-9a80-67388d7c42e0 starting awx.main.tasks.update_inventory_computed_fields(*[2]) awx_1 | 2021-12-06 13:39:18,806 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.models.inventory Going to update inventory computed fields, pk=2 awx_1 | 2021-12-06 13:39:18,839 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.models.inventory Finished updating inventory computed fields, pk=2, in 0.032 seconds awx_1 | 2021-12-06 13:39:18,931 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.dispatch task 7fdefc75-7d90-41f1-8bd5-11f173086630 starting awx.main.tasks.handle_work_success(*[]) awx_1 | 2021-12-06 13:39:18,951 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.dispatch task 8246994d-45e1-4576-be9a-e53a623f7015 starting awx.main.scheduler.tasks.run_task_manager(*[]) awx_1 | 2021-12-06 13:39:18,955 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.scheduler Running task manager. awx_1 | 2021-12-06 13:39:18,966 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.scheduler Starting Scheduler awx_1 | 2021-12-06 13:39:19,034 DEBUG [fc7226b03a7247d0bf5f473108e35e76] awx.analytics.job_lifecycle job-4021 event processing finished awx_1 | 2021-12-06 13:39:19,042 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.scheduler Finishing Scheduler awx_1 | 2021-12-06 13:39:19,070 DEBUG [fc7226b03a7247d0bf5f473108e35e76] awx.analytics.performance request: <WSGIRequest: GET '/api/v2/jobs/4021/'>, response_time: 0.207s awx_1 | [pid: 45|app: 0|req: 301/913] 192.168.207.101 () {56 vars in 2456 bytes} [Mon Dec 6 13:39:18 2021] GET /api/v2/jobs/4021/ => generated 4964 bytes in 210 msecs (HTTP/2.0 200) 14 headers in 565 bytes (1 switches on core 0) awx_1 | 2021-12-06 13:39:19,561 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.tasks Failed to even try to send notifications for job '2021-12-06 13:38:04.895362+00:00-4021-successful' due to job not being in finished state. ``` Are the receptor error messages in there expected? ### AWX version 19.5.0 ### Installation method docker on linux ### Modifications no ### Ansible version 4.9.0 ### Operating system CentOS 7 ### Web browser Firefox, Chrome, Safari, Edge ### Steps to reproduce Create a notification and change a job to send notifications on success/failure ### Expected results Notifications are sent out ### Actual results Notifications are not sent out for some jobs ### Additional information _No response_",source-file,"Notifications are not sent ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Currently notifications for (some) jobs are not sent due to a race condition (?): ``` awx_1 | 2021-12-06 13:39:14,446 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch scaling down worker pid:14114 awx_1 | 2021-12-06 13:39:14,448 DEBUG [a1a65966262c4559afd398df32b5f445] awx.main.dispatch task 4648c5ba-e5bb-49c4-8040-0e98e1d4975b starting awx.main.tasks.handle_success_and_failure_notifications(*[4021]) awx_1 | 2021-12-06 13:39:14,450 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch scaling down worker pid:14116 awx_1 | 2021-12-06 13:39:14,451 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch worker exiting gracefully pid:14114 awx_1 | 2021-12-06 13:39:14,453 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.dispatch worker exiting gracefully pid:14116 awx_1 | 2021-12-06 13:39:14,813 INFO [949fbc302a95418e85b3b941b7bb551d] awx.main.commands.run_callback_receiver Event processing is finished for Job 4021, sending notifications awx_1 | 2021-12-06 13:39:14,813 INFO [949fbc302a95418e85b3b941b7bb551d] awx.main.commands.run_callback_receiver Event processing is finished for Job 4021, sending notifications awx_1 | INFO 2021/12/06 13:39:15 Stdout complete - closing channel for: aCroB8Bf awx_1 | ERROR 2021/12/06 13:39:15 Read error in control service: read unix /var/run/awx-receptor/receptor.sock->@: use of closed network connection awx_1 | INFO 2021/12/06 13:39:15 Client disconnected from control service @ awx_1 | ERROR 2021/12/06 13:39:15 Error closing connection: close unix /var/run/awx-receptor/receptor.sock->@: use of closed network connection awx_1 | 2021-12-06 13:39:15,939 DEBUG [-] awx.main.commands.run_callback_receiver JobEvent.objects.bulk_create(1) awx_1 | 2021-12-06 13:39:15,939 DEBUG [-] awx.main.commands.run_callback_receiver JobEvent.objects.bulk_create(1) awx_1 | 2021-12-06 13:39:18,015 DEBUG [4f92e389a2534afd82ac34149033c2f3] awx.analytics.performance request: <WSGIRequest: GET '/api/v2/jobs/4021/job_events/?counter__gte=13&limit=9&order_by=counter'>, response_time: 0.218s awx_1 | [pid: 45|app: 0|req: 300/912] 192.168.207.101 () {56 vars in 2559 bytes} [Mon Dec 6 13:39:17 2021] GET /api/v2/jobs/4021/job_events/?counter__gte=13&limit=9&order_by=counter => generated 14232 bytes in 220 msecs (HTTP/2.0 200) 15 headers in 581 bytes (1 switches on core 0) awx_1 | INFO 2021/12/06 13:39:18 Client connected to control service @ awx_1 | INFO 2021/12/06 13:39:18 Control service closed awx_1 | INFO 2021/12/06 13:39:18 Client disconnected from control service @ awx_1 | 2021-12-06 13:39:18,481 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.tasks job 4021 (running) finished running, producing 22 events. awx_1 | 2021-12-06 13:39:18,494 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.analytics.job_lifecycle job-4021 post run awx_1 | 2021-12-06 13:39:18,676 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.analytics.job_lifecycle job-4021 finalize run awx_1 | 2021-12-06 13:39:18,776 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.dispatch task e9c3cb47-b314-4f01-9a80-67388d7c42e0 starting awx.main.tasks.update_inventory_computed_fields(*[2]) awx_1 | 2021-12-06 13:39:18,806 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.models.inventory Going to update inventory computed fields, pk=2 awx_1 | 2021-12-06 13:39:18,839 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.models.inventory Finished updating inventory computed fields, pk=2, in 0.032 seconds awx_1 | 2021-12-06 13:39:18,931 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.dispatch task 7fdefc75-7d90-41f1-8bd5-11f173086630 starting awx.main.tasks.handle_work_success(*[]) awx_1 | 2021-12-06 13:39:18,951 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.dispatch task 8246994d-45e1-4576-be9a-e53a623f7015 starting awx.main.scheduler.tasks.run_task_manager(*[]) awx_1 | 2021-12-06 13:39:18,955 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.scheduler Running task manager. awx_1 | 2021-12-06 13:39:18,966 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.scheduler Starting Scheduler awx_1 | 2021-12-06 13:39:19,034 DEBUG [fc7226b03a7247d0bf5f473108e35e76] awx.analytics.job_lifecycle job-4021 event processing finished awx_1 | 2021-12-06 13:39:19,042 DEBUG [949fbc302a95418e85b3b941b7bb551d] awx.main.scheduler Finishing Scheduler awx_1 | 2021-12-06 13:39:19,070 DEBUG [fc7226b03a7247d0bf5f473108e35e76] awx.analytics.performance request: <WSGIRequest: GET '/api/v2/jobs/4021/'>, response_time: 0.207s awx_1 | [pid: 45|app: 0|req: 301/913] 192.168.207.101 () {56 vars in 2456 bytes} [Mon Dec 6 13:39:18 2021] GET /api/v2/jobs/4021/ => generated 4964 bytes in 210 msecs (HTTP/2.0 200) 14 headers in 565 bytes (1 switches on core 0) awx_1 | 2021-12-06 13:39:19,561 WARNING [a1a65966262c4559afd398df32b5f445] awx.main.tasks Failed to even try to send notifications for job '2021-12-06 13:38:04.895362+00:00-4021-successful' due to job not being in finished state. ``` Are the receptor error messages in there expected? ### AWX version 19.5.0 ### Installation method docker on linux ### Modifications no ### Ansible version 4.9.0 ### Operating system CentOS 7 ### Web browser Firefox, Chrome, Safari, Edge ### Steps to reproduce Create a notification and change a job to send notifications on success/failure ### Expected results Notifications are sent out ### Actual results Notifications are not sent out for some jobs ### Additional information _No response_ source-file",no-bug,0.9
9669,awx,https://github.com/ansible/awx/issues/9669,Cannot save Miscellaneous System Settings on new cluster,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I cannot save my changes to the Miscellaneous System settings of a newly created AWX Tower install. I receive no UI feedback but the network tab shows `{""CUSTOM_VENV_PATHS"":[""Expected list of strings but got <class 'str'> instead.""]}`. I have not attempted to set up custom venvs, nor can I find that setting in the UI. ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: minikube following https://github.com/ansible/awx/blob/devel/INSTALL.md * Ansible version: unknown * Operating System: ArchLinux * Web Browser: Firefox 87 ##### STEPS TO REPRODUCE 1. Install a new instance of AWX using the instructions given in the INSTALL.md file 2. Log in as admin 3. Edit settings under /#/settings/miscellaneous_system/details 4. Attempt to change the base url from ""https://towerhost"" to my actual base URL. 5. Hit save ##### EXPECTED RESULTS Settings save and UI reverts to the details page. ##### ACTUAL RESULTS No UI feedback at all, following error in network tab. ``` {""CUSTOM_VENV_PATHS"":[""Expected list of strings but got <class 'str'> instead.""]} ``` The PATCH request is sent to https://MYDOMAIN/api/v2/settings/all/ and has the following relevant data: ``` ""CUSTOM_VENV_PATHS"":""[]"" ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file,"Cannot save Miscellaneous System Settings on new cluster <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I cannot save my changes to the Miscellaneous System settings of a newly created AWX Tower install. I receive no UI feedback but the network tab shows `{""CUSTOM_VENV_PATHS"":[""Expected list of strings but got <class 'str'> instead.""]}`. I have not attempted to set up custom venvs, nor can I find that setting in the UI. ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: minikube following https://github.com/ansible/awx/blob/devel/INSTALL.md * Ansible version: unknown * Operating System: ArchLinux * Web Browser: Firefox 87 ##### STEPS TO REPRODUCE 1. Install a new instance of AWX using the instructions given in the INSTALL.md file 2. Log in as admin 3. Edit settings under /#/settings/miscellaneous_system/details 4. Attempt to change the base url from ""https://towerhost"" to my actual base URL. 5. Hit save ##### EXPECTED RESULTS Settings save and UI reverts to the details page. ##### ACTUAL RESULTS No UI feedback at all, following error in network tab. ``` {""CUSTOM_VENV_PATHS"":[""Expected list of strings but got <class 'str'> instead.""]} ``` The PATCH request is sent to https://MYDOMAIN/api/v2/settings/all/ and has the following relevant data: ``` ""CUSTOM_VENV_PATHS"":""[]"" ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file",bug,0.9
10663,awx,https://github.com/ansible/awx/issues/10663,When creating a new host auto-populate inventory field is not working,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When creating a new host auto-populate inventory field is not working. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Attempt to create a new host - when there is just one inventory available <img width=""1497"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/125836821-12a80c51-250c-4e00-8a91-b7634bddb644.png""> <img width=""1484"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/125836862-1d65b6ae-17fb-4948-b201-c8228c3c2457.png""> ### Expected results Inventory lookup field to be auto-populated ### Actual results Inventory lookup field is not auto-populated ### Additional information _No response_",other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"When creating a new host auto-populate inventory field is not working ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When creating a new host auto-populate inventory field is not working. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Attempt to create a new host - when there is just one inventory available <img width=""1497"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/125836821-12a80c51-250c-4e00-8a91-b7634bddb644.png""> <img width=""1484"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/125836862-1d65b6ae-17fb-4948-b201-c8228c3c2457.png""> ### Expected results Inventory lookup field to be auto-populated ### Actual results Inventory lookup field is not auto-populated ### Additional information _No response_ other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.7
11582,awx,https://github.com/ansible/awx/issues/11582,TypeError: Cannot read properties of null (reading 'contains'),### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Trying to visit instance details the error is being displayed in prod version: ``` Uncaught TypeError: Cannot read properties of null (reading 'contains') at HTMLDocument.e (AddDropDownButton.js:15:58) ``` Dev server: ![image](https://user-images.githubusercontent.com/12464858/150571248-8bf73191-e9c2-4688-9090-4196c9180160.png) ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Navigate to instance list 2. Click on a instance from the list ### Expected results The error to not be thrown ### Actual results Page crashing on dev server and printing the error on the console for prod versions ### Additional information Tests trying to visit instance details are failing due to https://docs.cypress.io/api/events/catalog-of-events#App-Events,source-file | source-file,TypeError: Cannot read properties of null (reading 'contains') ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Trying to visit instance details the error is being displayed in prod version: ``` Uncaught TypeError: Cannot read properties of null (reading 'contains') at HTMLDocument.e (AddDropDownButton.js:15:58) ``` Dev server: ![image](https://user-images.githubusercontent.com/12464858/150571248-8bf73191-e9c2-4688-9090-4196c9180160.png) ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Navigate to instance list 2. Click on a instance from the list ### Expected results The error to not be thrown ### Actual results Page crashing on dev server and printing the error on the console for prod versions ### Additional information Tests trying to visit instance details are failing due to https://docs.cypress.io/api/events/catalog-of-events#App-Events source-file source-file,no-bug,0.9
4817,awx,https://github.com/ansible/awx/issues/4817,"Update React, React-Router, and React-Router-Dom","##### ISSUE TYPE - Bug ##### SUMMARY It can be hard to test components that use react hooks if there are asynchronous state updates within the the component. When doing such tests enzyme wants you to use `act()` however in our current version of react we can't successfully test async code within `act()` as it isn't supported. It is supported in React 16.9.0 thus we should update to that at least. That update will cause other console warnings/errors which will require an update to React-Router and React-Router-Dom ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker for mac * Ansible version: 2.10.0 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Write a test for a component that uses hooks to update state asynchronously. Think `try...catch`. See warnings in console. ##### EXPECTED RESULTS Tests run without errors or warnings. ##### ACTUAL RESULTS Errors and warnings appear in console. ` Warning: The callback passed to ReactTestUtils.act(...) function must not return anything. It looks like you wrote ReactTestUtils.act(async () => ...), or returned a Promise from the callback passed to it. Putting asynchronous logic inside ReactTestUtils.act(...) is not supported.`",source-file | test-file,"Update React, React-Router, and React-Router-Dom ##### ISSUE TYPE - Bug ##### SUMMARY It can be hard to test components that use react hooks if there are asynchronous state updates within the the component. When doing such tests enzyme wants you to use `act()` however in our current version of react we can't successfully test async code within `act()` as it isn't supported. It is supported in React 16.9.0 thus we should update to that at least. That update will cause other console warnings/errors which will require an update to React-Router and React-Router-Dom ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker for mac * Ansible version: 2.10.0 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Write a test for a component that uses hooks to update state asynchronously. Think `try...catch`. See warnings in console. ##### EXPECTED RESULTS Tests run without errors or warnings. ##### ACTUAL RESULTS Errors and warnings appear in console. ` Warning: The callback passed to ReactTestUtils.act(...) function must not return anything. It looks like you wrote ReactTestUtils.act(async () => ...), or returned a Promise from the callback passed to it. Putting asynchronous logic inside ReactTestUtils.act(...) is not supported.` source-file test-file",no-bug,0.9
8216,awx,https://github.com/ansible/awx/issues/8216,Update usage of user_capabilities for Execution Environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY Update usage of summary_fields for Execution Environments. `user_capabilities` was added as part of `summary_fields` for EE. Update the `ToolbarDeleteButton` component.,other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file,Update usage of user_capabilities for Execution Environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY Update usage of summary_fields for Execution Environments. `user_capabilities` was added as part of `summary_fields` for EE. Update the `ToolbarDeleteButton` component. other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file test-file,no-bug,0.9
5012,awx,https://github.com/ansible/awx/issues/5012,RFE: Make easier to find which job template a schedule is related to,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem. --> Can't easily find from which workflow job template or job template a schedule is when multiple schedules exist with the same name. See the screenshot below: ![Screenshot from 2019-10-14 16-10-44](https://user-images.githubusercontent.com/48132/66780001-b9715800-ee9d-11e9-8102-b03a843c8954.png) The `Every other minute` schedule exist for both workflow job template 1 and workflow job template 2 but it is hard to tell from which one each schedule is. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.1 * Operating System: Fedora 30 * Web Browser: Chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1. Create one job template and add an schedule named `My Schedule` 2. Create another job template and add an schedule named `My Schedule` 3. Navigate to the Schedules page ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> To have a way to differentiate an schedule to each other based on the job template or workflow job template it is related to. ##### ACTUAL RESULTS <!-- What actually happened? --> Can't figure out which is the related workflow job template or job template a schedule is related to. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"RFE: Make easier to find which job template a schedule is related to ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem. --> Can't easily find from which workflow job template or job template a schedule is when multiple schedules exist with the same name. See the screenshot below: ![Screenshot from 2019-10-14 16-10-44](https://user-images.githubusercontent.com/48132/66780001-b9715800-ee9d-11e9-8102-b03a843c8954.png) The `Every other minute` schedule exist for both workflow job template 1 and workflow job template 2 but it is hard to tell from which one each schedule is. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.1 * Operating System: Fedora 30 * Web Browser: Chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1. Create one job template and add an schedule named `My Schedule` 2. Create another job template and add an schedule named `My Schedule` 3. Navigate to the Schedules page ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> To have a way to differentiate an schedule to each other based on the job template or workflow job template it is related to. ##### ACTUAL RESULTS <!-- What actually happened? --> Can't figure out which is the related workflow job template or job template a schedule is related to. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.9
5388,awx,https://github.com/ansible/awx/issues/5388,"Get Kubernetes API version fails on oc 3.11, 'unknown shorthand flag'","##### ISSUE TYPE - Bug Report ##### SUMMARY Installation on Openshift fails on the ""Get Kubernetes API version"". ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: openshift * Ansible version: 2.8.3 * Operating System: Debian Buster * oc version: v3.11.0+0cbc58b ##### STEPS TO REPRODUCE - oc v3.11.0+0cbc58b - Run the installer ##### EXPECTED RESULTS - Installation success ? ##### ACTUAL RESULTS ``` TASK [kubernetes : Get Kubernetes API version] **************************************************************************************************************************** fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": [""oc"", ""--config=/tmp/awx-config/.kube/config"", ""version"", ""-o"", ""json""], ""delta"": ""0:00:00.281032"", ""end"": ""2019-11-25 10:57:37.835706"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2019-11-25 10:57:37.554674"", ""stderr"": ""Error: unknown shorthand flag: 'o' in -o\n\n\nUsage:\n oc version [flags]\n\nUse \""oc options\"" for a list of global command-line options (applies to all commands)."", ""stderr_lines"": [""Error: unknown shorthand flag: 'o' in -o"", """", """", ""Usage:"", "" oc version [flags]"", """", ""Use \""oc options\"" for a list of global command-line options (applies to all commands).""], ""stdout"": """", ""stdout_lines"": []} PLAY RECAP **************************************************************************************************************************************************************** localhost : ok=16 changed=4 unreachable=0 failed=1 skipped=74 rescued=0 ignored=2 ``` ##### ADDITIONAL INFORMATION Executing the command manually: ``` $ oc version -o json Error: unknown shorthand flag: 'o' in -o Usage: oc version [flags] Use ""oc options"" for a list of global command-line options (applies to all commands). ``` The output json is mentionned in [oc 3.9 documentation](https://docs.openshift.com/container-platform/3.9/cli_reference/basic_cli_operations.html#version) but not in [3.11](https://docs.openshift.com/container-platform/3.11/cli_reference/basic_cli_operations.html).",config-file | config-file | config-file,"Get Kubernetes API version fails on oc 3.11, 'unknown shorthand flag' ##### ISSUE TYPE - Bug Report ##### SUMMARY Installation on Openshift fails on the ""Get Kubernetes API version"". ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: openshift * Ansible version: 2.8.3 * Operating System: Debian Buster * oc version: v3.11.0+0cbc58b ##### STEPS TO REPRODUCE - oc v3.11.0+0cbc58b - Run the installer ##### EXPECTED RESULTS - Installation success ? ##### ACTUAL RESULTS ``` TASK [kubernetes : Get Kubernetes API version] **************************************************************************************************************************** fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": [""oc"", ""--config=/tmp/awx-config/.kube/config"", ""version"", ""-o"", ""json""], ""delta"": ""0:00:00.281032"", ""end"": ""2019-11-25 10:57:37.835706"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2019-11-25 10:57:37.554674"", ""stderr"": ""Error: unknown shorthand flag: 'o' in -o\n\n\nUsage:\n oc version [flags]\n\nUse \""oc options\"" for a list of global command-line options (applies to all commands)."", ""stderr_lines"": [""Error: unknown shorthand flag: 'o' in -o"", """", """", ""Usage:"", "" oc version [flags]"", """", ""Use \""oc options\"" for a list of global command-line options (applies to all commands).""], ""stdout"": """", ""stdout_lines"": []} PLAY RECAP **************************************************************************************************************************************************************** localhost : ok=16 changed=4 unreachable=0 failed=1 skipped=74 rescued=0 ignored=2 ``` ##### ADDITIONAL INFORMATION Executing the command manually: ``` $ oc version -o json Error: unknown shorthand flag: 'o' in -o Usage: oc version [flags] Use ""oc options"" for a list of global command-line options (applies to all commands). ``` The output json is mentionned in [oc 3.9 documentation](https://docs.openshift.com/container-platform/3.9/cli_reference/basic_cli_operations.html#version) but not in [3.11](https://docs.openshift.com/container-platform/3.11/cli_reference/basic_cli_operations.html). config-file config-file config-file",no-bug,0.9
8525,awx,https://github.com/ansible/awx/issues/8525,"Notifications stuck in queue, no way to purge.","##### ISSUE TYPE - Bug Report ##### SUMMARY I have 200 notifications stuck in queue with no way to remove them and I cannot delete the notification template. ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: Amazon EKS * Ansible version: 2.9.14 * Operating System: Linux * Web Browser: Firefox, Chrome ##### STEPS TO REPRODUCE N/A ##### EXPECTED RESULTS Expect to be able to resend or purge old notifications. ##### ACTUAL RESULTS No way to resend or purge old notifications. ##### ADDITIONAL INFORMATION ``` awx notifications list { ""next"": ""/api/v2/notifications/?page=2"", ""count"": 199, ""previous"": null, ""results"": [ { ""related"": { ""notification_template"": ""/api/v2/notification_templates/2/"" }, ""summary_fields"": { ""notification_template"": { ""id"": 2, ""name"": ""Slack devops-notify"", ""description"": """" } }, ""url"": ""/api/v2/notifications/576/"", ""status"": ""pending"", ``` Error Message when attempting to delete Notification Template in AWX Web UI ``` Error! ERROR: Delete not allowed while there are pending notifications ```",source-file | source-file,"Notifications stuck in queue, no way to purge. ##### ISSUE TYPE - Bug Report ##### SUMMARY I have 200 notifications stuck in queue with no way to remove them and I cannot delete the notification template. ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: Amazon EKS * Ansible version: 2.9.14 * Operating System: Linux * Web Browser: Firefox, Chrome ##### STEPS TO REPRODUCE N/A ##### EXPECTED RESULTS Expect to be able to resend or purge old notifications. ##### ACTUAL RESULTS No way to resend or purge old notifications. ##### ADDITIONAL INFORMATION ``` awx notifications list { ""next"": ""/api/v2/notifications/?page=2"", ""count"": 199, ""previous"": null, ""results"": [ { ""related"": { ""notification_template"": ""/api/v2/notification_templates/2/"" }, ""summary_fields"": { ""notification_template"": { ""id"": 2, ""name"": ""Slack devops-notify"", ""description"": """" } }, ""url"": ""/api/v2/notifications/576/"", ""status"": ""pending"", ``` Error Message when attempting to delete Notification Template in AWX Web UI ``` Error! ERROR: Delete not allowed while there are pending notifications ``` source-file source-file",no-bug,0.8
9307,awx,https://github.com/ansible/awx/issues/9307,Add copy functionality to EE,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add copy functionality to EE. See API related work here: https://github.com/ansible/awx/pull/9303 See: https://github.com/ansible/awx/pull/9303#issuecomment-784489624,other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file,Add copy functionality to EE ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add copy functionality to EE. See API related work here: https://github.com/ansible/awx/pull/9303 See: https://github.com/ansible/awx/pull/9303#issuecomment-784489624 other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file,no-bug,0.9
7695,awx,https://github.com/ansible/awx/issues/7695,Installer: Don't quote passwords when not subject to shell interpolation,"##### ISSUE TYPE - Bug Report ##### SUMMARY When setting `docker_registry_password` either with `-e` or directly in the `installer/inventory` file, the installer fails when the docker registry authentication fails, because the value `s3cr1t` is passed as `'s3cr1t'` due to the changes introduced in #3987. ##### ENVIRONMENT * AWX version: 13.0.0 (#bedbafe0f) * AWX install method: docker on linux * Ansible version: 2.8.12.post0 * Operating System: Ubuntu 19.10 local / RHEL 7.6 remote * Web Browser: Firefox 78.0.2 (64-bit) ##### STEPS TO REPRODUCE ```bash cd installer ansible-playbook -i inventory -e docker_registry_password=""s3cr1t"" install.yml \ --start-at-task=""Authenticate with Docker registry if registry password given"" -e ""awx_version=13.0.0"" ``` <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS TASK [image_push : Authenticate with Docker registry if registry password given] ******************************************************************************** changed: [REMOTESERVER -> localhost] <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS TASK [image_push : Authenticate with Docker registry if registry password given] ******************************************************************************** fatal: [REMOTESERVER -> localhost]: FAILED! => {""changed"": false, ""msg"": ""Logging into dockerhub.internal.site for user philipsd6 failed - 401 Client Error: Unauthorized (\""Get https://dockerhub.internal.site/v2/: unauthorized: BAD_CREDENTIAL\"")""} <!-- What actually happened? --> ##### ADDITIONAL INFORMATION The `quote` filter used in #3987 is appropriate for all the cases where passwords are exposed to the shell, via the shell or command module, or via templating into environment files. But this variable is supplied directly to the `docker_image` module, so it shouldn't be quoted. <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",config-file | config-file,"Installer: Don't quote passwords when not subject to shell interpolation ##### ISSUE TYPE - Bug Report ##### SUMMARY When setting `docker_registry_password` either with `-e` or directly in the `installer/inventory` file, the installer fails when the docker registry authentication fails, because the value `s3cr1t` is passed as `'s3cr1t'` due to the changes introduced in #3987. ##### ENVIRONMENT * AWX version: 13.0.0 (#bedbafe0f) * AWX install method: docker on linux * Ansible version: 2.8.12.post0 * Operating System: Ubuntu 19.10 local / RHEL 7.6 remote * Web Browser: Firefox 78.0.2 (64-bit) ##### STEPS TO REPRODUCE ```bash cd installer ansible-playbook -i inventory -e docker_registry_password=""s3cr1t"" install.yml \ --start-at-task=""Authenticate with Docker registry if registry password given"" -e ""awx_version=13.0.0"" ``` <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS TASK [image_push : Authenticate with Docker registry if registry password given] ******************************************************************************** changed: [REMOTESERVER -> localhost] <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS TASK [image_push : Authenticate with Docker registry if registry password given] ******************************************************************************** fatal: [REMOTESERVER -> localhost]: FAILED! => {""changed"": false, ""msg"": ""Logging into dockerhub.internal.site for user philipsd6 failed - 401 Client Error: Unauthorized (\""Get https://dockerhub.internal.site/v2/: unauthorized: BAD_CREDENTIAL\"")""} <!-- What actually happened? --> ##### ADDITIONAL INFORMATION The `quote` filter used in #3987 is appropriate for all the cases where passwords are exposed to the shell, via the shell or command module, or via templating into environment files. But this variable is supplied directly to the `docker_image` module, so it shouldn't be quoted. <!-- Include any links to sosreport, database dumps, screenshots or other information. --> config-file config-file",no-bug,0.9
5243,awx,https://github.com/ansible/awx/issues/5243,awx available for linuxonpower systems,##### ISSUE TYPE - awx for linuxonpower based systems ##### SUMMARY <!Is awx available for linuxonpower based systems? is anyone tried?>,other-file | other-file | other-file | other-file | other-file,awx available for linuxonpower systems ##### ISSUE TYPE - awx for linuxonpower based systems ##### SUMMARY <!Is awx available for linuxonpower based systems? is anyone tried?> other-file other-file other-file other-file other-file,no-bug,0.9
9701,awx,https://github.com/ansible/awx/issues/9701,Inventory file dropdown adds slash to filename,"##### ISSUE TYPE - Bug Report ##### SUMMARY Creating an inventory - Sourced from a project. The dropdown for the inventory file actually shows the correct file (and others), but if I choose it there's a slash added to the end of the filename. The same thing happens if I freely type a filename into the textbox. ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: openshift (using AWX operator)",other-file | test-file,"Inventory file dropdown adds slash to filename ##### ISSUE TYPE - Bug Report ##### SUMMARY Creating an inventory - Sourced from a project. The dropdown for the inventory file actually shows the correct file (and others), but if I choose it there's a slash added to the end of the filename. The same thing happens if I freely type a filename into the textbox. ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: openshift (using AWX operator) other-file test-file",no-bug,0.9
12006,awx,https://github.com/ansible/awx/issues/12006,Job details for Source Control Update shows inventory as deleted,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Job details for Source Control Update shows inventory as deleted ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a new project using Git 2 - Sync the new project 3 - Go to the related job details page ### Expected results No inventory should be shown. ### Actual results Inventory is shown as deleted. ### Additional information ![image](https://user-images.githubusercontent.com/9053044/161773274-4375c315-2d3a-4247-aa7f-7a2e894ce311.png),source-file,Job details for Source Control Update shows inventory as deleted ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Job details for Source Control Update shows inventory as deleted ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a new project using Git 2 - Sync the new project 3 - Go to the related job details page ### Expected results No inventory should be shown. ### Actual results Inventory is shown as deleted. ### Additional information ![image](https://user-images.githubusercontent.com/9053044/161773274-4375c315-2d3a-4247-aa7f-7a2e894ce311.png) source-file,no-bug,0.8
7063,awx,https://github.com/ansible/awx/issues/7063,POSTing to create workflow approval node (node without UJT) ignores all_parents_must_converge,"##### ISSUE TYPE - Bug Report ##### SUMMARY ![all_parents](https://user-images.githubusercontent.com/9889020/82239367-abd5f200-9906-11ea-8c60-39ef86625ff8.gif) Relates to https://github.com/ansible/awx/issues/6998 ##### STEPS TO REPRODUCE 1. Create an empty workflow 2. Attempt to POST to `/api/v2/workflow_job_templates/:id/workflow_nodes/` with the following payload: ``` { ""all_parents_must_converge"": true } ``` ##### EXPECTED RESULTS A node is created with `all_parents_must_converge` set to `true` ##### ACTUAL RESULTS A node is created with `all_parents_must_converge` set to `false` ##### ADDITIONAL INFORMATION The use case here is approval nodes. In order to create an approval node in the UI we make this initial POST request to create the node. After we have a node, we create the corresponding approval template. If the user were to attempt to create a new approval node in the UI where `all_parents_must_converge` was set to true it would currently save but `all_parents_must_converge` would be set to false. If this becomes problematic to fix, the UI could always issue a 3rd request to go back and PATCH the node from the first request but this would be less desirable.",source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file,"POSTing to create workflow approval node (node without UJT) ignores all_parents_must_converge ##### ISSUE TYPE - Bug Report ##### SUMMARY ![all_parents](https://user-images.githubusercontent.com/9889020/82239367-abd5f200-9906-11ea-8c60-39ef86625ff8.gif) Relates to https://github.com/ansible/awx/issues/6998 ##### STEPS TO REPRODUCE 1. Create an empty workflow 2. Attempt to POST to `/api/v2/workflow_job_templates/:id/workflow_nodes/` with the following payload: ``` { ""all_parents_must_converge"": true } ``` ##### EXPECTED RESULTS A node is created with `all_parents_must_converge` set to `true` ##### ACTUAL RESULTS A node is created with `all_parents_must_converge` set to `false` ##### ADDITIONAL INFORMATION The use case here is approval nodes. In order to create an approval node in the UI we make this initial POST request to create the node. After we have a node, we create the corresponding approval template. If the user were to attempt to create a new approval node in the UI where `all_parents_must_converge` was set to true it would currently save but `all_parents_must_converge` would be set to false. If this becomes problematic to fix, the UI could always issue a 3rd request to go back and PATCH the node from the first request but this would be less desirable. source-file source-file source-file test-file source-file test-file source-file test-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file",bug,0.9
9472,awx,https://github.com/ansible/awx/issues/9472,awx.main.utils.common.get_ansible_version breaks with ansible-core,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The `awx.main.utils.common.get_ansible_version` helper breaks with new `ansible --version` when ansible-core is installed. This also changes the format the `api/v2/config` returns for the `ansible_version` field. What breaks tools that relies on this field to check the current ansible version used by AWX. ##### ENVIRONMENT * AWX version: devel * AWX install method: vm * Ansible version: ansible-core 2.11 * Operating System: RHEL8.3 * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Install AWX with ansible-core and perform a GET request to `/api/v2/config` and check the `ansible_version` field format. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The ansible version format should be something like `X.Y.Z` (format capable to be parsed by tools like `distutils.version.LooseVersion`) ##### ACTUAL RESULTS <!-- What actually happened? --> Returning something like `""ansible_version"": ""[core 2.11.0.dev0]""` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> Output of `ansible --version` for ansible-core 2.11: ```console $ ansible --version ansible [core 2.11.0b1] config file = /home/elyezer/code/ansible/ansible-core/ansible.cfg configured module search path = ['/home/elyezer/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/elyezer/.virtualenvs/ansible-core/lib/python3.9/site-packages/ansible ansible collection location = /home/elyezer/.ansible/collections:/usr/share/ansible/collections executable location = /home/elyezer/.virtualenvs/ansible-core/bin/ansible python version = 3.9.0 (default, Oct 6 2020, 00:00:00) [GCC 10.2.1 20200826 (Red Hat 10.2.1-3)] jinja version = 2.11.3 libyaml = True ``` For ansible 2.9: ``` ansible 2.9.16 config file = /home/elyezer/code/ansible/ansible/ansible.cfg configured module search path = ['/home/elyezer/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/elyezer/.virtualenvs/ansible/lib/python3.9/site-packages/ansible executable location = /home/elyezer/.virtualenvs/ansible/bin/ansible python version = 3.9.0 (default, Oct 6 2020, 00:00:00) [GCC 10.2.1 20200826 (Red Hat 10.2.1-3)] ```",source-file | source-file | source-file | source-file | other-file | other-file | test-file | source-file | source-file | source-file | source-file | other-file | other-file | test-file | source-file | source-file | source-file | source-file | other-file | other-file | test-file | source-file | source-file | source-file | source-file | other-file | other-file | test-file | source-file | source-file | source-file | source-file | other-file | other-file | test-file,"awx.main.utils.common.get_ansible_version breaks with ansible-core <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The `awx.main.utils.common.get_ansible_version` helper breaks with new `ansible --version` when ansible-core is installed. This also changes the format the `api/v2/config` returns for the `ansible_version` field. What breaks tools that relies on this field to check the current ansible version used by AWX. ##### ENVIRONMENT * AWX version: devel * AWX install method: vm * Ansible version: ansible-core 2.11 * Operating System: RHEL8.3 * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Install AWX with ansible-core and perform a GET request to `/api/v2/config` and check the `ansible_version` field format. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The ansible version format should be something like `X.Y.Z` (format capable to be parsed by tools like `distutils.version.LooseVersion`) ##### ACTUAL RESULTS <!-- What actually happened? --> Returning something like `""ansible_version"": ""[core 2.11.0.dev0]""` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> Output of `ansible --version` for ansible-core 2.11: ```console $ ansible --version ansible [core 2.11.0b1] config file = /home/elyezer/code/ansible/ansible-core/ansible.cfg configured module search path = ['/home/elyezer/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/elyezer/.virtualenvs/ansible-core/lib/python3.9/site-packages/ansible ansible collection location = /home/elyezer/.ansible/collections:/usr/share/ansible/collections executable location = /home/elyezer/.virtualenvs/ansible-core/bin/ansible python version = 3.9.0 (default, Oct 6 2020, 00:00:00) [GCC 10.2.1 20200826 (Red Hat 10.2.1-3)] jinja version = 2.11.3 libyaml = True ``` For ansible 2.9: ``` ansible 2.9.16 config file = /home/elyezer/code/ansible/ansible/ansible.cfg configured module search path = ['/home/elyezer/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/elyezer/.virtualenvs/ansible/lib/python3.9/site-packages/ansible executable location = /home/elyezer/.virtualenvs/ansible/bin/ansible python version = 3.9.0 (default, Oct 6 2020, 00:00:00) [GCC 10.2.1 20200826 (Red Hat 10.2.1-3)] ``` source-file source-file source-file source-file other-file other-file test-file source-file source-file source-file source-file other-file other-file test-file source-file source-file source-file source-file other-file other-file test-file source-file source-file source-file source-file other-file other-file test-file source-file source-file source-file source-file other-file other-file test-file",bug,0.9
4542,awx,https://github.com/ansible/awx/issues/4542,Google Cloud Compute Engine credential type is stripping the json file,"##### ISSUE TYPE - Bug Report ##### SUMMARY When a google compute engine credential is created with the json credential file, AWX is stripping some valuable lines. I need those, as I am using gcp_compute_disk module which also requires the service account file to be give as absolute path to the json and instead of giving the file path twice manually, I am using {{ lookup('env','GCP_SERVICE_ACCOUNT_FILE') }} to refer the absolute path to the json, but I am getting error that the lines about email and token_uri are missing. In order to resolve that I was forced to create a custom credential type for uploading the json and use it without stripping. ##### ENVIRONMENT * AWX version: 6.x.x * AWX install method: docker * Ansible version: 2.8.2 * Operating System: Ubuntu 18.04 * Web Browser: Firefox, Chrome ##### STEPS TO REPRODUCE Upload a google json credential to awx and try to use the service_account_file: ""{{ lookup('env','GCP_SERVICE_ACCOUNT_FILE') }}"" when using the gcp_compute_disk module for example. Your AWX template must be pointed to the gce credential also. ##### EXPECTED RESULTS get the full json and take all needed lines ##### ACTUAL RESULTS gets the json, but it seems the AWX module for gce credenials strips some lines and the file is usable by the gcp_compute_* ansible modules. ##### ADDITIONAL INFORMATION New credential type I've used to get around this is: Input configuration: `fields: - id: gcp_credential_file type: string label: GCP Credential File (JSON) secret: true multiline: true` Injector configuration: `env: GCP_SERVICE_ACCOUNT_FILE: '{{ tower.filename }}' file: template: '{{ gcp_credential_file }}'`",source-file | source-file | source-file | test-file,"Google Cloud Compute Engine credential type is stripping the json file ##### ISSUE TYPE - Bug Report ##### SUMMARY When a google compute engine credential is created with the json credential file, AWX is stripping some valuable lines. I need those, as I am using gcp_compute_disk module which also requires the service account file to be give as absolute path to the json and instead of giving the file path twice manually, I am using {{ lookup('env','GCP_SERVICE_ACCOUNT_FILE') }} to refer the absolute path to the json, but I am getting error that the lines about email and token_uri are missing. In order to resolve that I was forced to create a custom credential type for uploading the json and use it without stripping. ##### ENVIRONMENT * AWX version: 6.x.x * AWX install method: docker * Ansible version: 2.8.2 * Operating System: Ubuntu 18.04 * Web Browser: Firefox, Chrome ##### STEPS TO REPRODUCE Upload a google json credential to awx and try to use the service_account_file: ""{{ lookup('env','GCP_SERVICE_ACCOUNT_FILE') }}"" when using the gcp_compute_disk module for example. Your AWX template must be pointed to the gce credential also. ##### EXPECTED RESULTS get the full json and take all needed lines ##### ACTUAL RESULTS gets the json, but it seems the AWX module for gce credenials strips some lines and the file is usable by the gcp_compute_* ansible modules. ##### ADDITIONAL INFORMATION New credential type I've used to get around this is: Input configuration: `fields: - id: gcp_credential_file type: string label: GCP Credential File (JSON) secret: true multiline: true` Injector configuration: `env: GCP_SERVICE_ACCOUNT_FILE: '{{ tower.filename }}' file: template: '{{ gcp_credential_file }}'` source-file source-file source-file test-file",bug,0.9
15656,awx,https://github.com/ansible/awx/issues/15656,Improve API Access Control in AWX,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary To meet security requirements, there is sometimes a need to restrict unauthorized access to the AWX API, including the root endpoint and documentation. By default, some endpoints are accessible without authentication, which may pose a risk of information leakage. **Proposal:** Introduce a new configuration parameter (**API_RESTRICT_ANONYMOUS_ACCESS**) that allows administrators to control unauthorized access to the API. ### Select the relevant components - [ ] UI - [X] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce 1. Deploy AWX with default settings. 2. Navigate to the root API endpoint (/api/) or documentation endpoint (/api/doc/) without authentication. 3. Observe that certain information is accessible without requiring authentication. ### Current results Some API endpoints, including the root and documentation endpoints, are accessible to unauthenticated users by default. This may lead to potential information exposure in environments with heightened security requirements. ### Sugested feature result - Introduce a configuration parameter: API_RESTRICT_ANONYMOUS_ACCESS. - When enabled: - Require authentication for all API endpoints except those essential for login. - Restrict access to /api/ and /api/doc/ for unauthorized users. - By default, this parameter should be disabled to maintain the current behavior and ensure compatibility with existing installations. ### Additional information - This feature would allow organizations with strict security policies to use AWX without the need for custom modifications. - Administrators can enable or disable the feature based on their specific security needs. - The default settings ensure seamless upgrades for current installations.",source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file,"Improve API Access Control in AWX ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary To meet security requirements, there is sometimes a need to restrict unauthorized access to the AWX API, including the root endpoint and documentation. By default, some endpoints are accessible without authentication, which may pose a risk of information leakage. **Proposal:** Introduce a new configuration parameter (**API_RESTRICT_ANONYMOUS_ACCESS**) that allows administrators to control unauthorized access to the API. ### Select the relevant components - [ ] UI - [X] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce 1. Deploy AWX with default settings. 2. Navigate to the root API endpoint (/api/) or documentation endpoint (/api/doc/) without authentication. 3. Observe that certain information is accessible without requiring authentication. ### Current results Some API endpoints, including the root and documentation endpoints, are accessible to unauthenticated users by default. This may lead to potential information exposure in environments with heightened security requirements. ### Sugested feature result - Introduce a configuration parameter: API_RESTRICT_ANONYMOUS_ACCESS. - When enabled: - Require authentication for all API endpoints except those essential for login. - Restrict access to /api/ and /api/doc/ for unauthorized users. - By default, this parameter should be disabled to maintain the current behavior and ensure compatibility with existing installations. ### Additional information - This feature would allow organizations with strict security policies to use AWX without the need for custom modifications. - Administrators can enable or disable the feature based on their specific security needs. - The default settings ensure seamless upgrades for current installations. source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file",no-bug,0.9
5150,awx,https://github.com/ansible/awx/issues/5150,Support arbitrary custom inventory plugin configuration,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Followon of https://github.com/ansible/awx/issues/5149 (and its predecessors). Given the ability to expose a custom inventory plugin via a collection for use as an inventory source, we should allow configuring a generic custom inventory source where the configuration data is merely ""a plugin configuration file"". From a related (duplicate) issue filed by @AlanCoding: Right now, there is no way to use an inventory plugin-style YAML configuration aside from checking it into source control. We have had several inquiries related to this, so this is proposed as a solution to resolve all of those use cases. Things we can say this feature would necessary need to have: - form elements - Place to select a credential or multiple credentials - Place to enter YAML content of the inventory plugin (no JSON) - (unclear) filename may or may not need to be independently specified, the only known stubborn exception that could require this is [VMWare](https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/inventory/vmware_vm_inventory.py#L278) - any other shared elements with whatever type of resource it is (like NAME) - The YAML content will be required to have `plugin: foo` as a top-level entry - The form will enforce that supported types use a credential of its corresponding type - possible additional feature - allow custom types to claim an inventory plugin namespace - Inventory updates already use plugins, this will do very little different, just using the config that the user gives - A ""convert to plugin"" button on existing inventory sources that work with plugins - this will start the user out with a configuration that gives compatibility with existing behavior, which they can then modify at will Questions still remain. Will this be another type, similar to inventory scripts? Or will it be another option for `source` of an inventory source? Will there be any way for the user to alter ansible.cfg options, like the group name conversion?",source-file,"Support arbitrary custom inventory plugin configuration ##### ISSUE TYPE - Feature Idea ##### SUMMARY Followon of https://github.com/ansible/awx/issues/5149 (and its predecessors). Given the ability to expose a custom inventory plugin via a collection for use as an inventory source, we should allow configuring a generic custom inventory source where the configuration data is merely ""a plugin configuration file"". From a related (duplicate) issue filed by @AlanCoding: Right now, there is no way to use an inventory plugin-style YAML configuration aside from checking it into source control. We have had several inquiries related to this, so this is proposed as a solution to resolve all of those use cases. Things we can say this feature would necessary need to have: - form elements - Place to select a credential or multiple credentials - Place to enter YAML content of the inventory plugin (no JSON) - (unclear) filename may or may not need to be independently specified, the only known stubborn exception that could require this is [VMWare](https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/inventory/vmware_vm_inventory.py#L278) - any other shared elements with whatever type of resource it is (like NAME) - The YAML content will be required to have `plugin: foo` as a top-level entry - The form will enforce that supported types use a credential of its corresponding type - possible additional feature - allow custom types to claim an inventory plugin namespace - Inventory updates already use plugins, this will do very little different, just using the config that the user gives - A ""convert to plugin"" button on existing inventory sources that work with plugins - this will start the user out with a configuration that gives compatibility with existing behavior, which they can then modify at will Questions still remain. Will this be another type, similar to inventory scripts? Or will it be another option for `source` of an inventory source? Will there be any way for the user to alter ansible.cfg options, like the group name conversion? source-file",no-bug,0.9
4649,awx,https://github.com/ansible/awx/issues/4649,awx users list -f human does not have correct default filter,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `awx users list -f human` does not do the right thing ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Default filter to `id,username` ##### ACTUAL RESULTS default filter to `id,name` where `name` is None on users. ``` awx users list -f human id name == ==== 2 6 3 1 4 5 ```",source-file,"awx users list -f human does not have correct default filter ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `awx users list -f human` does not do the right thing ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Default filter to `id,username` ##### ACTUAL RESULTS default filter to `id,name` where `name` is None on users. ``` awx users list -f human id name == ==== 2 6 3 1 4 5 ``` source-file",no-bug,0.8
5780,awx,https://github.com/ansible/awx/issues/5780,Workflow extra_vars cannot handle jinja2 variables,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Workflow extra_vars cannot handle jinja2 variables ##### ENVIRONMENT * AWX version: Tower 3.6.2 * Ansible version: 2.8.5, 2.9.2 * Operating System: RHEL 7.7 * Web Browser: Google Chrome 79.0.3945.130 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Created a manual project with this playbook. ~~~ --- - hosts: all gather_facts: no tasks: - name: create directory file: path: ""{{ tmp_dir }}"" state: directory mode: ""0755"" ~~~ Next, created a job template using the above project. And created a workflow job template using the above job template, specified a variable for `tmp_dir` like this: ~~~ tmp_dir: /var/tmp/awx/tmp_{{ lookup('pipe','date +%Y%m%d') }}/ ~~~ ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Created a directory named like `/var/tmp/awx/tmp_20200128` ##### ACTUAL RESULTS <!-- What actually happened? --> `/var/tmp/awx/tmp_{{ lookup('pipe','date +%Y%m%d') }}` directory was created. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> Job Template can handle this extra_vars, but `Workflow` Job Template cannot.",source-file,"Workflow extra_vars cannot handle jinja2 variables ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Workflow extra_vars cannot handle jinja2 variables ##### ENVIRONMENT * AWX version: Tower 3.6.2 * Ansible version: 2.8.5, 2.9.2 * Operating System: RHEL 7.7 * Web Browser: Google Chrome 79.0.3945.130 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Created a manual project with this playbook. ~~~ --- - hosts: all gather_facts: no tasks: - name: create directory file: path: ""{{ tmp_dir }}"" state: directory mode: ""0755"" ~~~ Next, created a job template using the above project. And created a workflow job template using the above job template, specified a variable for `tmp_dir` like this: ~~~ tmp_dir: /var/tmp/awx/tmp_{{ lookup('pipe','date +%Y%m%d') }}/ ~~~ ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Created a directory named like `/var/tmp/awx/tmp_20200128` ##### ACTUAL RESULTS <!-- What actually happened? --> `/var/tmp/awx/tmp_{{ lookup('pipe','date +%Y%m%d') }}` directory was created. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> Job Template can handle this extra_vars, but `Workflow` Job Template cannot. source-file",no-bug,0.8
6647,awx,https://github.com/ansible/awx/issues/6647,Kerberos Support in Containers,##### ISSUE TYPE - Feature Idea ##### SUMMARY Kerberos binaries and configuration don't seem to be currently supported out of the box with AWX. The feature idea here would be to: - add these binaries to the docker containers - add support to the kubernetes installer to provision these configs into the container and run necessary commands to init if parameters for this have been provided. I have read though comments here: https://github.com/ansible/awx/issues/735 which was suggesting root / privileged access was required. I have not fully validated this yet but i believe data in the second link would allow this to be resolved. This would utelise the following: - https://docs.ansible.com/ansible-tower/latest/html/administration/kerberos_auth.html - https://blog.tomecek.net/post/kerberos-in-a-container/ Any additional feedback and requirements appreciated. Cheers!,source-file | other-file | documentation-file | other-file | other-file,Kerberos Support in Containers ##### ISSUE TYPE - Feature Idea ##### SUMMARY Kerberos binaries and configuration don't seem to be currently supported out of the box with AWX. The feature idea here would be to: - add these binaries to the docker containers - add support to the kubernetes installer to provision these configs into the container and run necessary commands to init if parameters for this have been provided. I have read though comments here: https://github.com/ansible/awx/issues/735 which was suggesting root / privileged access was required. I have not fully validated this yet but i believe data in the second link would allow this to be resolved. This would utelise the following: - https://docs.ansible.com/ansible-tower/latest/html/administration/kerberos_auth.html - https://blog.tomecek.net/post/kerberos-in-a-container/ Any additional feedback and requirements appreciated. Cheers! source-file other-file documentation-file other-file other-file,no-bug,0.95
6457,awx,https://github.com/ansible/awx/issues/6457,argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.6
5737,awx,https://github.com/ansible/awx/issues/5737,VariablesDetail field: the updated value is not reflected after updating the variables field unless the page is refreshed,"##### ISSUE TYPE - Bug Report ##### SUMMARY On InventoryEdit and InventoryGroupsEdit View, on editing the Variables field, the updated value does not show up in the Details page ##### STEPS TO REPRODUCE Reproduced on Inventory and Inventory Groups page, but works fine on Hosts 1. go to the Edit page 2. change the variables field and press Save ##### EXPECTED RESULTS The Details page should reflect the updated value for variables ##### ACTUAL RESULTS The Details page still shows the old value for the variables and is only updated after page refresh ![inv edit var](https://user-images.githubusercontent.com/11617351/72921138-b1387c80-3d18-11ea-9445-02d1e1f83c48.gif) ![inv groups var](https://user-images.githubusercontent.com/11617351/72921152-be556b80-3d18-11ea-8e62-91403e968216.gif)",config-file | other-file,"VariablesDetail field: the updated value is not reflected after updating the variables field unless the page is refreshed ##### ISSUE TYPE - Bug Report ##### SUMMARY On InventoryEdit and InventoryGroupsEdit View, on editing the Variables field, the updated value does not show up in the Details page ##### STEPS TO REPRODUCE Reproduced on Inventory and Inventory Groups page, but works fine on Hosts 1. go to the Edit page 2. change the variables field and press Save ##### EXPECTED RESULTS The Details page should reflect the updated value for variables ##### ACTUAL RESULTS The Details page still shows the old value for the variables and is only updated after page refresh ![inv edit var](https://user-images.githubusercontent.com/11617351/72921138-b1387c80-3d18-11ea-9445-02d1e1f83c48.gif) ![inv groups var](https://user-images.githubusercontent.com/11617351/72921152-be556b80-3d18-11ea-8e62-91403e968216.gif) config-file other-file",no-bug,0.8
5351,awx,https://github.com/ansible/awx/issues/5351,"Error starting project a bytes-like object is required, not 'str'""","##### ISSUE TYPE - Bug Report ##### SUMMARY Starting AWX in a Docker container fails ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: Docker in Docker * Ansible version: 2.9.1 * Operating System: Ubuntu 18.04 * Web Browser: - ##### STEPS TO REPRODUCE Build, Ship & Run AWX via Dockerfile ( eg: https://hub.docker.com/r/twobombs/ansibleawx ) ##### EXPECTED RESULTS AWX login UI ##### ACTUAL RESULTS fatal: [localhost]: FAILED! => {""changed"": false, ""errors"": [], ""module_stderr"": ""Creating awx_postgres ... \nCreating awx_memcached ... \nCreating awx_rabbitmq ... \n\u001b[2A\u001b[2K\nCreating awx_memcached ... \n\u001b[2B\u001b[1A\u001b[2K\nCreating awx_rabbitmq ... \n\u001b[1B\u001b[3A\u001b[2K\nCreating awx_postgres ... \n\u001b[3BCreating awx_web ... \n"", ""module_stdout"": ""3.7.4: Pulling from ansible/awx_rabbitmq\nDigest: sha256:3ff448f979149a0684c61b0f00eb0fe7bc480b123323aa80fb3bb8934027f895\nStatus: Downloaded newer image for ansible/awx_rabbitmq:3.7.4\nalpine: Pulling from library/memcached\nDigest: sha256:3cfb2eee0b618722a62f4cc907fa0ede848efa87d773bb9384044f490926e7ce\nStatus: Downloaded newer image for memcached:alpine\n10: Pulling from library/postgres\nDigest: sha256:9ab0b88aae58f006e8da0e4f32678881fcb2eaae5154bb1a369733983d21b370\nStatus: Downloaded newer image for postgres:10\n9.0.1: Pulling from ansible/awx_web\nDigest: sha256:c14ae37e0e8836573443a2f4d7c75afb26658065ca36ac9688dc1b8251da6477\nStatus: Downloaded newer image for ansible/awx_web:9.0.1\n9.0.1: Pulling from ansible/awx_task\nDigest: sha256:d2d4ba190526fbbb2ecea3c024aec50626b18d9b1ade4620d5a7c24388e79371\nStatus: Downloaded newer image for ansible/awx_task:9.0.1\n"", ""msg"": ""**Error starting project a bytes-like object is required, not 'str'""**} ##### ADDITIONAL INFORMATION ![Screenshot 2019-11-19 at 14 15 11](https://user-images.githubusercontent.com/12692227/69149767-7b3c0980-0ad7-11ea-964b-c8ab55851558.png) At first I got no error information, but after forcing to a python3 only install for AWX I finally got an error.",source-file,"Error starting project a bytes-like object is required, not 'str'"" ##### ISSUE TYPE - Bug Report ##### SUMMARY Starting AWX in a Docker container fails ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: Docker in Docker * Ansible version: 2.9.1 * Operating System: Ubuntu 18.04 * Web Browser: - ##### STEPS TO REPRODUCE Build, Ship & Run AWX via Dockerfile ( eg: https://hub.docker.com/r/twobombs/ansibleawx ) ##### EXPECTED RESULTS AWX login UI ##### ACTUAL RESULTS fatal: [localhost]: FAILED! => {""changed"": false, ""errors"": [], ""module_stderr"": ""Creating awx_postgres ... \nCreating awx_memcached ... \nCreating awx_rabbitmq ... \n\u001b[2A\u001b[2K\nCreating awx_memcached ... \n\u001b[2B\u001b[1A\u001b[2K\nCreating awx_rabbitmq ... \n\u001b[1B\u001b[3A\u001b[2K\nCreating awx_postgres ... \n\u001b[3BCreating awx_web ... \n"", ""module_stdout"": ""3.7.4: Pulling from ansible/awx_rabbitmq\nDigest: sha256:3ff448f979149a0684c61b0f00eb0fe7bc480b123323aa80fb3bb8934027f895\nStatus: Downloaded newer image for ansible/awx_rabbitmq:3.7.4\nalpine: Pulling from library/memcached\nDigest: sha256:3cfb2eee0b618722a62f4cc907fa0ede848efa87d773bb9384044f490926e7ce\nStatus: Downloaded newer image for memcached:alpine\n10: Pulling from library/postgres\nDigest: sha256:9ab0b88aae58f006e8da0e4f32678881fcb2eaae5154bb1a369733983d21b370\nStatus: Downloaded newer image for postgres:10\n9.0.1: Pulling from ansible/awx_web\nDigest: sha256:c14ae37e0e8836573443a2f4d7c75afb26658065ca36ac9688dc1b8251da6477\nStatus: Downloaded newer image for ansible/awx_web:9.0.1\n9.0.1: Pulling from ansible/awx_task\nDigest: sha256:d2d4ba190526fbbb2ecea3c024aec50626b18d9b1ade4620d5a7c24388e79371\nStatus: Downloaded newer image for ansible/awx_task:9.0.1\n"", ""msg"": ""**Error starting project a bytes-like object is required, not 'str'""**} ##### ADDITIONAL INFORMATION ![Screenshot 2019-11-19 at 14 15 11](https://user-images.githubusercontent.com/12692227/69149767-7b3c0980-0ad7-11ea-964b-c8ab55851558.png) At first I got no error information, but after forcing to a python3 only install for AWX I finally got an error. source-file",no-bug,0.9
13120,awx,https://github.com/ansible/awx/issues/13120,Add Conjur Cloud support to CyberArk Conjur Secrets Lookup credential plugin,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Conjur Cloud adds the requirement of `/api` after the base domain of the service prior to endpoints that are currently configured in the credential plugin. Providing `/api` as part of the URL on the secret lookup gets trimmed by `urllib.parse.urljoin()` that builds the URL to send API requests when executing the credential plugin. ### AWX version 21.7.0 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.13.5 ### Operating system Ubuntu 22.04.1 LTS ### Web browser _No response_ ### Steps to reproduce With a Conjur Cloud tenant available to target, configure the CyberArk Conjur Secrets Lookup external management system credential plugin as documented. ### Expected results Tests should pass successfully. ### Actual results Tests to retrieve a secret will return `HTTP 404`. ### Additional information A PR is prepared and will be submitted shortly.",source-file | source-file | test-file | test-file | documentation-file | documentation-file | source-file,"Add Conjur Cloud support to CyberArk Conjur Secrets Lookup credential plugin ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Conjur Cloud adds the requirement of `/api` after the base domain of the service prior to endpoints that are currently configured in the credential plugin. Providing `/api` as part of the URL on the secret lookup gets trimmed by `urllib.parse.urljoin()` that builds the URL to send API requests when executing the credential plugin. ### AWX version 21.7.0 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.13.5 ### Operating system Ubuntu 22.04.1 LTS ### Web browser _No response_ ### Steps to reproduce With a Conjur Cloud tenant available to target, configure the CyberArk Conjur Secrets Lookup external management system credential plugin as documented. ### Expected results Tests should pass successfully. ### Actual results Tests to retrieve a secret will return `HTTP 404`. ### Additional information A PR is prepared and will be submitted shortly. source-file source-file test-file test-file documentation-file documentation-file source-file",bug,0.9
7642,awx,https://github.com/ansible/awx/issues/7642,Delete Instance Group,##### ISSUE TYPE - Feature Idea ##### SUMMARY Delete Instance Group.,other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | test-file,Delete Instance Group ##### ISSUE TYPE - Feature Idea ##### SUMMARY Delete Instance Group. other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file test-file,no-bug,0.9
10229,awx,https://github.com/ansible/awx/issues/10229,Disable inventory field when editing host,"##### ISSUE TYPE - Feature Idea ##### SUMMARY It seems like the api does not allow editing of this field: <img width=""1494"" alt=""Screen Shot 2021-05-19 at 11 53 38 AM"" src=""https://user-images.githubusercontent.com/9889020/118844457-f7fc9f00-b898-11eb-83e2-970cab8ff4e0.png""> so we should probably disable it to prevent surfacing this error.",other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file,"Disable inventory field when editing host ##### ISSUE TYPE - Feature Idea ##### SUMMARY It seems like the api does not allow editing of this field: <img width=""1494"" alt=""Screen Shot 2021-05-19 at 11 53 38 AM"" src=""https://user-images.githubusercontent.com/9889020/118844457-f7fc9f00-b898-11eb-83e2-970cab8ff4e0.png""> so we should probably disable it to prevent surfacing this error. other-file test-file other-file other-file other-file other-file test-file other-file other-file other-file",no-bug,0.9
6477,awx,https://github.com/ansible/awx/issues/6477,failed to resolve broker hostname,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: :9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.6 * Operating System: centos 7 * Web Browser: chrome ##### STEPS TO REPRODUCE Clean first install from git repo. ansible-playbook -i inventory install.yml Go to web interface and run any managemet job. ##### EXPECTED RESULTS job is run and done ##### ACTUAL RESULTS job state is pending ##### ADDITIONAL INFORMATION task container logs: docker-compose logs task awx_task | 2020-03-30 11:57:49,942 WARNING awx.main.commands.run_callback_receiver scaling up worker pid:175 awx_task | 2020-03-30 11:57:49,942 WARNING awx.main.commands.run_callback_receiver scaling up worker pid:175 awx_task | 2020-03-30 11:57:49,942 WARNING awx.main.dispatch scaling up worker pid:174 awx_task | 2020-03-30 11:57:49,950 WARNING awx.main.dispatch scaling up worker pid:176 awx_task | 2020-03-30 11:57:49,959 WARNING kombu.mixins Broker connection error, trying again in 2.0 seconds: OSError('failed to resolve broker hostname',). awx_task | Traceback (most recent call last): awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 137, in _connect awx_task | host, port, family, socket.SOCK_STREAM, SOL_TCP) awx_task | File ""/usr/lib64/python3.6/socket.py"", line 745, in getaddrinfo awx_task | for res in _socket.getaddrinfo(host, port, family, type, proto, flags): awx_task | socket.gaierror: [Errno -2] Name or service not known awx_task | awx_task | During handling of the above exception, another exception occurred: awx_task | awx_task | Traceback (most recent call last): awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/utils/functional.py"", line 344, in retry_over_time awx_task | return fun(*args, **kwargs) awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 283, in connect awx_task | return self.connection awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 839, in connection awx_task | self._connection = self._establish_connection() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 794, in _establish_connection awx_task | conn = self.transport.establish_connection() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection awx_task | conn.connect() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/connection.py"", line 311, in connect awx_task | self.transport.connect() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 77, in connect awx_task | self._connect(self.host, self.port, self.connect_timeout) awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 148, in _connect awx_task | ""failed to resolve broker hostname"")) awx_task | OSError: failed to resolve broker hostname",config-file,"failed to resolve broker hostname ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: :9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.6 * Operating System: centos 7 * Web Browser: chrome ##### STEPS TO REPRODUCE Clean first install from git repo. ansible-playbook -i inventory install.yml Go to web interface and run any managemet job. ##### EXPECTED RESULTS job is run and done ##### ACTUAL RESULTS job state is pending ##### ADDITIONAL INFORMATION task container logs: docker-compose logs task awx_task | 2020-03-30 11:57:49,942 WARNING awx.main.commands.run_callback_receiver scaling up worker pid:175 awx_task | 2020-03-30 11:57:49,942 WARNING awx.main.commands.run_callback_receiver scaling up worker pid:175 awx_task | 2020-03-30 11:57:49,942 WARNING awx.main.dispatch scaling up worker pid:174 awx_task | 2020-03-30 11:57:49,950 WARNING awx.main.dispatch scaling up worker pid:176 awx_task | 2020-03-30 11:57:49,959 WARNING kombu.mixins Broker connection error, trying again in 2.0 seconds: OSError('failed to resolve broker hostname',). awx_task | Traceback (most recent call last): awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 137, in _connect awx_task | host, port, family, socket.SOCK_STREAM, SOL_TCP) awx_task | File ""/usr/lib64/python3.6/socket.py"", line 745, in getaddrinfo awx_task | for res in _socket.getaddrinfo(host, port, family, type, proto, flags): awx_task | socket.gaierror: [Errno -2] Name or service not known awx_task | awx_task | During handling of the above exception, another exception occurred: awx_task | awx_task | Traceback (most recent call last): awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/utils/functional.py"", line 344, in retry_over_time awx_task | return fun(*args, **kwargs) awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 283, in connect awx_task | return self.connection awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 839, in connection awx_task | self._connection = self._establish_connection() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 794, in _establish_connection awx_task | conn = self.transport.establish_connection() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection awx_task | conn.connect() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/connection.py"", line 311, in connect awx_task | self.transport.connect() awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 77, in connect awx_task | self._connect(self.host, self.port, self.connect_timeout) awx_task | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 148, in _connect awx_task | ""failed to resolve broker hostname"")) awx_task | OSError: failed to resolve broker hostname config-file",no-bug,0.9
5983,awx,https://github.com/ansible/awx/issues/5983,List Navigation 404,##### ISSUE TYPE - Bug Report ##### SUMMARY List navigation error. ##### ENVIRONMENT * AWX version: 2.10 * AWX install method: docker for mac * Ansible version: 9.2.1 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to a list and select either 5 or 10 items per page. Navigate to the last page. Then select a number of items per page higher that what you selected originally. If you selected 5 items per page originally then select 10 items per page. ##### EXPECTED RESULTS Page should reset to the first page and no 404 error ##### ACTUAL RESULTS 404 error ##### ADDITIONAL INFORMATION ![navigation bug](https://user-images.githubusercontent.com/39280967/74779455-84ba4680-526b-11ea-9fad-8fb59a1bd556.gif),other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,List Navigation 404 ##### ISSUE TYPE - Bug Report ##### SUMMARY List navigation error. ##### ENVIRONMENT * AWX version: 2.10 * AWX install method: docker for mac * Ansible version: 9.2.1 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to a list and select either 5 or 10 items per page. Navigate to the last page. Then select a number of items per page higher that what you selected originally. If you selected 5 items per page originally then select 10 items per page. ##### EXPECTED RESULTS Page should reset to the first page and no 404 error ##### ACTUAL RESULTS 404 error ##### ADDITIONAL INFORMATION ![navigation bug](https://user-images.githubusercontent.com/39280967/74779455-84ba4680-526b-11ea-9fad-8fb59a1bd556.gif) other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file,bug,0.85
6460,awx,https://github.com/ansible/awx/issues/6460,Unable to save any forms,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> I'm unable to save any forms in AWX 9.3.0. When I try to click on the save button to create a new sample project or add LDAP authencatication I have a status code 504. And the form is never saved. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: CentOS 7.7 * Web Browser: Chrome and Chrome in private ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Create a new project sample and click save ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The form should be saved ##### ACTUAL RESULTS <!-- What actually happened? --> Failed to create new project. POST returned status: 504 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> In the logs I can see : `awx_web | 2020/03/27 14:23:31 [error] 122#0: *47 upstream timed out (110: Connection timed out) while reading response header from upstream, client: 10.204.35.76, server: _, request: ""GET /websocket/ HTTP/1.1"", upstream: ""http://127.0.0.1:8051/websocket/"", host: ""myserver:82"" ` And in the browser console I have : ``` Failed to load resource: the server responded with a status of 504 (Gateway Time-out) WebSocket connection to 'ws://myserver:82/websocket/' failed: WebSocket opening handshake timed out ```",source-file,"Unable to save any forms ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> I'm unable to save any forms in AWX 9.3.0. When I try to click on the save button to create a new sample project or add LDAP authencatication I have a status code 504. And the form is never saved. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: CentOS 7.7 * Web Browser: Chrome and Chrome in private ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Create a new project sample and click save ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The form should be saved ##### ACTUAL RESULTS <!-- What actually happened? --> Failed to create new project. POST returned status: 504 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> In the logs I can see : `awx_web | 2020/03/27 14:23:31 [error] 122#0: *47 upstream timed out (110: Connection timed out) while reading response header from upstream, client: 10.204.35.76, server: _, request: ""GET /websocket/ HTTP/1.1"", upstream: ""http://127.0.0.1:8051/websocket/"", host: ""myserver:82"" ` And in the browser console I have : ``` Failed to load resource: the server responded with a status of 504 (Gateway Time-out) WebSocket connection to 'ws://myserver:82/websocket/' failed: WebSocket opening handshake timed out ``` source-file",bug,0.9
5798,awx,https://github.com/ansible/awx/issues/5798,Have a user customizable banner for the installation,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Many users have different AWX deployments - either deployments for different users (network, storage) or different environments (dev, test, prod). A user who is using multiple AWX deployments regularly does not have visual notification of ""where"" they are, which could lead to confusion and potentially launching automation in an unexpected location / on the wrong set of devices - the only distinguishing item would be the URL. This could be solved by having a admin-customizable banner that provides information on what environment/deployment you are currently on. (Some users have solved this by hacking a different background color into each environment, but a banner or similar item would presumably be less intrusive than adding theming support.)",source-file,"Have a user customizable banner for the installation ##### ISSUE TYPE - Feature Idea ##### SUMMARY Many users have different AWX deployments - either deployments for different users (network, storage) or different environments (dev, test, prod). A user who is using multiple AWX deployments regularly does not have visual notification of ""where"" they are, which could lead to confusion and potentially launching automation in an unexpected location / on the wrong set of devices - the only distinguishing item would be the URL. This could be solved by having a admin-customizable banner that provides information on what environment/deployment you are currently on. (Some users have solved this by hacking a different background color into each environment, but a banner or similar item would presumably be less intrusive than adding theming support.) source-file",no-bug,0.95
7509,awx,https://github.com/ansible/awx/issues/7509,Select all checkbox is tied to tightly to items per page,##### SUMMARY <!-- Briefly describe the problem. --> ##### STEPS TO REPRODUCE * check 5 resources (1 checked should not be the first 5) * set the page size to 5 ##### EXPECTED RESULTS * the select all checkbox to not be checked ##### ACTUAL RESULTS * the select all box is checked ![image](https://user-images.githubusercontent.com/722880/86274225-56e0f900-bb9f-11ea-8845-9c6f62dde1c0.png) ![image](https://user-images.githubusercontent.com/722880/86274248-62342480-bb9f-11ea-994c-71fc7d2e6b47.png),other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file,Select all checkbox is tied to tightly to items per page ##### SUMMARY <!-- Briefly describe the problem. --> ##### STEPS TO REPRODUCE * check 5 resources (1 checked should not be the first 5) * set the page size to 5 ##### EXPECTED RESULTS * the select all checkbox to not be checked ##### ACTUAL RESULTS * the select all box is checked ![image](https://user-images.githubusercontent.com/722880/86274225-56e0f900-bb9f-11ea-8845-9c6f62dde1c0.png) ![image](https://user-images.githubusercontent.com/722880/86274248-62342480-bb9f-11ea-994c-71fc7d2e6b47.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file,no-bug,0.8
4666,awx,https://github.com/ansible/awx/issues/4666,Failing to install a role doesn't fail the update job,"##### ISSUE TYPE - Bug Report ##### SUMMARY When running a project update for a playbook which depends on roles defined in requirements.yml, the task job finishes successfully even if the roles are not successfully installed ##### ENVIRONMENT * AWX version: Tower 3.5.1 * AWX install method: openshift * Ansible version: 2.8.2 * Operating System: Fedora 30 * Web Browser: Firefox 68 ##### STEPS TO REPRODUCE 1. Add a project containing a playbook and a requirements.yml file 1.1 The role in the requirements.yml file is incorrect - e.g. missing meta/main.yml 2. Run a project update ##### EXPECTED RESULTS The project update job fails ##### ACTUAL RESULTS The project update job succeeds due to an --ignore-errors flag in the ansible-galaxy command (I assume). Upon inspecting the TASK [fetch galaxy roles from requirements.yml] [tower_fail.log](https://github.com/ansible/awx/files/3578651/tower_fail.log) output, one can see: ""stderr_lines"": [ ""\u001b[1;35m [WARNING]: - comet was NOT installed successfully: this role does not appear\u001b[0m"", ""\u001b[1;35mto have a meta/main.yml file.\u001b[0m"", ""\u001b[1;35m\u001b[0m"" ##### ADDITIONAL INFORMATION - added the whole task log to attachment",test-file,"Failing to install a role doesn't fail the update job ##### ISSUE TYPE - Bug Report ##### SUMMARY When running a project update for a playbook which depends on roles defined in requirements.yml, the task job finishes successfully even if the roles are not successfully installed ##### ENVIRONMENT * AWX version: Tower 3.5.1 * AWX install method: openshift * Ansible version: 2.8.2 * Operating System: Fedora 30 * Web Browser: Firefox 68 ##### STEPS TO REPRODUCE 1. Add a project containing a playbook and a requirements.yml file 1.1 The role in the requirements.yml file is incorrect - e.g. missing meta/main.yml 2. Run a project update ##### EXPECTED RESULTS The project update job fails ##### ACTUAL RESULTS The project update job succeeds due to an --ignore-errors flag in the ansible-galaxy command (I assume). Upon inspecting the TASK [fetch galaxy roles from requirements.yml] [tower_fail.log](https://github.com/ansible/awx/files/3578651/tower_fail.log) output, one can see: ""stderr_lines"": [ ""\u001b[1;35m [WARNING]: - comet was NOT installed successfully: this role does not appear\u001b[0m"", ""\u001b[1;35mto have a meta/main.yml file.\u001b[0m"", ""\u001b[1;35m\u001b[0m"" ##### ADDITIONAL INFORMATION - added the whole task log to attachment test-file",no-bug,0.9
10078,awx,https://github.com/ansible/awx/issues/10078,Cant delete managed_by_tower Execution Environments,"##### ISSUE TYPE - Bug Report ##### SUMMARY Deleted during update Default EE is still in a list and can not be removed ##### ENVIRONMENT * AWX version: 19.0.0, 19.1.0 * AWX install method: AWX Operator * Ansible version: Who knows ? * Operating System: Ubuntu 18.04 * Web Browser: Opera ##### STEPS TO REPRODUCE Updated my minikube AWX setup: kubectl delete -f myawx.yml then minikube kubectl apply -- -f myawx.yml After update the new EE v0.2 is installed Older EE is still in the list and can not be removed. Screenshots ##### EXPECTED RESULTS The only one available EE in the list ##### ACTUAL RESULTS 2 unavailable EE in the list. And 1 actual ##### ADDITIONAL INFORMATION screenshots ![Ansible AWX - Opera 02 05 2021 10_47_40](https://user-images.githubusercontent.com/22151881/116806266-869cbc80-ab34-11eb-89bb-e94bc4936036.png) ![Ansible AWX - Opera 02 05 2021 10_47_31](https://user-images.githubusercontent.com/22151881/116806268-87355300-ab34-11eb-92a3-43907f8c9e94.png)",source-file | source-file | other-file | test-file | other-file | test-file,"Cant delete managed_by_tower Execution Environments ##### ISSUE TYPE - Bug Report ##### SUMMARY Deleted during update Default EE is still in a list and can not be removed ##### ENVIRONMENT * AWX version: 19.0.0, 19.1.0 * AWX install method: AWX Operator * Ansible version: Who knows ? * Operating System: Ubuntu 18.04 * Web Browser: Opera ##### STEPS TO REPRODUCE Updated my minikube AWX setup: kubectl delete -f myawx.yml then minikube kubectl apply -- -f myawx.yml After update the new EE v0.2 is installed Older EE is still in the list and can not be removed. Screenshots ##### EXPECTED RESULTS The only one available EE in the list ##### ACTUAL RESULTS 2 unavailable EE in the list. And 1 actual ##### ADDITIONAL INFORMATION screenshots ![Ansible AWX - Opera 02 05 2021 10_47_40](https://user-images.githubusercontent.com/22151881/116806266-869cbc80-ab34-11eb-89bb-e94bc4936036.png) ![Ansible AWX - Opera 02 05 2021 10_47_31](https://user-images.githubusercontent.com/22151881/116806268-87355300-ab34-11eb-92a3-43907f8c9e94.png) source-file source-file other-file test-file other-file test-file",no-bug,0.7
6411,awx,https://github.com/ansible/awx/issues/6411,Internal Server Error - Awx 9.3.0,"##### ISSUE TYPE - Bug Report ##### SUMMARY Getting an Internal Server Error in the web browser ##### ENVIRONMENT AWX version: 9.3.0 AWX install method: docker on linux Ansible version: 2.9.6 Operating System: Centos 8 Web Browser: Firefox ##### STEPS TO REPRODUCE [root@localhost installer]# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2efb10c68fba ansible/awx_task:9.3.0 ""/tini -- /bin/sh -c"" 2 hours ago Up 14 minutes 8052/tcp awx_task 7fbd2f53b998 ansible/awx_web:9.3.0 ""/tini -- /bin/sh -c"" 2 hours ago Up 14 minutes 0.0.0.0:80->8052/tcp awx_web c19c8bc5f046 memcached:alpine ""docker-entrypoint.s"" 2 hours ago Up 14 minutes 11211/tcp awx_memcached 875b7708ed9d redis ""docker-entrypoint.s"" 2 hours ago Up 14 minutes 6379/tcp awx_redis 13c9fee6776b postgres:10 ""docker-entrypoint.s"" 2 hours ago Up 14 minutes 5432/tcp awx_postgres [root@localhost installer]# docker logs awx_task /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 11:04:34,334 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 11:04:34,337 INFO RPC interface 'supervisor' initialized 2020-03-25 11:04:34,337 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 11:04:34,342 INFO supervisord started with pid 108 2020-03-25 11:04:35,346 INFO spawned: 'awx-config-watcher' with pid 111 2020-03-25 11:04:35,348 INFO spawned: 'dispatcher' with pid 112 2020-03-25 11:04:35,350 INFO spawned: 'callback-receiver' with pid 113 2020-03-25 11:04:35,357 INFO spawned: 'channels-worker' with pid 114 READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,334 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,419 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:36,419 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:36,419 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:36,465 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,482 INFO spawned: 'channels-worker' with pid 118 2020-03-25 11:04:36,528 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:36,952 INFO spawned: 'callback-receiver' with pid 120 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,998 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:37,425 INFO spawned: 'dispatcher' with pid 122 2020-03-25 11:04:37,519 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:37,973 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:04:38,976 INFO spawned: 'callback-receiver' with pid 124 2020-03-25 11:04:38,979 INFO spawned: 'channels-worker' with pid 125 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:39,715 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:39,753 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:40,756 INFO spawned: 'dispatcher' with pid 128 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:41,269 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:04:42,273 INFO spawned: 'callback-receiver' with pid 130 2020-03-25 11:04:42,274 INFO spawned: 'channels-worker' with pid 131 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:42,786 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:42,790 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:44,794 INFO spawned: 'dispatcher' with pid 134 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:45,305 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:04:46,307 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly 2020-03-25 11:04:46,309 INFO spawned: 'callback-receiver' with pid 136 2020-03-25 11:04:46,311 INFO spawned: 'channels-worker' with pid 137 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:46,806 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:46,823 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 11:04:47,824 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:47,824 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:48,826 INFO spawned: 'channels-worker' with pid 140 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:49,333 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:50,337 INFO spawned: 'channels-worker' with pid 142 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:50,843 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:52,848 INFO spawned: 'channels-worker' with pid 144 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:53,349 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:56,354 INFO spawned: 'channels-worker' with pid 146 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:56,846 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:57,847 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 11:22:41,214 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 11:22:41,521 INFO RPC interface 'supervisor' initialized 2020-03-25 11:22:41,521 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 11:22:41,522 INFO supervisord started with pid 97 2020-03-25 11:22:42,526 INFO spawned: 'awx-config-watcher' with pid 100 2020-03-25 11:22:42,537 INFO spawned: 'dispatcher' with pid 101 2020-03-25 11:22:42,539 INFO spawned: 'callback-receiver' with pid 102 2020-03-25 11:22:42,547 INFO spawned: 'channels-worker' with pid 103 READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:43,619 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:43,619 INFO success: dispatcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:43,619 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:43,619 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:43,705 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:22:43,713 INFO spawned: 'callback-receiver' with pid 107 2020-03-25 11:22:43,713 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:43,733 INFO spawned: 'channels-worker' with pid 108 2020-03-25 11:22:43,733 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:44,172 INFO spawned: 'dispatcher' with pid 111 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:44,245 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:22:44,252 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:44,718 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:45,721 INFO spawned: 'dispatcher' with pid 113 2020-03-25 11:22:45,723 INFO spawned: 'callback-receiver' with pid 114 2020-03-25 11:22:45,725 INFO spawned: 'channels-worker' with pid 115 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:46,407 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:46,645 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:46,775 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:47,776 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:48,780 INFO spawned: 'dispatcher' with pid 119 2020-03-25 11:22:48,781 INFO spawned: 'callback-receiver' with pid 120 2020-03-25 11:22:48,783 INFO spawned: 'channels-worker' with pid 121 2020-03-25 11:22:49,785 INFO success: dispatcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:49,785 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:49,785 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:49,864 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:49,922 INFO spawned: 'callback-receiver' with pid 125 2020-03-25 11:22:49,977 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:49,988 INFO spawned: 'dispatcher' with pid 126 2020-03-25 11:22:50,045 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:50,433 INFO spawned: 'channels-worker' with pid 129 2020-03-25 11:22:50,477 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:50,535 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:50,953 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:51,956 INFO spawned: 'dispatcher' with pid 131 2020-03-25 11:22:51,958 INFO spawned: 'callback-receiver' with pid 132 2020-03-25 11:22:51,959 INFO spawned: 'channels-worker' with pid 133 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:52,627 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:52,713 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:52,738 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:54,744 INFO spawned: 'dispatcher' with pid 137 2020-03-25 11:22:54,746 INFO spawned: 'callback-receiver' with pid 138 2020-03-25 11:22:54,748 INFO spawned: 'channels-worker' with pid 139 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:55,401 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:55,401 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:55,586 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:58,593 INFO spawned: 'dispatcher' with pid 143 2020-03-25 11:22:58,595 INFO spawned: 'callback-receiver' with pid 144 2020-03-25 11:22:58,597 INFO spawned: 'channels-worker' with pid 145 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:59,251 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:59,268 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 11:22:59,310 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:59,355 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:59,396 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:23:00,398 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 11:31:40,218 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 11:31:40,525 INFO RPC interface 'supervisor' initialized 2020-03-25 11:31:40,526 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 11:31:40,526 INFO supervisord started with pid 97 2020-03-25 11:31:41,529 INFO spawned: 'awx-config-watcher' with pid 100 2020-03-25 11:31:41,532 INFO spawned: 'dispatcher' with pid 101 2020-03-25 11:31:41,539 INFO spawned: 'callback-receiver' with pid 102 2020-03-25 11:31:41,544 INFO spawned: 'channels-worker' with pid 103 READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:42,430 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:42,484 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:42,567 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:31:42,567 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:31:42,567 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:43,570 INFO spawned: 'dispatcher' with pid 107 2020-03-25 11:31:43,571 INFO spawned: 'callback-receiver' with pid 108 2020-03-25 11:31:43,573 INFO spawned: 'channels-worker' with pid 109 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:44,240 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:44,314 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:44,420 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:45,423 INFO spawned: 'channels-worker' with pid 113 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:45,898 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:46,901 INFO spawned: 'dispatcher' with pid 115 2020-03-25 11:31:46,903 INFO spawned: 'callback-receiver' with pid 116 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:47,377 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:31:47,379 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:31:48,382 INFO spawned: 'channels-worker' with pid 119 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:48,847 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:50,852 INFO spawned: 'dispatcher' with pid 121 2020-03-25 11:31:50,853 INFO spawned: 'callback-receiver' with pid 122 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:51,341 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:31:51,341 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:31:52,343 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly 2020-03-25 11:31:52,343 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 11:31:52,344 INFO spawned: 'channels-worker' with pid 125 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:52,833 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:53,835 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 12:43:31,407 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 12:43:31,719 INFO RPC interface 'supervisor' initialized 2020-03-25 12:43:31,719 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 12:43:31,720 INFO supervisord started with pid 97 2020-03-25 12:43:32,731 INFO spawned: 'awx-config-watcher' with pid 100 2020-03-25 12:43:32,776 INFO spawned: 'dispatcher' with pid 101 2020-03-25 12:43:32,811 INFO spawned: 'callback-receiver' with pid 102 2020-03-25 12:43:32,847 INFO spawned: 'channels-worker' with pid 103 2020-03-25 12:43:33,859 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 12:43:33,860 INFO success: dispatcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 12:43:33,860 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 12:43:33,860 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:37,203 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 12:43:37,283 INFO spawned: 'dispatcher' with pid 107 2020-03-25 12:43:37,284 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 12:43:37,352 INFO spawned: 'channels-worker' with pid 108 2020-03-25 12:43:37,352 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:37,774 INFO spawned: 'callback-receiver' with pid 110 2020-03-25 12:43:37,819 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:38,079 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:38,302 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 12:43:39,305 INFO spawned: 'dispatcher' with pid 113 2020-03-25 12:43:39,307 INFO spawned: 'callback-receiver' with pid 114 2020-03-25 12:43:39,308 INFO spawned: 'channels-worker' with pid 115 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:40,004 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:40,059 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:40,149 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 12:43:42,155 INFO spawned: 'dispatcher' with pid 119 2020-03-25 12:43:42,157 INFO spawned: 'callback-receiver' with pid 120 2020-03-25 12:43:42,159 INFO spawned: 'channels-worker' with pid 121 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:42,819 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 12:43:42,831 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:42,983 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 12:43:45,989 INFO spawned: 'dispatcher' with pid 125 2020-03-25 12:43:45,990 INFO spawned: 'callback-receiver' with pid 126 2020-03-25 12:43:45,992 INFO spawned: 'channels-worker' with pid 127 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:46,623 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:46,684 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly 2020-03-25 12:43:46,737 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:46,800 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 12:43:46,850 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 12:43:47,851 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY",container-file,"Internal Server Error - Awx 9.3.0 ##### ISSUE TYPE - Bug Report ##### SUMMARY Getting an Internal Server Error in the web browser ##### ENVIRONMENT AWX version: 9.3.0 AWX install method: docker on linux Ansible version: 2.9.6 Operating System: Centos 8 Web Browser: Firefox ##### STEPS TO REPRODUCE [root@localhost installer]# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2efb10c68fba ansible/awx_task:9.3.0 ""/tini -- /bin/sh -c"" 2 hours ago Up 14 minutes 8052/tcp awx_task 7fbd2f53b998 ansible/awx_web:9.3.0 ""/tini -- /bin/sh -c"" 2 hours ago Up 14 minutes 0.0.0.0:80->8052/tcp awx_web c19c8bc5f046 memcached:alpine ""docker-entrypoint.s"" 2 hours ago Up 14 minutes 11211/tcp awx_memcached 875b7708ed9d redis ""docker-entrypoint.s"" 2 hours ago Up 14 minutes 6379/tcp awx_redis 13c9fee6776b postgres:10 ""docker-entrypoint.s"" 2 hours ago Up 14 minutes 5432/tcp awx_postgres [root@localhost installer]# docker logs awx_task /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 11:04:34,334 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 11:04:34,337 INFO RPC interface 'supervisor' initialized 2020-03-25 11:04:34,337 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 11:04:34,342 INFO supervisord started with pid 108 2020-03-25 11:04:35,346 INFO spawned: 'awx-config-watcher' with pid 111 2020-03-25 11:04:35,348 INFO spawned: 'dispatcher' with pid 112 2020-03-25 11:04:35,350 INFO spawned: 'callback-receiver' with pid 113 2020-03-25 11:04:35,357 INFO spawned: 'channels-worker' with pid 114 READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,334 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,419 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:36,419 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:36,419 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:36,465 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,482 INFO spawned: 'channels-worker' with pid 118 2020-03-25 11:04:36,528 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:36,952 INFO spawned: 'callback-receiver' with pid 120 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:36,998 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:37,425 INFO spawned: 'dispatcher' with pid 122 2020-03-25 11:04:37,519 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:37,973 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:04:38,976 INFO spawned: 'callback-receiver' with pid 124 2020-03-25 11:04:38,979 INFO spawned: 'channels-worker' with pid 125 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:39,715 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:39,753 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:40,756 INFO spawned: 'dispatcher' with pid 128 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:41,269 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:04:42,273 INFO spawned: 'callback-receiver' with pid 130 2020-03-25 11:04:42,274 INFO spawned: 'channels-worker' with pid 131 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:42,786 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:42,790 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:44,794 INFO spawned: 'dispatcher' with pid 134 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:45,305 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:04:46,307 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly 2020-03-25 11:04:46,309 INFO spawned: 'callback-receiver' with pid 136 2020-03-25 11:04:46,311 INFO spawned: 'channels-worker' with pid 137 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:46,806 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:04:46,823 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 11:04:47,824 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:04:47,824 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:48,826 INFO spawned: 'channels-worker' with pid 140 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:49,333 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:50,337 INFO spawned: 'channels-worker' with pid 142 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:50,843 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:52,848 INFO spawned: 'channels-worker' with pid 144 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:53,349 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:56,354 INFO spawned: 'channels-worker' with pid 146 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:04:56,846 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:04:57,847 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 11:22:41,214 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 11:22:41,521 INFO RPC interface 'supervisor' initialized 2020-03-25 11:22:41,521 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 11:22:41,522 INFO supervisord started with pid 97 2020-03-25 11:22:42,526 INFO spawned: 'awx-config-watcher' with pid 100 2020-03-25 11:22:42,537 INFO spawned: 'dispatcher' with pid 101 2020-03-25 11:22:42,539 INFO spawned: 'callback-receiver' with pid 102 2020-03-25 11:22:42,547 INFO spawned: 'channels-worker' with pid 103 READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:43,619 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:43,619 INFO success: dispatcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:43,619 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:43,619 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:43,705 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:22:43,713 INFO spawned: 'callback-receiver' with pid 107 2020-03-25 11:22:43,713 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:43,733 INFO spawned: 'channels-worker' with pid 108 2020-03-25 11:22:43,733 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:44,172 INFO spawned: 'dispatcher' with pid 111 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:44,245 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:22:44,252 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:44,718 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:45,721 INFO spawned: 'dispatcher' with pid 113 2020-03-25 11:22:45,723 INFO spawned: 'callback-receiver' with pid 114 2020-03-25 11:22:45,725 INFO spawned: 'channels-worker' with pid 115 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:46,407 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:46,645 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:46,775 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:47,776 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:48,780 INFO spawned: 'dispatcher' with pid 119 2020-03-25 11:22:48,781 INFO spawned: 'callback-receiver' with pid 120 2020-03-25 11:22:48,783 INFO spawned: 'channels-worker' with pid 121 2020-03-25 11:22:49,785 INFO success: dispatcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:49,785 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:22:49,785 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:49,864 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:49,922 INFO spawned: 'callback-receiver' with pid 125 2020-03-25 11:22:49,977 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:49,988 INFO spawned: 'dispatcher' with pid 126 2020-03-25 11:22:50,045 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:50,433 INFO spawned: 'channels-worker' with pid 129 2020-03-25 11:22:50,477 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:50,535 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:50,953 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:51,956 INFO spawned: 'dispatcher' with pid 131 2020-03-25 11:22:51,958 INFO spawned: 'callback-receiver' with pid 132 2020-03-25 11:22:51,959 INFO spawned: 'channels-worker' with pid 133 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:52,627 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:52,713 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:52,738 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:54,744 INFO spawned: 'dispatcher' with pid 137 2020-03-25 11:22:54,746 INFO spawned: 'callback-receiver' with pid 138 2020-03-25 11:22:54,748 INFO spawned: 'channels-worker' with pid 139 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:55,401 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:55,401 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:55,586 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:22:58,593 INFO spawned: 'dispatcher' with pid 143 2020-03-25 11:22:58,595 INFO spawned: 'callback-receiver' with pid 144 2020-03-25 11:22:58,597 INFO spawned: 'channels-worker' with pid 145 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:59,251 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:59,268 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 11:22:59,310 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:22:59,355 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:22:59,396 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:23:00,398 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 11:31:40,218 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 11:31:40,525 INFO RPC interface 'supervisor' initialized 2020-03-25 11:31:40,526 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 11:31:40,526 INFO supervisord started with pid 97 2020-03-25 11:31:41,529 INFO spawned: 'awx-config-watcher' with pid 100 2020-03-25 11:31:41,532 INFO spawned: 'dispatcher' with pid 101 2020-03-25 11:31:41,539 INFO spawned: 'callback-receiver' with pid 102 2020-03-25 11:31:41,544 INFO spawned: 'channels-worker' with pid 103 READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:42,430 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:42,484 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:42,567 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:31:42,567 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 11:31:42,567 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:43,570 INFO spawned: 'dispatcher' with pid 107 2020-03-25 11:31:43,571 INFO spawned: 'callback-receiver' with pid 108 2020-03-25 11:31:43,573 INFO spawned: 'channels-worker' with pid 109 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:44,240 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:44,314 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:44,420 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:45,423 INFO spawned: 'channels-worker' with pid 113 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:45,898 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:46,901 INFO spawned: 'dispatcher' with pid 115 2020-03-25 11:31:46,903 INFO spawned: 'callback-receiver' with pid 116 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:47,377 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:31:47,379 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:31:48,382 INFO spawned: 'channels-worker' with pid 119 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:48,847 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:50,852 INFO spawned: 'dispatcher' with pid 121 2020-03-25 11:31:50,853 INFO spawned: 'callback-receiver' with pid 122 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:51,341 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 11:31:51,341 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 11:31:52,343 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly 2020-03-25 11:31:52,343 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 11:31:52,344 INFO spawned: 'channels-worker' with pid 125 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 11:31:52,833 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 11:31:53,835 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY /usr/bin/launch_awx_task.sh: line 8: source: /etc/tower/conf.d/environment.sh: is a directory Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } Using /etc/ansible/ansible.cfg as config file 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/libexec/platform-python"" }, ""changed"": false, ""msg"": ""argument port is of type <class 'str'> and we were unable to convert to int: <class 'str'> cannot be converted to an int"" } usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER] [-K] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL] [-B SECONDS] [-o] [-t TREE] [-k] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT] [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS] [--ssh-extra-args SSH_EXTRA_ARGS] [-C] [--syntax-check] [-D] [-e EXTRA_VARS] [--vault-id VAULT_IDS] [--ask-vault-pass | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--playbook-dir BASEDIR] [-a MODULE_ARGS] [-m MODULE_NAME] pattern ansible: error: argument --become-user: expected one argument Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. cut: /etc/tower/conf.d/environment.sh: Is a directory 2020-03-25 12:43:31,407 CRIT Supervisor is running as root. Privileges were not dropped because no user is specified in the config file. If you intend to run as root, you can set user=root in the config file to avoid this message. 2020-03-25 12:43:31,719 INFO RPC interface 'supervisor' initialized 2020-03-25 12:43:31,719 CRIT Server 'unix_http_server' running without any HTTP authentication checking 2020-03-25 12:43:31,720 INFO supervisord started with pid 97 2020-03-25 12:43:32,731 INFO spawned: 'awx-config-watcher' with pid 100 2020-03-25 12:43:32,776 INFO spawned: 'dispatcher' with pid 101 2020-03-25 12:43:32,811 INFO spawned: 'callback-receiver' with pid 102 2020-03-25 12:43:32,847 INFO spawned: 'channels-worker' with pid 103 2020-03-25 12:43:33,859 INFO success: awx-config-watcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 12:43:33,860 INFO success: dispatcher entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 12:43:33,860 INFO success: callback-receiver entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) 2020-03-25 12:43:33,860 INFO success: channels-worker entered RUNNING state, process has stayed up for > than 1 seconds (startsecs) READY Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:37,203 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 12:43:37,283 INFO spawned: 'dispatcher' with pid 107 2020-03-25 12:43:37,284 INFO exited: channels-worker (exit status 1; not expected) 2020-03-25 12:43:37,352 INFO spawned: 'channels-worker' with pid 108 2020-03-25 12:43:37,352 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:37,774 INFO spawned: 'callback-receiver' with pid 110 2020-03-25 12:43:37,819 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:38,079 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:38,302 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 12:43:39,305 INFO spawned: 'dispatcher' with pid 113 2020-03-25 12:43:39,307 INFO spawned: 'callback-receiver' with pid 114 2020-03-25 12:43:39,308 INFO spawned: 'channels-worker' with pid 115 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:40,004 INFO exited: dispatcher (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:40,059 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:40,149 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 12:43:42,155 INFO spawned: 'dispatcher' with pid 119 2020-03-25 12:43:42,157 INFO spawned: 'callback-receiver' with pid 120 2020-03-25 12:43:42,159 INFO spawned: 'channels-worker' with pid 121 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:42,819 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 12:43:42,831 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:42,983 INFO exited: callback-receiver (exit status 1; not expected) 2020-03-25 12:43:45,989 INFO spawned: 'dispatcher' with pid 125 2020-03-25 12:43:45,990 INFO spawned: 'callback-receiver' with pid 126 2020-03-25 12:43:45,992 INFO spawned: 'channels-worker' with pid 127 Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:46,623 INFO exited: channels-worker (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:46,684 INFO gave up: channels-worker entered FATAL state, too many start retries too quickly 2020-03-25 12:43:46,737 INFO exited: callback-receiver (exit status 1; not expected) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 84, in <module> include(settings_file, optional(settings_files), scope=locals()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/split_settings/tools.py"", line 107, in include exec(compiled_code, scope) # noqa: S102, WPS421 File ""/etc/tower/settings.py"", line 19, in <module> SECRET_KEY = get_secret() File ""/etc/tower/settings.py"", line 8, in get_secret return open('/etc/tower/SECRET_KEY', 'rb').read().strip() IsADirectoryError: [Errno 21] Is a directory: '/etc/tower/SECRET_KEY' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/usr/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 136, in manage prepare_env() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 95, in prepare_env if not settings.DEBUG: # pragma: no cover File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 79, in __getattr__ self._setup(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 66, in _setup self._wrapped = Settings(settings_module) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/conf/__init__.py"", line 157, in __init__ mod = importlib.import_module(self.SETTINGS_MODULE) File ""/var/lib/awx/venv/awx/lib64/python3.6/importlib/__init__.py"", line 126, in import_module return _bootstrap._gcd_import(name[level:], package, level) File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/settings/production.py"", line 106, in <module> raise ImproperlyConfigured(msg) django.core.exceptions.ImproperlyConfigured: No AWX configuration found at /etc/tower/settings.py. Define the AWX_SETTINGS_FILE environment variable to specify an alternate path. 2020-03-25 12:43:46,800 INFO gave up: callback-receiver entered FATAL state, too many start retries too quickly 2020-03-25 12:43:46,850 INFO exited: dispatcher (exit status 1; not expected) 2020-03-25 12:43:47,851 INFO gave up: dispatcher entered FATAL state, too many start retries too quickly RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY RESULT 2 OKREADY container-file",no-bug,0.9
9377,awx,https://github.com/ansible/awx/issues/9377,Workflow only uses toplevel limit,"##### ISSUE TYPE - Bug Report ##### SUMMARY Since workflows make use of job templates, I would expect that the individual job template has the master limit for each job being run through the workflow. Instead the limit at the top level of the workflow is the only one that is being honored. If we leave that top-level blank, then the job run against every machine in our inventory instead of the ones listed only in the job template being run. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 20.04 * Web Browser: Any ##### STEPS TO REPRODUCE 1. Create a workflow 2. Assign job templates in the visualizer 3. Set your limit in the job templates only 4. Save your workflow ##### EXPECTED RESULTS I expect the limit in the job templates of the visualizer to be the master source for the limit, not the workflow. ##### ACTUAL RESULTS The job template limit is ignored, and each job template task is run against every server in the inventory ##### ADDITIONAL INFORMATION Will provide any more information as requested.",other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file,"Workflow only uses toplevel limit ##### ISSUE TYPE - Bug Report ##### SUMMARY Since workflows make use of job templates, I would expect that the individual job template has the master limit for each job being run through the workflow. Instead the limit at the top level of the workflow is the only one that is being honored. If we leave that top-level blank, then the job run against every machine in our inventory instead of the ones listed only in the job template being run. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 20.04 * Web Browser: Any ##### STEPS TO REPRODUCE 1. Create a workflow 2. Assign job templates in the visualizer 3. Set your limit in the job templates only 4. Save your workflow ##### EXPECTED RESULTS I expect the limit in the job templates of the visualizer to be the master source for the limit, not the workflow. ##### ACTUAL RESULTS The job template limit is ignored, and each job template task is run against every server in the inventory ##### ADDITIONAL INFORMATION Will provide any more information as requested. other-file other-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file",no-bug,0.9
9770,awx,https://github.com/ansible/awx/issues/9770,Organization should be used to filter EE related to certain resources,"##### ISSUE TYPE - Bug Report ##### SUMMARY Organization should be used to filter EE related to certain resources. For instance, the JT EE lookup should show all EE - globally available ones + the ones associated with the Organization that the JT is associated as well. Right now that is not the case.",other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file,"Organization should be used to filter EE related to certain resources ##### ISSUE TYPE - Bug Report ##### SUMMARY Organization should be used to filter EE related to certain resources. For instance, the JT EE lookup should show all EE - globally available ones + the ones associated with the Organization that the JT is associated as well. Right now that is not the case. other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file",no-bug,0.7
8906,awx,https://github.com/ansible/awx/issues/8906,Add proper validation to CodeMirrorField component,"##### ISSUE TYPE - Feature Idea ##### SUMMARY It doesn't look like this was ever really implemented. There's a prop on the component where you _could_ pass in a validate function but we don't actually do that in any of the places. The idea here is that we want to validate the field for malformed yaml/json and _at a minimum_ show an error beneath the field. The reason why I think this is going to be difficult is because we have to deal with formik. By default, formik is going to run validation on _change_ and on _blur_. In the case of these codemirror fields we definitely don't want to validate on change (each keystroke) since this would show errors constantly. We probably only want to validate on blur. This can be configured at the _form_ level with a prop passed to `<Formik ... ` but that would mean _all_ the fields in the form would only validate on blur. We may have to come up with a clever solution here to only validate these codemirror fields on blur but validate the rest of the form on change and blur. This is particularly important for places with prompts. We manipulate/combine extra vars and survey values later on during the process and having unvalidated data makes error handling difficult. This may also tie in to https://github.com/ansible/awx/issues/8905",other-file | other-file,"Add proper validation to CodeMirrorField component ##### ISSUE TYPE - Feature Idea ##### SUMMARY It doesn't look like this was ever really implemented. There's a prop on the component where you _could_ pass in a validate function but we don't actually do that in any of the places. The idea here is that we want to validate the field for malformed yaml/json and _at a minimum_ show an error beneath the field. The reason why I think this is going to be difficult is because we have to deal with formik. By default, formik is going to run validation on _change_ and on _blur_. In the case of these codemirror fields we definitely don't want to validate on change (each keystroke) since this would show errors constantly. We probably only want to validate on blur. This can be configured at the _form_ level with a prop passed to `<Formik ... ` but that would mean _all_ the fields in the form would only validate on blur. We may have to come up with a clever solution here to only validate these codemirror fields on blur but validate the rest of the form on change and blur. This is particularly important for places with prompts. We manipulate/combine extra vars and survey values later on during the process and having unvalidated data makes error handling difficult. This may also tie in to https://github.com/ansible/awx/issues/8905 other-file other-file",no-bug,0.9
9232,awx,https://github.com/ansible/awx/issues/9232,AXW Smart Inventory advanced host filter not working at GUI,"##### COMPONENT NAME - UI ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux, * Ansible version: 2.9.17 * Operating System: CentOS7 * Web Browser: Firefox 84.0.2 ##### STEPS TO REPRODUCE tried to create a smart inventory with advanced type host filter like: name__exact=localhost or name__regex=b[12]-worker when defining the filter the host are selected fine. After pressing ""Select"" and returning to the particular inventorys details edit window and the smart host filter field is empty. Now when pressing save I get ""An server error has occurred"" If I define the filter through the API it works POST /api/v2/inventories/ { ""name"": ""testinventory"", ""description"": """", ""organization"": 2, ""kind"": """", ""host_filter"": ""name__regex=b[12]-worker or name__exact=localhost"", ""variables"": """", ""insights_credential"": null } ##### EXPECTED RESULTS I expect the that the constucted filter is accepted after pressing ""Select"" ##### ACTUAL RESULTS GUI unusable to create smart inventories using advanced host filters ##### ADDITIONAL INFORMATION I saw a similar issue raised in 2018 which is tagged as closed but it seems not to be the case",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"AXW Smart Inventory advanced host filter not working at GUI ##### COMPONENT NAME - UI ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux, * Ansible version: 2.9.17 * Operating System: CentOS7 * Web Browser: Firefox 84.0.2 ##### STEPS TO REPRODUCE tried to create a smart inventory with advanced type host filter like: name__exact=localhost or name__regex=b[12]-worker when defining the filter the host are selected fine. After pressing ""Select"" and returning to the particular inventorys details edit window and the smart host filter field is empty. Now when pressing save I get ""An server error has occurred"" If I define the filter through the API it works POST /api/v2/inventories/ { ""name"": ""testinventory"", ""description"": """", ""organization"": 2, ""kind"": """", ""host_filter"": ""name__regex=b[12]-worker or name__exact=localhost"", ""variables"": """", ""insights_credential"": null } ##### EXPECTED RESULTS I expect the that the constucted filter is accepted after pressing ""Select"" ##### ACTUAL RESULTS GUI unusable to create smart inventories using advanced host filters ##### ADDITIONAL INFORMATION I saw a similar issue raised in 2018 which is tagged as closed but it seems not to be the case other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.8
10240,awx,https://github.com/ansible/awx/issues/10240,Remove URL params when closing modal/wizard,"##### ISSUE TYPE - Bug Report ##### SUMMARY Clean up URL params when closing a modal. See https://github.com/ansible/awx/pull/10215#issuecomment-845202406 for details/examples. Ideally, closing and re-opening a modal should bring it back up in a ""clean"" state, without filters/search/or pagination applied to any list within the modal. This might require a little brainstorming & thinking through specific examples to be sure we get the behavior we want everywhere. What about clicking through steps in a wizardshould filters remain if the user navigates back to a previous step where filters were applied? ##### STEPS TO REPRODUCE Open any modal with a list of items. Run a filter on the list or change pagination options. Close the modal; the filters will remain in the URL params. Re-open the same modal, and the filters will still be applied (because they are read from the URL params) ##### EXPECTED RESULTS Closing and re-opening a modal should _probably_ bring it back up in a ""clean"" state, without filters/search/or pagination applied to any list within the modal.",other-file,"Remove URL params when closing modal/wizard ##### ISSUE TYPE - Bug Report ##### SUMMARY Clean up URL params when closing a modal. See https://github.com/ansible/awx/pull/10215#issuecomment-845202406 for details/examples. Ideally, closing and re-opening a modal should bring it back up in a ""clean"" state, without filters/search/or pagination applied to any list within the modal. This might require a little brainstorming & thinking through specific examples to be sure we get the behavior we want everywhere. What about clicking through steps in a wizardshould filters remain if the user navigates back to a previous step where filters were applied? ##### STEPS TO REPRODUCE Open any modal with a list of items. Run a filter on the list or change pagination options. Close the modal; the filters will remain in the URL params. Re-open the same modal, and the filters will still be applied (because they are read from the URL params) ##### EXPECTED RESULTS Closing and re-opening a modal should _probably_ bring it back up in a ""clean"" state, without filters/search/or pagination applied to any list within the modal. other-file",no-bug,0.8
9560,awx,https://github.com/ansible/awx/issues/9560,Allow WFJT execution_environment to be used as a fallback for node jobs,"##### ISSUE TYPE - Feature Idea ##### SUMMARY `WorkflowJobTemplate`s have an `execution_environment` field since they derive from `UnifiedJobTemplate`. However, the current execution environment resolving code doesn't make use of this. We should add logic to the resolver that allows this value to be used as a fallback if a job hanging off of a workflow node fails to have an explicitly set EE.",source-file | source-file | source-file | source-file,"Allow WFJT execution_environment to be used as a fallback for node jobs ##### ISSUE TYPE - Feature Idea ##### SUMMARY `WorkflowJobTemplate`s have an `execution_environment` field since they derive from `UnifiedJobTemplate`. However, the current execution environment resolving code doesn't make use of this. We should add logic to the resolver that allows this value to be used as a fallback if a job hanging off of a workflow node fails to have an explicitly set EE. source-file source-file source-file source-file",no-bug,0.9
11061,awx,https://github.com/ansible/awx/issues/11061,Workflow Node Info Button Displaying Error When Clicked,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary A bug occurs after clicking the ""Info"" button on a workflow node (see gif in ""Steps to reproduce"") ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to templates and create a workflow node 2. Add a node 3. Click Info button on added node 4. Click ""Details"" 5. Bug occurs ![2021-09-09 12-21-25](https://user-images.githubusercontent.com/37008228/132724591-ba960f34-2fac-4a9d-a056-1f5c8fd9074e.gif) ### Expected results Click on info and see a popup with information on the node ### Actual results Error message displayed when info button is clicked ### Additional information Found this bug while testing https://github.com/ansible/awx/issues/10628",source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Workflow Node Info Button Displaying Error When Clicked ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary A bug occurs after clicking the ""Info"" button on a workflow node (see gif in ""Steps to reproduce"") ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to templates and create a workflow node 2. Add a node 3. Click Info button on added node 4. Click ""Details"" 5. Bug occurs ![2021-09-09 12-21-25](https://user-images.githubusercontent.com/37008228/132724591-ba960f34-2fac-4a9d-a056-1f5c8fd9074e.gif) ### Expected results Click on info and see a popup with information on the node ### Actual results Error message displayed when info button is clicked ### Additional information Found this bug while testing https://github.com/ansible/awx/issues/10628 source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.8
6309,awx,https://github.com/ansible/awx/issues/6309,POST to api/v2/inventories/<ID>/inventory_sources/ with id and name gets 201 created (should be 400),"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> I was trying to associate an inventory script with an inventory as an inventory source. When I did a POST to api/v2/inventories/<ID>/inventory_sources/ with id and name I got a 201 created (should be 400) and an inventory source object back. I then launched an inventory update and the following traceback was produced: ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 1308, in run args = self.build_args(self.instance, private_data_dir, passwords) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 2472, in build_args if getattr(settings, '%s_EXCLUDE_EMPTY_GROUPS' % src.upper()): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py"", line 511, in __getattr_without_cache__ return getattr(self._wrapped, name) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py"", line 418, in __getattr__ value = self._get_default(name) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py"", line 405, in _get_default return getattr(self.default_settings, name) AttributeError: 'Settings' object has no attribute '_EXCLUDE_EMPTY_GROUPS' ``` Seems like the bug is that we are not requiring the `source` perhaps among other things and ignoring `id`",source-file | source-file,"POST to api/v2/inventories/<ID>/inventory_sources/ with id and name gets 201 created (should be 400) ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> I was trying to associate an inventory script with an inventory as an inventory source. When I did a POST to api/v2/inventories/<ID>/inventory_sources/ with id and name I got a 201 created (should be 400) and an inventory source object back. I then launched an inventory update and the following traceback was produced: ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 1308, in run args = self.build_args(self.instance, private_data_dir, passwords) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 2472, in build_args if getattr(settings, '%s_EXCLUDE_EMPTY_GROUPS' % src.upper()): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py"", line 511, in __getattr_without_cache__ return getattr(self._wrapped, name) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py"", line 418, in __getattr__ value = self._get_default(name) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/conf/settings.py"", line 405, in _get_default return getattr(self.default_settings, name) AttributeError: 'Settings' object has no attribute '_EXCLUDE_EMPTY_GROUPS' ``` Seems like the bug is that we are not requiring the `source` perhaps among other things and ignoring `id` source-file source-file",bug,0.95
8839,awx,https://github.com/ansible/awx/issues/8839,[ui_next] SCM Inventory Source Update Details view has no link to the project Sync which caused it,"##### ISSUE TYPE - Bug Report - Enhancement ##### SUMMARY It is very common that the sync fails because the source_project_update fails, and having a link to it is absolutely critical for usability. It would also be nice to have a link to the inventory source & the source project (as opposed to the source update). However, I guess we can get by without these. If we dont have a link to the source project update, it leaves resources totally orphaned. ##### ENVIRONMENT * AWX version: 12/10 ##### ADDITIONAL INFORMATION ![Screen Shot 2020-12-10 at 3 48 16 PM](https://user-images.githubusercontent.com/12446869/101828205-3b3f2e80-3aff-11eb-8fee-455473bdff49.png)",source-file | other-file,"[ui_next] SCM Inventory Source Update Details view has no link to the project Sync which caused it ##### ISSUE TYPE - Bug Report - Enhancement ##### SUMMARY It is very common that the sync fails because the source_project_update fails, and having a link to it is absolutely critical for usability. It would also be nice to have a link to the inventory source & the source project (as opposed to the source update). However, I guess we can get by without these. If we dont have a link to the source project update, it leaves resources totally orphaned. ##### ENVIRONMENT * AWX version: 12/10 ##### ADDITIONAL INFORMATION ![Screen Shot 2020-12-10 at 3 48 16 PM](https://user-images.githubusercontent.com/12446869/101828205-3b3f2e80-3aff-11eb-8fee-455473bdff49.png) source-file other-file",no-bug,0.8
7848,awx,https://github.com/ansible/awx/issues/7848,Dispatcher unable to handle absent nodes,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> To start, we are backing up a cluster and restoring to servers in a different data center which may have different names. In the database the main_instance table has entries with the same UUIDs but different hostnames. When this happens the dispatcher for running jobs becomes unreachable and you can no longer cancel jobs. PR https://github.com/ansible/awx/pull/7823 fixes a 500 error from happening within the UI when trying to cancel a job running on a non-reachable dispatcher. While it works for a job template, workflow job templates appear to ""resurrect"" themselves in the UI. https://drive.google.com/file/d/1KBdTjOeY1Jag1eISlKbR9WJhiwwv9x_k/view?usp=sharing This appears to be happening because on a workflow only the cancel_flag is set too True and then the dispatcher picks up this flag and actually performs the job cancel. So the UI makes it looked canceled but then (after the status is reloaded) the UI puts it back into its running state. Should the reaper logic should be updated to handle dispatcher processes which have been lost and will not return? ##### ENVIRONMENT * AWX version: 13.0.0 (Tower 3.7.1) * AWX install method: Tower Cluster * Ansible version: X.Y.Z * Operating System: RHEL * Web Browser: Any ##### STEPS TO REPRODUCE Build a 3 node cluster with external database. Start a workflow running on the cluster. Backup the cluster. Restore the backup into a new 3 node cluster. The workflow that was running in the old cluster during the backup will not be cancelable. NOTE: there is a PR to the backup code #841 which will auto-cancel running jobs during a restore. If the above is tested with that PR this will not be reproducible. ##### EXPECTED RESULTS Canceling a job in the UI will result in the job being canceled. ##### ACTUAL RESULTS Jobs are stuck running in queue. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file | source-file | source-file,"Dispatcher unable to handle absent nodes ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> To start, we are backing up a cluster and restoring to servers in a different data center which may have different names. In the database the main_instance table has entries with the same UUIDs but different hostnames. When this happens the dispatcher for running jobs becomes unreachable and you can no longer cancel jobs. PR https://github.com/ansible/awx/pull/7823 fixes a 500 error from happening within the UI when trying to cancel a job running on a non-reachable dispatcher. While it works for a job template, workflow job templates appear to ""resurrect"" themselves in the UI. https://drive.google.com/file/d/1KBdTjOeY1Jag1eISlKbR9WJhiwwv9x_k/view?usp=sharing This appears to be happening because on a workflow only the cancel_flag is set too True and then the dispatcher picks up this flag and actually performs the job cancel. So the UI makes it looked canceled but then (after the status is reloaded) the UI puts it back into its running state. Should the reaper logic should be updated to handle dispatcher processes which have been lost and will not return? ##### ENVIRONMENT * AWX version: 13.0.0 (Tower 3.7.1) * AWX install method: Tower Cluster * Ansible version: X.Y.Z * Operating System: RHEL * Web Browser: Any ##### STEPS TO REPRODUCE Build a 3 node cluster with external database. Start a workflow running on the cluster. Backup the cluster. Restore the backup into a new 3 node cluster. The workflow that was running in the old cluster during the backup will not be cancelable. NOTE: there is a PR to the backup code #841 which will auto-cancel running jobs during a restore. If the above is tested with that PR this will not be reproducible. ##### EXPECTED RESULTS Canceling a job in the UI will result in the job being canceled. ##### ACTUAL RESULTS Jobs are stuck running in queue. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file source-file source-file",no-bug,0.8
5055,awx,https://github.com/ansible/awx/issues/5055,"Text Alignment is Off for ""MINUTES"" Text On Scheduling Page","##### ISSUE TYPE - Bug Report ##### ENVIRONMENT * `awx: 7.0.0` * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a schedule for a Job Template, set `REPEATE FREQUENCY` to `Minute`. Text alignment is off for the word `MINUTE` under the `FREQUENCY DETAIL` section, no matter how wide the browser window is: <img width=""369"" alt=""Screen Shot 2019-10-21 at 2 41 32 PM"" src=""https://user-images.githubusercontent.com/28930622/67234696-943b9700-f413-11e9-800d-545a610529c3.png"">",other-file | test-file,"Text Alignment is Off for ""MINUTES"" Text On Scheduling Page ##### ISSUE TYPE - Bug Report ##### ENVIRONMENT * `awx: 7.0.0` * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a schedule for a Job Template, set `REPEATE FREQUENCY` to `Minute`. Text alignment is off for the word `MINUTE` under the `FREQUENCY DETAIL` section, no matter how wide the browser window is: <img width=""369"" alt=""Screen Shot 2019-10-21 at 2 41 32 PM"" src=""https://user-images.githubusercontent.com/28930622/67234696-943b9700-f413-11e9-800d-545a610529c3.png""> other-file test-file",no-bug,0.95
4559,awx,https://github.com/ansible/awx/issues/4559,CLI: awx custom commands do not respond to --help,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> using new CLI by pip installing `awxkit` directory, when I call `awx login --help` with TOWER_USERNAME and TOWER_PASSWORD in my environment, I get the token output. If I DO NOT provide the above environment variables XOR TOWER_TOKEN, I get the help but I also get an error: ``` $unset TOWER_USERNAME $ unset TOWER_PASSWORD $ unset TOWER_TOKEN $ awx login --help usage: awx login [-h] [--conf.client_id TEXT] [--conf.client_secret TEXT] [--conf.scope {read,write}] [--conf.host https://example.awx.org] [--conf.token TEXT] [--conf.username TEXT] [--conf.password TEXT] [-k] optional arguments: -h, --help show this help message and exit OAuth2.0 Options: --conf.client_id TEXT --conf.client_secret TEXT --conf.scope {read,write} authentication: --conf.host https://example.awx.org --conf.token TEXT an OAuth2.0 token (get one by using `awx login`) --conf.username TEXT --conf.password TEXT -k, --conf.insecure Allow insecure server connections when using SSL Error retrieving an OAuth2.0 token (<class 'awxkit.exceptions.Unauthorized'>). ``` Expected results: Calling `awx login --help` under any circumstances prints out help and not an error. E.g. if `help` is requested, don't attempt to authenticate at all Also, because the output of `export TOWER_TOKEN=<token>` is a bit unique, I think the help text should indicate this is how it works. I know it is in the docs but would like it in the help text too, because it does not really indicate that it is going to give you a token. Rather, user might assume it creates a session from which they would log out or something.",source-file | source-file | source-file | documentation-file | other-file | other-file,"CLI: awx custom commands do not respond to --help ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> using new CLI by pip installing `awxkit` directory, when I call `awx login --help` with TOWER_USERNAME and TOWER_PASSWORD in my environment, I get the token output. If I DO NOT provide the above environment variables XOR TOWER_TOKEN, I get the help but I also get an error: ``` $unset TOWER_USERNAME $ unset TOWER_PASSWORD $ unset TOWER_TOKEN $ awx login --help usage: awx login [-h] [--conf.client_id TEXT] [--conf.client_secret TEXT] [--conf.scope {read,write}] [--conf.host https://example.awx.org] [--conf.token TEXT] [--conf.username TEXT] [--conf.password TEXT] [-k] optional arguments: -h, --help show this help message and exit OAuth2.0 Options: --conf.client_id TEXT --conf.client_secret TEXT --conf.scope {read,write} authentication: --conf.host https://example.awx.org --conf.token TEXT an OAuth2.0 token (get one by using `awx login`) --conf.username TEXT --conf.password TEXT -k, --conf.insecure Allow insecure server connections when using SSL Error retrieving an OAuth2.0 token (<class 'awxkit.exceptions.Unauthorized'>). ``` Expected results: Calling `awx login --help` under any circumstances prints out help and not an error. E.g. if `help` is requested, don't attempt to authenticate at all Also, because the output of `export TOWER_TOKEN=<token>` is a bit unique, I think the help text should indicate this is how it works. I know it is in the docs but would like it in the help text too, because it does not really indicate that it is going to give you a token. Rather, user might assume it creates a session from which they would log out or something. source-file source-file source-file documentation-file other-file other-file",no-bug,0.9
4750,awx,https://github.com/ansible/awx/issues/4750,"Inventory Update using ""Sourced from a Project"" not working - AWX 7.0.0","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.4 * Operating System: Debian * Web Browser: Chrome ##### STEPS TO REPRODUCE Try to sync an inventory using ""Sourced from a Project"" source. The job fails with no clear output. When visiting API I find the issue and pin it in specific job running before that ##### EXPECTED RESULTS Inventory sync to happen ##### ACTUAL RESULTS A failed Task ##### ADDITIONAL INFORMATION Checking the inventory_update job number 980 I find this error: ``` { ""id"": 980, ""type"": ""inventory_update"", ""url"": ""/api/v2/inventory_updates/980/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""unified_job_template"": ""/api/v2/inventory_sources/28/"", ""stdout"": ""/api/v2/inventory_updates/980/stdout/"", ""inventory_source"": ""/api/v2/inventory_sources/28/"", ""cancel"": ""/api/v2/inventory_updates/980/cancel/"", ""notifications"": ""/api/v2/inventory_updates/980/notifications/"", ""events"": ""/api/v2/inventory_updates/980/events/"", ""source_project_update"": ""/api/v2/project_updates/981/"", ""inventory"": ""/api/v2/inventories/4/"", ""credentials"": ""/api/v2/inventory_updates/980/credentials/"", ""source_project"": ""/api/v2/projects/24/"" }, ""summary_fields"": { ""inventory"": { ""id"": 4, ""name"": ""kubernetes"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 0, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""groups_with_active_failures"": 0, ""has_inventory_sources"": true, ""total_inventory_sources"": 1, ""inventory_sources_with_failures"": 1, ""organization_id"": 1, ""kind"": """" }, ""unified_job_template"": { ""id"": 28, ""name"": ""Update inventory"", ""description"": """", ""unified_job_type"": ""inventory_update"" }, ""inventory_source"": { ""source"": ""scm"", ""last_updated"": ""2019-09-14T13:42:08.653158Z"", ""status"": ""failed"" }, ""instance_group"": { ""name"": ""tower"", ""id"": 1 }, ""created_by"": { ""id"": 1, ""username"": ""admin"", ""first_name"": """", ""last_name"": """" }, ""user_capabilities"": { ""delete"": true, ""start"": true }, ""credentials"": [], ""source_project"": { ""id"": 24, ""name"": ""Kubernetes"", ""description"": """", ""status"": ""successful"", ""scm_type"": ""git"" } }, ""created"": ""2019-09-14T13:36:34.515351Z"", ""modified"": ""2019-09-14T13:36:34.714877Z"", ""name"": ""kubernetes - Update inventory"", ""description"": """", ""source"": ""scm"", ""source_path"": ""inventory"", ""source_script"": null, ""source_vars"": """", ""credential"": null, ""source_regions"": """", ""instance_filters"": """", ""group_by"": """", ""overwrite"": false, ""overwrite_vars"": false, ""custom_virtualenv"": null, ""timeout"": 0, ""verbosity"": 1, ""unified_job_template"": 28, ""launch_type"": ""manual"", ""status"": ""error"", ""failed"": true, ""started"": ""2019-09-14T13:36:34.822591Z"", ""finished"": ""2019-09-14T13:36:40.780413Z"", ""elapsed"": 0.0, ""job_args"": """", ""job_cwd"": """", ""job_env"": {}, ""job_explanation"": ""Previous Task Failed: {\""job_type\"": \""project_update\"", \""job_name\"": \""Kubernetes\"", \""job_id\"": \""981\""}"", ""execution_node"": ""ansibleworker1"", ""result_traceback"": ""Traceback (most recent call last):\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 1174, in run\n self.pre_run_hook(self.instance, private_data_dir)\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 2330, in pre_run_hook\n project_update_task().run(local_project_sync.id)\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 685, in _wrapped\n return f(self, *args, **kwargs)\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 1330, in run\n raise AwxTaskError.TaskError(self.instance, rc)\nException: project_update 981 (failed) encountered an error (rc=2), please see task stdout for details.\n"", ""event_processing_finished"": true, ""inventory"": 4, ""inventory_source"": 28, ""license_error"": false, ""org_host_limit_error"": false, ""source_project_update"": 981, ""source_project"": 24 } ``` finding the Job 981, which never Appears in my UI I queried the API and: ``` { ""id"": 981, ""type"": ""project_update"", ""url"": ""/api/v2/project_updates/981/"", ""summary_fields"": { ""project"": { ""id"": 24, ""name"": ""Kubernetes"", ""description"": """", ""status"": ""successful"", ""scm_type"": ""git"" }, ""credential"": { ""id"": 4, ""name"": ""**"", ""description"": """", ""kind"": ""scm"", ""cloud"": false, ""credential_type_id"": 2 }, ""unified_job_template"": { ""id"": 24, ""name"": ""Kubernetes"", ""description"": """", ""unified_job_type"": ""project_update"" }, ""instance_group"": { ""name"": ""tower"", ""id"": 1 }, ""user_capabilities"": { ""delete"": true, ""start"": true } }, ""created"": ""2019-09-14T13:36:34.882981Z"", ""modified"": ""2019-09-14T13:36:34.882989Z"", ""name"": ""Kubernetes"", ""description"": """", ""local_path"": ""_24__kubernetes"", ""scm_type"": ""git"", ""scm_url"": ""*******"", ""scm_branch"": """", ""scm_refspec"": """", ""scm_clean"": true, ""scm_delete_on_update"": true, ""credential"": 4, ""timeout"": 0, ""scm_revision"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2"", ""unified_job_template"": 24, ""launch_type"": ""sync"", ""status"": ""failed"", ""failed"": true, ""started"": ""2019-09-14T13:36:34.882822Z"", ""finished"": ""2019-09-14T13:36:40.760367Z"", ""elapsed"": 5.878, ""job_explanation"": """", ""execution_node"": ""ansibleworker1"", ""result_traceback"": """", ""event_processing_finished"": true, ""project"": 24, ""job_type"": ""run"", ""host_status_counts"": { ""failures"": 1 }, ""playbook_counts"": { ""play_count"": 2, ""task_count"": 15 } } ``` Finally the error on the Runbook: ``` Identity added: /tmp/awx_981_u15xqles/artifacts/981/ssh_key_data () No config file found; using defaults PLAY [all] ********************************************************************* TASK [delete project directory before update] ********************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [update project using git] ************************************************ ok: [localhost, -> localhost] => {""after"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2"", ""before"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2"", ""changed"": false, ""remote_url_changed"": false} TASK [Set the git repository version] ****************************************** ok: [localhost, -> localhost] => {""ansible_facts"": {""scm_version"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2""}, ""changed"": false} TASK [update project using hg] ************************************************* skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Set the hg repository version] ******************************************* skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [parse hg version string properly] **************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [update project using svn] ************************************************ skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Set the svn repository version] ****************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [parse subversion version string properly] ******************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Ensure the project directory is present] ********************************* skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Fetch Insights Playbook(s)] ********************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Save Insights Version] *************************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Repository Version] ****************************************************** ok: [localhost,] => { ""msg"": ""Repository Version a79609e829f4908c94008e52ba9a9f73e4450ab2"" } PLAY [all] ********************************************************************* TASK [detect requirements.yml] ************************************************* ok: [localhost, -> localhost] => {""changed"": false, ""stat"": {""atime"": 1568468115.431545, ""attr_flags"": """", ""attributes"": [], ""block_size"": 512, ""blocks"": 9, ""charset"": ""us-ascii"", ""checksum"": ""78b666b9f4be6f267727d5e851e21569c251f2a7"", ""ctime"": 1568468115.419545, ""dev"": 173, ""device_type"": 0, ""executable"": false, ""exists"": true, ""gid"": 0, ""gr_name"": ""root"", ""inode"": 287311, ""isblk"": false, ""ischr"": false, ""isdir"": false, ""isfifo"": false, ""isgid"": false, ""islnk"": false, ""isreg"": true, ""issock"": false, ""isuid"": false, ""mimetype"": ""text/plain"", ""mode"": ""0644"", ""mtime"": 1568468115.419545, ""nlink"": 1, ""path"": ""/var/lib/awx/projects/_24__kubernetes/roles/requirements.yml"", ""pw_name"": ""root"", ""readable"": true, ""rgrp"": true, ""roth"": true, ""rusr"": true, ""size"": 258, ""uid"": 0, ""version"": null, ""wgrp"": false, ""woth"": false, ""writeable"": true, ""wusr"": true, ""xgrp"": false, ""xoth"": false, ""xusr"": false}} TASK [fetch galaxy roles from requirements.yml] ******************************** fatal: [localhost,]: FAILED! => {""msg"": ""The task includes an option with an undefined variable. The error was: 'roles_destination' is undefined\\n\\nThe error appears to be in '/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/playbooks/project_update.yml': line 128, column 9, but may\\nbe elsewhere in the file depending on the exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n - name: fetch galaxy roles from requirements.yml\\n ^ here\\n""} PLAY RECAP ********************************************************************* localhost, : ok=4 changed=0 unreachable=0 failed=1 skipped=10 rescued=0 ignored=0 ```",config-file,"Inventory Update using ""Sourced from a Project"" not working - AWX 7.0.0 ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.4 * Operating System: Debian * Web Browser: Chrome ##### STEPS TO REPRODUCE Try to sync an inventory using ""Sourced from a Project"" source. The job fails with no clear output. When visiting API I find the issue and pin it in specific job running before that ##### EXPECTED RESULTS Inventory sync to happen ##### ACTUAL RESULTS A failed Task ##### ADDITIONAL INFORMATION Checking the inventory_update job number 980 I find this error: ``` { ""id"": 980, ""type"": ""inventory_update"", ""url"": ""/api/v2/inventory_updates/980/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""unified_job_template"": ""/api/v2/inventory_sources/28/"", ""stdout"": ""/api/v2/inventory_updates/980/stdout/"", ""inventory_source"": ""/api/v2/inventory_sources/28/"", ""cancel"": ""/api/v2/inventory_updates/980/cancel/"", ""notifications"": ""/api/v2/inventory_updates/980/notifications/"", ""events"": ""/api/v2/inventory_updates/980/events/"", ""source_project_update"": ""/api/v2/project_updates/981/"", ""inventory"": ""/api/v2/inventories/4/"", ""credentials"": ""/api/v2/inventory_updates/980/credentials/"", ""source_project"": ""/api/v2/projects/24/"" }, ""summary_fields"": { ""inventory"": { ""id"": 4, ""name"": ""kubernetes"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 0, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""groups_with_active_failures"": 0, ""has_inventory_sources"": true, ""total_inventory_sources"": 1, ""inventory_sources_with_failures"": 1, ""organization_id"": 1, ""kind"": """" }, ""unified_job_template"": { ""id"": 28, ""name"": ""Update inventory"", ""description"": """", ""unified_job_type"": ""inventory_update"" }, ""inventory_source"": { ""source"": ""scm"", ""last_updated"": ""2019-09-14T13:42:08.653158Z"", ""status"": ""failed"" }, ""instance_group"": { ""name"": ""tower"", ""id"": 1 }, ""created_by"": { ""id"": 1, ""username"": ""admin"", ""first_name"": """", ""last_name"": """" }, ""user_capabilities"": { ""delete"": true, ""start"": true }, ""credentials"": [], ""source_project"": { ""id"": 24, ""name"": ""Kubernetes"", ""description"": """", ""status"": ""successful"", ""scm_type"": ""git"" } }, ""created"": ""2019-09-14T13:36:34.515351Z"", ""modified"": ""2019-09-14T13:36:34.714877Z"", ""name"": ""kubernetes - Update inventory"", ""description"": """", ""source"": ""scm"", ""source_path"": ""inventory"", ""source_script"": null, ""source_vars"": """", ""credential"": null, ""source_regions"": """", ""instance_filters"": """", ""group_by"": """", ""overwrite"": false, ""overwrite_vars"": false, ""custom_virtualenv"": null, ""timeout"": 0, ""verbosity"": 1, ""unified_job_template"": 28, ""launch_type"": ""manual"", ""status"": ""error"", ""failed"": true, ""started"": ""2019-09-14T13:36:34.822591Z"", ""finished"": ""2019-09-14T13:36:40.780413Z"", ""elapsed"": 0.0, ""job_args"": """", ""job_cwd"": """", ""job_env"": {}, ""job_explanation"": ""Previous Task Failed: {\""job_type\"": \""project_update\"", \""job_name\"": \""Kubernetes\"", \""job_id\"": \""981\""}"", ""execution_node"": ""ansibleworker1"", ""result_traceback"": ""Traceback (most recent call last):\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 1174, in run\n self.pre_run_hook(self.instance, private_data_dir)\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 2330, in pre_run_hook\n project_update_task().run(local_project_sync.id)\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 685, in _wrapped\n return f(self, *args, **kwargs)\n File \""/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/main/tasks.py\"", line 1330, in run\n raise AwxTaskError.TaskError(self.instance, rc)\nException: project_update 981 (failed) encountered an error (rc=2), please see task stdout for details.\n"", ""event_processing_finished"": true, ""inventory"": 4, ""inventory_source"": 28, ""license_error"": false, ""org_host_limit_error"": false, ""source_project_update"": 981, ""source_project"": 24 } ``` finding the Job 981, which never Appears in my UI I queried the API and: ``` { ""id"": 981, ""type"": ""project_update"", ""url"": ""/api/v2/project_updates/981/"", ""summary_fields"": { ""project"": { ""id"": 24, ""name"": ""Kubernetes"", ""description"": """", ""status"": ""successful"", ""scm_type"": ""git"" }, ""credential"": { ""id"": 4, ""name"": ""**"", ""description"": """", ""kind"": ""scm"", ""cloud"": false, ""credential_type_id"": 2 }, ""unified_job_template"": { ""id"": 24, ""name"": ""Kubernetes"", ""description"": """", ""unified_job_type"": ""project_update"" }, ""instance_group"": { ""name"": ""tower"", ""id"": 1 }, ""user_capabilities"": { ""delete"": true, ""start"": true } }, ""created"": ""2019-09-14T13:36:34.882981Z"", ""modified"": ""2019-09-14T13:36:34.882989Z"", ""name"": ""Kubernetes"", ""description"": """", ""local_path"": ""_24__kubernetes"", ""scm_type"": ""git"", ""scm_url"": ""*******"", ""scm_branch"": """", ""scm_refspec"": """", ""scm_clean"": true, ""scm_delete_on_update"": true, ""credential"": 4, ""timeout"": 0, ""scm_revision"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2"", ""unified_job_template"": 24, ""launch_type"": ""sync"", ""status"": ""failed"", ""failed"": true, ""started"": ""2019-09-14T13:36:34.882822Z"", ""finished"": ""2019-09-14T13:36:40.760367Z"", ""elapsed"": 5.878, ""job_explanation"": """", ""execution_node"": ""ansibleworker1"", ""result_traceback"": """", ""event_processing_finished"": true, ""project"": 24, ""job_type"": ""run"", ""host_status_counts"": { ""failures"": 1 }, ""playbook_counts"": { ""play_count"": 2, ""task_count"": 15 } } ``` Finally the error on the Runbook: ``` Identity added: /tmp/awx_981_u15xqles/artifacts/981/ssh_key_data () No config file found; using defaults PLAY [all] ********************************************************************* TASK [delete project directory before update] ********************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [update project using git] ************************************************ ok: [localhost, -> localhost] => {""after"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2"", ""before"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2"", ""changed"": false, ""remote_url_changed"": false} TASK [Set the git repository version] ****************************************** ok: [localhost, -> localhost] => {""ansible_facts"": {""scm_version"": ""a79609e829f4908c94008e52ba9a9f73e4450ab2""}, ""changed"": false} TASK [update project using hg] ************************************************* skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Set the hg repository version] ******************************************* skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [parse hg version string properly] **************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [update project using svn] ************************************************ skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Set the svn repository version] ****************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [parse subversion version string properly] ******************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Ensure the project directory is present] ********************************* skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Fetch Insights Playbook(s)] ********************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Save Insights Version] *************************************************** skipping: [localhost,] => {""changed"": false, ""skip_reason"": ""Conditional result was False""} TASK [Repository Version] ****************************************************** ok: [localhost,] => { ""msg"": ""Repository Version a79609e829f4908c94008e52ba9a9f73e4450ab2"" } PLAY [all] ********************************************************************* TASK [detect requirements.yml] ************************************************* ok: [localhost, -> localhost] => {""changed"": false, ""stat"": {""atime"": 1568468115.431545, ""attr_flags"": """", ""attributes"": [], ""block_size"": 512, ""blocks"": 9, ""charset"": ""us-ascii"", ""checksum"": ""78b666b9f4be6f267727d5e851e21569c251f2a7"", ""ctime"": 1568468115.419545, ""dev"": 173, ""device_type"": 0, ""executable"": false, ""exists"": true, ""gid"": 0, ""gr_name"": ""root"", ""inode"": 287311, ""isblk"": false, ""ischr"": false, ""isdir"": false, ""isfifo"": false, ""isgid"": false, ""islnk"": false, ""isreg"": true, ""issock"": false, ""isuid"": false, ""mimetype"": ""text/plain"", ""mode"": ""0644"", ""mtime"": 1568468115.419545, ""nlink"": 1, ""path"": ""/var/lib/awx/projects/_24__kubernetes/roles/requirements.yml"", ""pw_name"": ""root"", ""readable"": true, ""rgrp"": true, ""roth"": true, ""rusr"": true, ""size"": 258, ""uid"": 0, ""version"": null, ""wgrp"": false, ""woth"": false, ""writeable"": true, ""wusr"": true, ""xgrp"": false, ""xoth"": false, ""xusr"": false}} TASK [fetch galaxy roles from requirements.yml] ******************************** fatal: [localhost,]: FAILED! => {""msg"": ""The task includes an option with an undefined variable. The error was: 'roles_destination' is undefined\\n\\nThe error appears to be in '/usr/local/lib/python3.7/dist-packages/awx-7.0.0-py3.7.egg/awx/playbooks/project_update.yml': line 128, column 9, but may\\nbe elsewhere in the file depending on the exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n - name: fetch galaxy roles from requirements.yml\\n ^ here\\n""} PLAY RECAP ********************************************************************* localhost, : ok=4 changed=0 unreachable=0 failed=1 skipped=10 rescued=0 ignored=0 ``` config-file",no-bug,0.8
9077,awx,https://github.com/ansible/awx/issues/9077,Partial Migrations on Local Docker Install,"##### ISSUE TYPE - Bug Report ##### SUMMARY I seeing migrations only partially run on Local Docker installations. It seems as those sometimes, the migrations will run in the background and finish, but other times, only 5 migrations are run. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE ``` ansible-playbook -i inventory install.yml -vv ``` ##### EXPECTED RESULTS Successful install, no errors. ##### ACTUAL RESULTS Only 5 migrations run (none from the `main` app), installer fails early on ""Create Preload data"" task. ##### ADDITIONAL INFORMATION Traceback from installer: ``` TASK [local_docker : Create Preload data] ************************************************************************************** task path: /home/chadams/awx/installer/roles/local_docker/tasks/compose.yml:53 fatal: [localhost]: FAILED! => {""changed"": false, ""cmd"": [""docker"", ""exec"", ""awx_task"", ""bash"", ""-c"", ""/usr/bin/awx-manage create_preload_data""], ""delta"": ""0:00:03.845744"", ""end"": ""2021-01-13 11:05:35.771060"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-01-13 11:05:31.925316"", ""stderr"": ""Traceback (most recent call last):\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute\n return self.cursor.execute(sql, params)\npsycopg2.errors.UndefinedTable: relation \""main_organization\"" does not exist\nLINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\""\n ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n File \""/usr/bin/awx-manage\"", line 8, in <module>\n sys.exit(manage())\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py\"", line 154, in manage\n execute_from_command_line(sys.argv)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line\n utility.execute()\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute\n self.fetch_command(subcommand).run_from_argv(self.argv)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv\n self.execute(*args, **cmd_options)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute\n output = self.handle(*args, **options)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/create_preload_data.py\"", line 17, in handle\n if Organization.objects.count():\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/manager.py\"", line 82, in manager_method\n return getattr(self.get_queryset(), name)(*args, **kwargs)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py\"", line 392, in count\n return self.query.get_count(using=self.db)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 504, in get_count\n number = obj.get_aggregation(using, ['__count'])['__count']\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 489, in get_aggregation\n result = compiler.execute_sql(SINGLE)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py\"", line 1142, in execute_sql\n cursor.execute(sql, params)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 67, in execute\n return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 76, in _execute_with_wrappers\n return executor(sql, params, many, context)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute\n return self.cursor.execute(sql, params)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__\n raise dj_exc_value.with_traceback(traceback) from exc_value\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute\n return self.cursor.execute(sql, params)\ndjango.db.utils.ProgrammingError: relation \""main_organization\"" does not exist\nLINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\""\n ^"", ""stderr_lines"": [""Traceback (most recent call last):"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute"", "" return self.cursor.execute(sql, params)"", ""psycopg2.errors.UndefinedTable: relation \""main_organization\"" does not exist"", ""LINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\"""", "" ^"", """", """", ""The above exception was the direct cause of the following exception:"", """", ""Traceback (most recent call last):"", "" File \""/usr/bin/awx-manage\"", line 8, in <module>"", "" sys.exit(manage())"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py\"", line 154, in manage"", "" execute_from_command_line(sys.argv)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line"", "" utility.execute()"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute"", "" self.fetch_command(subcommand).run_from_argv(self.argv)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv"", "" self.execute(*args, **cmd_options)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute"", "" output = self.handle(*args, **options)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/create_preload_data.py\"", line 17, in handle"", "" if Organization.objects.count():"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/manager.py\"", line 82, in manager_method"", "" return getattr(self.get_queryset(), name)(*args, **kwargs)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py\"", line 392, in count"", "" return self.query.get_count(using=self.db)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 504, in get_count"", "" number = obj.get_aggregation(using, ['__count'])['__count']"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 489, in get_aggregation"", "" result = compiler.execute_sql(SINGLE)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py\"", line 1142, in execute_sql"", "" cursor.execute(sql, params)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 67, in execute"", "" return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 76, in _execute_with_wrappers"", "" return executor(sql, params, many, context)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute"", "" return self.cursor.execute(sql, params)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__"", "" raise dj_exc_value.with_traceback(traceback) from exc_value"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute"", "" return self.cursor.execute(sql, params)"", ""django.db.utils.ProgrammingError: relation \""main_organization\"" does not exist"", ""LINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\"""", "" ^""], ""stdout"": """", ""stdout_lines"": []} ```",config-file | other-file | source-file | config-file | other-file | config-file | other-file | config-file | other-file | config-file | other-file,"Partial Migrations on Local Docker Install ##### ISSUE TYPE - Bug Report ##### SUMMARY I seeing migrations only partially run on Local Docker installations. It seems as those sometimes, the migrations will run in the background and finish, but other times, only 5 migrations are run. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE ``` ansible-playbook -i inventory install.yml -vv ``` ##### EXPECTED RESULTS Successful install, no errors. ##### ACTUAL RESULTS Only 5 migrations run (none from the `main` app), installer fails early on ""Create Preload data"" task. ##### ADDITIONAL INFORMATION Traceback from installer: ``` TASK [local_docker : Create Preload data] ************************************************************************************** task path: /home/chadams/awx/installer/roles/local_docker/tasks/compose.yml:53 fatal: [localhost]: FAILED! => {""changed"": false, ""cmd"": [""docker"", ""exec"", ""awx_task"", ""bash"", ""-c"", ""/usr/bin/awx-manage create_preload_data""], ""delta"": ""0:00:03.845744"", ""end"": ""2021-01-13 11:05:35.771060"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-01-13 11:05:31.925316"", ""stderr"": ""Traceback (most recent call last):\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute\n return self.cursor.execute(sql, params)\npsycopg2.errors.UndefinedTable: relation \""main_organization\"" does not exist\nLINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\""\n ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n File \""/usr/bin/awx-manage\"", line 8, in <module>\n sys.exit(manage())\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py\"", line 154, in manage\n execute_from_command_line(sys.argv)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line\n utility.execute()\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute\n self.fetch_command(subcommand).run_from_argv(self.argv)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv\n self.execute(*args, **cmd_options)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute\n output = self.handle(*args, **options)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/create_preload_data.py\"", line 17, in handle\n if Organization.objects.count():\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/manager.py\"", line 82, in manager_method\n return getattr(self.get_queryset(), name)(*args, **kwargs)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py\"", line 392, in count\n return self.query.get_count(using=self.db)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 504, in get_count\n number = obj.get_aggregation(using, ['__count'])['__count']\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 489, in get_aggregation\n result = compiler.execute_sql(SINGLE)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py\"", line 1142, in execute_sql\n cursor.execute(sql, params)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 67, in execute\n return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 76, in _execute_with_wrappers\n return executor(sql, params, many, context)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute\n return self.cursor.execute(sql, params)\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__\n raise dj_exc_value.with_traceback(traceback) from exc_value\n File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute\n return self.cursor.execute(sql, params)\ndjango.db.utils.ProgrammingError: relation \""main_organization\"" does not exist\nLINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\""\n ^"", ""stderr_lines"": [""Traceback (most recent call last):"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute"", "" return self.cursor.execute(sql, params)"", ""psycopg2.errors.UndefinedTable: relation \""main_organization\"" does not exist"", ""LINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\"""", "" ^"", """", """", ""The above exception was the direct cause of the following exception:"", """", ""Traceback (most recent call last):"", "" File \""/usr/bin/awx-manage\"", line 8, in <module>"", "" sys.exit(manage())"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py\"", line 154, in manage"", "" execute_from_command_line(sys.argv)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line"", "" utility.execute()"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute"", "" self.fetch_command(subcommand).run_from_argv(self.argv)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv"", "" self.execute(*args, **cmd_options)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute"", "" output = self.handle(*args, **options)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/create_preload_data.py\"", line 17, in handle"", "" if Organization.objects.count():"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/manager.py\"", line 82, in manager_method"", "" return getattr(self.get_queryset(), name)(*args, **kwargs)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py\"", line 392, in count"", "" return self.query.get_count(using=self.db)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 504, in get_count"", "" number = obj.get_aggregation(using, ['__count'])['__count']"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/query.py\"", line 489, in get_aggregation"", "" result = compiler.execute_sql(SINGLE)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py\"", line 1142, in execute_sql"", "" cursor.execute(sql, params)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 67, in execute"", "" return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 76, in _execute_with_wrappers"", "" return executor(sql, params, many, context)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute"", "" return self.cursor.execute(sql, params)"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__"", "" raise dj_exc_value.with_traceback(traceback) from exc_value"", "" File \""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py\"", line 84, in _execute"", "" return self.cursor.execute(sql, params)"", ""django.db.utils.ProgrammingError: relation \""main_organization\"" does not exist"", ""LINE 1: SELECT COUNT(*) AS \""__count\"" FROM \""main_organization\"""", "" ^""], ""stdout"": """", ""stdout_lines"": []} ``` config-file other-file source-file config-file other-file config-file other-file config-file other-file config-file other-file",no-bug,0.9
6302,awx,https://github.com/ansible/awx/issues/6302,Wrapping on lists for long names does not seem to be in place,"##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE 1. Create an inventory 2. Go to the hosts tab 3. Add a host with a really long name 4. Go to the Host List View ##### ADDITIONAL INFORMATION Verified on Hosts and Schedules( generic issue for schedules: https://github.com/ansible/awx/issues/4959) , but need to check for all the pages ##### EXPECTED RESULTS The name is wrapped properly ##### ACTUAL RESULTS The name is not wrapped and the buttons go out of the page <img width=""1669"" alt=""Screen Shot 2020-03-16 at 3 58 02 PM"" src=""https://user-images.githubusercontent.com/11617351/76796171-426c2280-67a1-11ea-9312-89149cc311fb.png"">",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Wrapping on lists for long names does not seem to be in place ##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE 1. Create an inventory 2. Go to the hosts tab 3. Add a host with a really long name 4. Go to the Host List View ##### ADDITIONAL INFORMATION Verified on Hosts and Schedules( generic issue for schedules: https://github.com/ansible/awx/issues/4959) , but need to check for all the pages ##### EXPECTED RESULTS The name is wrapped properly ##### ACTUAL RESULTS The name is not wrapped and the buttons go out of the page <img width=""1669"" alt=""Screen Shot 2020-03-16 at 3 58 02 PM"" src=""https://user-images.githubusercontent.com/11617351/76796171-426c2280-67a1-11ea-9312-89149cc311fb.png""> source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
10099,awx,https://github.com/ansible/awx/issues/10099,Demo Job Template run fails; source control update error: 'overlay' is not supported over overlayfs,"##### ISSUE TYPE - Bug Report ##### SUMMARY Demo Job Template run fails; source control update error: 'overlay' is not supported over overlayfs ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: docker on linux * Ansible version: 2.9.14 * Operating System: Debian 10.9 * Web Browser: Brave version 1.23.75 Chromium: 90.0.4430.93 (Official Build) (x86_64) ##### STEPS TO REPRODUCE * git clone repo * apply fix #9552 (nginx user missing) * make docker-compose-build * control + c * start Docker containers * make docker-compose * docker exec tools_awx_1 make clean-ui ui-devel * GUI: login: admin user * GUI: resources > templates > Demo Job Template > launch * GUI: views > jobs > 3  Demo Project ##### EXPECTED RESULTS successful job ##### ACTUAL RESULTS job status failed ``` WARN[0000] Found deprecated file /etc/containers/libpod.conf, please remove. Use /etc/containers/containers.conf to override defaults. WARN[0000] Found deprecated file /etc/containers/libpod.conf, please remove. Use /etc/containers/containers.conf to override defaults. Error: 'overlay' is not supported over overlayfs, a mount_program is required: backing file system is unsupported for this graph driver ``` ##### ADDITIONAL INFORMATION",container-file | container-file | config-file | container-file | config-file | container-file | config-file | container-file | config-file | container-file | config-file | container-file | config-file,"Demo Job Template run fails; source control update error: 'overlay' is not supported over overlayfs ##### ISSUE TYPE - Bug Report ##### SUMMARY Demo Job Template run fails; source control update error: 'overlay' is not supported over overlayfs ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: docker on linux * Ansible version: 2.9.14 * Operating System: Debian 10.9 * Web Browser: Brave version 1.23.75 Chromium: 90.0.4430.93 (Official Build) (x86_64) ##### STEPS TO REPRODUCE * git clone repo * apply fix #9552 (nginx user missing) * make docker-compose-build * control + c * start Docker containers * make docker-compose * docker exec tools_awx_1 make clean-ui ui-devel * GUI: login: admin user * GUI: resources > templates > Demo Job Template > launch * GUI: views > jobs > 3  Demo Project ##### EXPECTED RESULTS successful job ##### ACTUAL RESULTS job status failed ``` WARN[0000] Found deprecated file /etc/containers/libpod.conf, please remove. Use /etc/containers/containers.conf to override defaults. WARN[0000] Found deprecated file /etc/containers/libpod.conf, please remove. Use /etc/containers/containers.conf to override defaults. Error: 'overlay' is not supported over overlayfs, a mount_program is required: backing file system is unsupported for this graph driver ``` ##### ADDITIONAL INFORMATION container-file container-file config-file container-file config-file container-file config-file container-file config-file container-file config-file container-file config-file",no-bug,0.9
4911,awx,https://github.com/ansible/awx/issues/4911,need a reaper for hung/zombie job pods left by container groups,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> This is a known issue of #4189 that will be resolved in follow up PR. If for some reason (Tower restart, network problems, etc) job pods get left running in the namespace provided by a ContainerGroup, there is currently no reaper to check on these jobs and clean them up. As a matter of due diligence, we should do this. @shanemcd and @ryanpetrello may want to flesh this out a bit more",source-file | source-file | source-file | source-file | source-file | source-file,"need a reaper for hung/zombie job pods left by container groups ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> This is a known issue of #4189 that will be resolved in follow up PR. If for some reason (Tower restart, network problems, etc) job pods get left running in the namespace provided by a ContainerGroup, there is currently no reaper to check on these jobs and clean them up. As a matter of due diligence, we should do this. @shanemcd and @ryanpetrello may want to flesh this out a bit more source-file source-file source-file source-file source-file source-file",no-bug,0.9
6372,awx,https://github.com/ansible/awx/issues/6372,"project update error: invalid syntax (uuid.py, line 138)","##### ISSUE TYPE - Bug Report ##### SUMMARY Upgraded from 7.0.0 to 9.3.0. Running a project update fails with this error: > Identity added: /tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data (/tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data) ERROR! Unexpected Exception, this is probably a bug: invalid syntax (uuid.py, line 138) the full traceback was: Traceback (most recent call last): File ""/usr/bin/ansible-playbook"", line 92, in <module> mycli = getattr(__import__(""ansible.cli.%s"" % sub, fromlist=[myclass]), myclass) File ""/usr/lib/python3.6/site-packages/ansible/cli/__init__.py"", line 22, in <module> from ansible.inventory.manager import InventoryManager File ""/usr/lib/python3.6/site-packages/ansible/inventory/manager.py"", line 34, in <module> from ansible.inventory.data import InventoryData File ""/usr/lib/python3.6/site-packages/ansible/inventory/data.py"", line 26, in <module> from ansible.inventory.group import Group File ""/usr/lib/python3.6/site-packages/ansible/inventory/group.py"", line 27, in <module> from ansible.utils.vars import combine_vars File ""/usr/lib/python3.6/site-packages/ansible/utils/vars.py"", line 24, in <module> import uuid File ""/var/lib/awx/venv/ansible/lib/python3.6/site-packages/uuid.py"", line 138 if not 0 <= time_low < 1<<32L: ^ SyntaxError: invalid syntax Problem occurs on 9.2.0 and 9.3.0, not on 7.0.0. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Debian 9.12 ##### STEPS TO REPRODUCE Create a project with scm type git, run project update. ##### EXPECTED RESULTS Project update runs fine, just as on version 7.0.0. ##### ACTUAL RESULTS See error in summary above. ##### ADDITIONAL INFORMATION GET /api/v2/project_updates/4397/ ``` HTTP 200 OK Allow: GET, DELETE, HEAD, OPTIONS Content-Type: application/json Vary: Accept X-API-Node: awx X-API-Time: 0.032s { ""id"": 4397, ""type"": ""project_update"", ""url"": ""/api/v2/project_updates/4397/"", ""related"": { ""credential"": ""/api/v2/credentials/3/"", ""unified_job_template"": ""/api/v2/projects/33/"", ""stdout"": ""/api/v2/project_updates/4397/stdout/"", ""project"": ""/api/v2/projects/33/"", ""cancel"": ""/api/v2/project_updates/4397/cancel/"", ""scm_inventory_updates"": ""/api/v2/project_updates/4397/scm_inventory_updates/"", ""notifications"": ""/api/v2/project_updates/4397/notifications/"", ""events"": ""/api/v2/project_updates/4397/events/"" }, ""summary_fields"": { ""project"": { ""id"": 33, ""name"": ""playbooks-windows"", ""description"": """", ""status"": ""failed"", ""scm_type"": ""git"" }, ""credential"": { ""id"": 3, ""name"": ""Gitlab"", ""description"": """", ""kind"": ""scm"", ""cloud"": false, ""kubernetes"": false, ""credential_type_id"": 2 }, ""unified_job_template"": { ""id"": 33, ""name"": ""playbooks-windows"", ""description"": """", ""unified_job_type"": ""project_update"" }, ""instance_group"": { ""id"": 1, ""name"": ""tower"", ""is_containerized"": false }, ""user_capabilities"": { ""delete"": true, ""start"": true } }, ""created"": ""2020-03-21T19:31:22.651898Z"", ""modified"": ""2020-03-21T19:31:24.325720Z"", ""name"": ""playbooks-windows"", ""description"": """", ""local_path"": ""_33__playbooks_windows"", ""scm_type"": ""git"", ""scm_url"": ""git@git.xxx.net:awx/playbooks-windows.git"", ""scm_branch"": ""develop"", ""scm_refspec"": """", ""scm_clean"": false, ""scm_delete_on_update"": false, ""credential"": 3, ""timeout"": 0, ""scm_revision"": """", ""unified_job_template"": 33, ""launch_type"": ""dependency"", ""status"": ""failed"", ""failed"": true, ""started"": ""2020-03-21T19:31:24.392872Z"", ""finished"": ""2020-03-21T19:31:25.857507Z"", ""canceled_on"": null, ""elapsed"": 1.465, ""job_args"": ""[\""ssh-agent\"", \""sh\"", \""-c\"", \""ssh-add /tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data && rm -f /tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data && ansible-playbook -t update_git -i /tmp/awx_4397_ylni359w/inventory/hosts -e @/tmp/awx_4397_ylni359w/env/extravars project_update.yml\""]"", ""job_cwd"": ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks"", ""job_env"": { ""LC_ALL"": ""en_US.UTF-8"", ""LANG"": ""en_US.UTF-8"", ""HOSTNAME"": ""awx"", ""PWD"": ""/home/awx"", ""HOME"": ""/home/awx"", ""SHLVL"": ""2"", ""LANGUAGE"": ""en_US.UTF-8"", ""PATH"": ""/var/lib/awx/venv/ansible/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"", ""_"": ""/usr/local/bin/supervisord"", ""SUPERVISOR_ENABLED"": ""1"", ""SUPERVISOR_SERVER_URL"": ""unix:///tmp/supervisor.sock"", ""SUPERVISOR_PROCESS_NAME"": ""dispatcher"", ""SUPERVISOR_GROUP_NAME"": ""tower-processes"", ""LC_CTYPE"": ""en_US.UTF-8"", ""DJANGO_SETTINGS_MODULE"": ""awx.settings.production"", ""DJANGO_LIVE_TEST_SERVER_ADDRESS"": ""localhost:9013-9199"", ""TZ"": ""UTC"", ""ANSIBLE_FACT_CACHE_TIMEOUT"": ""0"", ""ANSIBLE_FORCE_COLOR"": ""True"", ""ANSIBLE_HOST_KEY_CHECKING"": ""False"", ""ANSIBLE_INVENTORY_UNPARSED_FAILED"": ""True"", ""ANSIBLE_PARAMIKO_RECORD_HOST_KEYS"": ""False"", ""ANSIBLE_VENV_PATH"": ""/var/lib/awx/venv/ansible"", ""ANSIBLE_TIMEOUT"": ""120"", ""AWX_PRIVATE_DATA_DIR"": ""/tmp/awx_4397_ylni359w"", ""VIRTUAL_ENV"": ""/var/lib/awx/venv/ansible"", ""PYTHONPATH"": ""/var/lib/awx/venv/ansible/lib/python3.6/site-packages:"", ""ANSIBLE_RETRY_FILES_ENABLED"": ""False"", ""ANSIBLE_ASK_PASS"": ""False"", ""ANSIBLE_BECOME_ASK_PASS"": ""False"", ""DISPLAY"": """", ""TMP"": ""/tmp"", ""PROJECT_UPDATE_ID"": ""4397"", ""ANSIBLE_CALLBACK_PLUGINS"": ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/plugins/callback"", ""ANSIBLE_GALAXY_SERVER_GALAXY_URL"": ""https://galaxy.ansible.com"", ""ANSIBLE_GALAXY_SERVER_LIST"": ""galaxy"", ""ANSIBLE_STDOUT_CALLBACK"": ""awx_display"", ""AWX_ISOLATED_DATA_DIR"": ""/tmp/awx_4397_ylni359w/artifacts/4397"", ""RUNNER_OMIT_EVENTS"": ""False"", ""RUNNER_ONLY_FAILED_EVENTS"": ""False"" }, ""job_explanation"": """", ""execution_node"": ""awx"", ""result_traceback"": """", ""event_processing_finished"": true, ""project"": 33, ""job_type"": ""check"", ""job_tags"": ""update_git"", ""host_status_counts"": {}, ""playbook_counts"": { ""play_count"": 0, ""task_count"": 0 } } ```",source-file,"project update error: invalid syntax (uuid.py, line 138) ##### ISSUE TYPE - Bug Report ##### SUMMARY Upgraded from 7.0.0 to 9.3.0. Running a project update fails with this error: > Identity added: /tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data (/tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data) ERROR! Unexpected Exception, this is probably a bug: invalid syntax (uuid.py, line 138) the full traceback was: Traceback (most recent call last): File ""/usr/bin/ansible-playbook"", line 92, in <module> mycli = getattr(__import__(""ansible.cli.%s"" % sub, fromlist=[myclass]), myclass) File ""/usr/lib/python3.6/site-packages/ansible/cli/__init__.py"", line 22, in <module> from ansible.inventory.manager import InventoryManager File ""/usr/lib/python3.6/site-packages/ansible/inventory/manager.py"", line 34, in <module> from ansible.inventory.data import InventoryData File ""/usr/lib/python3.6/site-packages/ansible/inventory/data.py"", line 26, in <module> from ansible.inventory.group import Group File ""/usr/lib/python3.6/site-packages/ansible/inventory/group.py"", line 27, in <module> from ansible.utils.vars import combine_vars File ""/usr/lib/python3.6/site-packages/ansible/utils/vars.py"", line 24, in <module> import uuid File ""/var/lib/awx/venv/ansible/lib/python3.6/site-packages/uuid.py"", line 138 if not 0 <= time_low < 1<<32L: ^ SyntaxError: invalid syntax Problem occurs on 9.2.0 and 9.3.0, not on 7.0.0. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Debian 9.12 ##### STEPS TO REPRODUCE Create a project with scm type git, run project update. ##### EXPECTED RESULTS Project update runs fine, just as on version 7.0.0. ##### ACTUAL RESULTS See error in summary above. ##### ADDITIONAL INFORMATION GET /api/v2/project_updates/4397/ ``` HTTP 200 OK Allow: GET, DELETE, HEAD, OPTIONS Content-Type: application/json Vary: Accept X-API-Node: awx X-API-Time: 0.032s { ""id"": 4397, ""type"": ""project_update"", ""url"": ""/api/v2/project_updates/4397/"", ""related"": { ""credential"": ""/api/v2/credentials/3/"", ""unified_job_template"": ""/api/v2/projects/33/"", ""stdout"": ""/api/v2/project_updates/4397/stdout/"", ""project"": ""/api/v2/projects/33/"", ""cancel"": ""/api/v2/project_updates/4397/cancel/"", ""scm_inventory_updates"": ""/api/v2/project_updates/4397/scm_inventory_updates/"", ""notifications"": ""/api/v2/project_updates/4397/notifications/"", ""events"": ""/api/v2/project_updates/4397/events/"" }, ""summary_fields"": { ""project"": { ""id"": 33, ""name"": ""playbooks-windows"", ""description"": """", ""status"": ""failed"", ""scm_type"": ""git"" }, ""credential"": { ""id"": 3, ""name"": ""Gitlab"", ""description"": """", ""kind"": ""scm"", ""cloud"": false, ""kubernetes"": false, ""credential_type_id"": 2 }, ""unified_job_template"": { ""id"": 33, ""name"": ""playbooks-windows"", ""description"": """", ""unified_job_type"": ""project_update"" }, ""instance_group"": { ""id"": 1, ""name"": ""tower"", ""is_containerized"": false }, ""user_capabilities"": { ""delete"": true, ""start"": true } }, ""created"": ""2020-03-21T19:31:22.651898Z"", ""modified"": ""2020-03-21T19:31:24.325720Z"", ""name"": ""playbooks-windows"", ""description"": """", ""local_path"": ""_33__playbooks_windows"", ""scm_type"": ""git"", ""scm_url"": ""git@git.xxx.net:awx/playbooks-windows.git"", ""scm_branch"": ""develop"", ""scm_refspec"": """", ""scm_clean"": false, ""scm_delete_on_update"": false, ""credential"": 3, ""timeout"": 0, ""scm_revision"": """", ""unified_job_template"": 33, ""launch_type"": ""dependency"", ""status"": ""failed"", ""failed"": true, ""started"": ""2020-03-21T19:31:24.392872Z"", ""finished"": ""2020-03-21T19:31:25.857507Z"", ""canceled_on"": null, ""elapsed"": 1.465, ""job_args"": ""[\""ssh-agent\"", \""sh\"", \""-c\"", \""ssh-add /tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data && rm -f /tmp/awx_4397_ylni359w/artifacts/4397/ssh_key_data && ansible-playbook -t update_git -i /tmp/awx_4397_ylni359w/inventory/hosts -e @/tmp/awx_4397_ylni359w/env/extravars project_update.yml\""]"", ""job_cwd"": ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/playbooks"", ""job_env"": { ""LC_ALL"": ""en_US.UTF-8"", ""LANG"": ""en_US.UTF-8"", ""HOSTNAME"": ""awx"", ""PWD"": ""/home/awx"", ""HOME"": ""/home/awx"", ""SHLVL"": ""2"", ""LANGUAGE"": ""en_US.UTF-8"", ""PATH"": ""/var/lib/awx/venv/ansible/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"", ""_"": ""/usr/local/bin/supervisord"", ""SUPERVISOR_ENABLED"": ""1"", ""SUPERVISOR_SERVER_URL"": ""unix:///tmp/supervisor.sock"", ""SUPERVISOR_PROCESS_NAME"": ""dispatcher"", ""SUPERVISOR_GROUP_NAME"": ""tower-processes"", ""LC_CTYPE"": ""en_US.UTF-8"", ""DJANGO_SETTINGS_MODULE"": ""awx.settings.production"", ""DJANGO_LIVE_TEST_SERVER_ADDRESS"": ""localhost:9013-9199"", ""TZ"": ""UTC"", ""ANSIBLE_FACT_CACHE_TIMEOUT"": ""0"", ""ANSIBLE_FORCE_COLOR"": ""True"", ""ANSIBLE_HOST_KEY_CHECKING"": ""False"", ""ANSIBLE_INVENTORY_UNPARSED_FAILED"": ""True"", ""ANSIBLE_PARAMIKO_RECORD_HOST_KEYS"": ""False"", ""ANSIBLE_VENV_PATH"": ""/var/lib/awx/venv/ansible"", ""ANSIBLE_TIMEOUT"": ""120"", ""AWX_PRIVATE_DATA_DIR"": ""/tmp/awx_4397_ylni359w"", ""VIRTUAL_ENV"": ""/var/lib/awx/venv/ansible"", ""PYTHONPATH"": ""/var/lib/awx/venv/ansible/lib/python3.6/site-packages:"", ""ANSIBLE_RETRY_FILES_ENABLED"": ""False"", ""ANSIBLE_ASK_PASS"": ""False"", ""ANSIBLE_BECOME_ASK_PASS"": ""False"", ""DISPLAY"": """", ""TMP"": ""/tmp"", ""PROJECT_UPDATE_ID"": ""4397"", ""ANSIBLE_CALLBACK_PLUGINS"": ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/plugins/callback"", ""ANSIBLE_GALAXY_SERVER_GALAXY_URL"": ""https://galaxy.ansible.com"", ""ANSIBLE_GALAXY_SERVER_LIST"": ""galaxy"", ""ANSIBLE_STDOUT_CALLBACK"": ""awx_display"", ""AWX_ISOLATED_DATA_DIR"": ""/tmp/awx_4397_ylni359w/artifacts/4397"", ""RUNNER_OMIT_EVENTS"": ""False"", ""RUNNER_ONLY_FAILED_EVENTS"": ""False"" }, ""job_explanation"": """", ""execution_node"": ""awx"", ""result_traceback"": """", ""event_processing_finished"": true, ""project"": 33, ""job_type"": ""check"", ""job_tags"": ""update_git"", ""host_status_counts"": {}, ""playbook_counts"": { ""play_count"": 0, ""task_count"": 0 } } ``` source-file",no-bug,0.9
4574,awx,https://github.com/ansible/awx/issues/4574,MEMCACHED_HOST and MEMCACHED_PORT are not used,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `MEMCACHED_HOST` and `MEMCACHED_PORT` env variables are not used at all. Not possible to specify memcached host other than default. Probably here: https://github.com/ansible/awx/blob/devel/installer/roles/local_docker/templates/environment.sh.j2#L6-L7 ##### ENVIRONMENT * AWX version: 6.0.1 * AWX install method: docker ##### STEPS TO REPRODUCE ``` docker run -d \ --restart unless-stopped \ --network awxnetwork \ --name awx-memcached \ memcached:alpine docker run -d \ --restart unless-stopped \ --network awxnetwork \ -e MEMCACHED_HOST=awx-memcached \ -e MEMCACHED_PORT=11211 ansible/awx_web:6.1.0 ``` ##### EXPECTED RESULTS `awx-memcached` host will be used based on `MEMCACHED_HOST` env variable ##### ACTUAL RESULTS `MEMCACHED_HOST` env variable is not used => fallbacks to default value, which is `memcached` => memcached will not be used => AWX is slow. ##### ADDITIONAL INFORMATION ``` docker exec -it awx-web bash -c 'echo ""from django.conf import settings; print(settings.CACHES)"" | awx-manage shell' {'default': {'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache', 'LOCATION': 'memcached:11211'}} ``` ``` docker exec -it awx-task bash -c 'echo ""from django.conf import settings; print(settings.CACHES)"" | awx-manage shell' {'default': {'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache', 'LOCATION': 'memcached:11211'}} ``` I guess that this should be added/overrided, isnt? https://github.com/ansible/awx/blob/devel/awx/settings/defaults.py#L421-L429 I guess that this https://github.com/ansible/awx/pull/3720/commits/3bfb54d2fde6b0a071b0748f3d6f48ba4aee7b5d commit breaked MEMCACHED_HOST and MEMCACHED_PORT env variables:",source-file,"MEMCACHED_HOST and MEMCACHED_PORT are not used ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `MEMCACHED_HOST` and `MEMCACHED_PORT` env variables are not used at all. Not possible to specify memcached host other than default. Probably here: https://github.com/ansible/awx/blob/devel/installer/roles/local_docker/templates/environment.sh.j2#L6-L7 ##### ENVIRONMENT * AWX version: 6.0.1 * AWX install method: docker ##### STEPS TO REPRODUCE ``` docker run -d \ --restart unless-stopped \ --network awxnetwork \ --name awx-memcached \ memcached:alpine docker run -d \ --restart unless-stopped \ --network awxnetwork \ -e MEMCACHED_HOST=awx-memcached \ -e MEMCACHED_PORT=11211 ansible/awx_web:6.1.0 ``` ##### EXPECTED RESULTS `awx-memcached` host will be used based on `MEMCACHED_HOST` env variable ##### ACTUAL RESULTS `MEMCACHED_HOST` env variable is not used => fallbacks to default value, which is `memcached` => memcached will not be used => AWX is slow. ##### ADDITIONAL INFORMATION ``` docker exec -it awx-web bash -c 'echo ""from django.conf import settings; print(settings.CACHES)"" | awx-manage shell' {'default': {'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache', 'LOCATION': 'memcached:11211'}} ``` ``` docker exec -it awx-task bash -c 'echo ""from django.conf import settings; print(settings.CACHES)"" | awx-manage shell' {'default': {'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache', 'LOCATION': 'memcached:11211'}} ``` I guess that this should be added/overrided, isnt? https://github.com/ansible/awx/blob/devel/awx/settings/defaults.py#L421-L429 I guess that this https://github.com/ansible/awx/pull/3720/commits/3bfb54d2fde6b0a071b0748f3d6f48ba4aee7b5d commit breaked MEMCACHED_HOST and MEMCACHED_PORT env variables: source-file",no-bug,0.8
7694,awx,https://github.com/ansible/awx/issues/7694,Make date in project sync job status look nice,"##### ISSUE TYPE - Bug Report ##### SUMMARY Here's what it looks like: <img width=""615"" alt=""Screen Shot 2020-07-21 at 2 53 36 PM"" src=""https://user-images.githubusercontent.com/9889020/88094776-1b17ce80-cb62-11ea-8823-59af2e1635c9.png""> Here's what the corresponding date looks like on a job on the templates list: <img width=""698"" alt=""Screen Shot 2020-07-21 at 2 53 45 PM"" src=""https://user-images.githubusercontent.com/9889020/88094807-27039080-cb62-11ea-9e62-b2da856427a8.png"">",other-file | other-file | other-file,"Make date in project sync job status look nice ##### ISSUE TYPE - Bug Report ##### SUMMARY Here's what it looks like: <img width=""615"" alt=""Screen Shot 2020-07-21 at 2 53 36 PM"" src=""https://user-images.githubusercontent.com/9889020/88094776-1b17ce80-cb62-11ea-8823-59af2e1635c9.png""> Here's what the corresponding date looks like on a job on the templates list: <img width=""698"" alt=""Screen Shot 2020-07-21 at 2 53 45 PM"" src=""https://user-images.githubusercontent.com/9889020/88094807-27039080-cb62-11ea-9e62-b2da856427a8.png""> other-file other-file other-file",no-bug,0.9
5735,awx,https://github.com/ansible/awx/issues/5735,expose K8S/OCP credentials for playbook use,##### ISSUE TYPE - Feature Idea ##### SUMMARY We have a bearer token credential type that is used for the container group feature. There does not appear to be a reason it cannot be used for general playbook runs. The `k8s` ansible module accepts `K8S_AUTH_HOST` and `K8S_AUTH_API_KEY` env vars.,source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | source-file | other-file | other-file | other-file,expose K8S/OCP credentials for playbook use ##### ISSUE TYPE - Feature Idea ##### SUMMARY We have a bearer token credential type that is used for the container group feature. There does not appear to be a reason it cannot be used for general playbook runs. The `k8s` ansible module accepts `K8S_AUTH_HOST` and `K8S_AUTH_API_KEY` env vars. source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file other-file source-file other-file other-file other-file,no-bug,0.9
4833,awx,https://github.com/ansible/awx/issues/4833,when format of extra variables will switch to YAML all the time,"when in templates editor view i am editing ""EXTRA VARIABLES"" in JSON format and saving it i will always end up in anything being displayed in YAML format. side note: JSON was selected because i am trying to use ansible vault. as found out from other bug reports ansible vault syntax will not work with YAML formatted items. and further (to my understanding) it got told that there is no 100% exact forward-backward conversion between the two formats due to a special keyword in YAML. on the other side i am unsure at the moment if all valid JSON codes will see an exact conversion towards YAML. i would have expected my selected input format for this window to persist. am i right?",other-file | other-file,"when format of extra variables will switch to YAML all the time when in templates editor view i am editing ""EXTRA VARIABLES"" in JSON format and saving it i will always end up in anything being displayed in YAML format. side note: JSON was selected because i am trying to use ansible vault. as found out from other bug reports ansible vault syntax will not work with YAML formatted items. and further (to my understanding) it got told that there is no 100% exact forward-backward conversion between the two formats due to a special keyword in YAML. on the other side i am unsure at the moment if all valid JSON codes will see an exact conversion towards YAML. i would have expected my selected input format for this window to persist. am i right? other-file other-file",no-bug,0.8
8013,awx,https://github.com/ansible/awx/issues/8013,Create a tower_workflow_approval module,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Per PR #7963 we are missing a module to interact with the workflow_approvals endpoint",source-file | source-file | source-file | test-file | test-file,"Create a tower_workflow_approval module <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Per PR #7963 we are missing a module to interact with the workflow_approvals endpoint source-file source-file source-file test-file test-file",no-bug,0.95
8249,awx,https://github.com/ansible/awx/issues/8249,Add resource name to launch wizard,"##### ISSUE TYPE - Feature Idea ##### SUMMARY When launching a JT/WFJT/etc, it would be nice to display the name of the resource that you're launching in the wizard. Right now we display: `Prompts` <img width=""1459"" alt=""Screen Shot 2020-09-28 at 1 09 07 PM"" src=""https://user-images.githubusercontent.com/9889020/94464002-d032bc80-018b-11eb-8838-4785aacf72e8.png"">",other-file | test-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Add resource name to launch wizard ##### ISSUE TYPE - Feature Idea ##### SUMMARY When launching a JT/WFJT/etc, it would be nice to display the name of the resource that you're launching in the wizard. Right now we display: `Prompts` <img width=""1459"" alt=""Screen Shot 2020-09-28 at 1 09 07 PM"" src=""https://user-images.githubusercontent.com/9889020/94464002-d032bc80-018b-11eb-8838-4785aacf72e8.png""> other-file test-file test-file test-file test-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
8907,awx,https://github.com/ansible/awx/issues/8907,Malformed yaml can crash the launch/workflow node prompt wizard,##### ISSUE TYPE - Bug Report ##### SUMMARY This should actually be addressed by https://github.com/ansible/awx/issues/8906. If we had validation on the extra variables field then the user would address this there. This bug won't make it's way into devel until https://github.com/ansible/awx/pull/8399 merges. ##### STEPS TO REPRODUCE 1. Create a JT that prompts for extra variables 2. Launch the JT 3. Enter the following text in the extra variables field: ``` --- foo: bar foobar ``` 4. Go to the preview step ##### EXPECTED RESULTS Error was shown before going to preview step ##### ACTUAL RESULTS Page crashes when we attempt to transform the extra vars.,other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | source-file,Malformed yaml can crash the launch/workflow node prompt wizard ##### ISSUE TYPE - Bug Report ##### SUMMARY This should actually be addressed by https://github.com/ansible/awx/issues/8906. If we had validation on the extra variables field then the user would address this there. This bug won't make it's way into devel until https://github.com/ansible/awx/pull/8399 merges. ##### STEPS TO REPRODUCE 1. Create a JT that prompts for extra variables 2. Launch the JT 3. Enter the following text in the extra variables field: ``` --- foo: bar foobar ``` 4. Go to the preview step ##### EXPECTED RESULTS Error was shown before going to preview step ##### ACTUAL RESULTS Page crashes when we attempt to transform the extra vars. other-file other-file other-file other-file other-file test-file other-file other-file other-file source-file,no-bug,0.8
10029,awx,https://github.com/ansible/awx/issues/10029,Project List Column Labels don't align correctly,"##### ISSUE TYPE - Bug Report ##### SUMMARY The column labels on the project list do not align correctly with the data. ##### ENVIRONMENT * AWX version: 18 * AWX install method: docker for mac * Ansible version: X.Y.Z * Operating System:mac os * Web Browser:Chrome and FF ##### STEPS TO REPRODUCE Go to project list. Create a project. ##### EXPECTED RESULTS Name, Status, Type, Revision labels line up correctly. ##### ACTUAL RESULTS ![Screen Shot 2021-04-27 at 9 51 06 AM](https://user-images.githubusercontent.com/39280967/116253545-92f0d600-a73e-11eb-8bbd-69de1924f885.png)",other-file | other-file,"Project List Column Labels don't align correctly ##### ISSUE TYPE - Bug Report ##### SUMMARY The column labels on the project list do not align correctly with the data. ##### ENVIRONMENT * AWX version: 18 * AWX install method: docker for mac * Ansible version: X.Y.Z * Operating System:mac os * Web Browser:Chrome and FF ##### STEPS TO REPRODUCE Go to project list. Create a project. ##### EXPECTED RESULTS Name, Status, Type, Revision labels line up correctly. ##### ACTUAL RESULTS ![Screen Shot 2021-04-27 at 9 51 06 AM](https://user-images.githubusercontent.com/39280967/116253545-92f0d600-a73e-11eb-8bbd-69de1924f885.png) other-file other-file",no-bug,0.9
7665,awx,https://github.com/ansible/awx/issues/7665,API should not accept modification of local_path for nom-manual projects,"##### ISSUE TYPE - Bug Report ##### SUMMARY The API will accept a PATCH to edit `local_path` for a git project, but the change will not take effect. Some version of a 400 error would be preferable to this. This is a valid field to edit in the case of manual projects, so there's no valid justification that it's ""not a field"". ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: N/A * Ansible version: N/A ##### STEPS TO REPRODUCE PATCH `/api/v2/projects/6/` ```json { ""description"": ""asdf"", ""local_path"": ""_6__demo_project_edited"" } ``` ##### EXPECTED RESULTS One of: - the local_path value changes to ""_6__demo_project_edited"" - get error ##### ACTUAL RESULTS No error description changes to ""asdf"" the `local_path` remains at prior value of ""_6__demo_project""",source-file | test-file | source-file | test-file,"API should not accept modification of local_path for nom-manual projects ##### ISSUE TYPE - Bug Report ##### SUMMARY The API will accept a PATCH to edit `local_path` for a git project, but the change will not take effect. Some version of a 400 error would be preferable to this. This is a valid field to edit in the case of manual projects, so there's no valid justification that it's ""not a field"". ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: N/A * Ansible version: N/A ##### STEPS TO REPRODUCE PATCH `/api/v2/projects/6/` ```json { ""description"": ""asdf"", ""local_path"": ""_6__demo_project_edited"" } ``` ##### EXPECTED RESULTS One of: - the local_path value changes to ""_6__demo_project_edited"" - get error ##### ACTUAL RESULTS No error description changes to ""asdf"" the `local_path` remains at prior value of ""_6__demo_project"" source-file test-file source-file test-file",bug,0.9
5345,awx,https://github.com/ansible/awx/issues/5345,Tags for hosts in playbook,"##### ISSUE TYPE - Tags for Inventory AWS in playbook. ##### ENVIRONMENT * AWX version: 6.0.0 * AWX install method: AWS * Ansible version: 2.8 ##### STEPS TO REPRODUCE I have an inventory on AWX with all tags of my ec2 hosts, I would like use a tags for my inventory inside my playbooks. I could use a lot of inventorys with each tag but I don't like it. I want one inventory and use hosts tags on my playbook. ##### EXPECTED RESULTS Tasks are run on hosts with specific tags, example `hosts: - tag_Name_server` ##### ADDITIONAL INFORMATION I run this playbook out of AWX and works fine with ec2.py and ec2.ini in my inventory folder.",source-file,"Tags for hosts in playbook ##### ISSUE TYPE - Tags for Inventory AWS in playbook. ##### ENVIRONMENT * AWX version: 6.0.0 * AWX install method: AWS * Ansible version: 2.8 ##### STEPS TO REPRODUCE I have an inventory on AWX with all tags of my ec2 hosts, I would like use a tags for my inventory inside my playbooks. I could use a lot of inventorys with each tag but I don't like it. I want one inventory and use hosts tags on my playbook. ##### EXPECTED RESULTS Tasks are run on hosts with specific tags, example `hosts: - tag_Name_server` ##### ADDITIONAL INFORMATION I run this playbook out of AWX and works fine with ec2.py and ec2.ini in my inventory folder. source-file",no-bug,0.8
10544,awx,https://github.com/ansible/awx/issues/10544,Job template Edit Form- Max character limit error handling not functioning as intended,"##### ISSUE TYPE - Bug Report ##### SUMMARY When a user goes to the details page of a template and clicks Edit, and changes the name of the template to something that exceeds the max character limit of 512 characters, when they click save, the screen refreshes and brings back the original template name, and no error message appears. If you click on the API error message in the Network tab, and then click back in the name field and delete characters alternately while clicking outside of the field, the error message briefly appears and then disappears. see GIF ##### ENVIRONMENT Chrome, e2 Cluster ##### STEPS TO REPRODUCE ![edit-form](https://user-images.githubusercontent.com/63685497/123851470-37cb9300-d8e9-11eb-8d16-10edd5acec29.gif)",other-file,"Job template Edit Form- Max character limit error handling not functioning as intended ##### ISSUE TYPE - Bug Report ##### SUMMARY When a user goes to the details page of a template and clicks Edit, and changes the name of the template to something that exceeds the max character limit of 512 characters, when they click save, the screen refreshes and brings back the original template name, and no error message appears. If you click on the API error message in the Network tab, and then click back in the name field and delete characters alternately while clicking outside of the field, the error message briefly appears and then disappears. see GIF ##### ENVIRONMENT Chrome, e2 Cluster ##### STEPS TO REPRODUCE ![edit-form](https://user-images.githubusercontent.com/63685497/123851470-37cb9300-d8e9-11eb-8d16-10edd5acec29.gif) other-file",no-bug,0.7
5151,awx,https://github.com/ansible/awx/issues/5151,Move all execution to execution nodes managed via receptor network,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Enable users to have a distributed network of execution nodes, where the only requirement is that the nodes have ansible-runner, ansible, and [receptor](https://github.com/project-receptor/receptor) installed. This node can then self register or be registered to the receptor network of which AWX control plane nodes will be receptor controllers (or able to dispatch work via a receptor controller). This should be extended to be the only way jobs are executed - when a task is assigned to a node to be done, it should be done through that mechanism; there shouldn't be a separate way of running jobs. This may mean replacing way work is dispatched to container groups as well, but that may be punted (not critical to ship this feature for all other nodes). Acceptance criteria: ----------------------------- - [ ] In the case that the execution node can reach Tower via the receptor network, it should be able to self register. - [ ] If because of network topology only Tower can reach out to the execution node via the receptor network, then Tower should be able to find/register the execution node. - [ ] only requirement of execution nodes are ansible-runner, ansible, and receptor and ability to receive network traffic from at least one receptor controller - [ ] no downtime required when adding execution nodes - [ ] connections w/ receptor are all TCP - [ ] Right now our isolated node delivery time failure is 30 seconds, we will have similar resilience - [ ] If job gets received and started but we lose node during execution, will have to do same thing we do today as far as marking it as failed because job no longer found running - [ ] Each receptor can it manage multiple jobs at once, we should be able to dispatch more than one job at a time to an execution node - [ ] Currently there is nothing built into receptor/runner that would prevent us from OOMing the system, but we need to implement something (capacity check of some kind) because currently we do this w/ isolated heartbeat + dispatcher Questions to be answered: --------------------------------------- - [ ] Multiple receptors can cohabitate on same system, can an execution node get registered several times under each of these receptors? Additional notes: ------------------------ Receptor does not fork, hands off work to plugin that may fork Plugin COULD be written in way that never gave control back to runner, which would force serial execution. Runner plugin is written in such a way that should allow multiple calls to runner plugin, e.g. parallel job.",other-file | other-file,"Move all execution to execution nodes managed via receptor network ##### ISSUE TYPE - Feature Idea ##### SUMMARY Enable users to have a distributed network of execution nodes, where the only requirement is that the nodes have ansible-runner, ansible, and [receptor](https://github.com/project-receptor/receptor) installed. This node can then self register or be registered to the receptor network of which AWX control plane nodes will be receptor controllers (or able to dispatch work via a receptor controller). This should be extended to be the only way jobs are executed - when a task is assigned to a node to be done, it should be done through that mechanism; there shouldn't be a separate way of running jobs. This may mean replacing way work is dispatched to container groups as well, but that may be punted (not critical to ship this feature for all other nodes). Acceptance criteria: ----------------------------- - [ ] In the case that the execution node can reach Tower via the receptor network, it should be able to self register. - [ ] If because of network topology only Tower can reach out to the execution node via the receptor network, then Tower should be able to find/register the execution node. - [ ] only requirement of execution nodes are ansible-runner, ansible, and receptor and ability to receive network traffic from at least one receptor controller - [ ] no downtime required when adding execution nodes - [ ] connections w/ receptor are all TCP - [ ] Right now our isolated node delivery time failure is 30 seconds, we will have similar resilience - [ ] If job gets received and started but we lose node during execution, will have to do same thing we do today as far as marking it as failed because job no longer found running - [ ] Each receptor can it manage multiple jobs at once, we should be able to dispatch more than one job at a time to an execution node - [ ] Currently there is nothing built into receptor/runner that would prevent us from OOMing the system, but we need to implement something (capacity check of some kind) because currently we do this w/ isolated heartbeat + dispatcher Questions to be answered: --------------------------------------- - [ ] Multiple receptors can cohabitate on same system, can an execution node get registered several times under each of these receptors? Additional notes: ------------------------ Receptor does not fork, hands off work to plugin that may fork Plugin COULD be written in way that never gave control back to runner, which would force serial execution. Runner plugin is written in such a way that should allow multiple calls to runner plugin, e.g. parallel job. other-file other-file",no-bug,0.9
7675,awx,https://github.com/ansible/awx/issues/7675,Add inventory kind and organization name as default search options on Inventory List,##### ISSUE TYPE - Feature Idea ##### SUMMARY I think both of these would be really useful as defaults. 1) Inventory kind: This would be a boolean where the user could select Inventory or Smart Inventory to trim down the list to only inventories that match that kind. 2) Organization name: If we're going to do https://github.com/ansible/awx/issues/7673 then I think giving users a quick way to search for it would be nice. The payload would look like `organization__name=WhateverTheSearchIs`,other-file | other-file,Add inventory kind and organization name as default search options on Inventory List ##### ISSUE TYPE - Feature Idea ##### SUMMARY I think both of these would be really useful as defaults. 1) Inventory kind: This would be a boolean where the user could select Inventory or Smart Inventory to trim down the list to only inventories that match that kind. 2) Organization name: If we're going to do https://github.com/ansible/awx/issues/7673 then I think giving users a quick way to search for it would be nice. The payload would look like `organization__name=WhateverTheSearchIs` other-file other-file,no-bug,0.9
7051,awx,https://github.com/ansible/awx/issues/7051,ARM64/Aarch64 Support (Raspberry Pi4),"##### ISSUE TYPE - Feature Idea ##### SUMMARY I would love to be able to run awx on a raspberry pi 4. The latest raspberry pi with its stats should be plenty to run the full awx stack, and it would be so useful for people like me who run home labs of just raspberry pis. Ive attempted to run install with `dockerhub_base` commented out in inventory to make the playbooks build the images on the pi 4 but i hit this error: ``` TASK [image_build : Build AWX distribution using container] ****************************************************************************************************************** fatal: [localhost -> localhost]: FAILED! => {""changed"": false, ""msg"": ""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nOnly Linux 64 bits supported.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2020-05-17T02_23_59_085Z-debug.log\nmake: *** [Makefile:503: awx/ui/.release_deps_built] Error 1\n"", ""status"": 2} PLAY RECAP ******************************************************************************************************************************************************************* localhost : ok=10 changed=2 unreachable=0 failed=1 skipped=3 rescued=0 ignored=0 ``` Looks like its failing during the npm install when it installs chromedriver... I'm not sure how to fix this since chromedriver seems to explicitly support x86 only. https://github.com/giggio/node-chromedriver/issues/156 Maybe theres a way to skip chromedriver? I think its used by puppeteer and i assume puppeteer isnt needed during the build? Open to ideas! And I dont mind doing the work!",documentation-file | documentation-file | other-file | config-file | container-file | config-file | other-file | other-file | documentation-file | documentation-file | other-file | config-file | container-file | config-file | other-file | other-file | documentation-file | documentation-file | config-file | container-file | config-file | other-file | other-file,"ARM64/Aarch64 Support (Raspberry Pi4) ##### ISSUE TYPE - Feature Idea ##### SUMMARY I would love to be able to run awx on a raspberry pi 4. The latest raspberry pi with its stats should be plenty to run the full awx stack, and it would be so useful for people like me who run home labs of just raspberry pis. Ive attempted to run install with `dockerhub_base` commented out in inventory to make the playbooks build the images on the pi 4 but i hit this error: ``` TASK [image_build : Build AWX distribution using container] ****************************************************************************************************************** fatal: [localhost -> localhost]: FAILED! => {""changed"": false, ""msg"": ""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=1 npm --unsafe-perm --prefix awx/ui ci --no-save awx/ui\n\n> fsevents@1.2.4 install /awx/awx/ui/node_modules/fsevents\n> node install\n\n\n> uglifyjs-webpack-plugin@0.4.6 postinstall /awx/awx/ui/node_modules/uglifyjs-webpack-plugin\n> node lib/post_install.js\n\n\n> puppeteer@1.8.0 install /awx/awx/ui/node_modules/puppeteer\n> node install.js\n\n**INFO** Skipping Chromium download. \""PUPPETEER_SKIP_CHROMIUM_DOWNLOAD\"" environment variable was found.\n\n> nunjucks@3.1.3 postinstall /awx/awx/ui/node_modules/nunjucks\n> node postinstall-build.js src\n\n\n> chromedriver@2.40.0 install /awx/awx/ui/node_modules/chromedriver\n> node install.js\n\nOnly Linux 64 bits supported.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! chromedriver@2.40.0 install: `node install.js`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the chromedriver@2.40.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR! /root/.npm/_logs/2020-05-17T02_23_59_085Z-debug.log\nmake: *** [Makefile:503: awx/ui/.release_deps_built] Error 1\n"", ""status"": 2} PLAY RECAP ******************************************************************************************************************************************************************* localhost : ok=10 changed=2 unreachable=0 failed=1 skipped=3 rescued=0 ignored=0 ``` Looks like its failing during the npm install when it installs chromedriver... I'm not sure how to fix this since chromedriver seems to explicitly support x86 only. https://github.com/giggio/node-chromedriver/issues/156 Maybe theres a way to skip chromedriver? I think its used by puppeteer and i assume puppeteer isnt needed during the build? Open to ideas! And I dont mind doing the work! documentation-file documentation-file other-file config-file container-file config-file other-file other-file documentation-file documentation-file other-file config-file container-file config-file other-file other-file documentation-file documentation-file config-file container-file config-file other-file other-file",no-bug,0.9
6538,awx,https://github.com/ansible/awx/issues/6538,"document ""Source Variables"" in Source page","##### ISSUE TYPE - Bug Report ##### SUMMARY The ""source variable"" field is basically undocumented now. There is a popup that links to an ec2.ini file, which returns a 404. ##### ENVIRONMENT * AWX version: 9.1.0 * AWX install method: docker on linux * Ansible version: 2.8 * Operating System: Centos 7.7 * Web Browser: Firefox ##### STEPS TO REPRODUCE Go to source page, click on question mark next to source variables ##### EXPECTED RESULTS Some useful information on how to use this field ##### ACTUAL RESULTS a popup linking to a 404 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"document ""Source Variables"" in Source page ##### ISSUE TYPE - Bug Report ##### SUMMARY The ""source variable"" field is basically undocumented now. There is a popup that links to an ec2.ini file, which returns a 404. ##### ENVIRONMENT * AWX version: 9.1.0 * AWX install method: docker on linux * Ansible version: 2.8 * Operating System: Centos 7.7 * Web Browser: Firefox ##### STEPS TO REPRODUCE Go to source page, click on question mark next to source variables ##### EXPECTED RESULTS Some useful information on how to use this field ##### ACTUAL RESULTS a popup linking to a 404 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.9
4809,awx,https://github.com/ansible/awx/issues/4809,Reducing dynamic inventory update locking,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> We're running into a situation, wherein we have an inventory of a few thousand hosts. This inventory is dynamic, there is a source script for the inventory inside of a project. This inventory is configured to overwrite variables and hosts, as our infrastructure can change a lot during the day, and all the variables are delivered through this dynamic source. We, as an organization / team, often need to run orchestration across the entire fleet. Thousands of hosts. These jobs can often last many hours, ensuring fleet health as the job continues through. What we notice is that while such a job is executing, AWX will refuse to update that dynamic inventory. The inventory update job will remain pending while the original task continues. This can be a pretty big problem for us, as our inventory can change throughout the day. New hosts can show up many times throughout the day, or be removed. Data about those hosts can change too, so we do want to have a fairly updated picture of inventory each time we launch a job. What we'd like to see is the ability to execute the inventory update job while a job that USES the inventory is running. This will allow us to configure our inventory with ""update on execution"", with a reasonable cache. It will allow new hosts to reliably use provisioning call backs to get jobs. Thanks!",source-file | test-file | source-file | test-file | source-file | test-file,"Reducing dynamic inventory update locking ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> We're running into a situation, wherein we have an inventory of a few thousand hosts. This inventory is dynamic, there is a source script for the inventory inside of a project. This inventory is configured to overwrite variables and hosts, as our infrastructure can change a lot during the day, and all the variables are delivered through this dynamic source. We, as an organization / team, often need to run orchestration across the entire fleet. Thousands of hosts. These jobs can often last many hours, ensuring fleet health as the job continues through. What we notice is that while such a job is executing, AWX will refuse to update that dynamic inventory. The inventory update job will remain pending while the original task continues. This can be a pretty big problem for us, as our inventory can change throughout the day. New hosts can show up many times throughout the day, or be removed. Data about those hosts can change too, so we do want to have a fairly updated picture of inventory each time we launch a job. What we'd like to see is the ability to execute the inventory update job while a job that USES the inventory is running. This will allow us to configure our inventory with ""update on execution"", with a reasonable cache. It will allow new hosts to reliably use provisioning call backs to get jobs. Thanks! source-file test-file source-file test-file source-file test-file",no-bug,0.9
9550,awx,https://github.com/ansible/awx/issues/9550,"Clicking ""Back"" after Schedule deletion causes page reload error","##### ISSUE TYPE - Bug Report ##### SUMMARY Immediately after deleting one or more schedules from the schedules tab of a job template, clicking the back button results in a reload error where the page will not load, but stays blank and displays a spinning circIe indefinitely. Clicking refresh doesn't work. Only clicking one of the links in the app, in order to navigate elsewhere, works. ##### ENVIRONMENT * AWX version: Devel 3-10-21 ##### STEPS TO REPRODUCE Click Templates, select a template, and click Schedules. Click the checkbox next to one or more schedules and click Delete. Right away, click the browser's Back button (I was trying to mimic a user who accidentally deleted something and in a silly way, tries clicking back to see if that helps). You will notice a spinning circle on the page that will stay that way until you click another of the app's links. Clicking refresh doesn't work. ##### EXPECTED RESULTS Clicking Back after deleting would bring the user to that page, showing that whatever schedules had just been deleted were still deleted. ##### ACTUAL RESULTS The page went mostly blank and a reload circle spun and spun until I clicked one of the app's links to redirect the page. ##### ADDITIONAL INFORMATION ![Reload error](https://user-images.githubusercontent.com/63685497/110692868-d30ef000-81b4-11eb-8d7e-0312cc0fa084.gif)",other-file | other-file | other-file | other-file | other-file | other-file,"Clicking ""Back"" after Schedule deletion causes page reload error ##### ISSUE TYPE - Bug Report ##### SUMMARY Immediately after deleting one or more schedules from the schedules tab of a job template, clicking the back button results in a reload error where the page will not load, but stays blank and displays a spinning circIe indefinitely. Clicking refresh doesn't work. Only clicking one of the links in the app, in order to navigate elsewhere, works. ##### ENVIRONMENT * AWX version: Devel 3-10-21 ##### STEPS TO REPRODUCE Click Templates, select a template, and click Schedules. Click the checkbox next to one or more schedules and click Delete. Right away, click the browser's Back button (I was trying to mimic a user who accidentally deleted something and in a silly way, tries clicking back to see if that helps). You will notice a spinning circle on the page that will stay that way until you click another of the app's links. Clicking refresh doesn't work. ##### EXPECTED RESULTS Clicking Back after deleting would bring the user to that page, showing that whatever schedules had just been deleted were still deleted. ##### ACTUAL RESULTS The page went mostly blank and a reload circle spun and spun until I clicked one of the app's links to redirect the page. ##### ADDITIONAL INFORMATION ![Reload error](https://user-images.githubusercontent.com/63685497/110692868-d30ef000-81b4-11eb-8d7e-0312cc0fa084.gif) other-file other-file other-file other-file other-file other-file",no-bug,0.9
4664,awx,https://github.com/ansible/awx/issues/4664,6.1.0.0 -> 7.0.0 Breaks SAML login due to 'saml_auditor_attr',"##### ISSUE TYPE - Bug Report ##### SUMMARY Login with SAML fails after upgrade to `7.0.0` due to missing `saml_auditor_attr` in settings. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: openshift manual deployment * Ansible version: 2.8.4 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE This should be identical when using docker-compose, as our manual AWX OpenShift instance is more or less identical to the docker-compose version. Have a AWX instance running in OpenShift manually deployed. Upgrade to new version by pushing new images to ImageStream, let migrations run and deployment finish. Attempt to login with existing SAML login that utilizes the `SOCIAL_AUTH_SAML_ORGANIZATION_ATTR` setting. ##### EXPECTED RESULTS AWX is updated to 7.0.0 and login still works as normal. ##### ACTUAL RESULTS Login failed with error `saml_auditor_attr` ##### ADDITIONAL INFORMATION Seems related to this: https://github.com/ansible/awx/pull/3623 ##### WORKAROUND Add the `saml_auditor_attr` with a value manually to the Database in table `conf_settings` in row `SOCIAL_AUTH_SAML_ORGANIZATION_ATTR`",config-file,"6.1.0.0 -> 7.0.0 Breaks SAML login due to 'saml_auditor_attr' ##### ISSUE TYPE - Bug Report ##### SUMMARY Login with SAML fails after upgrade to `7.0.0` due to missing `saml_auditor_attr` in settings. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: openshift manual deployment * Ansible version: 2.8.4 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE This should be identical when using docker-compose, as our manual AWX OpenShift instance is more or less identical to the docker-compose version. Have a AWX instance running in OpenShift manually deployed. Upgrade to new version by pushing new images to ImageStream, let migrations run and deployment finish. Attempt to login with existing SAML login that utilizes the `SOCIAL_AUTH_SAML_ORGANIZATION_ATTR` setting. ##### EXPECTED RESULTS AWX is updated to 7.0.0 and login still works as normal. ##### ACTUAL RESULTS Login failed with error `saml_auditor_attr` ##### ADDITIONAL INFORMATION Seems related to this: https://github.com/ansible/awx/pull/3623 ##### WORKAROUND Add the `saml_auditor_attr` with a value manually to the Database in table `conf_settings` in row `SOCIAL_AUTH_SAML_ORGANIZATION_ATTR` config-file",no-bug,0.8
6398,awx,https://github.com/ansible/awx/issues/6398,Password field validation works incorrectly on user add form,"##### ISSUE TYPE - Bug Report ##### SUMMARY ![Screenshot from 2020-03-24 11-12-42](https://user-images.githubusercontent.com/19942822/77442272-b1103800-6dc0-11ea-85e1-a4bfec8ff91f.png) ##### STEPS TO REPRODUCE 1. Make a user with all normal fields, but make the first name > 30 characters 2. Save (should fail and show error about > 30 character limit) 3. Clear the long first name with backspace. The error in the password field should appear. ##### EXPECTED RESULTS Field validation works correctly ##### ACTUAL RESULTS The amusing screenshot above",source-file,"Password field validation works incorrectly on user add form ##### ISSUE TYPE - Bug Report ##### SUMMARY ![Screenshot from 2020-03-24 11-12-42](https://user-images.githubusercontent.com/19942822/77442272-b1103800-6dc0-11ea-85e1-a4bfec8ff91f.png) ##### STEPS TO REPRODUCE 1. Make a user with all normal fields, but make the first name > 30 characters 2. Save (should fail and show error about > 30 character limit) 3. Clear the long first name with backspace. The error in the password field should appear. ##### EXPECTED RESULTS Field validation works correctly ##### ACTUAL RESULTS The amusing screenshot above source-file",no-bug,0.9
5528,awx,https://github.com/ansible/awx/issues/5528,New AWX CLI returns type error when modifying list or dict settings,"##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to modify a list or dictionary valued setting from the **awx** command line tool, the API return a type error. ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: Kubernetes * Ansible version: 2.7.11 * Operating System: Ubuntu 18.04 * Web Browser: Firefox 71 ##### STEPS TO REPRODUCE 1. Install the AWX CLI tool: ``` pip install ""https://github.com/ansible/awx/archive/9.0.1.tar.gz#egg=awxkit&subdirectory=awxkit"" ``` 2. Try to modify the AUTH_LDAP_GROUP_SEARCH (type list) setting ``` awx settings modify AUTH_LDAP_USER_SEARCH '[""DC=example,DC=com"",""SCOPE_SUBTREE"",""(uid=%(user)s)""]' ``` 3. Receive the following error ``` {""AUTH_LDAP_USER_SEARCH"": [""Expected a list of items but got type \""str\"".""]} ``` ##### EXPECTED RESULTS Expected to modify the setting like the old tower-cli or awx-cli tools were able to. ##### ACTUAL RESULTS Received a type error ``` {""AUTH_LDAP_USER_SEARCH"": [""Expected a list of items but got type \""str\"".""]} ``` ##### ADDITIONAL INFORMATION You can achieve the same modification with the awx-cli: ``` awx-cli setting modify AUTH_LDAP_USER_SEARCH '[""DC=example,DC=com"",""SCOPE_SUBTREE"",""(uid=%(user)s)""]' Resource changed. ===================== =========================================================== id value ===================== =========================================================== AUTH_LDAP_USER_SEARCH [u'DC=example,DC=com', u'SCOPE_SUBTREE', u'(uid=%(user)s)'] ===================== =========================================================== ```",other-file | source-file | source-file | source-file | test-file | test-file,"New AWX CLI returns type error when modifying list or dict settings ##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to modify a list or dictionary valued setting from the **awx** command line tool, the API return a type error. ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: Kubernetes * Ansible version: 2.7.11 * Operating System: Ubuntu 18.04 * Web Browser: Firefox 71 ##### STEPS TO REPRODUCE 1. Install the AWX CLI tool: ``` pip install ""https://github.com/ansible/awx/archive/9.0.1.tar.gz#egg=awxkit&subdirectory=awxkit"" ``` 2. Try to modify the AUTH_LDAP_GROUP_SEARCH (type list) setting ``` awx settings modify AUTH_LDAP_USER_SEARCH '[""DC=example,DC=com"",""SCOPE_SUBTREE"",""(uid=%(user)s)""]' ``` 3. Receive the following error ``` {""AUTH_LDAP_USER_SEARCH"": [""Expected a list of items but got type \""str\"".""]} ``` ##### EXPECTED RESULTS Expected to modify the setting like the old tower-cli or awx-cli tools were able to. ##### ACTUAL RESULTS Received a type error ``` {""AUTH_LDAP_USER_SEARCH"": [""Expected a list of items but got type \""str\"".""]} ``` ##### ADDITIONAL INFORMATION You can achieve the same modification with the awx-cli: ``` awx-cli setting modify AUTH_LDAP_USER_SEARCH '[""DC=example,DC=com"",""SCOPE_SUBTREE"",""(uid=%(user)s)""]' Resource changed. ===================== =========================================================== id value ===================== =========================================================== AUTH_LDAP_USER_SEARCH [u'DC=example,DC=com', u'SCOPE_SUBTREE', u'(uid=%(user)s)'] ===================== =========================================================== ``` other-file source-file source-file source-file test-file test-file",bug,0.9
8828,awx,https://github.com/ansible/awx/issues/8828,[ui_next] User should not be able to change credential types for existing credentials,"##### ISSUE TYPE - Bug Report ##### SUMMARY Generally, giving the user the ability to switch between credential types after a credential is created causes lots of complexity with very little benefit ##### ENVIRONMENT * AWX version: 12/10 ##### STEPS TO REPRODUCE 1. Create a credential 2. Modify credential type Note: dragons and form errors ##### EXPECTED RESULTS I think we should remove this functionality until we can map out the intent. ##### ACTUAL RESULTS Dragons",other-file | other-file,"[ui_next] User should not be able to change credential types for existing credentials ##### ISSUE TYPE - Bug Report ##### SUMMARY Generally, giving the user the ability to switch between credential types after a credential is created causes lots of complexity with very little benefit ##### ENVIRONMENT * AWX version: 12/10 ##### STEPS TO REPRODUCE 1. Create a credential 2. Modify credential type Note: dragons and form errors ##### EXPECTED RESULTS I think we should remove this functionality until we can map out the intent. ##### ACTUAL RESULTS Dragons other-file other-file",no-bug,0.8
9510,awx,https://github.com/ansible/awx/issues/9510,[ui_next] Add ouiaID to JT Save and Cancel buttons for testability,##### ISSUE TYPE - Feature Idea ##### SUMMARY The Save and Cancel buttons on the JT Add/Edit form need ouiaIDs for testability,other-file | other-file,[ui_next] Add ouiaID to JT Save and Cancel buttons for testability ##### ISSUE TYPE - Feature Idea ##### SUMMARY The Save and Cancel buttons on the JT Add/Edit form need ouiaIDs for testability other-file other-file,no-bug,0.9
10966,awx,https://github.com/ansible/awx/issues/10966,"Jobs and traceback output filtering, 'Filter By' event, needs to be marked for translations","### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When in ja google-chrome, while Jobs and traceback output filtering, 'Filter By' event needs to be marked for translations ### AWX version 19.3.0 ### Installation method docker on linux ### Modifications yes ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Launch UI in ja google-chrome 2. Click Jobs from nav bar 3. Launch a simple 'ping' job 4. Click the Stdout drop down 5. Click or select the option 'Event' button 6. Click or select 'Filter By' Event button 7. Observe 'Filter By' translation ### Expected results 100% Translated (into Japanese) ### Actual results Appears in English ### Additional information 1. When in ja google-chrome, to find strings obviously in English, just swapped the ~/ja/messages.js with dummy ja translation and rebuild the UI 2. Screenshot 1 highlighting the unmarked string when in ja google-chrome ![Screenshot from 2021-08-27 11-54-50_1](https://user-images.githubusercontent.com/12151785/131330055-81654d38-18b1-4519-807d-753427274c95.png) 3. Screenshot 1 highlighting the unmarked string when in ja google-chrome ![Screenshot from 2021-08-29 21-50-56_1](https://user-images.githubusercontent.com/12151785/131330207-7831fae9-8af1-462a-9e0e-09d1b1a6f9b0.png)",source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Jobs and traceback output filtering, 'Filter By' event, needs to be marked for translations ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When in ja google-chrome, while Jobs and traceback output filtering, 'Filter By' event needs to be marked for translations ### AWX version 19.3.0 ### Installation method docker on linux ### Modifications yes ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Launch UI in ja google-chrome 2. Click Jobs from nav bar 3. Launch a simple 'ping' job 4. Click the Stdout drop down 5. Click or select the option 'Event' button 6. Click or select 'Filter By' Event button 7. Observe 'Filter By' translation ### Expected results 100% Translated (into Japanese) ### Actual results Appears in English ### Additional information 1. When in ja google-chrome, to find strings obviously in English, just swapped the ~/ja/messages.js with dummy ja translation and rebuild the UI 2. Screenshot 1 highlighting the unmarked string when in ja google-chrome ![Screenshot from 2021-08-27 11-54-50_1](https://user-images.githubusercontent.com/12151785/131330055-81654d38-18b1-4519-807d-753427274c95.png) 3. Screenshot 1 highlighting the unmarked string when in ja google-chrome ![Screenshot from 2021-08-29 21-50-56_1](https://user-images.githubusercontent.com/12151785/131330207-7831fae9-8af1-462a-9e0e-09d1b1a6f9b0.png) source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
11622,awx,https://github.com/ansible/awx/issues/11622,Hop nodes instances can be modified,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary After merging https://github.com/ansible/awx/pull/11591 the hop nodes are now exposed in `/api/v2/instances/`. Example: ``` { ""id"": 4, ""type"": ""instance"", ""url"": ""/api/v2/instances/4/"", ""related"": { ""jobs"": ""/api/v2/instances/4/jobs/"", ""instance_groups"": ""/api/v2/instances/4/instance_groups/"" }, ""uuid"": ""00000000-0000-0000-0000-000000000000"", ""hostname"": ""receptor-hop"", ""created"": ""2022-01-26T19:15:07.439405Z"", ""modified"": ""2022-01-26T19:27:58.447951Z"", ""last_seen"": ""2022-01-27T13:36:46.163205Z"", ""last_health_check"": null, ""errors"": """", ""capacity_adjustment"": ""1.00"", ""version"": """", ""capacity"": 0, ""consumed_capacity"": 0, ""percent_capacity_remaining"": 0.0, ""jobs_running"": 0, ""jobs_total"": 0, ""cpu"": 0, ""memory"": 0, ""cpu_capacity"": 0, ""mem_capacity"": 0, ""enabled"": false, ""managed_by_policy"": false, ""node_type"": ""hop"" } ``` and now is possible to `PUT` or `PATCH` the values through API ``` { ""capacity_adjustment"": ""1.00"", ""enabled"": false, ""managed_by_policy"": false } ``` although setting capacity to 0 enabld to false is not making the job to faul, @jbradberry do we want allow users to patch/put on hop node instances? ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Go to /api/v2/instances/<id>/ 2. patch any value: ``` { ""capacity_adjustment"": 1.0, ""enabled"": true, ""managed_by_policy"": true } ``` ### Expected results These fields to be not modifyable for hop nodes? ### Actual results 1. The user can change those values 2. This is not making the job to fail 3. The hop nodes instances are showing as `disabled` in the mesh view (may confuse users) ### Additional information _No response_",source-file | source-file,"Hop nodes instances can be modified ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary After merging https://github.com/ansible/awx/pull/11591 the hop nodes are now exposed in `/api/v2/instances/`. Example: ``` { ""id"": 4, ""type"": ""instance"", ""url"": ""/api/v2/instances/4/"", ""related"": { ""jobs"": ""/api/v2/instances/4/jobs/"", ""instance_groups"": ""/api/v2/instances/4/instance_groups/"" }, ""uuid"": ""00000000-0000-0000-0000-000000000000"", ""hostname"": ""receptor-hop"", ""created"": ""2022-01-26T19:15:07.439405Z"", ""modified"": ""2022-01-26T19:27:58.447951Z"", ""last_seen"": ""2022-01-27T13:36:46.163205Z"", ""last_health_check"": null, ""errors"": """", ""capacity_adjustment"": ""1.00"", ""version"": """", ""capacity"": 0, ""consumed_capacity"": 0, ""percent_capacity_remaining"": 0.0, ""jobs_running"": 0, ""jobs_total"": 0, ""cpu"": 0, ""memory"": 0, ""cpu_capacity"": 0, ""mem_capacity"": 0, ""enabled"": false, ""managed_by_policy"": false, ""node_type"": ""hop"" } ``` and now is possible to `PUT` or `PATCH` the values through API ``` { ""capacity_adjustment"": ""1.00"", ""enabled"": false, ""managed_by_policy"": false } ``` although setting capacity to 0 enabld to false is not making the job to faul, @jbradberry do we want allow users to patch/put on hop node instances? ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Go to /api/v2/instances/<id>/ 2. patch any value: ``` { ""capacity_adjustment"": 1.0, ""enabled"": true, ""managed_by_policy"": true } ``` ### Expected results These fields to be not modifyable for hop nodes? ### Actual results 1. The user can change those values 2. This is not making the job to fail 3. The hop nodes instances are showing as `disabled` in the mesh view (may confuse users) ### Additional information _No response_ source-file source-file",bug,0.9
6532,awx,https://github.com/ansible/awx/issues/6532,AWX Job not started,"##### ISSUE TYPE - Bug Report ##### SUMMARY I have AWX running inside kubernetes. The components (web and task) connects to postgresql. All of them are containers running as kubernetes pods. For 2 months that setup is running fine without connection issues between the pods. web (pod) --> postgres (pod) task(pod) --> postgres (pod) Due to lack of persistent storage in kubernetes cluster for postgres, I decided to move postgresql outside of kubernetes so it will be now a traditional virtual machine (1 master and 1 slave) instead of a container. Then I deployed pgpool inside kubernetes and remove the postgres pod. The current setup now is: web (pod) --> pgpool (pod) --> postgres master/slave (virtual machine) task (pod) --> pgpool (pod) --> postgres master/slave (virtual machine) During that setup, I encounter connection issues such as some SQL statements are not sent properly to backend postgres. I notice that scenario when I encounter this error from the task pod: ``` File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method return getattr(self.get_queryset(), name)(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 408, in get self.model._meta.object_name awx.main.models.jobs.Job.DoesNotExist: Job matching query does not exist. ``` I looked closely and found out that seems some SQL queries are not being handled by pgpool. In effect, the queries never reached the backend postgres servers. Here an image of the missed job in AWX that corresponds to the missed SQL query. From the image job 2214 is successful and ran, job 2216 is missed, job 2217 is successful, and so on. ![image](https://user-images.githubusercontent.com/28911125/78198898-b3f3e280-74bc-11ea-9a02-2e93eff82144.png) If we open the blank job, it will look like this. ![image](https://user-images.githubusercontent.com/28911125/78199128-6330b980-74bd-11ea-9ec7-69b68e570d98.png) And it will never run. To cleanup I just needed to delete them. Checking the pgpool logs, I see the job ID 2217 is there. ```  ~  kubectl logs dev-pgpool-77949cf588-mx25h | egrep '2020-03-31' | grep dev_execute_command | egrep 'INSERT INTO ""main_activitystream""' | egrep '""id"": 2217' 2020-03-31 05:04:28: pid 36: LOG: statement: INSERT INTO ""main_activitystream"" (""actor_id"", ""operation"", ""timestamp"", ""changes"", ""deleted_actor"", ""action_node"", ""object_relationship_type"", ""object1"", ""object2"", ""setting"") VALUES (NULL, 'create', '2020-03-31T05:04:28.282003+00:00'::timestamptz, '{""name"": ""dev_execute_command"", ""description"": """", ""job_type"": ""run"", ""inventory"": ""awx-playbooks-dev-1"", ""project"": ""awx-playbooks-6"", ""playbook"": ""playbooks/execute_command.yaml"", ""scm_branch"": """", ""forks"": 0, ""limit"": """", ""verbosity"": 0, ""extra_vars"": ""{\""command\"": \""date\""}"", ""job_tags"": """", ""force_handlers"": false, ""skip_tags"": """", ""start_at_task"": """", ""timeout"": 0, ""use_fact_cache"": false, ""job_template"": ""dev_execute_command-18"", ""allow_simultaneous"": false, ""instance_group"": null, ""diff_mode"": false, ""job_slice_number"": 0, ""job_slice_count"": 1, ""id"": 2217, ""credentials"": [], ""labels"": []}', NULL, 'awx', '', 'job', '', '{}') RETURNING ""main_activitystream"".""id""  ~  ``` But job id 2216 is not there. ```  ~  kubectl logs dev-pgpool-77949cf588-mx25h | egrep '2020-03-31' | grep dev_execute_command | egrep 'INSERT INTO ""main_activitystream""' | egrep '""id"": 2216'  ~  ``` Even though this is probably related to the pgpool setup I made, I want to ask for some insights specially on how awx sends SQL queries to destination postgres endpoint. I'm thinking if there are some settings that I can tweak on AWX side. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: kubernetes * Ansible version: 2.9.1 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: Chrome 80.0.3987.149 * Pgpool: 4.1.1 ##### STEPS TO REPRODUCE 1. Setup master/slave postgres with streaming replication 2. Setup pgpool infront of postgres cluster 3. Point AWX web and tasks to pgpool IP ##### EXPECTED RESULTS All jobs must run as expected on schedule. ##### ACTUAL RESULTS Some jobs where not run. ##### ADDITIONAL INFORMATION I also submitted issue on pgpool bug tracker which may help. https://www.pgpool.net/mantisbt/view.php?id=601",source-file,"AWX Job not started ##### ISSUE TYPE - Bug Report ##### SUMMARY I have AWX running inside kubernetes. The components (web and task) connects to postgresql. All of them are containers running as kubernetes pods. For 2 months that setup is running fine without connection issues between the pods. web (pod) --> postgres (pod) task(pod) --> postgres (pod) Due to lack of persistent storage in kubernetes cluster for postgres, I decided to move postgresql outside of kubernetes so it will be now a traditional virtual machine (1 master and 1 slave) instead of a container. Then I deployed pgpool inside kubernetes and remove the postgres pod. The current setup now is: web (pod) --> pgpool (pod) --> postgres master/slave (virtual machine) task (pod) --> pgpool (pod) --> postgres master/slave (virtual machine) During that setup, I encounter connection issues such as some SQL statements are not sent properly to backend postgres. I notice that scenario when I encounter this error from the task pod: ``` File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method return getattr(self.get_queryset(), name)(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/models/query.py"", line 408, in get self.model._meta.object_name awx.main.models.jobs.Job.DoesNotExist: Job matching query does not exist. ``` I looked closely and found out that seems some SQL queries are not being handled by pgpool. In effect, the queries never reached the backend postgres servers. Here an image of the missed job in AWX that corresponds to the missed SQL query. From the image job 2214 is successful and ran, job 2216 is missed, job 2217 is successful, and so on. ![image](https://user-images.githubusercontent.com/28911125/78198898-b3f3e280-74bc-11ea-9a02-2e93eff82144.png) If we open the blank job, it will look like this. ![image](https://user-images.githubusercontent.com/28911125/78199128-6330b980-74bd-11ea-9ec7-69b68e570d98.png) And it will never run. To cleanup I just needed to delete them. Checking the pgpool logs, I see the job ID 2217 is there. ```  ~  kubectl logs dev-pgpool-77949cf588-mx25h | egrep '2020-03-31' | grep dev_execute_command | egrep 'INSERT INTO ""main_activitystream""' | egrep '""id"": 2217' 2020-03-31 05:04:28: pid 36: LOG: statement: INSERT INTO ""main_activitystream"" (""actor_id"", ""operation"", ""timestamp"", ""changes"", ""deleted_actor"", ""action_node"", ""object_relationship_type"", ""object1"", ""object2"", ""setting"") VALUES (NULL, 'create', '2020-03-31T05:04:28.282003+00:00'::timestamptz, '{""name"": ""dev_execute_command"", ""description"": """", ""job_type"": ""run"", ""inventory"": ""awx-playbooks-dev-1"", ""project"": ""awx-playbooks-6"", ""playbook"": ""playbooks/execute_command.yaml"", ""scm_branch"": """", ""forks"": 0, ""limit"": """", ""verbosity"": 0, ""extra_vars"": ""{\""command\"": \""date\""}"", ""job_tags"": """", ""force_handlers"": false, ""skip_tags"": """", ""start_at_task"": """", ""timeout"": 0, ""use_fact_cache"": false, ""job_template"": ""dev_execute_command-18"", ""allow_simultaneous"": false, ""instance_group"": null, ""diff_mode"": false, ""job_slice_number"": 0, ""job_slice_count"": 1, ""id"": 2217, ""credentials"": [], ""labels"": []}', NULL, 'awx', '', 'job', '', '{}') RETURNING ""main_activitystream"".""id""  ~  ``` But job id 2216 is not there. ```  ~  kubectl logs dev-pgpool-77949cf588-mx25h | egrep '2020-03-31' | grep dev_execute_command | egrep 'INSERT INTO ""main_activitystream""' | egrep '""id"": 2216'  ~  ``` Even though this is probably related to the pgpool setup I made, I want to ask for some insights specially on how awx sends SQL queries to destination postgres endpoint. I'm thinking if there are some settings that I can tweak on AWX side. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: kubernetes * Ansible version: 2.9.1 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: Chrome 80.0.3987.149 * Pgpool: 4.1.1 ##### STEPS TO REPRODUCE 1. Setup master/slave postgres with streaming replication 2. Setup pgpool infront of postgres cluster 3. Point AWX web and tasks to pgpool IP ##### EXPECTED RESULTS All jobs must run as expected on schedule. ##### ACTUAL RESULTS Some jobs where not run. ##### ADDITIONAL INFORMATION I also submitted issue on pgpool bug tracker which may help. https://www.pgpool.net/mantisbt/view.php?id=601 source-file",no-bug,0.9
5906,awx,https://github.com/ansible/awx/issues/5906,Job Results - Output Filter,"## Job Results - Header Mockup: https://tower-mockups.testing.ansible.com/patternfly/jobs/jobs-output/ * Add dropdown to filter output by status * Add dropdown to filter output by verbosity level (this one will require further discussion) <img width=""1498"" alt=""Screen Shot 2020-02-11 at 1 34 50 PM"" src=""https://user-images.githubusercontent.com/15881645/74267124-7d2af880-4cd3-11ea-8e2e-e0c23037278e.png""> ##### ISSUE TYPE - Feature Idea",documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | other-file | source-file | test-file | source-file | test-file,"Job Results - Output Filter ## Job Results - Header Mockup: https://tower-mockups.testing.ansible.com/patternfly/jobs/jobs-output/ * Add dropdown to filter output by status * Add dropdown to filter output by verbosity level (this one will require further discussion) <img width=""1498"" alt=""Screen Shot 2020-02-11 at 1 34 50 PM"" src=""https://user-images.githubusercontent.com/15881645/74267124-7d2af880-4cd3-11ea-8e2e-e0c23037278e.png""> ##### ISSUE TYPE - Feature Idea documentation-file source-file other-file other-file other-file other-file other-file other-file other-file test-file other-file documentation-file documentation-file other-file other-file source-file test-file source-file test-file",no-bug,0.95
9992,awx,https://github.com/ansible/awx/issues/9992,gather_analytics fails the first time,"##### STEPS TO REPRODUCE * Fresh install devel instance * Reset analytics gather timestamp via the settings api * let a gather analytics trigger ##### EXPECTED RESULTS * Now to see a traceback ##### ACTUAL RESULTS * Traceback (see below) ##### ADDITIONAL INFORMATION In the Tower dev env ``` awx-dispatcher stdout | 2021-04-22 13:43:58,493 ERROR [52846d6c] awx.main.dispatch Worker failed to run task awx.main.tasks.gather_analytics(*[], **{} awx-dispatcher stdout | Traceback (most recent call last): awx-dispatcher stdout | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 90, in perform_work awx-dispatcher stdout | result = self.run_callable(body) awx-dispatcher stdout | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 65, in run_callable awx-dispatcher stdout | return _call(*args, **kwargs) awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 384, in gather_analytics awx-dispatcher stdout | last_time = DateTimeField().to_internal_value(last_gather.value) if last_gather else None awx-dispatcher stdout | File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/rest_framework/fields.py"", line 1213, in to_internal_value awx-dispatcher stdout | self.fail('invalid', format=humanized_format) awx-dispatcher stdout | File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/rest_framework/fields.py"", line 641, in fail awx-dispatcher stdout | raise ValidationError(message_string, code=key) awx-dispatcher stdout | rest_framework.exceptions.ValidationError: [ErrorDetail(string='Datetime has wrong format. Use one of these formats instead: YYYY-MM-DDThh:mm[:ss[.uuuuuu]][+HH:MM|-HH:MM|Z].', code='invalid')] ``` ![image](https://user-images.githubusercontent.com/722880/115726713-f9e24980-a350-11eb-90df-e3736a66a5d2.png) Looks like an easy fix. ``` diff --git a/awx/main/tasks.py b/awx/main/tasks.py index b7c8bd0185..2e206b8b65 100644 --- a/awx/main/tasks.py +++ b/awx/main/tasks.py @@ -381,7 +381,7 @@ def gather_analytics(): from rest_framework.fields import DateTimeField last_gather = Setting.objects.filter(key='AUTOMATION_ANALYTICS_LAST_GATHER').first() - last_time = DateTimeField().to_internal_value(last_gather.value) if last_gather else None + last_time = DateTimeField().to_internal_value(last_gather.value) if last_gather and last_gather.value else None gather_time = now() if not last_time or ((gather_time - last_time).total_seconds() > settings.AUTOMATION_ANALYTICS_GATHER_INTERVAL): ```",source-file,"gather_analytics fails the first time ##### STEPS TO REPRODUCE * Fresh install devel instance * Reset analytics gather timestamp via the settings api * let a gather analytics trigger ##### EXPECTED RESULTS * Now to see a traceback ##### ACTUAL RESULTS * Traceback (see below) ##### ADDITIONAL INFORMATION In the Tower dev env ``` awx-dispatcher stdout | 2021-04-22 13:43:58,493 ERROR [52846d6c] awx.main.dispatch Worker failed to run task awx.main.tasks.gather_analytics(*[], **{} awx-dispatcher stdout | Traceback (most recent call last): awx-dispatcher stdout | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 90, in perform_work awx-dispatcher stdout | result = self.run_callable(body) awx-dispatcher stdout | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 65, in run_callable awx-dispatcher stdout | return _call(*args, **kwargs) awx-dispatcher stdout | File ""/awx_devel/awx/main/tasks.py"", line 384, in gather_analytics awx-dispatcher stdout | last_time = DateTimeField().to_internal_value(last_gather.value) if last_gather else None awx-dispatcher stdout | File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/rest_framework/fields.py"", line 1213, in to_internal_value awx-dispatcher stdout | self.fail('invalid', format=humanized_format) awx-dispatcher stdout | File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/rest_framework/fields.py"", line 641, in fail awx-dispatcher stdout | raise ValidationError(message_string, code=key) awx-dispatcher stdout | rest_framework.exceptions.ValidationError: [ErrorDetail(string='Datetime has wrong format. Use one of these formats instead: YYYY-MM-DDThh:mm[:ss[.uuuuuu]][+HH:MM|-HH:MM|Z].', code='invalid')] ``` ![image](https://user-images.githubusercontent.com/722880/115726713-f9e24980-a350-11eb-90df-e3736a66a5d2.png) Looks like an easy fix. ``` diff --git a/awx/main/tasks.py b/awx/main/tasks.py index b7c8bd0185..2e206b8b65 100644 --- a/awx/main/tasks.py +++ b/awx/main/tasks.py @@ -381,7 +381,7 @@ def gather_analytics(): from rest_framework.fields import DateTimeField last_gather = Setting.objects.filter(key='AUTOMATION_ANALYTICS_LAST_GATHER').first() - last_time = DateTimeField().to_internal_value(last_gather.value) if last_gather else None + last_time = DateTimeField().to_internal_value(last_gather.value) if last_gather and last_gather.value else None gather_time = now() if not last_time or ((gather_time - last_time).total_seconds() > settings.AUTOMATION_ANALYTICS_GATHER_INTERVAL): ``` source-file",no-bug,0.8
5068,awx,https://github.com/ansible/awx/issues/5068,Add edit button to Project list rows,##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit),other-file,Add edit button to Project list rows ##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit) other-file,no-bug,0.9
13402,awx,https://github.com/ansible/awx/issues/13402,Access to all keys out of the CyberArk object,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary https://issues.redhat.com/browse/AAPRFE-28 We want to pull all the Keys out of the CyberArk object instead of just the content key or the content value. When we run the API call from the playbook, CyberArk presents all the keys and values associated with that object. We can set the fact and use the keys and values as variables in the playbook. But when we use the custom credential it only gives us the content value and does not give us any other keys and values. We want to be able to use custom credential to pull all the keys and values associated with an object and assigned into variables in AAP natively using the credential plugin. This feature request is for changes to the credential lookup plugin as used in AAP2. ### Select the relevant components - [X] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce 1. Configure a credential using the credential type ""CyberArk Central Credential Provider Lookup"". 2. Only ""Content"" key value from JSON response is returned. ""Content"" is the password value of the account object. ### Current results The credential plugin ""CyberArk Central Credential Provider Lookup"" is hardcoded to only return the ""Content"" key value from a JSON response that includes more keys that could be utilized. ### Sugested feature result The suggested feature would include an additional field in the metadata of the credential plugin to allow the user to specify a different key value to utilize outside of the ""Content"" which should still remain as the default key. ### Additional information Spoke with Oleksii Baranov on 01-05-2023 about how to include this feature. Being developed by CyberArk's @infamousjoeg. PR to come shortly. For more information, please reference the Issue at https://issues.redhat.com/browse/AAPRFE-28.",source-file | source-file | source-file,"Access to all keys out of the CyberArk object ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary https://issues.redhat.com/browse/AAPRFE-28 We want to pull all the Keys out of the CyberArk object instead of just the content key or the content value. When we run the API call from the playbook, CyberArk presents all the keys and values associated with that object. We can set the fact and use the keys and values as variables in the playbook. But when we use the custom credential it only gives us the content value and does not give us any other keys and values. We want to be able to use custom credential to pull all the keys and values associated with an object and assigned into variables in AAP natively using the credential plugin. This feature request is for changes to the credential lookup plugin as used in AAP2. ### Select the relevant components - [X] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce 1. Configure a credential using the credential type ""CyberArk Central Credential Provider Lookup"". 2. Only ""Content"" key value from JSON response is returned. ""Content"" is the password value of the account object. ### Current results The credential plugin ""CyberArk Central Credential Provider Lookup"" is hardcoded to only return the ""Content"" key value from a JSON response that includes more keys that could be utilized. ### Sugested feature result The suggested feature would include an additional field in the metadata of the credential plugin to allow the user to specify a different key value to utilize outside of the ""Content"" which should still remain as the default key. ### Additional information Spoke with Oleksii Baranov on 01-05-2023 about how to include this feature. Being developed by CyberArk's @infamousjoeg. PR to come shortly. For more information, please reference the Issue at https://issues.redhat.com/browse/AAPRFE-28. source-file source-file source-file",no-bug,0.9
14510,awx,https://github.com/ansible/awx/issues/14510,[DOCS] Add alt-text codeblock to Images for Userguide: jobs.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the jobs.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: jobs.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the jobs.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file documentation-file documentation-file documentation-file",no-bug,0.95
5169,awx,https://github.com/ansible/awx/issues/5169,Awx-Postgresql deployment using Helm Chart,"<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Bug Report - Feature Idea - Documentation ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API - UI - Installer ##### SUMMARY <!-- Briefly describe the problem. --> Hi, I am not sure if this is the right forum . I am trying to deploy awx-postgresql pod using helm chart stable/postgresql by setting up a local repo since the K8 cluster we are using does not have access to the open source docker hub to pull the bitnami Images. Have changed the docker image and repository location in the Charts/values.yaml downloaded from stable/postgresql and ran the helm install to see if the changes are working and I see the error below . Please let me know if any one is aware of the error below. Error: render error in ""postgresql/templates/statefulset.yaml"": template: postgresql/templates/statefulset.yaml:50:4: executing ""postgresql/templates/statefulset.yaml"" at <include ""postgresql.imagePullSecrets"" .>: error calling include: template: postgresql/templates/_helpers.tpl:276:48: executing ""postgresql.imagePullSecrets"" at <.Values.metrics.image.pullSecrets>: nil pointer evaluating interface {}.image ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: Kubernetes * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE helm install --dry-run --debug ./postgresql <!-- For bugs, please show exactly how to reproduce the problem. For new features, show how the feature would be used. --> ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- For bug reports, what actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file,"Awx-Postgresql deployment using Helm Chart <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Bug Report - Feature Idea - Documentation ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API - UI - Installer ##### SUMMARY <!-- Briefly describe the problem. --> Hi, I am not sure if this is the right forum . I am trying to deploy awx-postgresql pod using helm chart stable/postgresql by setting up a local repo since the K8 cluster we are using does not have access to the open source docker hub to pull the bitnami Images. Have changed the docker image and repository location in the Charts/values.yaml downloaded from stable/postgresql and ran the helm install to see if the changes are working and I see the error below . Please let me know if any one is aware of the error below. Error: render error in ""postgresql/templates/statefulset.yaml"": template: postgresql/templates/statefulset.yaml:50:4: executing ""postgresql/templates/statefulset.yaml"" at <include ""postgresql.imagePullSecrets"" .>: error calling include: template: postgresql/templates/_helpers.tpl:276:48: executing ""postgresql.imagePullSecrets"" at <.Values.metrics.image.pullSecrets>: nil pointer evaluating interface {}.image ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: Kubernetes * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE helm install --dry-run --debug ./postgresql <!-- For bugs, please show exactly how to reproduce the problem. For new features, show how the feature would be used. --> ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- For bug reports, what actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file",no-bug,0.9
7722,awx,https://github.com/ansible/awx/issues/7722,Update Delete button variant to secondary,"##### ISSUE TYPE - Feature Idea ##### SUMMARY As per feedback from @trahman73, the delete button should be updated to variant `secondary`. Only place where delete button variant should be `danger` is the modal where the action is performed. General example: <img width=""1481"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/88409162-8ea81e80-cda2-11ea-9e03-60a8c6653307.png""> Modal example: <img width=""1180"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/88409293-beefbd00-cda2-11ea-97e2-8287fe41d3ec.png"">",other-file | other-file | test-file | test-file | test-file | other-file | other-file | test-file,"Update Delete button variant to secondary ##### ISSUE TYPE - Feature Idea ##### SUMMARY As per feedback from @trahman73, the delete button should be updated to variant `secondary`. Only place where delete button variant should be `danger` is the modal where the action is performed. General example: <img width=""1481"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/88409162-8ea81e80-cda2-11ea-9e03-60a8c6653307.png""> Modal example: <img width=""1180"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/88409293-beefbd00-cda2-11ea-97e2-8287fe41d3ec.png""> other-file other-file test-file test-file test-file other-file other-file test-file",no-bug,0.9
7798,awx,https://github.com/ansible/awx/issues/7798,Exported Workflow Job Templates refer to inventories by id instead of natural key,"##### ISSUE TYPE - The API endpoint for a workflow_job_template does not provide a representation that includes the natural key of the related Inventory, which is problematic when migrating it between different instances of AWX/Tower. ##### SUMMARY The API endpoint for a workflow_job_template does not provide a representation that includes the natural key of the related Inventory, if set. Instead, it just uses the numerical `id`, which is problematic when attempting to export and import the workflow between different instances of AWX/Tower, since the API will attempt to use the given numerical `id` to associate an inventory to the import workflow, which will most likely be different on the target instance of AWX/Tower. This behaviour is dangerous because if the target instance of AWX/Tower has a different inventory with the same numerical `id`, no warnings will be raised, causing the workflow to be associated with the wrong template. ##### ENVIRONMENT * AWX version: 3.7.1 (Tower) * AWX install method: openshift * Ansible version: 2.9.9 * Operating System: OpenShift * Web Browser: Google Chrome ##### STEPS TO REPRODUCE 1. Export a `workflow_job_template` that is associated with an inventory 2. Observe the value of the `workflow_job_templates.[].inventory` attribut in the exported YAML. ##### EXPECTED RESULTS It is reasonable to expect that the following YAML document would be generated for an example workflow_job_template object. ```yaml workflow_job_templates: - allow_simultaneous: true ask_inventory_on_launch: false ask_limit_on_launch: false ask_scm_branch_on_launch: true ask_variables_on_launch: true description: My VM provisioning extra_vars: '' inventory: name: my-vms type: inventory organization: name: ACME type: organization limit: null name: my-workflow natural_key: name: my-workflow organization: name: ACME type: organization type: workflow_job_template organization: name: ACME type: organization related: notification_templates_approvals: [] notification_templates_error: [] notification_templates_started: [] notification_templates_success: [] schedules: [] survey_spec: {} workflow_nodes: [] scm_branch: null survey_enabled: false webhook_credential: null ``` The document above, when imported, will generate the association with the inventory correctly on Tower 3.7.1. This is the expected behaviour, relying on the natural key of the object instead of the `id`. ##### ACTUAL RESULTS YAML such as the following is generated: ```yaml workflow_job_templates: - allow_simultaneous: true ask_inventory_on_launch: false ask_limit_on_launch: false ask_scm_branch_on_launch: true ask_variables_on_launch: true description: My VM provisioning extra_vars: '' inventory: 29 limit: null name: my-workflow natural_key: name: my-workflow organization: name: ACME type: organization type: workflow_job_template organization: name: ACME type: organization related: notification_templates_approvals: [] notification_templates_error: [] notification_templates_started: [] notification_templates_success: [] schedules: [] survey_spec: {} workflow_nodes: [] scm_branch: null survey_enabled: false webhook_credential: null ``` Notice that the `inventory` key has the value corresponding to the unique id on the source AWX/Tower server. This is not guaranteed to be the same on the target server when the object will be imported.",source-file | source-file | source-file | source-file | source-file | source-file,"Exported Workflow Job Templates refer to inventories by id instead of natural key ##### ISSUE TYPE - The API endpoint for a workflow_job_template does not provide a representation that includes the natural key of the related Inventory, which is problematic when migrating it between different instances of AWX/Tower. ##### SUMMARY The API endpoint for a workflow_job_template does not provide a representation that includes the natural key of the related Inventory, if set. Instead, it just uses the numerical `id`, which is problematic when attempting to export and import the workflow between different instances of AWX/Tower, since the API will attempt to use the given numerical `id` to associate an inventory to the import workflow, which will most likely be different on the target instance of AWX/Tower. This behaviour is dangerous because if the target instance of AWX/Tower has a different inventory with the same numerical `id`, no warnings will be raised, causing the workflow to be associated with the wrong template. ##### ENVIRONMENT * AWX version: 3.7.1 (Tower) * AWX install method: openshift * Ansible version: 2.9.9 * Operating System: OpenShift * Web Browser: Google Chrome ##### STEPS TO REPRODUCE 1. Export a `workflow_job_template` that is associated with an inventory 2. Observe the value of the `workflow_job_templates.[].inventory` attribut in the exported YAML. ##### EXPECTED RESULTS It is reasonable to expect that the following YAML document would be generated for an example workflow_job_template object. ```yaml workflow_job_templates: - allow_simultaneous: true ask_inventory_on_launch: false ask_limit_on_launch: false ask_scm_branch_on_launch: true ask_variables_on_launch: true description: My VM provisioning extra_vars: '' inventory: name: my-vms type: inventory organization: name: ACME type: organization limit: null name: my-workflow natural_key: name: my-workflow organization: name: ACME type: organization type: workflow_job_template organization: name: ACME type: organization related: notification_templates_approvals: [] notification_templates_error: [] notification_templates_started: [] notification_templates_success: [] schedules: [] survey_spec: {} workflow_nodes: [] scm_branch: null survey_enabled: false webhook_credential: null ``` The document above, when imported, will generate the association with the inventory correctly on Tower 3.7.1. This is the expected behaviour, relying on the natural key of the object instead of the `id`. ##### ACTUAL RESULTS YAML such as the following is generated: ```yaml workflow_job_templates: - allow_simultaneous: true ask_inventory_on_launch: false ask_limit_on_launch: false ask_scm_branch_on_launch: true ask_variables_on_launch: true description: My VM provisioning extra_vars: '' inventory: 29 limit: null name: my-workflow natural_key: name: my-workflow organization: name: ACME type: organization type: workflow_job_template organization: name: ACME type: organization related: notification_templates_approvals: [] notification_templates_error: [] notification_templates_started: [] notification_templates_success: [] schedules: [] survey_spec: {} workflow_nodes: [] scm_branch: null survey_enabled: false webhook_credential: null ``` Notice that the `inventory` key has the value corresponding to the unique id on the source AWX/Tower server. This is not guaranteed to be the same on the target server when the object will be imported. source-file source-file source-file source-file source-file source-file",bug,0.9
7868,awx,https://github.com/ansible/awx/issues/7868,LDAP authentication error,"##### ISSUE TYPE - Bug Report ##### SUMMARY When authenticating against FreeIPA/LDAP the debug log shows it finds the user record, but this is followed by a dump that ends up with: ```TypeError: not all arguments converted during string formatting``` ##### ENVIRONMENT * AWX version: 3.7.0.4 * AWX install method: ansible (setup.sh) * Ansible version: 2.9.7 * Operating System: RHEL8 * Web Browser: n/a ##### STEPS TO REPRODUCE After installation, go to the system settings and under LDAP enter URI and other core settings as documented here: https://docs.ansible.com/ansible-tower/latest/html/administration/ldap_auth.html Log out as admin, and attempt to login with a user from the LDAP source. Using ldapsearch on the tower host works - can authenticate user and retrieve data from the LDAP registry. ##### EXPECTED RESULTS Login succeeds. ##### ACTUAL RESULTS Login fails .... instead a stack-dump is found in the tower.log file. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ```2020-08-11 04:41:14,206 WARNING django_auth_ldap not all arguments converted during string formatting while authenticating testuser 2020-08-11 04:41:14,206 ERROR awx.sso.backends Encountered an error authenticating to LDAP Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/sso/backends.py"", line 128, in authenticate return super(LDAPBackend, self).authenticate(request, username, password) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 151, in authenticate user = self.authenticate_ldap_user(ldap_user, password) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 209, in authenticate_ldap_user return ldap_user.authenticate(password) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 353, in authenticate self._get_or_create_user() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 622, in _get_or_create_user self._populate_user() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 642, in _populate_user self._populate_user_from_group_memberships() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 668, in _populate_user_from_group_memberships value = query.resolve(self) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/config.py"", line 671, in resolve result = self.aggregator(self._resolve_children(ldap_user, groups)) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/config.py"", line 699, in _resolve_children yield groups.is_member_of(child) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 934, in is_member_of is_member = self._group_type.is_member(self._ldap_user, group_dn) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/config.py"", line 481, in is_member group_dn, self.member_attr, ldap_user.dn.encode() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/ldap/ldapobject.py"", line 536, in compare_s return self.compare_ext_s(dn,attr,value,None,None) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/ldap/ldapobject.py"", line 529, in compare_ext_s 'Compare operation returned wrong result: %r' % (ldap_res) TypeError: not all arguments converted during string formatting 2020-08-11 04:41:14,300 WARNING awx.api.generics Login failed for user peter from 192.168.12.15 2020-08-11 04:41:14,307 WARNING django.request Unauthorized: /api/login/ ```",documentation-file | other-file | other-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | documentation-file | other-file | other-file,"LDAP authentication error ##### ISSUE TYPE - Bug Report ##### SUMMARY When authenticating against FreeIPA/LDAP the debug log shows it finds the user record, but this is followed by a dump that ends up with: ```TypeError: not all arguments converted during string formatting``` ##### ENVIRONMENT * AWX version: 3.7.0.4 * AWX install method: ansible (setup.sh) * Ansible version: 2.9.7 * Operating System: RHEL8 * Web Browser: n/a ##### STEPS TO REPRODUCE After installation, go to the system settings and under LDAP enter URI and other core settings as documented here: https://docs.ansible.com/ansible-tower/latest/html/administration/ldap_auth.html Log out as admin, and attempt to login with a user from the LDAP source. Using ldapsearch on the tower host works - can authenticate user and retrieve data from the LDAP registry. ##### EXPECTED RESULTS Login succeeds. ##### ACTUAL RESULTS Login fails .... instead a stack-dump is found in the tower.log file. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ```2020-08-11 04:41:14,206 WARNING django_auth_ldap not all arguments converted during string formatting while authenticating testuser 2020-08-11 04:41:14,206 ERROR awx.sso.backends Encountered an error authenticating to LDAP Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/sso/backends.py"", line 128, in authenticate return super(LDAPBackend, self).authenticate(request, username, password) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 151, in authenticate user = self.authenticate_ldap_user(ldap_user, password) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 209, in authenticate_ldap_user return ldap_user.authenticate(password) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 353, in authenticate self._get_or_create_user() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 622, in _get_or_create_user self._populate_user() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 642, in _populate_user self._populate_user_from_group_memberships() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 668, in _populate_user_from_group_memberships value = query.resolve(self) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/config.py"", line 671, in resolve result = self.aggregator(self._resolve_children(ldap_user, groups)) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/config.py"", line 699, in _resolve_children yield groups.is_member_of(child) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/backend.py"", line 934, in is_member_of is_member = self._group_type.is_member(self._ldap_user, group_dn) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django_auth_ldap/config.py"", line 481, in is_member group_dn, self.member_attr, ldap_user.dn.encode() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/ldap/ldapobject.py"", line 536, in compare_s return self.compare_ext_s(dn,attr,value,None,None) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/ldap/ldapobject.py"", line 529, in compare_ext_s 'Compare operation returned wrong result: %r' % (ldap_res) TypeError: not all arguments converted during string formatting 2020-08-11 04:41:14,300 WARNING awx.api.generics Login failed for user peter from 192.168.12.15 2020-08-11 04:41:14,307 WARNING django.request Unauthorized: /api/login/ ``` documentation-file other-file other-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file documentation-file other-file other-file",no-bug,0.9
12279,awx,https://github.com/ansible/awx/issues/12279,Copy fails on the inventory list,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Copy fails on the inventory list when attempting to copy the same inventory within the minute. ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Copy a Demo Inventory 2- Copy the Demo Inventory again ### Expected results 1 - Able to copy the same inventory multiple times within the same minute ### Actual results Not able to copy the same inventory multiple times within the same minute <img width=""1792"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/170105210-28350e3d-cec6-456f-81e2-1ddef03895dd.png""> ### Additional information _No response_",source-file | source-file | source-file,"Copy fails on the inventory list ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Copy fails on the inventory list when attempting to copy the same inventory within the minute. ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Copy a Demo Inventory 2- Copy the Demo Inventory again ### Expected results 1 - Able to copy the same inventory multiple times within the same minute ### Actual results Not able to copy the same inventory multiple times within the same minute <img width=""1792"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/170105210-28350e3d-cec6-456f-81e2-1ddef03895dd.png""> ### Additional information _No response_ source-file source-file source-file",no-bug,0.9
7751,awx,https://github.com/ansible/awx/issues/7751,Delete button tooltip missing username when user cannot be deleted,"##### ISSUE TYPE - Bug Report ##### SUMMARY <img width=""1158"" alt=""Screen Shot 2020-07-29 at 8 35 41 AM"" src=""https://user-images.githubusercontent.com/9889020/88800722-9850ce00-d176-11ea-8650-eec148f2351e.png""> If you're logged in as a superuser and you select your own superuser account to be deleted the tooltip is missing the username. IIRC we should be listing out all the resources that you don't have the ability to delete in that tooltip.",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Delete button tooltip missing username when user cannot be deleted ##### ISSUE TYPE - Bug Report ##### SUMMARY <img width=""1158"" alt=""Screen Shot 2020-07-29 at 8 35 41 AM"" src=""https://user-images.githubusercontent.com/9889020/88800722-9850ce00-d176-11ea-8650-eec148f2351e.png""> If you're logged in as a superuser and you select your own superuser account to be deleted the tooltip is missing the username. IIRC we should be listing out all the resources that you don't have the ability to delete in that tooltip. other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.9
5384,awx,https://github.com/ansible/awx/issues/5384,AWX starts and runs but returns 502,"##### ISSUE TYPE - Bug Report ##### SUMMARY Containerized AWX install running under Docker Swarm was running fine until yesterday. Users started getting 502s, none of the containers were returning errors. rebuilt the stack, reusing existing DB files. issue remains. after a subsequent rebuild, postgres started to throw database errors matching reports in #1618 (see logs below). ##### ENVIRONMENT * AWX version: Docker image tag ""latest"" pulled on Nov 22 2019 @ 1622 UTC * AWX install method: docker on linux * Operating System: CentOS 7 * Web Browser: Chrome latest stable ##### STEPS TO REPRODUCE Restart containers, remove and rebuild individual containers, remove and rebuild entire stack. ##### EXPECTED RESULTS AWX starts without error, UI is accessible and functional ##### ACTUAL RESULTS AWX starts without error, UI returns 502 ##### ADDITIONAL INFORMATION [awx_task.txt](https://github.com/ansible/awx/files/3880692/awx_task.txt) [awx_web.txt](https://github.com/ansible/awx/files/3880693/awx_web.txt) [pgsql.txt](https://github.com/ansible/awx/files/3880694/pgsql.txt) [rabbit.txt](https://github.com/ansible/awx/files/3880695/rabbit.txt)",config-file,"AWX starts and runs but returns 502 ##### ISSUE TYPE - Bug Report ##### SUMMARY Containerized AWX install running under Docker Swarm was running fine until yesterday. Users started getting 502s, none of the containers were returning errors. rebuilt the stack, reusing existing DB files. issue remains. after a subsequent rebuild, postgres started to throw database errors matching reports in #1618 (see logs below). ##### ENVIRONMENT * AWX version: Docker image tag ""latest"" pulled on Nov 22 2019 @ 1622 UTC * AWX install method: docker on linux * Operating System: CentOS 7 * Web Browser: Chrome latest stable ##### STEPS TO REPRODUCE Restart containers, remove and rebuild individual containers, remove and rebuild entire stack. ##### EXPECTED RESULTS AWX starts without error, UI is accessible and functional ##### ACTUAL RESULTS AWX starts without error, UI returns 502 ##### ADDITIONAL INFORMATION [awx_task.txt](https://github.com/ansible/awx/files/3880692/awx_task.txt) [awx_web.txt](https://github.com/ansible/awx/files/3880693/awx_web.txt) [pgsql.txt](https://github.com/ansible/awx/files/3880694/pgsql.txt) [rabbit.txt](https://github.com/ansible/awx/files/3880695/rabbit.txt) config-file",no-bug,0.8
8359,awx,https://github.com/ansible/awx/issues/8359,awx cli extra_vars not working,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY awxkit (version 15.0.0) not accepting extra_vars on prompt but working with files ##### ENVIRONMENT * AWX version: 15.0.0 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE call awx cli with extravars ![image](https://user-images.githubusercontent.com/39663221/95584991-773e1080-0a36-11eb-8628-a9b707ede94b.png) ##### EXPECTED RESULTS job launched ##### ACTUAL RESULTS <!-- What actually happened? --> ![image](https://user-images.githubusercontent.com/39663221/95585011-81f8a580-0a36-11eb-96f1-0940460c54d4.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"awx cli extra_vars not working <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY awxkit (version 15.0.0) not accepting extra_vars on prompt but working with files ##### ENVIRONMENT * AWX version: 15.0.0 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE call awx cli with extravars ![image](https://user-images.githubusercontent.com/39663221/95584991-773e1080-0a36-11eb-8628-a9b707ede94b.png) ##### EXPECTED RESULTS job launched ##### ACTUAL RESULTS <!-- What actually happened? --> ![image](https://user-images.githubusercontent.com/39663221/95585011-81f8a580-0a36-11eb-96f1-0940460c54d4.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.7
4568,awx,https://github.com/ansible/awx/issues/4568,Small widths cause the sparkline to be overlapped by the launch button on dashboard,"##### ISSUE TYPE - Bug Report ##### SUMMARY Using narrower and narrower widths cause the launch button on the dashboard to start to overlap the sparkline, which looks odd and prevents you from clicking the sparkline. Simply put, this happens: ![Screenshot from 2019-08-22 14-32-46](https://user-images.githubusercontent.com/19942822/63540478-242f9400-c4ea-11e9-9116-5a1491010fe3.png) ##### ENVIRONMENT * AWX version: latest on chrome ##### STEPS TO REPRODUCE Launch some jobs to get a sparkline. narrow the screen to half-width on something like a laptop or some smaller width. ##### EXPECTED RESULTS The launch button avoids the sparkline. ##### ACTUAL RESULTS The launch button overlaps the sparkline.",source-file | source-file | source-file | source-file | test-file | source-file,"Small widths cause the sparkline to be overlapped by the launch button on dashboard ##### ISSUE TYPE - Bug Report ##### SUMMARY Using narrower and narrower widths cause the launch button on the dashboard to start to overlap the sparkline, which looks odd and prevents you from clicking the sparkline. Simply put, this happens: ![Screenshot from 2019-08-22 14-32-46](https://user-images.githubusercontent.com/19942822/63540478-242f9400-c4ea-11e9-9116-5a1491010fe3.png) ##### ENVIRONMENT * AWX version: latest on chrome ##### STEPS TO REPRODUCE Launch some jobs to get a sparkline. narrow the screen to half-width on something like a laptop or some smaller width. ##### EXPECTED RESULTS The launch button avoids the sparkline. ##### ACTUAL RESULTS The launch button overlaps the sparkline. source-file source-file source-file source-file test-file source-file",no-bug,0.95
4670,awx,https://github.com/ansible/awx/issues/4670,Migration from awx 6.1 to 7.0?,Is there a wiki or something on properly migrating to a new version in a production environment?,source-file,Migration from awx 6.1 to 7.0? Is there a wiki or something on properly migrating to a new version in a production environment? source-file,no-bug,0.9
10114,awx,https://github.com/ansible/awx/issues/10114,Container Registry credentials don't work with Container Groups,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY This is a reopen of #9928. #9928 was closed stating #9623 addresses the issue and would be resolved in the next release. However #9623 was included in release 19.1.0 and the issue still persists. Execution environments can't be pulled from private registries as the authentication credentials are not being passed to the pod spec. ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: minikube * Ansible version: ? * Operating System: Debian * Web Browser: Chrome ##### STEPS TO REPRODUCE ![image](https://user-images.githubusercontent.com/1826947/117161065-a11ea200-ad8f-11eb-8b4f-a4e465224873.png) ![image](https://user-images.githubusercontent.com/1826947/117161122-a976dd00-ad8f-11eb-9aa3-6bbddf4c5c5c.png) ![image](https://user-images.githubusercontent.com/1826947/117161147-b0055480-ad8f-11eb-9a97-15d0a9b1af0c.png) ``` # kubectl describe pod awx-job-53-cvh88 Name: awx-job-53-cvh88 Namespace: default Priority: 0 Node: minikube/192.168.49.2 Start Time: Wed, 05 May 2021 14:06:06 +0000 Labels: ansible-awx=f34e7217-6215-41db-b716-970e1b09be7d ansible-awx-job-id=53 Annotations: <none> Status: Pending IP: 172.17.0.6 IPs: IP: 172.17.0.6 Containers: worker: Container ID: Image: gitlab.example.com:5443/myproject/ansible-runner Image ID: Port: <none> Host Port: <none> Args: ansible-runner worker --private-data-dir=/runner State: Waiting Reason: ImagePullBackOff Ready: False Restart Count: 0 Environment: <none> Mounts: /var/run/secrets/kubernetes.io/serviceaccount from default-token-qfwv8 (ro) Conditions: Type Status Initialized True Ready False ContainersReady False PodScheduled True Volumes: default-token-qfwv8: Type: Secret (a volume populated by a Secret) SecretName: default-token-qfwv8 Optional: false QoS Class: BestEffort Node-Selectors: <none> Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 44m default-scheduler Successfully assigned default/awx-job-53-cvh88 to minikube Normal Pulling 43m (x4 over 44m) kubelet Pulling image ""gitlab.example.com:5443/myproject/ansible-runner"" Warning Failed 43m (x4 over 44m) kubelet Failed to pull image ""gitlab.example.com:5443/myproject/ansible-runner"": rpc error: code = Unknown desc = Error response from daemon: Head https://gitlab.example.com:5443/v2/myproject/ansible-runner/manifests/latest: denied: access forbidden Warning Failed 43m (x4 over 44m) kubelet Error: ErrImagePull Normal BackOff 9m25s (x155 over 44m) kubelet Back-off pulling image ""gitlab.example.com:5443/myproject/ansible-runner"" Warning Failed 4m25s (x177 over 44m) kubelet Error: ImagePullBackOff ``` ##### EXPECTED RESULTS Image to download & run successfully ##### ACTUAL RESULTS Image download responds with `access forbidden` because of lack of credentials. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file,"Container Registry credentials don't work with Container Groups <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY This is a reopen of #9928. #9928 was closed stating #9623 addresses the issue and would be resolved in the next release. However #9623 was included in release 19.1.0 and the issue still persists. Execution environments can't be pulled from private registries as the authentication credentials are not being passed to the pod spec. ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: minikube * Ansible version: ? * Operating System: Debian * Web Browser: Chrome ##### STEPS TO REPRODUCE ![image](https://user-images.githubusercontent.com/1826947/117161065-a11ea200-ad8f-11eb-8b4f-a4e465224873.png) ![image](https://user-images.githubusercontent.com/1826947/117161122-a976dd00-ad8f-11eb-9aa3-6bbddf4c5c5c.png) ![image](https://user-images.githubusercontent.com/1826947/117161147-b0055480-ad8f-11eb-9a97-15d0a9b1af0c.png) ``` # kubectl describe pod awx-job-53-cvh88 Name: awx-job-53-cvh88 Namespace: default Priority: 0 Node: minikube/192.168.49.2 Start Time: Wed, 05 May 2021 14:06:06 +0000 Labels: ansible-awx=f34e7217-6215-41db-b716-970e1b09be7d ansible-awx-job-id=53 Annotations: <none> Status: Pending IP: 172.17.0.6 IPs: IP: 172.17.0.6 Containers: worker: Container ID: Image: gitlab.example.com:5443/myproject/ansible-runner Image ID: Port: <none> Host Port: <none> Args: ansible-runner worker --private-data-dir=/runner State: Waiting Reason: ImagePullBackOff Ready: False Restart Count: 0 Environment: <none> Mounts: /var/run/secrets/kubernetes.io/serviceaccount from default-token-qfwv8 (ro) Conditions: Type Status Initialized True Ready False ContainersReady False PodScheduled True Volumes: default-token-qfwv8: Type: Secret (a volume populated by a Secret) SecretName: default-token-qfwv8 Optional: false QoS Class: BestEffort Node-Selectors: <none> Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 44m default-scheduler Successfully assigned default/awx-job-53-cvh88 to minikube Normal Pulling 43m (x4 over 44m) kubelet Pulling image ""gitlab.example.com:5443/myproject/ansible-runner"" Warning Failed 43m (x4 over 44m) kubelet Failed to pull image ""gitlab.example.com:5443/myproject/ansible-runner"": rpc error: code = Unknown desc = Error response from daemon: Head https://gitlab.example.com:5443/v2/myproject/ansible-runner/manifests/latest: denied: access forbidden Warning Failed 43m (x4 over 44m) kubelet Error: ErrImagePull Normal BackOff 9m25s (x155 over 44m) kubelet Back-off pulling image ""gitlab.example.com:5443/myproject/ansible-runner"" Warning Failed 4m25s (x177 over 44m) kubelet Error: ImagePullBackOff ``` ##### EXPECTED RESULTS Image to download & run successfully ##### ACTUAL RESULTS Image download responds with `access forbidden` because of lack of credentials. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file",no-bug,0.9
9401,awx,https://github.com/ansible/awx/issues/9401,Redis Dump Permissions Error Cause AWX Exceptions,"##### ISSUE TYPE - Bug Report ##### SUMMARY On a fresh install of AWX 17.0.1, Redis returns an exception preventing most functionality, including job execution after an uptime of a few minutes. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: Ansible playbook into Kubernetes cluster * Ansible version: 2.9.17 * Operating System: Debian Linux * Web Browser: Firefox ##### STEPS TO REPRODUCE Ansible-playbook install to Kubernetes cluster only modifying the cluster information, ingress, and credential values as required. Postgres was setup through the playbook using Helm. One sign in, credentials were changed, Gitlab credential added, Gitlab Project added, all project sync jobs fail with no Output display and status of ""Failed"". Relaunching the job provides and error with `POST /api/v2/projects/6/update/ 500` Restart the AWX deployment and jobs are successful for a few minutes until Redis errors occur after approximately 5 minutes when background saving starts. ##### EXPECTED RESULTS Project sync job to execute successfully ##### ACTUAL RESULTS All jobs fail, some settings cannot be configured, various errors throughout all of AWX ##### ADDITIONAL INFORMATION Based on search results for the error relating to Redis, in redis-cli the command `config set stop-writes-on-bgsave-error no` should be executed since there isn't the need for data persistence for AWX. **awx-redis** ``` 1:M 23 Feb 2021 22:22:41.003 * 100 changes in 300 seconds. Saving... 1:M 23 Feb 2021 22:22:41.004 * Background saving started by pid 524 524:C 23 Feb 2021 22:22:41.005 # Failed opening the RDB file dump.rdb (in server root dir /data) for saving: Permission denied 1:M 23 Feb 2021 22:22:41.106 # Background saving error ``` **awx-task** ``` 2021-02-23 22:39:20,203 ERROR awx.main.commands.run_callback_receiver encountered an error communicating with redis Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/dispatch/worker/callback.py"", line 56, in read res = self.redis.blpop(settings.CALLBACK_QUEUE, timeout=1) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/client.py"", line 1865, in blpop return self.execute_command('BLPOP', *keys) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/client.py"", line 878, in execute_command return self.parse_response(conn, command_name, **options) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/client.py"", line 892, in parse_response response = connection.read_response() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/connection.py"", line 752, in read_response raise response redis.exceptions.ResponseError: MISCONF Redis is configured to save RDB snapshots, but it is currently not able to persist on disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error. ``` **awx-web** ``` 2021-02-23 22:40:07,246 ERROR django.request Internal Server Error: /api/v2/projects/6/update/ Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/handlers/exception.py"", line 34, in inner response = get_response(request) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/handlers/base.py"", line 115, in _get_response response = self.process_exception_by_middleware(e, request) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/handlers/base.py"", line 113, in _get_response response = wrapped_callback(request, *callback_args, **callback_kwargs) File ""/usr/lib64/python3.6/contextlib.py"", line 52, in inner return func(*args, **kwds) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/transaction.py"", line 284, in __exit__ connection.set_autocommit(True) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 410, in set_autocommit self.run_and_clear_commit_hooks() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 636, in run_and_clear_commit_hooks func() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/unified_jobs.py"", line 1264, in <lambda> connection.on_commit(lambda: self._websocket_emit_status(status)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/unified_jobs.py"", line 1254, in _websocket_emit_status emit_channel_notification('jobs-status_changed', status_data) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/consumers.py"", line 236, in emit_channel_notification ""text"": payload_dumped File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/consumers.py"", line 211, in run_sync event_loop.run_until_complete(func) File ""/usr/lib64/python3.6/asyncio/base_events.py"", line 484, in run_until_complete return future.result() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/channels_redis/core.py"", line 650, in group_send key, min=0, max=int(time.time()) - self.group_expiry aioredis.errors.ReplyError: MISCONF Redis is configured to save RDB snapshots, but it is currently not able to persist on disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error. ```",other-file | other-file,"Redis Dump Permissions Error Cause AWX Exceptions ##### ISSUE TYPE - Bug Report ##### SUMMARY On a fresh install of AWX 17.0.1, Redis returns an exception preventing most functionality, including job execution after an uptime of a few minutes. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: Ansible playbook into Kubernetes cluster * Ansible version: 2.9.17 * Operating System: Debian Linux * Web Browser: Firefox ##### STEPS TO REPRODUCE Ansible-playbook install to Kubernetes cluster only modifying the cluster information, ingress, and credential values as required. Postgres was setup through the playbook using Helm. One sign in, credentials were changed, Gitlab credential added, Gitlab Project added, all project sync jobs fail with no Output display and status of ""Failed"". Relaunching the job provides and error with `POST /api/v2/projects/6/update/ 500` Restart the AWX deployment and jobs are successful for a few minutes until Redis errors occur after approximately 5 minutes when background saving starts. ##### EXPECTED RESULTS Project sync job to execute successfully ##### ACTUAL RESULTS All jobs fail, some settings cannot be configured, various errors throughout all of AWX ##### ADDITIONAL INFORMATION Based on search results for the error relating to Redis, in redis-cli the command `config set stop-writes-on-bgsave-error no` should be executed since there isn't the need for data persistence for AWX. **awx-redis** ``` 1:M 23 Feb 2021 22:22:41.003 * 100 changes in 300 seconds. Saving... 1:M 23 Feb 2021 22:22:41.004 * Background saving started by pid 524 524:C 23 Feb 2021 22:22:41.005 # Failed opening the RDB file dump.rdb (in server root dir /data) for saving: Permission denied 1:M 23 Feb 2021 22:22:41.106 # Background saving error ``` **awx-task** ``` 2021-02-23 22:39:20,203 ERROR awx.main.commands.run_callback_receiver encountered an error communicating with redis Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/dispatch/worker/callback.py"", line 56, in read res = self.redis.blpop(settings.CALLBACK_QUEUE, timeout=1) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/client.py"", line 1865, in blpop return self.execute_command('BLPOP', *keys) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/client.py"", line 878, in execute_command return self.parse_response(conn, command_name, **options) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/client.py"", line 892, in parse_response response = connection.read_response() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/redis/connection.py"", line 752, in read_response raise response redis.exceptions.ResponseError: MISCONF Redis is configured to save RDB snapshots, but it is currently not able to persist on disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error. ``` **awx-web** ``` 2021-02-23 22:40:07,246 ERROR django.request Internal Server Error: /api/v2/projects/6/update/ Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/handlers/exception.py"", line 34, in inner response = get_response(request) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/handlers/base.py"", line 115, in _get_response response = self.process_exception_by_middleware(e, request) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/handlers/base.py"", line 113, in _get_response response = wrapped_callback(request, *callback_args, **callback_kwargs) File ""/usr/lib64/python3.6/contextlib.py"", line 52, in inner return func(*args, **kwds) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/transaction.py"", line 284, in __exit__ connection.set_autocommit(True) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 410, in set_autocommit self.run_and_clear_commit_hooks() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 636, in run_and_clear_commit_hooks func() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/unified_jobs.py"", line 1264, in <lambda> connection.on_commit(lambda: self._websocket_emit_status(status)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/unified_jobs.py"", line 1254, in _websocket_emit_status emit_channel_notification('jobs-status_changed', status_data) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/consumers.py"", line 236, in emit_channel_notification ""text"": payload_dumped File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/consumers.py"", line 211, in run_sync event_loop.run_until_complete(func) File ""/usr/lib64/python3.6/asyncio/base_events.py"", line 484, in run_until_complete return future.result() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/channels_redis/core.py"", line 650, in group_send key, min=0, max=int(time.time()) - self.group_expiry aioredis.errors.ReplyError: MISCONF Redis is configured to save RDB snapshots, but it is currently not able to persist on disk. Commands that may modify the data set are disabled, because this instance is configured to report errors during writes if RDB snapshotting fails (stop-writes-on-bgsave-error option). Please check the Redis logs for details about the RDB error. ``` other-file other-file",no-bug,0.9
4573,awx,https://github.com/ansible/awx/issues/4573,CLI: Need general solution for dictionary-like inputs,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a general problem but I'm going to flesh out one particular use case for now: Currently, credential type creation does not accept inputs. New credential types need to have some kind of inputs in order to be of any use. Currently the CLI and APi have conflicting constraints on the `--inputs` flag so there is no way to pass it....at least not that I could figure out. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Passing any type of dictionary like thing gets an error from the CLI saying it should be an integer: ``` awx credential_types create --name foo_cred_type1 --kind cloud --inputs=""\{'fields': [\{'id': 'password', 'label':'password', 'secret':true, 'type':'string'\}]\}"" usage: awx credential_types create [-h] --name TEXT [--description TEXT] --kind {net,cloud} [--inputs INPUTS] [--injectors INJECTORS] required arguments: --kind {net,cloud} [REQUIRED] optional arguments: -h, --help show this help message and exit --description TEXT Optional description of this credential type. --inputs INPUTS Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. --injectors INJECTORS Enter injectors using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. required arguments: --name TEXT [REQUIRED] Name of this credential type. awx credential_types create: argument --inputs: invalid int value: ""\\{'fields': [\\{'id': 'password', 'label':'password', 'secret':true, 'type':'string'\\}]\\}"" ``` But if you pass an integer (which makes no sense), you get error from API: ``` awx credential_types create --name foo_cred_type1 --kind cloud --inputs=42 {""inputs"": [""int provided, expected dict""]} ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Either have reasonable way provide `inputs` to the new credential_type or do not allow creation from command line. This is something we need to consider what a reasonable UX would be for specifying the new credential type inputs.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file,"CLI: Need general solution for dictionary-like inputs ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a general problem but I'm going to flesh out one particular use case for now: Currently, credential type creation does not accept inputs. New credential types need to have some kind of inputs in order to be of any use. Currently the CLI and APi have conflicting constraints on the `--inputs` flag so there is no way to pass it....at least not that I could figure out. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Passing any type of dictionary like thing gets an error from the CLI saying it should be an integer: ``` awx credential_types create --name foo_cred_type1 --kind cloud --inputs=""\{'fields': [\{'id': 'password', 'label':'password', 'secret':true, 'type':'string'\}]\}"" usage: awx credential_types create [-h] --name TEXT [--description TEXT] --kind {net,cloud} [--inputs INPUTS] [--injectors INJECTORS] required arguments: --kind {net,cloud} [REQUIRED] optional arguments: -h, --help show this help message and exit --description TEXT Optional description of this credential type. --inputs INPUTS Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. --injectors INJECTORS Enter injectors using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. required arguments: --name TEXT [REQUIRED] Name of this credential type. awx credential_types create: argument --inputs: invalid int value: ""\\{'fields': [\\{'id': 'password', 'label':'password', 'secret':true, 'type':'string'\\}]\\}"" ``` But if you pass an integer (which makes no sense), you get error from API: ``` awx credential_types create --name foo_cred_type1 --kind cloud --inputs=42 {""inputs"": [""int provided, expected dict""]} ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Either have reasonable way provide `inputs` to the new credential_type or do not allow creation from command line. This is something we need to consider what a reasonable UX would be for specifying the new credential type inputs. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file",bug,0.9
4547,awx,https://github.com/ansible/awx/issues/4547,How to enable CORS on awx-tower? Documentation needed.,"##### ISSUE TYPE - Bug Report ##### SUMMARY I would like to use the AWX API to run jobs from a custom front-end, however I am unable to get past the authentication surrounding it. If I provide credentials in the header, I get no response and if I don't provide any headers I get : {""detail"":""Authentication credentials were not provided. To establish a login session, visit /api/login/.""} Our AWX version was recently upgraded in order to have CORS enabled, however I am unable to find any documentation for how to set up CORS other than this feature request: https://github.com/ansible/awx/issues/1519 I have tried installing django-cors-headers and added in setup.py : INSTALLED_APPS = ['corsheaders' ] MIDDLEWARE = [ 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware' ] CORS_ORIGIN_ALLOW_ALL = True That caused all kinds of errors. I request any documentation regarding how to enable CORS so I can access the API through my front-end. ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: docker on linux * Ansible version: 2.8.2 * Operating System: CentOS Linux release 7.6.1810 (Core) * Web Browser: firefox",source-file | source-file,"How to enable CORS on awx-tower? Documentation needed. ##### ISSUE TYPE - Bug Report ##### SUMMARY I would like to use the AWX API to run jobs from a custom front-end, however I am unable to get past the authentication surrounding it. If I provide credentials in the header, I get no response and if I don't provide any headers I get : {""detail"":""Authentication credentials were not provided. To establish a login session, visit /api/login/.""} Our AWX version was recently upgraded in order to have CORS enabled, however I am unable to find any documentation for how to set up CORS other than this feature request: https://github.com/ansible/awx/issues/1519 I have tried installing django-cors-headers and added in setup.py : INSTALLED_APPS = ['corsheaders' ] MIDDLEWARE = [ 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware' ] CORS_ORIGIN_ALLOW_ALL = True That caused all kinds of errors. I request any documentation regarding how to enable CORS so I can access the API through my front-end. ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: docker on linux * Ansible version: 2.8.2 * Operating System: CentOS Linux release 7.6.1810 (Core) * Web Browser: firefox source-file source-file",no-bug,0.9
6202,awx,https://github.com/ansible/awx/issues/6202,Approval job missing started date and elapsed,"##### ISSUE TYPE - Bug Report ##### SUMMARY `workflowapproval` job under unified jobs has NULL `started` timestamp, leading to elapsed time 0 We need elapsed time in analytics, to be able to subtract the waiting from the real run time. ![Screenshot from 2020-03-06 12-57-51](https://user-images.githubusercontent.com/1737058/76082182-0cfa5480-5fab-11ea-8513-6fed5bc6911b.png) ##### ENVIRONMENT * AWX version: devel * AWX install method: yolo (devel from 2020-03-05) ##### STEPS TO REPRODUCE Add approval step to workflow ##### EXPECTED RESULTS Approval job in unified jobs will have started time and correct elapsed time ##### ACTUAL RESULTS Approval job in unified jobs misses started time and elapsed is 0",source-file | source-file,"Approval job missing started date and elapsed ##### ISSUE TYPE - Bug Report ##### SUMMARY `workflowapproval` job under unified jobs has NULL `started` timestamp, leading to elapsed time 0 We need elapsed time in analytics, to be able to subtract the waiting from the real run time. ![Screenshot from 2020-03-06 12-57-51](https://user-images.githubusercontent.com/1737058/76082182-0cfa5480-5fab-11ea-8513-6fed5bc6911b.png) ##### ENVIRONMENT * AWX version: devel * AWX install method: yolo (devel from 2020-03-05) ##### STEPS TO REPRODUCE Add approval step to workflow ##### EXPECTED RESULTS Approval job in unified jobs will have started time and correct elapsed time ##### ACTUAL RESULTS Approval job in unified jobs misses started time and elapsed is 0 source-file source-file",no-bug,0.8
7603,awx,https://github.com/ansible/awx/issues/7603,Enable html in custom login text,### summary see: https://github.com/ansible/awx/pull/7585 --> https://github.com/ansible/awx/issues/7600 - Could try to use `__dangerouslySetInnerHTML` along with `html-entities` to sanitize (like we do for job events: https://github.com/ansible/awx/blob/devel/awx/ui_next/src/screens/Job/JobOutput/JobEvent.jsx#L55) - If that doesn't work we'd probably need to first put in a request to pf-react to explicitly enable passing a `React.ReactNode` to the LoginPage component for the `textContent` prop like they do for the `helperText` prop: https://patternfly-react.surge.sh/documentation/react/components/loginpage,documentation-file | documentation-file | documentation-file | other-file | test-file,Enable html in custom login text ### summary see: https://github.com/ansible/awx/pull/7585 --> https://github.com/ansible/awx/issues/7600 - Could try to use `__dangerouslySetInnerHTML` along with `html-entities` to sanitize (like we do for job events: https://github.com/ansible/awx/blob/devel/awx/ui_next/src/screens/Job/JobOutput/JobEvent.jsx#L55) - If that doesn't work we'd probably need to first put in a request to pf-react to explicitly enable passing a `React.ReactNode` to the LoginPage component for the `textContent` prop like they do for the `helperText` prop: https://patternfly-react.surge.sh/documentation/react/components/loginpage documentation-file documentation-file documentation-file other-file test-file,no-bug,0.9
9503,awx,https://github.com/ansible/awx/issues/9503,Update locators on Instance Group List,##### ISSUE TYPE - Feature Idea ##### SUMMARY We need updated locators for the Add and Delete buttons on the Instance Groups list,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Update locators on Instance Group List ##### ISSUE TYPE - Feature Idea ##### SUMMARY We need updated locators for the Add and Delete buttons on the Instance Groups list other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
9487,awx,https://github.com/ansible/awx/issues/9487,EE can not be disassociated from a Job template,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY The user can not remove an Execution Environment from the Job template ##### ENVIRONMENT Devel ##### STEPS TO REPRODUCE 1. Create an Execution Environment 2. Create a JT using this EE 3. Edit the JT to remove the EE ##### EXPECTED RESULTS The EE to be removed from the JT ##### ACTUAL RESULTS The JT still have the EE associated ##### ADDITIONAL INFORMATION ![jt2](https://user-images.githubusercontent.com/12464858/110033828-a5d7c300-7d18-11eb-8210-c6e09ae11555.gif)",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"EE can not be disassociated from a Job template <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY The user can not remove an Execution Environment from the Job template ##### ENVIRONMENT Devel ##### STEPS TO REPRODUCE 1. Create an Execution Environment 2. Create a JT using this EE 3. Edit the JT to remove the EE ##### EXPECTED RESULTS The EE to be removed from the JT ##### ACTUAL RESULTS The JT still have the EE associated ##### ADDITIONAL INFORMATION ![jt2](https://user-images.githubusercontent.com/12464858/110033828-a5d7c300-7d18-11eb-8210-c6e09ae11555.gif) other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.8
6857,awx,https://github.com/ansible/awx/issues/6857,"[ui_next] WF node preview, values for 'Detail__DetailName: Labels, Job Tags, Show Changes', needs to be marked for translations","##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, values for 'Detail__DetailName: Labels, Job Tags, Show Changes' at WorkFlow Node preview screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to any preconfigured WorkFlow Node preview screen via ~/templates/workflow_job_template/*/visualizer url path 3. Hover for 'WorkflowChart Tooltip Actions - node details' 4. To view node details, click on node preview icon with letter 'i' 5. Observe for respective values of 'Detail__DetailName: Labels, Job Tags, Show Changes' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should be in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS 2 more, Show Less, On|Off <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting values for 'Detail__DetailName: Labels, Job Tags, Show Changes', appearing in English, with Japanese google-chrome: ![output_wf_node-preview](https://user-images.githubusercontent.com/12151785/80512506-362bd580-899b-11ea-9f62-05b2e8fce0e1.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"[ui_next] WF node preview, values for 'Detail__DetailName: Labels, Job Tags, Show Changes', needs to be marked for translations ##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, values for 'Detail__DetailName: Labels, Job Tags, Show Changes' at WorkFlow Node preview screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to any preconfigured WorkFlow Node preview screen via ~/templates/workflow_job_template/*/visualizer url path 3. Hover for 'WorkflowChart Tooltip Actions - node details' 4. To view node details, click on node preview icon with letter 'i' 5. Observe for respective values of 'Detail__DetailName: Labels, Job Tags, Show Changes' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should be in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS 2 more, Show Less, On|Off <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting values for 'Detail__DetailName: Labels, Job Tags, Show Changes', appearing in English, with Japanese google-chrome: ![output_wf_node-preview](https://user-images.githubusercontent.com/12151785/80512506-362bd580-899b-11ea-9f62-05b2e8fce0e1.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6413,awx,https://github.com/ansible/awx/issues/6413,Project Job Templates tab shouldn't allow creation of WFJTs,"##### ISSUE TYPE - Bug Report ##### SUMMARY Not necessarily a bug, but just ""too much functionality"". When adding a Job Template within the context of the Project page, it automatically associates the project with the JT. This makes sense. However, the add button also allows you to create workflows, which doesn't make a lot of sense because they aren't associated with a single project: ![Screenshot from 2020-03-25 09-43-34](https://user-images.githubusercontent.com/19942822/77543308-e464cc80-6e7d-11ea-9784-fd968939b3b5.png) The button should only allow you to add a JT. Steps: 1. Create a project 2. Visit that project's tab called ""Job Templates"" 3. Attempt to add a template",source-file,"Project Job Templates tab shouldn't allow creation of WFJTs ##### ISSUE TYPE - Bug Report ##### SUMMARY Not necessarily a bug, but just ""too much functionality"". When adding a Job Template within the context of the Project page, it automatically associates the project with the JT. This makes sense. However, the add button also allows you to create workflows, which doesn't make a lot of sense because they aren't associated with a single project: ![Screenshot from 2020-03-25 09-43-34](https://user-images.githubusercontent.com/19942822/77543308-e464cc80-6e7d-11ea-9784-fd968939b3b5.png) The button should only allow you to add a JT. Steps: 1. Create a project 2. Visit that project's tab called ""Job Templates"" 3. Attempt to add a template source-file",no-bug,0.9
10123,awx,https://github.com/ansible/awx/issues/10123,AWX 19.1.0 - Job settings cannot be saved (/worker-json.js returns 404),"##### ISSUE TYPE - Bug Report ##### SUMMARY Job settings cannot be saved, probably due to the `worker-json.js` returning 404. ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: minikube * OS: Debian * Browser: Chromium: 90.0.4430.93 (Official Build) (64-bit) ##### STEPS TO REPRODUCE - Go the Settings > Jobs settings > Edit - Tweak a setting - Hit Save ##### EXPECTED RESULTS - The settings are saved succesfully ##### ACTUAL RESULTS - The settings never get updated, the save button doesn't do anything ##### ADDITIONAL INFORMATION I am not sure what debug information would help, but I will be happy to provide any if required",documentation-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | documentation-file | documentation-file | documentation-file | documentation-file,"AWX 19.1.0 - Job settings cannot be saved (/worker-json.js returns 404) ##### ISSUE TYPE - Bug Report ##### SUMMARY Job settings cannot be saved, probably due to the `worker-json.js` returning 404. ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: minikube * OS: Debian * Browser: Chromium: 90.0.4430.93 (Official Build) (64-bit) ##### STEPS TO REPRODUCE - Go the Settings > Jobs settings > Edit - Tweak a setting - Hit Save ##### EXPECTED RESULTS - The settings are saved succesfully ##### ACTUAL RESULTS - The settings never get updated, the save button doesn't do anything ##### ADDITIONAL INFORMATION I am not sure what debug information would help, but I will be happy to provide any if required documentation-file documentation-file documentation-file other-file test-file other-file test-file documentation-file documentation-file documentation-file documentation-file",bug,0.8
6517,awx,https://github.com/ansible/awx/issues/6517,Slack integration fails with invalid_auth for notifications,"##### ISSUE TYPE - Bug Report ##### SUMMARY Slack integration fails with invalid_auth for notifications. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Ubuntu 18.04.4 * Web Browser: Google Chrome ##### STEPS TO REPRODUCE Slack credentials created by adding new configuration to the ""Incoming WebHooks"" Slack App. Verified that these work by posting to channel with Curl. Create a new notification of type Slack. Add token (xxx/xxxxx/xxxxxxx format) and destination channel. Save and click on test bell. ##### EXPECTED RESULTS Message posted to the Slack channel specified. ##### ACTUAL RESULTS Error message in GUI: > Slack notifications: Norification failed. > Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) ##### ADDITIONAL INFORMATION Log output below. ``` 2020-04-01 09:21:36,106 DEBUG awx.main.notifications.slack_backend {'ok': False, 'error': 'invalid_auth', 'headers': {'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '55', 'Connection': 'keep-alive', 'Date': 'Wed, 01 Apr 2020 09:21:36 GMT', 'Server': 'Apache', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'Access-Control-Allow-Headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'Referrer-Policy': 'no-referrer', 'X-Slack-Backend': 'h', 'Access-Control-Expose-Headers': 'x-slack-req-id, retry-after', 'Vary': 'Accept-Encoding', 'X-Content-Type-Options': 'nosniff', 'X-Slack-Req-Id': 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX', 'X-XSS-Protection': '0', 'Content-Encoding': 'gzip', 'Access-Control-Allow-Origin': '*', 'X-Via': 'haproxy-www-cy4d', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 bcd5dadccb0831729969c938747ff79a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'OSL50-C1', 'X-Amz-Cf-Id': 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'}} 2020-04-01 09:21:36,107 ERROR awx.main.notifications.slack_backend Exception sending messages: Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) 2020-04-01 09:21:36,109 ERROR awx.main.tasks Send Notification Failed Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 324, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/slack_backend.py"", line 56, in send_messages raise RuntimeError(""Slack Notification unable to send {}: {} ({})"".format(r, m.subject, ret['error'])) RuntimeError: Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) ```",config-file,"Slack integration fails with invalid_auth for notifications ##### ISSUE TYPE - Bug Report ##### SUMMARY Slack integration fails with invalid_auth for notifications. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Ubuntu 18.04.4 * Web Browser: Google Chrome ##### STEPS TO REPRODUCE Slack credentials created by adding new configuration to the ""Incoming WebHooks"" Slack App. Verified that these work by posting to channel with Curl. Create a new notification of type Slack. Add token (xxx/xxxxx/xxxxxxx format) and destination channel. Save and click on test bell. ##### EXPECTED RESULTS Message posted to the Slack channel specified. ##### ACTUAL RESULTS Error message in GUI: > Slack notifications: Norification failed. > Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) ##### ADDITIONAL INFORMATION Log output below. ``` 2020-04-01 09:21:36,106 DEBUG awx.main.notifications.slack_backend {'ok': False, 'error': 'invalid_auth', 'headers': {'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '55', 'Connection': 'keep-alive', 'Date': 'Wed, 01 Apr 2020 09:21:36 GMT', 'Server': 'Apache', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains; preload', 'Access-Control-Allow-Headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'Referrer-Policy': 'no-referrer', 'X-Slack-Backend': 'h', 'Access-Control-Expose-Headers': 'x-slack-req-id, retry-after', 'Vary': 'Accept-Encoding', 'X-Content-Type-Options': 'nosniff', 'X-Slack-Req-Id': 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX', 'X-XSS-Protection': '0', 'Content-Encoding': 'gzip', 'Access-Control-Allow-Origin': '*', 'X-Via': 'haproxy-www-cy4d', 'X-Cache': 'Miss from cloudfront', 'Via': '1.1 bcd5dadccb0831729969c938747ff79a.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'OSL50-C1', 'X-Amz-Cf-Id': 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'}} 2020-04-01 09:21:36,107 ERROR awx.main.notifications.slack_backend Exception sending messages: Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) 2020-04-01 09:21:36,109 ERROR awx.main.tasks Send Notification Failed Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 324, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/slack_backend.py"", line 56, in send_messages raise RuntimeError(""Slack Notification unable to send {}: {} ({})"".format(r, m.subject, ret['error'])) RuntimeError: Slack Notification unable to send drift: Tower Notification Test 2 https://someserver.somedomain.com (invalid_auth) ``` config-file",no-bug,0.9
7721,awx,https://github.com/ansible/awx/issues/7721,Update AddDropDownButton to show down caret,"##### ISSUE TYPE - Feature Idea ##### SUMMARY From feedback from @trahman73. > Add a down caret to the Add button to show users that there will be additional choices. Example: <img width=""935"" alt=""Screen Shot 2020-07-24 at 11 12 56 AM"" src=""https://user-images.githubusercontent.com/9053044/88408490-a03cf680-cda1-11ea-94bf-a0abad01445e.png"">",other-file | other-file | test-file,"Update AddDropDownButton to show down caret ##### ISSUE TYPE - Feature Idea ##### SUMMARY From feedback from @trahman73. > Add a down caret to the Add button to show users that there will be additional choices. Example: <img width=""935"" alt=""Screen Shot 2020-07-24 at 11 12 56 AM"" src=""https://user-images.githubusercontent.com/9053044/88408490-a03cf680-cda1-11ea-94bf-a0abad01445e.png""> other-file other-file test-file",no-bug,0.95
10431,awx,https://github.com/ansible/awx/issues/10431,Validate Execution Environment `image` field,"##### ISSUE TYPE - Bug Report ##### SUMMARY AWX should validate the image name (could have a tag) given for an Execution Environment. ##### STEPS TO REPRODUCE Create an Execution Environment, and give it for the image ![Screenshot from 2021-06-11 13-50-57](https://user-images.githubusercontent.com/1385596/121729115-1894cf00-cabc-11eb-876b-6c7d1091623a.png) Launch the Demo Job Template ##### EXPECTED RESULTS Demo Job Template runs ##### ACTUAL RESULTS job fails with > Error: invalid reference format ##### ADDITIONAL INFORMATION https://docs.docker.com/engine/reference/commandline/tag/#:~:text=A%20tag%20name%20must%20be,a%20maximum%20of%20128%20characters. > A tag name must be valid ASCII and may contain lowercase and uppercase letters, digits, underscores, periods and dashes. A tag name may not start with a period or a dash and may contain a maximum of 128 characters.",source-file | source-file | test-file | source-file | source-file,"Validate Execution Environment `image` field ##### ISSUE TYPE - Bug Report ##### SUMMARY AWX should validate the image name (could have a tag) given for an Execution Environment. ##### STEPS TO REPRODUCE Create an Execution Environment, and give it for the image ![Screenshot from 2021-06-11 13-50-57](https://user-images.githubusercontent.com/1385596/121729115-1894cf00-cabc-11eb-876b-6c7d1091623a.png) Launch the Demo Job Template ##### EXPECTED RESULTS Demo Job Template runs ##### ACTUAL RESULTS job fails with > Error: invalid reference format ##### ADDITIONAL INFORMATION https://docs.docker.com/engine/reference/commandline/tag/#:~:text=A%20tag%20name%20must%20be,a%20maximum%20of%20128%20characters. > A tag name must be valid ASCII and may contain lowercase and uppercase letters, digits, underscores, periods and dashes. A tag name may not start with a period or a dash and may contain a maximum of 128 characters. source-file source-file test-file source-file source-file",no-bug,0.8
6549,awx,https://github.com/ansible/awx/issues/6549,Not all Associated Groups are displayed on Inventory / Hosts / Groups page,"##### ISSUE TYPE - Bug Report ##### SUMMARY Not all Associated Groups are displayed on Inventory / Hosts / Groups page ##### ENVIRONMENT * AWX version: 10.0 ##### STEPS TO REPRODUCE TBD ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <img width=""1919"" alt=""Screen Shot 2020-04-02 at 12 51 33 PM"" src=""https://user-images.githubusercontent.com/12446869/78296047-0eac2f00-74fb-11ea-8df1-c7e32dc4ce8b.png"">",other-file | container-file | container-file | config-file | other-file,"Not all Associated Groups are displayed on Inventory / Hosts / Groups page ##### ISSUE TYPE - Bug Report ##### SUMMARY Not all Associated Groups are displayed on Inventory / Hosts / Groups page ##### ENVIRONMENT * AWX version: 10.0 ##### STEPS TO REPRODUCE TBD ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <img width=""1919"" alt=""Screen Shot 2020-04-02 at 12 51 33 PM"" src=""https://user-images.githubusercontent.com/12446869/78296047-0eac2f00-74fb-11ea-8df1-c7e32dc4ce8b.png""> other-file container-file container-file config-file other-file",no-bug,0.8
12129,awx,https://github.com/ansible/awx/issues/12129,Job timeout details not showing in UI,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Jobs that failed due to the job timeout set `job_explanation` with details but these are not surfaced in the UI. ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker on linux ### Modifications no ### Ansible version devel ### Operating system N/A ### Web browser Chrome ### Steps to reproduce Create a job template the runs a sleep playbook, and sleeps for, say, 30 seconds. Edit that job template to set the timeout to 2 seconds. Launch that job template and watch. Click refresh a few times just to be sure. ### Expected results I see the API message ```json ""job_explanation"": ""Job terminated due to timeout"", ``` ### Actual results No mention of this in either of the 2 pages. ![Screenshot from 2022-04-28 14-43-50](https://user-images.githubusercontent.com/1385596/165824231-1bae08c8-591e-4c51-995b-46f9c1d9a294.png) ![Screenshot from 2022-04-28 14-42-51](https://user-images.githubusercontent.com/1385596/165824232-e9c655b3-7734-48fb-9352-5a0b6bd23aab.png) ### Additional information _No response_",source-file | test-file | documentation-file | source-file | test-file | documentation-file | source-file | test-file | documentation-file | source-file | test-file | documentation-file,"Job timeout details not showing in UI ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Jobs that failed due to the job timeout set `job_explanation` with details but these are not surfaced in the UI. ### AWX version devel ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker on linux ### Modifications no ### Ansible version devel ### Operating system N/A ### Web browser Chrome ### Steps to reproduce Create a job template the runs a sleep playbook, and sleeps for, say, 30 seconds. Edit that job template to set the timeout to 2 seconds. Launch that job template and watch. Click refresh a few times just to be sure. ### Expected results I see the API message ```json ""job_explanation"": ""Job terminated due to timeout"", ``` ### Actual results No mention of this in either of the 2 pages. ![Screenshot from 2022-04-28 14-43-50](https://user-images.githubusercontent.com/1385596/165824231-1bae08c8-591e-4c51-995b-46f9c1d9a294.png) ![Screenshot from 2022-04-28 14-42-51](https://user-images.githubusercontent.com/1385596/165824232-e9c655b3-7734-48fb-9352-5a0b6bd23aab.png) ### Additional information _No response_ source-file test-file documentation-file source-file test-file documentation-file source-file test-file documentation-file source-file test-file documentation-file",no-bug,0.8
7777,awx,https://github.com/ansible/awx/issues/7777,Update Instance Group Form to use Slider when available,### ISSUE TYPE - Feature Idea ##### SUMMARY Once slider component is available update Instance Group Form to use this one. Mock up: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-add/ See: https://github.com/patternfly/patternfly/issues/296 Also: https://github.com/patternfly/patternfly-react/issues/5187,documentation-file | test-file | test-file | documentation-file | test-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file,Update Instance Group Form to use Slider when available ### ISSUE TYPE - Feature Idea ##### SUMMARY Once slider component is available update Instance Group Form to use this one. Mock up: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-add/ See: https://github.com/patternfly/patternfly/issues/296 Also: https://github.com/patternfly/patternfly-react/issues/5187 documentation-file test-file test-file documentation-file test-file test-file documentation-file documentation-file other-file test-file test-file documentation-file documentation-file other-file test-file test-file,no-bug,0.95
5046,awx,https://github.com/ansible/awx/issues/5046,Child WorkflowJob not started when Inventory on WorkflowJobTemplateNode,"##### ISSUE TYPE - Bug Report ##### SUMMARY I have nested workflow templates, when I set Prompt on launch on child workflow template and set Inventory through ""Prompt"" in Workflow visualizer, then Launch is in Running state forever and Workflow job for child Workflow template doesn't exist (is probably deleted, because there is missing ID in list of Jobs) ##### ENVIRONMENT * AWX version: Tower 3.5.0 * AWX install method: AMI - https://www.ansible.com/products/tower/trial - Tower in Amazon EC2 * Ansible version: 2.8.0 * Operating System: * Web Browser: Google Chrome 77.0.3865.120 ##### STEPS TO REPRODUCE Child Workflow template contains: - No inventory, Prompt on launch - Job Template with https://github.com/mkanoor/playbook/blob/master/hello_world.yml - No inventory, Prompt on launch - Workflow Job Template Node with Inventory1 (added through ""Prompt"" button in Workflow visualizer) Parent Workflow template contains: - No inventory - Child workflow - (No inventory, Prompt on Launch) - Workflow Job Template Node with Inventory2 (added through ""Prompt"" button in Workflow visualizer) ``` Parent Workflow (without Inventory) (Start) ==> (Inventory2 on Workflow Node) ==> [ Child Workflow (without Inventory, Prompt on Launch) => (Start) ==> (Inventory1 on Workflow Node) ==> Job Template with Prompt on Launch ] ``` ##### EXPECTED RESULTS Job Template should be successfully finished (I suppose with Inventory2?) ##### ACTUAL RESULTS Parent workflow job Status = Running forever Child workflow job doesn't exist (probably deleted, one ID in Jobs is missing) API: (the only node) in `api/workflow_jobs/<parent_workflow_id>/workflow_nodes` doesn't have `/summary_fields/job`, also `/related/job` doesn't exist. But there are `/summary_fields/inventory` and `/related/inventory`. Parent workflow doesn't have inventory In another case that Parent workflow has inventory and workflow node doesn't have, then `/summary_fields/job` and `/related/job` links exist and point to child workflow. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file,"Child WorkflowJob not started when Inventory on WorkflowJobTemplateNode ##### ISSUE TYPE - Bug Report ##### SUMMARY I have nested workflow templates, when I set Prompt on launch on child workflow template and set Inventory through ""Prompt"" in Workflow visualizer, then Launch is in Running state forever and Workflow job for child Workflow template doesn't exist (is probably deleted, because there is missing ID in list of Jobs) ##### ENVIRONMENT * AWX version: Tower 3.5.0 * AWX install method: AMI - https://www.ansible.com/products/tower/trial - Tower in Amazon EC2 * Ansible version: 2.8.0 * Operating System: * Web Browser: Google Chrome 77.0.3865.120 ##### STEPS TO REPRODUCE Child Workflow template contains: - No inventory, Prompt on launch - Job Template with https://github.com/mkanoor/playbook/blob/master/hello_world.yml - No inventory, Prompt on launch - Workflow Job Template Node with Inventory1 (added through ""Prompt"" button in Workflow visualizer) Parent Workflow template contains: - No inventory - Child workflow - (No inventory, Prompt on Launch) - Workflow Job Template Node with Inventory2 (added through ""Prompt"" button in Workflow visualizer) ``` Parent Workflow (without Inventory) (Start) ==> (Inventory2 on Workflow Node) ==> [ Child Workflow (without Inventory, Prompt on Launch) => (Start) ==> (Inventory1 on Workflow Node) ==> Job Template with Prompt on Launch ] ``` ##### EXPECTED RESULTS Job Template should be successfully finished (I suppose with Inventory2?) ##### ACTUAL RESULTS Parent workflow job Status = Running forever Child workflow job doesn't exist (probably deleted, one ID in Jobs is missing) API: (the only node) in `api/workflow_jobs/<parent_workflow_id>/workflow_nodes` doesn't have `/summary_fields/job`, also `/related/job` doesn't exist. But there are `/summary_fields/inventory` and `/related/inventory`. Parent workflow doesn't have inventory In another case that Parent workflow has inventory and workflow node doesn't have, then `/summary_fields/job` and `/related/job` links exist and point to child workflow. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file",bug,0.9
4744,awx,https://github.com/ansible/awx/issues/4744,Schedules page elements shift off screen when at half width.,"##### ISSUE TYPE - Bug Report ##### SUMMARY If you view the schedules page at half-width, the actions + delete button shift off-screen. This seems to only happen on certain size monitors, but feel free to experiment. ##### ENVIRONMENT * AWX version: Latest * Operating System: Fedora 30 * Web Browser: Chrome ##### STEPS TO REPRODUCE Visit the schedules page, with some schedules populated, then cut the screen to half width. ##### EXPECTED RESULTS Normal appearance. ##### ACTUAL RESULTS ![Screenshot from 2019-09-13 14-12-10](https://user-images.githubusercontent.com/19942822/64884892-c695ef80-d630-11e9-8073-c429e6a268b1.png)",source-file,"Schedules page elements shift off screen when at half width. ##### ISSUE TYPE - Bug Report ##### SUMMARY If you view the schedules page at half-width, the actions + delete button shift off-screen. This seems to only happen on certain size monitors, but feel free to experiment. ##### ENVIRONMENT * AWX version: Latest * Operating System: Fedora 30 * Web Browser: Chrome ##### STEPS TO REPRODUCE Visit the schedules page, with some schedules populated, then cut the screen to half width. ##### EXPECTED RESULTS Normal appearance. ##### ACTUAL RESULTS ![Screenshot from 2019-09-13 14-12-10](https://user-images.githubusercontent.com/19942822/64884892-c695ef80-d630-11e9-8073-c429e6a268b1.png) source-file",no-bug,0.95
8593,awx,https://github.com/ansible/awx/issues/8593,Filtering group list by Group type -> Show all groups does not show all groups,"##### ISSUE TYPE - Bug Report ##### SUMMARY It actually shows all non-root groups (i.e. groups that have at least 1 parent: `parents__isnull=false`. I'd propose we get rid of this option: <img width=""487"" alt=""Screen Shot 2020-11-16 at 12 56 39 PM"" src=""https://user-images.githubusercontent.com/9889020/99289667-40b09e00-280b-11eb-836f-b04fe5967c0b.png""> Since the default behavior of this list is to show all groups, this list is redundant.",source-file | source-file | source-file,"Filtering group list by Group type -> Show all groups does not show all groups ##### ISSUE TYPE - Bug Report ##### SUMMARY It actually shows all non-root groups (i.e. groups that have at least 1 parent: `parents__isnull=false`. I'd propose we get rid of this option: <img width=""487"" alt=""Screen Shot 2020-11-16 at 12 56 39 PM"" src=""https://user-images.githubusercontent.com/9889020/99289667-40b09e00-280b-11eb-836f-b04fe5967c0b.png""> Since the default behavior of this list is to show all groups, this list is redundant. source-file source-file source-file",no-bug,0.8
5371,awx,https://github.com/ansible/awx/issues/5371,Vanilla k8s install doesn't work with helm 3.x.x,"##### ISSUE TYPE - Bug Report ##### SUMMARY From @one-t > The vanilla k8s installation does not work with the newly released version of helm due to some client syntax changes. It no longer accepts the --tiller-namespace flag. ##### ENVIRONMENT * AWX version: N/A * AWX install method: Kubernetes * Ansible version: N/A * Operating System: N/A * Web Browser: N/A ##### STEPS TO REPRODUCE Attempt an install of AWX on a vanilla Kubernetes cluster, using the included Helm database option. ##### EXPECTED RESULTS It should work. ##### ACTUAL RESULTS It does not work.",config-file,"Vanilla k8s install doesn't work with helm 3.x.x ##### ISSUE TYPE - Bug Report ##### SUMMARY From @one-t > The vanilla k8s installation does not work with the newly released version of helm due to some client syntax changes. It no longer accepts the --tiller-namespace flag. ##### ENVIRONMENT * AWX version: N/A * AWX install method: Kubernetes * Ansible version: N/A * Operating System: N/A * Web Browser: N/A ##### STEPS TO REPRODUCE Attempt an install of AWX on a vanilla Kubernetes cluster, using the included Helm database option. ##### EXPECTED RESULTS It should work. ##### ACTUAL RESULTS It does not work. config-file",no-bug,0.9
6544,awx,https://github.com/ansible/awx/issues/6544,"When creating a new resource, if a user selects a required form element and clicks Cancel, form validation is applied and form is not closed","##### ISSUE TYPE - Bug Report ##### SUMMARY When creating a new resource, if a user selects a required form element and clicks Cancel, form validation is applied and form is not closed or cancelled ##### ENVIRONMENT * AWX version: 10.0 ##### STEPS TO REPRODUCE 1. Create a new resource with a required form element (i.e. Inventory) 2. Select any required field (like name) 3. Click close Note: Form validation applied without closing the form. Need to Cancel a second time ##### EXPECTED RESULTS Form is closed when closed button clicked ##### ACTUAL RESULTS Form validation applied. Close button needs to be clicked twice ##### ADDITIONAL INFORMATION <img width=""1163"" alt=""Screen Shot 2020-04-02 at 12 43 06 PM"" src=""https://user-images.githubusercontent.com/12446869/78275366-853b3380-74df-11ea-90a4-ecf577b36164.png"">",config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file,"When creating a new resource, if a user selects a required form element and clicks Cancel, form validation is applied and form is not closed ##### ISSUE TYPE - Bug Report ##### SUMMARY When creating a new resource, if a user selects a required form element and clicks Cancel, form validation is applied and form is not closed or cancelled ##### ENVIRONMENT * AWX version: 10.0 ##### STEPS TO REPRODUCE 1. Create a new resource with a required form element (i.e. Inventory) 2. Select any required field (like name) 3. Click close Note: Form validation applied without closing the form. Need to Cancel a second time ##### EXPECTED RESULTS Form is closed when closed button clicked ##### ACTUAL RESULTS Form validation applied. Close button needs to be clicked twice ##### ADDITIONAL INFORMATION <img width=""1163"" alt=""Screen Shot 2020-04-02 at 12 43 06 PM"" src=""https://user-images.githubusercontent.com/12446869/78275366-853b3380-74df-11ea-90a4-ecf577b36164.png""> config-file config-file config-file config-file config-file config-file config-file config-file config-file",no-bug,0.9
11709,awx,https://github.com/ansible/awx/issues/11709,Run npm audit fix,##### ISSUE TYPE - Feature Idea ##### SUMMARY Run npm audit fix.,documentation-file | documentation-file,Run npm audit fix ##### ISSUE TYPE - Feature Idea ##### SUMMARY Run npm audit fix. documentation-file documentation-file,no-bug,0.9
11505,awx,https://github.com/ansible/awx/issues/11505,Cannot create manual project in Japanese (possibly all non-English languages),### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary _No response_ ### AWX version 19.5.0 ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Compile strings 2. Start up AWX 3. Set default browser language to Japanese (UI should now render in Japanese for translated strings) 4. Attempt to create a manual project ### Expected results A manual project is created ### Actual results Project creation fails ### Additional information I suspect that we are sending the translated string back to the API rather than `manual` which is what it is expecting.,source-file | source-file | source-file,Cannot create manual project in Japanese (possibly all non-English languages) ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary _No response_ ### AWX version 19.5.0 ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Compile strings 2. Start up AWX 3. Set default browser language to Japanese (UI should now render in Japanese for translated strings) 4. Attempt to create a manual project ### Expected results A manual project is created ### Actual results Project creation fails ### Additional information I suspect that we are sending the translated string back to the API rather than `manual` which is what it is expecting. source-file source-file source-file,bug,0.9
9512,awx,https://github.com/ansible/awx/issues/9512,[ui_next] Add testability to Teams List,##### ISSUE TYPE - Feature request ##### SUMMARY This task ticket tracks the work to add testability to items on the Teams List,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,[ui_next] Add testability to Teams List ##### ISSUE TYPE - Feature request ##### SUMMARY This task ticket tracks the work to add testability to items on the Teams List other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.95
6298,awx,https://github.com/ansible/awx/issues/6298,Typo in Japanese tooltip for adding hosts,"##### ISSUE TYPE - Bug Report ##### SUMMARY Go to Inventories -> Add a new host with the green plus button. The tooltip has a typo: ![Screenshot from 2020-03-16 14-14-46](https://user-images.githubusercontent.com/19942822/76788332-1648a580-6791-11ea-9b9a-2a627cd6d286.png) Context in english to help you spot the location: ![69465377-44b3f800-0d3e-11ea-9072-f6a5523c6f98](https://user-images.githubusercontent.com/19942822/76788363-282a4880-6791-11ea-941c-ce528d9c5e1e.png) The text header reads: >  > host nameip address ip address:port :reo There is a leftover string `reo` after the  that should be deleted. Unsure if you would write  or , but I would leave that to a native speaker.",source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file,"Typo in Japanese tooltip for adding hosts ##### ISSUE TYPE - Bug Report ##### SUMMARY Go to Inventories -> Add a new host with the green plus button. The tooltip has a typo: ![Screenshot from 2020-03-16 14-14-46](https://user-images.githubusercontent.com/19942822/76788332-1648a580-6791-11ea-9b9a-2a627cd6d286.png) Context in english to help you spot the location: ![69465377-44b3f800-0d3e-11ea-9072-f6a5523c6f98](https://user-images.githubusercontent.com/19942822/76788363-282a4880-6791-11ea-941c-ce528d9c5e1e.png) The text header reads: >  > host nameip address ip address:port :reo There is a leftover string `reo` after the  that should be deleted. Unsure if you would write  or , but I would leave that to a native speaker. source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file",no-bug,0.95
5386,awx,https://github.com/ansible/awx/issues/5386,Help text in Host Name field appears to be missing examples,"##### ISSUE TYPE - Bug Report ##### SUMMARY Host name field in inventory create host form has help text that begins with ""Examples include: "" but does actually provide any examples. ![image](https://user-images.githubusercontent.com/7514801/69465377-44b3f800-0d3e-11ea-9072-f6a5523c6f98.png) ##### ENVIRONMENT - Tower version: 3.6.0 - AWX install method: yolo #6631: Instance URL - https://ec2-34-238-249-200.compute-1.amazonaws.com - Ansible version: 2.10.0.dev0 - Operating System: Mac Mojave 10.14.6 - Web Browser: Version 78.0.3904.87 (Official Build) (64-bit) ##### STEPS TO REPRODUCE 1. Go to Inventories 2. Create a new inventory and Save 3. Go to Hosts and create a new host 4. Open the tooltip in the first field ""Host Name"" and examine text ##### EXPECTED RESULTS The last sentence should have valid examples. ##### ACTUAL RESULTS The last sentence begins with ""Examples include:"" but nothing is provided. ##### ADDITIONAL INFORMATION None",source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file,"Help text in Host Name field appears to be missing examples ##### ISSUE TYPE - Bug Report ##### SUMMARY Host name field in inventory create host form has help text that begins with ""Examples include: "" but does actually provide any examples. ![image](https://user-images.githubusercontent.com/7514801/69465377-44b3f800-0d3e-11ea-9072-f6a5523c6f98.png) ##### ENVIRONMENT - Tower version: 3.6.0 - AWX install method: yolo #6631: Instance URL - https://ec2-34-238-249-200.compute-1.amazonaws.com - Ansible version: 2.10.0.dev0 - Operating System: Mac Mojave 10.14.6 - Web Browser: Version 78.0.3904.87 (Official Build) (64-bit) ##### STEPS TO REPRODUCE 1. Go to Inventories 2. Create a new inventory and Save 3. Go to Hosts and create a new host 4. Open the tooltip in the first field ""Host Name"" and examine text ##### EXPECTED RESULTS The last sentence should have valid examples. ##### ACTUAL RESULTS The last sentence begins with ""Examples include:"" but nothing is provided. ##### ADDITIONAL INFORMATION None source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
5522,awx,https://github.com/ansible/awx/issues/5522,No warning or notification displayed while changing the only admin user privilege from admin to normal.,##### ISSUE TYPE - Bug Report ##### SUMMARY No warning or notification displayed while changing the only admin user privilege from admin to normal. ##### ENVIRONMENT AWX version: 9.0.1 AWX install method: doocker Operating System: rhel7.4 Web Browser: Chrome 78.0.3904.108 ##### STEPS TO REPRODUCE 1. Login to AWX dashboard with admin user. 2. Now click on users panel and make sure there is only one user with admin privileges. 3. Now edit the admin user details and change admin user privileges to normal user. 4. Click on save button. ##### EXPECTED RESULTS Warning or notification should be displayed while trying to change the privileges to last remaining admin user in AWX. ##### ACTUAL RESULTS No warning or notification gets displayed while trying to change the only admin user privileges to normal user.,source-file | source-file,No warning or notification displayed while changing the only admin user privilege from admin to normal. ##### ISSUE TYPE - Bug Report ##### SUMMARY No warning or notification displayed while changing the only admin user privilege from admin to normal. ##### ENVIRONMENT AWX version: 9.0.1 AWX install method: doocker Operating System: rhel7.4 Web Browser: Chrome 78.0.3904.108 ##### STEPS TO REPRODUCE 1. Login to AWX dashboard with admin user. 2. Now click on users panel and make sure there is only one user with admin privileges. 3. Now edit the admin user details and change admin user privileges to normal user. 4. Click on save button. ##### EXPECTED RESULTS Warning or notification should be displayed while trying to change the privileges to last remaining admin user in AWX. ##### ACTUAL RESULTS No warning or notification gets displayed while trying to change the only admin user privileges to normal user. source-file source-file,no-bug,0.9
8305,awx,https://github.com/ansible/awx/issues/8305,500 error when attempting to delete workflow approval,"##### ISSUE TYPE - Bug Report ##### SUMMARY ![delete_wf_approval](https://user-images.githubusercontent.com/9889020/94853438-67e91280-03f9-11eb-9233-63c15e611f70.gif) I haven't tried this with a pending workflow approval but I suspect it would yield the same result. We don't have an interface that interacts with this endpoint in the UI so maybe this has been around for a while? I'm exploring adding an interface for listing out _all_ workflow approvals so that a user could go back and see who approved/denied what in the past. This interface will support deletion if the API allows it. ##### STEPS TO REPRODUCE 1) Create a workflow with an approval step 2) Launch workflow 3) Approve step 4) Attempt to delete workflow approval via API ##### EXPECTED RESULTS Successful delete ##### ACTUAL RESULTS 500 error ``` Request Method: | DELETE -- | -- https://localhost:8043/api/v2/workflow_approvals/3/ 2.2.16 AttributeError 'NoneType' object has no attribute 'objects' ./awx/main/models/unified_jobs.py in get_event_queryset, line 994 /venv/awx/bin/uwsgi 3.6.8 ['/venv/awx/lib/python3.6/site-packages/git/ext/gitdb', '.', '', '/venv/awx/lib64/python36.zip', '/venv/awx/lib64/python3.6', '/venv/awx/lib64/python3.6/lib-dynload', '/usr/lib64/python3.6', '/usr/lib/python3.6', '/venv/awx/lib/python3.6/site-packages', '/venv/awx/lib/python3.6/site-packages/gitdb/ext/smmap'] Thu, 1 Oct 2020 19:17:11 +0000 ```",source-file,"500 error when attempting to delete workflow approval ##### ISSUE TYPE - Bug Report ##### SUMMARY ![delete_wf_approval](https://user-images.githubusercontent.com/9889020/94853438-67e91280-03f9-11eb-9233-63c15e611f70.gif) I haven't tried this with a pending workflow approval but I suspect it would yield the same result. We don't have an interface that interacts with this endpoint in the UI so maybe this has been around for a while? I'm exploring adding an interface for listing out _all_ workflow approvals so that a user could go back and see who approved/denied what in the past. This interface will support deletion if the API allows it. ##### STEPS TO REPRODUCE 1) Create a workflow with an approval step 2) Launch workflow 3) Approve step 4) Attempt to delete workflow approval via API ##### EXPECTED RESULTS Successful delete ##### ACTUAL RESULTS 500 error ``` Request Method: | DELETE -- | -- https://localhost:8043/api/v2/workflow_approvals/3/ 2.2.16 AttributeError 'NoneType' object has no attribute 'objects' ./awx/main/models/unified_jobs.py in get_event_queryset, line 994 /venv/awx/bin/uwsgi 3.6.8 ['/venv/awx/lib/python3.6/site-packages/git/ext/gitdb', '.', '', '/venv/awx/lib64/python36.zip', '/venv/awx/lib64/python3.6', '/venv/awx/lib64/python3.6/lib-dynload', '/usr/lib64/python3.6', '/usr/lib/python3.6', '/venv/awx/lib/python3.6/site-packages', '/venv/awx/lib/python3.6/site-packages/gitdb/ext/smmap'] Thu, 1 Oct 2020 19:17:11 +0000 ``` source-file",bug,0.95
4492,awx,https://github.com/ansible/awx/issues/4492,API/SDK configure CUSTOM_LOGO doesn't take affect,"##### ISSUE TYPE - Bug Report ##### SUMMARY When utilizing the UI, one can head to Settings/UI and upload an image file. This ""replaces"" the Image file on the login screen. One can also view this image in a ""data:url"" format at api/v2/settings/ui CUSTOM_LOGO: ""data:image/png;base64,Base64EncodedStringhere="" Attempting the same via the API or tower-cli (example below) produces no ""error"" and updates the CUSTOM_LOGO attribute properly when viewed in the API, but doesn't actually ""take effect"" in that the logo is not actually changed at login. ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: openshift * Ansible version: Whatever comes built-in with 6.1.0's ansible virtualenv * Operating System: Openshift 3.11 running on RHEL 7.6 * Web Browser: Firefox ##### STEPS TO REPRODUCE Reproduce using the tower-cli: ``` with open(""/path/to/a/png/file.png, 'rb') as logofile: logo_64_encode = base64.b64encode(logofile.read()).decode() created_data_url = 'data:image/png;base64,{}'.format(logo_64_encode) # Placeholder: Setup AWX auth - however you do it since there's 10,000 ways # Set a bunch of other settings as examples - these all WORK FINE # Assuming you have some valid data in login_message and custom_venv_paths variables settings_resource.modify('CUSTOM_LOGIN_INFO', login_message) settings_resource.modify('CUSTOM_VENV_PATHS', json.dumps(custom_venv_paths)) # Setup AWX Custom Logo using above data:url - this shows a successful return and updates CUSTOM_LOGO - but never displays settings_resource.modify('CUSTOM_LOGO', created_data_url) ``` ##### EXPECTED RESULTS if the tower-cli call succeeded (no errors) an i can see the encoded data:url in CUSTOM_LOGO - i would expect a Custom Image to be displayed at the login prompt. ##### ACTUAL RESULTS No image is displayed. Uploading the same image via the UI's ""browse"" option causes it to display immediately, same apparent data:url object written to CUSTOM_LOGO ##### ADDITIONAL INFORMATION N/A",source-file,"API/SDK configure CUSTOM_LOGO doesn't take affect ##### ISSUE TYPE - Bug Report ##### SUMMARY When utilizing the UI, one can head to Settings/UI and upload an image file. This ""replaces"" the Image file on the login screen. One can also view this image in a ""data:url"" format at api/v2/settings/ui CUSTOM_LOGO: ""data:image/png;base64,Base64EncodedStringhere="" Attempting the same via the API or tower-cli (example below) produces no ""error"" and updates the CUSTOM_LOGO attribute properly when viewed in the API, but doesn't actually ""take effect"" in that the logo is not actually changed at login. ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: openshift * Ansible version: Whatever comes built-in with 6.1.0's ansible virtualenv * Operating System: Openshift 3.11 running on RHEL 7.6 * Web Browser: Firefox ##### STEPS TO REPRODUCE Reproduce using the tower-cli: ``` with open(""/path/to/a/png/file.png, 'rb') as logofile: logo_64_encode = base64.b64encode(logofile.read()).decode() created_data_url = 'data:image/png;base64,{}'.format(logo_64_encode) # Placeholder: Setup AWX auth - however you do it since there's 10,000 ways # Set a bunch of other settings as examples - these all WORK FINE # Assuming you have some valid data in login_message and custom_venv_paths variables settings_resource.modify('CUSTOM_LOGIN_INFO', login_message) settings_resource.modify('CUSTOM_VENV_PATHS', json.dumps(custom_venv_paths)) # Setup AWX Custom Logo using above data:url - this shows a successful return and updates CUSTOM_LOGO - but never displays settings_resource.modify('CUSTOM_LOGO', created_data_url) ``` ##### EXPECTED RESULTS if the tower-cli call succeeded (no errors) an i can see the encoded data:url in CUSTOM_LOGO - i would expect a Custom Image to be displayed at the login prompt. ##### ACTUAL RESULTS No image is displayed. Uploading the same image via the UI's ""browse"" option causes it to display immediately, same apparent data:url object written to CUSTOM_LOGO ##### ADDITIONAL INFORMATION N/A source-file",bug,0.9
4623,awx,https://github.com/ansible/awx/issues/4623,Project details does not show that it ran as part of a workflow,"##### ISSUE TYPE - Bug Report ##### SUMMARY Project updates do not identify the workflow that spawned them ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Launch a workflow with a project update and a JT ##### EXPECTED RESULTS I expect to see a ""W"" like in job templates ![Screen Shot 2019-08-29 at 12 49 25 PM](https://user-images.githubusercontent.com/1385596/63960055-97418900-ca5b-11e9-97d2-9279c066ec96.png) This element contains a link to the workflow job ##### ACTUAL RESULTS no W on project update from that same workflow ![Screen Shot 2019-08-29 at 12 49 35 PM](https://user-images.githubusercontent.com/1385596/63960079-a4f70e80-ca5b-11e9-9db7-f7496f8b5ef5.png) ##### ADDITIONAL INFORMATION Also no W for either of these in the JOBS listing. I can make that into a separate issue if needed, also not 100% sure if this was expected or not.",source-file | source-file | source-file,"Project details does not show that it ran as part of a workflow ##### ISSUE TYPE - Bug Report ##### SUMMARY Project updates do not identify the workflow that spawned them ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Launch a workflow with a project update and a JT ##### EXPECTED RESULTS I expect to see a ""W"" like in job templates ![Screen Shot 2019-08-29 at 12 49 25 PM](https://user-images.githubusercontent.com/1385596/63960055-97418900-ca5b-11e9-97d2-9279c066ec96.png) This element contains a link to the workflow job ##### ACTUAL RESULTS no W on project update from that same workflow ![Screen Shot 2019-08-29 at 12 49 35 PM](https://user-images.githubusercontent.com/1385596/63960079-a4f70e80-ca5b-11e9-9db7-f7496f8b5ef5.png) ##### ADDITIONAL INFORMATION Also no W for either of these in the JOBS listing. I can make that into a separate issue if needed, also not 100% sure if this was expected or not. source-file source-file source-file",no-bug,0.8
6514,awx,https://github.com/ansible/awx/issues/6514,"Key from OpenSSL 1.1.1c FIPS 28 May 2019, is not accepted with passphrase","##### ISSUE TYPE - Bug Report ##### SUMMARY When adding keys generated with OpenSSL 1.1.1c FIPS 28 May 2019, awx refuses the key saying: should not be set when SSH key is not encrypted. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker * Ansible version: ansible 2.9.6 config file = None configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.6/site-packages/ansible executable location = /usr/local/bin/ansible python version = 3.6.8 (default, Oct 11 2019, 15:04:54) [GCC 8.3.1 20190507 (Red Hat 8.3.1-4)] * Operating System: RHEL 8 * Web Browser: Chrome, and API ##### STEPS TO REPRODUCE 1. Generate key-pair WITH passphrase ```ssh-keygen -t ed25519 -f awx_ed25519_key -N abcde Generating public/private ed25519 key pair. Your identification has been saved in awx_ed25519_key. Your public key has been saved in awx_ed25519_key.pub. The key fingerprint is: SHA256:GVvNii9jvIOHRsCRUWrV3GBbinwFPpQF3IepEkCnPBs root@myserver.enterprise.se The key's randomart image is: +--[ED25519 256]--+ | .+=++*O+o | | .o*.====o. | | .E.o.B...o | | .o+...B . | | .. .S . | | .. . | | . o= . | | +.o+ | | . ... | +----[SHA256]-----+ ``` 2. Add the key and passphrase with ""ssh_key_data"" and ""ssh_key_unlock"" via api or gui 3. Get error.message: {""inputs""=>{""ssh_key_unlock""=>[""should not be set when SSH key is not encrypted.""]}} ##### EXPECTED RESULTS The api to add the key and passphrase ##### ACTUAL RESULTS Error message ##### ADDITIONAL INFORMATION I think that this occur because awx makes some kind of validation on the key, and the new openssl version creates key with different headers: Old openssl-version: OpenSSL 1.0.1e-fips 11 Feb 2013 ``` -----BEGIN RSA PRIVATE KEY----- Proc-Type: 4,ENCRYPTED DEK-Info: DES-EDE3-CBC,B9423EE955EC985E p8vgpHM3U097R80vPr1TV8I4Iqaq8yh7/+gyOb121d+USv4TRqxumT/Y4wuhNLDe ....... -----END RSA PRIVATE KEY----- ``` New openssl-version: OpenSSL 1.1.1c FIPS 28 May 2019 ``` -----BEGIN OPENSSH PRIVATE KEY----- b3BlbnNzaC1rZXktdjEAAAAACmFlczI1Ni1jdHIAAAAGYmNyeXB0AAAAGAAAABCZqRixE+ ....... 8jZox6XfW2/viTcnW0QJd7q854aAPAz5xzmkL3r7MEhr+NYjD7MJ95EJNE -----END OPENSSH PRIVATE KEY----- ```",source-file | test-file,"Key from OpenSSL 1.1.1c FIPS 28 May 2019, is not accepted with passphrase ##### ISSUE TYPE - Bug Report ##### SUMMARY When adding keys generated with OpenSSL 1.1.1c FIPS 28 May 2019, awx refuses the key saying: should not be set when SSH key is not encrypted. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker * Ansible version: ansible 2.9.6 config file = None configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.6/site-packages/ansible executable location = /usr/local/bin/ansible python version = 3.6.8 (default, Oct 11 2019, 15:04:54) [GCC 8.3.1 20190507 (Red Hat 8.3.1-4)] * Operating System: RHEL 8 * Web Browser: Chrome, and API ##### STEPS TO REPRODUCE 1. Generate key-pair WITH passphrase ```ssh-keygen -t ed25519 -f awx_ed25519_key -N abcde Generating public/private ed25519 key pair. Your identification has been saved in awx_ed25519_key. Your public key has been saved in awx_ed25519_key.pub. The key fingerprint is: SHA256:GVvNii9jvIOHRsCRUWrV3GBbinwFPpQF3IepEkCnPBs root@myserver.enterprise.se The key's randomart image is: +--[ED25519 256]--+ | .+=++*O+o | | .o*.====o. | | .E.o.B...o | | .o+...B . | | .. .S . | | .. . | | . o= . | | +.o+ | | . ... | +----[SHA256]-----+ ``` 2. Add the key and passphrase with ""ssh_key_data"" and ""ssh_key_unlock"" via api or gui 3. Get error.message: {""inputs""=>{""ssh_key_unlock""=>[""should not be set when SSH key is not encrypted.""]}} ##### EXPECTED RESULTS The api to add the key and passphrase ##### ACTUAL RESULTS Error message ##### ADDITIONAL INFORMATION I think that this occur because awx makes some kind of validation on the key, and the new openssl version creates key with different headers: Old openssl-version: OpenSSL 1.0.1e-fips 11 Feb 2013 ``` -----BEGIN RSA PRIVATE KEY----- Proc-Type: 4,ENCRYPTED DEK-Info: DES-EDE3-CBC,B9423EE955EC985E p8vgpHM3U097R80vPr1TV8I4Iqaq8yh7/+gyOb121d+USv4TRqxumT/Y4wuhNLDe ....... -----END RSA PRIVATE KEY----- ``` New openssl-version: OpenSSL 1.1.1c FIPS 28 May 2019 ``` -----BEGIN OPENSSH PRIVATE KEY----- b3BlbnNzaC1rZXktdjEAAAAACmFlczI1Ni1jdHIAAAAGYmNyeXB0AAAAGAAAABCZqRixE+ ....... 8jZox6XfW2/viTcnW0QJd7q854aAPAz5xzmkL3r7MEhr+NYjD7MJ95EJNE -----END OPENSSH PRIVATE KEY----- ``` source-file test-file",no-bug,0.8
7000,awx,https://github.com/ansible/awx/issues/7000,local docker: awx_web ws_broadcast doesn't wait for awx_task migrations,"##### ISSUE TYPE - Bug Report ##### SUMMARY When doing a fresh local docker install, awx_web startup doesn't wait for awx_task to finish migrations. This leads to an extreme amount of error messages, a la: ``` awx_postgres | 2020-05-12 15:00:26.224 UTC [88] ERROR: relation ""conf_setting"" does not exist at character 158 awx_postgres | 2020-05-12 15:00:26.224 UTC [88] STATEMENT: SELECT ""conf_setting"".""id"", ""conf_setting"".""created"", ""conf_setting"".""modified"", ""conf_setting"".""key"", ""conf_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_setting"" WHERE (""conf_setting"".""key"" = 'OAUTH2_PROVIDER' AND ""conf_setting"".""user_id"" IS NULL) ORDER BY ""conf_setting"".""id"" ASC LIMIT 1 awx_web | 2020-05-12 15:00:26,225 ERROR awx.conf.settings Database settings are not available, using defaults. awx_web | Traceback (most recent call last): awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute awx_web | return self.cursor.execute(sql, params) awx_web | psycopg2.errors.UndefinedTable: relation ""conf_setting"" does not exist awx_web | LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett... awx_web | ^ awx_web | awx_web | awx_web | The above exception was the direct cause of the following exception: awx_web | awx_web | Traceback (most recent call last): awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 76, in _ctit_db_wrapper awx_web | yield awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 404, in __getattr__ awx_web | value = self._get_local(name) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 347, in _get_local awx_web | setting = Setting.objects.filter(key=name, user__isnull=True).order_by('pk').first() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 653, in first awx_web | for obj in (self if self.ordered else self.order_by('pk'))[:1]: awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 274, in __iter__ awx_web | self._fetch_all() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all awx_web | self._result_cache = list(self._iterable_class(self)) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ awx_web | results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1140, in execute_sql awx_web | cursor.execute(sql, params) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 67, in execute awx_web | return self._execute_with_wrappers(sql, params, many=False, executor=self._execute) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 76, in _execute_with_wrappers awx_web | return executor(sql, params, many, context) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute awx_web | return self.cursor.execute(sql, params) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ awx_web | raise dj_exc_value.with_traceback(traceback) from exc_value awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute awx_web | return self.cursor.execute(sql, params) awx_web | django.db.utils.ProgrammingError: relation ""conf_setting"" does not exist awx_web | LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett... awx_web | ^ awx_web | awx_web | Traceback (most recent call last): awx_web | File ""/usr/bin/awx-manage"", line 8, in <module> awx_web | sys.exit(manage()) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 152, in manage awx_web | execute_from_command_line(sys.argv) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line awx_web | utility.execute() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute awx_web | self.fetch_command(subcommand).run_from_argv(self.argv) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv awx_web | self.execute(*args, **cmd_options) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 364, in execute awx_web | output = self.handle(*args, **options) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/run_wsbroadcast.py"", line 128, in handle awx_web | broadcast_websocket_mgr = BroadcastWebsocketManager() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/wsbroadcast.py"", line 154, in __init__ awx_web | self.local_hostname = get_local_host() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/wsbroadcast.py"", line 45, in get_local_host awx_web | return Instance.objects.me().hostname awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/managers.py"", line 116, in me awx_web | raise RuntimeError(""No instance found with the current cluster host id"") awx_web | RuntimeError: No instance found with the current cluster host id awx_web | 2020-05-12 15:00:39,443 INFO exited: wsbroadcast (exit status 1; not expected) ``` until migrations finish. It's just a lot of noise. ##### ENVIRONMENT * AWX version: 11.2 * AWX install method: docker on linux",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"local docker: awx_web ws_broadcast doesn't wait for awx_task migrations ##### ISSUE TYPE - Bug Report ##### SUMMARY When doing a fresh local docker install, awx_web startup doesn't wait for awx_task to finish migrations. This leads to an extreme amount of error messages, a la: ``` awx_postgres | 2020-05-12 15:00:26.224 UTC [88] ERROR: relation ""conf_setting"" does not exist at character 158 awx_postgres | 2020-05-12 15:00:26.224 UTC [88] STATEMENT: SELECT ""conf_setting"".""id"", ""conf_setting"".""created"", ""conf_setting"".""modified"", ""conf_setting"".""key"", ""conf_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_setting"" WHERE (""conf_setting"".""key"" = 'OAUTH2_PROVIDER' AND ""conf_setting"".""user_id"" IS NULL) ORDER BY ""conf_setting"".""id"" ASC LIMIT 1 awx_web | 2020-05-12 15:00:26,225 ERROR awx.conf.settings Database settings are not available, using defaults. awx_web | Traceback (most recent call last): awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute awx_web | return self.cursor.execute(sql, params) awx_web | psycopg2.errors.UndefinedTable: relation ""conf_setting"" does not exist awx_web | LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett... awx_web | ^ awx_web | awx_web | awx_web | The above exception was the direct cause of the following exception: awx_web | awx_web | Traceback (most recent call last): awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 76, in _ctit_db_wrapper awx_web | yield awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 404, in __getattr__ awx_web | value = self._get_local(name) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 347, in _get_local awx_web | setting = Setting.objects.filter(key=name, user__isnull=True).order_by('pk').first() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 653, in first awx_web | for obj in (self if self.ordered else self.order_by('pk'))[:1]: awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 274, in __iter__ awx_web | self._fetch_all() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all awx_web | self._result_cache = list(self._iterable_class(self)) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ awx_web | results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1140, in execute_sql awx_web | cursor.execute(sql, params) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 67, in execute awx_web | return self._execute_with_wrappers(sql, params, many=False, executor=self._execute) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 76, in _execute_with_wrappers awx_web | return executor(sql, params, many, context) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute awx_web | return self.cursor.execute(sql, params) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ awx_web | raise dj_exc_value.with_traceback(traceback) from exc_value awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/utils.py"", line 84, in _execute awx_web | return self.cursor.execute(sql, params) awx_web | django.db.utils.ProgrammingError: relation ""conf_setting"" does not exist awx_web | LINE 1: ...f_setting"".""value"", ""conf_setting"".""user_id"" FROM ""conf_sett... awx_web | ^ awx_web | awx_web | Traceback (most recent call last): awx_web | File ""/usr/bin/awx-manage"", line 8, in <module> awx_web | sys.exit(manage()) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 152, in manage awx_web | execute_from_command_line(sys.argv) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line awx_web | utility.execute() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute awx_web | self.fetch_command(subcommand).run_from_argv(self.argv) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv awx_web | self.execute(*args, **cmd_options) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 364, in execute awx_web | output = self.handle(*args, **options) awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/run_wsbroadcast.py"", line 128, in handle awx_web | broadcast_websocket_mgr = BroadcastWebsocketManager() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/wsbroadcast.py"", line 154, in __init__ awx_web | self.local_hostname = get_local_host() awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/wsbroadcast.py"", line 45, in get_local_host awx_web | return Instance.objects.me().hostname awx_web | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/managers.py"", line 116, in me awx_web | raise RuntimeError(""No instance found with the current cluster host id"") awx_web | RuntimeError: No instance found with the current cluster host id awx_web | 2020-05-12 15:00:39,443 INFO exited: wsbroadcast (exit status 1; not expected) ``` until migrations finish. It's just a lot of noise. ##### ENVIRONMENT * AWX version: 11.2 * AWX install method: docker on linux source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
6464,awx,https://github.com/ansible/awx/issues/6464,Survey multiple choice options need improvements and error handling,"##### ISSUE TYPE - Bug Report ##### SUMMARY From https://github.com/ansible/awx/issues/5900#issuecomment-605008285: cc @keithjgrant > Both add and edit forms for JT surveys need some way of clarifying how to format single-select and multi-select options. It is trivial to create modal-overlay 400 errors with the basic input textbox given, and these 400 errors do not provide any useful information to the end user. ##### STEPS TO REPRODUCE Put bad input into a job template survey with either single or multi-select. semicolons in random spots, etc, in an attempt to break it. some things work, some don't. ##### EXPECTED RESULTS Form validation on submission that keeps you on the form page, indicating formatting errors or something similar when met with a 400 error. I would also like information around the box about how to format the survey. ##### ACTUAL RESULTS 400 that takes you back to the survey list, no further information about the error.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | source-file,"Survey multiple choice options need improvements and error handling ##### ISSUE TYPE - Bug Report ##### SUMMARY From https://github.com/ansible/awx/issues/5900#issuecomment-605008285: cc @keithjgrant > Both add and edit forms for JT surveys need some way of clarifying how to format single-select and multi-select options. It is trivial to create modal-overlay 400 errors with the basic input textbox given, and these 400 errors do not provide any useful information to the end user. ##### STEPS TO REPRODUCE Put bad input into a job template survey with either single or multi-select. semicolons in random spots, etc, in an attempt to break it. some things work, some don't. ##### EXPECTED RESULTS Form validation on submission that keeps you on the form page, indicating formatting errors or something similar when met with a 400 error. I would also like information around the box about how to format the survey. ##### ACTUAL RESULTS 400 that takes you back to the survey list, no further information about the error. other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file test-file source-file",bug,0.9
7813,awx,https://github.com/ansible/awx/issues/7813,Improve support for fetching content from multiple Galaxy-like endpoints,"Today, AWX users can specify Ansible role/collection dependencies in their SCM repositories in a `requirements.yml` file, and AWX will install these as part of the Project Update. Currently, AWX has support for pulling this content from https://galaxy.ansible.org or *one* Galaxy-like API such as Red Hat's cloud-based Ansible Automation Hub. The model for configuring Galaxy credentials today is too simple (you can only specify *one* ""private"" Galaxy, ordering is complicated, and it's a set of *global* settings that can't be differentiated per Organization). This issue is meant to track a change to this interface whereby Galaxy credentials will be assigned to Organizations, and can be unlimited and ordered as the user sees fit. ### Scope of API Change - [x] Introduce a new CredentialType of e.g., `kind=""galaxy""` which represents a content source for fetching collections defined in `requirements.yml` when project updates are run (e.g., galaxy.ansible.com, cloud.redhat.com, on-premise Automation Hub). This new type will represent a URL and (optional) authentication details necessary to construct the environment variables _when a project update runs_ `ansible-galaxy collection install` as described in https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#configuring-the-ansible-galaxy-client. It will have fields which map directly to the configuration options exposed to the Ansible Galaxy CLI, e.g., per-server: - `url` (required str) - `auth_url` (optional str) - `token` (optional str, encrypted) Note that a URL will *always* be required, but authentication (as in the case of galaxy.ansible.com) is optional. **This new solution _will not_ support basic authentication, because several of these APIs will be removing support for basic auth in the next year** (see: https://github.com/ansible/awx/pull/7811/) - [x] Add an API endpoint for associating an _ordered list_ of these credentials _at the Organization level_. For example, an Organization may have an empty list (the default), or one or more items in the list (i.e., Public Galaxy, _then_ On-Prem AH). This might be something like: `/api/v2/organizations/N/galaxy_credentials/` - [x] Write code to detect and migrate the *existing* Galaxy-oriented setting values in such a way that post-upgrade, proper credentials are created and attached to _every_ Organization in the AWX install: - `PRIMARY_GALAXY_URL` - `PRIMARY_GALAXY_USERNAME` - `PRIMARY_GALAXY_PASSWORD` - `PRIMARY_GALAXY_TOKEN` - `PRIMARY_GALAXY_AUTH_URL` - `PUBLIC_GALAXY_ENABLED` In other words, after upgrading, you should find that *every* organization that existed prior to upgrade now has a list of (one or more) ""Galaxy"" credentials associated with it. Additionally, post-upgrade, these settings should not be visible (or editable) from `/api/v2/settings/jobs/`. - [x] Change the `awx.main.tasks` code such that when a project update runs, it looks at the list of Galaxy/AH credentials assigned to the organization, and (respecting the defined order) builds the appropriate environment variables to properly configure the `ansible-galaxy` CLI. See: https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#configuring-the-ansible-galaxy-client > As well as being defined in the ansible.cfg file, these server options can be defined as an environment variable. The environment variable is in the form `ANSIBLE_GALAXY_SERVER_{{ id }}_{{ key }}` where `{{ id }}` is the upper case form of the server identifier and `{{ key }}` is the key to define. For example I can define token for release_galaxy by setting `ANSIBLE_GALAXY_SERVER_RELEASE_GALAXY_TOKEN=secret_token`. For example: ``` ANSIBLE_GALAXY_SERVER_LIST=server1,server2 ANSIBLE_GALAXY_SERVER_SERVER1_URL=https://galaxy.ansible.com ANSIBLE_GALAXY_SERVER_SERVER2_URL=https://cloud.redhat.com/api/automation-hub/ ANSIBLE_GALAXY_SERVER_SERVER2_AUTH_URL=https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token ANSIBLE_GALAXY_SERVER_SERVER2_TOKEN=secret123 ``` In this way, when `awx/playbooks/project_update.yml` runs `ansible-galaxy collection install`, it will attempt the servers in order: > The GALAXY_SERVER_LIST option is a list of server identifiers in a prioritized order. When searching for a collection, the install process will search in that order, e.g. automation_hub first, then my_org_hub, release_galaxy, and finally test_galaxy until the collection is found. - [x] Continue to support `GALAXY_IGNORE_CERTS` as a global setting, as the `ansible-galaxy` CLI doesn't currently have the ability to specify this value at a per-server level. - [x] We should ensure that this implementation _continues_ to provide support for the use case where users want to fetch roles directly from public Galaxy _even if_ galaxy.ansible.com is not the _first_ credential in the list for the Organization). ### Scope of UI Change - [x] the organization add/edit form will need a non-required credential lookup field for credentials of `kind=galaxy`. A note is needed to let the user know the order of these credentials matters (order sets precedence for the sync and lookup of the content) - [x] Remove the global ""Galaxy"" settings from `/#/settings/jobs`.",source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | documentation-file | source-file | source-file,"Improve support for fetching content from multiple Galaxy-like endpoints Today, AWX users can specify Ansible role/collection dependencies in their SCM repositories in a `requirements.yml` file, and AWX will install these as part of the Project Update. Currently, AWX has support for pulling this content from https://galaxy.ansible.org or *one* Galaxy-like API such as Red Hat's cloud-based Ansible Automation Hub. The model for configuring Galaxy credentials today is too simple (you can only specify *one* ""private"" Galaxy, ordering is complicated, and it's a set of *global* settings that can't be differentiated per Organization). This issue is meant to track a change to this interface whereby Galaxy credentials will be assigned to Organizations, and can be unlimited and ordered as the user sees fit. ### Scope of API Change - [x] Introduce a new CredentialType of e.g., `kind=""galaxy""` which represents a content source for fetching collections defined in `requirements.yml` when project updates are run (e.g., galaxy.ansible.com, cloud.redhat.com, on-premise Automation Hub). This new type will represent a URL and (optional) authentication details necessary to construct the environment variables _when a project update runs_ `ansible-galaxy collection install` as described in https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#configuring-the-ansible-galaxy-client. It will have fields which map directly to the configuration options exposed to the Ansible Galaxy CLI, e.g., per-server: - `url` (required str) - `auth_url` (optional str) - `token` (optional str, encrypted) Note that a URL will *always* be required, but authentication (as in the case of galaxy.ansible.com) is optional. **This new solution _will not_ support basic authentication, because several of these APIs will be removing support for basic auth in the next year** (see: https://github.com/ansible/awx/pull/7811/) - [x] Add an API endpoint for associating an _ordered list_ of these credentials _at the Organization level_. For example, an Organization may have an empty list (the default), or one or more items in the list (i.e., Public Galaxy, _then_ On-Prem AH). This might be something like: `/api/v2/organizations/N/galaxy_credentials/` - [x] Write code to detect and migrate the *existing* Galaxy-oriented setting values in such a way that post-upgrade, proper credentials are created and attached to _every_ Organization in the AWX install: - `PRIMARY_GALAXY_URL` - `PRIMARY_GALAXY_USERNAME` - `PRIMARY_GALAXY_PASSWORD` - `PRIMARY_GALAXY_TOKEN` - `PRIMARY_GALAXY_AUTH_URL` - `PUBLIC_GALAXY_ENABLED` In other words, after upgrading, you should find that *every* organization that existed prior to upgrade now has a list of (one or more) ""Galaxy"" credentials associated with it. Additionally, post-upgrade, these settings should not be visible (or editable) from `/api/v2/settings/jobs/`. - [x] Change the `awx.main.tasks` code such that when a project update runs, it looks at the list of Galaxy/AH credentials assigned to the organization, and (respecting the defined order) builds the appropriate environment variables to properly configure the `ansible-galaxy` CLI. See: https://docs.ansible.com/ansible/latest/user_guide/collections_using.html#configuring-the-ansible-galaxy-client > As well as being defined in the ansible.cfg file, these server options can be defined as an environment variable. The environment variable is in the form `ANSIBLE_GALAXY_SERVER_{{ id }}_{{ key }}` where `{{ id }}` is the upper case form of the server identifier and `{{ key }}` is the key to define. For example I can define token for release_galaxy by setting `ANSIBLE_GALAXY_SERVER_RELEASE_GALAXY_TOKEN=secret_token`. For example: ``` ANSIBLE_GALAXY_SERVER_LIST=server1,server2 ANSIBLE_GALAXY_SERVER_SERVER1_URL=https://galaxy.ansible.com ANSIBLE_GALAXY_SERVER_SERVER2_URL=https://cloud.redhat.com/api/automation-hub/ ANSIBLE_GALAXY_SERVER_SERVER2_AUTH_URL=https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token ANSIBLE_GALAXY_SERVER_SERVER2_TOKEN=secret123 ``` In this way, when `awx/playbooks/project_update.yml` runs `ansible-galaxy collection install`, it will attempt the servers in order: > The GALAXY_SERVER_LIST option is a list of server identifiers in a prioritized order. When searching for a collection, the install process will search in that order, e.g. automation_hub first, then my_org_hub, release_galaxy, and finally test_galaxy until the collection is found. - [x] Continue to support `GALAXY_IGNORE_CERTS` as a global setting, as the `ansible-galaxy` CLI doesn't currently have the ability to specify this value at a per-server level. - [x] We should ensure that this implementation _continues_ to provide support for the use case where users want to fetch roles directly from public Galaxy _even if_ galaxy.ansible.com is not the _first_ credential in the list for the Organization). ### Scope of UI Change - [x] the organization add/edit form will need a non-required credential lookup field for credentials of `kind=galaxy`. A note is needed to let the user know the order of these credentials matters (order sets precedence for the sync and lookup of the content) - [x] Remove the global ""Galaxy"" settings from `/#/settings/jobs`. source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file source-file source-file documentation-file source-file source-file",no-bug,0.9
7640,awx,https://github.com/ansible/awx/issues/7640,Details page for Instance Groups,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add details page for Instance Groups,other-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file,Details page for Instance Groups ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add details page for Instance Groups other-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file,no-bug,0.9
7252,awx,https://github.com/ansible/awx/issues/7252,"AWX Container fail to start, pull access denied for ansible/awx ; Error starting project 404 Client Error: Not Found (\""pull access denied for ansible/awx, repository does not exist or may require 'docker login': denied: requested access to the resource is denied","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 11.2.0 (git clone code on 04 June 2020) * AWX install method: docker(Docker version 19.03.11) on Linux (AWS Centos) * Ansible version: 2.9.9 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: N/A ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Clone the AWX official repo (https://github.com/ansible/awx.git) run: ansible-playbook -i inventory install.yml ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> It should run with no issue and docker containers with Name: awx_task,awx_web etc ##### ACTUAL RESULTS <!-- What actually happened? --> It failed due to permission issue, it cant access docker image any more {""changed"": false, ""errors"": [], ""module_stderr"": """", ""module_stdout"": """", ""msg"": ""Error starting project 404 Client Error: Not Found (\""**pull access denied for ansible/awx**, repository does not exist or may require 'docker login': denied: requested access to the resource is denied\"")""} ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> This was working fine till last week.",other-file,"AWX Container fail to start, pull access denied for ansible/awx ; Error starting project 404 Client Error: Not Found (\""pull access denied for ansible/awx, repository does not exist or may require 'docker login': denied: requested access to the resource is denied ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 11.2.0 (git clone code on 04 June 2020) * AWX install method: docker(Docker version 19.03.11) on Linux (AWS Centos) * Ansible version: 2.9.9 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: N/A ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Clone the AWX official repo (https://github.com/ansible/awx.git) run: ansible-playbook -i inventory install.yml ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> It should run with no issue and docker containers with Name: awx_task,awx_web etc ##### ACTUAL RESULTS <!-- What actually happened? --> It failed due to permission issue, it cant access docker image any more {""changed"": false, ""errors"": [], ""module_stderr"": """", ""module_stdout"": """", ""msg"": ""Error starting project 404 Client Error: Not Found (\""**pull access denied for ansible/awx**, repository does not exist or may require 'docker login': denied: requested access to the resource is denied\"")""} ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> This was working fine till last week. other-file",no-bug,0.9
5649,awx,https://github.com/ansible/awx/issues/5649,"Users Tabs (Organizations, Teams, etc)",Converting to an issue to link to test automation,source-file | test-file | source-file | test-file,"Users Tabs (Organizations, Teams, etc) Converting to an issue to link to test automation source-file test-file source-file test-file",no-bug,0.9
4791,awx,https://github.com/ansible/awx/issues/4791,Error trying to create Machine credential with prompted password field and HashiCorp Vault KV backed private key,"##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to set up a Machine credential. For SSH Private Key I'm sourcing it from an already configured HashiCorp Vault KV credential. I want the user to provide the passphrase at template launch so I check the box. When I do this I get an error stating that `cannot be set unless ""SSH Private Key"" is set`. I suspect this is just a by-product of a credential plugin. Sourcing the private data by way of a plugin makes the schema for Machine (ssh) credentials fail to validate. ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: docker on linux * Ansible version: 2.8.2 * Operating System: Mac OSX * Web Browser: Safari ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> - Create a HashiCorp Vault KV credential - Open dialog to create another credential; a Machine credential - Click the search button for the SSH PRIVATE KEY dialog - Select previously created HashiCorp Vault KV credential and click next - Fill in data for secret path and key name and save - Check Prompt on launch for PRIVATE KEY PASSPHRASE - Click Save ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> I expected to be able to source the private data from Vault and the passphrase from the user, ensuring no part of the combo is stored within AWX at rest. ##### ACTUAL RESULTS <!-- What actually happened? --> An error dialog appears below PRIVATE KEY PASSPHRASE and I cannot continue. ![Screen Shot 2019-09-19 at 7 06 05 PM](https://user-images.githubusercontent.com/523287/65294183-b9866e00-db12-11e9-902f-8a3175dc92f7.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ![vault-ssh-prompt](https://user-images.githubusercontent.com/523287/65294681-cc4d7280-db13-11e9-900c-bf769e649a30.gif) cc github/gtower#19",source-file | source-file | source-file | source-file | test-file | test-file,"Error trying to create Machine credential with prompted password field and HashiCorp Vault KV backed private key ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to set up a Machine credential. For SSH Private Key I'm sourcing it from an already configured HashiCorp Vault KV credential. I want the user to provide the passphrase at template launch so I check the box. When I do this I get an error stating that `cannot be set unless ""SSH Private Key"" is set`. I suspect this is just a by-product of a credential plugin. Sourcing the private data by way of a plugin makes the schema for Machine (ssh) credentials fail to validate. ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: docker on linux * Ansible version: 2.8.2 * Operating System: Mac OSX * Web Browser: Safari ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> - Create a HashiCorp Vault KV credential - Open dialog to create another credential; a Machine credential - Click the search button for the SSH PRIVATE KEY dialog - Select previously created HashiCorp Vault KV credential and click next - Fill in data for secret path and key name and save - Check Prompt on launch for PRIVATE KEY PASSPHRASE - Click Save ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> I expected to be able to source the private data from Vault and the passphrase from the user, ensuring no part of the combo is stored within AWX at rest. ##### ACTUAL RESULTS <!-- What actually happened? --> An error dialog appears below PRIVATE KEY PASSPHRASE and I cannot continue. ![Screen Shot 2019-09-19 at 7 06 05 PM](https://user-images.githubusercontent.com/523287/65294183-b9866e00-db12-11e9-902f-8a3175dc92f7.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ![vault-ssh-prompt](https://user-images.githubusercontent.com/523287/65294681-cc4d7280-db13-11e9-900c-bf769e649a30.gif) cc github/gtower#19 source-file source-file source-file source-file test-file test-file",no-bug,0.8
12199,awx,https://github.com/ansible/awx/issues/12199,[Performance] Apply START_TASK_LIMIT to queries of pending jobs in the task manager,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://web.libera.chat/?channels=#ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> In the theme of small changes to do to the task manager for scalability. We introduced START_TASK_LIMIT as a way to prevent the task manager from timing out. Problem is, we only respect this on the ""back end"" of what the task manager is doing -- when it is starting the jobs https://github.com/ansible/awx/blob/a86740c3c9eaf9a551e850341d8adec5a3962dd5/awx/main/scheduler/task_manager.py#L220-L224 We still are exposed to the risk that everything on the ""front end"" may be slow (initializing data). Specifically, START_TASK_LIMIT is attempting to limit how many `pending` jobs we process in a single run of the task manager. By that logic, we should limit how many pending jobs we fetch from the database. For the moment, while we continue to have a single task manager with a global lock we must collect ALL running and waiting jobs. But we can limit how many pending jobs we collect, and I argue that although this means 2 sets of queries (one for pending jobs, with a limit of START_TASK_LIMIT) and one for running/waiting jobs, we will get a net win for users with many jobs (who are the ones that need this feature) This is because we KNOW that right now the max number of running/waiting jobs pratically is 1024, because that is the maximum number of databse connections we tend to configure. Of course Controller doens't actually know this is a practical limit but that is a different bug. BUT...there can be many thousands of pending jobs. And it is in that particular case that we are exposed to the risk that START_TASK_LIMIT will not sufficiently limit how slow the task manager is, and customers can end up with the task manager timing out anyway. ### Implementation notes We query the pending, waiting, and running jobs in https://github.com/ansible/awx/blob/a86740c3c9eaf9a551e850341d8adec5a3962dd5/awx/main/scheduler/task_manager.py#L89-L101 The approach we want to try is to split this into 2 sets of queries, one that does pending jobs with a limit https://docs.djangoproject.com/en/4.0/topics/db/queries/#limiting-querysets-1 We probably want to make sure we get the oldest pending jobs, e.g. order by created (ascending). The other set of queries for running/waiting jobs would remain essentially unchanged. ### Notes I'd like to warn that for small number of jobs doing 2 sets of queries may actually be slower. But the net result for large number of pending jobs should be that the task manager is not **increasingly slower** as the # of jobs scales, _as it is now_. E.g. the slowest we would get is when we have START_TASK_LIMIT # of pending jobs and the functional max # of running/waiting jobs which is 1024 (based on our database connections config). So this feature is largely to enable _scaling the number of jobs awx can handle w/o tipping over_ at a potential small cost of scheduling them a tiny bit slower in each round of the task manager. Best way to test this would be to test how long it takes to schedule thousands of jobs over a a longer period of time, because hypothetically we will amortize the cost of the two sets of queries over more frequent, lighter weight runs of the task manager.",source-file | source-file | source-file | source-file | source-file,"[Performance] Apply START_TASK_LIMIT to queries of pending jobs in the task manager <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://web.libera.chat/?channels=#ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> In the theme of small changes to do to the task manager for scalability. We introduced START_TASK_LIMIT as a way to prevent the task manager from timing out. Problem is, we only respect this on the ""back end"" of what the task manager is doing -- when it is starting the jobs https://github.com/ansible/awx/blob/a86740c3c9eaf9a551e850341d8adec5a3962dd5/awx/main/scheduler/task_manager.py#L220-L224 We still are exposed to the risk that everything on the ""front end"" may be slow (initializing data). Specifically, START_TASK_LIMIT is attempting to limit how many `pending` jobs we process in a single run of the task manager. By that logic, we should limit how many pending jobs we fetch from the database. For the moment, while we continue to have a single task manager with a global lock we must collect ALL running and waiting jobs. But we can limit how many pending jobs we collect, and I argue that although this means 2 sets of queries (one for pending jobs, with a limit of START_TASK_LIMIT) and one for running/waiting jobs, we will get a net win for users with many jobs (who are the ones that need this feature) This is because we KNOW that right now the max number of running/waiting jobs pratically is 1024, because that is the maximum number of databse connections we tend to configure. Of course Controller doens't actually know this is a practical limit but that is a different bug. BUT...there can be many thousands of pending jobs. And it is in that particular case that we are exposed to the risk that START_TASK_LIMIT will not sufficiently limit how slow the task manager is, and customers can end up with the task manager timing out anyway. ### Implementation notes We query the pending, waiting, and running jobs in https://github.com/ansible/awx/blob/a86740c3c9eaf9a551e850341d8adec5a3962dd5/awx/main/scheduler/task_manager.py#L89-L101 The approach we want to try is to split this into 2 sets of queries, one that does pending jobs with a limit https://docs.djangoproject.com/en/4.0/topics/db/queries/#limiting-querysets-1 We probably want to make sure we get the oldest pending jobs, e.g. order by created (ascending). The other set of queries for running/waiting jobs would remain essentially unchanged. ### Notes I'd like to warn that for small number of jobs doing 2 sets of queries may actually be slower. But the net result for large number of pending jobs should be that the task manager is not **increasingly slower** as the # of jobs scales, _as it is now_. E.g. the slowest we would get is when we have START_TASK_LIMIT # of pending jobs and the functional max # of running/waiting jobs which is 1024 (based on our database connections config). So this feature is largely to enable _scaling the number of jobs awx can handle w/o tipping over_ at a potential small cost of scheduling them a tiny bit slower in each round of the task manager. Best way to test this would be to test how long it takes to schedule thousands of jobs over a a longer period of time, because hypothetically we will amortize the cost of the two sets of queries over more frequent, lighter weight runs of the task manager. source-file source-file source-file source-file source-file",no-bug,0.9
9568,awx,https://github.com/ansible/awx/issues/9568,[ui_next] Add testability to the Session Timeout modal,TYPE - Task SUMMARY -Add testability to the Session timeout modal that pops up in the UI,other-file,[ui_next] Add testability to the Session Timeout modal TYPE - Task SUMMARY -Add testability to the Session timeout modal that pops up in the UI other-file,no-bug,0.9
5501,awx,https://github.com/ansible/awx/issues/5501,Kubernetes/Openshift Ansible installer is not working on RHEL 7,"##### ISSUE TYPE - Bug Report ##### SUMMARY The Kubernetes/Openshift Ansible installer does not work on RHEL 7 ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: openshift * Ansible version: 2.8.7 (from Redhat repository rhel-7-server-ansible-2.8-rpms) * Operating System: RHEL 7.7 * Web Browser: none * Jinja2 version: python-jinja2-2.7.2-4.el7.noarch ##### STEPS TO REPRODUCE oc login ansible-playbook -i inventory install.yml -e openshift_token=$(oc whoami -t) -e openshift_user=clusteradminuser -vvv Taget cluster is Openshift 3.11, oc binary is 3.11 too. ##### EXPECTED RESULTS successfull installation ##### ACTUAL RESULTS Playbook terminates: ``` TASK [kubernetes : Find cluster for current context] ******************************************************************************************************************** task path: /home/XXXX/src/awx/installer/roles/kubernetes/tasks/main.yml:203 The full traceback is: Traceback (most recent call last): File ""/usr/lib/python2.7/site-packages/ansible/executor/task_executor.py"", line 145, in run res = self._execute() File ""/usr/lib/python2.7/site-packages/ansible/executor/task_executor.py"", line 592, in _execute self._task.post_validate(templar=templar) File ""/usr/lib/python2.7/site-packages/ansible/playbook/task.py"", line 268, in post_validate super(Task, self).post_validate(templar) File ""/usr/lib/python2.7/site-packages/ansible/playbook/base.py"", line 435, in post_validate value = templar.template(getattr(self, name)) File ""/usr/lib/python2.7/site-packages/ansible/template/__init__.py"", line 584, in template disable_lookups=disable_lookups, File ""/usr/lib/python2.7/site-packages/ansible/template/__init__.py"", line 539, in template disable_lookups=disable_lookups, File ""/usr/lib/python2.7/site-packages/ansible/template/__init__.py"", line 804, in do_template res = j2_concat(rf) File ""<template>"", line 11, in root File ""/usr/lib/python2.7/site-packages/jinja2/filters.py"", line 740, in do_list return list(value) File ""/usr/lib/python2.7/site-packages/jinja2/filters.py"", line 931, in _select_or_reject if modfunc(func(transfunc(item))): File ""/usr/lib/python2.7/site-packages/jinja2/filters.py"", line 925, in <lambda> name, item, args, kwargs) File ""/usr/lib/python2.7/site-packages/jinja2/environment.py"", line 438, in call_test raise TemplateRuntimeError('no test named %r' % name) TemplateRuntimeError: no test named 'equalto' fatal: [localhost]: FAILED! => { ""msg"": ""Unexpected failure during module execution."", ""stdout"": """" } PLAY RECAP ************************************************************************************************************************************************************** localhost : ok=24 changed=8 unreachable=0 failed=1 skipped=68 rescued=0 ignored=1 ``` I suspect that the Jinja2 version is too old to support 'equalto' ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",config-file,"Kubernetes/Openshift Ansible installer is not working on RHEL 7 ##### ISSUE TYPE - Bug Report ##### SUMMARY The Kubernetes/Openshift Ansible installer does not work on RHEL 7 ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: openshift * Ansible version: 2.8.7 (from Redhat repository rhel-7-server-ansible-2.8-rpms) * Operating System: RHEL 7.7 * Web Browser: none * Jinja2 version: python-jinja2-2.7.2-4.el7.noarch ##### STEPS TO REPRODUCE oc login ansible-playbook -i inventory install.yml -e openshift_token=$(oc whoami -t) -e openshift_user=clusteradminuser -vvv Taget cluster is Openshift 3.11, oc binary is 3.11 too. ##### EXPECTED RESULTS successfull installation ##### ACTUAL RESULTS Playbook terminates: ``` TASK [kubernetes : Find cluster for current context] ******************************************************************************************************************** task path: /home/XXXX/src/awx/installer/roles/kubernetes/tasks/main.yml:203 The full traceback is: Traceback (most recent call last): File ""/usr/lib/python2.7/site-packages/ansible/executor/task_executor.py"", line 145, in run res = self._execute() File ""/usr/lib/python2.7/site-packages/ansible/executor/task_executor.py"", line 592, in _execute self._task.post_validate(templar=templar) File ""/usr/lib/python2.7/site-packages/ansible/playbook/task.py"", line 268, in post_validate super(Task, self).post_validate(templar) File ""/usr/lib/python2.7/site-packages/ansible/playbook/base.py"", line 435, in post_validate value = templar.template(getattr(self, name)) File ""/usr/lib/python2.7/site-packages/ansible/template/__init__.py"", line 584, in template disable_lookups=disable_lookups, File ""/usr/lib/python2.7/site-packages/ansible/template/__init__.py"", line 539, in template disable_lookups=disable_lookups, File ""/usr/lib/python2.7/site-packages/ansible/template/__init__.py"", line 804, in do_template res = j2_concat(rf) File ""<template>"", line 11, in root File ""/usr/lib/python2.7/site-packages/jinja2/filters.py"", line 740, in do_list return list(value) File ""/usr/lib/python2.7/site-packages/jinja2/filters.py"", line 931, in _select_or_reject if modfunc(func(transfunc(item))): File ""/usr/lib/python2.7/site-packages/jinja2/filters.py"", line 925, in <lambda> name, item, args, kwargs) File ""/usr/lib/python2.7/site-packages/jinja2/environment.py"", line 438, in call_test raise TemplateRuntimeError('no test named %r' % name) TemplateRuntimeError: no test named 'equalto' fatal: [localhost]: FAILED! => { ""msg"": ""Unexpected failure during module execution."", ""stdout"": """" } PLAY RECAP ************************************************************************************************************************************************************** localhost : ok=24 changed=8 unreachable=0 failed=1 skipped=68 rescued=0 ignored=1 ``` I suspect that the Jinja2 version is too old to support 'equalto' ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> config-file",no-bug,0.9
5878,awx,https://github.com/ansible/awx/issues/5878,Add Approval-Node-Handling to workflow.py,"##### ISSUE TYPE - Feature Idea ##### SUMMARY As approval nodes are a welcome addition to workflows in AWX they should be usable via awx-cli and Ansible module tower_workflow_template. Currently awx-cli generates this output on getting a schema with at least one Approval-Node: ```bash $ awx-cli workflow schema 67 *** DETAILS: Getting records. ************************************************* GET https://<host>/api/v2/workflow_job_template_nodes/ Params: [('workflow_job_template', 67)] Traceback (most recent call last): File ""/home/<user>/.local/bin/awx-cli"", line 11, in <module> load_entry_point('ansible-tower-cli==3.3.7', 'console_scripts', 'awx-cli')() File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 764, in __call__ return self.main(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 717, in main rv = self.invoke(ctx) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/cli/base.py"", line 129, in invoke return super(TowerCLI, self).invoke(ctx) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 1137, in invoke return _process_result(sub_ctx.command.invoke(sub_ctx)) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 1137, in invoke return _process_result(sub_ctx.command.invoke(sub_ctx)) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 956, in invoke return ctx.invoke(self.callback, **ctx.params) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 555, in invoke return callback(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/conf.py"", line 373, in method_with_context_managed method(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/cli/resource.py"", line 107, in func result = method(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 286, in schema existing_network = self._get_schema(wfjt) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 261, in _get_schema return self._workflow_node_structure(node_results) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 250, in _workflow_node_structure schema_dict.append(branch_schema(root_node_id)) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 245, in branch_schema branch_schema(sub_node_id)) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 233, in branch_schema ujt_key = JOB_TYPES[job_type] KeyError: u'workflow_approval' ```",config-file,"Add Approval-Node-Handling to workflow.py ##### ISSUE TYPE - Feature Idea ##### SUMMARY As approval nodes are a welcome addition to workflows in AWX they should be usable via awx-cli and Ansible module tower_workflow_template. Currently awx-cli generates this output on getting a schema with at least one Approval-Node: ```bash $ awx-cli workflow schema 67 *** DETAILS: Getting records. ************************************************* GET https://<host>/api/v2/workflow_job_template_nodes/ Params: [('workflow_job_template', 67)] Traceback (most recent call last): File ""/home/<user>/.local/bin/awx-cli"", line 11, in <module> load_entry_point('ansible-tower-cli==3.3.7', 'console_scripts', 'awx-cli')() File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 764, in __call__ return self.main(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 717, in main rv = self.invoke(ctx) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/cli/base.py"", line 129, in invoke return super(TowerCLI, self).invoke(ctx) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 1137, in invoke return _process_result(sub_ctx.command.invoke(sub_ctx)) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 1137, in invoke return _process_result(sub_ctx.command.invoke(sub_ctx)) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 956, in invoke return ctx.invoke(self.callback, **ctx.params) File ""/home/<user>/.local/lib/python2.7/site-packages/click/core.py"", line 555, in invoke return callback(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/conf.py"", line 373, in method_with_context_managed method(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/cli/resource.py"", line 107, in func result = method(*args, **kwargs) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 286, in schema existing_network = self._get_schema(wfjt) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 261, in _get_schema return self._workflow_node_structure(node_results) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 250, in _workflow_node_structure schema_dict.append(branch_schema(root_node_id)) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 245, in branch_schema branch_schema(sub_node_id)) File ""/home/<user>/.local/lib/python2.7/site-packages/tower_cli/resources/workflow.py"", line 233, in branch_schema ujt_key = JOB_TYPES[job_type] KeyError: u'workflow_approval' ``` config-file",no-bug,0.8
5039,awx,https://github.com/ansible/awx/issues/5039,Outlier role association/disassociation activity stream entries when changed project's organization,"##### ISSUE TYPE - Bug Report ##### SUMMARY If you change the organization of the project, is shows changes in some roles, but not other roles. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: N/A * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Modify the organization of a project. Check the activity stream. ##### EXPECTED RESULTS 1 entry that the organization of the project was changed. That permissions also change is implied. ##### ACTUAL RESULTS 2 additional unexpected entries ![Screen Shot 2019-10-18 at 11 21 04 AM](https://user-images.githubusercontent.com/1385596/67107013-a27e7e80-f199-11e9-8983-56ce9f00d5ef.png) ##### ADDITIONAL INFORMATION Some content of one of those unwanted entries ```json { ""action"": ""disassociate"", ""object1"": ""project"", ""object1_pk"": 25, ""object2"": ""organization"", ""object2_pk"": 163, ""relationship"": ""awx.main.models.rbac.Role_parents"" } ```",source-file,"Outlier role association/disassociation activity stream entries when changed project's organization ##### ISSUE TYPE - Bug Report ##### SUMMARY If you change the organization of the project, is shows changes in some roles, but not other roles. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: N/A * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Modify the organization of a project. Check the activity stream. ##### EXPECTED RESULTS 1 entry that the organization of the project was changed. That permissions also change is implied. ##### ACTUAL RESULTS 2 additional unexpected entries ![Screen Shot 2019-10-18 at 11 21 04 AM](https://user-images.githubusercontent.com/1385596/67107013-a27e7e80-f199-11e9-8983-56ce9f00d5ef.png) ##### ADDITIONAL INFORMATION Some content of one of those unwanted entries ```json { ""action"": ""disassociate"", ""object1"": ""project"", ""object1_pk"": 25, ""object2"": ""organization"", ""object2_pk"": 163, ""relationship"": ""awx.main.models.rbac.Role_parents"" } ``` source-file",no-bug,0.8
11987,awx,https://github.com/ansible/awx/issues/11987,Project status in jobs it's wrong,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Hello when job fail with project update error , the status of sync project is wrong in UI In output job ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 449, in run self.pre_run_hook(self.instance, private_data_dir) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 955, in pre_run_hook sync_task.run(local_project_sync.id) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 92, in _wrapped return f(self, *args, **kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 604, in run raise AwxTaskError.TaskError(self.instance, rc) Exception: project_update 443522 (failed) encountered an error (rc=None), please see task stdout for details. ``` In job details ui <img width=""211"" alt=""image"" src=""https://user-images.githubusercontent.com/27526373/161085818-6ecc265c-7ac8-4df4-8ab6-3b708d7dc688.png""> in project ui <img width=""307"" alt=""image"" src=""https://user-images.githubusercontent.com/27526373/161085668-e85bd62d-009e-4276-984c-34305b835a68.png""> ### AWX version 20.0.0 ### Select the relevant components - [X] UI - [x] API - [ ] Docs ### Installation method kubernetes ### Modifications no ### Ansible version 2.9.9 ### Operating system redhat ### Web browser Chrome ### Steps to reproduce launch job with sync project or override branch scm ### Expected results good status in job details ### Actual results wrong status ### Additional information _No response_",source-file | source-file | test-file | source-file | source-file | test-file,"Project status in jobs it's wrong ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary Hello when job fail with project update error , the status of sync project is wrong in UI In output job ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 449, in run self.pre_run_hook(self.instance, private_data_dir) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 955, in pre_run_hook sync_task.run(local_project_sync.id) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 92, in _wrapped return f(self, *args, **kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/tasks/jobs.py"", line 604, in run raise AwxTaskError.TaskError(self.instance, rc) Exception: project_update 443522 (failed) encountered an error (rc=None), please see task stdout for details. ``` In job details ui <img width=""211"" alt=""image"" src=""https://user-images.githubusercontent.com/27526373/161085818-6ecc265c-7ac8-4df4-8ab6-3b708d7dc688.png""> in project ui <img width=""307"" alt=""image"" src=""https://user-images.githubusercontent.com/27526373/161085668-e85bd62d-009e-4276-984c-34305b835a68.png""> ### AWX version 20.0.0 ### Select the relevant components - [X] UI - [x] API - [ ] Docs ### Installation method kubernetes ### Modifications no ### Ansible version 2.9.9 ### Operating system redhat ### Web browser Chrome ### Steps to reproduce launch job with sync project or override branch scm ### Expected results good status in job details ### Actual results wrong status ### Additional information _No response_ source-file source-file test-file source-file source-file test-file",no-bug,0.8
9432,awx,https://github.com/ansible/awx/issues/9432,Execution environment details view missing organization,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY The `Organization` information is not present on details view for an Execution Environment ##### STEPS TO REPRODUCE 1. Create an EE with organization 2. Navigate to details view ##### EXPECTED RESULTS The organization assosiated should be displayed ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ![image](https://user-images.githubusercontent.com/12464858/109512799-3ac18e80-7a83-11eb-83ed-e0713922b2ba.png) ![image](https://user-images.githubusercontent.com/12464858/109512832-41500600-7a83-11eb-9bb7-4f7af99948be.png)",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Execution environment details view missing organization <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY The `Organization` information is not present on details view for an Execution Environment ##### STEPS TO REPRODUCE 1. Create an EE with organization 2. Navigate to details view ##### EXPECTED RESULTS The organization assosiated should be displayed ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ![image](https://user-images.githubusercontent.com/12464858/109512799-3ac18e80-7a83-11eb-83ed-e0713922b2ba.png) ![image](https://user-images.githubusercontent.com/12464858/109512832-41500600-7a83-11eb-9bb7-4f7af99948be.png) other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.8
10057,awx,https://github.com/ansible/awx/issues/10057,tower_workflow_job_template not changing ask_limit_on_launch,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY When using tower_workflow_job_template to change ask_limit_on_launch the module is reporting OK and does not do the change. ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: docker on linux * Ansible version: 2.10 * Operating System: SLES * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Create a workflow template and set ask_limit_on_launch to true 2. Use the tower_workflow_job_template module to change ask_limit_on_launch to false ##### EXPECTED RESULTS - Module should report change - Workflow template should have ask_limit_on_launch set to false ##### ACTUAL RESULTS - Module reports OK - Workflow template have ask_limit_on_launch set to true ##### ADDITIONAL INFORMATION I am using the following task: ```yaml - name: Create a workflow job template awx.awx.tower_workflow_job_template: name: ""{{ item.name }}"" description: ""{{ item.description }}"" organization: ""{{ item.organization }}"" survey_enabled: ""{{ item.survey_enabled|default('no') }}"" ask_limit_on_launch: ""{{ item.ask_limit_on_launch|default('no') }}"" notification_templates_success: ""{{ item.notification_templates_success|default(omit) }}"" notification_templates_error: ""{{ item.notification_templates_error|default(omit) }}"" tower_host: ""{{ tower_host }}"" tower_username: ""{{ tower_username }}"" tower_password: ""{{ tower_password }}"" validate_certs: ""{{ validate_certs }}"" loop: ""{{ workflow_templates }}"" ``` with the following input: ```yaml workflow_templates: - name: ""Update the inventory"" description: ""Update the inventory"" organization: ""myOrg"" notification_templates_success: - ""Mail"" notification_templates_error: - ""Mail"" ```",source-file | test-file,"tower_workflow_job_template not changing ask_limit_on_launch <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY When using tower_workflow_job_template to change ask_limit_on_launch the module is reporting OK and does not do the change. ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: docker on linux * Ansible version: 2.10 * Operating System: SLES * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Create a workflow template and set ask_limit_on_launch to true 2. Use the tower_workflow_job_template module to change ask_limit_on_launch to false ##### EXPECTED RESULTS - Module should report change - Workflow template should have ask_limit_on_launch set to false ##### ACTUAL RESULTS - Module reports OK - Workflow template have ask_limit_on_launch set to true ##### ADDITIONAL INFORMATION I am using the following task: ```yaml - name: Create a workflow job template awx.awx.tower_workflow_job_template: name: ""{{ item.name }}"" description: ""{{ item.description }}"" organization: ""{{ item.organization }}"" survey_enabled: ""{{ item.survey_enabled|default('no') }}"" ask_limit_on_launch: ""{{ item.ask_limit_on_launch|default('no') }}"" notification_templates_success: ""{{ item.notification_templates_success|default(omit) }}"" notification_templates_error: ""{{ item.notification_templates_error|default(omit) }}"" tower_host: ""{{ tower_host }}"" tower_username: ""{{ tower_username }}"" tower_password: ""{{ tower_password }}"" validate_certs: ""{{ validate_certs }}"" loop: ""{{ workflow_templates }}"" ``` with the following input: ```yaml workflow_templates: - name: ""Update the inventory"" description: ""Update the inventory"" organization: ""myOrg"" notification_templates_success: - ""Mail"" notification_templates_error: - ""Mail"" ``` source-file test-file",no-bug,0.8
4474,awx,https://github.com/ansible/awx/issues/4474,Regular list search bar takes up entire width,"##### ISSUE TYPE - Bug Report ##### SUMMARY I suspect this may have been introduced when https://github.com/ansible/awx/pull/4324 merged. For modals we do want the search bar to take up the whole width but for regular lists we don't. <img width=""1489"" alt=""Screen Shot 2019-08-13 at 2 13 47 PM"" src=""https://user-images.githubusercontent.com/9889020/62966262-ab875400-bdd4-11e9-893f-f0325ed5f00f.png""> [Here's what the templates list should look like.](https://tower-mockups.testing.ansible.com/patternfly/templates/templates/)",source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | config-file | documentation-file,"Regular list search bar takes up entire width ##### ISSUE TYPE - Bug Report ##### SUMMARY I suspect this may have been introduced when https://github.com/ansible/awx/pull/4324 merged. For modals we do want the search bar to take up the whole width but for regular lists we don't. <img width=""1489"" alt=""Screen Shot 2019-08-13 at 2 13 47 PM"" src=""https://user-images.githubusercontent.com/9889020/62966262-ab875400-bdd4-11e9-893f-f0325ed5f00f.png""> [Here's what the templates list should look like.](https://tower-mockups.testing.ansible.com/patternfly/templates/templates/) source-file source-file test-file test-file test-file test-file test-file test-file test-file config-file documentation-file",no-bug,0.9
5349,awx,https://github.com/ansible/awx/issues/5349,Tuesday is not Tueday in selection,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> At schedule creation screen, Tuesday is `Tueday` in selection. ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: docker for mac ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Select a job template -> go to `SCHEDULES` tab -> press `+` button -> select `REPEAT FREQUENCY` to `Month` -> select `ON THE` Tuesday ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Tuesday ##### ACTUAL RESULTS <!-- What actually happened? --> <img width=""1133"" alt="" 2019-11-19 18 25 20"" src=""https://user-images.githubusercontent.com/2234991/69145497-143b4680-0b11-11ea-8bee-0ac74ccf9f1c.png""> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",config-file,"Tuesday is not Tueday in selection ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> At schedule creation screen, Tuesday is `Tueday` in selection. ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: docker for mac ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Select a job template -> go to `SCHEDULES` tab -> press `+` button -> select `REPEAT FREQUENCY` to `Month` -> select `ON THE` Tuesday ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Tuesday ##### ACTUAL RESULTS <!-- What actually happened? --> <img width=""1133"" alt="" 2019-11-19 18 25 20"" src=""https://user-images.githubusercontent.com/2234991/69145497-143b4680-0b11-11ea-8bee-0ac74ccf9f1c.png""> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> config-file",no-bug,0.9
5099,awx,https://github.com/ansible/awx/issues/5099,Default for webhook_service is not in field choices and not accepted,"##### ISSUE TYPE - Bug Report ##### SUMMARY The OPTIONS for job_templates is not self-consistent for the field `webhook_service`. This breaks the `tower-cli send` command, assuming the data comes from the receive command. A hack is in progress for this, but it would be better to change behavior from API moving forward. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: N/A * Ansible version: N/A * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Of particular interest here is the sequence of `tower-cli receive`, saving that to a file, and using it in `tower-cli send`. ##### EXPECTED RESULTS Data given from the API is consistent with OPTIONS ##### ACTUAL RESULTS OPTIONS for job_templates gives ```json ""webhook_service"": { ""type"": ""choice"", ""label"": ""Webhook service"", ""help_text"": ""Service that webhook requests will be accepted from"", ""filterable"": true, ""choices"": [ [ ""github"", ""GitHub"" ], [ ""gitlab"", ""GitLab"" ] ] ``` The receive command always gives `webhook_credential` in the asset data because it has no default. Without a default, it cannot be determined if the field has been set. The send command gives ``` JOB TEMPLATE [SRtest] *************************************************************************************************************************************************************** Value is not a valid choice for option webhook_service for job_template SRtest. Options: ['github', 'GitHub', 'gitlab', 'GitLab'] ``` ##### ADDITIONAL INFORMATION https://github.com/ansible/tower-cli/pull/741 Ping @jbradberry, @john-westcott-iv In terms of CLI design in general, @ryanpetrello I find the ability to determine if a field has a non-default value is a powerful tool. This is one of the things I most like about the send/receive commands. I would even prefer that for compact representations of resources for human consumption.",source-file,"Default for webhook_service is not in field choices and not accepted ##### ISSUE TYPE - Bug Report ##### SUMMARY The OPTIONS for job_templates is not self-consistent for the field `webhook_service`. This breaks the `tower-cli send` command, assuming the data comes from the receive command. A hack is in progress for this, but it would be better to change behavior from API moving forward. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: N/A * Ansible version: N/A * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Of particular interest here is the sequence of `tower-cli receive`, saving that to a file, and using it in `tower-cli send`. ##### EXPECTED RESULTS Data given from the API is consistent with OPTIONS ##### ACTUAL RESULTS OPTIONS for job_templates gives ```json ""webhook_service"": { ""type"": ""choice"", ""label"": ""Webhook service"", ""help_text"": ""Service that webhook requests will be accepted from"", ""filterable"": true, ""choices"": [ [ ""github"", ""GitHub"" ], [ ""gitlab"", ""GitLab"" ] ] ``` The receive command always gives `webhook_credential` in the asset data because it has no default. Without a default, it cannot be determined if the field has been set. The send command gives ``` JOB TEMPLATE [SRtest] *************************************************************************************************************************************************************** Value is not a valid choice for option webhook_service for job_template SRtest. Options: ['github', 'GitHub', 'gitlab', 'GitLab'] ``` ##### ADDITIONAL INFORMATION https://github.com/ansible/tower-cli/pull/741 Ping @jbradberry, @john-westcott-iv In terms of CLI design in general, @ryanpetrello I find the ability to determine if a field has a non-default value is a powerful tool. This is one of the things I most like about the send/receive commands. I would even prefer that for compact representations of resources for human consumption. source-file",bug,0.9
10138,awx,https://github.com/ansible/awx/issues/10138,"Activity stream menu gives ""object Object"" in summary","##### ISSUE TYPE - Bug Report ##### SUMMARY If I change the survey of a job template and then view the activity stream, the diff doesn't render in the popup box. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: N/A * Ansible version: X.Y.Z * Operating System: * Web Browser: Chrome ##### STEPS TO REPRODUCE On development, I did `make ui-devel` before reproducing this. I edit the survey of a job template and then view its activity stream entry in the UI. ##### EXPECTED RESULTS I expect the details that are given in the details from the API. The UI makes a request to this endpoint and gets this data: https://localhost:8043/api/v2/activity_stream/?order_by=-timestamp&page=1&page_size=20 ```json { ""count"": 809, ""next"": ""/api/v2/activity_stream/?order_by=-timestamp&page=2&page_size=20"", ""previous"": null, ""results"": [ { ""id"": 809, ""type"": ""activity_stream"", ""url"": ""/api/v2/activity_stream/809/"", ""related"": { ""actor"": ""/api/v2/users/2/"", ""job_template"": [ ""/api/v2/job_templates/230/"" ] }, ""summary_fields"": { ""job_template"": [ { ""id"": 230, ""name"": ""jt_for_survey_test"", ""description"": """" } ], ""actor"": { ""id"": 2, ""username"": ""alan"", ""first_name"": """", ""last_name"": """" } }, ""timestamp"": ""2021-05-07T13:23:30.530515Z"", ""operation"": ""update"", ""changes"": { ""survey_spec"": [ ""{\""name\"": \""\"", \""description\"": \""\"", \""spec\"": [{\""question_name\"": \""Q1\"", \""question_description\"": \""The first question\"", \""required\"": true, \""type\"": \""text\"", \""variable\"": \""q1\"", \""min\"": 5, \""max\"": 15, \""default\"": \""hello\"", \""choices\"": \""\""}]}"", ""{\""name\"": \""\"", \""description\"": \""\"", \""spec\"": [{\""question_name\"": \""Q1\"", \""question_description\"": \""The first question\"", \""required\"": true, \""type\"": \""text\"", \""variable\"": \""q1\"", \""min\"": 5, \""max\"": 15, \""default\"": \""hello\"", \""choices\"": \""\""}, {\""question_name\"": \""Q2\"", \""type\"": \""text\"", \""variable\"": \""q2\"", \""required\"": false}]}"" ] }, ""object1"": ""job_template"", ""object2"": """", ""object_association"": """", ""action_node"": ""awx_1"", ""object_type"": """" }, <snip> ``` ##### ACTUAL RESULTS ![Screenshot from 2021-05-07 09-28-42](https://user-images.githubusercontent.com/1385596/117457148-f3d69600-af16-11eb-955f-5eb658f6e23b.png) ##### ADDITIONAL INFORMATION I really can't find anything relevant in the UI console.",other-file | test-file,"Activity stream menu gives ""object Object"" in summary ##### ISSUE TYPE - Bug Report ##### SUMMARY If I change the survey of a job template and then view the activity stream, the diff doesn't render in the popup box. ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: N/A * Ansible version: X.Y.Z * Operating System: * Web Browser: Chrome ##### STEPS TO REPRODUCE On development, I did `make ui-devel` before reproducing this. I edit the survey of a job template and then view its activity stream entry in the UI. ##### EXPECTED RESULTS I expect the details that are given in the details from the API. The UI makes a request to this endpoint and gets this data: https://localhost:8043/api/v2/activity_stream/?order_by=-timestamp&page=1&page_size=20 ```json { ""count"": 809, ""next"": ""/api/v2/activity_stream/?order_by=-timestamp&page=2&page_size=20"", ""previous"": null, ""results"": [ { ""id"": 809, ""type"": ""activity_stream"", ""url"": ""/api/v2/activity_stream/809/"", ""related"": { ""actor"": ""/api/v2/users/2/"", ""job_template"": [ ""/api/v2/job_templates/230/"" ] }, ""summary_fields"": { ""job_template"": [ { ""id"": 230, ""name"": ""jt_for_survey_test"", ""description"": """" } ], ""actor"": { ""id"": 2, ""username"": ""alan"", ""first_name"": """", ""last_name"": """" } }, ""timestamp"": ""2021-05-07T13:23:30.530515Z"", ""operation"": ""update"", ""changes"": { ""survey_spec"": [ ""{\""name\"": \""\"", \""description\"": \""\"", \""spec\"": [{\""question_name\"": \""Q1\"", \""question_description\"": \""The first question\"", \""required\"": true, \""type\"": \""text\"", \""variable\"": \""q1\"", \""min\"": 5, \""max\"": 15, \""default\"": \""hello\"", \""choices\"": \""\""}]}"", ""{\""name\"": \""\"", \""description\"": \""\"", \""spec\"": [{\""question_name\"": \""Q1\"", \""question_description\"": \""The first question\"", \""required\"": true, \""type\"": \""text\"", \""variable\"": \""q1\"", \""min\"": 5, \""max\"": 15, \""default\"": \""hello\"", \""choices\"": \""\""}, {\""question_name\"": \""Q2\"", \""type\"": \""text\"", \""variable\"": \""q2\"", \""required\"": false}]}"" ] }, ""object1"": ""job_template"", ""object2"": """", ""object_association"": """", ""action_node"": ""awx_1"", ""object_type"": """" }, <snip> ``` ##### ACTUAL RESULTS ![Screenshot from 2021-05-07 09-28-42](https://user-images.githubusercontent.com/1385596/117457148-f3d69600-af16-11eb-955f-5eb658f6e23b.png) ##### ADDITIONAL INFORMATION I really can't find anything relevant in the UI console. other-file test-file",no-bug,0.8
9628,awx,https://github.com/ansible/awx/issues/9628,Filter by container registry credential to be associated with EE,##### ISSUE TYPE - Feature Idea ##### SUMMARY Filter by container registry credential to be associated with EE,test-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | source-file | source-file | source-file,Filter by container registry credential to be associated with EE ##### ISSUE TYPE - Feature Idea ##### SUMMARY Filter by container registry credential to be associated with EE test-file test-file other-file test-file test-file test-file other-file test-file test-file test-file other-file test-file test-file test-file other-file test-file source-file source-file source-file,no-bug,0.9
8467,awx,https://github.com/ansible/awx/issues/8467,Remove activity for inventory details page,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove activity for inventory details page. Currently is stated as `Coming soon`. <img width=""1491"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/97329469-733f2a80-184d-11eb-975e-fd7690a80fa1.png""> This information is already present on the `Completed jobs` tab. It was decided to remove from details page.",test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Remove activity for inventory details page ##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove activity for inventory details page. Currently is stated as `Coming soon`. <img width=""1491"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/97329469-733f2a80-184d-11eb-975e-fd7690a80fa1.png""> This information is already present on the `Completed jobs` tab. It was decided to remove from details page. test-file other-file test-file other-file test-file other-file test-file",no-bug,0.9
10514,awx,https://github.com/ansible/awx/issues/10514,Add job cancel button to Workflow Job Output Screen,"On the job output screen of a Workflow, I am suggesting that a cancel button be added there. ![image](https://user-images.githubusercontent.com/63685497/123325647-45a6a000-d506-11eb-9ee4-8efc4f0063a9.png)",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"Add job cancel button to Workflow Job Output Screen On the job output screen of a Workflow, I am suggesting that a cancel button be added there. ![image](https://user-images.githubusercontent.com/63685497/123325647-45a6a000-d506-11eb-9ee4-8efc4f0063a9.png) source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.9
8145,awx,https://github.com/ansible/awx/issues/8145,Database deadlock when running Facts job,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY An AWX database deadlock occurs when facts jobs (package facts and gather facts) are running in slices with 4,000 targets. ##### ENVIRONMENT * AWX version: 13.0 * AWX install method: developed Ansible playbook * Ansible version: 2.9.11 * Operating System: RHEL 7 * Web Browser: Chromium Edge ##### STEPS TO REPRODUCE The issue happens every time we run a playbook with this specific set of tasks: ``` --- - name: Collect Package Facts package_facts: manager: ""auto"" tags: - gather-facts - name: Collect All Facts setup: gather_subset: all tags: - gather-facts ``` More details will be added to this case as they are gathered ##### EXPECTED RESULTS - No deadlock when running facts job - Successfully receive EOF event. ##### ACTUAL RESULTS - Deadlock occurs when running facts job - No EOF event received. Example query used: ``` UPDATE ""main_host"" SET ""last_job_id"" = (CASE WHEN (""main_host"".""id"" = 8750) THEN 252213 WHEN (""main_host"".""id"" = 8543) THEN 252212 WHEN (""main_host"".""id"" = 2245) THEN 252211 WHEN (""main_host"".""id"" = 2246) THEN 252210 WHEN (""main_host"".""id"" = 3554) THEN 252268 WHEN (""main_host"".""id"" = 3553) THEN 252208 WHEN (""main_host"".""id"" = 3541) THEN 252207 WHEN (""main_host"".""id"" = 3542) THEN 252269 WHEN (""main_host"".""id"" = 428) THEN 252205 WHEN (""main_host"".""id"" = 651) THEN 252204 WHEN (""main_host"".""id"" = 10030) THEN 252203 WHEN (""main_host"".""id"" = 511) THEN 252202 WHEN (""main_host "".""id"" = 429) THEN 252213 WHEN (""main_host"".""id"" = 512) THEN 252212 WHEN (""main_host"".""id"" = 294) THEN 252211 WHEN (""main_host"".""id"" = 295) THEN 252210 WHEN (""main_host"".""id"" = 296) THEN 252268 WHEN (""main_host"".""id"" = 335) THEN 252208 WHEN (""main_host"".""id"" = 430) THEN 252207 WHEN (""main_host"".""id"" = 539) THEN 252269 WHEN (""main_host"".""id"" = 297) THEN 252205 WHEN (""main_host"".""id"" = 720) THEN 252204 WHEN (""main_host"".""id"" = 710) THEN 252203 WH | 29194 | UPDATE ""main_host"" SET ""last_job_id"" = (CASE WHEN (""main_host"".""id"" = 8750) THEN 252213 WHEN (""main_host"".""id"" = 8543) THEN 25221 2 WHEN (""main_host"".""id"" = 2245) THEN 252211 WHEN (""main_host"".""id"" = 2246) THEN 252210 WHEN (""main_host"".""id"" = 3554) THEN 252268 WHEN (""main_host"".""id"" = 3553) THEN 252208 WHEN (""main_host"".""id"" = 3541) THEN 252207 WHEN (""main_host"".""id"" = 3542) THEN 248644 WHEN (""main_host"".""id"" = 428) THEN 252205 WHEN (""main_host"".""id"" = 651) THEN 252204 WHEN (""main_host"".""id"" = 10030) THEN 252203 WHEN (""m ain_host"".""id"" = 511) THEN 252202 WHEN (""main_host"".""id"" = 429) THEN 252213 ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> Screenshot showing job status of Successful, but also showing JOB IS STILL RUNNING ![image](https://user-images.githubusercontent.com/49697233/93223653-4bcd4c00-f73e-11ea-8731-b7e054ba7615.png) django dump: ``` django.db.utils.OperationalError: deadlock detected DETAIL: Process 1412 waits for ShareLock on transaction 612485542; blocked by process 26582. Process 26582 waits for ShareLock on transaction 612803038; blocked by process 1412. HINT: See server log for query details. CONTEXT: while deleting tuple (4244,46) in relation ""main_host"" During handling of the above exception, another exception occurred: ```",source-file | source-file,"Database deadlock when running Facts job <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY An AWX database deadlock occurs when facts jobs (package facts and gather facts) are running in slices with 4,000 targets. ##### ENVIRONMENT * AWX version: 13.0 * AWX install method: developed Ansible playbook * Ansible version: 2.9.11 * Operating System: RHEL 7 * Web Browser: Chromium Edge ##### STEPS TO REPRODUCE The issue happens every time we run a playbook with this specific set of tasks: ``` --- - name: Collect Package Facts package_facts: manager: ""auto"" tags: - gather-facts - name: Collect All Facts setup: gather_subset: all tags: - gather-facts ``` More details will be added to this case as they are gathered ##### EXPECTED RESULTS - No deadlock when running facts job - Successfully receive EOF event. ##### ACTUAL RESULTS - Deadlock occurs when running facts job - No EOF event received. Example query used: ``` UPDATE ""main_host"" SET ""last_job_id"" = (CASE WHEN (""main_host"".""id"" = 8750) THEN 252213 WHEN (""main_host"".""id"" = 8543) THEN 252212 WHEN (""main_host"".""id"" = 2245) THEN 252211 WHEN (""main_host"".""id"" = 2246) THEN 252210 WHEN (""main_host"".""id"" = 3554) THEN 252268 WHEN (""main_host"".""id"" = 3553) THEN 252208 WHEN (""main_host"".""id"" = 3541) THEN 252207 WHEN (""main_host"".""id"" = 3542) THEN 252269 WHEN (""main_host"".""id"" = 428) THEN 252205 WHEN (""main_host"".""id"" = 651) THEN 252204 WHEN (""main_host"".""id"" = 10030) THEN 252203 WHEN (""main_host"".""id"" = 511) THEN 252202 WHEN (""main_host "".""id"" = 429) THEN 252213 WHEN (""main_host"".""id"" = 512) THEN 252212 WHEN (""main_host"".""id"" = 294) THEN 252211 WHEN (""main_host"".""id"" = 295) THEN 252210 WHEN (""main_host"".""id"" = 296) THEN 252268 WHEN (""main_host"".""id"" = 335) THEN 252208 WHEN (""main_host"".""id"" = 430) THEN 252207 WHEN (""main_host"".""id"" = 539) THEN 252269 WHEN (""main_host"".""id"" = 297) THEN 252205 WHEN (""main_host"".""id"" = 720) THEN 252204 WHEN (""main_host"".""id"" = 710) THEN 252203 WH | 29194 | UPDATE ""main_host"" SET ""last_job_id"" = (CASE WHEN (""main_host"".""id"" = 8750) THEN 252213 WHEN (""main_host"".""id"" = 8543) THEN 25221 2 WHEN (""main_host"".""id"" = 2245) THEN 252211 WHEN (""main_host"".""id"" = 2246) THEN 252210 WHEN (""main_host"".""id"" = 3554) THEN 252268 WHEN (""main_host"".""id"" = 3553) THEN 252208 WHEN (""main_host"".""id"" = 3541) THEN 252207 WHEN (""main_host"".""id"" = 3542) THEN 248644 WHEN (""main_host"".""id"" = 428) THEN 252205 WHEN (""main_host"".""id"" = 651) THEN 252204 WHEN (""main_host"".""id"" = 10030) THEN 252203 WHEN (""m ain_host"".""id"" = 511) THEN 252202 WHEN (""main_host"".""id"" = 429) THEN 252213 ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> Screenshot showing job status of Successful, but also showing JOB IS STILL RUNNING ![image](https://user-images.githubusercontent.com/49697233/93223653-4bcd4c00-f73e-11ea-8731-b7e054ba7615.png) django dump: ``` django.db.utils.OperationalError: deadlock detected DETAIL: Process 1412 waits for ShareLock on transaction 612485542; blocked by process 26582. Process 26582 waits for ShareLock on transaction 612803038; blocked by process 1412. HINT: See server log for query details. CONTEXT: while deleting tuple (4244,46) in relation ""main_host"" During handling of the above exception, another exception occurred: ``` source-file source-file",no-bug,0.95
4908,awx,https://github.com/ansible/awx/issues/4908,adhoc commands run by container group don't cleanup job pod in k8s/openshift cluster,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of #4189 that will be resolved in follow up PR. Currently with the feature if you run an `ad_hoc_command` that gets deployed to a ContainerGroup, the job will run in a pod on the cluster but the pod is never cleaned up after the job runs or is canceled. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) create a working Container Group 2) Create an organization 3) Assign Container Group to organization as only instance group 4) Create inventory + one host (localhost is fine) 5) launch ad hoc command against host 6) see that job is spawned and runs 7) watch to see pod is never cleaned up ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Job runs + is cleaned up ##### ACTUAL RESULTS <!-- What actually happened? --> no clean up of pod ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> This also happens for canceled ad hoc commands",source-file | source-file,"adhoc commands run by container group don't cleanup job pod in k8s/openshift cluster ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of #4189 that will be resolved in follow up PR. Currently with the feature if you run an `ad_hoc_command` that gets deployed to a ContainerGroup, the job will run in a pod on the cluster but the pod is never cleaned up after the job runs or is canceled. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) create a working Container Group 2) Create an organization 3) Assign Container Group to organization as only instance group 4) Create inventory + one host (localhost is fine) 5) launch ad hoc command against host 6) see that job is spawned and runs 7) watch to see pod is never cleaned up ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Job runs + is cleaned up ##### ACTUAL RESULTS <!-- What actually happened? --> no clean up of pod ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> This also happens for canceled ad hoc commands source-file source-file",no-bug,0.9
10827,awx,https://github.com/ansible/awx/issues/10827,Workflow Node Convergence Doesn't Update Properly,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Between save the workflow node wizard (to close it) and actually saving/updating the workflow (when the request is made) the convergence data on the node does not get updated. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Create a workflow with at least 1 node. Save it and then go back to the workflow visualizer. Now go and edit that node to change the convergence status ### Expected results Once the wizard is save, the convergence tag on the node and the convergence data inside the Info/View Modal should be updated ### Actual results The data at those points is not updating properly ### Additional information _No response_",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"Workflow Node Convergence Doesn't Update Properly ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Between save the workflow node wizard (to close it) and actually saving/updating the workflow (when the request is made) the convergence data on the node does not get updated. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Create a workflow with at least 1 node. Save it and then go back to the workflow visualizer. Now go and edit that node to change the convergence status ### Expected results Once the wizard is save, the convergence tag on the node and the convergence data inside the Info/View Modal should be updated ### Actual results The data at those points is not updating properly ### Additional information _No response_ source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.8
6493,awx,https://github.com/ansible/awx/issues/6493,DB Errors 10.0.0 Post Upgrade,"##### ISSUE TYPE - Bug Report ##### SUMMARY Database errors following 10.0.0 upgrade ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: kubernetes * Ansible version: 2.9.0 * Operating System: Ubuntu (Docker Host Base) * Web Browser: Chrome Latest ##### STEPS TO REPRODUCE Run AWX Upgrade from 9.3.0 - 10.0.0 Load AWX homepage (following login) View Postgres DB Logs ##### EXPECTED RESULTS No Database errors ##### ACTUAL RESULTS DB Errors as follows: 2020-03-31 02:20:25.892 GMT [237] ERROR: relation ""_old_main_jobevent"" does not exist at character 21 2020-03-31 02:20:25.892 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_jobevent 2020-03-31 02:20:25.893 GMT [237] ERROR: relation ""_old_main_inventoryupdateevent"" does not exist at character 21 2020-03-31 02:20:25.893 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_inventoryupdateevent 2020-03-31 02:20:25.893 GMT [237] ERROR: relation ""_old_main_projectupdateevent"" does not exist at character 21 2020-03-31 02:20:25.893 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_projectupdateevent 2020-03-31 02:20:25.894 GMT [237] ERROR: relation ""_old_main_adhoccommandevent"" does not exist at character 21 2020-03-31 02:20:25.894 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_adhoccommandevent 2020-03-31 02:20:25.895 GMT [237] ERROR: relation ""_old_main_systemjobevent"" does not exist at character 21 2020-03-31 02:20:25.895 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_systemjobevent 2020-03-31 02:20:38.210 GMT [259] ERROR: relation ""_old_main_jobevent"" does not exist at character 21 2020-03-31 02:20:38.210 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_jobevent 2020-03-31 02:20:38.211 GMT [259] ERROR: relation ""_old_main_inventoryupdateevent"" does not exist at character 21 2020-03-31 02:20:38.211 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_inventoryupdateevent 2020-03-31 02:20:38.212 GMT [259] ERROR: relation ""_old_main_projectupdateevent"" does not exist at character 21 2020-03-31 02:20:38.212 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_projectupdateevent 2020-03-31 02:20:38.212 GMT [259] ERROR: relation ""_old_main_adhoccommandevent"" does not exist at character 21 2020-03-31 02:20:38.212 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_adhoccommandevent 2020-03-31 02:20:38.213 GMT [259] ERROR: relation ""_old_main_systemjobevent"" does not exist at character 21 2020-03-31 02:20:38.213 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_systemjobevent ##### ADDITIONAL INFORMATION Appears a lookup or somethign hasnt been removed in v10.0.0. Let me know if you want any additional info. will get it to you asap :)",source-file,"DB Errors 10.0.0 Post Upgrade ##### ISSUE TYPE - Bug Report ##### SUMMARY Database errors following 10.0.0 upgrade ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: kubernetes * Ansible version: 2.9.0 * Operating System: Ubuntu (Docker Host Base) * Web Browser: Chrome Latest ##### STEPS TO REPRODUCE Run AWX Upgrade from 9.3.0 - 10.0.0 Load AWX homepage (following login) View Postgres DB Logs ##### EXPECTED RESULTS No Database errors ##### ACTUAL RESULTS DB Errors as follows: 2020-03-31 02:20:25.892 GMT [237] ERROR: relation ""_old_main_jobevent"" does not exist at character 21 2020-03-31 02:20:25.892 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_jobevent 2020-03-31 02:20:25.893 GMT [237] ERROR: relation ""_old_main_inventoryupdateevent"" does not exist at character 21 2020-03-31 02:20:25.893 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_inventoryupdateevent 2020-03-31 02:20:25.893 GMT [237] ERROR: relation ""_old_main_projectupdateevent"" does not exist at character 21 2020-03-31 02:20:25.893 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_projectupdateevent 2020-03-31 02:20:25.894 GMT [237] ERROR: relation ""_old_main_adhoccommandevent"" does not exist at character 21 2020-03-31 02:20:25.894 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_adhoccommandevent 2020-03-31 02:20:25.895 GMT [237] ERROR: relation ""_old_main_systemjobevent"" does not exist at character 21 2020-03-31 02:20:25.895 GMT [237] STATEMENT: SELECT MAX(id) FROM _old_main_systemjobevent 2020-03-31 02:20:38.210 GMT [259] ERROR: relation ""_old_main_jobevent"" does not exist at character 21 2020-03-31 02:20:38.210 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_jobevent 2020-03-31 02:20:38.211 GMT [259] ERROR: relation ""_old_main_inventoryupdateevent"" does not exist at character 21 2020-03-31 02:20:38.211 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_inventoryupdateevent 2020-03-31 02:20:38.212 GMT [259] ERROR: relation ""_old_main_projectupdateevent"" does not exist at character 21 2020-03-31 02:20:38.212 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_projectupdateevent 2020-03-31 02:20:38.212 GMT [259] ERROR: relation ""_old_main_adhoccommandevent"" does not exist at character 21 2020-03-31 02:20:38.212 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_adhoccommandevent 2020-03-31 02:20:38.213 GMT [259] ERROR: relation ""_old_main_systemjobevent"" does not exist at character 21 2020-03-31 02:20:38.213 GMT [259] STATEMENT: SELECT MAX(id) FROM _old_main_systemjobevent ##### ADDITIONAL INFORMATION Appears a lookup or somethign hasnt been removed in v10.0.0. Let me know if you want any additional info. will get it to you asap :) source-file",no-bug,0.9
10162,awx,https://github.com/ansible/awx/issues/10162,Convert OptionsList to use Paginated Table,##### ISSUE TYPE - Feature Idea ##### SUMMARY See #6189,test-file | test-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,Convert OptionsList to use Paginated Table ##### ISSUE TYPE - Feature Idea ##### SUMMARY See #6189 test-file test-file test-file other-file other-file test-file other-file test-file other-file test-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file,no-bug,0.9
4458,awx,https://github.com/ansible/awx/issues/4458,awx-manage (de)provision_instance issue,"##### ISSUE TYPE Issue with awx-manage provision_instance command (or deprovision_instance) ##### SUMMARY I would like manage my cluster with the below command but this one never ends... bash-4.2# awx-manage deprovision_instance --hostname=myHost Instance Removed /bin/sh: rabbitmqctl: command not found Node deprovisioning may have failed when attempting to remove the RabbitMQ instance myHost from the cluster (changed: True) 2019-08-12 10:59:28,113 DEBUG awx.main.dispatch publish awx.main.tasks.apply_cluster_membership_policies(a982e718-b977-4055-a989-d3e31c4122da, queue=awx_private_queue) sudo -s => Same result. It's seems to be an issue with RabbitMQ ? ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: docker on linux * Ansible version: 2.8.3 * Operating System: Ubuntu 16.04 * Web Browser: Firefox ##### STEPS TO REPRODUCE awx-manage deprovision_instance --hostname=myHost or awx-manage provision_instance --hostname=myHost ##### EXPECTED RESULTS The command must finish correctly to give me the prompt",source-file | source-file | source-file | source-file,"awx-manage (de)provision_instance issue ##### ISSUE TYPE Issue with awx-manage provision_instance command (or deprovision_instance) ##### SUMMARY I would like manage my cluster with the below command but this one never ends... bash-4.2# awx-manage deprovision_instance --hostname=myHost Instance Removed /bin/sh: rabbitmqctl: command not found Node deprovisioning may have failed when attempting to remove the RabbitMQ instance myHost from the cluster (changed: True) 2019-08-12 10:59:28,113 DEBUG awx.main.dispatch publish awx.main.tasks.apply_cluster_membership_policies(a982e718-b977-4055-a989-d3e31c4122da, queue=awx_private_queue) sudo -s => Same result. It's seems to be an issue with RabbitMQ ? ##### ENVIRONMENT * AWX version: 6.1.0 * AWX install method: docker on linux * Ansible version: 2.8.3 * Operating System: Ubuntu 16.04 * Web Browser: Firefox ##### STEPS TO REPRODUCE awx-manage deprovision_instance --hostname=myHost or awx-manage provision_instance --hostname=myHost ##### EXPECTED RESULTS The command must finish correctly to give me the prompt source-file source-file source-file source-file",no-bug,0.9
8660,awx,https://github.com/ansible/awx/issues/8660,Inventory -> Groups List action buttons are missing tooltips while disabled,"##### ISSUE TYPE - Bug Report ##### SUMMARY Talking about these buttons: <img width=""1408"" alt=""Screen Shot 2020-11-23 at 4 29 57 PM"" src=""https://user-images.githubusercontent.com/9889020/100017623-34978400-2da9-11eb-902f-e6826ac75293.png""> The `Run Commands` button should/could arguably be hidden for a user that cannot perform that action. I believe we hide this button in the old UI. If we're not going to hide it, we should at least put a tooltip on it and say that you don't have the ability to perform this action. The `Delete` button is missing the tooltip saying that a row needs to be selected but it's also missing the tooltip when a row is selected but the user doesn't have rbac permissions to delete. We use this pattern all over the app so it should be easy to find. Easiest way to reproduce this is to log in with a system auditor.",source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Inventory -> Groups List action buttons are missing tooltips while disabled ##### ISSUE TYPE - Bug Report ##### SUMMARY Talking about these buttons: <img width=""1408"" alt=""Screen Shot 2020-11-23 at 4 29 57 PM"" src=""https://user-images.githubusercontent.com/9889020/100017623-34978400-2da9-11eb-902f-e6826ac75293.png""> The `Run Commands` button should/could arguably be hidden for a user that cannot perform that action. I believe we hide this button in the old UI. If we're not going to hide it, we should at least put a tooltip on it and say that you don't have the ability to perform this action. The `Delete` button is missing the tooltip saying that a row needs to be selected but it's also missing the tooltip when a row is selected but the user doesn't have rbac permissions to delete. We use this pattern all over the app so it should be easy to find. Easiest way to reproduce this is to log in with a system auditor. source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
10433,awx,https://github.com/ansible/awx/issues/10433,Expose read-only applications to normal users in the UI,##### ISSUE TYPE - Feature Idea ##### SUMMARY I _think_ `/api/v2/applications` is available to all users to GET. This means that we could expose the list/details for applications to all authenticated users. Some users won't be able to add applications so we'll have to make sure we're hiding that button for those users. Same with the edit button(s). AFAIK this did not exist in the old UI.,other-file | test-file | other-file | test-file | other-file | test-file,Expose read-only applications to normal users in the UI ##### ISSUE TYPE - Feature Idea ##### SUMMARY I _think_ `/api/v2/applications` is available to all users to GET. This means that we could expose the list/details for applications to all authenticated users. Some users won't be able to add applications so we'll have to make sure we're hiding that button for those users. Same with the edit button(s). AFAIK this did not exist in the old UI. other-file test-file other-file test-file other-file test-file,no-bug,0.9
7955,awx,https://github.com/ansible/awx/issues/7955,Add/Edit container group,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add/Edit container group. See: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-container-add/,other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file,Add/Edit container group ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add/Edit container group. See: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-container-add/ other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file test-file,no-bug,0.9
6332,awx,https://github.com/ansible/awx/issues/6332,Getting a 400 error when Credential Add/Edit has an invalid SSH Private Key field,"##### ISSUE TYPE - Bug Report ##### SUMMARY When a invalid SSH Private Key is specified, getting a 400 error instead of an error under the field that the value is invalid ##### STEPS TO REPRODUCE 1. Add/Edit a credential 2. select any of the credential type 2. Enter an invalid value for the SSH Private Key ##### EXPECTED RESULTS It should say that the value is invalid under the field ##### ACTUAL RESULTS Getting a 400 error ![Screen Shot 2020-03-18 at 1 19 38 PM](https://user-images.githubusercontent.com/11617351/76988490-255b5f00-691b-11ea-848a-8c48233e987b.png)",source-file,"Getting a 400 error when Credential Add/Edit has an invalid SSH Private Key field ##### ISSUE TYPE - Bug Report ##### SUMMARY When a invalid SSH Private Key is specified, getting a 400 error instead of an error under the field that the value is invalid ##### STEPS TO REPRODUCE 1. Add/Edit a credential 2. select any of the credential type 2. Enter an invalid value for the SSH Private Key ##### EXPECTED RESULTS It should say that the value is invalid under the field ##### ACTUAL RESULTS Getting a 400 error ![Screen Shot 2020-03-18 at 1 19 38 PM](https://user-images.githubusercontent.com/11617351/76988490-255b5f00-691b-11ea-848a-8c48233e987b.png) source-file",bug,0.9
6742,awx,https://github.com/ansible/awx/issues/6742,Use Webhook Fields in WFJT Form,##### ISSUE TYPE - Feature Idea ##### SUMMARY We just created a webhook fields subform for JT Form. That same component could also be used for WFJT form. The webhook key and the webhook url field need some changes mentioned here https://github.com/ansible/awx/pull/6654#pullrequestreview-395653664,other-file | test-file | other-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file,Use Webhook Fields in WFJT Form ##### ISSUE TYPE - Feature Idea ##### SUMMARY We just created a webhook fields subform for JT Form. That same component could also be used for WFJT form. The webhook key and the webhook url field need some changes mentioned here https://github.com/ansible/awx/pull/6654#pullrequestreview-395653664 other-file test-file other-file other-file test-file other-file test-file source-file other-file test-file other-file other-file test-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file source-file,no-bug,0.85
4972,awx,https://github.com/ansible/awx/issues/4972,Add copy icon and functionality next to commonly copied fields,##### ISSUE TYPE - Feature Idea ##### SUMMARY This would require some thought but for places where users copy text out of fields we could help them out by providing a shortcut (copy icon) next to the field which would copy the value to their clipboard. https://www.patternfly.org/v4/documentation/react/components/clipboardcopy/,source-file,Add copy icon and functionality next to commonly copied fields ##### ISSUE TYPE - Feature Idea ##### SUMMARY This would require some thought but for places where users copy text out of fields we could help them out by providing a shortcut (copy icon) next to the field which would copy the value to their clipboard. https://www.patternfly.org/v4/documentation/react/components/clipboardcopy/ source-file,no-bug,0.95
7674,awx,https://github.com/ansible/awx/issues/7674,Add Groups/Hosts/Sources count to inventory list rows,"##### ISSUE TYPE - Feature Idea ##### SUMMARY See mockup: <img width=""1514"" alt=""Screen Shot 2020-07-20 at 1 52 27 PM"" src=""https://user-images.githubusercontent.com/9889020/87969522-4e8a2880-ca90-11ea-835b-6a30aadbbfcf.png""> These values come from total_hosts, total_groups, and total_inventory_sources",other-file | other-file,"Add Groups/Hosts/Sources count to inventory list rows ##### ISSUE TYPE - Feature Idea ##### SUMMARY See mockup: <img width=""1514"" alt=""Screen Shot 2020-07-20 at 1 52 27 PM"" src=""https://user-images.githubusercontent.com/9889020/87969522-4e8a2880-ca90-11ea-835b-6a30aadbbfcf.png""> These values come from total_hosts, total_groups, and total_inventory_sources other-file other-file",no-bug,0.9
5069,awx,https://github.com/ansible/awx/issues/5069,Add edit button to Inventory list rows,##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit),source-file | source-file | source-file | source-file,Add edit button to Inventory list rows ##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit) source-file source-file source-file source-file,no-bug,0.9
9441,awx,https://github.com/ansible/awx/issues/9441,Advanced search for type returns 400,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to do an advanced search by `type` the results are always `ExecutionEnvironment has no field named 'type'`: ![image](https://user-images.githubusercontent.com/12464858/109544586-83d70a00-7aa6-11eb-994c-dedcbce8801a.png)",source-file | source-file | source-file | source-file,"Advanced search for type returns 400 <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to do an advanced search by `type` the results are always `ExecutionEnvironment has no field named 'type'`: ![image](https://user-images.githubusercontent.com/12464858/109544586-83d70a00-7aa6-11eb-994c-dedcbce8801a.png) source-file source-file source-file source-file",bug,0.9
4634,awx,https://github.com/ansible/awx/issues/4634,Parallel job runs on the same inventory,"##### ISSUE TYPE - Feature Idea Add ```ENABLE CONCURRENT JOBS``` checkbox to inventory like in job templates. ##### SUMMARY When using ansible to provide a service through a bastion host, AWX isn't aware of the servers behind the bastion host. This causes serial run of jobs instead of parallel.",other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | config-file,"Parallel job runs on the same inventory ##### ISSUE TYPE - Feature Idea Add ```ENABLE CONCURRENT JOBS``` checkbox to inventory like in job templates. ##### SUMMARY When using ansible to provide a service through a bastion host, AWX isn't aware of the servers behind the bastion host. This causes serial run of jobs instead of parallel. other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file source-file source-file source-file source-file source-file other-file source-file source-file test-file source-file source-file source-file config-file",no-bug,0.0
6425,awx,https://github.com/ansible/awx/issues/6425,Add support for approval notification toggle on WFJT notifications,"##### ISSUE TYPE - Feature Idea ##### SUMMARY It's missing from UI Next: <img width=""1382"" alt=""Screen Shot 2020-03-25 at 12 00 22 PM"" src=""https://user-images.githubusercontent.com/9889020/77576760-1725b980-6eac-11ea-840b-e7d2841ea484.png""> This should only be visible on WFJT and Org notifications: <img width=""1517"" alt=""Screen Shot 2020-03-25 at 3 22 09 PM"" src=""https://user-images.githubusercontent.com/9889020/77577025-80a5c800-6eac-11ea-84a7-e6bbcd6b3617.png"">",source-file | test-file,"Add support for approval notification toggle on WFJT notifications ##### ISSUE TYPE - Feature Idea ##### SUMMARY It's missing from UI Next: <img width=""1382"" alt=""Screen Shot 2020-03-25 at 12 00 22 PM"" src=""https://user-images.githubusercontent.com/9889020/77576760-1725b980-6eac-11ea-840b-e7d2841ea484.png""> This should only be visible on WFJT and Org notifications: <img width=""1517"" alt=""Screen Shot 2020-03-25 at 3 22 09 PM"" src=""https://user-images.githubusercontent.com/9889020/77577025-80a5c800-6eac-11ea-84a7-e6bbcd6b3617.png""> source-file test-file",no-bug,0.9
4616,awx,https://github.com/ansible/awx/issues/4616,clicking outside the templates add button should close the menu,"##### ISSUE TYPE - Bug Report ##### SUMMARY On the templates view, clicking on the `+` button opens a menu for choosing the type of template to add (workflow or job template). Once opened, clicking outside of this menu should close it.",source-file | source-file | source-file | test-file,"clicking outside the templates add button should close the menu ##### ISSUE TYPE - Bug Report ##### SUMMARY On the templates view, clicking on the `+` button opens a menu for choosing the type of template to add (workflow or job template). Once opened, clicking outside of this menu should close it. source-file source-file source-file test-file",no-bug,0.9
6383,awx,https://github.com/ansible/awx/issues/6383,Options for notification templates not set when using frontend,"##### ISSUE TYPE - Bug Report ##### SUMMARY Options for notification templates are not set when using the frontend. When using the API there is no problem. ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: Ubuntu 18.04 (for AWX), Client is on Windows 10 * Web Browser: Chrome 80.0.3987.149 ##### STEPS TO REPRODUCE 1. Choose a notification template 2. Select ""Use TLS"" or ""Use SSL"" in the ""Options"" Menu 3. Hit save - no options will be saved. 1. Going to api/v2/notification_templates/n/ 2. In the content, change """"use_ssl"": false,"" to """"use_ssl"": true,"" 3. Hit Patch - options will be saved and shown correctly in the frontend ##### EXPECTED RESULTS Options will be saved ##### ACTUAL RESULTS Options will only be saved when using the API, Fronted does not work ##### ADDITIONAL INFORMATION",source-file,"Options for notification templates not set when using frontend ##### ISSUE TYPE - Bug Report ##### SUMMARY Options for notification templates are not set when using the frontend. When using the API there is no problem. ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: Ubuntu 18.04 (for AWX), Client is on Windows 10 * Web Browser: Chrome 80.0.3987.149 ##### STEPS TO REPRODUCE 1. Choose a notification template 2. Select ""Use TLS"" or ""Use SSL"" in the ""Options"" Menu 3. Hit save - no options will be saved. 1. Going to api/v2/notification_templates/n/ 2. In the content, change """"use_ssl"": false,"" to """"use_ssl"": true,"" 3. Hit Patch - options will be saved and shown correctly in the frontend ##### EXPECTED RESULTS Options will be saved ##### ACTUAL RESULTS Options will only be saved when using the API, Fronted does not work ##### ADDITIONAL INFORMATION source-file",no-bug,0.8
6415,awx,https://github.com/ansible/awx/issues/6415,No tower instance group at installation,"##### ISSUE TYPE - Bug Report ##### SUMMARY I just installed a new environment awx. I tried to add a project, but the load task stayed forever in the state ""not started'. I checked around, and I saw there is no ""tower"" instance group configured. I tried to add one named tower, but this didn't work. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: CentOS 8 * Web Browser: Firefox ##### STEPS TO REPRODUCE Install AWX and check if a tower instance group exists ##### EXPECTED RESULTS The group exists, and project git refresh works ##### ACTUAL RESULTS No tower instance group, and the refresh of a Git project is pending ##### ADDITIONAL INFORMATION None",source-file | source-file,"No tower instance group at installation ##### ISSUE TYPE - Bug Report ##### SUMMARY I just installed a new environment awx. I tried to add a project, but the load task stayed forever in the state ""not started'. I checked around, and I saw there is no ""tower"" instance group configured. I tried to add one named tower, but this didn't work. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: CentOS 8 * Web Browser: Firefox ##### STEPS TO REPRODUCE Install AWX and check if a tower instance group exists ##### EXPECTED RESULTS The group exists, and project git refresh works ##### ACTUAL RESULTS No tower instance group, and the refresh of a Git project is pending ##### ADDITIONAL INFORMATION None source-file source-file",no-bug,0.9
5190,awx,https://github.com/ansible/awx/issues/5190,AWX_Task container do not processing correctly Git cookieFile option,"##### ISSUE TYPE - Bug Report ##### SUMMARY I have an enviroment with Git 2FA based on 3rd party issued cookie. Usually I am updating my .gitconfig file to place a right path to cookie there, but in awx_task 8.0.0 it does not work ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux ##### STEPS TO REPRODUCE 1. Write a section in .gitconfig as ``` [http ""http://example.org""] cookieFile = /tmp/cookie.txt ``` 2. start GIT_TRACE_CURL=1 git clone ##### EXPECTED RESULTS I am expecting to see cookies inside curl request ##### ACTUAL RESULTS Output contain no cookies in curl request ##### ADDITIONAL INFORMATION curl version inside container 7.29.0, which reportedly having cookies processing issues",source-file,"AWX_Task container do not processing correctly Git cookieFile option ##### ISSUE TYPE - Bug Report ##### SUMMARY I have an enviroment with Git 2FA based on 3rd party issued cookie. Usually I am updating my .gitconfig file to place a right path to cookie there, but in awx_task 8.0.0 it does not work ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux ##### STEPS TO REPRODUCE 1. Write a section in .gitconfig as ``` [http ""http://example.org""] cookieFile = /tmp/cookie.txt ``` 2. start GIT_TRACE_CURL=1 git clone ##### EXPECTED RESULTS I am expecting to see cookies inside curl request ##### ACTUAL RESULTS Output contain no cookies in curl request ##### ADDITIONAL INFORMATION curl version inside container 7.29.0, which reportedly having cookies processing issues source-file",no-bug,0.9
5083,awx,https://github.com/ansible/awx/issues/5083,"if a container group is full, fall back to other instance/container group","##### ISSUE TYPE - Feature Idea Currently, in certain scenarios jobs can end up getting funneled to Container Groups because they always **seem** to have capacity from the Tower side. Due to this naive concept of capacity, jobs may get less-than-optimally sent to the ContainerGroup where they may end up waiting on resources, while meanwhile resources are free'd up in other instance groups or container groups, leading to the job sitting in pending for longer than it needs to (or in worst case for a very saturated k8s cluster, failing due to time out waiting for resources, while there was other place it could have run). To resolve this, we should do some kind of introspection to find out if the container group is ""full"" or if the job is schedulable. If so, we can redirect it to another instance group or wait until some other resource is available instead of dispatching it to the container group where it may very well time out and fail before running. ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> This RFE replaces the bug report https://github.com/ansible/awx/issues/4990",source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | test-file | other-file | test-file | documentation-file | documentation-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file,"if a container group is full, fall back to other instance/container group ##### ISSUE TYPE - Feature Idea Currently, in certain scenarios jobs can end up getting funneled to Container Groups because they always **seem** to have capacity from the Tower side. Due to this naive concept of capacity, jobs may get less-than-optimally sent to the ContainerGroup where they may end up waiting on resources, while meanwhile resources are free'd up in other instance groups or container groups, leading to the job sitting in pending for longer than it needs to (or in worst case for a very saturated k8s cluster, failing due to time out waiting for resources, while there was other place it could have run). To resolve this, we should do some kind of introspection to find out if the container group is ""full"" or if the job is schedulable. If so, we can redirect it to another instance group or wait until some other resource is available instead of dispatching it to the container group where it may very well time out and fail before running. ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> This RFE replaces the bug report https://github.com/ansible/awx/issues/4990 source-file source-file source-file source-file test-file test-file test-file test-file test-file other-file test-file test-file other-file test-file test-file other-file test-file documentation-file documentation-file test-file source-file source-file test-file test-file source-file source-file",no-bug,0.9
6863,awx,https://github.com/ansible/awx/issues/6863,Add Copy Support for Projects and Inventories,##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4969,source-file | source-file | source-file | test-file | source-file,Add Copy Support for Projects and Inventories ##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4969 source-file source-file source-file test-file source-file,no-bug,0.9
5514,awx,https://github.com/ansible/awx/issues/5514,Improve event processing performance by passing host_id through event data,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Proposal to eliminate the need to do a query on every job event save to obtain the database id of the host it is operating on. This logic would be replaced: https://github.com/ansible/awx/blob/112f89660b40c7eeafb9cd4bdbb4837525913f8b/awx/main/models/events.py#L354-L367 The host id can be obtained in the script data if using these parameters `/api/v2/inventories/45/script/?towervars=1&hostvars=1`, example: ```json ""_meta"": { ""hostvars"": { ""change_of_vars"": { ""dynamic_2019_10_29_15_23_48.194654"": ""host_static_value"", ""static_key"": ""host_dynamic_2019_10_29_15_28_08.940019"", ""dynamic_2019_10_29_15_24_26.098715"": ""host_static_value"", ""dynamic_2019_10_29_15_28_08.940019"": ""host_static_value"", ""remote_tower_enabled"": ""true"", ""remote_tower_id"": 370 }, ""moover-2019_10_29_15_28_08.940019"": { ""static_var"": ""static_value"", ""remote_tower_enabled"": ""true"", ""remote_tower_id"": 373 } } } } ``` This proposal is to apply those parameters to the normal pre-job-run inventory script generation. Then when saving events, obtain `remote_tower_id` from hostvars. This will have to be done in ansible-runner. That will need to be added into the event data, then discovered in the event saving code, and used instead of the query to obtain the host id. Related to or maybe part of #4209 #5443. This can be done and tested separately before the main feature work. Ping @chrismeyersfsu",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file,"Improve event processing performance by passing host_id through event data ##### ISSUE TYPE - Feature Idea ##### SUMMARY Proposal to eliminate the need to do a query on every job event save to obtain the database id of the host it is operating on. This logic would be replaced: https://github.com/ansible/awx/blob/112f89660b40c7eeafb9cd4bdbb4837525913f8b/awx/main/models/events.py#L354-L367 The host id can be obtained in the script data if using these parameters `/api/v2/inventories/45/script/?towervars=1&hostvars=1`, example: ```json ""_meta"": { ""hostvars"": { ""change_of_vars"": { ""dynamic_2019_10_29_15_23_48.194654"": ""host_static_value"", ""static_key"": ""host_dynamic_2019_10_29_15_28_08.940019"", ""dynamic_2019_10_29_15_24_26.098715"": ""host_static_value"", ""dynamic_2019_10_29_15_28_08.940019"": ""host_static_value"", ""remote_tower_enabled"": ""true"", ""remote_tower_id"": 370 }, ""moover-2019_10_29_15_28_08.940019"": { ""static_var"": ""static_value"", ""remote_tower_enabled"": ""true"", ""remote_tower_id"": 373 } } } } ``` This proposal is to apply those parameters to the normal pre-job-run inventory script generation. Then when saving events, obtain `remote_tower_id` from hostvars. This will have to be done in ansible-runner. That will need to be added into the event data, then discovered in the event saving code, and used instead of the query to obtain the host id. Related to or maybe part of #4209 #5443. This can be done and tested separately before the main feature work. Ping @chrismeyersfsu source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file source-file",no-bug,0.9
5920,awx,https://github.com/ansible/awx/issues/5920,awx cli exit code on job failure,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Need implement different exit code on Job or Workflow status failure like it was with tower-cli. It is hard to --monitor output in stream and get failure status now workaround: ```` RESULT=$(awx workflow_job_templates launch ""${IDNAME}"" --monitor -f human --filter status | tee /dev/tty | tail -1) ```` run failed job: ````` awx workflow_job_templates launch ""${IDNAME}"" --monitor -f human echo $? ````` result: ```` 0 ```` expected other code: ```` 99 or 1 ````",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"awx cli exit code on job failure ##### ISSUE TYPE - Feature Idea ##### SUMMARY Need implement different exit code on Job or Workflow status failure like it was with tower-cli. It is hard to --monitor output in stream and get failure status now workaround: ```` RESULT=$(awx workflow_job_templates launch ""${IDNAME}"" --monitor -f human --filter status | tee /dev/tty | tail -1) ```` run failed job: ````` awx workflow_job_templates launch ""${IDNAME}"" --monitor -f human echo $? ````` result: ```` 0 ```` expected other code: ```` 99 or 1 ```` source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
6638,awx,https://github.com/ansible/awx/issues/6638,Job Template edit form playbook field initializes to unselected value,"##### STEPS TO REPRODUCE - create a job template - open the edit form for the job template ##### EXPECTED RESULTS - current playbook value of the job template is shown by the playbook field ##### ACTUAL RESULTS - playbook field says ""CHOOSE A PLAYBOOK""",source-file | source-file,"Job Template edit form playbook field initializes to unselected value ##### STEPS TO REPRODUCE - create a job template - open the edit form for the job template ##### EXPECTED RESULTS - current playbook value of the job template is shown by the playbook field ##### ACTUAL RESULTS - playbook field says ""CHOOSE A PLAYBOOK"" source-file source-file",no-bug,0.8
6452,awx,https://github.com/ansible/awx/issues/6452,Prepend string to columns where the contents may be ambiguous,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Since our lists are sort of like tables but columns don't have headers @trahman73 brought up prepending something to the value to denote what it is. For example, a lot of our lists have a `Type` column: <img width=""1448"" alt=""Screen Shot 2020-03-26 at 4 11 29 PM"" src=""https://user-images.githubusercontent.com/9889020/77692144-7ce17680-6f7c-11ea-9b22-c3bcc28dfd74.png""> Rather than showing `Inventory` or `Smart Inventory` in that column, the suggestion is to show `Type Inventory` and `Type Smart Inventory`. Reach out to @trahman73 for exact UX specifications. Part of this issue will be identifying columns in lists where this would make sense.",source-file | source-file,"Prepend string to columns where the contents may be ambiguous ##### ISSUE TYPE - Feature Idea ##### SUMMARY Since our lists are sort of like tables but columns don't have headers @trahman73 brought up prepending something to the value to denote what it is. For example, a lot of our lists have a `Type` column: <img width=""1448"" alt=""Screen Shot 2020-03-26 at 4 11 29 PM"" src=""https://user-images.githubusercontent.com/9889020/77692144-7ce17680-6f7c-11ea-9b22-c3bcc28dfd74.png""> Rather than showing `Inventory` or `Smart Inventory` in that column, the suggestion is to show `Type Inventory` and `Type Smart Inventory`. Reach out to @trahman73 for exact UX specifications. Part of this issue will be identifying columns in lists where this would make sense. source-file source-file",no-bug,0.9
6209,awx,https://github.com/ansible/awx/issues/6209,Adding an approval node to an empty WFViz boots you back to the WFViz start page,"##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE 1. Make an empty WFJT 2. Hit start on the WF visualizer, go through the modal to make an approval node with a basic name, click ""Save"" ##### EXPECTED RESULTS The visualizer shows one node, an approval node. ##### ACTUAL RESULTS The visualizer boots you back to the ""Start"" page for an empty WF.",source-file,"Adding an approval node to an empty WFViz boots you back to the WFViz start page ##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE 1. Make an empty WFJT 2. Hit start on the WF visualizer, go through the modal to make an approval node with a basic name, click ""Save"" ##### EXPECTED RESULTS The visualizer shows one node, an approval node. ##### ACTUAL RESULTS The visualizer boots you back to the ""Start"" page for an empty WF. source-file",no-bug,0.9
9479,awx,https://github.com/ansible/awx/issues/9479,Job Template loads twice if autopopulate is triggered,"##### ISSUE TYPE - Bug Report ##### SUMMARY Job Template loads twice if the project auto populate is triggered. Right now, if there is just one project available - the auto populate will be triggered on the the Job Template Add screen, and the page will load twice. This issue is being sorted out.",other-file | test-file | test-file | test-file | other-file,"Job Template loads twice if autopopulate is triggered ##### ISSUE TYPE - Bug Report ##### SUMMARY Job Template loads twice if the project auto populate is triggered. Right now, if there is just one project available - the auto populate will be triggered on the the Job Template Add screen, and the page will load twice. This issue is being sorted out. other-file test-file test-file test-file other-file",no-bug,0.8
4565,awx,https://github.com/ansible/awx/issues/4565,CLI: Error returned from API should have newline after it,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Doing something that passes CLI verification and then gets sent to API, but fails there, results in an error message that does not have a newline after it ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> This happens across the board but here is an example: Assuming you have proper auth stuff in your environment: ``` $ awx settings modify MAX_UI_JOB_EVENTS \""3800\"" {""MAX_UI_JOB_EVENTS"": [""A valid integer is required.""]} $ echo my prompt is here my prompt is here ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Instead of that, I expect a newline after the error so my prompt is not stuck on after it. ``` $ awx settings modify MAX_UI_JOB_EVENTS \""3800\"" {""MAX_UI_JOB_EVENTS"": [""A valid integer is required.""]} $ echo my prompt is here my prompt is here ```",source-file | source-file | source-file | source-file | source-file,"CLI: Error returned from API should have newline after it ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Doing something that passes CLI verification and then gets sent to API, but fails there, results in an error message that does not have a newline after it ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> This happens across the board but here is an example: Assuming you have proper auth stuff in your environment: ``` $ awx settings modify MAX_UI_JOB_EVENTS \""3800\"" {""MAX_UI_JOB_EVENTS"": [""A valid integer is required.""]} $ echo my prompt is here my prompt is here ``` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Instead of that, I expect a newline after the error so my prompt is not stuck on after it. ``` $ awx settings modify MAX_UI_JOB_EVENTS \""3800\"" {""MAX_UI_JOB_EVENTS"": [""A valid integer is required.""]} $ echo my prompt is here my prompt is here ``` source-file source-file source-file source-file source-file",no-bug,0.9
6810,awx,https://github.com/ansible/awx/issues/6810,Remove style overrides from lookup inputs,"##### ISSUE TYPE - Task ##### SUMMARY We should remove the style overrides from the lookup component in favor of using default PatternFly styles. https://www.patternfly.org/v4/documentation/react/components/inputgroup#basic <img width=""450"" alt=""Screen Shot 2020-04-22 at 6 37 56 PM"" src=""https://user-images.githubusercontent.com/15881645/80041295-13e11600-84ca-11ea-9003-88d160074ac1.png""> It should look like this screenshot, except with the search icon to the left.",other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Remove style overrides from lookup inputs ##### ISSUE TYPE - Task ##### SUMMARY We should remove the style overrides from the lookup component in favor of using default PatternFly styles. https://www.patternfly.org/v4/documentation/react/components/inputgroup#basic <img width=""450"" alt=""Screen Shot 2020-04-22 at 6 37 56 PM"" src=""https://user-images.githubusercontent.com/15881645/80041295-13e11600-84ca-11ea-9003-88d160074ac1.png""> It should look like this screenshot, except with the search icon to the left. other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.9
9088,awx,https://github.com/ansible/awx/issues/9088,Add option to select a default global EE on settings,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add option to select default global EE. Evaluate best place to add/edit this feature. Take RBAC in consideration.,other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | documentation-file | source-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file | source-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | documentation-file,Add option to select a default global EE on settings ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add option to select default global EE. Evaluate best place to add/edit this feature. Take RBAC in consideration. other-file test-file other-file test-file other-file documentation-file documentation-file other-file test-file other-file test-file other-file documentation-file documentation-file other-file test-file other-file test-file other-file documentation-file documentation-file other-file test-file other-file test-file other-file documentation-file documentation-file other-file test-file other-file test-file other-file documentation-file documentation-file other-file test-file other-file test-file other-file documentation-file documentation-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file other-file documentation-file documentation-file source-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file source-file other-file other-file test-file other-file test-file other-file documentation-file documentation-file,no-bug,0.9
12815,awx,https://github.com/ansible/awx/issues/12815,Direct links to AWX do not reroute the user after authentication,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary If users have a link to a resource and they are not logged in, then they will be redirected to the login page and after successful login redirected to the dashboard instead of the originally requested resource. ### AWX version 21.5.0 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.12.2 ### Operating system Debian 11 ### Web browser Firefox ### Steps to reproduce - Take a link - Rerouted to Login Page. Login - Taken to the dashboard instead of the original link ### Expected results Rerouted to the original link after login. ### Actual results Rerouted to the dashboard. ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file,"Direct links to AWX do not reroute the user after authentication ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary If users have a link to a resource and they are not logged in, then they will be redirected to the login page and after successful login redirected to the dashboard instead of the originally requested resource. ### AWX version 21.5.0 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.12.2 ### Operating system Debian 11 ### Web browser Firefox ### Steps to reproduce - Take a link - Rerouted to Login Page. Login - Taken to the dashboard instead of the original link ### Expected results Rerouted to the original link after login. ### Actual results Rerouted to the dashboard. ### Additional information _No response_ source-file source-file source-file source-file source-file source-file",no-bug,0.9
7595,awx,https://github.com/ansible/awx/issues/7595,Rename users and access tabs,"##### ISSUE TYPE - Bug Report ##### SUMMARY Task: Update subtab names <img width=""366"" alt=""Screen Shot 2020-07-09 at 3 22 26 PM"" src=""https://user-images.githubusercontent.com/15881645/87082005-4d3b3f00-c1f8-11ea-856a-a138f5da3081.png""> <img width=""506"" alt=""Screen Shot 2020-07-09 at 3 25 40 PM"" src=""https://user-images.githubusercontent.com/15881645/87082160-8ecbea00-c1f8-11ea-9ab9-80d14a9c4065.png""> [These tables](https://docs.google.com/spreadsheets/d/1DSgZC1JJYI6oCp47QRjWhDAc3CznB6tDZI3GuhxLdqc/edit?usp=sharing) show the sub-tabs titles and content for each top-level view (User, Team, Organization) in the old and new UI. Under **User** and **Team**, Ive crossed out the current list tab title and replaced it with the new proposed name. These new names should make the tab titles and their list content more consistent across these objects. Currently, the Access tab in Users and Teams shows assigned resource roles, but in Organization, the same tab shows a list of users that have access to the organization via some role. Basically, the idea is to rename the tabs to match the API endpoint we are receiving information from. ##### ADDITIONAL INFORMATION https://docs.google.com/spreadsheets/d/1DSgZC1JJYI6oCp47QRjWhDAc3CznB6tDZI3GuhxLdqc/edit?usp=sharing cc @tvo318 @trahman73",other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file,"Rename users and access tabs ##### ISSUE TYPE - Bug Report ##### SUMMARY Task: Update subtab names <img width=""366"" alt=""Screen Shot 2020-07-09 at 3 22 26 PM"" src=""https://user-images.githubusercontent.com/15881645/87082005-4d3b3f00-c1f8-11ea-856a-a138f5da3081.png""> <img width=""506"" alt=""Screen Shot 2020-07-09 at 3 25 40 PM"" src=""https://user-images.githubusercontent.com/15881645/87082160-8ecbea00-c1f8-11ea-9ab9-80d14a9c4065.png""> [These tables](https://docs.google.com/spreadsheets/d/1DSgZC1JJYI6oCp47QRjWhDAc3CznB6tDZI3GuhxLdqc/edit?usp=sharing) show the sub-tabs titles and content for each top-level view (User, Team, Organization) in the old and new UI. Under **User** and **Team**, Ive crossed out the current list tab title and replaced it with the new proposed name. These new names should make the tab titles and their list content more consistent across these objects. Currently, the Access tab in Users and Teams shows assigned resource roles, but in Organization, the same tab shows a list of users that have access to the organization via some role. Basically, the idea is to rename the tabs to match the API endpoint we are receiving information from. ##### ADDITIONAL INFORMATION https://docs.google.com/spreadsheets/d/1DSgZC1JJYI6oCp47QRjWhDAc3CznB6tDZI3GuhxLdqc/edit?usp=sharing cc @tvo318 @trahman73 other-file source-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file source-file other-file",no-bug,0.9
7400,awx,https://github.com/ansible/awx/issues/7400,"Email sent to Chinese, there is a problem with garbled code","##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Where should I set it to display Chinese properly ```` Project Update #744 had status successful, view details at https://towerhost/#/jobs/project/744 { ""id"": 744, ""name"": ""\u6279\u91cf\u5b89\u88c5jdk\u9879\u76ee-test3"", ""url"": ""https://towerhost/#/jobs/project/744"", ""created_by"": ""None"", ""started"": ""2020-06-22T02:49:31.785910+00:00"", ""finished"": ""2020-06-22T02:49:36.336942+00:00"", ""status"": ""successful"", ""traceback"": """" } ````",source-file | source-file | test-file,"Email sent to Chinese, there is a problem with garbled code ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Where should I set it to display Chinese properly ```` Project Update #744 had status successful, view details at https://towerhost/#/jobs/project/744 { ""id"": 744, ""name"": ""\u6279\u91cf\u5b89\u88c5jdk\u9879\u76ee-test3"", ""url"": ""https://towerhost/#/jobs/project/744"", ""created_by"": ""None"", ""started"": ""2020-06-22T02:49:31.785910+00:00"", ""finished"": ""2020-06-22T02:49:36.336942+00:00"", ""status"": ""successful"", ""traceback"": """" } ```` source-file source-file test-file",no-bug,0.9
6135,awx,https://github.com/ansible/awx/issues/6135,Information Request - OS Support,"##### ISSUE TYPE - Information Request ##### SUMMARY I haven't been able to find a definitive answer on this. Since AWX is just the upstream variant of Ansible Tower, I wanted to confirm whether AWX still supports Ubuntu as a distribution choice for deployment, despite Tower no longer supporting it. I ask since CentOS was currently my choice for deploying, but has proven to be exceptionally more of a pain in the ass to get running than when I used Ubuntu for similar things.",source-file,"Information Request - OS Support ##### ISSUE TYPE - Information Request ##### SUMMARY I haven't been able to find a definitive answer on this. Since AWX is just the upstream variant of Ansible Tower, I wanted to confirm whether AWX still supports Ubuntu as a distribution choice for deployment, despite Tower no longer supporting it. I ask since CentOS was currently my choice for deploying, but has proven to be exceptionally more of a pain in the ass to get running than when I used Ubuntu for similar things. source-file",no-bug,0.95
5098,awx,https://github.com/ansible/awx/issues/5098,[RFE] Logical task execution based on variables,"More so than just ""on failure"", ""on success"", and ""always"", please add logical execution of tasks for workflows. An example of this would be linux provision machine, if vmware then these playbooks if amazon then these playbooks etc.",container-file,"[RFE] Logical task execution based on variables More so than just ""on failure"", ""on success"", and ""always"", please add logical execution of tasks for workflows. An example of this would be linux provision machine, if vmware then these playbooks if amazon then these playbooks etc. container-file",no-bug,0.9
4943,awx,https://github.com/ansible/awx/issues/4943,System Auditor is unable to view Container Groups,##### ISSUE TYPE - Bug Report ##### SUMMARY System Auditor is unable to view Container Groups ##### ENVIRONMENT * AWX version: 7.0.0 ##### STEPS TO REPRODUCE 1. Create Container Group 2. Log in as System Auditor 3. Attempt to view a container group ##### EXPECTED RESULTS Able to view container group like an instance group ##### ACTUAL RESULTS Unable to view container group ##### ADDITIONAL INFORMATION ![Screen Shot 2019-10-08 at 5 32 17 PM](https://user-images.githubusercontent.com/12446869/66435218-5c375b80-e9f2-11e9-8abb-0be7ba30ad30.png),source-file,System Auditor is unable to view Container Groups ##### ISSUE TYPE - Bug Report ##### SUMMARY System Auditor is unable to view Container Groups ##### ENVIRONMENT * AWX version: 7.0.0 ##### STEPS TO REPRODUCE 1. Create Container Group 2. Log in as System Auditor 3. Attempt to view a container group ##### EXPECTED RESULTS Able to view container group like an instance group ##### ACTUAL RESULTS Unable to view container group ##### ADDITIONAL INFORMATION ![Screen Shot 2019-10-08 at 5 32 17 PM](https://user-images.githubusercontent.com/12446869/66435218-5c375b80-e9f2-11e9-8abb-0be7ba30ad30.png) source-file,bug,0.85
4553,awx,https://github.com/ansible/awx/issues/4553,"RFE: Add toggle for ""Disable Local User Log-in"" setting","##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> When the external authentication (LDAP/SAML/OAuth etc.) is enabled, there is a use-case to turn off the authentication for local users for security reason. It would be great if there is a toggle switch to turn on/off authentication for local users. When the local auth is disabled, it is not able to log in via local users but Tower can use built-in admin user in backup/restore process.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | documentation-file,"RFE: Add toggle for ""Disable Local User Log-in"" setting ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> When the external authentication (LDAP/SAML/OAuth etc.) is enabled, there is a use-case to turn off the authentication for local users for security reason. It would be great if there is a toggle switch to turn on/off authentication for local users. When the local auth is disabled, it is not able to log in via local users but Tower can use built-in admin user in backup/restore process. source-file source-file source-file source-file source-file source-file source-file source-file other-file test-file other-file test-file other-file test-file documentation-file documentation-file",no-bug,0.95
4986,awx,https://github.com/ansible/awx/issues/4986,Project Add Form,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Hook it up! Every project has the following fields: - Name (input, required) - Description (input) - Organization (single select lookup, required) - SCM Type (dropdown, required) The ""new"" thing with this form is that it has a variable subform. The subform fields vary based on the value of the scm type. When no scm type is selected, the subform is hidden. There are a handful of different scm type values that can be selected. I'll outline the subform fields for each type: 1. Manual - Project Base Path (disabled input, user cannot edit this - it comes from `PROJECTS_ROOT`) - Playbook Directory (dropdown, required) 2. Git - SCM URL (input, required) - SCM Branch/Tag/Commit - SCM Refspec (input) - SCM Credential (single select lookup - limited to scm type creds) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) - Allow branch overrride 3. Mercurial - SCM URL (input, required) - SCM Branch/Tag/Commit - SCM Credential (single select lookup - limited to scm type creds) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) - Allow branch overrride 4. Subversion - SCM URL (input, required) - Revision number (input) - SCM Credential (single select lookup - limited to scm type creds) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) - Allow branch overrride 5. Red Hat Insights - Credential (single select lookup - limited to insights type creds, required) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input)",source-file,"Project Add Form ##### ISSUE TYPE - Feature Idea ##### SUMMARY Hook it up! Every project has the following fields: - Name (input, required) - Description (input) - Organization (single select lookup, required) - SCM Type (dropdown, required) The ""new"" thing with this form is that it has a variable subform. The subform fields vary based on the value of the scm type. When no scm type is selected, the subform is hidden. There are a handful of different scm type values that can be selected. I'll outline the subform fields for each type: 1. Manual - Project Base Path (disabled input, user cannot edit this - it comes from `PROJECTS_ROOT`) - Playbook Directory (dropdown, required) 2. Git - SCM URL (input, required) - SCM Branch/Tag/Commit - SCM Refspec (input) - SCM Credential (single select lookup - limited to scm type creds) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) - Allow branch overrride 3. Mercurial - SCM URL (input, required) - SCM Branch/Tag/Commit - SCM Credential (single select lookup - limited to scm type creds) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) - Allow branch overrride 4. Subversion - SCM URL (input, required) - Revision number (input) - SCM Credential (single select lookup - limited to scm type creds) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) - Allow branch overrride 5. Red Hat Insights - Credential (single select lookup - limited to insights type creds, required) - Options (checkboxes) - Clean - Delete on update - Update revision on launch - When this is checked an additional field (Cache Timeout) is shown (> 0 numerical input) source-file",no-bug,0.9
8202,awx,https://github.com/ansible/awx/issues/8202,Launching job with vault password 400s when default machine cred is replaced,"##### ISSUE TYPE - Bug Report ##### SUMMARY Really odd behavior that I came across while building out credential prompting in the new UI. This can be reproduced via the API browser though. I created a JT with a default machine credential (that prompted for some passwords) and a default vault credential (that prompted for password). If I swap the machine credential for one that does not prompt for a password then the API responds with a 400 on launch complaining about the vault password: `{""passwords_needed_to_start"":[""vault_password.A""]}` In the example below credential with ID = 1 is the machine credential that prompts for ssh and become passwords. Credential ID = 2 is the machine credential that does not prompt for passwords. Credential ID = 4 is the vault credential that prompts for password. A normal launch without changing credentials: ![good_launch](https://user-images.githubusercontent.com/9889020/93922608-26ad8000-fce0-11ea-8b61-8604ec329d83.gif) A launch where I change the machine credential: ![bad_launch](https://user-images.githubusercontent.com/9889020/93922684-493f9900-fce0-11ea-93a5-891b46041a13.gif)",source-file | test-file | source-file | test-file | source-file | test-file,"Launching job with vault password 400s when default machine cred is replaced ##### ISSUE TYPE - Bug Report ##### SUMMARY Really odd behavior that I came across while building out credential prompting in the new UI. This can be reproduced via the API browser though. I created a JT with a default machine credential (that prompted for some passwords) and a default vault credential (that prompted for password). If I swap the machine credential for one that does not prompt for a password then the API responds with a 400 on launch complaining about the vault password: `{""passwords_needed_to_start"":[""vault_password.A""]}` In the example below credential with ID = 1 is the machine credential that prompts for ssh and become passwords. Credential ID = 2 is the machine credential that does not prompt for passwords. Credential ID = 4 is the vault credential that prompts for password. A normal launch without changing credentials: ![good_launch](https://user-images.githubusercontent.com/9889020/93922608-26ad8000-fce0-11ea-8b61-8604ec329d83.gif) A launch where I change the machine credential: ![bad_launch](https://user-images.githubusercontent.com/9889020/93922684-493f9900-fce0-11ea-93a5-891b46041a13.gif) source-file test-file source-file test-file source-file test-file",bug,0.9
10775,awx,https://github.com/ansible/awx/issues/10775,[object Object] on Settings main page,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Accessing the /#/settings route, for each setting section where were supposed to display the name of the product is being showed [object Object] instead. ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Install tower 2. Acess the settings page ### Expected results The name of the product/component to be displayed ### Actual results ![image](https://user-images.githubusercontent.com/12464858/127369829-0acf832a-bffe-4f65-a57a-1eeaff0f8850.png) ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | documentation-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | documentation-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | documentation-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | documentation-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file,"[object Object] on Settings main page ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Accessing the /#/settings route, for each setting section where were supposed to display the name of the product is being showed [object Object] instead. ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Install tower 2. Acess the settings page ### Expected results The name of the product/component to be displayed ### Actual results ![image](https://user-images.githubusercontent.com/12464858/127369829-0acf832a-bffe-4f65-a57a-1eeaff0f8850.png) ### Additional information _No response_ source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file documentation-file source-file test-file source-file test-file source-file source-file source-file source-file documentation-file source-file test-file source-file test-file source-file source-file source-file source-file documentation-file source-file test-file source-file test-file source-file source-file source-file source-file documentation-file source-file test-file source-file test-file source-file source-file source-file source-file",no-bug,0.8
8098,awx,https://github.com/ansible/awx/issues/8098,Inventory does not update host list if sources are deleted,"##### ISSUE TYPE - Bug Report ##### SUMMARY Essentially, if you launch a template with an inventory that was synced with a source, and then delete that source, the inventory then cannot be synced and becomes ""stale"". It should be noted that deleting an inventory source deletes its respective hosts automatically in the old UI. ##### STEPS TO REPRODUCE 1. Create a job template, WFJT, whatever can utilize a specific inventory. 2. In the inventory, add a source from the Sources tab > using ansible/test-playbooks > from Project root > something like ""Create 10 hosts"" as your initialization file. 3. Sync the source so 10 hosts appear. these are blank hosts, so they won't work. 4. Launch a job. As expected, it fails as it cannot connect to blank hosts. 5. Go back to the inventory and delete the bad inventory source. 6. Go back to the job and try to launch it again. ##### EXPECTED RESULTS There is some way to update/re-sync the inventory automatically so it only uses the default localhost host and passes, after the inventory source with the empty hosts is deleted. ##### ACTUAL RESULTS The host list cannot be re-synced as a whole, and the empty hosts are ""stale"" and stay. They can be manually deleted from the Inventory > Hosts tab, but this seems non-ideal. The old UI deletes this automatically.",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Inventory does not update host list if sources are deleted ##### ISSUE TYPE - Bug Report ##### SUMMARY Essentially, if you launch a template with an inventory that was synced with a source, and then delete that source, the inventory then cannot be synced and becomes ""stale"". It should be noted that deleting an inventory source deletes its respective hosts automatically in the old UI. ##### STEPS TO REPRODUCE 1. Create a job template, WFJT, whatever can utilize a specific inventory. 2. In the inventory, add a source from the Sources tab > using ansible/test-playbooks > from Project root > something like ""Create 10 hosts"" as your initialization file. 3. Sync the source so 10 hosts appear. these are blank hosts, so they won't work. 4. Launch a job. As expected, it fails as it cannot connect to blank hosts. 5. Go back to the inventory and delete the bad inventory source. 6. Go back to the job and try to launch it again. ##### EXPECTED RESULTS There is some way to update/re-sync the inventory automatically so it only uses the default localhost host and passes, after the inventory source with the empty hosts is deleted. ##### ACTUAL RESULTS The host list cannot be re-synced as a whole, and the empty hosts are ""stale"" and stay. They can be manually deleted from the Inventory > Hosts tab, but this seems non-ideal. The old UI deletes this automatically. other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.8
11399,awx,https://github.com/ansible/awx/issues/11399,"With ja google-chrome, truncation of source string ""Dashboard (all activity)"" is observed, at the ~/activity_stream page","### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary With ja google-chrome, truncation of ja translation ` ()` for the source string `Dashboard (all activity)` is observed i.e. not ellipsized consistently within the dropdown listing, at the ~/activity_stream page ### AWX version 19.3.0 ### Installation method docker on linux ### Modifications no ### Ansible version ansible [core 2.11.0] ### Operating system RHEL-8.4 ### Web browser Chrome ### Steps to reproduce 1. Do a successful login in the preferred language (say Japanese) 2. Navigate to ~/activity_stream page 3. Click on the `Dashboard (all activity)` dropdown/listbox for the listing 3. Observe the ja translation ` ()` of the source string `Dashboard (all activity)` in the listing ### Expected results ja translation should not get truncated, and should fit in the widget size or ja translation should be ellipsized consistently within the dropdown listing ### Actual results ja translation is truncated, and does not fit in the widget size or ja translation is not ellipsized consistently within the dropdown listing ### Additional information 1. Screenshot highlighting string truncation, and does not fit in the widget size ![ja_bug_activity_stream_Screenshot from 2021-11-30 10-34-35](https://user-images.githubusercontent.com/12151785/144041909-8c623370-b346-4d00-9245-97c1e8de3fab.png) 2. https://github.com/ansible/awx/blob/ba324c73ceefa22d516d872527649d090d3bc0cc/awx/ui/src/locales/ja/messages.po#L1648-L1650",source-file | source-file | source-file,"With ja google-chrome, truncation of source string ""Dashboard (all activity)"" is observed, at the ~/activity_stream page ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary With ja google-chrome, truncation of ja translation ` ()` for the source string `Dashboard (all activity)` is observed i.e. not ellipsized consistently within the dropdown listing, at the ~/activity_stream page ### AWX version 19.3.0 ### Installation method docker on linux ### Modifications no ### Ansible version ansible [core 2.11.0] ### Operating system RHEL-8.4 ### Web browser Chrome ### Steps to reproduce 1. Do a successful login in the preferred language (say Japanese) 2. Navigate to ~/activity_stream page 3. Click on the `Dashboard (all activity)` dropdown/listbox for the listing 3. Observe the ja translation ` ()` of the source string `Dashboard (all activity)` in the listing ### Expected results ja translation should not get truncated, and should fit in the widget size or ja translation should be ellipsized consistently within the dropdown listing ### Actual results ja translation is truncated, and does not fit in the widget size or ja translation is not ellipsized consistently within the dropdown listing ### Additional information 1. Screenshot highlighting string truncation, and does not fit in the widget size ![ja_bug_activity_stream_Screenshot from 2021-11-30 10-34-35](https://user-images.githubusercontent.com/12151785/144041909-8c623370-b346-4d00-9245-97c1e8de3fab.png) 2. https://github.com/ansible/awx/blob/ba324c73ceefa22d516d872527649d090d3bc0cc/awx/ui/src/locales/ja/messages.po#L1648-L1650 source-file source-file source-file",no-bug,0.9
12008,awx,https://github.com/ansible/awx/issues/12008,Workflow job details shows erroneous fields,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary <img width=""1673"" alt=""Screen Shot 2022-04-05 at 1 14 58 PM"" src=""https://user-images.githubusercontent.com/9889020/161813234-72a8c128-5996-4675-af78-dda234d86dba.png""> In this case, I did not specify a wf level inventory so I would expect that field to empty and not say `Deleted`. Also, workflows don't have a global project so I don't think we should be showing that field at all. ### AWX version latest ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Create a WFJT (only supply a name) 2. Launch the WFJT 3. Navigate over to the Details tab on the WF job ### Expected results Inventory shows empty string or not shown at all Project field should not be shown ### Actual results See screenshot in summary ### Additional information _No response_",source-file | test-file | source-file | test-file,"Workflow job details shows erroneous fields ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary <img width=""1673"" alt=""Screen Shot 2022-04-05 at 1 14 58 PM"" src=""https://user-images.githubusercontent.com/9889020/161813234-72a8c128-5996-4675-af78-dda234d86dba.png""> In this case, I did not specify a wf level inventory so I would expect that field to empty and not say `Deleted`. Also, workflows don't have a global project so I don't think we should be showing that field at all. ### AWX version latest ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Create a WFJT (only supply a name) 2. Launch the WFJT 3. Navigate over to the Details tab on the WF job ### Expected results Inventory shows empty string or not shown at all Project field should not be shown ### Actual results See screenshot in summary ### Additional information _No response_ source-file test-file source-file test-file",no-bug,0.9
8344,awx,https://github.com/ansible/awx/issues/8344,Enhance tower_job_wait to support project_update/inventory_update/workflow_job in addtion to job,"##### ISSUE TYPE - Feature Idea ##### SUMMARY tower_job_wait only supports waiting on tasks of the type 'job' I would like to see this module (or potenitally a seperate one, the code I wrote is to suppor this in one module) support waiting for other similar jobs Addtional ""job"" types allowed - 'project_update' - 'job' # default - 'inventory_update' - 'workflow_job' I have started development work on this feature. A pull will be incoming.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file,"Enhance tower_job_wait to support project_update/inventory_update/workflow_job in addtion to job ##### ISSUE TYPE - Feature Idea ##### SUMMARY tower_job_wait only supports waiting on tasks of the type 'job' I would like to see this module (or potenitally a seperate one, the code I wrote is to suppor this in one module) support waiting for other similar jobs Addtional ""job"" types allowed - 'project_update' - 'job' # default - 'inventory_update' - 'workflow_job' I have started development work on this feature. A pull will be incoming. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file test-file",no-bug,0.9
6850,awx,https://github.com/ansible/awx/issues/6850,Redis HA (high availability): Question,##### ISSUE TYPE - Redis HA (high availability) ##### SUMMARY We have replaced RabbitMQ by Redis. When we make an architecture Awx HA. It is necessary to make Redis HA or with a single redis we can do this architecture ? If I understand redis is temporary solution and we plan on replacing this with a postgres message broker https://github.com/ansible/awx/pull/5441.,source-file | source-file | source-file | test-file | source-file,Redis HA (high availability): Question ##### ISSUE TYPE - Redis HA (high availability) ##### SUMMARY We have replaced RabbitMQ by Redis. When we make an architecture Awx HA. It is necessary to make Redis HA or with a single redis we can do this architecture ? If I understand redis is temporary solution and we plan on replacing this with a postgres message broker https://github.com/ansible/awx/pull/5441. source-file source-file source-file test-file source-file,no-bug,0.9
7105,awx,https://github.com/ansible/awx/issues/7105,Replace usage of `handleDelete` async function by `useRequest`,"##### ISSUE TYPE - Bug Report ##### SUMMARY There are a few async functions used to delete items, mainly in details components that can raise a warning such as: ```text react_devtools_backend.js:6 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function. in WorkflowJobTemplateDetail (created by I18n) in I18n (created by WithI18n) in WithI18n (created by WorkflowJobTemplate) in Route (created by WorkflowJobTemplate) in Switch (created by WorkflowJobTemplate) in article (created by Card) in Card (created by WorkflowJobTemplate) in section (created by PageSection) in PageSection (created by WorkflowJobTemplate) in WorkflowJobTemplate (created by Context.Consumer) in withRouter(WorkflowJobTemplate) (created by I18n) in I18n (created by WithI18n) in WithI18n (created by Context.Consumer) ``` ##### STEPS TO REPRODUCE 1. Go to Projects 2. Select a Project 3. Go to Project Details page 4. Delete the selected project 5. Verify logs ##### EXPECTED RESULTS No warnings to be raised. ##### ADDITIONAL INFORMATION This work was already done for `JobTemplate` and `WorkflowJobTemplate`. As an example, https://github.com/ansible/awx/issues/6971",other-file | other-file | other-file | other-file | other-file | other-file,"Replace usage of `handleDelete` async function by `useRequest` ##### ISSUE TYPE - Bug Report ##### SUMMARY There are a few async functions used to delete items, mainly in details components that can raise a warning such as: ```text react_devtools_backend.js:6 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function. in WorkflowJobTemplateDetail (created by I18n) in I18n (created by WithI18n) in WithI18n (created by WorkflowJobTemplate) in Route (created by WorkflowJobTemplate) in Switch (created by WorkflowJobTemplate) in article (created by Card) in Card (created by WorkflowJobTemplate) in section (created by PageSection) in PageSection (created by WorkflowJobTemplate) in WorkflowJobTemplate (created by Context.Consumer) in withRouter(WorkflowJobTemplate) (created by I18n) in I18n (created by WithI18n) in WithI18n (created by Context.Consumer) ``` ##### STEPS TO REPRODUCE 1. Go to Projects 2. Select a Project 3. Go to Project Details page 4. Delete the selected project 5. Verify logs ##### EXPECTED RESULTS No warnings to be raised. ##### ADDITIONAL INFORMATION This work was already done for `JobTemplate` and `WorkflowJobTemplate`. As an example, https://github.com/ansible/awx/issues/6971 other-file other-file other-file other-file other-file other-file",no-bug,0.9
8505,awx,https://github.com/ansible/awx/issues/8505,Log rsyslog failures with a counter,"##### ISSUE TYPE - Feature Idea ##### SUMMARY This is a request to log rsyslog failures with a counter to provide more transparency when a message is dropped. To help avoid the silent dropping of messages it would be good to have metrics keep a counter that is incremented every time a log message is dropped. Maybe have a ""dropped external logger message"" category that has sub counts for messages dropped because of blocked I/O and connection refused. Related PR: https://github.com/ansible/awx/pull/7292",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Log rsyslog failures with a counter ##### ISSUE TYPE - Feature Idea ##### SUMMARY This is a request to log rsyslog failures with a counter to provide more transparency when a message is dropped. To help avoid the silent dropping of messages it would be good to have metrics keep a counter that is incremented every time a log message is dropped. Maybe have a ""dropped external logger message"" category that has sub counts for messages dropped because of blocked I/O and connection refused. Related PR: https://github.com/ansible/awx/pull/7292 source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
14509,awx,https://github.com/ansible/awx/issues/14509,[DOCS] Add alt-text codeblock to Images for Userguide: job_templates.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the job_templates.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: job_templates.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the job_templates.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file",no-bug,0.95
6183,awx,https://github.com/ansible/awx/issues/6183,Survey Preview Functionality,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add functionality for survey preview. https://tower-mockups.testing.ansible.com/patternfly/templates/templates-survey-preview/,source-file | source-file,Survey Preview Functionality ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add functionality for survey preview. https://tower-mockups.testing.ansible.com/patternfly/templates/templates-survey-preview/ source-file source-file,no-bug,0.9
10454,awx,https://github.com/ansible/awx/issues/10454,Add testing around the execution environment collections module,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Need some basic testing around creating EE using modules",test-file,"Add testing around the execution environment collections module <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Need some basic testing around creating EE using modules test-file",no-bug,0.9
9373,awx,https://github.com/ansible/awx/issues/9373,[ui_next] Silent error when creating or editing an inventory source to 'Update on launch' and 'Update on project update',"##### ISSUE TYPE - Bug Report ##### SUMMARY When creating or editing an inventory which is sourced from a project, if the 'Update on launch' and 'Update on project update' options are selected, the form does not save and the API's error response does not get displayed in the UI. ``` {""update_on_launch"":[""Cannot update SCM-based inventory source on launch if set to update on project update. Instead, configure the corresponding source project to update on launch.""]} ``` I think the fix for this should be two parts: 1. Update the tooltips for both toggles to note that they cannot be used simultaneously 2. Surface API errors to user on save, generally. ##### STEPS TO REPRODUCE 1. Create an Inventory with type 'Sourced from a Project' 2. Select both 'Update on launch' or 'Update on project update' 3. Save Note: error in console",other-file | test-file | other-file,"[ui_next] Silent error when creating or editing an inventory source to 'Update on launch' and 'Update on project update' ##### ISSUE TYPE - Bug Report ##### SUMMARY When creating or editing an inventory which is sourced from a project, if the 'Update on launch' and 'Update on project update' options are selected, the form does not save and the API's error response does not get displayed in the UI. ``` {""update_on_launch"":[""Cannot update SCM-based inventory source on launch if set to update on project update. Instead, configure the corresponding source project to update on launch.""]} ``` I think the fix for this should be two parts: 1. Update the tooltips for both toggles to note that they cannot be used simultaneously 2. Surface API errors to user on save, generally. ##### STEPS TO REPRODUCE 1. Create an Inventory with type 'Sourced from a Project' 2. Select both 'Update on launch' or 'Update on project update' 3. Save Note: error in console other-file test-file other-file",bug,0.9
6079,awx,https://github.com/ansible/awx/issues/6079,AWX CLI not giving correct rc when job fails with --monitor set,"##### ISSUE TYPE - Bug Report ##### SUMMARY Hello! I am testing the awx cli on my CI environment to launch jobs on AWX. First time using **awx cli** so I might be missing something but I was under the impression that if a launched a `job_template` with `--monitor` and this one failed, it was supposed to give an `rc != 0`, so it correctly shows it on the CI interface. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX CLI version: 3.6.2 * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: Centos 7 * Web Browser: Google Chrome ##### STEPS TO REPRODUCE ```shell $ awx job_template launch ""[F5] Onboarding"" --monitor -f human ------Starting Standard Out Stream------ PLAY [F5 Onboarding tasks] ***************************************************** TASK [get creds from vault] **************************************************** fatal: [lab-f5]: FAILED! => {""msg"": ""An unhandled exception occurred while running the lookup plugin 'hashi_vault'. Error was a <class 'ansible.errors.AnsibleError'>, original message: Please pip install hvac to use the hashi_vault lookup module.""} PLAY RECAP ********************************************************************* lab-f5 : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ------End of Standard Out Stream-------- id name === =============== 374 [F5] Onboarding ``` ##### EXPECTED RESULTS The return code to be different than 0, so is correctly marked as a failed step on the pipeline. ##### ACTUAL RESULTS Return code equal to 0 ```shell $ echo $? 0 ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"AWX CLI not giving correct rc when job fails with --monitor set ##### ISSUE TYPE - Bug Report ##### SUMMARY Hello! I am testing the awx cli on my CI environment to launch jobs on AWX. First time using **awx cli** so I might be missing something but I was under the impression that if a launched a `job_template` with `--monitor` and this one failed, it was supposed to give an `rc != 0`, so it correctly shows it on the CI interface. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX CLI version: 3.6.2 * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: Centos 7 * Web Browser: Google Chrome ##### STEPS TO REPRODUCE ```shell $ awx job_template launch ""[F5] Onboarding"" --monitor -f human ------Starting Standard Out Stream------ PLAY [F5 Onboarding tasks] ***************************************************** TASK [get creds from vault] **************************************************** fatal: [lab-f5]: FAILED! => {""msg"": ""An unhandled exception occurred while running the lookup plugin 'hashi_vault'. Error was a <class 'ansible.errors.AnsibleError'>, original message: Please pip install hvac to use the hashi_vault lookup module.""} PLAY RECAP ********************************************************************* lab-f5 : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ------End of Standard Out Stream-------- id name === =============== 374 [F5] Onboarding ``` ##### EXPECTED RESULTS The return code to be different than 0, so is correctly marked as a failed step on the pipeline. ##### ACTUAL RESULTS Return code equal to 0 ```shell $ echo $? 0 ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
14500,awx,https://github.com/ansible/awx/issues/14500,[DOCS] Add alt-text codeblock to Images for Userguide: credential_plugins.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the credential_plugins.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: credential_plugins.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the credential_plugins.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file documentation-file documentation-file documentation-file",no-bug,0.95
7545,awx,https://github.com/ansible/awx/issues/7545,Permission denied for launch_awx.sh and launch_awx_task.sh,"##### ISSUE TYPE - Bug Report ##### SUMMARY I am currently working on updating @ikke-t [awx_pod playbook](https://github.com/ikke-t/awx_pod) for using awx 13. My deployment is a bit different from the installation instructions here, but I would expect that the error below appears when using e.g. docker-compose as well. I am using the following image: ``docker.io/ansible/awx:13.0.0`` The following files have permissions 0700: * /usr/bin/launch_awx.sh * /usr/bin/launch_awx_task.sh which leads to issues when running ``docker.io/ansible/awx:13.0.0`` with non-root user ``1000`` imho this files should have 0755. ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: podman / awx_pod playbook * Ansible version: 2.9.10 * Operating System: EL8 (CentOS 8) ##### STEPS TO REPRODUCE ``` $ ansible-playbook -K -i centos-8, awx-install.yml $ podman logs -f awx_awxweb $ podman logs -f awx_awxtask ``` ##### EXPECTED RESULTS ``` RESULT 2 OK ``` ##### ACTUAL RESULTS Permission denied for launch_awx.sh and launch_awx_task.sh ``` $ podman logs awx_awxweb /bin/sh: /usr/bin/launch_awx.sh: Permission denied $ podman logs awx_awxtask /bin/sh: /usr/bin/launch_awx_task.sh: Permission denied ``` ##### ADDITIONAL INFORMATION Creating a derived container using `` RUN chmod 755 /usr/bin/launch_awx*.sh `` resolves this issue.",config-file | container-file | config-file | container-file | config-file | container-file | config-file | config-file,"Permission denied for launch_awx.sh and launch_awx_task.sh ##### ISSUE TYPE - Bug Report ##### SUMMARY I am currently working on updating @ikke-t [awx_pod playbook](https://github.com/ikke-t/awx_pod) for using awx 13. My deployment is a bit different from the installation instructions here, but I would expect that the error below appears when using e.g. docker-compose as well. I am using the following image: ``docker.io/ansible/awx:13.0.0`` The following files have permissions 0700: * /usr/bin/launch_awx.sh * /usr/bin/launch_awx_task.sh which leads to issues when running ``docker.io/ansible/awx:13.0.0`` with non-root user ``1000`` imho this files should have 0755. ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: podman / awx_pod playbook * Ansible version: 2.9.10 * Operating System: EL8 (CentOS 8) ##### STEPS TO REPRODUCE ``` $ ansible-playbook -K -i centos-8, awx-install.yml $ podman logs -f awx_awxweb $ podman logs -f awx_awxtask ``` ##### EXPECTED RESULTS ``` RESULT 2 OK ``` ##### ACTUAL RESULTS Permission denied for launch_awx.sh and launch_awx_task.sh ``` $ podman logs awx_awxweb /bin/sh: /usr/bin/launch_awx.sh: Permission denied $ podman logs awx_awxtask /bin/sh: /usr/bin/launch_awx_task.sh: Permission denied ``` ##### ADDITIONAL INFORMATION Creating a derived container using `` RUN chmod 755 /usr/bin/launch_awx*.sh `` resolves this issue. config-file container-file config-file container-file config-file container-file config-file config-file",no-bug,0.95
6535,awx,https://github.com/ansible/awx/issues/6535,Project updates aren't pulling the latest commit,"##### ISSUE TYPE - Bug Report ##### SUMMARY When performing a project update on an existing project it's not pulling the latest commit. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: openshift * Ansible version: NA * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Create a new project to point to a Git branch, take note of the revision and the commit in your branch from git. Push a new commit to the branch and take note of the commit and then perform a project update in AWX. You'll see the revision in AWX doesn't reflect the latest commit in the branch. This happens with all variants of SCM Update options (clean/delete/update rev) If you create a new project with a different name only then does it pull the latest commit. ##### EXPECTED RESULTS AWX updates the project to the latest commit ##### ACTUAL RESULTS AWX doesn't update the project to the latest commit. It's stuck with the commit from the first time the project is setup. ##### ADDITIONAL INFORMATION",source-file,"Project updates aren't pulling the latest commit ##### ISSUE TYPE - Bug Report ##### SUMMARY When performing a project update on an existing project it's not pulling the latest commit. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: openshift * Ansible version: NA * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Create a new project to point to a Git branch, take note of the revision and the commit in your branch from git. Push a new commit to the branch and take note of the commit and then perform a project update in AWX. You'll see the revision in AWX doesn't reflect the latest commit in the branch. This happens with all variants of SCM Update options (clean/delete/update rev) If you create a new project with a different name only then does it pull the latest commit. ##### EXPECTED RESULTS AWX updates the project to the latest commit ##### ACTUAL RESULTS AWX doesn't update the project to the latest commit. It's stuck with the commit from the first time the project is setup. ##### ADDITIONAL INFORMATION source-file",no-bug,0.9
8788,awx,https://github.com/ansible/awx/issues/8788,"[ui_next] SCM Branch override is totally borked for JT, WFJT, and WFViz Node Add/Edit forms","##### ISSUE TYPE - Bug Report ##### SUMMARY When enabling SCM Branch override, the JT Add/Edit and WFViz Node Add/Edit forms. This seems to be broken across the application. ##### ENVIRONMENT * AWX version: be08e0ce695dc2d6b2b260b93dc23939ce4fcd6f ##### STEPS TO REPRODUCE JT Add/Edit 1. Add SCM Branch override to an existing project. 2. Save and Sync 3. Add or Edit a JT Form sourcing that project. No option to provide SCM Branch WorkflowViz Node Add/Edit forms 1. Add SCM Branch override to an existing project. 2. Save and Sync 3. Add a JT to that project 4. Open Workflow Viz for a Workflow. 5. Add JT from step 3 to Workflow. Note: cannot Save to close wizard",source-file | other-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | other-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | other-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file,"[ui_next] SCM Branch override is totally borked for JT, WFJT, and WFViz Node Add/Edit forms ##### ISSUE TYPE - Bug Report ##### SUMMARY When enabling SCM Branch override, the JT Add/Edit and WFViz Node Add/Edit forms. This seems to be broken across the application. ##### ENVIRONMENT * AWX version: be08e0ce695dc2d6b2b260b93dc23939ce4fcd6f ##### STEPS TO REPRODUCE JT Add/Edit 1. Add SCM Branch override to an existing project. 2. Save and Sync 3. Add or Edit a JT Form sourcing that project. No option to provide SCM Branch WorkflowViz Node Add/Edit forms 1. Add SCM Branch override to an existing project. 2. Save and Sync 3. Add a JT to that project 4. Open Workflow Viz for a Workflow. 5. Add JT from step 3 to Workflow. Note: cannot Save to close wizard source-file other-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file source-file source-file other-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file source-file source-file other-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file source-file",no-bug,0.8
5082,awx,https://github.com/ansible/awx/issues/5082,"When Specifying ignore_unreachable: yes in a Task, AWX Inventory Host View Should Reflect Unreachable Hosts as Successful","##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> When specifying `ignore_unreachable: yes` in a playbook task, any hosts that were unreachable at the time show as `unreachable` and `skipped`, but not `failed`. However, when you look in the AWX host inventory view, hosts that were unreachable but didn't essentially fail show as failing: ![image](https://user-images.githubusercontent.com/25699347/67393872-40df5b00-f571-11e9-8d0b-7c1566b1214d.png) In the preceding example, CentOS1 was unreachable while CentOS2 was reachable. The playbook task had `ignore_unreachable: yes` included. The `PLAY RECAP` shows CentOS1 being unreachable and skipped, but not failed: ~~~ PLAY RECAP ********************************************************************* CentOS1 : ok=0 changed=0 unreachable=1 failed=0 skipped=1 rescued=0 ignored=0 CentOS2 : ok=1 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 ~~~ Oddly though, in `awx-manage shell_plus`, CentOS1 is showing active failures: ~~~ >>> r = Host.objects.filter(id=34) >>> for x in r: ... print(x.has_active_failures) ... True ~~~ As a test, I went into `psql` and manually updated `main_host` to change `has_active_failures` to `False`. After doing this, I verified the change via `awx-manage shell_plus` and re-ran the same job template. ~~~ >>> r = Host.objects.filter(id=34) >>> for x in r: ... print(x.has_active_failures) ... False ~~~ As I would expect, the job template was successful, however, CentOS1 was still marked as a failed node, even though no failures were reported in the `PLAY RECAP`. I verified the reversion via `awx-manage shell_plus`: ~~~ >>> r = Host.objects.filter(id=34) >>> for x in r: ... print(x.has_active_failures) ... True ~~~ Per an user's request, they would like to see hosts that were marked `unreachable` and `skipped`, but not `failed` as successful in the AWX inventory host view.",other-file | other-file | other-file | test-file | other-file | test-file | other-file | documentation-file | source-file,"When Specifying ignore_unreachable: yes in a Task, AWX Inventory Host View Should Reflect Unreachable Hosts as Successful ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> When specifying `ignore_unreachable: yes` in a playbook task, any hosts that were unreachable at the time show as `unreachable` and `skipped`, but not `failed`. However, when you look in the AWX host inventory view, hosts that were unreachable but didn't essentially fail show as failing: ![image](https://user-images.githubusercontent.com/25699347/67393872-40df5b00-f571-11e9-8d0b-7c1566b1214d.png) In the preceding example, CentOS1 was unreachable while CentOS2 was reachable. The playbook task had `ignore_unreachable: yes` included. The `PLAY RECAP` shows CentOS1 being unreachable and skipped, but not failed: ~~~ PLAY RECAP ********************************************************************* CentOS1 : ok=0 changed=0 unreachable=1 failed=0 skipped=1 rescued=0 ignored=0 CentOS2 : ok=1 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0 ~~~ Oddly though, in `awx-manage shell_plus`, CentOS1 is showing active failures: ~~~ >>> r = Host.objects.filter(id=34) >>> for x in r: ... print(x.has_active_failures) ... True ~~~ As a test, I went into `psql` and manually updated `main_host` to change `has_active_failures` to `False`. After doing this, I verified the change via `awx-manage shell_plus` and re-ran the same job template. ~~~ >>> r = Host.objects.filter(id=34) >>> for x in r: ... print(x.has_active_failures) ... False ~~~ As I would expect, the job template was successful, however, CentOS1 was still marked as a failed node, even though no failures were reported in the `PLAY RECAP`. I verified the reversion via `awx-manage shell_plus`: ~~~ >>> r = Host.objects.filter(id=34) >>> for x in r: ... print(x.has_active_failures) ... True ~~~ Per an user's request, they would like to see hosts that were marked `unreachable` and `skipped`, but not `failed` as successful in the AWX inventory host view. other-file other-file other-file test-file other-file test-file other-file documentation-file source-file",no-bug,0.8
9187,awx,https://github.com/ansible/awx/issues/9187,The user can try to delete a running job,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Follow up bug from https://github.com/ansible/awx/pull/8970#issuecomment-767863581 The user can select a running job and the delete button appears enabled ##### STEPS TO REPRODUCE 1. Select a running job on Job list 2. Click on delete button ##### EXPECTED RESULTS The delete button shouldnt be enabled ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/12464858/106160916-1e20f680-6165-11eb-8355-2c44ba1dedfe.png)",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"The user can try to delete a running job <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Follow up bug from https://github.com/ansible/awx/pull/8970#issuecomment-767863581 The user can select a running job and the delete button appears enabled ##### STEPS TO REPRODUCE 1. Select a running job on Job list 2. Click on delete button ##### EXPECTED RESULTS The delete button shouldnt be enabled ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/12464858/106160916-1e20f680-6165-11eb-8355-2c44ba1dedfe.png) other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.9
9218,awx,https://github.com/ansible/awx/issues/9218,[ui_next] Paging credentials closes the launch popup,"##### ISSUE TYPE - Bug Report ##### SUMMARY After upgrading AWX from 14.1.0 (to 15.0.1 to 16.0.0) to 17.0.1 it has been noticed that if you launch a job template from the templates menu (that has been found via filtering, or via pagination) using the ""Launch Template"" button, and paginating the credential list results in the Modal popup closing and the URL that was filtered returning to the root templates URL. If Launching the template from within the Template itself, the issue is not apparent. In summary, paginating the credentials in the popup modal from the templates list causes the root URL to reset and the filtering/pagination to be lost. ##### ENVIRONMENT * AWX version: 17.0.0.1 * AWX install method: Kubernetes * Ansible version: 2.9.17 * Operating System: Container host - Ubuntu Server, using awx container * Web Browser: Chrome/Edge/Firefox/Brave ##### STEPS TO REPRODUCE - Install AWX 17.0.1 using Kubernetes - Configure multiple templates (to exceed default 20 per page) - Paginate template list to 2nd page or higher - Click ""Launch Template"" from one of the templates in the list - Paginate the credential list - Watch modal close, and the search results be reset ##### EXPECTED RESULTS - The credential is selected and applied to the launch template ##### ACTUAL RESULTS - The launch template modal is closed, search filter emptied and the progress lost - The URL in the address bar is reset prior to launch template is clicked ##### ADDITIONAL INFORMATION - The time between modal closing and URL change is too fast for screen capture - Can upload additional photos upon request - URL Changes Observed - URL in Template List before launching template: https://awx.my.domain/#/templates?template.page=2 - URL after paginating credential list: https://awx.my.domain/#/templates?credential.page=2 - Happy to provide a PR, however I am not too familiar with react/the code base surrounding the issue. If pointed in the right direction, id be happy to do further investigation into the issue.",other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file,"[ui_next] Paging credentials closes the launch popup ##### ISSUE TYPE - Bug Report ##### SUMMARY After upgrading AWX from 14.1.0 (to 15.0.1 to 16.0.0) to 17.0.1 it has been noticed that if you launch a job template from the templates menu (that has been found via filtering, or via pagination) using the ""Launch Template"" button, and paginating the credential list results in the Modal popup closing and the URL that was filtered returning to the root templates URL. If Launching the template from within the Template itself, the issue is not apparent. In summary, paginating the credentials in the popup modal from the templates list causes the root URL to reset and the filtering/pagination to be lost. ##### ENVIRONMENT * AWX version: 17.0.0.1 * AWX install method: Kubernetes * Ansible version: 2.9.17 * Operating System: Container host - Ubuntu Server, using awx container * Web Browser: Chrome/Edge/Firefox/Brave ##### STEPS TO REPRODUCE - Install AWX 17.0.1 using Kubernetes - Configure multiple templates (to exceed default 20 per page) - Paginate template list to 2nd page or higher - Click ""Launch Template"" from one of the templates in the list - Paginate the credential list - Watch modal close, and the search results be reset ##### EXPECTED RESULTS - The credential is selected and applied to the launch template ##### ACTUAL RESULTS - The launch template modal is closed, search filter emptied and the progress lost - The URL in the address bar is reset prior to launch template is clicked ##### ADDITIONAL INFORMATION - The time between modal closing and URL change is too fast for screen capture - Can upload additional photos upon request - URL Changes Observed - URL in Template List before launching template: https://awx.my.domain/#/templates?template.page=2 - URL after paginating credential list: https://awx.my.domain/#/templates?credential.page=2 - Happy to provide a PR, however I am not too familiar with react/the code base surrounding the issue. If pointed in the right direction, id be happy to do further investigation into the issue. other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file test-file source-file",no-bug,0.9
6887,awx,https://github.com/ansible/awx/issues/6887,"[ui_next] Button 'Create' - to create selectable (custom) Labels and Job Tags, at 'Templates > JT > Edit Details' screen, needs to be marked for translations","##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, button 'Create' - to create selectable (custom) Labels and Job Tags, at 'Templates > JT > Edit Details' screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to breadcrumb 'Templates > Demo Job Template > Edit Details' 3. While creating few selectable (custom) Labels and Job Tags, observe the text over the button 'Create' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS 'Create' appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting text over the button 'Create', at 'Templates > JT > Edit Details' screen, appearing in English, with Japanese google-chrome: ![Screenshot from 2020-04-27 19-42-47_11](https://user-images.githubusercontent.com/12151785/80698440-1b22a800-8af8-11ea-95e4-5ea7861ea801.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | other-file | other-file | other-file | other-file,"[ui_next] Button 'Create' - to create selectable (custom) Labels and Job Tags, at 'Templates > JT > Edit Details' screen, needs to be marked for translations ##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, button 'Create' - to create selectable (custom) Labels and Job Tags, at 'Templates > JT > Edit Details' screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to breadcrumb 'Templates > Demo Job Template > Edit Details' 3. While creating few selectable (custom) Labels and Job Tags, observe the text over the button 'Create' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS 'Create' appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting text over the button 'Create', at 'Templates > JT > Edit Details' screen, appearing in English, with Japanese google-chrome: ![Screenshot from 2020-04-27 19-42-47_11](https://user-images.githubusercontent.com/12151785/80698440-1b22a800-8af8-11ea-95e4-5ea7861ea801.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file other-file other-file other-file other-file",no-bug,0.9
10971,awx,https://github.com/ansible/awx/issues/10971,"Schedule with prompts Template, while input of job tag, string 'No results found', needs to be marked for translations","### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When in ja google-chrome, while editing 'Schedule with prompts' Template, and input of job tag, string 'No results found', needs to be marked for translations ### AWX version 19.3.0 ### Installation method docker on linux ### Modifications yes ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Launch UI in ja google-chrome 2. Click 'Templates' from nav bar 3. Click (or create) the said Job Template titled 'Tower4 - new schedule with prompts' 4. Click on the 'Edit' button 5. Input a Job Tag 6. Observe translation of string 'No results found' ### Expected results 100% Translated (into Japanese) ### Actual results Appears in English ### Additional information 1. When in ja google-chrome, to find strings obviously in English, just swapped the ~/ja/messages.js with dummy ja translation and rebuild the UI 2. Screenshot 1 highlighting the unmarked string when in ja google-chrome ![Screenshot from 2021-08-30 18-24-00_1](https://user-images.githubusercontent.com/12151785/131342306-0ddc23ec-23cd-4a02-b245-17e9a92e0247.png)",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Schedule with prompts Template, while input of job tag, string 'No results found', needs to be marked for translations ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When in ja google-chrome, while editing 'Schedule with prompts' Template, and input of job tag, string 'No results found', needs to be marked for translations ### AWX version 19.3.0 ### Installation method docker on linux ### Modifications yes ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Launch UI in ja google-chrome 2. Click 'Templates' from nav bar 3. Click (or create) the said Job Template titled 'Tower4 - new schedule with prompts' 4. Click on the 'Edit' button 5. Input a Job Tag 6. Observe translation of string 'No results found' ### Expected results 100% Translated (into Japanese) ### Actual results Appears in English ### Additional information 1. When in ja google-chrome, to find strings obviously in English, just swapped the ~/ja/messages.js with dummy ja translation and rebuild the UI 2. Screenshot 1 highlighting the unmarked string when in ja google-chrome ![Screenshot from 2021-08-30 18-24-00_1](https://user-images.githubusercontent.com/12151785/131342306-0ddc23ec-23cd-4a02-b245-17e9a92e0247.png) source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
6171,awx,https://github.com/ansible/awx/issues/6171,Add Edit/Delete buttons to JT Schedule Details,##### ISSUE TYPE - Feature Idea ##### SUMMARY Link to mockups: https://tower-mockups.testing.ansible.com/patternfly/templates/templates-schedules-detail/ Decided to peel this out of https://github.com/ansible/awx/pull/6170 to make for smaller PRs,other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,Add Edit/Delete buttons to JT Schedule Details ##### ISSUE TYPE - Feature Idea ##### SUMMARY Link to mockups: https://tower-mockups.testing.ansible.com/patternfly/templates/templates-schedules-detail/ Decided to peel this out of https://github.com/ansible/awx/pull/6170 to make for smaller PRs other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file,no-bug,0.95
12092,awx,https://github.com/ansible/awx/issues/12092,Provide feedback when saving a Large Workflow Template,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Provide feedback when saving a large workflow template. Right now we do not provide any feedback when saving a large workflow job template, this is specially noticeable with a large number of nodes and connections. This leads to several HTTP requests, and the user can click the save button several times during this process. We could either disable the button once the user clicks on it, until we redirect the user to the details page.",source-file | source-file | test-file | source-file | source-file,"Provide feedback when saving a Large Workflow Template ##### ISSUE TYPE - Feature Idea ##### SUMMARY Provide feedback when saving a large workflow template. Right now we do not provide any feedback when saving a large workflow job template, this is specially noticeable with a large number of nodes and connections. This leads to several HTTP requests, and the user can click the save button several times during this process. We could either disable the button once the user clicks on it, until we redirect the user to the details page. source-file source-file test-file source-file source-file",no-bug,0.9
5687,awx,https://github.com/ansible/awx/issues/5687,Users Form and Detail - UI Cleanup,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Detail * Move fields around to match [mockup](https://tower-mockups.testing.ansible.com/patternfly/users/users-detail/) * Add **Created** and **Last Modified** Details * These fields are missing from `summary_fields`. We'll need to get them added by the api in order to show them??? This will require some discussion with UX/API team. Form * Move form fields around to match the [mockup](https://tower-mockups.testing.ansible.com/patternfly/users/users-add/) * Org lookup should be the last form field item Current Form: <img width=""1039"" alt=""Screen Shot 2020-01-16 at 4 59 24 PM"" src=""https://user-images.githubusercontent.com/15881645/72566474-e0b33900-3881-11ea-9aea-151feae2510e.png""> Mockup Form: <img width=""1196"" alt=""Screen Shot 2020-01-16 at 4 59 48 PM"" src=""https://user-images.githubusercontent.com/15881645/72566495-e741b080-3881-11ea-86a3-f4d11ee4d30a.png""> ##### ADDITIONAL INFORMATION User Response Data ``` { ""id"": 6, ""type"": ""user"", ""url"": ""/api/v2/users/6/"", ""related"": { ""named_url"": ""/api/v2/users/jt_admin/"", ""teams"": ""/api/v2/users/6/teams/"", ""organizations"": ""/api/v2/users/6/organizations/"", ""admin_of_organizations"": ""/api/v2/users/6/admin_of_organizations/"", ""projects"": ""/api/v2/users/6/projects/"", ""credentials"": ""/api/v2/users/6/credentials/"", ""roles"": ""/api/v2/users/6/roles/"", ""activity_stream"": ""/api/v2/users/6/activity_stream/"", ""access_list"": ""/api/v2/users/6/access_list/"", ""tokens"": ""/api/v2/users/6/tokens/"", ""authorized_tokens"": ""/api/v2/users/6/authorized_tokens/"", ""personal_tokens"": ""/api/v2/users/6/personal_tokens/"" }, ""summary_fields"": { ""user_capabilities"": { ""edit"": true, ""delete"": true } }, ""created"": ""2020-01-16T14:55:06.244656Z"", ""username"": ""jt_admin"", ""first_name"": """", ""last_name"": """", ""email"": """", ""is_superuser"": false, ""is_system_auditor"": false, ""ldap_dn"": """", ""last_login"": null, ""external_account"": null, ""auth"": [] } ```",source-file | other-file | test-file | other-file | documentation-file | other-file,"Users Form and Detail - UI Cleanup ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Detail * Move fields around to match [mockup](https://tower-mockups.testing.ansible.com/patternfly/users/users-detail/) * Add **Created** and **Last Modified** Details * These fields are missing from `summary_fields`. We'll need to get them added by the api in order to show them??? This will require some discussion with UX/API team. Form * Move form fields around to match the [mockup](https://tower-mockups.testing.ansible.com/patternfly/users/users-add/) * Org lookup should be the last form field item Current Form: <img width=""1039"" alt=""Screen Shot 2020-01-16 at 4 59 24 PM"" src=""https://user-images.githubusercontent.com/15881645/72566474-e0b33900-3881-11ea-9aea-151feae2510e.png""> Mockup Form: <img width=""1196"" alt=""Screen Shot 2020-01-16 at 4 59 48 PM"" src=""https://user-images.githubusercontent.com/15881645/72566495-e741b080-3881-11ea-86a3-f4d11ee4d30a.png""> ##### ADDITIONAL INFORMATION User Response Data ``` { ""id"": 6, ""type"": ""user"", ""url"": ""/api/v2/users/6/"", ""related"": { ""named_url"": ""/api/v2/users/jt_admin/"", ""teams"": ""/api/v2/users/6/teams/"", ""organizations"": ""/api/v2/users/6/organizations/"", ""admin_of_organizations"": ""/api/v2/users/6/admin_of_organizations/"", ""projects"": ""/api/v2/users/6/projects/"", ""credentials"": ""/api/v2/users/6/credentials/"", ""roles"": ""/api/v2/users/6/roles/"", ""activity_stream"": ""/api/v2/users/6/activity_stream/"", ""access_list"": ""/api/v2/users/6/access_list/"", ""tokens"": ""/api/v2/users/6/tokens/"", ""authorized_tokens"": ""/api/v2/users/6/authorized_tokens/"", ""personal_tokens"": ""/api/v2/users/6/personal_tokens/"" }, ""summary_fields"": { ""user_capabilities"": { ""edit"": true, ""delete"": true } }, ""created"": ""2020-01-16T14:55:06.244656Z"", ""username"": ""jt_admin"", ""first_name"": """", ""last_name"": """", ""email"": """", ""is_superuser"": false, ""is_system_auditor"": false, ""ldap_dn"": """", ""last_login"": null, ""external_account"": null, ""auth"": [] } ``` source-file other-file test-file other-file documentation-file other-file",no-bug,0.8
6630,awx,https://github.com/ansible/awx/issues/6630,refresh token does not expire,"##### ISSUE TYPE - Bug Report ##### SUMMARY Using password grant type, refresh token does not expire according to `REFRESH_TOKEN_EXPIRE_SECONDS`. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Operating System: CentOS v8 * Web Browser: Chrome ##### STEPS TO REPRODUCE Set the expiry times low from AWX GUI > Settings > System Confirm the settings from api ``` https://x.x.x.x/api/v2/settings/all/ ``` ``` ""OAUTH2_PROVIDER"": { ""ACCESS_TOKEN_EXPIRE_SECONDS"": 10, ""REFRESH_TOKEN_EXPIRE_SECONDS"": 10, ""AUTHORIZATION_CODE_EXPIRE_SECONDS"": 600 }, ``` Create an Application from the GUI of Authorization Grant Type `Resource owner password-based`. Save a copy of the `clientId` and `clientSecret`. Create the access and refresh tokens using password grant: ```bash curl -v -k -X POST -d \ ""grant_type=password&username=someuser&password=somepassword&scope=read"" \ -u ""clientId:clientSecret"" https://x.x.x.x/api/o/token/ -i ``` Which returns ```json {""access_token"": ""Ma5cLFKYs1Q8iknITJjAe0VXJyiUVP"", ""expires_in"": 10, ""token_type"": ""Bearer"", ""scope"": ""read"", ""refresh_token"": ""IymTfQp0JtT3HtDUitoAj7eaxXr3zM""} ``` Wait at least 20 seconds and try use refresh token ``` curl -k -X POST -d \ ""grant_type=refresh_token&refresh_token=IymTfQp0JtT3HtDUitoAj7eaxXr3zM"" \ -u ""clientId:clientSecret"" https://x.x.x.x/api/o/token/ -i ``` That previous refresh token continues to generate new `access_token` and new `refresh_token` after 20 seconds. Even after I waited 12 hours it still worked. I also tried manually adding the settings to `/etc/tower/settings.py` of the docker container. ``` OAUTH2_PROVIDER = {'ACCESS_TOKEN_EXPIRE_SECONDS': 10, 'REFRESH_TOKEN_EXPIRE_SECONDS': 10, 'AUTHORIZATION_CODE_EXPIRE_SECONDS': 600} ``` and restarting the container. ##### EXPECTED RESULTS The refresh token should have failed to generate a new access token and returned an error message after more than 10 + 10 seconds. ##### ACTUAL RESULTS The last refresh token still generates a new `access_token` and new `refresh_token` after 20 seconds. I waited 12 hours and the last generated refresh token still works. So it appears to ignore the refresh token expiry time. #### ADDITIONAL INFO Should the refresh token stay the same each time it is used? Current behavior is that a new refresh token is generated each time it is used. The previous one no longer works. So the way it works currently, refresh tokens are one-time use only.",source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file,"refresh token does not expire ##### ISSUE TYPE - Bug Report ##### SUMMARY Using password grant type, refresh token does not expire according to `REFRESH_TOKEN_EXPIRE_SECONDS`. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Operating System: CentOS v8 * Web Browser: Chrome ##### STEPS TO REPRODUCE Set the expiry times low from AWX GUI > Settings > System Confirm the settings from api ``` https://x.x.x.x/api/v2/settings/all/ ``` ``` ""OAUTH2_PROVIDER"": { ""ACCESS_TOKEN_EXPIRE_SECONDS"": 10, ""REFRESH_TOKEN_EXPIRE_SECONDS"": 10, ""AUTHORIZATION_CODE_EXPIRE_SECONDS"": 600 }, ``` Create an Application from the GUI of Authorization Grant Type `Resource owner password-based`. Save a copy of the `clientId` and `clientSecret`. Create the access and refresh tokens using password grant: ```bash curl -v -k -X POST -d \ ""grant_type=password&username=someuser&password=somepassword&scope=read"" \ -u ""clientId:clientSecret"" https://x.x.x.x/api/o/token/ -i ``` Which returns ```json {""access_token"": ""Ma5cLFKYs1Q8iknITJjAe0VXJyiUVP"", ""expires_in"": 10, ""token_type"": ""Bearer"", ""scope"": ""read"", ""refresh_token"": ""IymTfQp0JtT3HtDUitoAj7eaxXr3zM""} ``` Wait at least 20 seconds and try use refresh token ``` curl -k -X POST -d \ ""grant_type=refresh_token&refresh_token=IymTfQp0JtT3HtDUitoAj7eaxXr3zM"" \ -u ""clientId:clientSecret"" https://x.x.x.x/api/o/token/ -i ``` That previous refresh token continues to generate new `access_token` and new `refresh_token` after 20 seconds. Even after I waited 12 hours it still worked. I also tried manually adding the settings to `/etc/tower/settings.py` of the docker container. ``` OAUTH2_PROVIDER = {'ACCESS_TOKEN_EXPIRE_SECONDS': 10, 'REFRESH_TOKEN_EXPIRE_SECONDS': 10, 'AUTHORIZATION_CODE_EXPIRE_SECONDS': 600} ``` and restarting the container. ##### EXPECTED RESULTS The refresh token should have failed to generate a new access token and returned an error message after more than 10 + 10 seconds. ##### ACTUAL RESULTS The last refresh token still generates a new `access_token` and new `refresh_token` after 20 seconds. I waited 12 hours and the last generated refresh token still works. So it appears to ignore the refresh token expiry time. #### ADDITIONAL INFO Should the refresh token stay the same each time it is used? Current behavior is that a new refresh token is generated each time it is used. The previous one no longer works. So the way it works currently, refresh tokens are one-time use only. source-file source-file source-file source-file test-file source-file test-file source-file test-file",bug,0.95
8020,awx,https://github.com/ansible/awx/issues/8020,Items inside kebab has visual inconsistencies across ui_next,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY The style of the items inside kebab is different across different resources (Organizations, Inventories etc..) See: https://github.com/ansible/awx/issues/7831 ##### ENVIRONMENT * AWX version: 14.0.0 * AWX install method: docker for mac * Ansible version: 2.9.11 * Operating System: MacOs * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Navigate to Inventories 2. Select an inventory 3. Navigate to Sources tab 4. Click on Advanced search 5. Click on kebab Theres a lot of different places to find this inconsistency, heres a list with all of them: ``` Templates -> Template -> Access tab -> advance search -> delete Credentials -> Credential -> Access tab -> advance search -> delete Projects -> Project -> Access tab -> advance search -> delete Inventories -> Inventory -> Access tab -> advance search -> delete Inventories -> Inventory -> Groups tab -> advance search -> delete Inventories -> Inventory -> Sources tab -> advance search -> Sync All Hosts -> Host -> Groups tab -> advance search -> Add or disassociate Organizations -> Organization -> Access tab -> advance search -> delete Teams -> Team -> Roles tab -> advance search -> Add ``` ##### EXPECTED RESULTS The style of this items inside kebab should be consistent following a pattern. ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/12464858/91360041-1c28c500-e7cc-11ea-9d94-34fb7b8ab7ae.png) ![image](https://user-images.githubusercontent.com/12464858/91360170-4da19080-e7cc-11ea-936b-dd6508773231.png)",source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file,"Items inside kebab has visual inconsistencies across ui_next <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY The style of the items inside kebab is different across different resources (Organizations, Inventories etc..) See: https://github.com/ansible/awx/issues/7831 ##### ENVIRONMENT * AWX version: 14.0.0 * AWX install method: docker for mac * Ansible version: 2.9.11 * Operating System: MacOs * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Navigate to Inventories 2. Select an inventory 3. Navigate to Sources tab 4. Click on Advanced search 5. Click on kebab Theres a lot of different places to find this inconsistency, heres a list with all of them: ``` Templates -> Template -> Access tab -> advance search -> delete Credentials -> Credential -> Access tab -> advance search -> delete Projects -> Project -> Access tab -> advance search -> delete Inventories -> Inventory -> Access tab -> advance search -> delete Inventories -> Inventory -> Groups tab -> advance search -> delete Inventories -> Inventory -> Sources tab -> advance search -> Sync All Hosts -> Host -> Groups tab -> advance search -> Add or disassociate Organizations -> Organization -> Access tab -> advance search -> delete Teams -> Team -> Roles tab -> advance search -> Add ``` ##### EXPECTED RESULTS The style of this items inside kebab should be consistent following a pattern. ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/12464858/91360041-1c28c500-e7cc-11ea-9d94-34fb7b8ab7ae.png) ![image](https://user-images.githubusercontent.com/12464858/91360170-4da19080-e7cc-11ea-936b-dd6508773231.png) source-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
6440,awx,https://github.com/ansible/awx/issues/6440,Update JobTemplate formik use in order to not require context/formikBag,"in #6385 we converted the JT Form to using the useField hooks...in the process there are some quirks of that form that made us have to utilize the formik context. Specifically: - organization is currently set via the inventory change...we will be moving this out of the form into the edit/add pages based on the project's organization. - currently the validation for the inventory is a bit weird (it doesn't use the validators, instead puts the validation text and DOM directly in the form). It needs the formik context right now because it uses the prompt checkbox in addition to the field value to set required validity. There might not be an easy way to change this, so we may end up requiring the formik context, but it's worth taking a look to see if this can be done in a more consistent way to the rest of the validation.",source-file | source-file | source-file | source-file | test-file | source-file | source-file,"Update JobTemplate formik use in order to not require context/formikBag in #6385 we converted the JT Form to using the useField hooks...in the process there are some quirks of that form that made us have to utilize the formik context. Specifically: - organization is currently set via the inventory change...we will be moving this out of the form into the edit/add pages based on the project's organization. - currently the validation for the inventory is a bit weird (it doesn't use the validators, instead puts the validation text and DOM directly in the form). It needs the formik context right now because it uses the prompt checkbox in addition to the field value to set required validity. There might not be an easy way to change this, so we may end up requiring the formik context, but it's worth taking a look to see if this can be done in a more consistent way to the rest of the validation. source-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
7324,awx,https://github.com/ansible/awx/issues/7324,List Custom Credential Type,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add support for list Custom Credential Types,test-file | other-file | test-file | other-file | test-file | source-file | test-file | other-file | test-file | other-file | test-file | source-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file,List Custom Credential Type ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add support for list Custom Credential Types test-file other-file test-file other-file test-file source-file test-file other-file test-file other-file test-file source-file test-file other-file test-file other-file test-file test-file other-file test-file other-file test-file test-file other-file test-file other-file test-file,no-bug,0.9
10594,awx,https://github.com/ansible/awx/issues/10594,Dependency upgrade Meta Issue,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary We should upgrade dependencies. Below is a list of dependencies that are at least 1 major release behind. - [ ] eslint-config-airbnb - [ ] eslint-plugin-react-hooks - [ ] has-ansi - [ ] html entities - [ ] http-proxy-middleware - [ ] js-yaml - [ ] prettier - [ ] react - [ ] react-dom - [ ] styled-components - [ ] react-router (this will be much easier/faster once the backwards-compat package is available: https://reactrouterdotcom.fly.dev/docs/en/v6/upgrading/v5#backwards-compatibility-package) Mostly this issue is to discuss which, if any, of these we want to upgrade now, and which can wait. We should create other issues to track upgrading of individual/groups of dependencies and link those issues to this 1. ### AWX version 19.2 ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce run `npm outdated` ### Expected results some deps will be outdated ### Actual results see screen shot below ### Additional information ![Screen Shot 2021-07-06 at 2 14 28 PM](https://user-images.githubusercontent.com/39280967/124647893-89819980-de64-11eb-82f0-9b8b59cce168.png)",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,"Dependency upgrade Meta Issue ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary We should upgrade dependencies. Below is a list of dependencies that are at least 1 major release behind. - [ ] eslint-config-airbnb - [ ] eslint-plugin-react-hooks - [ ] has-ansi - [ ] html entities - [ ] http-proxy-middleware - [ ] js-yaml - [ ] prettier - [ ] react - [ ] react-dom - [ ] styled-components - [ ] react-router (this will be much easier/faster once the backwards-compat package is available: https://reactrouterdotcom.fly.dev/docs/en/v6/upgrading/v5#backwards-compatibility-package) Mostly this issue is to discuss which, if any, of these we want to upgrade now, and which can wait. We should create other issues to track upgrading of individual/groups of dependencies and link those issues to this 1. ### AWX version 19.2 ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce run `npm outdated` ### Expected results some deps will be outdated ### Actual results see screen shot below ### Additional information ![Screen Shot 2021-07-06 at 2 14 28 PM](https://user-images.githubusercontent.com/39280967/124647893-89819980-de64-11eb-82f0-9b8b59cce168.png) documentation-file documentation-file documentation-file documentation-file documentation-file",no-bug,0.95
8548,awx,https://github.com/ansible/awx/issues/8548,Smart inventory issues,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Opening this bug to address all concerns related to this [issue](https://github.com/ansible/awx/issues/8542) See: https://github.com/ansible/awx/issues/8542#issuecomment-722519786 - [x] The smart inventory form is missing helps popovers especially for the field `Host Filter` - [x] The host filter modal contains link to hosts for each item, which can easily move the user to host details (the old UI is a list without link) - [x] The host filter modal is missing the `Key` button that contains very useful information about how to perform search",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file,"Smart inventory issues <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Opening this bug to address all concerns related to this [issue](https://github.com/ansible/awx/issues/8542) See: https://github.com/ansible/awx/issues/8542#issuecomment-722519786 - [x] The smart inventory form is missing helps popovers especially for the field `Host Filter` - [x] The host filter modal contains link to hosts for each item, which can easily move the user to host details (the old UI is a list without link) - [x] The host filter modal is missing the `Key` button that contains very useful information about how to perform search other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file",no-bug,0.9
5820,awx,https://github.com/ansible/awx/issues/5820,UI refers to creds for projects as SCM Credential but then no such type in Credential Types (is Source Control there),"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Different names for the same thing makes it hard to figure out what to do ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ""I am making a project. Oh I need SCM Credential. Go to credential create form. Search SCM. sad, no SCM"" ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Whatever the project says I need to provide, I should be able to find in Credential create form ##### ACTUAL RESULTS <!-- What actually happened? --> ![Screenshot from 2020-02-03 16-09-26](https://user-images.githubusercontent.com/29239279/73691598-a5e23b00-46a0-11ea-9ecc-00d520b9702d.png) ![Screenshot from 2020-02-03 16-08-59](https://user-images.githubusercontent.com/29239279/73691621-b2ff2a00-46a0-11ea-9811-1a404d7852c9.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> want this in ui_next but would be nice in current ui",other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file,"UI refers to creds for projects as SCM Credential but then no such type in Credential Types (is Source Control there) ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Different names for the same thing makes it hard to figure out what to do ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ""I am making a project. Oh I need SCM Credential. Go to credential create form. Search SCM. sad, no SCM"" ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Whatever the project says I need to provide, I should be able to find in Credential create form ##### ACTUAL RESULTS <!-- What actually happened? --> ![Screenshot from 2020-02-03 16-09-26](https://user-images.githubusercontent.com/29239279/73691598-a5e23b00-46a0-11ea-9ecc-00d520b9702d.png) ![Screenshot from 2020-02-03 16-08-59](https://user-images.githubusercontent.com/29239279/73691621-b2ff2a00-46a0-11ea-9811-1a404d7852c9.png) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> want this in ui_next but would be nice in current ui other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file",no-bug,0.8
7769,awx,https://github.com/ansible/awx/issues/7769,Update conditional in project update playbook - require min Ansible 2.9 to install collections,"##### ISSUE TYPE - Bug Report ##### SUMMARY This needs to be backed off from 2.8 to 2.9: https://github.com/ansible/awx/blob/708244881cc6cd04722d3bc36d7d6036bffc329a/awx/playbooks/project_update.yml#L165 Because if you run with Ansible 2.8, it gives blank `stdout` and that's confusing. If my research is correct, @jborean93 added the `ansible-galaxy collection` CLI in https://github.com/ansible/ansible/pull/57106, which was 2.9. Version 2.8 seems to mistake these invocations for a role command, and it doesn't work right.",config-file,"Update conditional in project update playbook - require min Ansible 2.9 to install collections ##### ISSUE TYPE - Bug Report ##### SUMMARY This needs to be backed off from 2.8 to 2.9: https://github.com/ansible/awx/blob/708244881cc6cd04722d3bc36d7d6036bffc329a/awx/playbooks/project_update.yml#L165 Because if you run with Ansible 2.8, it gives blank `stdout` and that's confusing. If my research is correct, @jborean93 added the `ansible-galaxy collection` CLI in https://github.com/ansible/ansible/pull/57106, which was 2.9. Version 2.8 seems to mistake these invocations for a role command, and it doesn't work right. config-file",no-bug,0.9
9872,awx,https://github.com/ansible/awx/issues/9872,No feedback when launching sync from details screen,"##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Create an inventory source, or a project 2. Go to the 'Details' view 3. See the 'Sync' button ![Screenshot from 2021-04-09 17-35-43](https://user-images.githubusercontent.com/5208768/114243196-2c0ba880-995a-11eb-93e6-859e4b4844a9.png) Click it to start a sync. There is no visible indicator that the sync was launched - no toast notification, no redirection to a view of the job, etc. A user may click multiple times thinking nothing is happening, launching multiple syncs. ##### ENVIRONMENT * AWX version: devel 12/10",other-file | source-file | test-file | other-file | test-file | source-file | test-file | other-file | test-file,"No feedback when launching sync from details screen ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Create an inventory source, or a project 2. Go to the 'Details' view 3. See the 'Sync' button ![Screenshot from 2021-04-09 17-35-43](https://user-images.githubusercontent.com/5208768/114243196-2c0ba880-995a-11eb-93e6-859e4b4844a9.png) Click it to start a sync. There is no visible indicator that the sync was launched - no toast notification, no redirection to a view of the job, etc. A user may click multiple times thinking nothing is happening, launching multiple syncs. ##### ENVIRONMENT * AWX version: devel 12/10 other-file source-file test-file other-file test-file source-file test-file other-file test-file",no-bug,0.85
6991,awx,https://github.com/ansible/awx/issues/6991,Host summary generation for large inventories is too slow,"##### ISSUE TYPE - Bug Report ##### SUMMARY Generate an inventory with 5000 hosts, and run a playbook. Observe that the `playbook_on_stats` event takes a **very** long time (depending on total hosts, and how your inventory is structured, several minutes+) to show up. This code is super duper crazy slow (mostly because it generates *lots* of insert and update queries for large inventories): https://github.com/ansible/awx/blob/devel/awx/main/models/events.py#L482 ```python @pytest.mark.django_db def test_host_summary_generation(): hostnames = [f'Host {i}' for i in range(5000)] inv = Inventory() inv.save() for h in hostnames: Host(name=h, inventory_id=inv.id).save() j = Job(inventory=inv) j.save() JobEvent.create_from_data( job_id=j.pk, parent_uuid='abc123', event='playbook_on_stats', event_data={'ok': dict((hostname, 5) for hostname in hostnames)} ).save() je = JobEvent.objects.first() je._update_host_summary_from_stats(hostnames) assert j.job_host_summaries.count() == len(hostnames) assert sorted([s.host_name for s in j.job_host_summaries.all()]) == sorted(hostnames) ```",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"Host summary generation for large inventories is too slow ##### ISSUE TYPE - Bug Report ##### SUMMARY Generate an inventory with 5000 hosts, and run a playbook. Observe that the `playbook_on_stats` event takes a **very** long time (depending on total hosts, and how your inventory is structured, several minutes+) to show up. This code is super duper crazy slow (mostly because it generates *lots* of insert and update queries for large inventories): https://github.com/ansible/awx/blob/devel/awx/main/models/events.py#L482 ```python @pytest.mark.django_db def test_host_summary_generation(): hostnames = [f'Host {i}' for i in range(5000)] inv = Inventory() inv.save() for h in hostnames: Host(name=h, inventory_id=inv.id).save() j = Job(inventory=inv) j.save() JobEvent.create_from_data( job_id=j.pk, parent_uuid='abc123', event='playbook_on_stats', event_data={'ok': dict((hostname, 5) for hostname in hostnames)} ).save() je = JobEvent.objects.first() je._update_host_summary_from_stats(hostnames) assert j.job_host_summaries.count() == len(hostnames) assert sorted([s.host_name for s in j.job_host_summaries.all()]) == sorted(hostnames) ``` source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.9
13429,awx,https://github.com/ansible/awx/issues/13429,admin_role disassociated despite remove_admins = false,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary After upgrading from AWX 21.5.1 to 21.10.2 all organization admin roles were removed from the users' accounts. We're using LDAP with an organization map looking like this: ``` { ""Org1"": { ""admins"": false, ""remove_admins"": false, ""remove_users"": true, ""users"": [ ""CN=..."" ] } } ``` Users were manually granted the organization admin role. That had worked before, but after the upgrade, the role was removed from the users with the following activity message: ``` | 13.1.2023, 14:10:40 | system | disassociated Org1 admin_role from jdoe ``` And AWX was logging the following: ``` DEBUG [4ecb27399afb4cb7b9ad2fd5e666a8ca] awx.sso.backends LDAP adapter removing user jdoe permission of admin_role from organization Org1 ``` I tried to remove '""admins"": false' from the config or replace it with an empty list ('admins"": [],') but that didn't change anything. ""None"" was not accepted by the form. According to the Automation Platform docs that should work: https://docs.ansible.com/automation-controller/4.2.1/html/administration/social_auth.html#organization-mapping This seems to be related to the following PR: https://github.com/ansible/awx/pull/12949 ### AWX version 21.10.2 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.12.2 ### Operating system Debian 11 ### Web browser Firefox ### Steps to reproduce 1) Add default LDAP settings 2) Create an organization map with ""admins: false"" 3) Add a user manually as organization admin to an organization 4) Login with that user and recognize that the admin_role was removed ### Expected results The system doesn't remove the admin_role from the user. ### Actual results The admin_role is removed from the user ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file,"admin_role disassociated despite remove_admins = false ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary After upgrading from AWX 21.5.1 to 21.10.2 all organization admin roles were removed from the users' accounts. We're using LDAP with an organization map looking like this: ``` { ""Org1"": { ""admins"": false, ""remove_admins"": false, ""remove_users"": true, ""users"": [ ""CN=..."" ] } } ``` Users were manually granted the organization admin role. That had worked before, but after the upgrade, the role was removed from the users with the following activity message: ``` | 13.1.2023, 14:10:40 | system | disassociated Org1 admin_role from jdoe ``` And AWX was logging the following: ``` DEBUG [4ecb27399afb4cb7b9ad2fd5e666a8ca] awx.sso.backends LDAP adapter removing user jdoe permission of admin_role from organization Org1 ``` I tried to remove '""admins"": false' from the config or replace it with an empty list ('admins"": [],') but that didn't change anything. ""None"" was not accepted by the form. According to the Automation Platform docs that should work: https://docs.ansible.com/automation-controller/4.2.1/html/administration/social_auth.html#organization-mapping This seems to be related to the following PR: https://github.com/ansible/awx/pull/12949 ### AWX version 21.10.2 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.12.2 ### Operating system Debian 11 ### Web browser Firefox ### Steps to reproduce 1) Add default LDAP settings 2) Create an organization map with ""admins: false"" 3) Add a user manually as organization admin to an organization 4) Login with that user and recognize that the admin_role was removed ### Expected results The system doesn't remove the admin_role from the user. ### Actual results The admin_role is removed from the user ### Additional information _No response_ source-file source-file source-file source-file source-file",bug,0.9
6267,awx,https://github.com/ansible/awx/issues/6267,Email Notification - started date is displayed as null when the approval node needs review,"When an approval node needs review and an email notification is setup, the email body contains null started, when the started field is actually set in the api Steps to reproduce: 1. Create a WFJT with approval node 2. associate it with Email notification template that will send notification on WF Approvals 3. launch the WFJT 4. wait for the email notification when the approval node needs review: Expected Results: the notification should be as follows: ``` The approval node ""approval node MediumResident"" needs review. This approval node can be viewed at: https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86 { ""id"": 87, ""name"": ""approval node MediumResident\ufffd"", ""url"": ""https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86"", ""created_by"": ""apurva"", ""started"": ""2020-03-11T21:21:19.898052+00:00"", ""finished"": null, ""status"": ""pending"", ""traceback"": """" } ``` Actual Results: the notification has null started field ``` The approval node ""approval node MediumResident"" needs review. This approval node can be viewed at: https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86 { ""id"": 87, ""name"": ""approval node MediumResident\ufffd"", ""url"": ""https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86"", ""created_by"": ""apurva"", ""started"": null, ""finished"": null, ""status"": ""pending"", ""traceback"": """" } ```",source-file | source-file,"Email Notification - started date is displayed as null when the approval node needs review When an approval node needs review and an email notification is setup, the email body contains null started, when the started field is actually set in the api Steps to reproduce: 1. Create a WFJT with approval node 2. associate it with Email notification template that will send notification on WF Approvals 3. launch the WFJT 4. wait for the email notification when the approval node needs review: Expected Results: the notification should be as follows: ``` The approval node ""approval node MediumResident"" needs review. This approval node can be viewed at: https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86 { ""id"": 87, ""name"": ""approval node MediumResident\ufffd"", ""url"": ""https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86"", ""created_by"": ""apurva"", ""started"": ""2020-03-11T21:21:19.898052+00:00"", ""finished"": null, ""status"": ""pending"", ""traceback"": """" } ``` Actual Results: the notification has null started field ``` The approval node ""approval node MediumResident"" needs review. This approval node can be viewed at: https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86 { ""id"": 87, ""name"": ""approval node MediumResident\ufffd"", ""url"": ""https://ec2-18-212-167-124.compute-1.amazonaws.com/#/workflows/86"", ""created_by"": ""apurva"", ""started"": null, ""finished"": null, ""status"": ""pending"", ""traceback"": """" } ``` source-file source-file",bug,0.9
9016,awx,https://github.com/ansible/awx/issues/9016,"UI: Timeout for job template reads like ANSIBLE_TIMEOUT but it's for job, not just task","<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> When clicking on the `?` for TIMEOUT for job template reads like `ANSIBLE_TIMEOUT` but it's for job, not just task. Can lead to confusion if left alone. ##### ENVIRONMENT * AWX version: latest ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Click on the `?` for TIMEOUT for job template and read text ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The amount of time (in seconds) to run before the job is canceled. Defaults to 0 for no job timeout. ##### ACTUAL RESULTS The amount of time (in seconds) to run before the task is canceled. Defaults to 0 for no job timeout. <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file,"UI: Timeout for job template reads like ANSIBLE_TIMEOUT but it's for job, not just task <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> When clicking on the `?` for TIMEOUT for job template reads like `ANSIBLE_TIMEOUT` but it's for job, not just task. Can lead to confusion if left alone. ##### ENVIRONMENT * AWX version: latest ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Click on the `?` for TIMEOUT for job template and read text ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> The amount of time (in seconds) to run before the job is canceled. Defaults to 0 for no job timeout. ##### ACTUAL RESULTS The amount of time (in seconds) to run before the task is canceled. Defaults to 0 for no job timeout. <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file",no-bug,0.9
5367,awx,https://github.com/ansible/awx/issues/5367,Link to Instance Group docs incorrect,"##### ISSUE TYPE - Bug Report ##### SUMMARY The Create and Edit Instance Group forms have a pop-up that links incorrectly to the Clustering chapter. ##### ENVIRONMENT - Tower version: 3.6.0 - AWX install method: yolo #6631: Instance URL - https://ec2-34-238-249-200.compute-1.amazonaws.com - Ansible version: 2.10.0.dev0 - Operating System: Mac Mojave 10.14.6 - Web Browser: Version 78.0.3904.87 (Official Build) (64-bit) ##### STEPS TO REPRODUCE To the Create form: Instance Groups>Create Instance Group (Details tab) To the edit form: Instance Groups> Choose one off the list> Details tab ##### EXPECTED RESULTS ![image](https://user-images.githubusercontent.com/7514801/69273898-8144ef80-0b96-11ea-898e-0c96d538a52d.png) The way it is linking, the link needs to link to the Instance Groups documentation instead: https://docs.ansible.com/ansible-tower/latest/html/userguide/instance_groups.html ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/7514801/69273185-2bbc1300-0b95-11ea-9533-3cab4f80748c.png) ##### ADDITIONAL INFORMATION I would think that container groups need to link to the [Container Groups](https://docs.ansible.com/ansible-tower/latest/html/administration/external_execution_envs.html#ag-container-groups) section of the docs and the Instance Groups need to link to: https://docs.ansible.com/ansible-tower/latest/html/userguide/instance_groups.html",source-file | source-file,"Link to Instance Group docs incorrect ##### ISSUE TYPE - Bug Report ##### SUMMARY The Create and Edit Instance Group forms have a pop-up that links incorrectly to the Clustering chapter. ##### ENVIRONMENT - Tower version: 3.6.0 - AWX install method: yolo #6631: Instance URL - https://ec2-34-238-249-200.compute-1.amazonaws.com - Ansible version: 2.10.0.dev0 - Operating System: Mac Mojave 10.14.6 - Web Browser: Version 78.0.3904.87 (Official Build) (64-bit) ##### STEPS TO REPRODUCE To the Create form: Instance Groups>Create Instance Group (Details tab) To the edit form: Instance Groups> Choose one off the list> Details tab ##### EXPECTED RESULTS ![image](https://user-images.githubusercontent.com/7514801/69273898-8144ef80-0b96-11ea-898e-0c96d538a52d.png) The way it is linking, the link needs to link to the Instance Groups documentation instead: https://docs.ansible.com/ansible-tower/latest/html/userguide/instance_groups.html ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/7514801/69273185-2bbc1300-0b95-11ea-9533-3cab4f80748c.png) ##### ADDITIONAL INFORMATION I would think that container groups need to link to the [Container Groups](https://docs.ansible.com/ansible-tower/latest/html/administration/external_execution_envs.html#ag-container-groups) section of the docs and the Instance Groups need to link to: https://docs.ansible.com/ansible-tower/latest/html/userguide/instance_groups.html source-file source-file",no-bug,0.9
7801,awx,https://github.com/ansible/awx/issues/7801,Associate instances to an instance group,##### ISSUE TYPE - Feature Idea ##### SUMMARY Associate instances to an instance group. See: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-instances/,source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | source-file | source-file | test-file,Associate instances to an instance group ##### ISSUE TYPE - Feature Idea ##### SUMMARY Associate instances to an instance group. See: https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups-instances/ source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file source-file source-file source-file other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file test-file other-file test-file other-file source-file source-file test-file,no-bug,0.9
5093,awx,https://github.com/ansible/awx/issues/5093,[AWXKIT] Unable to provide extra_vars when launching workflow_job_template,"##### ISSUE TYPE - Bug Report ##### SUMMARY Using the AWXKIT CLI tool `awx` it is not possible to provide extra parameters like `scm_branch` or `extra_vars` when launching a workflow_job_template. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.7.10 (Client) * Operating system: macOS Mojave ##### STEPS TO REPRODUCE Installed AWX 8.0.0 and created a workflow `sample_workflow`, which * has survey enabled: ""Ask for `foobar`"" * prompt for SCM branch when launching workflow Installed AWXKIT: ```pip install ""https://github.com/ansible/awx/archive/8.0.0.tar.gz#egg=awxkit&subdirectory=awxkit""``` Tried to launch workflow: ```awx workflow_job_templates launch sample_workflow``` Result: ```{""variables_needed_to_start"": [""'foobar' value missing""]}``` Tried to extend request by using same parameter as for `tower-cli`: ```awx workflow_job_templates launch sample_workflow -e '{""foobar"": 12345}'``` After enabling debug output `awx` threw a warning, that `-e` is an `unrecognized argument`. Tried various arguments like * `--extra_vars` * `--extra-vars` * `-extra_vars` * ... Same result. ##### EXPECTED RESULTS CLI tool should ask for missing configuration items like `extra_vars`, `scm_branch`, or at least provide documentation on how to launch this special kind of workflow_job_templates. ##### ACTUAL RESULTS See ""Steps to reproduce""",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file,"[AWXKIT] Unable to provide extra_vars when launching workflow_job_template ##### ISSUE TYPE - Bug Report ##### SUMMARY Using the AWXKIT CLI tool `awx` it is not possible to provide extra parameters like `scm_branch` or `extra_vars` when launching a workflow_job_template. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.7.10 (Client) * Operating system: macOS Mojave ##### STEPS TO REPRODUCE Installed AWX 8.0.0 and created a workflow `sample_workflow`, which * has survey enabled: ""Ask for `foobar`"" * prompt for SCM branch when launching workflow Installed AWXKIT: ```pip install ""https://github.com/ansible/awx/archive/8.0.0.tar.gz#egg=awxkit&subdirectory=awxkit""``` Tried to launch workflow: ```awx workflow_job_templates launch sample_workflow``` Result: ```{""variables_needed_to_start"": [""'foobar' value missing""]}``` Tried to extend request by using same parameter as for `tower-cli`: ```awx workflow_job_templates launch sample_workflow -e '{""foobar"": 12345}'``` After enabling debug output `awx` threw a warning, that `-e` is an `unrecognized argument`. Tried various arguments like * `--extra_vars` * `--extra-vars` * `-extra_vars` * ... Same result. ##### EXPECTED RESULTS CLI tool should ask for missing configuration items like `extra_vars`, `scm_branch`, or at least provide documentation on how to launch this special kind of workflow_job_templates. ##### ACTUAL RESULTS See ""Steps to reproduce"" source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file test-file source-file test-file source-file",bug,0.9
10333,awx,https://github.com/ansible/awx/issues/10333,UI does not select galaxy credential on organization create,"##### ISSUE TYPE - Bug Report ##### SUMMARY In older UI, when creating a new organization, the system default galaxy credentail would be preselected. In the new UI, it is not. ##### ENVIRONMENT * AWX version: devel-ish as of 2021-06-02 * AWX install method: N/A * ##### STEPS TO REPRODUCE create an org",source-file | other-file | other-file | test-file | other-file | test-file,"UI does not select galaxy credential on organization create ##### ISSUE TYPE - Bug Report ##### SUMMARY In older UI, when creating a new organization, the system default galaxy credentail would be preselected. In the new UI, it is not. ##### ENVIRONMENT * AWX version: devel-ish as of 2021-06-02 * AWX install method: N/A * ##### STEPS TO REPRODUCE create an org source-file other-file other-file test-file other-file test-file",no-bug,0.9
14501,awx,https://github.com/ansible/awx/issues/14501,[DOCS] Add alt-text codeblock to Images for Userguide: credential_types.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the credential_types.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: credential_types.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the credential_types.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file",no-bug,1.0
6531,awx,https://github.com/ansible/awx/issues/6531,[RFE] Workflow approval requests should have a job ID,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> <img width=""532"" alt="" 2020-04-02 8 20 21"" src=""https://user-images.githubusercontent.com/2234991/78195865-aee26380-74bb-11ea-900e-6475a9c9b9fe.png""> The user cannot distinguish the waiting approval to proceed. I suppose the job ID of the workflow is needed on each of these item.",source-file | test-file,"[RFE] Workflow approval requests should have a job ID ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> <img width=""532"" alt="" 2020-04-02 8 20 21"" src=""https://user-images.githubusercontent.com/2234991/78195865-aee26380-74bb-11ea-900e-6475a9c9b9fe.png""> The user cannot distinguish the waiting approval to proceed. I suppose the job ID of the workflow is needed on each of these item. source-file test-file",no-bug,0.9
5081,awx,https://github.com/ansible/awx/issues/5081,Setting base url fail with error 400,"##### ISSUE TYPE - Bug Report ##### SUMMARY Whe have an internal dns with a domain like ""org.les800"" when i'm trying to set the base url of the tower host with something like ""tower.org.les800"", it fail with an error 400 and url not valid ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: MrMee rpm * Ansible version: 2.8.6 * Operating System: CentOS 7.7 * Web Browser: Chrome latest ##### STEPS TO REPRODUCE try an url like http://tower.org.les800 in settings/system ##### EXPECTED RESULTS url for the base host set ##### ACTUAL RESULTS got url with the name of the server instead ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file,"Setting base url fail with error 400 ##### ISSUE TYPE - Bug Report ##### SUMMARY Whe have an internal dns with a domain like ""org.les800"" when i'm trying to set the base url of the tower host with something like ""tower.org.les800"", it fail with an error 400 and url not valid ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: MrMee rpm * Ansible version: 2.8.6 * Operating System: CentOS 7.7 * Web Browser: Chrome latest ##### STEPS TO REPRODUCE try an url like http://tower.org.les800 in settings/system ##### EXPECTED RESULTS url for the base host set ##### ACTUAL RESULTS got url with the name of the server instead ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file",bug,0.8
6503,awx,https://github.com/ansible/awx/issues/6503,All groups filter on groups list doesn't work for root groups (and display is bad),"![Screen Shot 2020-03-31 at 11 01 02 AM](https://user-images.githubusercontent.com/1342624/78041652-f5f71a00-733e-11ea-8138-c3f9011c006b.png) the current filter for root groups is parents__isnull = true. the all groups filter (parents__Isnull = false) is actually showing all _but_ root groups. we'll have to figure out another way to do that filter (possibly by just removing parents__isnull altogether. there is also a display issue...the actual value for the tag (true/false), rather than label text explaining what's going on for the tag is confusing.",documentation-file | other-file | other-file,"All groups filter on groups list doesn't work for root groups (and display is bad) ![Screen Shot 2020-03-31 at 11 01 02 AM](https://user-images.githubusercontent.com/1342624/78041652-f5f71a00-733e-11ea-8138-c3f9011c006b.png) the current filter for root groups is parents__isnull = true. the all groups filter (parents__Isnull = false) is actually showing all _but_ root groups. we'll have to figure out another way to do that filter (possibly by just removing parents__isnull altogether. there is also a display issue...the actual value for the tag (true/false), rather than label text explaining what's going on for the tag is confusing. documentation-file other-file other-file",no-bug,0.8
6351,awx,https://github.com/ansible/awx/issues/6351,DataListCell doesn't wrap,##### ISSUE TYPE - Bug Report ##### SUMMARY Most of our lists have a text wrapping issue. Whoever picks up this issue will need to audit all of the lists and use the DataListCell component in `/components` to resolve a wrapping issue. This has already been implemented in `SurveyList.jsx` Once https://github.com/patternfly/patternfly-react/issues/3938 has been resolved this issue can be removed/ignored. ##### ENVIRONMENT * AWX install method: docker for mac * Ansible version: 2.9 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to any list (except survey list) and enter text that is really super long such that it should wrap. ##### EXPECTED RESULTS The text should wrap ##### ACTUAL RESULTS The text doesn't wrap ##### ADDITIONAL INFORMATION,other-file | source-file | other-file | other-file | source-file | other-file | source-file | source-file,DataListCell doesn't wrap ##### ISSUE TYPE - Bug Report ##### SUMMARY Most of our lists have a text wrapping issue. Whoever picks up this issue will need to audit all of the lists and use the DataListCell component in `/components` to resolve a wrapping issue. This has already been implemented in `SurveyList.jsx` Once https://github.com/patternfly/patternfly-react/issues/3938 has been resolved this issue can be removed/ignored. ##### ENVIRONMENT * AWX install method: docker for mac * Ansible version: 2.9 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to any list (except survey list) and enter text that is really super long such that it should wrap. ##### EXPECTED RESULTS The text should wrap ##### ACTUAL RESULTS The text doesn't wrap ##### ADDITIONAL INFORMATION other-file source-file other-file other-file source-file other-file source-file source-file,no-bug,0.95
4603,awx,https://github.com/ansible/awx/issues/4603,CLI: list commands intermittently allow plural / singular names,##### ISSUE TYPE - Bug Report ##### SUMMARY Works: - `awx hosts list -f human` - `awx inventory list -f human` Does not work: - `awx inventories list -f human` - `awx host list -f human` ##### EXPECTED RESULTS Either `hosts` / `inventories` or `host` / `inventory` ##### ACTUAL RESULTS Cannot predict syntax without looking things up,source-file,CLI: list commands intermittently allow plural / singular names ##### ISSUE TYPE - Bug Report ##### SUMMARY Works: - `awx hosts list -f human` - `awx inventory list -f human` Does not work: - `awx inventories list -f human` - `awx host list -f human` ##### EXPECTED RESULTS Either `hosts` / `inventories` or `host` / `inventory` ##### ACTUAL RESULTS Cannot predict syntax without looking things up source-file,no-bug,0.9
14690,awx,https://github.com/ansible/awx/issues/14690,Update link to Execution environment getting started guide,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary The execution environment getting started guide as move to https://ansible.readthedocs.io/en/latest/getting_started_ee/index.html Update the url introduced in https://github.com/ansible/awx/pull/14263 to point to the new location. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce none ### Expected results none ### Actual results none ### Additional information _No response_,documentation-file | documentation-file | documentation-file | documentation-file | documentation-file,Update link to Execution environment getting started guide ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary The execution environment getting started guide as move to https://ansible.readthedocs.io/en/latest/getting_started_ee/index.html Update the url introduced in https://github.com/ansible/awx/pull/14263 to point to the new location. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce none ### Expected results none ### Actual results none ### Additional information _No response_ documentation-file documentation-file documentation-file documentation-file documentation-file,no-bug,0.95
11111,awx,https://github.com/ansible/awx/issues/11111,Workflow Template Node Info Linked Inventory Redirect Failure,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Redirecting to linked inventory from the node info screen of the workflow template visualizer results in an error page ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to templates 2. Create a new workflow template 3. Add a new node in the visualizer 4. Click info button on the node (""View node details"") 5. Click on the linked inventory 6. Error page appears ### Expected results Should be redirected to linked inventory's details page ### Actual results Error occurs and you are redirected to a ""Not Found"" page ![2021-09-21 13-18-01](https://user-images.githubusercontent.com/37008228/134358582-8c07f346-84ce-4bd9-a466-48c2214c8e29.gif) ### Additional information _No response_",source-file | test-file | source-file | test-file | source-file | test-file,"Workflow Template Node Info Linked Inventory Redirect Failure ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Redirecting to linked inventory from the node info screen of the workflow template visualizer results in an error page ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to templates 2. Create a new workflow template 3. Add a new node in the visualizer 4. Click info button on the node (""View node details"") 5. Click on the linked inventory 6. Error page appears ### Expected results Should be redirected to linked inventory's details page ### Actual results Error occurs and you are redirected to a ""Not Found"" page ![2021-09-21 13-18-01](https://user-images.githubusercontent.com/37008228/134358582-8c07f346-84ce-4bd9-a466-48c2214c8e29.gif) ### Additional information _No response_ source-file test-file source-file test-file source-file test-file",no-bug,0.85
6365,awx,https://github.com/ansible/awx/issues/6365,Fresh install Jobs not starting,"##### ISSUE TYPE - Bug Report Just did a fresh install of AWX 9.3.0 and none of the JOBs are being triggered. Project, Jobs, Ad-hoc jobs any jobs. after a few minutes it Times out with this error: > Call to /api/v2/ad_hoc_commands/1/relaunch/ failed. returned status: 504. ##### SUMMARY ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on centos 7 * Ansible version: 2.9.6 * Operating System: Centos 7 * Web Browser: Chrome ##### STEPS TO REPRODUCE try to execute ANY job such as project, ad-hoc script, etc.. ##### EXPECTED RESULTS Jobs are stuck in starting mode they never start, please see screenshots below. ##### ADDITIONAL INFORMATION Please review images below: ![image](https://user-images.githubusercontent.com/20629911/77183907-3e375200-6a8c-11ea-9d0e-f1a7b2310b21.png) Image from Web continaer ![image](https://user-images.githubusercontent.com/20629911/77184346-ed742900-6a8c-11ea-93da-ea0380c10360.png) Image from TASK container ![image](https://user-images.githubusercontent.com/20629911/77186997-0a126000-6a91-11ea-803f-8017d8536abc.png) Thank you, HS",source-file | test-file,"Fresh install Jobs not starting ##### ISSUE TYPE - Bug Report Just did a fresh install of AWX 9.3.0 and none of the JOBs are being triggered. Project, Jobs, Ad-hoc jobs any jobs. after a few minutes it Times out with this error: > Call to /api/v2/ad_hoc_commands/1/relaunch/ failed. returned status: 504. ##### SUMMARY ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker on centos 7 * Ansible version: 2.9.6 * Operating System: Centos 7 * Web Browser: Chrome ##### STEPS TO REPRODUCE try to execute ANY job such as project, ad-hoc script, etc.. ##### EXPECTED RESULTS Jobs are stuck in starting mode they never start, please see screenshots below. ##### ADDITIONAL INFORMATION Please review images below: ![image](https://user-images.githubusercontent.com/20629911/77183907-3e375200-6a8c-11ea-9d0e-f1a7b2310b21.png) Image from Web continaer ![image](https://user-images.githubusercontent.com/20629911/77184346-ed742900-6a8c-11ea-93da-ea0380c10360.png) Image from TASK container ![image](https://user-images.githubusercontent.com/20629911/77186997-0a126000-6a91-11ea-803f-8017d8536abc.png) Thank you, HS source-file test-file",bug,0.8
14245,awx,https://github.com/ansible/awx/issues/14245,Dispatcher shutdown deadlock when redis is unavailable,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We have identified a set of circumstances and the mechanic for how `awx-manage run_dispatcher` can hit an error but fail to shut down. Instead of exiting, it remains in a deadlocked state where it cannot process new work. Because the process is known by supervisord to be healthy (although it's not) this state is not recovered from without manual intervention. ### AWX version devel ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method N/A ### Modifications no ### Ansible version N/A ### Operating system RHEL9 ### Web browser Chrome ### Steps to reproduce There is a test scenario that will cause the deadlock every time, and that is: - shut down redis - wait until a control node reports a new heatbeat timestamp - start redis back up Redis is shut down for < 20s through the process (although it may vary). The heatbeat may not actually run, but it does obtain the deadlocked state. ### Expected results No deadlocks ### Actual results Dispatcher main process hits an error and tries to exit, shown by the `Encountered unhandled error in dispatcher main loop` log: ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 203, in run self.run_periodic_tasks() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 180, in run_periodic_tasks self.subsystem_metrics.pipe_execute() ``` The state of the dispatcher service is that some workers and the periodic scheduler thread exit, but several workers (1 to 3 seen in practice) are still running. ``` awx 73763 0.0 0.9 832528 146988 ? S Jul15 0:02 \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher awx 73961 0.0 0.0 0 0 ? Z Jul15 0:00 | \_ [awx-manage] <defunct> awx 73962 0.0 0.8 604868 131944 ? Sl Jul15 0:03 | \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher awx 73963 0.0 0.8 605004 135184 ? Sl Jul15 0:03 | \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher awx 73966 0.0 0.8 605056 135152 ? Sl Jul15 0:03 | \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher ``` At this point, gdb / py-bt information shows the main process is waiting for its forks to close: ``` Traceback (most recent call first): <built-in method waitpid of module object at remote 0x7fa931941e50> File ""/usr/lib64/python3.9/multiprocessing/popen_fork.py"", line 27, in poll pid, sts = os.waitpid(self.pid, flag) File ""/usr/lib64/python3.9/multiprocessing/popen_fork.py"", line 43, in wait return self.poll(os.WNOHANG if timeout == 0.0 else 0) File ""/usr/lib64/python3.9/multiprocessing/process.py"", line 149, in join res = self._popen.wait(timeout) File ""/usr/lib64/python3.9/multiprocessing/util.py"", line 357, in _exit_function p.join() ``` At this same time, and with the same tool, those forks themselves are in their normal main loop, as if nothing had happened. In other words, they are reading from the queue that the main process sends signals through. Critically, we have found this error in the workers right before obtaining this state: ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 248, in work_loop body = self.read(queue) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 236, in read return queue.get(block=True, timeout=1) File ""/usr/lib64/python3.9/multiprocessing/queues.py"", line 113, in get if not self._poll(timeout): File ""/usr/lib64/python3.9/multiprocessing/connection.py"", line 266, in poll return self._poll(timeout) File ""/usr/lib64/python3.9/multiprocessing/connection.py"", line 433, in _poll r = wait([self], timeout) File ""/usr/lib64/python3.9/multiprocessing/connection.py"", line 940, in wait ready = selector.select(timeout) File ""/usr/lib64/python3.9/selectors.py"", line 416, in select fd_event_list = self._selector.poll(timeout) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/scheduler/task_manager.py"", line 122, in record_aggregate_metrics_and_exit self.record_aggregate_metrics() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/scheduler/task_manager.py"", line 107, in record_aggregate_metrics s_metrics.Metrics(auto_pipe_execute=True).inc(f""{self.prefix}__schedule_calls"", 1) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/subsystem_metrics.py"", line 241, in inc self.pipe_execute() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/subsystem_metrics.py"", line 285, in pipe_execute self.pipe.execute() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/client.py"", line 2072, in execute conn = self.connection_pool.get_connection(""MULTI"", self.shard_hint) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/connection.py"", line 1387, in get_connection connection.connect() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/connection.py"", line 617, in connect raise ConnectionError(self._error_message(e)) redis.exceptions.ConnectionError: Error 2 connecting to unix socket: /var/run/redis/redis.sock. No such file or directory. ``` How does one go from `queue.get` to creating a redis connection? This is because this particular method is registered as the callback when receiving a SIGTERM signal. https://github.com/ansible/awx/blob/b8ba2feecd71c5e33eaead004b89807d27661461/awx/main/scheduler/task_manager.py#L135 ### Additional information The worker receives a SIGTERM and fires off the `record_aggregate_metrics_and_exit` method which _was registered by the task manger_ when the task manager task ran. However, this worker _was not running the task manager_, it was waiting for new work, listening on its multiprocessing queue. https://github.com/ansible/awx/blob/b8ba2feecd71c5e33eaead004b89807d27661461/awx/main/scheduler/task_manager.py#L135 The expectation is that, while in the main loop, an idle worker has _this_ signal handler connected: https://github.com/ansible/awx/blob/b8ba2feecd71c5e33eaead004b89807d27661461/awx/main/dispatch/worker/base.py#L38-L41 From the debugging, we're pretty sure that `self.kill_now` fails to get set due to this task-specific custom signal handler. Although this issue was introduced when ""task manager metrics"" were added, in https://github.com/ansible/awx/pull/12235, the problem of deadlocks on closing were not observed (to my knowledge) right away. When metrics for the _dispatcher_ were introduced in https://github.com/ansible/awx/pull/13989, now a trigger was created, since it added a task to the dispatcher main loop which could error when redis was unavailable. Still, we don't know the _exact_ thing that caused us to start seeing this, because tests were completing successfully for a significant time after the dispatcher metrics were added. This cause might be more mundane, like a change in testing strategy.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Dispatcher shutdown deadlock when redis is unavailable ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We have identified a set of circumstances and the mechanic for how `awx-manage run_dispatcher` can hit an error but fail to shut down. Instead of exiting, it remains in a deadlocked state where it cannot process new work. Because the process is known by supervisord to be healthy (although it's not) this state is not recovered from without manual intervention. ### AWX version devel ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method N/A ### Modifications no ### Ansible version N/A ### Operating system RHEL9 ### Web browser Chrome ### Steps to reproduce There is a test scenario that will cause the deadlock every time, and that is: - shut down redis - wait until a control node reports a new heatbeat timestamp - start redis back up Redis is shut down for < 20s through the process (although it may vary). The heatbeat may not actually run, but it does obtain the deadlocked state. ### Expected results No deadlocks ### Actual results Dispatcher main process hits an error and tries to exit, shown by the `Encountered unhandled error in dispatcher main loop` log: ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 203, in run self.run_periodic_tasks() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 180, in run_periodic_tasks self.subsystem_metrics.pipe_execute() ``` The state of the dispatcher service is that some workers and the periodic scheduler thread exit, but several workers (1 to 3 seen in practice) are still running. ``` awx 73763 0.0 0.9 832528 146988 ? S Jul15 0:02 \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher awx 73961 0.0 0.0 0 0 ? Z Jul15 0:00 | \_ [awx-manage] <defunct> awx 73962 0.0 0.8 604868 131944 ? Sl Jul15 0:03 | \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher awx 73963 0.0 0.8 605004 135184 ? Sl Jul15 0:03 | \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher awx 73966 0.0 0.8 605056 135152 ? Sl Jul15 0:03 | \_ /var/lib/awx/venv/awx/bin/python /usr/bin/awx-manage run_dispatcher ``` At this point, gdb / py-bt information shows the main process is waiting for its forks to close: ``` Traceback (most recent call first): <built-in method waitpid of module object at remote 0x7fa931941e50> File ""/usr/lib64/python3.9/multiprocessing/popen_fork.py"", line 27, in poll pid, sts = os.waitpid(self.pid, flag) File ""/usr/lib64/python3.9/multiprocessing/popen_fork.py"", line 43, in wait return self.poll(os.WNOHANG if timeout == 0.0 else 0) File ""/usr/lib64/python3.9/multiprocessing/process.py"", line 149, in join res = self._popen.wait(timeout) File ""/usr/lib64/python3.9/multiprocessing/util.py"", line 357, in _exit_function p.join() ``` At this same time, and with the same tool, those forks themselves are in their normal main loop, as if nothing had happened. In other words, they are reading from the queue that the main process sends signals through. Critically, we have found this error in the workers right before obtaining this state: ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 248, in work_loop body = self.read(queue) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/dispatch/worker/base.py"", line 236, in read return queue.get(block=True, timeout=1) File ""/usr/lib64/python3.9/multiprocessing/queues.py"", line 113, in get if not self._poll(timeout): File ""/usr/lib64/python3.9/multiprocessing/connection.py"", line 266, in poll return self._poll(timeout) File ""/usr/lib64/python3.9/multiprocessing/connection.py"", line 433, in _poll r = wait([self], timeout) File ""/usr/lib64/python3.9/multiprocessing/connection.py"", line 940, in wait ready = selector.select(timeout) File ""/usr/lib64/python3.9/selectors.py"", line 416, in select fd_event_list = self._selector.poll(timeout) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/scheduler/task_manager.py"", line 122, in record_aggregate_metrics_and_exit self.record_aggregate_metrics() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/scheduler/task_manager.py"", line 107, in record_aggregate_metrics s_metrics.Metrics(auto_pipe_execute=True).inc(f""{self.prefix}__schedule_calls"", 1) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/subsystem_metrics.py"", line 241, in inc self.pipe_execute() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/subsystem_metrics.py"", line 285, in pipe_execute self.pipe.execute() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/client.py"", line 2072, in execute conn = self.connection_pool.get_connection(""MULTI"", self.shard_hint) File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/connection.py"", line 1387, in get_connection connection.connect() File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/connection.py"", line 617, in connect raise ConnectionError(self._error_message(e)) redis.exceptions.ConnectionError: Error 2 connecting to unix socket: /var/run/redis/redis.sock. No such file or directory. ``` How does one go from `queue.get` to creating a redis connection? This is because this particular method is registered as the callback when receiving a SIGTERM signal. https://github.com/ansible/awx/blob/b8ba2feecd71c5e33eaead004b89807d27661461/awx/main/scheduler/task_manager.py#L135 ### Additional information The worker receives a SIGTERM and fires off the `record_aggregate_metrics_and_exit` method which _was registered by the task manger_ when the task manager task ran. However, this worker _was not running the task manager_, it was waiting for new work, listening on its multiprocessing queue. https://github.com/ansible/awx/blob/b8ba2feecd71c5e33eaead004b89807d27661461/awx/main/scheduler/task_manager.py#L135 The expectation is that, while in the main loop, an idle worker has _this_ signal handler connected: https://github.com/ansible/awx/blob/b8ba2feecd71c5e33eaead004b89807d27661461/awx/main/dispatch/worker/base.py#L38-L41 From the debugging, we're pretty sure that `self.kill_now` fails to get set due to this task-specific custom signal handler. Although this issue was introduced when ""task manager metrics"" were added, in https://github.com/ansible/awx/pull/12235, the problem of deadlocks on closing were not observed (to my knowledge) right away. When metrics for the _dispatcher_ were introduced in https://github.com/ansible/awx/pull/13989, now a trigger was created, since it added a task to the dispatcher main loop which could error when redis was unavailable. Still, we don't know the _exact_ thing that caused us to start seeing this, because tests were completing successfully for a significant time after the dispatcher metrics were added. This cause might be more mundane, like a change in testing strategy. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
6384,awx,https://github.com/ansible/awx/issues/6384,Convert WFJT Form to formik hooks,##### ISSUE TYPE - Feature Idea ##### SUMMARY Use formik hooks,source-file,Convert WFJT Form to formik hooks ##### ISSUE TYPE - Feature Idea ##### SUMMARY Use formik hooks source-file,no-bug,0.9
7243,awx,https://github.com/ansible/awx/issues/7243,500 error on unauthenticated HTTP GET to nested workflow endpoint,"##### ISSUE TYPE - Bug Report ##### SUMMARY Not a huge deal, just something I noticed while debugging some unrelated test failures: If you make a GET request to ` api/v2/workflow_job_template_nodes/n/create_approval_template/` when unauthenticated, you'll get a 500 instead of a 401. It seems to work fine if you're logged in. ##### STEPS TO REPRODUCE - make a workflow with nodes - log out - open browser dev tools and network tab - visit ` api/v2/workflow_job_template_nodes/n/create_approval_template/` in api browser ##### EXPECTED RESULTS 401 ##### ACTUAL RESULTS 500 ##### ADDITIONAL INFORMATION ![Screenshot from 2020-06-03 19-11-23](https://user-images.githubusercontent.com/9753817/83697865-08efca00-a5ce-11ea-9d0c-0173751041df.png)",source-file | source-file,"500 error on unauthenticated HTTP GET to nested workflow endpoint ##### ISSUE TYPE - Bug Report ##### SUMMARY Not a huge deal, just something I noticed while debugging some unrelated test failures: If you make a GET request to ` api/v2/workflow_job_template_nodes/n/create_approval_template/` when unauthenticated, you'll get a 500 instead of a 401. It seems to work fine if you're logged in. ##### STEPS TO REPRODUCE - make a workflow with nodes - log out - open browser dev tools and network tab - visit ` api/v2/workflow_job_template_nodes/n/create_approval_template/` in api browser ##### EXPECTED RESULTS 401 ##### ACTUAL RESULTS 500 ##### ADDITIONAL INFORMATION ![Screenshot from 2020-06-03 19-11-23](https://user-images.githubusercontent.com/9753817/83697865-08efca00-a5ce-11ea-9d0c-0173751041df.png) source-file source-file",bug,0.95
4831,awx,https://github.com/ansible/awx/issues/4831,"templates change dialog states ""Credential"" instead of plural","the interface should state ""Credentials"" as it is possible to select a multitude of credentials. Checking for a few types: * Machine -> single selection * Network -> single selection * Vault -> multiple selections As its possible to have at least one of each type (and for Vault even multiple), there is definitely the option to have a multitude of credentials. - My current test setup shows right now 5 items listed in this single box. Thus a plural in the headline is indicated.",source-file,"templates change dialog states ""Credential"" instead of plural the interface should state ""Credentials"" as it is possible to select a multitude of credentials. Checking for a few types: * Machine -> single selection * Network -> single selection * Vault -> multiple selections As its possible to have at least one of each type (and for Vault even multiple), there is definitely the option to have a multitude of credentials. - My current test setup shows right now 5 items listed in this single box. Thus a plural in the headline is indicated. source-file",no-bug,0.9
11167,awx,https://github.com/ansible/awx/issues/11167,Logout as User A and Login as User B redirects to User A's last location,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary If I have a user, we will call it User A that is a System Administrator, that is using AWX, and logs out when they are done. Then I log in as User B, who is a normal user, User B is directed to the last location of User A. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Create 2 users. Login as User A, and then log out. Login as User B ### Expected results User B is sent to the home screen ### Actual results User B is sent to the last location of User A ### Additional information ![loginout](https://user-images.githubusercontent.com/39280967/135306478-b4b62135-ba1f-4b2d-87fd-7ab47fd14830.gif)",documentation-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | test-file | documentation-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | test-file | documentation-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file,"Logout as User A and Login as User B redirects to User A's last location ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary If I have a user, we will call it User A that is a System Administrator, that is using AWX, and logs out when they are done. Then I log in as User B, who is a normal user, User B is directed to the last location of User A. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Create 2 users. Login as User A, and then log out. Login as User B ### Expected results User B is sent to the home screen ### Actual results User B is sent to the last location of User A ### Additional information ![loginout](https://user-images.githubusercontent.com/39280967/135306478-b4b62135-ba1f-4b2d-87fd-7ab47fd14830.gif) documentation-file source-file source-file source-file source-file test-file source-file test-file test-file documentation-file source-file source-file source-file source-file test-file source-file test-file test-file documentation-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file",no-bug,0.9
9319,awx,https://github.com/ansible/awx/issues/9319,"Job type incorrect for ""check"" jobs on AWX17.0.1","<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY All jobs have a ""job type"" of ""Playbook Run,"" even if they were run in ""check"" mode. There is no other indication in the job details that the job was a ""check"" job. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 18 * Web Browser: Chrome ##### STEPS TO REPRODUCE Run a job in a template in ""check"" mode and look at the job details. ##### EXPECTED RESULTS I would expect the ""Job Type"" to read ""Check"", or some other field in the details to indicate that the job was run in ""check"" mode. ##### ACTUAL RESULTS The ""Job Type"" is always ""Playbook Run."" ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/14980647/107992100-f96eb080-6fa5-11eb-8965-bcdac672f3ce.png) ![image](https://user-images.githubusercontent.com/14980647/107992205-376bd480-6fa6-11eb-82b9-d1608943664f.png)",test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file,"Job type incorrect for ""check"" jobs on AWX17.0.1 <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY All jobs have a ""job type"" of ""Playbook Run,"" even if they were run in ""check"" mode. There is no other indication in the job details that the job was a ""check"" job. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Ansible version: 2.9.17 * Operating System: Ubuntu 18 * Web Browser: Chrome ##### STEPS TO REPRODUCE Run a job in a template in ""check"" mode and look at the job details. ##### EXPECTED RESULTS I would expect the ""Job Type"" to read ""Check"", or some other field in the details to indicate that the job was run in ""check"" mode. ##### ACTUAL RESULTS The ""Job Type"" is always ""Playbook Run."" ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/14980647/107992100-f96eb080-6fa5-11eb-8965-bcdac672f3ce.png) ![image](https://user-images.githubusercontent.com/14980647/107992205-376bd480-6fa6-11eb-82b9-d1608943664f.png) test-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file",no-bug,0.8
9504,awx,https://github.com/ansible/awx/issues/9504,Update awx-manage inventory_import to use an Execution Environment,"This is one of the things we missed in https://github.com/ansible/awx/pull/8030. I originally thought this was going to be easy to resolve, but I was wrong. My first intuition was to use ansible-runner's ability to execute arbitrary commands. There are multiple problems with this idea: - Ansible Runner [sends stderr to stdout](https://github.com/ansible/ansible-runner/issues/96) - We parse json returned by `ansible-inventory`. By default, Ansible sends all verbose output to stdout. We use [`ANSIBLE_VERBOSE_TO_STDERR`](https://github.com/ansible/awx/blob/devel/awx/main/constants.py#L29) to get around this. - Ansible Runner invokes `ansible-inventory` (either locally or via podman) - `ansible-inventory` is no longer installed directly on the control plan. - We could call `podman run` directly, but this would only work on VM based installations. The next thought-hop might be to consider using Receptor for this. This is not currently possible because we did not build the new `transmit` / `worker` / `process` code with the use case in mind where we point `ansible-inventory` to a file / directory provided by the user. These are the options I have been able to identify, in order of my preference: - Remove `ansible-manage inventory_import` completely. - Update `ansible-manage inventory_import` to call `ansible-inventory` via `podman`. This would only work on VM-based installations. - Explore what would be needed to support submitting this as a task via Receptor.",source-file,"Update awx-manage inventory_import to use an Execution Environment This is one of the things we missed in https://github.com/ansible/awx/pull/8030. I originally thought this was going to be easy to resolve, but I was wrong. My first intuition was to use ansible-runner's ability to execute arbitrary commands. There are multiple problems with this idea: - Ansible Runner [sends stderr to stdout](https://github.com/ansible/ansible-runner/issues/96) - We parse json returned by `ansible-inventory`. By default, Ansible sends all verbose output to stdout. We use [`ANSIBLE_VERBOSE_TO_STDERR`](https://github.com/ansible/awx/blob/devel/awx/main/constants.py#L29) to get around this. - Ansible Runner invokes `ansible-inventory` (either locally or via podman) - `ansible-inventory` is no longer installed directly on the control plan. - We could call `podman run` directly, but this would only work on VM based installations. The next thought-hop might be to consider using Receptor for this. This is not currently possible because we did not build the new `transmit` / `worker` / `process` code with the use case in mind where we point `ansible-inventory` to a file / directory provided by the user. These are the options I have been able to identify, in order of my preference: - Remove `ansible-manage inventory_import` completely. - Update `ansible-manage inventory_import` to call `ansible-inventory` via `podman`. This would only work on VM-based installations. - Explore what would be needed to support submitting this as a task via Receptor. source-file",no-bug,0.9
11795,awx,https://github.com/ansible/awx/issues/11795,Organization as a column in the Templates view?,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Is it possible to add organization as a column in the Templates view in AWX? Currently, we need to prefix all template names to easily separate ownership.",source-file | source-file | test-file | source-file | source-file | test-file,"Organization as a column in the Templates view? ##### ISSUE TYPE - Feature Idea ##### SUMMARY Is it possible to add organization as a column in the Templates view in AWX? Currently, we need to prefix all template names to easily separate ownership. source-file source-file test-file source-file source-file test-file",no-bug,0.95
10612,awx,https://github.com/ansible/awx/issues/10612,Login redirect override URL no longer accepts relative URL paths,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary cc: @jakemcdermott @nixocio Previously the older UI used not to enforce a full formatted URL for the `Login redirect override URL` field, which allowed the user to have the field formatted as follows: ![image](https://user-images.githubusercontent.com/809840/124977022-fe3c0b80-dffd-11eb-851e-85d3cfa83f2e.png) Please note that even without a full URL, the login redirect still works as AWX will use the `baseURL` to compose the URL. ### AWX version devel ### Installation method openshift ### Modifications no ### Ansible version latest ### Operating system CentOS ### Web browser Chrome ### Steps to reproduce If you don't want to install an old version and upgrade it, use the `awx-manage` to set the field as follow: ```python bash-4.4$ awx-manage shell_plus --quiet Python 3.8.6 (default, Jan 29 2021, 17:38:16) [GCC 8.4.1 20200928 (Red Hat 8.4.1-1)] on linux Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. (InteractiveConsole) >>> settings.LOGIN_REDIRECT_OVERRIDE = '/sso/login/saml/?idp=SSO' >>> settings.LOGIN_REDIRECT_OVERRIDE '/sso/login/saml/?idp=SSO' ``` Now visit the webUI at `Settings` --> `Miscellaneous Authentication settings` and the field will look like: ![image](https://user-images.githubusercontent.com/809840/124977580-a3ef7a80-dffe-11eb-87bd-fbdecb7d99bd.png) Now click on edit and try to save without modifying anything and the error will be triggered ![image](https://user-images.githubusercontent.com/809840/124977665-c1bcdf80-dffe-11eb-951e-66fa3f3e3e9c.png) ### Expected results * Since the new UI field enforces a full URL path `https://xxxxxxx//sso/login/saml/?idp=SSO`, the field should detect if the value is not a full URL and then use the baseURL + the current value to be transparent for the user. ### Actual results Cannot move forward without manually modifying the field. ### Additional information _No response_",other-file | other-file,"Login redirect override URL no longer accepts relative URL paths ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary cc: @jakemcdermott @nixocio Previously the older UI used not to enforce a full formatted URL for the `Login redirect override URL` field, which allowed the user to have the field formatted as follows: ![image](https://user-images.githubusercontent.com/809840/124977022-fe3c0b80-dffd-11eb-851e-85d3cfa83f2e.png) Please note that even without a full URL, the login redirect still works as AWX will use the `baseURL` to compose the URL. ### AWX version devel ### Installation method openshift ### Modifications no ### Ansible version latest ### Operating system CentOS ### Web browser Chrome ### Steps to reproduce If you don't want to install an old version and upgrade it, use the `awx-manage` to set the field as follow: ```python bash-4.4$ awx-manage shell_plus --quiet Python 3.8.6 (default, Jan 29 2021, 17:38:16) [GCC 8.4.1 20200928 (Red Hat 8.4.1-1)] on linux Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. (InteractiveConsole) >>> settings.LOGIN_REDIRECT_OVERRIDE = '/sso/login/saml/?idp=SSO' >>> settings.LOGIN_REDIRECT_OVERRIDE '/sso/login/saml/?idp=SSO' ``` Now visit the webUI at `Settings` --> `Miscellaneous Authentication settings` and the field will look like: ![image](https://user-images.githubusercontent.com/809840/124977580-a3ef7a80-dffe-11eb-87bd-fbdecb7d99bd.png) Now click on edit and try to save without modifying anything and the error will be triggered ![image](https://user-images.githubusercontent.com/809840/124977665-c1bcdf80-dffe-11eb-951e-66fa3f3e3e9c.png) ### Expected results * Since the new UI field enforces a full URL path `https://xxxxxxx//sso/login/saml/?idp=SSO`, the field should detect if the value is not a full URL and then use the baseURL + the current value to be transparent for the user. ### Actual results Cannot move forward without manually modifying the field. ### Additional information _No response_ other-file other-file",no-bug,0.8
5348,awx,https://github.com/ansible/awx/issues/5348,AWX performance very poor,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> AWX performance very poor ##### ENVIRONMENT * AWX version: 6.1.0.0 * AWX install method: docker on linux * Ansible version: 2.8.2 * Operating System: CentOS Linux release 7.6.1810 (Core) * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> run the jobs smoothly. ##### ACTUAL RESULTS <!-- What actually happened? --> When job history exceeds about 50 the web interface performance is very poor, meaning that we are unable to enter job specific results.jobs are not running. Just nothing happens. This was tried on several browsers. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file,"AWX performance very poor ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> AWX performance very poor ##### ENVIRONMENT * AWX version: 6.1.0.0 * AWX install method: docker on linux * Ansible version: 2.8.2 * Operating System: CentOS Linux release 7.6.1810 (Core) * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> run the jobs smoothly. ##### ACTUAL RESULTS <!-- What actually happened? --> When job history exceeds about 50 the web interface performance is very poor, meaning that we are unable to enter job specific results.jobs are not running. Just nothing happens. This was tried on several browsers. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file",no-bug,0.9
8890,awx,https://github.com/ansible/awx/issues/8890,Advanced search host filter chips not rendered in smart inventory form,"##### ISSUE TYPE - Bug Report ##### SUMMARY This logic here: https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/Lookup/HostFilterLookup.jsx#L275 means that we will only ever render chips that fit our default search options. If you create a filter using the advanced search it _appears_ to not work (even though it is working, just not rendering). ![host_filter](https://user-images.githubusercontent.com/9889020/102125727-1d800b00-3e18-11eb-8ef8-1643f0336d98.gif)",other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file,"Advanced search host filter chips not rendered in smart inventory form ##### ISSUE TYPE - Bug Report ##### SUMMARY This logic here: https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/Lookup/HostFilterLookup.jsx#L275 means that we will only ever render chips that fit our default search options. If you create a filter using the advanced search it _appears_ to not work (even though it is working, just not rendering). ![host_filter](https://user-images.githubusercontent.com/9889020/102125727-1d800b00-3e18-11eb-8ef8-1643f0336d98.gif) other-file other-file test-file other-file other-file test-file other-file other-file test-file",no-bug,0.9
7516,awx,https://github.com/ansible/awx/issues/7516,Change `Completed Jobs` tabs to `Jobs`,##### STEPS TO REPRODUCE * Launch a job * go to that JT's Completed Jobs tab * Relaunch * Quickly click back ##### EXPECTED RESULTS For the newly launched and running job to not be in the list ##### ACTUAL RESULTS Running job is in the list ##### ADDITIONAL INFORMATION Maybe completed jobs tab is intended to show all jobs for the job template. In that case rename it.,test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file,Change `Completed Jobs` tabs to `Jobs` ##### STEPS TO REPRODUCE * Launch a job * go to that JT's Completed Jobs tab * Relaunch * Quickly click back ##### EXPECTED RESULTS For the newly launched and running job to not be in the list ##### ACTUAL RESULTS Running job is in the list ##### ADDITIONAL INFORMATION Maybe completed jobs tab is intended to show all jobs for the job template. In that case rename it. test-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file,no-bug,0.8
10432,awx,https://github.com/ansible/awx/issues/10432,Expose read-only custom credential types to normal users in the UI,##### ISSUE TYPE - Feature Idea ##### SUMMARY I _think_ `/api/v2/credential_types` is available to all users to GET. This means that we could expose the list/details for custom credential types to all authenticated users. Some users won't be able to add custom credential types so we'll have to make sure we're hiding that button for those users. Same with the edit button(s). AFAIK this did not exist in the old UI.,other-file | test-file | other-file | test-file | other-file | test-file,Expose read-only custom credential types to normal users in the UI ##### ISSUE TYPE - Feature Idea ##### SUMMARY I _think_ `/api/v2/credential_types` is available to all users to GET. This means that we could expose the list/details for custom credential types to all authenticated users. Some users won't be able to add custom credential types so we'll have to make sure we're hiding that button for those users. Same with the edit button(s). AFAIK this did not exist in the old UI. other-file test-file other-file test-file other-file test-file,no-bug,0.9
5756,awx,https://github.com/ansible/awx/issues/5756,Adding venv_vars.yaml makes container fail to start,"##### ISSUE TYPE - Bug Report ##### SUMMARY Use of virtual envs for k8s/openshift, as described on https://github.com/ansible/awx/blob/devel/docs/custom_virtualenvs.md isnt working. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: openshift * Ansible version: Same as what ships with AWX 9.1.1 * Operating System: Centos * Web Browser: Firefox ##### STEPS TO REPRODUCE 1. Ansible AWX is already installed on Openshift 3.11 1. Create a file called `venv_vars.yaml` and copy the example yaml from https://github.com/ansible/awx/blob/devel/docs/custom_virtualenvs.md 1. Attempt to modify installed AWX to have some venvs. Run `ansible-playbook -i inventory install.yml -e openshift_password=username -e openshift_token=$(oc whoami -t) --extra-vars ""@venv_vars.yaml""` ##### EXPECTED RESULTS Expect to have virtual environments created. ##### ACTUAL RESULTS The `aws-0` container fails to start, gets stuck in ` Init Crash Loop Back-off `. ##### ADDITIONAL INFORMATION I'm running in a corp environment, and am using a proxy. The below looks like the container isnt using the proxy settings that are added to the inventory. The `init-custom-venvs` has the following command: ``` sh -c yum install -y ansible curl python-setuptools epel-release \ openssl openssl-devel gcc python-devel && yum install -y python-virtualenv python36 python36-devel && mkdir -p /opt/custom-venvs && virtualenv -p python3 \ /opt/custom-venvs/dns_team && source /opt/custom-venvs/dns_team/bin/activate && /opt/custom-venvs/dns_team/bin/pip install -U psutil \ ""ansible==2.8.1"" && /opt/custom-venvs/dns_team/bin/pip install -U \ dnspython infoblox-client && deactivate && virtualenv -p python2 \ /opt/custom-venvs/windows_team && source /opt/custom-venvs/windows_team/bin/activate && /opt/custom-venvs/windows_team/bin/pip install -U psutil \ ""ansible==2.8.0"" && /opt/custom-venvs/windows_team/bin/pip install -U \ winrm && deactivate && virtualenv -p python2 \ /opt/custom-venvs/vmware_team && source /opt/custom-venvs/vmware_team/bin/activate && /opt/custom-venvs/vmware_team/bin/pip install -U psutil \ ""ansible==2.7.10"" && /opt/custom-venvs/vmware_team/bin/pip install -U \ pyvmomi && deactivate && : ``` #### Logs From ` oc logs awx-0 -c init-custom-venvs` shows: ``` Loaded plugins: fastestmirror, ovl Determining fastest mirrors One of the configured repositories failed (Unknown), and yum doesn't have enough cached data to continue. At this point the only safe thing yum can do is fail. There are a few ways to work ""fix"" this: 1. Contact the upstream for the repository and get them to fix the problem. 2. Reconfigure the baseurl/etc. for the repository, to point to a working upstream. This is most often useful if you are using a newer distribution release than is supported by the repository (and the packages for the previous distribution release still work). 3. Run the command with the repository temporarily disabled yum --disablerepo=<repoid> ... 4. Disable the repository permanently, so yum won't use it by default. Yum will then just ignore the repository until you permanently enable it again or use --enablerepo for temporary usage: yum-config-manager --disable <repoid> or subscription-manager repos --disable=<repoid> 5. Configure the failing repository to be skipped, if it is unavailable. Note that yum will try to contact the repo. when it runs most commands, so will have to try and fail each time (and thus. yum will be be much slower). If it is a very temporary problem though, this is often a nice compromise: yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true Cannot find a valid baseurl for repo: base/7/x86_64 Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=container error was 14: curl#7 - ""Failed to connect to 2604:1580:fe02:2::10: Network is unreachable"" ``` @fantashley",other-file | other-file,"Adding venv_vars.yaml makes container fail to start ##### ISSUE TYPE - Bug Report ##### SUMMARY Use of virtual envs for k8s/openshift, as described on https://github.com/ansible/awx/blob/devel/docs/custom_virtualenvs.md isnt working. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: openshift * Ansible version: Same as what ships with AWX 9.1.1 * Operating System: Centos * Web Browser: Firefox ##### STEPS TO REPRODUCE 1. Ansible AWX is already installed on Openshift 3.11 1. Create a file called `venv_vars.yaml` and copy the example yaml from https://github.com/ansible/awx/blob/devel/docs/custom_virtualenvs.md 1. Attempt to modify installed AWX to have some venvs. Run `ansible-playbook -i inventory install.yml -e openshift_password=username -e openshift_token=$(oc whoami -t) --extra-vars ""@venv_vars.yaml""` ##### EXPECTED RESULTS Expect to have virtual environments created. ##### ACTUAL RESULTS The `aws-0` container fails to start, gets stuck in ` Init Crash Loop Back-off `. ##### ADDITIONAL INFORMATION I'm running in a corp environment, and am using a proxy. The below looks like the container isnt using the proxy settings that are added to the inventory. The `init-custom-venvs` has the following command: ``` sh -c yum install -y ansible curl python-setuptools epel-release \ openssl openssl-devel gcc python-devel && yum install -y python-virtualenv python36 python36-devel && mkdir -p /opt/custom-venvs && virtualenv -p python3 \ /opt/custom-venvs/dns_team && source /opt/custom-venvs/dns_team/bin/activate && /opt/custom-venvs/dns_team/bin/pip install -U psutil \ ""ansible==2.8.1"" && /opt/custom-venvs/dns_team/bin/pip install -U \ dnspython infoblox-client && deactivate && virtualenv -p python2 \ /opt/custom-venvs/windows_team && source /opt/custom-venvs/windows_team/bin/activate && /opt/custom-venvs/windows_team/bin/pip install -U psutil \ ""ansible==2.8.0"" && /opt/custom-venvs/windows_team/bin/pip install -U \ winrm && deactivate && virtualenv -p python2 \ /opt/custom-venvs/vmware_team && source /opt/custom-venvs/vmware_team/bin/activate && /opt/custom-venvs/vmware_team/bin/pip install -U psutil \ ""ansible==2.7.10"" && /opt/custom-venvs/vmware_team/bin/pip install -U \ pyvmomi && deactivate && : ``` #### Logs From ` oc logs awx-0 -c init-custom-venvs` shows: ``` Loaded plugins: fastestmirror, ovl Determining fastest mirrors One of the configured repositories failed (Unknown), and yum doesn't have enough cached data to continue. At this point the only safe thing yum can do is fail. There are a few ways to work ""fix"" this: 1. Contact the upstream for the repository and get them to fix the problem. 2. Reconfigure the baseurl/etc. for the repository, to point to a working upstream. This is most often useful if you are using a newer distribution release than is supported by the repository (and the packages for the previous distribution release still work). 3. Run the command with the repository temporarily disabled yum --disablerepo=<repoid> ... 4. Disable the repository permanently, so yum won't use it by default. Yum will then just ignore the repository until you permanently enable it again or use --enablerepo for temporary usage: yum-config-manager --disable <repoid> or subscription-manager repos --disable=<repoid> 5. Configure the failing repository to be skipped, if it is unavailable. Note that yum will try to contact the repo. when it runs most commands, so will have to try and fail each time (and thus. yum will be be much slower). If it is a very temporary problem though, this is often a nice compromise: yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true Cannot find a valid baseurl for repo: base/7/x86_64 Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=container error was 14: curl#7 - ""Failed to connect to 2604:1580:fe02:2::10: Network is unreachable"" ``` @fantashley other-file other-file",no-bug,0.9
6511,awx,https://github.com/ansible/awx/issues/6511,Searching for a blank string creates a blank search filter,"##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Go to a search bar 2. Have the string be blank 3. Press enter or click the magnifying glass ##### EXPECTED RESULTS Nothing at all. ##### ACTUAL RESULTS ![Screenshot from 2020-03-31 15-51-28](https://user-images.githubusercontent.com/19942822/78069116-919c8080-7367-11ea-9fee-e4e0137ed92f.png) cc @jlmitch5 , this is probably up your alley.",other-file | test-file | other-file | test-file | other-file | test-file | source-file,"Searching for a blank string creates a blank search filter ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Go to a search bar 2. Have the string be blank 3. Press enter or click the magnifying glass ##### EXPECTED RESULTS Nothing at all. ##### ACTUAL RESULTS ![Screenshot from 2020-03-31 15-51-28](https://user-images.githubusercontent.com/19942822/78069116-919c8080-7367-11ea-9fee-e4e0137ed92f.png) cc @jlmitch5 , this is probably up your alley. other-file test-file other-file test-file other-file test-file source-file",no-bug,0.7
6718,awx,https://github.com/ansible/awx/issues/6718,"Add ""of"" to ""Run on"" field in schedule form","##### ISSUE TYPE - Feature Idea ##### SUMMARY ![Screenshot_20200415_101505](https://user-images.githubusercontent.com/9889020/79348253-c6314000-7f02-11ea-90f6-e74610f3fb8f.png) This could be more readable by adding ""of"" to the ""The"" option so that it read like: `The First ___ day of [month]`",other-file,"Add ""of"" to ""Run on"" field in schedule form ##### ISSUE TYPE - Feature Idea ##### SUMMARY ![Screenshot_20200415_101505](https://user-images.githubusercontent.com/9889020/79348253-c6314000-7f02-11ea-90f6-e74610f3fb8f.png) This could be more readable by adding ""of"" to the ""The"" option so that it read like: `The First ___ day of [month]` other-file",no-bug,0.95
6137,awx,https://github.com/ansible/awx/issues/6137,AWX Grafana notification is not working,"##### ISSUE TYPE - AWX Grafana notification is not working ##### SUMMARY The system is not able to send a notification to Grafana. Every time I receiving ""Failed to start"". Logs of awx_task container there are logs likes this: - test notification ``` 2020-03-03 08:57:05,279 ERROR awx.main.tasks Send Notification Failed 'started' Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 324, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/grafana_backend.py"", line 46, in send_messages grafana_data['time'] = int((dp.parse(m.body['started']).replace(tzinfo=None) - epoch).total_seconds() * 1000) KeyError: 'started' ``` - notification from job ``` 2020-03-03 09:47:36,134 ERROR awx.main.tasks Send Notification Failed string indices must be integers Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 324, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/grafana_backend.py"", line 46, in send_messages grafana_data['time'] = int((dp.parse(m.body['started']).replace(tzinfo=None) - epoch).total_seconds() * 1000) TypeError: string indices must be integers ``` ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Centos 7.5 * Web Browser: Chrome 79 ##### STEPS TO REPRODUCE 1. Add notification type: Grafana 2. Add URL, API key ##### EXPECTED RESULTS Notification will be send to Grafana ##### ACTUAL RESULTS TEST Grafana: Notification failed. 'started' ##### ADDITIONAL INFORMATION as above",source-file | source-file | source-file,"AWX Grafana notification is not working ##### ISSUE TYPE - AWX Grafana notification is not working ##### SUMMARY The system is not able to send a notification to Grafana. Every time I receiving ""Failed to start"". Logs of awx_task container there are logs likes this: - test notification ``` 2020-03-03 08:57:05,279 ERROR awx.main.tasks Send Notification Failed 'started' Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 324, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/grafana_backend.py"", line 46, in send_messages grafana_data['time'] = int((dp.parse(m.body['started']).replace(tzinfo=None) - epoch).total_seconds() * 1000) KeyError: 'started' ``` - notification from job ``` 2020-03-03 09:47:36,134 ERROR awx.main.tasks Send Notification Failed string indices must be integers Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 324, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/grafana_backend.py"", line 46, in send_messages grafana_data['time'] = int((dp.parse(m.body['started']).replace(tzinfo=None) - epoch).total_seconds() * 1000) TypeError: string indices must be integers ``` ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Centos 7.5 * Web Browser: Chrome 79 ##### STEPS TO REPRODUCE 1. Add notification type: Grafana 2. Add URL, API key ##### EXPECTED RESULTS Notification will be send to Grafana ##### ACTUAL RESULTS TEST Grafana: Notification failed. 'started' ##### ADDITIONAL INFORMATION as above source-file source-file source-file",no-bug,0.9
9250,awx,https://github.com/ansible/awx/issues/9250,User should not modify EE managed by tower,##### ISSUE TYPE - Feature Idea ##### SUMMARY User should not modify EE managed by tower,other-file | test-file | test-file | other-file | test-file | test-file,User should not modify EE managed by tower ##### ISSUE TYPE - Feature Idea ##### SUMMARY User should not modify EE managed by tower other-file test-file test-file other-file test-file test-file,no-bug,0.9
6198,awx,https://github.com/ansible/awx/issues/6198,Question: add more AWX task instances to docker stack,"Hello Im having a question. After I have successfully deployed AWX on a machine with docker, i wanted to increase the amount of TASK instances for that AWX setup. I went to the compose folder, edited the docker-compose.yml and duplicated the ""task"" service. I gave the container and the service a different name, saved an restarted the stack. After login to AWX again I can see the additional task instance under instances, but its ""dead"". ![awx](https://user-images.githubusercontent.com/3270156/76032149-95adcc00-5f7c-11ea-875b-f8ffdd3e613e.JPG) Its not sending heartbeats, and if I disable the first instance, the second doesn't pick up tasks. Even if turn it off and on again, and it appears as online for a while, it doesnt work. I also have been running `/usr/bin/update-ca-trust` on the additional unit, but nothing changed. I could not really find any information on how to add an instance even after searching for hours now. Please help.",source-file,"Question: add more AWX task instances to docker stack Hello Im having a question. After I have successfully deployed AWX on a machine with docker, i wanted to increase the amount of TASK instances for that AWX setup. I went to the compose folder, edited the docker-compose.yml and duplicated the ""task"" service. I gave the container and the service a different name, saved an restarted the stack. After login to AWX again I can see the additional task instance under instances, but its ""dead"". ![awx](https://user-images.githubusercontent.com/3270156/76032149-95adcc00-5f7c-11ea-875b-f8ffdd3e613e.JPG) Its not sending heartbeats, and if I disable the first instance, the second doesn't pick up tasks. Even if turn it off and on again, and it appears as online for a while, it doesnt work. I also have been running `/usr/bin/update-ca-trust` on the additional unit, but nothing changed. I could not really find any information on how to add an instance even after searching for hours now. Please help. source-file",no-bug,0.9
13527,awx,https://github.com/ansible/awx/issues/13527,Exception handling for Conjur Secrets Manager Lookup not working properly,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary When using the Conjur Secrets Manager Lookup credential type against Conjur Cloud, exception handling does not properly switch to the proper URI endpoint automatically. Any attempts currently fail with HTTP 404. ### AWX version 0.1.dev32763+g3d73b80 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Select ""CyberArk Conjur Secrets Manager Lookup"" as the credential type for a new credential object in AWX. 2. Configure for a Conjur Cloud tenant. 3. Run ""Test"" and a failure with ""HTTP 404"" is returned. ### Expected results The test should pass. ### Actual results The test fails with an HTTP 404 error code. ### Additional information This fix is being implemented in a PR within moments.",source-file | source-file | source-file | source-file,"Exception handling for Conjur Secrets Manager Lookup not working properly ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary When using the Conjur Secrets Manager Lookup credential type against Conjur Cloud, exception handling does not properly switch to the proper URI endpoint automatically. Any attempts currently fail with HTTP 404. ### AWX version 0.1.dev32763+g3d73b80 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Select ""CyberArk Conjur Secrets Manager Lookup"" as the credential type for a new credential object in AWX. 2. Configure for a Conjur Cloud tenant. 3. Run ""Test"" and a failure with ""HTTP 404"" is returned. ### Expected results The test should pass. ### Actual results The test fails with an HTTP 404 error code. ### Additional information This fix is being implemented in a PR within moments. source-file source-file source-file source-file",no-bug,0.8
5603,awx,https://github.com/ansible/awx/issues/5603,Remove Scan option from Job Type field of JT Creation form,"##### ISSUE TYPE - Bug Report ##### SUMMARY ![image](https://user-images.githubusercontent.com/7514801/71848879-e6dd3480-308d-11ea-9e3f-19445d404986.png) ##### ENVIRONMENT - Tower version: 3.6.2 - AWX install method: yolo #8062: Instance URL - https://ec2-54-85-222-225.compute-1.amazonaws.com - Ansible version: 2.10.0.dev0 - Operating System: Mac Mojave 10.14.6 - Web Browser: Version 79.0.3945.88 (Official Build) (64-bit) ##### STEPS TO REPRODUCE 1. Click **Templates** 2. Select **[+]** > **Job Template** 3. In **Job Type** field, select **Scan** ##### EXPECTED RESULTS Only see two options from the **Job Type** field: **Run** and **Check** only. ##### ACTUAL RESULTS See **Job Type** field contains: **Run**, **Check**, and **Scan**. ##### ADDITIONAL INFORMATION Scan jobs are no longer supported starting with Ansible Tower 3.2.",source-file | source-file | test-file | test-file | source-file | source-file | source-file,"Remove Scan option from Job Type field of JT Creation form ##### ISSUE TYPE - Bug Report ##### SUMMARY ![image](https://user-images.githubusercontent.com/7514801/71848879-e6dd3480-308d-11ea-9e3f-19445d404986.png) ##### ENVIRONMENT - Tower version: 3.6.2 - AWX install method: yolo #8062: Instance URL - https://ec2-54-85-222-225.compute-1.amazonaws.com - Ansible version: 2.10.0.dev0 - Operating System: Mac Mojave 10.14.6 - Web Browser: Version 79.0.3945.88 (Official Build) (64-bit) ##### STEPS TO REPRODUCE 1. Click **Templates** 2. Select **[+]** > **Job Template** 3. In **Job Type** field, select **Scan** ##### EXPECTED RESULTS Only see two options from the **Job Type** field: **Run** and **Check** only. ##### ACTUAL RESULTS See **Job Type** field contains: **Run**, **Check**, and **Scan**. ##### ADDITIONAL INFORMATION Scan jobs are no longer supported starting with Ansible Tower 3.2. source-file source-file test-file test-file source-file source-file source-file",no-bug,0.9
9915,awx,https://github.com/ansible/awx/issues/9915,Frequent Vault Lookup Errors,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm using Vault lookups within my credentials tied to various playbooks and constantly get Errors related to these lookups within my jobs. It happens every time if I try to relaunch a failed job that's using a credential with a Vault lookup. It also happens frequently on newly launched jobs. If I relaunch the Errored job again then it will work just fine. ##### ENVIRONMENT * AWX version: `19.0.0` * AWX install method: `awx-operator` * Ansible version: `2.11` * Operating System: `MacOS` * Web Browser: `Chrome` ##### STEPS TO REPRODUCE Launch a job using a credential with Vault lookups ##### EXPECTED RESULTS Job should launch without error ##### ACTUAL RESULTS ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/tasks.py"", line 1332, in run passwords = self.build_passwords(self.instance, kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/tasks.py"", line 1495, in build_passwords value = runtime_passwords.get(field, cred.get_input('password' if field == 'ssh_password' else field, default='')) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/models/credential/__init__.py"", line 273, in get_input return self._get_dynamic_input(field_name) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/models/credential/__init__.py"", line 301, in _get_dynamic_input return input_source.get_input_value() File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/models/credential/__init__.py"", line 1203, in get_input_value return backend(**backend_kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/credential_plugins/hashivault.py"", line 223, in kv_backend raise_for_status(response) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/credential_plugins/plugin.py"", line 12, in raise_for_status resp.raise_for_status() File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/requests/models.py"", line 941, in raise_for_status raise HTTPError(http_error_msg, response=self) requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://infra-vault.auslab.cisco.com/v1/infra/data/ad_bind_admin ``` ##### ADDITIONAL INFORMATION I did deploy my awx cluster with multiple `tower_replicas: 2` so I'm not sure if that's a factor. **EDIT**: I scaled my awx deployment replicas to `1` and still have this issue so that does not appear to be related to the problem.",other-file | test-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file,"Frequent Vault Lookup Errors <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm using Vault lookups within my credentials tied to various playbooks and constantly get Errors related to these lookups within my jobs. It happens every time if I try to relaunch a failed job that's using a credential with a Vault lookup. It also happens frequently on newly launched jobs. If I relaunch the Errored job again then it will work just fine. ##### ENVIRONMENT * AWX version: `19.0.0` * AWX install method: `awx-operator` * Ansible version: `2.11` * Operating System: `MacOS` * Web Browser: `Chrome` ##### STEPS TO REPRODUCE Launch a job using a credential with Vault lookups ##### EXPECTED RESULTS Job should launch without error ##### ACTUAL RESULTS ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/tasks.py"", line 1332, in run passwords = self.build_passwords(self.instance, kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/tasks.py"", line 1495, in build_passwords value = runtime_passwords.get(field, cred.get_input('password' if field == 'ssh_password' else field, default='')) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/models/credential/__init__.py"", line 273, in get_input return self._get_dynamic_input(field_name) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/models/credential/__init__.py"", line 301, in _get_dynamic_input return input_source.get_input_value() File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/models/credential/__init__.py"", line 1203, in get_input_value return backend(**backend_kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/credential_plugins/hashivault.py"", line 223, in kv_backend raise_for_status(response) File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/awx/main/credential_plugins/plugin.py"", line 12, in raise_for_status resp.raise_for_status() File ""/var/lib/awx/venv/awx/lib64/python3.8/site-packages/requests/models.py"", line 941, in raise_for_status raise HTTPError(http_error_msg, response=self) requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://infra-vault.auslab.cisco.com/v1/infra/data/ad_bind_admin ``` ##### ADDITIONAL INFORMATION I did deploy my awx cluster with multiple `tower_replicas: 2` so I'm not sure if that's a factor. **EDIT**: I scaled my awx deployment replicas to `1` and still have this issue so that does not appear to be related to the problem. other-file test-file other-file test-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file",no-bug,0.8
6098,awx,https://github.com/ansible/awx/issues/6098,Convert JobTemplateForm.jsx to functional component,##### ISSUE TYPE - Task ##### SUMMARY So we can use hooks ![hook](https://user-images.githubusercontent.com/9889020/75393128-67185d00-58bb-11ea-84e2-1825a1245e1c.gif),source-file,Convert JobTemplateForm.jsx to functional component ##### ISSUE TYPE - Task ##### SUMMARY So we can use hooks ![hook](https://user-images.githubusercontent.com/9889020/75393128-67185d00-58bb-11ea-84e2-1825a1245e1c.gif) source-file,no-bug,0.9
10411,awx,https://github.com/ansible/awx/issues/10411,Inventory source first sync error,"##### ISSUE TYPE - Bug Report ##### SUMMARY First inventory source first sync error ##### STEPS TO REPRODUCE 1. Create a new inventory source - Sources - Sourced from a project. <img width=""1456"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/121542913-85359e00-c9d6-11eb-81c8-fb33b50f225d.png""> 2. It will be redirect to <img width=""1458"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/121543539-fd9c5f00-c9d6-11eb-9cc7-cae122f5f87c.png""> 3. Click `Sync`. 4. Immediately click `Back to Sources` 5. Error - That seems to occur just on the first ever sync of the the sources. <img width=""1345"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/121543787-32a8b180-c9d7-11eb-956e-52fe160558ab.png"">",other-file | test-file | other-file | test-file,"Inventory source first sync error ##### ISSUE TYPE - Bug Report ##### SUMMARY First inventory source first sync error ##### STEPS TO REPRODUCE 1. Create a new inventory source - Sources - Sourced from a project. <img width=""1456"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/121542913-85359e00-c9d6-11eb-81c8-fb33b50f225d.png""> 2. It will be redirect to <img width=""1458"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/121543539-fd9c5f00-c9d6-11eb-9cc7-cae122f5f87c.png""> 3. Click `Sync`. 4. Immediately click `Back to Sources` 5. Error - That seems to occur just on the first ever sync of the the sources. <img width=""1345"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/121543787-32a8b180-c9d7-11eb-956e-52fe160558ab.png""> other-file test-file other-file test-file",no-bug,0.8
9715,awx,https://github.com/ansible/awx/issues/9715,Clarify what it means for project updates to have a default execution environment,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Execution environment is not used when executing (manual) project sync. Project sync is an Ansible Playbook run as well, it is expected to honor the Execution Environment setting? ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: AWX Operator * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Change the `Instance Group -> tower` definition to: ``` apiVersion: v1 kind: Pod metadata: namespace: awx spec: containers: - image: my_custom_awx-ee:latest name: worker args: - ansible-runner - worker ``` Create new SCM project and try to sync. The embedded (default) `awx-ee` container in `awx` pod is still used for the execution of Project Sync. Add new Execution Environment in AWX. Edit the SCM project and define Default Execution Environment to the newly created Execution Environment. The embedded (default) `awx-ee` container in `awx` pod is still used for the execution of Project Sync. ##### EXPECTED RESULTS Project Sync job will use the `Instance Group -> tower` setting if set. Project Sync job will use the Default Execution Environment configured for that Project. ##### ACTUAL RESULTS The embedded (default) `awx-ee` container in `awx` pod is still used for the execution of Project Sync. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Clarify what it means for project updates to have a default execution environment <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Execution environment is not used when executing (manual) project sync. Project sync is an Ansible Playbook run as well, it is expected to honor the Execution Environment setting? ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: AWX Operator * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Change the `Instance Group -> tower` definition to: ``` apiVersion: v1 kind: Pod metadata: namespace: awx spec: containers: - image: my_custom_awx-ee:latest name: worker args: - ansible-runner - worker ``` Create new SCM project and try to sync. The embedded (default) `awx-ee` container in `awx` pod is still used for the execution of Project Sync. Add new Execution Environment in AWX. Edit the SCM project and define Default Execution Environment to the newly created Execution Environment. The embedded (default) `awx-ee` container in `awx` pod is still used for the execution of Project Sync. ##### EXPECTED RESULTS Project Sync job will use the `Instance Group -> tower` setting if set. Project Sync job will use the Default Execution Environment configured for that Project. ##### ACTUAL RESULTS The embedded (default) `awx-ee` container in `awx` pod is still used for the execution of Project Sync. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5235,awx,https://github.com/ansible/awx/issues/5235,Refactor VariablesField to handle variables stored as JSON,"##### ISSUE TYPE - Bug ##### SUMMARY If you use the `VariablesField` in a form and create a resource with variables formatted as JSON, the edit form field will be toggled to `YAML` by default. https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/CodeMirrorInput/VariablesField.jsx#L19 defaults to `yaml` even if the stored value is JSON. `VariablesInput` is configured a bit differently but uses utility functions to determine whether value(s) are JSON/YAML https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/CodeMirrorInput/VariablesInput.jsx#L32. One idea for achieving this would be to wrap the component with `withFormik` in order to have access to the value on props. https://jaredpalmer.com/formik/docs/api/withformik https://github.com/ansible/awx/pull/5180#issuecomment-548875368",source-file | source-file,"Refactor VariablesField to handle variables stored as JSON ##### ISSUE TYPE - Bug ##### SUMMARY If you use the `VariablesField` in a form and create a resource with variables formatted as JSON, the edit form field will be toggled to `YAML` by default. https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/CodeMirrorInput/VariablesField.jsx#L19 defaults to `yaml` even if the stored value is JSON. `VariablesInput` is configured a bit differently but uses utility functions to determine whether value(s) are JSON/YAML https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/CodeMirrorInput/VariablesInput.jsx#L32. One idea for achieving this would be to wrap the component with `withFormik` in order to have access to the value on props. https://jaredpalmer.com/formik/docs/api/withformik https://github.com/ansible/awx/pull/5180#issuecomment-548875368 source-file source-file",no-bug,0.8
10241,awx,https://github.com/ansible/awx/issues/10241,[Testability] Add better locators across components and pages,"This issue is a combination of 10 other issues, to add better locator to pages/components, please refer to the closed issue below to get more details: 1. [JT survey prompt on launch modal](https://github.com/ansible/awx/issues/9702) 2. [Workflow Visualizer Node Tab](https://github.com/ansible/awx/issues/9667) 3. [schedules pages](https://github.com/ansible/awx/issues/9565) 4. [toolbar across pages (search fields, Add/Delete buttons)](https://github.com/ansible/awx/issues/9702) 5. [Job Output Details- Link to Associated Job Template](https://github.com/ansible/awx/issues/9517) 6. [Add Roles Wizard](https://github.com/ansible/awx/issues/9513) 7. [JT Lookup Modal for testability](https://github.com/ansible/awx/issues/9509) 8. [Inventories page for testability](https://github.com/ansible/awx/issues/9506) 9. [Dashboard locators](https://github.com/ansible/awx/issues/9502) 10. [Teams Access Tab- Add Teams Modal](https://github.com/ansible/awx/issues/9470)",other-file | other-file | other-file,"[Testability] Add better locators across components and pages This issue is a combination of 10 other issues, to add better locator to pages/components, please refer to the closed issue below to get more details: 1. [JT survey prompt on launch modal](https://github.com/ansible/awx/issues/9702) 2. [Workflow Visualizer Node Tab](https://github.com/ansible/awx/issues/9667) 3. [schedules pages](https://github.com/ansible/awx/issues/9565) 4. [toolbar across pages (search fields, Add/Delete buttons)](https://github.com/ansible/awx/issues/9702) 5. [Job Output Details- Link to Associated Job Template](https://github.com/ansible/awx/issues/9517) 6. [Add Roles Wizard](https://github.com/ansible/awx/issues/9513) 7. [JT Lookup Modal for testability](https://github.com/ansible/awx/issues/9509) 8. [Inventories page for testability](https://github.com/ansible/awx/issues/9506) 9. [Dashboard locators](https://github.com/ansible/awx/issues/9502) 10. [Teams Access Tab- Add Teams Modal](https://github.com/ansible/awx/issues/9470) other-file other-file other-file",no-bug,0.9
8244,awx,https://github.com/ansible/awx/issues/8244,Add label `controller` to identify controller instance group,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add label `controller` to identify a controller instance group. See: https://docs.ansible.com/ansible-tower/3.7.2/html/administration/external_execution_envs.html#ag-clustering-isolated-igs,other-file | other-file | other-file | other-file,Add label `controller` to identify controller instance group ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add label `controller` to identify a controller instance group. See: https://docs.ansible.com/ansible-tower/3.7.2/html/administration/external_execution_envs.html#ag-clustering-isolated-igs other-file other-file other-file other-file,no-bug,0.9
4608,awx,https://github.com/ansible/awx/issues/4608,CLI: JSON/YAML type arguments have confusing UI-specific language in description,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Confusing language showing up in CLI: ``` --inputs JSON/YAML Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. ``` in cli context, ""radio button"" is ??? You can get this from: ``` awx credential_type create -h usage: awx credential_types create [-h] --name TEXT [--description TEXT] --kind {net,cloud} [--inputs JSON/YAML] [--injectors JSON/YAML] required arguments: --name TEXT Name of this credential type. --kind {net,cloud} optional arguments: -h, --help show this help message and exit --description TEXT Optional description of this credential type. --inputs JSON/YAML Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. --injectors JSON/YAML Enter injectors using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. awx credential_types create: the following arguments are required: --name, --kind ```",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"CLI: JSON/YAML type arguments have confusing UI-specific language in description ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Confusing language showing up in CLI: ``` --inputs JSON/YAML Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. ``` in cli context, ""radio button"" is ??? You can get this from: ``` awx credential_type create -h usage: awx credential_types create [-h] --name TEXT [--description TEXT] --kind {net,cloud} [--inputs JSON/YAML] [--injectors JSON/YAML] required arguments: --name TEXT Name of this credential type. --kind {net,cloud} optional arguments: -h, --help show this help message and exit --description TEXT Optional description of this credential type. --inputs JSON/YAML Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. --injectors JSON/YAML Enter injectors using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. awx credential_types create: the following arguments are required: --name, --kind ``` source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
8686,awx,https://github.com/ansible/awx/issues/8686,AWX Project module should allow forcing update,##### ISSUE TYPE - Feature Idea ##### SUMMARY We need to have ability to force project update in our tower using where we are using infrastructure as code. I am aware of the fact that we have `project_update` but Sean and I talked and he has initial code https://github.com/ansible/awx/compare/devel...sean-m-sullivan:project_update here. Opening this issue to add visibility. Adding this enhancement will make https://github.com/redhat-cop/tower_configuration/tree/devel/roles/tower_role more useful for us(my team) as regular Tower Infra-as-Code (IaC) users. Thanks @sean-m-sullivan,source-file | test-file,AWX Project module should allow forcing update ##### ISSUE TYPE - Feature Idea ##### SUMMARY We need to have ability to force project update in our tower using where we are using infrastructure as code. I am aware of the fact that we have `project_update` but Sean and I talked and he has initial code https://github.com/ansible/awx/compare/devel...sean-m-sullivan:project_update here. Opening this issue to add visibility. Adding this enhancement will make https://github.com/redhat-cop/tower_configuration/tree/devel/roles/tower_role more useful for us(my team) as regular Tower Infra-as-Code (IaC) users. Thanks @sean-m-sullivan source-file test-file,no-bug,0.9
10088,awx,https://github.com/ansible/awx/issues/10088,Convert Teams and Related tabs to PF tables view,See #6189 6189 ##### ISSUE TYPE - Feature Idea ##### SUMMARY,other-file | other-file | other-file | test-file | other-file | test-file,Convert Teams and Related tabs to PF tables view See #6189 6189 ##### ISSUE TYPE - Feature Idea ##### SUMMARY other-file other-file other-file test-file other-file test-file,no-bug,0.9
8551,awx,https://github.com/ansible/awx/issues/8551,Have AWX containers with Helm installed,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Due to access restrictions there is no way to install extra rpm OS packages there fore limiting the use of running Ansible jobs from Tower. AWX`kubectl` comes with `kubectl` already installed, will be nice to also have `helm` pre-installed so we can run Ansible playbooks that depend on `helm` from AWX as well.",container-file | container-file | container-file,"Have AWX containers with Helm installed ##### ISSUE TYPE - Feature Idea ##### SUMMARY Due to access restrictions there is no way to install extra rpm OS packages there fore limiting the use of running Ansible jobs from Tower. AWX`kubectl` comes with `kubectl` already installed, will be nice to also have `helm` pre-installed so we can run Ansible playbooks that depend on `helm` from AWX as well. container-file container-file container-file",no-bug,0.95
11150,awx,https://github.com/ansible/awx/issues/11150,Dynamic variables not translated by lingui,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Dynamic variables not translated by lingui ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Navigate to Instance groups using a production build 2. select `controlplane` instance group 3. go to instance tab 4. try to get the health check of the instance ### Expected results the tooltip should appear with correct information about the instance ### Actual results ![Screenshot from 2021-09-27 17-47-53](https://user-images.githubusercontent.com/12464858/134983487-f35bcd3f-eb6f-49b5-b207-ec803e114880.png) ![Screenshot from 2021-09-27 17-48-53](https://user-images.githubusercontent.com/12464858/134983497-1a4066ec-787c-4f7b-a56c-aa6b0e8a054d.png) ### Additional information _No response_,source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file,Dynamic variables not translated by lingui ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Dynamic variables not translated by lingui ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Navigate to Instance groups using a production build 2. select `controlplane` instance group 3. go to instance tab 4. try to get the health check of the instance ### Expected results the tooltip should appear with correct information about the instance ### Actual results ![Screenshot from 2021-09-27 17-47-53](https://user-images.githubusercontent.com/12464858/134983487-f35bcd3f-eb6f-49b5-b207-ec803e114880.png) ![Screenshot from 2021-09-27 17-48-53](https://user-images.githubusercontent.com/12464858/134983497-1a4066ec-787c-4f7b-a56c-aa6b0e8a054d.png) ### Additional information _No response_ source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file other-file other-file other-file other-file other-file other-file other-file source-file,no-bug,0.9
4909,awx,https://github.com/ansible/awx/issues/4909,"when job deployed to container group fails to connect or loses connection, job status should be ""ERROR""","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of #4189 that will be resolved in follow up PR. When a job deployed to a container group fails after the pod has been deployed from never being able to connect (no rsync on container for example) or from losing connection (pod prematurely exits/is killed) the job gets failure state ""failed"" instead of ""error"", although error is put in `result_traceback`. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) create a Container Group but override container `args` to be `sleep 5` so it will exit too fast 2) Create an job template with our test playbooks to run `sleep.yml` for 45 seconds 3) Assign Container Group to JT 4) launch job ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Job fails with state `error` and get traceback ##### ACTUAL RESULTS <!-- What actually happened? --> Job fails with state `failed` and traceback",source-file | source-file | source-file,"when job deployed to container group fails to connect or loses connection, job status should be ""ERROR"" ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of #4189 that will be resolved in follow up PR. When a job deployed to a container group fails after the pod has been deployed from never being able to connect (no rsync on container for example) or from losing connection (pod prematurely exits/is killed) the job gets failure state ""failed"" instead of ""error"", although error is put in `result_traceback`. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) create a Container Group but override container `args` to be `sleep 5` so it will exit too fast 2) Create an job template with our test playbooks to run `sleep.yml` for 45 seconds 3) Assign Container Group to JT 4) launch job ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Job fails with state `error` and get traceback ##### ACTUAL RESULTS <!-- What actually happened? --> Job fails with state `failed` and traceback source-file source-file source-file",no-bug,0.8
6636,awx,https://github.com/ansible/awx/issues/6636,Copying WFJTs renders a copy with an empty workflow,"##### ISSUE TYPE - Bug Report ##### SUMMARY When attempting to copy a small workflow (with a single approval node), I found that the copied workflow launched and completed without requesting an approval. Further investigation showed that the copied workflow visualizer showed an empty workflow. ##### ENVIRONMENT * AWX version: latest ##### STEPS TO REPRODUCE Both @jakemcdermott and I were able to reproduce this (osx, fedora) 1. Create a new workflow job template. 2. Add one approval node to the workflow. Save it, and launch it. Do not approve the workflow, so it stays in a pending state. 3. Copy the workflow using the copy button in the template list. 4. Attempt to launch the copied workflow. ##### EXPECTED RESULTS The workflow also waits for approval. ##### ACTUAL RESULTS The workflow does not wait for approval. Inspection shows that the workflow is empty.",other-file | other-file,"Copying WFJTs renders a copy with an empty workflow ##### ISSUE TYPE - Bug Report ##### SUMMARY When attempting to copy a small workflow (with a single approval node), I found that the copied workflow launched and completed without requesting an approval. Further investigation showed that the copied workflow visualizer showed an empty workflow. ##### ENVIRONMENT * AWX version: latest ##### STEPS TO REPRODUCE Both @jakemcdermott and I were able to reproduce this (osx, fedora) 1. Create a new workflow job template. 2. Add one approval node to the workflow. Save it, and launch it. Do not approve the workflow, so it stays in a pending state. 3. Copy the workflow using the copy button in the template list. 4. Attempt to launch the copied workflow. ##### EXPECTED RESULTS The workflow also waits for approval. ##### ACTUAL RESULTS The workflow does not wait for approval. Inspection shows that the workflow is empty. other-file other-file",no-bug,0.9
11127,awx,https://github.com/ansible/awx/issues/11127,Jobs List alert- EE is a missing resource- error,"##### ISSUE TYPE - Bug Report ##### COMPONENT NAME - UI ##### SUMMARY If an instance is disabled, and a job is run against that instance, it gets stuck in a pending state. If the user cancels the job, the UI shows ""Missing Resource"" next to EE. In this case, the job didn't run because the instance was disabled, but this error/alert may make the user think that they are missing a resource and go down a ""rabbit hole"" trying to fix something that isn't the problem. Please see GIF for more detail: ![jobs-list-error](https://user-images.githubusercontent.com/63685497/134601204-df01caa3-60bf-4a22-8d30-de4ce89b8c05.gif) **Important to **Note--**** this same error occurrs if a job is canceled in the jobs list. ##### STEPS TO REPRODUCE 1. Visit the controlplace instance and click the instances tab. 2. Toggle the switch to disable the instance. 3. Access the Demo Job Template and click Launch. 4. When the output screen is shown, click the link to take you to the jobs list. 5. Cancel the pending jobs. You will see the missing resource alert next to EE. 6. Go back to controlplane and enable the instance. 7. Go back to Demo Job Template and click launch. 8. Cancel the job before it has time to finish. 9. Take note of the missing resource alert next to EE. ##### EXPECTED RESULTS The field next to EE would either be blank or simply indicate ""Job Canceled"" ##### ACTUAL RESULTS The UI shows ""Missing Resource"" next to EE",source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Jobs List alert- EE is a missing resource- error ##### ISSUE TYPE - Bug Report ##### COMPONENT NAME - UI ##### SUMMARY If an instance is disabled, and a job is run against that instance, it gets stuck in a pending state. If the user cancels the job, the UI shows ""Missing Resource"" next to EE. In this case, the job didn't run because the instance was disabled, but this error/alert may make the user think that they are missing a resource and go down a ""rabbit hole"" trying to fix something that isn't the problem. Please see GIF for more detail: ![jobs-list-error](https://user-images.githubusercontent.com/63685497/134601204-df01caa3-60bf-4a22-8d30-de4ce89b8c05.gif) **Important to **Note--**** this same error occurrs if a job is canceled in the jobs list. ##### STEPS TO REPRODUCE 1. Visit the controlplace instance and click the instances tab. 2. Toggle the switch to disable the instance. 3. Access the Demo Job Template and click Launch. 4. When the output screen is shown, click the link to take you to the jobs list. 5. Cancel the pending jobs. You will see the missing resource alert next to EE. 6. Go back to controlplane and enable the instance. 7. Go back to Demo Job Template and click launch. 8. Cancel the job before it has time to finish. 9. Take note of the missing resource alert next to EE. ##### EXPECTED RESULTS The field next to EE would either be blank or simply indicate ""Job Canceled"" ##### ACTUAL RESULTS The UI shows ""Missing Resource"" next to EE source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.8
9176,awx,https://github.com/ansible/awx/issues/9176,Optional textarea survey fields not optional when min length > 0,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Text area survey fields that are optional (required checkbox unchecked) are not optional if the minimum length is greater than zero. Upon launching, an error message displays saying the field must be X characters. In versions <= 15.0.1, an optional field with a min length of one could be left blank and the variable would not be defined or set. In 17.0.0, awx attempts to define the variable regardless if the field is optional or not. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Create a survey with an optional text area field Set the min length to 1 Attempt to launch the job leaving the survey field blank ##### EXPECTED RESULTS When min length is greater than zero and the field is optional, the variable should be left undefined when the survey field is blank and the job should launch. ##### ACTUAL RESULTS Launch fails with a message saying the field must be at least one character. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | source-file,"Optional textarea survey fields not optional when min length > 0 <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Text area survey fields that are optional (required checkbox unchecked) are not optional if the minimum length is greater than zero. Upon launching, an error message displays saying the field must be X characters. In versions <= 15.0.1, an optional field with a min length of one could be left blank and the variable would not be defined or set. In 17.0.0, awx attempts to define the variable regardless if the field is optional or not. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Create a survey with an optional text area field Set the min length to 1 Attempt to launch the job leaving the survey field blank ##### EXPECTED RESULTS When min length is greater than zero and the field is optional, the variable should be left undefined when the survey field is blank and the job should launch. ##### ACTUAL RESULTS Launch fails with a message saying the field must be at least one character. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file source-file",bug,0.9
5154,awx,https://github.com/ansible/awx/issues/5154,Rethink task manager dependency graph logic,##### ISSUE TYPE - Feature Idea ##### SUMMARY Corollary of #5153 and #4809 Rethink the way we manage the dependency graph. This hurts us at a large volume of jobs and cross project/inv dependencies,source-file | source-file | source-file,Rethink task manager dependency graph logic ##### ISSUE TYPE - Feature Idea ##### SUMMARY Corollary of #5153 and #4809 Rethink the way we manage the dependency graph. This hurts us at a large volume of jobs and cross project/inv dependencies source-file source-file source-file,no-bug,0.9
7041,awx,https://github.com/ansible/awx/issues/7041,Fix delete button styles across ui-next,"##### ISSUE TYPE - Bug Report ##### SUMMARY Delete buttons should only use the ""danger"" variant on the delete confirmation screen (delete modal). In other words, if the delete action button triggers a destructive and impossible to undo action, use the ""danger"" variant. Delete buttons that trigger the delete modal confirmation screen should use the ""secondary"" variant. This is a sweeping update across all lists, forms, and modals. cc @trahman73 ##### STEPS TO REPRODUCE * Navigate to templates list * Select a template * View delete button ##### EXPECTED RESULTS * Delete button should be styled with the secondary variant <img width=""792"" alt=""Screen Shot 2020-05-15 at 2 09 06 PM"" src=""https://user-images.githubusercontent.com/15881645/82082246-a9308e00-96b5-11ea-85dd-b0df48e91791.png""> ##### ACTUAL RESULTS * Delete button is styled with the danger variant <img width=""798"" alt=""Screen Shot 2020-05-15 at 2 00 00 PM"" src=""https://user-images.githubusercontent.com/15881645/82082127-7ab2b300-96b5-11ea-9ff7-37049244b6ab.png""> ##### ADDITIONAL INFORMATION https://www.patternfly.org/v4/design-guidelines/usage-and-behavior/buttons-and-links",other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file,"Fix delete button styles across ui-next ##### ISSUE TYPE - Bug Report ##### SUMMARY Delete buttons should only use the ""danger"" variant on the delete confirmation screen (delete modal). In other words, if the delete action button triggers a destructive and impossible to undo action, use the ""danger"" variant. Delete buttons that trigger the delete modal confirmation screen should use the ""secondary"" variant. This is a sweeping update across all lists, forms, and modals. cc @trahman73 ##### STEPS TO REPRODUCE * Navigate to templates list * Select a template * View delete button ##### EXPECTED RESULTS * Delete button should be styled with the secondary variant <img width=""792"" alt=""Screen Shot 2020-05-15 at 2 09 06 PM"" src=""https://user-images.githubusercontent.com/15881645/82082246-a9308e00-96b5-11ea-85dd-b0df48e91791.png""> ##### ACTUAL RESULTS * Delete button is styled with the danger variant <img width=""798"" alt=""Screen Shot 2020-05-15 at 2 00 00 PM"" src=""https://user-images.githubusercontent.com/15881645/82082127-7ab2b300-96b5-11ea-9ff7-37049244b6ab.png""> ##### ADDITIONAL INFORMATION https://www.patternfly.org/v4/design-guidelines/usage-and-behavior/buttons-and-links other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file",no-bug,0.9
10210,awx,https://github.com/ansible/awx/issues/10210,Expose the output of the EE resolver in the job template detail API endpoints,##### ISSUE TYPE - Feature Idea ##### SUMMARY It seems like it would be useful and would mitigate some confusion to expose which EE would be used when executing a template that doesn't have an EE explicitly assigned. **Clarification**: template detail endpoints.,source-file | source-file,Expose the output of the EE resolver in the job template detail API endpoints ##### ISSUE TYPE - Feature Idea ##### SUMMARY It seems like it would be useful and would mitigate some confusion to expose which EE would be used when executing a template that doesn't have an EE explicitly assigned. **Clarification**: template detail endpoints. source-file source-file,no-bug,0.9
6342,awx,https://github.com/ansible/awx/issues/6342,Virtualenv in Kubernetes deployment doesn't work,"##### ISSUE TYPE - Bug Report ##### SUMMARY Error when applying `curl -X PATCH 'https://admin:mypass@myurl/api/v2/organizations/my_org/' \ -d '{""custom_virtualenv"": ""/opt/custom-venvs/my_env/""}' -H 'Content-Type:application/json'` `{""custom_virtualenv"":[""/opt/custom-venvs/my_env/ is not a valid virtualenv in /var/lib/awx/venv""]}` ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: Kubernetes v1.15.3 * Ansible version: 2.9.5 ##### STEPS TO REPRODUCE 1) Install AWX to kubernetes with similar config <details> <summary>inventory config</summary> ``` localhost ansible_connection=local ansible_python_interpreter=""/usr/bin/env python"" [all:vars] dockerhub_base=ansible kubernetes_context=mycontext kubernetes_namespace=awx kubernetes_ingress_hostname=myingress awx_task_hostname=awx awx_web_hostname=awxweb postgres_data_dir=""~/.awx/pgdocker"" host_port=80 host_port_ssl=443 docker_compose_dir=""~/.awx/awxcompose"" pg_hostname=mypghost pg_username=awx pg_password=mypgpass pg_database=awx pg_port=5432 rabbitmq_password=awxpass rabbitmq_erlang_cookie=cookiemonster admin_user=admin admin_password=myadminpass secret_key=mysecretkey logos/blob/master/TRADEMARKS.md ``` </details> <details> <summary>venv_vars.yaml</summary> ``` --- custom_venvs: - name: my_env python: python3 python_ansible_version: 2.9.6 python_modules: - dnspython - zabbix-api - jmespath ``` </details> 2) Assigning custom venv according to [this documentation](https://github.com/ansible/awx/blob/devel/docs/custom_virtualenvs.md) `curl -X PATCH 'https://admin:mypass@myurl/api/v2/settings/system/' \ -d '{""CUSTOM_VENV_PATHS"": [[""/opt/custom-venvs/my_env/""]}' -H 'Content-Type:application/json'` <details> <summary>answer</summary> ``` { ""ACTIVITY_STREAM_ENABLED"":true, ""ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC"":false, ""ORG_ADMINS_CAN_SEE_ALL_USERS"":true, ""MANAGE_ORGANIZATION_AUTH"":true, ""TOWER_URL_BASE"":""myurl"", ""REMOTE_HOST_HEADERS"":[ ""HTTP_X_FORWARDED_FOR"" ], ""PROXY_IP_WHITELIST"":[ ], ""LICENSE"":{ }, ""REDHAT_USERNAME"":""admin"", ""REDHAT_PASSWORD"":""$encrypted$"", ""AUTOMATION_ANALYTICS_URL"":""https://example.org"", ""INSTALL_UUID"":""c1885c2a-d736-4023-9517-49929f8d77fa"", ""CUSTOM_VENV_PATHS"":[ ""/opt/custom-venvs/my_env/"" ], ""INSIGHTS_TRACKING_STATE"":false, ""BROKER_DURABILITY"":true, ""AUTOMATION_ANALYTICS_LAST_GATHER"":null, ""AUTOMATION_ANALYTICS_GATHER_INTERVAL"":14400 } ``` </details> 3) Assigning custom venv to organization and get and error `curl -X PATCH 'https://admin:mypass@myurl/api/v2/organizations/my_org/' \ -d '{""custom_virtualenv"": ""/opt/custom-venvs/my_env/""}' -H 'Content-Type:application/json'` <details> <summary>error</summary> ``` {""custom_virtualenv"":[""/opt/custom-venvs/my_env/ is not a valid virtualenv in /var/lib/awx/venv""]} ``` </details> ##### EXPECTED RESULTS `my_org` will use custom venv ##### ACTUAL RESULTS `my_org` raises an error when apllying custom venv ##### ADDITIONAL INFORMATION I've checked both containers `awx_web` and `awx_task`, they have `/opt/custom-venvs/my_env/` dir with working venv. Even if `PATCH api/v2/settings/system/` works properly (according to it answer, and i can see added venv in web interface), `GET api/v2/config/` still returns no venv's <details> <summary>api/v2/config/ answer</summary> ``` { ""time_zone"": ""UTC"", ""license_info"": { ""license_key"": ""OPEN"", ""valid_key"": true, ""compliant"": true, ""features"": { ""activity_streams"": true, ""ha"": true, ""ldap"": true, ""multiple_organizations"": true, ""surveys"": true, ""system_tracking"": true, ""rebranding"": true, ""enterprise_auth"": true, ""workflows"": true }, ""license_type"": ""open"" }, ""version"": ""9.3.0"", ""ansible_version"": ""2.9.5"", ""eula"": """", ""analytics_status"": ""off"", ""become_methods"": [ [ ""sudo"", ""Sudo"" ], [ ""su"", ""Su"" ], [ ""pbrun"", ""Pbrun"" ], [ ""pfexec"", ""Pfexec"" ], [ ""dzdo"", ""DZDO"" ], [ ""pmrun"", ""Pmrun"" ], [ ""runas"", ""Runas"" ], [ ""enable"", ""Enable"" ], [ ""doas"", ""Doas"" ], [ ""ksu"", ""Ksu"" ], [ ""machinectl"", ""Machinectl"" ], [ ""sesu"", ""Sesu"" ] ], ""project_base_dir"": ""/var/lib/awx/projects"", ""project_local_paths"": [], ""custom_virtualenvs"": [ ""/var/lib/awx/venv/ansible/"" ] } ``` </details> After finding that venv doesn't apply even in `system`, i've tried to make fresh install of awx on another kube cluster, with same results.",source-file,"Virtualenv in Kubernetes deployment doesn't work ##### ISSUE TYPE - Bug Report ##### SUMMARY Error when applying `curl -X PATCH 'https://admin:mypass@myurl/api/v2/organizations/my_org/' \ -d '{""custom_virtualenv"": ""/opt/custom-venvs/my_env/""}' -H 'Content-Type:application/json'` `{""custom_virtualenv"":[""/opt/custom-venvs/my_env/ is not a valid virtualenv in /var/lib/awx/venv""]}` ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: Kubernetes v1.15.3 * Ansible version: 2.9.5 ##### STEPS TO REPRODUCE 1) Install AWX to kubernetes with similar config <details> <summary>inventory config</summary> ``` localhost ansible_connection=local ansible_python_interpreter=""/usr/bin/env python"" [all:vars] dockerhub_base=ansible kubernetes_context=mycontext kubernetes_namespace=awx kubernetes_ingress_hostname=myingress awx_task_hostname=awx awx_web_hostname=awxweb postgres_data_dir=""~/.awx/pgdocker"" host_port=80 host_port_ssl=443 docker_compose_dir=""~/.awx/awxcompose"" pg_hostname=mypghost pg_username=awx pg_password=mypgpass pg_database=awx pg_port=5432 rabbitmq_password=awxpass rabbitmq_erlang_cookie=cookiemonster admin_user=admin admin_password=myadminpass secret_key=mysecretkey logos/blob/master/TRADEMARKS.md ``` </details> <details> <summary>venv_vars.yaml</summary> ``` --- custom_venvs: - name: my_env python: python3 python_ansible_version: 2.9.6 python_modules: - dnspython - zabbix-api - jmespath ``` </details> 2) Assigning custom venv according to [this documentation](https://github.com/ansible/awx/blob/devel/docs/custom_virtualenvs.md) `curl -X PATCH 'https://admin:mypass@myurl/api/v2/settings/system/' \ -d '{""CUSTOM_VENV_PATHS"": [[""/opt/custom-venvs/my_env/""]}' -H 'Content-Type:application/json'` <details> <summary>answer</summary> ``` { ""ACTIVITY_STREAM_ENABLED"":true, ""ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC"":false, ""ORG_ADMINS_CAN_SEE_ALL_USERS"":true, ""MANAGE_ORGANIZATION_AUTH"":true, ""TOWER_URL_BASE"":""myurl"", ""REMOTE_HOST_HEADERS"":[ ""HTTP_X_FORWARDED_FOR"" ], ""PROXY_IP_WHITELIST"":[ ], ""LICENSE"":{ }, ""REDHAT_USERNAME"":""admin"", ""REDHAT_PASSWORD"":""$encrypted$"", ""AUTOMATION_ANALYTICS_URL"":""https://example.org"", ""INSTALL_UUID"":""c1885c2a-d736-4023-9517-49929f8d77fa"", ""CUSTOM_VENV_PATHS"":[ ""/opt/custom-venvs/my_env/"" ], ""INSIGHTS_TRACKING_STATE"":false, ""BROKER_DURABILITY"":true, ""AUTOMATION_ANALYTICS_LAST_GATHER"":null, ""AUTOMATION_ANALYTICS_GATHER_INTERVAL"":14400 } ``` </details> 3) Assigning custom venv to organization and get and error `curl -X PATCH 'https://admin:mypass@myurl/api/v2/organizations/my_org/' \ -d '{""custom_virtualenv"": ""/opt/custom-venvs/my_env/""}' -H 'Content-Type:application/json'` <details> <summary>error</summary> ``` {""custom_virtualenv"":[""/opt/custom-venvs/my_env/ is not a valid virtualenv in /var/lib/awx/venv""]} ``` </details> ##### EXPECTED RESULTS `my_org` will use custom venv ##### ACTUAL RESULTS `my_org` raises an error when apllying custom venv ##### ADDITIONAL INFORMATION I've checked both containers `awx_web` and `awx_task`, they have `/opt/custom-venvs/my_env/` dir with working venv. Even if `PATCH api/v2/settings/system/` works properly (according to it answer, and i can see added venv in web interface), `GET api/v2/config/` still returns no venv's <details> <summary>api/v2/config/ answer</summary> ``` { ""time_zone"": ""UTC"", ""license_info"": { ""license_key"": ""OPEN"", ""valid_key"": true, ""compliant"": true, ""features"": { ""activity_streams"": true, ""ha"": true, ""ldap"": true, ""multiple_organizations"": true, ""surveys"": true, ""system_tracking"": true, ""rebranding"": true, ""enterprise_auth"": true, ""workflows"": true }, ""license_type"": ""open"" }, ""version"": ""9.3.0"", ""ansible_version"": ""2.9.5"", ""eula"": """", ""analytics_status"": ""off"", ""become_methods"": [ [ ""sudo"", ""Sudo"" ], [ ""su"", ""Su"" ], [ ""pbrun"", ""Pbrun"" ], [ ""pfexec"", ""Pfexec"" ], [ ""dzdo"", ""DZDO"" ], [ ""pmrun"", ""Pmrun"" ], [ ""runas"", ""Runas"" ], [ ""enable"", ""Enable"" ], [ ""doas"", ""Doas"" ], [ ""ksu"", ""Ksu"" ], [ ""machinectl"", ""Machinectl"" ], [ ""sesu"", ""Sesu"" ] ], ""project_base_dir"": ""/var/lib/awx/projects"", ""project_local_paths"": [], ""custom_virtualenvs"": [ ""/var/lib/awx/venv/ansible/"" ] } ``` </details> After finding that venv doesn't apply even in `system`, i've tried to make fresh install of awx on another kube cluster, with same results. source-file",bug,0.9
6305,awx,https://github.com/ansible/awx/issues/6305,Wait for management pod to start task OK even if the management pod hasn't started,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The Wait for management pod to start task is marked as OK even if the management pod hasn't started, therefore the next task ""mirgrate database cannot be completed correctly. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: kubernetes * Ansible version: 2.9.5 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> I've ran the install playbook against an existing deployment based on 9.2.0. The Wait for management pod to start task is marked as OK even if the management pod hasn't started yet , therefore the next task ""mirgrate database cannot be completed correctly. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | test-file,"Wait for management pod to start task OK even if the management pod hasn't started ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The Wait for management pod to start task is marked as OK even if the management pod hasn't started, therefore the next task ""mirgrate database cannot be completed correctly. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: kubernetes * Ansible version: 2.9.5 * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> I've ran the install playbook against an existing deployment based on 9.2.0. The Wait for management pod to start task is marked as OK even if the management pod hasn't started yet , therefore the next task ""mirgrate database cannot be completed correctly. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file test-file",no-bug,0.9
15667,awx,https://github.com/ansible/awx/issues/15667,Custom 404 page for AWX docs,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary As we've removed various docs from the devel branch as part of https://github.com/ansible/awx/pull/15641 people are [getting 404s](https://forum.ansible.com/t/awx-documentation-no-longer-exists-besides-contribution-guide-and-api-reference/11161/). We should create a custom 404 page that links to the `https://ansible.readthedocs.io/projects/awx/en/24.6.1/` docs, see the [RTD docs for details](https://docs.readthedocs.io/en/stable/reference/404-not-found.html) Once this is live, update the [forum post](https://forum.ansible.com/t/awx-documentation-no-longer-exists-besides-contribution-guide-and-api-reference/11161/). ### AWX version 24.6.1 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method N/A ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce n/a ### Expected results n/a ### Actual results n/a ### Additional information _No response_",other-file | other-file,"Custom 404 page for AWX docs ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary As we've removed various docs from the devel branch as part of https://github.com/ansible/awx/pull/15641 people are [getting 404s](https://forum.ansible.com/t/awx-documentation-no-longer-exists-besides-contribution-guide-and-api-reference/11161/). We should create a custom 404 page that links to the `https://ansible.readthedocs.io/projects/awx/en/24.6.1/` docs, see the [RTD docs for details](https://docs.readthedocs.io/en/stable/reference/404-not-found.html) Once this is live, update the [forum post](https://forum.ansible.com/t/awx-documentation-no-longer-exists-besides-contribution-guide-and-api-reference/11161/). ### AWX version 24.6.1 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method N/A ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce n/a ### Expected results n/a ### Actual results n/a ### Additional information _No response_ other-file other-file",no-bug,0.9
11229,awx,https://github.com/ansible/awx/issues/11229,Ansible collection - job_template module unable to update survey spec,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Using the job_template module, I am unable to update/add/delete ""survey_spec.spec"", when I only change the ""survey_spec.spec"" and nothing else. If some other JobTemplate property changes, everthing works fine and the survey will update as well. ### AWX version 19.2.2 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce only add a single survey question with the job_template module to an existing job template ### Expected results survey should have a new survey question and the task should be marked as changed ### Actual results The new question is in the task output, but it is not added to the job template and the task is not marked as changed. ### Additional information _No response_",source-file | source-file | source-file | source-file,"Ansible collection - job_template module unable to update survey spec ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Using the job_template module, I am unable to update/add/delete ""survey_spec.spec"", when I only change the ""survey_spec.spec"" and nothing else. If some other JobTemplate property changes, everthing works fine and the survey will update as well. ### AWX version 19.2.2 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce only add a single survey question with the job_template module to an existing job template ### Expected results survey should have a new survey question and the task should be marked as changed ### Actual results The new question is in the task output, but it is not added to the job template and the task is not marked as changed. ### Additional information _No response_ source-file source-file source-file source-file",bug,0.85
14522,awx,https://github.com/ansible/awx/issues/14522,[DOCS] Add alt-text codeblock to Images for Userguide: webhooks.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the webhooks.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: webhooks.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the webhooks.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file",no-bug,0.95
9189,awx,https://github.com/ansible/awx/issues/9189,Add execution environment field to a few screens,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add execution environment field to a few screens. organization default_environment field project default_environment field inventory source execution_environment field job template execution_environment field workflows job template execution_environment field It was also decided to add execution environment to workflows job template.,other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | documentation-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file,Add execution environment field to a few screens ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add execution environment field to a few screens. organization default_environment field project default_environment field inventory source execution_environment field job template execution_environment field workflows job template execution_environment field It was also decided to add execution environment to workflows job template. other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file documentation-file source-file other-file other-file other-file test-file other-file test-file,no-bug,0.9
7430,awx,https://github.com/ansible/awx/issues/7430,Add support for Credential Types Details,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add support for Credential Types Details,other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file,Add support for Credential Types Details ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add support for Credential Types Details other-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file,no-bug,0.9
10681,awx,https://github.com/ansible/awx/issues/10681,API strings are not being compiled,"### Summary In our move to ui_next, the `make languages` target was no longer called when compiling the UI. This means that the API strings (think help_text in OPTIONS requests) are no longer being compiled and thus are not displayed in the client's browser. ### AWX version devel ### Web browser Chrome ### Steps to reproduce 1. Start the dev env - `make docker-compose` 2. Change your browser preferences to default to `ja` as your locale 3. Navigate to `api/v2/settings/authentication` and click OPTIONS to see the untranslated strings 4. Run the following to compile API strings: ``` $ python tools/scripts/compilemessages.py ``` 5. Restart your containers 6. Observe the strings are now translated ### Expected results ![image](https://user-images.githubusercontent.com/11698892/126224196-f76da94a-f6ca-4306-9187-b2db8326ab5c.png) ### Actual results ![image](https://user-images.githubusercontent.com/11698892/126224326-2461395d-6f14-4eaf-b34b-58a2108c0354.png) Sidenote, there is also a `fr` string that is throwing a compilation error which I will fix. ### Additional information We may also be able to lose our `compilemessages.py` file in favor of using the django build-in command.",other-file | source-file | other-file,"API strings are not being compiled ### Summary In our move to ui_next, the `make languages` target was no longer called when compiling the UI. This means that the API strings (think help_text in OPTIONS requests) are no longer being compiled and thus are not displayed in the client's browser. ### AWX version devel ### Web browser Chrome ### Steps to reproduce 1. Start the dev env - `make docker-compose` 2. Change your browser preferences to default to `ja` as your locale 3. Navigate to `api/v2/settings/authentication` and click OPTIONS to see the untranslated strings 4. Run the following to compile API strings: ``` $ python tools/scripts/compilemessages.py ``` 5. Restart your containers 6. Observe the strings are now translated ### Expected results ![image](https://user-images.githubusercontent.com/11698892/126224196-f76da94a-f6ca-4306-9187-b2db8326ab5c.png) ### Actual results ![image](https://user-images.githubusercontent.com/11698892/126224326-2461395d-6f14-4eaf-b34b-58a2108c0354.png) Sidenote, there is also a `fr` string that is throwing a compilation error which I will fix. ### Additional information We may also be able to lose our `compilemessages.py` file in favor of using the django build-in command. other-file source-file other-file",bug,0.85
4973,awx,https://github.com/ansible/awx/issues/4973,Switch default job tab to output,##### ISSUE TYPE - Feature Idea cc @trahman73 @mabashian,source-file | source-file | test-file,Switch default job tab to output ##### ISSUE TYPE - Feature Idea cc @trahman73 @mabashian source-file source-file test-file,no-bug,0.9
4583,awx,https://github.com/ansible/awx/issues/4583,CLI: awx job_templates create --help does not indicate all required args,##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `awx job_template create --help` is missing several required args ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ``` required arguments: --name TEXT Name of this job template. --inventory INVENTORY ID <more text> --project PROJECT ID <more text> --playbook TEXT <more text> ``` ##### ACTUAL RESULTS <!-- What actually happened? --> ``` required arguments: --name TEXT Name of this job template. ```,source-file | source-file | source-file | source-file,CLI: awx job_templates create --help does not indicate all required args ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> `awx job_template create --help` is missing several required args ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ``` required arguments: --name TEXT Name of this job template. --inventory INVENTORY ID <more text> --project PROJECT ID <more text> --playbook TEXT <more text> ``` ##### ACTUAL RESULTS <!-- What actually happened? --> ``` required arguments: --name TEXT Name of this job template. ``` source-file source-file source-file source-file,no-bug,0.9
9769,awx,https://github.com/ansible/awx/issues/9769,EE RBAC violation when EE org changes,"##### STEPS TO REPRODUCE * Create two orgs ""Org 1"" and ""Org 2"" * Create a global EE * Create a JT in ""Org 1"" * Assign the global EE to the JT * Change the EE, assign ""Org 2"" to the EE * Run the JT ##### EXPECTED RESULTS * For the JT to fail to launch because the associated EE is in a different Org than the JT or maybe for the JT to use the default EE since it doesn't have permission to the explicitly defined one. ##### ACTUAL RESULTS * JT runs This problem generalizes to ASSIGN time permissions/RBAC vs. runtime permissions/RBAC. #### User Story For example. Say I am a company and I have created a global EE, call it ""My Networking Toolbox"". A few JT explicitly use this EE. My company is growing, we start to create multiple Organizations, we now have an ""IT"" org and a ""Networking"" org. I now want to restrict the usage of ""My Networking Toolbox"" to the ""Networking"" org so I update the EE accordingly. This is where the problem comes in. Existing JT that are NOT in the ""Networking"" org still point at the ""My Networking Toolbox"" EE. New JT living outside of the ""Networking"" org are NOT allowed to point at ""My Networking Toolbox"". #### Ideas * Do nothing. Tell the user to create a new EE record if they want to do this. * Check Jobs <-> EE RBAC at runtime and block running if violation * Do not allow EE to change Org relationship * Do not allow EE to change Org relationship if assigned to at least 1 job (similar behavior CredentialType)",other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file,"EE RBAC violation when EE org changes ##### STEPS TO REPRODUCE * Create two orgs ""Org 1"" and ""Org 2"" * Create a global EE * Create a JT in ""Org 1"" * Assign the global EE to the JT * Change the EE, assign ""Org 2"" to the EE * Run the JT ##### EXPECTED RESULTS * For the JT to fail to launch because the associated EE is in a different Org than the JT or maybe for the JT to use the default EE since it doesn't have permission to the explicitly defined one. ##### ACTUAL RESULTS * JT runs This problem generalizes to ASSIGN time permissions/RBAC vs. runtime permissions/RBAC. #### User Story For example. Say I am a company and I have created a global EE, call it ""My Networking Toolbox"". A few JT explicitly use this EE. My company is growing, we start to create multiple Organizations, we now have an ""IT"" org and a ""Networking"" org. I now want to restrict the usage of ""My Networking Toolbox"" to the ""Networking"" org so I update the EE accordingly. This is where the problem comes in. Existing JT that are NOT in the ""Networking"" org still point at the ""My Networking Toolbox"" EE. New JT living outside of the ""Networking"" org are NOT allowed to point at ""My Networking Toolbox"". #### Ideas * Do nothing. Tell the user to create a new EE record if they want to do this. * Check Jobs <-> EE RBAC at runtime and block running if violation * Do not allow EE to change Org relationship * Do not allow EE to change Org relationship if assigned to at least 1 job (similar behavior CredentialType) other-file other-file other-file test-file source-file other-file other-file other-file test-file other-file other-file test-file other-file other-file test-file",no-bug,0.8
7554,awx,https://github.com/ansible/awx/issues/7554,tower_workflow_job_template module not idempotent when defining survey,"##### ISSUE TYPE - Bug Report ##### SUMMARY The module tower_workflow_job_template always returns changed if survey_enabled and survey parameters are defined. ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: docker on linux * Ansible version: 2.9.7 * Operating System: linux * Web Browser: chrome ##### STEPS TO REPRODUCE Execute tower_workflow_job_template module various times: ```- name: Workflow Job Template awx.awx.tower_workflow_job_template: name: Workflow Job Template organization: Default inventory: Default survey_enabled: yes survey: name: ""Workflow Job Template"" description: ""Workflow Job Template"" spec: - required: true min: 0 default: '' max: 1024 question_description: '' choices: '' new_question: true variable: input question_name: input type: text ``` ##### EXPECTED RESULTS After first run which creates the Workflow Job Template the following runs should return changed=false. ##### ACTUAL RESULTS All runs of the task return changed=true. After removing survey_enabled and survey parameters the result is as expected. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | test-file,"tower_workflow_job_template module not idempotent when defining survey ##### ISSUE TYPE - Bug Report ##### SUMMARY The module tower_workflow_job_template always returns changed if survey_enabled and survey parameters are defined. ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: docker on linux * Ansible version: 2.9.7 * Operating System: linux * Web Browser: chrome ##### STEPS TO REPRODUCE Execute tower_workflow_job_template module various times: ```- name: Workflow Job Template awx.awx.tower_workflow_job_template: name: Workflow Job Template organization: Default inventory: Default survey_enabled: yes survey: name: ""Workflow Job Template"" description: ""Workflow Job Template"" spec: - required: true min: 0 default: '' max: 1024 question_description: '' choices: '' new_question: true variable: input question_name: input type: text ``` ##### EXPECTED RESULTS After first run which creates the Workflow Job Template the following runs should return changed=false. ##### ACTUAL RESULTS All runs of the task return changed=true. After removing survey_enabled and survey parameters the result is as expected. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file test-file",no-bug,0.9
5631,awx,https://github.com/ansible/awx/issues/5631,Confusing patternfly asset usage for alphabetical sort,"t##### ISSUE TYPE - Bug Report ##### SUMMARY The alphabetical patternfly sort icons are confusing (the arrow seems to imply that it is reverse, going from Z to A, but that's the opposite of what's happening): ![Screenshot from 2020-01-10 12-13-38](https://user-images.githubusercontent.com/19942822/72176905-7d229a80-33ad-11ea-99d4-b77dacbc3de7.png) It would be good to replace them with these ([from this page](https://patternfly-react.surge.sh/patternfly-4/icons/)) Alphabetical: ![Screenshot from 2020-01-10 13-37-28](https://user-images.githubusercontent.com/19942822/72177292-60d32d80-33ae-11ea-8d08-c2e3aa750498.png) Reverse: ![Screenshot from 2020-01-10 13-37-32](https://user-images.githubusercontent.com/19942822/72177309-6892d200-33ae-11ea-8827-a3efdc7a68c2.png) - [x] Resolve the alphabetical sort icons. - [x] In addition, there is a numerical sort. As part of this issue, it would be nice to double check those as well. ##### ENVIRONMENT * AWX version: latest ##### STEPS TO REPRODUCE 1. Visit a page like the credentials list. 2. Make a few creds. 3. Try to sort them and match the meaning of the icon to what's actually happening.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | documentation-file | other-file | other-file | other-file | other-file | config-file | source-file,"Confusing patternfly asset usage for alphabetical sort t##### ISSUE TYPE - Bug Report ##### SUMMARY The alphabetical patternfly sort icons are confusing (the arrow seems to imply that it is reverse, going from Z to A, but that's the opposite of what's happening): ![Screenshot from 2020-01-10 12-13-38](https://user-images.githubusercontent.com/19942822/72176905-7d229a80-33ad-11ea-99d4-b77dacbc3de7.png) It would be good to replace them with these ([from this page](https://patternfly-react.surge.sh/patternfly-4/icons/)) Alphabetical: ![Screenshot from 2020-01-10 13-37-28](https://user-images.githubusercontent.com/19942822/72177292-60d32d80-33ae-11ea-8d08-c2e3aa750498.png) Reverse: ![Screenshot from 2020-01-10 13-37-32](https://user-images.githubusercontent.com/19942822/72177309-6892d200-33ae-11ea-8827-a3efdc7a68c2.png) - [x] Resolve the alphabetical sort icons. - [x] In addition, there is a numerical sort. As part of this issue, it would be nice to double check those as well. ##### ENVIRONMENT * AWX version: latest ##### STEPS TO REPRODUCE 1. Visit a page like the credentials list. 2. Make a few creds. 3. Try to sort them and match the meaning of the icon to what's actually happening. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file documentation-file other-file other-file other-file other-file config-file source-file",no-bug,0.9
4682,awx,https://github.com/ansible/awx/issues/4682,Role Requirements Are Never Downloaded,"##### ISSUE TYPE - Bug Report ##### SUMMARY In v7.0.0, I'm observing that none of my `roles/requirements.yml` are being downloaded. This is because `roles_enabled` is always `False` (https://github.com/ansible/awx/blob/7.0.0/awx%2Fplaybooks%2Fproject_update.yml/#L136). I believe it is being set to False here: https://github.com/ansible/awx/blob/7.0.0/awx%2Fmain%2Ftasks.py/#L1903-L1905 And I believe that because all of my project update jobs have `job_type` set to `check`: ``` 12:18 $ tower-cli project_update list == ======= ====== ========== ======== =========================== ======= id project name status job_type created elapsed == ======= ====== ========== ======== =========================== ======= 1 8 redact failed check 2019-09-08T14:58:52.163985Z 9.473 2 8 redact successful check 2019-09-08T15:01:53.265410Z 17.66 3 8 redact successful check 2019-09-08T15:03:44.311907Z 18.207 5 8 redact successful check 2019-09-08T15:10:12.334796Z 17.444 7 8 redact successful check 2019-09-08T15:11:19.262736Z 15.567 9 8 redact successful check 2019-09-08T15:57:46.330028Z 17.179 11 8 redact successful check 2019-09-08T15:59:29.868311Z 15.006 13 8 redact successful check 2019-09-08T16:04:29.774665Z 16.601 15 8 redact successful check 2019-09-08T16:33:41.156042Z 19.91 17 8 redact successful check 2019-09-08T16:36:23.018896Z 18.152 19 8 redact successful check 2019-09-08T16:37:47.548971Z 19.975 21 8 redact successful check 2019-09-08T16:43:29.512127Z 16.647 23 8 redact successful check 2019-09-08T16:45:07.534971Z 14.553 25 8 redact successful check 2019-09-08T16:46:58.107282Z 16.064 27 8 redact successful check 2019-09-08T16:48:27.617600Z 19.797 29 8 redact successful check 2019-09-08T16:53:42.570323Z 24.899 31 8 redact successful check 2019-09-08T16:57:09.892092Z 19.343 33 8 redact successful check 2019-09-08T17:02:40.347073Z 31.163 34 8 redact successful check 2019-09-08T17:06:31.258627Z 26.832 35 8 redact successful check 2019-09-08T17:08:58.761749Z 30.126 36 8 redact successful check 2019-09-08T17:10:13.679558Z 26.716 38 8 redact successful check 2019-09-08T17:17:49.829855Z 30.161 == ======= ====== ========== ======== =========================== ======= ``` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker for mac * Ansible version: 2.8.4 * Operating System: N/A * Web Browser: N/A ##### STEPS TO REPRODUCE * Have a project with `requirements/roles.yml` * Observe that roles are not downloaded * Observe that all project_updates are set to 'check' ##### EXPECTED RESULTS I want my roles downloaded. :-) ##### ACTUAL RESULTS My roles are not updated. ##### ADDITIONAL INFORMATION N/A",source-file,"Role Requirements Are Never Downloaded ##### ISSUE TYPE - Bug Report ##### SUMMARY In v7.0.0, I'm observing that none of my `roles/requirements.yml` are being downloaded. This is because `roles_enabled` is always `False` (https://github.com/ansible/awx/blob/7.0.0/awx%2Fplaybooks%2Fproject_update.yml/#L136). I believe it is being set to False here: https://github.com/ansible/awx/blob/7.0.0/awx%2Fmain%2Ftasks.py/#L1903-L1905 And I believe that because all of my project update jobs have `job_type` set to `check`: ``` 12:18 $ tower-cli project_update list == ======= ====== ========== ======== =========================== ======= id project name status job_type created elapsed == ======= ====== ========== ======== =========================== ======= 1 8 redact failed check 2019-09-08T14:58:52.163985Z 9.473 2 8 redact successful check 2019-09-08T15:01:53.265410Z 17.66 3 8 redact successful check 2019-09-08T15:03:44.311907Z 18.207 5 8 redact successful check 2019-09-08T15:10:12.334796Z 17.444 7 8 redact successful check 2019-09-08T15:11:19.262736Z 15.567 9 8 redact successful check 2019-09-08T15:57:46.330028Z 17.179 11 8 redact successful check 2019-09-08T15:59:29.868311Z 15.006 13 8 redact successful check 2019-09-08T16:04:29.774665Z 16.601 15 8 redact successful check 2019-09-08T16:33:41.156042Z 19.91 17 8 redact successful check 2019-09-08T16:36:23.018896Z 18.152 19 8 redact successful check 2019-09-08T16:37:47.548971Z 19.975 21 8 redact successful check 2019-09-08T16:43:29.512127Z 16.647 23 8 redact successful check 2019-09-08T16:45:07.534971Z 14.553 25 8 redact successful check 2019-09-08T16:46:58.107282Z 16.064 27 8 redact successful check 2019-09-08T16:48:27.617600Z 19.797 29 8 redact successful check 2019-09-08T16:53:42.570323Z 24.899 31 8 redact successful check 2019-09-08T16:57:09.892092Z 19.343 33 8 redact successful check 2019-09-08T17:02:40.347073Z 31.163 34 8 redact successful check 2019-09-08T17:06:31.258627Z 26.832 35 8 redact successful check 2019-09-08T17:08:58.761749Z 30.126 36 8 redact successful check 2019-09-08T17:10:13.679558Z 26.716 38 8 redact successful check 2019-09-08T17:17:49.829855Z 30.161 == ======= ====== ========== ======== =========================== ======= ``` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker for mac * Ansible version: 2.8.4 * Operating System: N/A * Web Browser: N/A ##### STEPS TO REPRODUCE * Have a project with `requirements/roles.yml` * Observe that roles are not downloaded * Observe that all project_updates are set to 'check' ##### EXPECTED RESULTS I want my roles downloaded. :-) ##### ACTUAL RESULTS My roles are not updated. ##### ADDITIONAL INFORMATION N/A source-file",no-bug,0.8
4749,awx,https://github.com/ansible/awx/issues/4749,Incorrect links in the users list while adding them in an Organization,##### ISSUE TYPE - Bug Report ##### SUMMARY The links in the Users list while adding users in an organization redirect to the Main users page instead of redirecting to the Specific User page ##### ENVIRONMENT * AWX version: 3.6 ##### STEPS TO REPRODUCE 1. Go to any organization 2. Go to users tab 3. Click on add a user 4. Click on any user link ##### EXPECTED RESULTS It should redirect to the specific user: .../users/id ##### ACTUAL RESULTS It is redirecting to the main users page: .../users ![wrong-link-to-the-User](https://user-images.githubusercontent.com/11617351/64889389-3f9a4480-d63b-11e9-83ac-12899ac212ec.gif),source-file | config-file | config-file | source-file,Incorrect links in the users list while adding them in an Organization ##### ISSUE TYPE - Bug Report ##### SUMMARY The links in the Users list while adding users in an organization redirect to the Main users page instead of redirecting to the Specific User page ##### ENVIRONMENT * AWX version: 3.6 ##### STEPS TO REPRODUCE 1. Go to any organization 2. Go to users tab 3. Click on add a user 4. Click on any user link ##### EXPECTED RESULTS It should redirect to the specific user: .../users/id ##### ACTUAL RESULTS It is redirecting to the main users page: .../users ![wrong-link-to-the-User](https://user-images.githubusercontent.com/11617351/64889389-3f9a4480-d63b-11e9-83ac-12899ac212ec.gif) source-file config-file config-file source-file,no-bug,0.9
9852,awx,https://github.com/ansible/awx/issues/9852,error when removing single Source from inventory,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY It is not possible to delete single Source from Inventory. When trying to delete single inventory source following error occurs ``` Error: TypeError: Cannot read property 'count' of undefined at https://awx.example.com/static/js/main.2594bb50.chunk.js:1:148664 at c (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:1469770) at Generator._invoke (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:1469523) at Generator.next (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:1470129) at r (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:729) at s (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:932) ``` ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: awx-operator 0.8.0 on RKE * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Create Inventory Create Inventory source Delete Inventory source ##### EXPECTED RESULTS Source is deleted. ##### ACTUAL RESULTS Source is not deleted. See error above. ##### ADDITIONAL INFORMATION Currently as a workaround it is possible to create a dummy Source and select it as well. Multiple Source deletion is working. The warning message is broken, tho. ``` {numItemsToDelete, plural, one {This inventory source is currently being used by other resources that rely on it. Are you sure you want to delete it?} other {Deleting these inventory sources could impact other resources that rely on them. Are you sure you want to delete anyway?}} ```",other-file | other-file | test-file | source-file,"error when removing single Source from inventory <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY It is not possible to delete single Source from Inventory. When trying to delete single inventory source following error occurs ``` Error: TypeError: Cannot read property 'count' of undefined at https://awx.example.com/static/js/main.2594bb50.chunk.js:1:148664 at c (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:1469770) at Generator._invoke (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:1469523) at Generator.next (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:1470129) at r (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:729) at s (https://awx.example.com/static/js/2.89b6cada.chunk.js:2:932) ``` ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: awx-operator 0.8.0 on RKE * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE Create Inventory Create Inventory source Delete Inventory source ##### EXPECTED RESULTS Source is deleted. ##### ACTUAL RESULTS Source is not deleted. See error above. ##### ADDITIONAL INFORMATION Currently as a workaround it is possible to create a dummy Source and select it as well. Multiple Source deletion is working. The warning message is broken, tho. ``` {numItemsToDelete, plural, one {This inventory source is currently being used by other resources that rely on it. Are you sure you want to delete it?} other {Deleting these inventory sources could impact other resources that rely on them. Are you sure you want to delete anyway?}} ``` other-file other-file test-file source-file",no-bug,0.8
4815,awx,https://github.com/ansible/awx/issues/4815,Error in playbook (No action detected),"##### ISSUE TYPE - Bug Report ##### SUMMARY When playing install.yml, ansible returns an error (No action detected in task in check_vars/tasks/main.yml) ##### ENVIRONMENT * Commit: 3282caf * AWX install method: docker on linux Debian 9 * Ansible version: 2.2.1.0 * Operating System: Debian 9.11 (stretch) * Web Browser: irrelevant ##### STEPS TO REPRODUCE ``` cd ~/awx/installer ansible-playbook install.yml -i inventory ``` ##### EXPECTED RESULTS Installation of AWX ##### ACTUAL RESULTS ``` ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path. The error appears to have been in '~/awx/installer/roles/check_vars/tasks/main.yml': line 3, column 3, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: --- - include_tasks: check_openshift.yml ^ here The error appears to have been in '~/awx/installer/roles/check_vars/tasks/main.yml': line 3, column 3, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: --- - include_tasks: check_openshift.yml ^ here ```",source-file,"Error in playbook (No action detected) ##### ISSUE TYPE - Bug Report ##### SUMMARY When playing install.yml, ansible returns an error (No action detected in task in check_vars/tasks/main.yml) ##### ENVIRONMENT * Commit: 3282caf * AWX install method: docker on linux Debian 9 * Ansible version: 2.2.1.0 * Operating System: Debian 9.11 (stretch) * Web Browser: irrelevant ##### STEPS TO REPRODUCE ``` cd ~/awx/installer ansible-playbook install.yml -i inventory ``` ##### EXPECTED RESULTS Installation of AWX ##### ACTUAL RESULTS ``` ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path. The error appears to have been in '~/awx/installer/roles/check_vars/tasks/main.yml': line 3, column 3, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: --- - include_tasks: check_openshift.yml ^ here The error appears to have been in '~/awx/installer/roles/check_vars/tasks/main.yml': line 3, column 3, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: --- - include_tasks: check_openshift.yml ^ here ``` source-file",no-bug,0.9
4622,awx,https://github.com/ansible/awx/issues/4622,Allow Project Admins to Configure the Project's Ansible Environment,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Per a customer's request, Project Admins should be able to configure which Python virtual environment is used within a Project. Currently, only System/Organization Administrators have this ability.",source-file | source-file,"Allow Project Admins to Configure the Project's Ansible Environment ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Per a customer's request, Project Admins should be able to configure which Python virtual environment is used within a Project. Currently, only System/Organization Administrators have this ability. source-file source-file",no-bug,0.9
9723,awx,https://github.com/ansible/awx/issues/9723,Add screen to represent EE unified job templates endpoint,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add screen to represent EE unified job templates endpoint. See: ![image (12)](https://user-images.githubusercontent.com/9053044/112685919-9c3f0800-8e4b-11eb-938d-d5471de4cc7c.png),source-file | source-file | other-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | source-file | other-file | other-file | test-file | other-file | test-file | source-file | other-file,Add screen to represent EE unified job templates endpoint ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add screen to represent EE unified job templates endpoint. See: ![image (12)](https://user-images.githubusercontent.com/9053044/112685919-9c3f0800-8e4b-11eb-938d-d5471de4cc7c.png) source-file source-file other-file other-file test-file other-file test-file source-file other-file source-file source-file other-file other-file test-file other-file test-file source-file other-file,no-bug,0.9
5108,awx,https://github.com/ansible/awx/issues/5108,"k8s ""create django super user if it does not exist"" fails if DB migrations are not completed.","##### ISSUE TYPE - Deployment failure ##### SUMMARY <!-- Briefly describe the problem. --> Deployment fails due to task ""create django super user if it does not exist"" failing because DB migration are not completed yet. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: kubernetes * Ansible version: 2.8.4 * Operating System: MacOS/Ubuntu * Web Browser: ##### STEPS TO REPRODUCE awx deployment on some kubernetes environments fails due to DB migrations not completed. Specifically the""create django super user if it does not exist"" task fails if migrations are not completed. As a temporary fix i had to run the deployment with the --step config option and wait a couple of minutes for the Migrate database task to complete (it can be seen looking at the awx-celery container logs). ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Deployment to complete without issues ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | test-file,"k8s ""create django super user if it does not exist"" fails if DB migrations are not completed. ##### ISSUE TYPE - Deployment failure ##### SUMMARY <!-- Briefly describe the problem. --> Deployment fails due to task ""create django super user if it does not exist"" failing because DB migration are not completed yet. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: kubernetes * Ansible version: 2.8.4 * Operating System: MacOS/Ubuntu * Web Browser: ##### STEPS TO REPRODUCE awx deployment on some kubernetes environments fails due to DB migrations not completed. Specifically the""create django super user if it does not exist"" task fails if migrations are not completed. As a temporary fix i had to run the deployment with the --step config option and wait a couple of minutes for the Migrate database task to complete (it can be seen looking at the awx-celery container logs). ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Deployment to complete without issues ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file test-file",no-bug,0.9
7795,awx,https://github.com/ansible/awx/issues/7795,"Using ""yaml"" as a format when exporting a resource on Python 3 generates garbage","##### ISSUE TYPE - If one runs the command `awx export -f yaml` using a Python 3 interpreter, the literal representation of the generated bytestring will be printed, instead of the proper, parseable YAML representation. ##### SUMMARY The command `awx export -f yaml` will print the literal representation of the generated bytestring, e.g. `b""workflow_job_templates:\n- allow_simultaneous: true\n ...` if the interpreter is Python 3. This happens because the behaviour of the `print()` function, in respect to how it handles bytestrings (`bytes`), has changed compared to Python 2. For example: ``` Python 2.7.5 (default, Mar 20 2020, 17:08:22) >>> print(b'hello') hello ``` ``` Python 3.6.8 (default, Sep 26 2019, 11:57:09) >>> print(b'hello') b'hello' ``` In `awxkit.awxkit.cli.resource.py:231`: ``` formatted = format_response( Page.from_json(response, connection=connection), fmt=client.get_config('format'), filter=_filter ) print(formatted) ``` `formatted` is always of type `str` in Python 2. In Python 3 it is of type `str` if the JSON formatter is chosen, and of type `bytes` if the YAML formatter is chosen. ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: source * Ansible version: 2.9.10 * Operating System: Linux (RHEL 7) * Web Browser: Google Chrome ##### STEPS TO REPRODUCE 1. Install awx in a Python 3 virtual environment 2. `awx -f yaml export` ##### EXPECTED RESULTS The command will should print a parseable representation of the YAML payload, e.g. (ellipsed for brevity) ```yaml workflow_job_templates: - allow_simultaneous: true ... ``` ##### ACTUAL RESULTS The command will print the following garbage on stdout (ellipsed for brevity): ``` b""workflow_job_templates:\n- allow_simultaneous: true\n ...` ```",source-file | source-file | source-file | source-file | source-file | source-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file,"Using ""yaml"" as a format when exporting a resource on Python 3 generates garbage ##### ISSUE TYPE - If one runs the command `awx export -f yaml` using a Python 3 interpreter, the literal representation of the generated bytestring will be printed, instead of the proper, parseable YAML representation. ##### SUMMARY The command `awx export -f yaml` will print the literal representation of the generated bytestring, e.g. `b""workflow_job_templates:\n- allow_simultaneous: true\n ...` if the interpreter is Python 3. This happens because the behaviour of the `print()` function, in respect to how it handles bytestrings (`bytes`), has changed compared to Python 2. For example: ``` Python 2.7.5 (default, Mar 20 2020, 17:08:22) >>> print(b'hello') hello ``` ``` Python 3.6.8 (default, Sep 26 2019, 11:57:09) >>> print(b'hello') b'hello' ``` In `awxkit.awxkit.cli.resource.py:231`: ``` formatted = format_response( Page.from_json(response, connection=connection), fmt=client.get_config('format'), filter=_filter ) print(formatted) ``` `formatted` is always of type `str` in Python 2. In Python 3 it is of type `str` if the JSON formatter is chosen, and of type `bytes` if the YAML formatter is chosen. ##### ENVIRONMENT * AWX version: 13.0.0 * AWX install method: source * Ansible version: 2.9.10 * Operating System: Linux (RHEL 7) * Web Browser: Google Chrome ##### STEPS TO REPRODUCE 1. Install awx in a Python 3 virtual environment 2. `awx -f yaml export` ##### EXPECTED RESULTS The command will should print a parseable representation of the YAML payload, e.g. (ellipsed for brevity) ```yaml workflow_job_templates: - allow_simultaneous: true ... ``` ##### ACTUAL RESULTS The command will print the following garbage on stdout (ellipsed for brevity): ``` b""workflow_job_templates:\n- allow_simultaneous: true\n ...` ``` source-file source-file source-file source-file source-file source-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file",no-bug,0.9
9910,awx,https://github.com/ansible/awx/issues/9910,Components with aria-label marked to be translated with Plural being displayed as [object Object],"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> #### Note the same problem may be happening in different places... While fixing e2e tests I realize that some components is showing `aria-label=""[object Object]""` because is using a variable using the <Plural> component. ##### ENVIRONMENT * Devel ##### STEPS TO REPRODUCE 1. Go to jobs list 2. inspect the button `Cancel Job` ##### EXPECTED RESULTS That the correct text is displayed for aria-labels not object ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/12464858/114781911-b5065380-9d4f-11eb-92ec-7b94dab932fc.png)",other-file | test-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Components with aria-label marked to be translated with Plural being displayed as [object Object] <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> #### Note the same problem may be happening in different places... While fixing e2e tests I realize that some components is showing `aria-label=""[object Object]""` because is using a variable using the <Plural> component. ##### ENVIRONMENT * Devel ##### STEPS TO REPRODUCE 1. Go to jobs list 2. inspect the button `Cancel Job` ##### EXPECTED RESULTS That the correct text is displayed for aria-labels not object ##### ACTUAL RESULTS ![image](https://user-images.githubusercontent.com/12464858/114781911-b5065380-9d4f-11eb-92ec-7b94dab932fc.png) other-file test-file test-file test-file test-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6339,awx,https://github.com/ansible/awx/issues/6339,"in ansible tower ,File Exists Error on Jobs","##### ISSUE TYPE - Bug Report ##### SUMMARY File Exists Error on Jobs ##### ENVIRONMENT * Ansible Tower version: 3.2.7 * Ansible version: 2.6.4 * Operating System: CentOS Linux release 7.5.1804 * Web Browser: chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Task run successfully ##### ACTUAL RESULTS Bug appears randomly In Ansible Tower Web UI: Identity added: /tmp/awx_56471__MqKDI/credential_6 (/tmp/awx_56471__MqKDI/credential_6) ERROR! Unexpected Exception, this is probably a bug: [Errno 17] File exists to see the full traceback, use -vvv In Ansible Log File: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 240, in trace_task R = retval = fun(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 438, in __protected_call__ return self.run(*args, **kwargs) File ""/lib/python2.7/site-packages/awx/main/tasks.py"", line 477, in _wrapped File ""/lib/python2.7/site-packages/awx/main/tasks.py"", line 952, in run Exception: job 56471 (failed) encountered an error (rc=250), please see task stdout for details. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",test-file,"in ansible tower ,File Exists Error on Jobs ##### ISSUE TYPE - Bug Report ##### SUMMARY File Exists Error on Jobs ##### ENVIRONMENT * Ansible Tower version: 3.2.7 * Ansible version: 2.6.4 * Operating System: CentOS Linux release 7.5.1804 * Web Browser: chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Task run successfully ##### ACTUAL RESULTS Bug appears randomly In Ansible Tower Web UI: Identity added: /tmp/awx_56471__MqKDI/credential_6 (/tmp/awx_56471__MqKDI/credential_6) ERROR! Unexpected Exception, this is probably a bug: [Errno 17] File exists to see the full traceback, use -vvv In Ansible Log File: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 240, in trace_task R = retval = fun(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib/python2.7/site-packages/celery/app/trace.py"", line 438, in __protected_call__ return self.run(*args, **kwargs) File ""/lib/python2.7/site-packages/awx/main/tasks.py"", line 477, in _wrapped File ""/lib/python2.7/site-packages/awx/main/tasks.py"", line 952, in run Exception: job 56471 (failed) encountered an error (rc=250), please see task stdout for details. ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> test-file",no-bug,0.9
7744,awx,https://github.com/ansible/awx/issues/7744,Add instance group,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add instance group.,other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file,Add instance group ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add instance group. other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file,no-bug,0.9
10977,awx,https://github.com/ansible/awx/issues/10977,Job Output details page briefly showing invalid date,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Job Output details page briefly showing invalid date ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Launch a job 2 - Go to job details ### Expected results `Finished` to be shown once there is a valid date. ### Actual results See `Finished` <img width=""1492"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/131387942-914d7f0c-a619-4291-8d88-eef12afc5216.png""> ### Additional information _No response_",source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Job Output details page briefly showing invalid date ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Job Output details page briefly showing invalid date ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Launch a job 2 - Go to job details ### Expected results `Finished` to be shown once there is a valid date. ### Actual results See `Finished` <img width=""1492"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/131387942-914d7f0c-a619-4291-8d88-eef12afc5216.png""> ### Additional information _No response_ source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
4700,awx,https://github.com/ansible/awx/issues/4700,Support for s390x,"##### SUMMARY I wanted to start a discussion about supporting `s390x`. I ported a version of AWX a while back to `s390x`, and it went pretty smooth. There were just a couple small tweaks that needed to be made to get the Docker images to build. Here are a couple of tweaks that were needed (These are off the top of my head, more might be needed): - Template out the base image pulls, CentOS to ClefOS - Point the download for Tini to an updated version, I think v0.16.1 was the first build for `s390x` - Some lib C packages might need to be changed - IUS Repos will need to be changed/modified to alternative repo lists Would you guys be open to support `s390x`? I know a lot of the Dockerfiles are using templating to be dynamic. One possible solution would add a couple more dynamic parameters to allow for the changes that `s390x` needs. Thus, not changing the Dockerfiles for `x86` but still allowing `s390x` images to be built.",source-file,"Support for s390x ##### SUMMARY I wanted to start a discussion about supporting `s390x`. I ported a version of AWX a while back to `s390x`, and it went pretty smooth. There were just a couple small tweaks that needed to be made to get the Docker images to build. Here are a couple of tweaks that were needed (These are off the top of my head, more might be needed): - Template out the base image pulls, CentOS to ClefOS - Point the download for Tini to an updated version, I think v0.16.1 was the first build for `s390x` - Some lib C packages might need to be changed - IUS Repos will need to be changed/modified to alternative repo lists Would you guys be open to support `s390x`? I know a lot of the Dockerfiles are using templating to be dynamic. One possible solution would add a couple more dynamic parameters to allow for the changes that `s390x` needs. Thus, not changing the Dockerfiles for `x86` but still allowing `s390x` images to be built. source-file",no-bug,0.95
8073,awx,https://github.com/ansible/awx/issues/8073,Add details page for container groups,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add details page for container groups,other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file,Add details page for container groups ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add details page for container groups other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file,no-bug,0.9
9456,awx,https://github.com/ansible/awx/issues/9456,Adding a User or Team to the Access tab of a Credential Can't be Saved,"##### ISSUE TYPE - Bug Report ##### SUMMARY When attempting to give access to a user or a team inside of a credential, the check boxes behave strangely and the Save button does nothing when clicked. ##### ENVIRONMENT * AWX version: Devel 3/2/2021 ##### STEPS TO REPRODUCE Click on Credentials. Click on a single credential and navigate to its access tab. Click Add, and select either User or Team. Click on the role permissions. Try to uncheck them. You'll notice that checking one role can uncheck another role. Try to click Save. You can't. ##### EXPECTED RESULTS A user should be able to give access to a user or a team within a specific credential. ##### ACTUAL RESULTS A user or team can never be given access to a credential because the Save button doesn't work. Also the check boxes of the different roles behave strangely. ##### ADDITIONAL INFORMATION ![Screen+Recording+2021-03-02+at+12 18 59+PM](https://user-images.githubusercontent.com/63685497/109688697-927afb00-7b52-11eb-94e5-88bfc33d9e35.gif)",other-file,"Adding a User or Team to the Access tab of a Credential Can't be Saved ##### ISSUE TYPE - Bug Report ##### SUMMARY When attempting to give access to a user or a team inside of a credential, the check boxes behave strangely and the Save button does nothing when clicked. ##### ENVIRONMENT * AWX version: Devel 3/2/2021 ##### STEPS TO REPRODUCE Click on Credentials. Click on a single credential and navigate to its access tab. Click Add, and select either User or Team. Click on the role permissions. Try to uncheck them. You'll notice that checking one role can uncheck another role. Try to click Save. You can't. ##### EXPECTED RESULTS A user should be able to give access to a user or a team within a specific credential. ##### ACTUAL RESULTS A user or team can never be given access to a credential because the Save button doesn't work. Also the check boxes of the different roles behave strangely. ##### ADDITIONAL INFORMATION ![Screen+Recording+2021-03-02+at+12 18 59+PM](https://user-images.githubusercontent.com/63685497/109688697-927afb00-7b52-11eb-94e5-88bfc33d9e35.gif) other-file",no-bug,0.8
11862,awx,https://github.com/ansible/awx/issues/11862,Add help text popovers to /#/credentials details fields,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Spawned out of https://github.com/ansible/awx/issues/9215 See /#/settings for how this should work. If you look the details view for a particular settings group you'll see help text popovers next to many (if not all) of the fields. The help text matches up with the fields in the form. We want to bring all the forms/details to parity in this regard. If you see form fields that are missing help text, feel free to add it. I'm not going to list out all the possible fields across all the different credential types. Given that custom credential types are a thing, we'll need to do this dynamically.",source-file | source-file,"Add help text popovers to /#/credentials details fields ##### ISSUE TYPE - Feature Idea ##### SUMMARY Spawned out of https://github.com/ansible/awx/issues/9215 See /#/settings for how this should work. If you look the details view for a particular settings group you'll see help text popovers next to many (if not all) of the fields. The help text matches up with the fields in the form. We want to bring all the forms/details to parity in this regard. If you see form fields that are missing help text, feel free to add it. I'm not going to list out all the possible fields across all the different credential types. Given that custom credential types are a thing, we'll need to do this dynamically. source-file source-file",no-bug,0.95
8091,awx,https://github.com/ansible/awx/issues/8091,List jobs related to container groups,##### ISSUE TYPE - Feature Idea ##### SUMMARY List Jobs related to container groups.,other-file | other-file | source-file | other-file | other-file | source-file,List jobs related to container groups ##### ISSUE TYPE - Feature Idea ##### SUMMARY List Jobs related to container groups. other-file other-file source-file other-file other-file source-file,no-bug,0.9
7706,awx,https://github.com/ansible/awx/issues/7706,"""Type"" sort is extraneous in schedule tab for resources","##### ISSUE TYPE - Bug Report ##### SUMMARY The default sort in the UI for schedules is ""Type"". For example, with Job Templates, the type is ""Playbook Run"". This sort makes sense for the main schedules view, `/schedules`, but doesn't make sense at all when dealing with tabs like Job Template > Schedules. It's the default sort in that view, but doesn't do anything because all items in these sub-tabs are the same type. This issue is satisfied by removing ""Type"" from the sort choices for the Project > schedule, Job template > schedule, etc. views (there are more, this is not an exhaustive list). The default sort should also be set to ""Name"", or something else if there is a more intuitive sort for that list.",other-file | other-file | other-file | other-file,"""Type"" sort is extraneous in schedule tab for resources ##### ISSUE TYPE - Bug Report ##### SUMMARY The default sort in the UI for schedules is ""Type"". For example, with Job Templates, the type is ""Playbook Run"". This sort makes sense for the main schedules view, `/schedules`, but doesn't make sense at all when dealing with tabs like Job Template > Schedules. It's the default sort in that view, but doesn't do anything because all items in these sub-tabs are the same type. This issue is satisfied by removing ""Type"" from the sort choices for the Project > schedule, Job template > schedule, etc. views (there are more, this is not an exhaustive list). The default sort should also be set to ""Name"", or something else if there is a more intuitive sort for that list. other-file other-file other-file other-file",no-bug,0.9
9434,awx,https://github.com/ansible/awx/issues/9434,request_tower_configuration.ps1 problem windows 2012 and 2016,"We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY `request_tower_configuration.ps1` doesn't run on windows 2012 and 2016 ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: ansible tower * Ansible version: 2.9.15 * Operating System: Red Hat Enterprise Linux release 8.3 (Ootpa) * Web Browser: Firefox 85.0.1 ##### STEPS TO REPRODUCE 1. download the latest version of request_tower_configuration.ps1 https://github.com/ansible/awx/blob/devel/tools/scripts/request_tower_configuration.ps1 2. Execute Powershell 3. Set Execution policy to Unrestricted (ref http://go.microsoft.com/fwlink/?LinkID=135170 ) $ `Set-ExecutionPolicy -ExecutionPolicy Unrestricted` (confirm yes at the request) ``` PS C:\Users\Administrator> Set-ExecutionPolicy -ExecutionPolicy Unrestricted Execution Policy Change The execution policy helps protect you from scripts that you do not trust. Changing the execution policy might expose you to the security risks described in the about_Execution_Policies help topic at http://go.microsoft.com/fwlink/?LinkID=135170. Do you want to change the execution policy? [Y] Yes [A] Yes to All [N] No [L] No to All [S] Suspend [?] Help (default is ""N""): a ``` 4. Execute request_tower_configuration.ps1 `$ C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c fc951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 ` 5. Get Powershell version with `$ (Get-Host).Version ` ##### EXPECTED RESULTS Like windows 2019 ``` PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c f c951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 403 received... retrying in 1 minute (Attempt 1) PS C:\Users\Administrator> ``` ##### ACTUAL RESULTS - Windows 2012 - Powershell version (5.1.14409.1018) ``` Windows PowerShell Copyright (C) 2016 Microsoft Corporation. All rights reserved. PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c fc951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 C:\Users\Administrator\Desktop\request_tower_configuration.ps1 : The property 'StatusCode' cannot be found on this object. Verify that the property exists. At line:1 char:1 + C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s htt ... + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : NotSpecified: (:) [request_tower_configuration.ps1], PropertyNotFoundException + FullyQualifiedErrorId : PropertyNotFoundStrict,request_tower_configuration.ps1 PS C:\Users\Administrator> ``` - Windows 2016 - Powershell version (5.1.14393.3866) ``` Windows PowerShell Copyright (C) 2016 Microsoft Corporation. All rights reserved. PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c f c951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 C:\Users\Administrator\Desktop\request_tower_configuration.ps1 : The property 'StatusCode' cannot be found on this object. Verify that the property exists. At line:1 char:1 + C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s htt ... + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : NotSpecified: (:) [request_tower_configuration.ps1], PropertyNotFoundException + FullyQualifiedErrorId : PropertyNotFoundStrict,request_tower_configuration.ps1 PS C:\Users\Administrator> ``` ##### ADDITIONAL INFORMATION It runs without errors when run without arguments: ``` PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 Request server configuration from Ansible Tower Usage: Execution using positional parameters: request_tower_configuration.ps1 https://example.towerhost.net 44d7507f2ead49af5fca80aa18fd24bc 38 Ignore self-signed certificates using named parameters: request_tower_configuration.ps1 -k -s https://example.towerhost.local -c 44d7507f2ead49af5fca80aa18fd24bc -t 38 Execution using optional extra_vars: request_tower_configuration.ps1 https://example.towerhost.net 44d7507f2ead49af5fca80aa18fd24bc 38 '{ key: value, dic t: { key: value }}' Options: -help, -h Show this message -tower_url, -s Tower server (e.g. https://<server address>[:server port]) (required) -insecure, -k Allow insecure SSL connections and transfers -host_config_key, -c <host config key> Host config key (required) -job_template_id, -t <job template id> Job template ID (required) -extra_vars, -e [<extra vars>] Extra variables ```",other-file,"request_tower_configuration.ps1 problem windows 2012 and 2016 We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY `request_tower_configuration.ps1` doesn't run on windows 2012 and 2016 ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: ansible tower * Ansible version: 2.9.15 * Operating System: Red Hat Enterprise Linux release 8.3 (Ootpa) * Web Browser: Firefox 85.0.1 ##### STEPS TO REPRODUCE 1. download the latest version of request_tower_configuration.ps1 https://github.com/ansible/awx/blob/devel/tools/scripts/request_tower_configuration.ps1 2. Execute Powershell 3. Set Execution policy to Unrestricted (ref http://go.microsoft.com/fwlink/?LinkID=135170 ) $ `Set-ExecutionPolicy -ExecutionPolicy Unrestricted` (confirm yes at the request) ``` PS C:\Users\Administrator> Set-ExecutionPolicy -ExecutionPolicy Unrestricted Execution Policy Change The execution policy helps protect you from scripts that you do not trust. Changing the execution policy might expose you to the security risks described in the about_Execution_Policies help topic at http://go.microsoft.com/fwlink/?LinkID=135170. Do you want to change the execution policy? [Y] Yes [A] Yes to All [N] No [L] No to All [S] Suspend [?] Help (default is ""N""): a ``` 4. Execute request_tower_configuration.ps1 `$ C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c fc951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 ` 5. Get Powershell version with `$ (Get-Host).Version ` ##### EXPECTED RESULTS Like windows 2019 ``` PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c f c951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 403 received... retrying in 1 minute (Attempt 1) PS C:\Users\Administrator> ``` ##### ACTUAL RESULTS - Windows 2012 - Powershell version (5.1.14409.1018) ``` Windows PowerShell Copyright (C) 2016 Microsoft Corporation. All rights reserved. PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c fc951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 C:\Users\Administrator\Desktop\request_tower_configuration.ps1 : The property 'StatusCode' cannot be found on this object. Verify that the property exists. At line:1 char:1 + C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s htt ... + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : NotSpecified: (:) [request_tower_configuration.ps1], PropertyNotFoundException + FullyQualifiedErrorId : PropertyNotFoundStrict,request_tower_configuration.ps1 PS C:\Users\Administrator> ``` - Windows 2016 - Powershell version (5.1.14393.3866) ``` Windows PowerShell Copyright (C) 2016 Microsoft Corporation. All rights reserved. PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s https://10.0.121.63 -k -c f c951820-04eb-4a27-9c9c-d9a1c01f48ff -t 42 C:\Users\Administrator\Desktop\request_tower_configuration.ps1 : The property 'StatusCode' cannot be found on this object. Verify that the property exists. At line:1 char:1 + C:\Users\Administrator\Desktop\request_tower_configuration.ps1 -s htt ... + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ + CategoryInfo : NotSpecified: (:) [request_tower_configuration.ps1], PropertyNotFoundException + FullyQualifiedErrorId : PropertyNotFoundStrict,request_tower_configuration.ps1 PS C:\Users\Administrator> ``` ##### ADDITIONAL INFORMATION It runs without errors when run without arguments: ``` PS C:\Users\Administrator> C:\Users\Administrator\Desktop\request_tower_configuration.ps1 Request server configuration from Ansible Tower Usage: Execution using positional parameters: request_tower_configuration.ps1 https://example.towerhost.net 44d7507f2ead49af5fca80aa18fd24bc 38 Ignore self-signed certificates using named parameters: request_tower_configuration.ps1 -k -s https://example.towerhost.local -c 44d7507f2ead49af5fca80aa18fd24bc -t 38 Execution using optional extra_vars: request_tower_configuration.ps1 https://example.towerhost.net 44d7507f2ead49af5fca80aa18fd24bc 38 '{ key: value, dic t: { key: value }}' Options: -help, -h Show this message -tower_url, -s Tower server (e.g. https://<server address>[:server port]) (required) -insecure, -k Allow insecure SSL connections and transfers -host_config_key, -c <host config key> Host config key (required) -job_template_id, -t <job template id> Job template ID (required) -extra_vars, -e [<extra vars>] Extra variables ``` other-file",no-bug,0.9
9635,awx,https://github.com/ansible/awx/issues/9635,[Meta issue] Credentials bugs,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY While verifying https://github.com/ansible/awx/pull/9368 I've found a couple of things happening on devel: - [x] 1. Using external secret management system display the component Ace editor wrong ![image](https://user-images.githubusercontent.com/12464858/111816196-50c0b300-88bb-11eb-9097-a3d90d22903c.png) **Steps to reproduce:** 1. Create a credential `CyberArk Conjur Secret Lookup` 2. Create a credential for AWS using the CyberArk on **Secret Key** as an external secret management system - [x] 2. Trying to edit the credential replacing the external secret for a pain text and saving: ![chrome-capture (2)](https://user-images.githubusercontent.com/12464858/111816825-0ee43c80-88bc-11eb-9623-5e8e952e60e9.gif) **Steps to reproduce:** See the gif. - [x] 3. ~All types with `Verify SSL` option is being displayed as enabled on the form and details~ ![chrome-capture (3)](https://user-images.githubusercontent.com/12464858/111817668-0b9d8080-88bd-11eb-93ac-2649e2a76b8a.gif) **Types:** - Tower - CyberArk AIM Central Credential Provider Lookup - OpenShift or Kubernetes API Bearer Token - OpenStack",other-file | other-file,"[Meta issue] Credentials bugs <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY While verifying https://github.com/ansible/awx/pull/9368 I've found a couple of things happening on devel: - [x] 1. Using external secret management system display the component Ace editor wrong ![image](https://user-images.githubusercontent.com/12464858/111816196-50c0b300-88bb-11eb-9097-a3d90d22903c.png) **Steps to reproduce:** 1. Create a credential `CyberArk Conjur Secret Lookup` 2. Create a credential for AWS using the CyberArk on **Secret Key** as an external secret management system - [x] 2. Trying to edit the credential replacing the external secret for a pain text and saving: ![chrome-capture (2)](https://user-images.githubusercontent.com/12464858/111816825-0ee43c80-88bc-11eb-9623-5e8e952e60e9.gif) **Steps to reproduce:** See the gif. - [x] 3. ~All types with `Verify SSL` option is being displayed as enabled on the form and details~ ![chrome-capture (3)](https://user-images.githubusercontent.com/12464858/111817668-0b9d8080-88bd-11eb-93ac-2649e2a76b8a.gif) **Types:** - Tower - CyberArk AIM Central Credential Provider Lookup - OpenShift or Kubernetes API Bearer Token - OpenStack other-file other-file",no-bug,0.9
13313,awx,https://github.com/ansible/awx/issues/13313,AWX has problem to connect to Redis,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary After upgrading the AWX-operator to 1.1.1 and AWX included is 21.10.0 with removed aio redis package, we are getting errors in connection.py. See below: `future: <Task finished name='Task-3' coro=<Connection.disconnect() done, defined at /var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/asyncio/connection.py:828> exception=RuntimeError('Event loop is closed')> Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/asyncio/connection.py"", line 837, in disconnect self._writer.close() # type: ignore[union-attr] File ""/usr/lib64/python3.9/asyncio/streams.py"", line 353, in close return self._transport.close() File ""/usr/lib64/python3.9/asyncio/selector_events.py"", line 698, in close self._loop.call_soon(self._call_connection_lost, None) File ""/usr/lib64/python3.9/asyncio/base_events.py"", line 751, in call_soon self._check_closed() File ""/usr/lib64/python3.9/asyncio/base_events.py"", line 515, in _check_closed raise RuntimeError('Event loop is closed')` ### AWX version 21.10.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Deploy 1.1.1 of AWX-operator, sync dynamic inventory. ### Expected results Inventory sync ### Actual results Job failed and error is present in log. ### Additional information _No response_",documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file,"AWX has problem to connect to Redis ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary After upgrading the AWX-operator to 1.1.1 and AWX included is 21.10.0 with removed aio redis package, we are getting errors in connection.py. See below: `future: <Task finished name='Task-3' coro=<Connection.disconnect() done, defined at /var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/asyncio/connection.py:828> exception=RuntimeError('Event loop is closed')> Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/redis/asyncio/connection.py"", line 837, in disconnect self._writer.close() # type: ignore[union-attr] File ""/usr/lib64/python3.9/asyncio/streams.py"", line 353, in close return self._transport.close() File ""/usr/lib64/python3.9/asyncio/selector_events.py"", line 698, in close self._loop.call_soon(self._call_connection_lost, None) File ""/usr/lib64/python3.9/asyncio/base_events.py"", line 751, in call_soon self._check_closed() File ""/usr/lib64/python3.9/asyncio/base_events.py"", line 515, in _check_closed raise RuntimeError('Event loop is closed')` ### AWX version 21.10.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Deploy 1.1.1 of AWX-operator, sync dynamic inventory. ### Expected results Inventory sync ### Actual results Job failed and error is present in log. ### Additional information _No response_ documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file documentation-file other-file other-file",no-bug,0.9
8171,awx,https://github.com/ansible/awx/issues/8171,Add details page for Execution Environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add details page for execution environments. See: https://tower-mockups.testing.ansible.com/patternfly/exec-env/exec-env-detail/,other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file,Add details page for Execution Environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add details page for execution environments. See: https://tower-mockups.testing.ansible.com/patternfly/exec-env/exec-env-detail/ other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file test-file other-file test-file other-file other-file other-file test-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file,no-bug,0.9
6543,awx,https://github.com/ansible/awx/issues/6543,AWX version 10 Crashes with 12 or more pods running,"##### ISSUE TYPE - Bug Report ##### SUMMARY Initially scale OpenShift AWX cluster to 12 pods without any issue, then try to add one more pods, which started successfully, but AWX GUI stop responding with the following error: Server Error A server error has occurred. #### ENVIRONMENT * AWX version: 10 * AWX install method: openshift * Ansible version: 2.9.5 * Operating System: * Web Browser: Chrome ##### STEPS TO REPRODUCE Start 12 pods in openshift then try to add additional pods Reducing number of pods to 12 restored GUI and normal operations ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Cluster stop responding ##### ADDITIONAL INFORMATION WEB log: 2020-04-02 14:59:55,405 WARNING awx.main.wsbroadcast awx-0 going to add {'awx-11'} to the websocket broadcast list 2020-04-02 14:59:55,406 DEBUG awx.main.wsbroadcast awx-0 connect attempt 0 to awx-11 2020-04-02 14:59:55,420 WARNING awx.main.wsbroadcast Failed to connect to awx-11: 'Cannot connect to host awx-11:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 14:59:55,421 DEBUG awx.main.wsbroadcast awx-0 connect attempt 1 to awx-11 2020-04-02 14:59:57,861 INFO awx.main.consumers Broadcast client connected. 2020-04-02 14:59:57,861 INFO Broadcast client connected. 2020-04-02 15:00:00,444 WARNING awx.main.wsbroadcast Failed to connect to awx-11: 'Cannot connect to host awx-11:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:00:00,445 DEBUG awx.main.wsbroadcast awx-0 connect attempt 2 to awx-11 RESULT 2 OKREADY 2020-04-02 15:00:05,414 WARNING awx.main.wsbroadcast awx-0 going to remove {'awx-11'} from the websocket broadcast list 2020-04-02 15:00:05,414 WARNING awx.main.wsbroadcast awx-0 going to add {'172.20.218.191'} to the websocket broadcast list 2020-04-02 15:00:05,415 WARNING awx.main.wsbroadcast awx-0 connection to awx-11 cancelled 2020-04-02 15:00:05,415 DEBUG awx.main.wsbroadcast awx-0 connect attempt 0 to 172.20.218.191 RESULT 2 OKREADY RESULT 2 OKREADY 2020-04-02 15:02:05,512 WARNING awx.main.wsbroadcast awx-0 going to add {'awx-12'} to the websocket broadcast list 2020-04-02 15:02:05,513 DEBUG awx.main.wsbroadcast awx-0 connect attempt 0 to awx-12 2020-04-02 15:02:05,526 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:05,527 DEBUG awx.main.wsbroadcast awx-0 connect attempt 1 to awx-12 2020-04-02 15:02:09,724 INFO awx.main.consumers Broadcast client connected. 2020-04-02 15:02:09,724 INFO Broadcast client connected. 2020-04-02 15:02:10,539 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:10,540 DEBUG awx.main.wsbroadcast awx-0 connect attempt 2 to awx-12 2020-04-02 15:02:15,555 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:15,556 DEBUG awx.main.wsbroadcast awx-0 connect attempt 3 to awx-12 2020-04-02 15:02:20,571 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:20,572 DEBUG awx.main.wsbroadcast awx-0 connect attempt 4 to awx-12 2020-04-02 15:02:25,593 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:25,594 DEBUG awx.main.wsbroadcast awx-0 connect attempt 5 to awx-12 2020-04-02 15:02:30,658 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:30,659 DEBUG awx.main.wsbroadcast awx-0 connect attempt 6 to awx-12 2020-04-02 15:02:35,704 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:35,706 DEBUG awx.main.wsbroadcast awx-0 connect attempt 7 to awx-12 2020-04-02 15:02:40,722 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:40,722 DEBUG awx.main.wsbroadcast awx-0 connect attempt 8 to awx-12 2020-04-02 15:02:45,771 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:45,771 DEBUG awx.main.wsbroadcast awx-0 connect attempt 9 to awx-12 2020-04-02 15:02:50,782 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:50,783 DEBUG awx.main.wsbroadcast awx-0 connect attempt 10 to awx-12 2020-04-02 15:02:55,800 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:55,800 DEBUG awx.main.wsbroadcast awx-0 connect attempt 11 to awx-12 2020-04-02 15:03:00,825 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... RESULT 2 OKREADY 2020-04-02 15:03:00,826 DEBUG awx.main.wsbroadcast awx-0 connect attempt 12 to awx-12 2020-04-02 15:03:05,839 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:03:05,914 DEBUG awx.main.wsbroadcast awx-0 connect attempt 13 to awx-12 2020-04-02 15:03:10,927 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:03:10,928 DEBUG awx.main.wsbroadcast awx-0 connect attempt 14 to awx-12 2020-04-02 15:03:15,941 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:03:15,942 DEBUG awx.main.wsbroadcast awx-0 connect attempt 15 to awx-12 TASK log: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect self.connection = self.get_new_connection(conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection connection = Database.connect(**conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect conn = _connect(dsn, connection_factory=connection_factory, **kwasync) psycopg2.OperationalError: FATAL: remaining connection slots are reserved for non-replication superuser connections The above exception was the direct cause of the following exception: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 76, in _ctit_db_wrapper yield File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 404, in __getattr__ value = self._get_local(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 347, in _get_local setting = Setting.objects.filter(key=name, user__isnull=True).order_by('pk').first() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 653, in first for obj in (self if self.ordered else self.order_by('pk'))[:1]: File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 274, in __iter__ self._fetch_all() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all self._result_cache = list(self._iterable_class(self)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1138, in execute_sql cursor = self.connection.cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor return self._cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 233, in _cursor self.ensure_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect self.connection = self.get_new_connection(conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection connection = Database.connect(**conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect conn = _connect(dsn, connection_factory=connection_factory, **kwasync) django.db.utils.OperationalError: FATAL: remaining connection slots are reserved for non-replication superuser connections",config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file,"AWX version 10 Crashes with 12 or more pods running ##### ISSUE TYPE - Bug Report ##### SUMMARY Initially scale OpenShift AWX cluster to 12 pods without any issue, then try to add one more pods, which started successfully, but AWX GUI stop responding with the following error: Server Error A server error has occurred. #### ENVIRONMENT * AWX version: 10 * AWX install method: openshift * Ansible version: 2.9.5 * Operating System: * Web Browser: Chrome ##### STEPS TO REPRODUCE Start 12 pods in openshift then try to add additional pods Reducing number of pods to 12 restored GUI and normal operations ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Cluster stop responding ##### ADDITIONAL INFORMATION WEB log: 2020-04-02 14:59:55,405 WARNING awx.main.wsbroadcast awx-0 going to add {'awx-11'} to the websocket broadcast list 2020-04-02 14:59:55,406 DEBUG awx.main.wsbroadcast awx-0 connect attempt 0 to awx-11 2020-04-02 14:59:55,420 WARNING awx.main.wsbroadcast Failed to connect to awx-11: 'Cannot connect to host awx-11:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 14:59:55,421 DEBUG awx.main.wsbroadcast awx-0 connect attempt 1 to awx-11 2020-04-02 14:59:57,861 INFO awx.main.consumers Broadcast client connected. 2020-04-02 14:59:57,861 INFO Broadcast client connected. 2020-04-02 15:00:00,444 WARNING awx.main.wsbroadcast Failed to connect to awx-11: 'Cannot connect to host awx-11:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:00:00,445 DEBUG awx.main.wsbroadcast awx-0 connect attempt 2 to awx-11 RESULT 2 OKREADY 2020-04-02 15:00:05,414 WARNING awx.main.wsbroadcast awx-0 going to remove {'awx-11'} from the websocket broadcast list 2020-04-02 15:00:05,414 WARNING awx.main.wsbroadcast awx-0 going to add {'172.20.218.191'} to the websocket broadcast list 2020-04-02 15:00:05,415 WARNING awx.main.wsbroadcast awx-0 connection to awx-11 cancelled 2020-04-02 15:00:05,415 DEBUG awx.main.wsbroadcast awx-0 connect attempt 0 to 172.20.218.191 RESULT 2 OKREADY RESULT 2 OKREADY 2020-04-02 15:02:05,512 WARNING awx.main.wsbroadcast awx-0 going to add {'awx-12'} to the websocket broadcast list 2020-04-02 15:02:05,513 DEBUG awx.main.wsbroadcast awx-0 connect attempt 0 to awx-12 2020-04-02 15:02:05,526 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:05,527 DEBUG awx.main.wsbroadcast awx-0 connect attempt 1 to awx-12 2020-04-02 15:02:09,724 INFO awx.main.consumers Broadcast client connected. 2020-04-02 15:02:09,724 INFO Broadcast client connected. 2020-04-02 15:02:10,539 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:10,540 DEBUG awx.main.wsbroadcast awx-0 connect attempt 2 to awx-12 2020-04-02 15:02:15,555 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:15,556 DEBUG awx.main.wsbroadcast awx-0 connect attempt 3 to awx-12 2020-04-02 15:02:20,571 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:20,572 DEBUG awx.main.wsbroadcast awx-0 connect attempt 4 to awx-12 2020-04-02 15:02:25,593 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:25,594 DEBUG awx.main.wsbroadcast awx-0 connect attempt 5 to awx-12 2020-04-02 15:02:30,658 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:30,659 DEBUG awx.main.wsbroadcast awx-0 connect attempt 6 to awx-12 2020-04-02 15:02:35,704 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:35,706 DEBUG awx.main.wsbroadcast awx-0 connect attempt 7 to awx-12 2020-04-02 15:02:40,722 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:40,722 DEBUG awx.main.wsbroadcast awx-0 connect attempt 8 to awx-12 2020-04-02 15:02:45,771 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:45,771 DEBUG awx.main.wsbroadcast awx-0 connect attempt 9 to awx-12 2020-04-02 15:02:50,782 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:50,783 DEBUG awx.main.wsbroadcast awx-0 connect attempt 10 to awx-12 2020-04-02 15:02:55,800 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:02:55,800 DEBUG awx.main.wsbroadcast awx-0 connect attempt 11 to awx-12 2020-04-02 15:03:00,825 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... RESULT 2 OKREADY 2020-04-02 15:03:00,826 DEBUG awx.main.wsbroadcast awx-0 connect attempt 12 to awx-12 2020-04-02 15:03:05,839 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:03:05,914 DEBUG awx.main.wsbroadcast awx-0 connect attempt 13 to awx-12 2020-04-02 15:03:10,927 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:03:10,928 DEBUG awx.main.wsbroadcast awx-0 connect attempt 14 to awx-12 2020-04-02 15:03:15,941 WARNING awx.main.wsbroadcast Failed to connect to awx-12: 'Cannot connect to host awx-12:8052 ssl:False [Name or service not known]'. Reconnecting ... 2020-04-02 15:03:15,942 DEBUG awx.main.wsbroadcast awx-0 connect attempt 15 to awx-12 TASK log: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect self.connection = self.get_new_connection(conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection connection = Database.connect(**conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect conn = _connect(dsn, connection_factory=connection_factory, **kwasync) psycopg2.OperationalError: FATAL: remaining connection slots are reserved for non-replication superuser connections The above exception was the direct cause of the following exception: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 76, in _ctit_db_wrapper yield File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 404, in __getattr__ value = self._get_local(name) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/conf/settings.py"", line 347, in _get_local setting = Setting.objects.filter(key=name, user__isnull=True).order_by('pk').first() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 653, in first for obj in (self if self.ordered else self.order_by('pk'))[:1]: File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 274, in __iter__ self._fetch_all() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all self._result_cache = list(self._iterable_class(self)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1138, in execute_sql cursor = self.connection.cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor return self._cursor() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 233, in _cursor self.ensure_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ raise dj_exc_value.with_traceback(traceback) from exc_value File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 217, in ensure_connection self.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 195, in connect self.connection = self.get_new_connection(conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 178, in get_new_connection connection = Database.connect(**conn_params) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/psycopg2/__init__.py"", line 126, in connect conn = _connect(dsn, connection_factory=connection_factory, **kwasync) django.db.utils.OperationalError: FATAL: remaining connection slots are reserved for non-replication superuser connections config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file",no-bug,0.9
7932,awx,https://github.com/ansible/awx/issues/7932,Deprecate mercurial support,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Deprecation Mark mercurial project updates as deprecated, to be removed in a future release ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Warning should probably be displayed during project updates of mercurial sourced projects, not sure where else",documentation-file | source-file | config-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | documentation-file | source-file | config-file | documentation-file | source-file | config-file,"Deprecate mercurial support <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Deprecation Mark mercurial project updates as deprecated, to be removed in a future release ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Warning should probably be displayed during project updates of mercurial sourced projects, not sure where else documentation-file source-file config-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file documentation-file source-file config-file documentation-file source-file config-file",no-bug,0.9
6397,awx,https://github.com/ansible/awx/issues/6397,test epic 1,,source-file,test epic 1  source-file,no-bug,0.2
4676,awx,https://github.com/ansible/awx/issues/4676,Ability to Add Custom Validation for Survey Answers,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Per an user's request, they would like to be able to specify their own conditions on acceptable survey answers (i.e. regular expressions). In the customer's use case, they would like to validate an IP address in the survey answer. This could also extend out to other use cases (e.g. If a customer has a naming convention for assets, systems, etc., the user can populate information in order to verify the provided Answer is considered acceptable.)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Ability to Add Custom Validation for Survey Answers ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Per an user's request, they would like to be able to specify their own conditions on acceptable survey answers (i.e. regular expressions). In the customer's use case, they would like to validate an IP address in the survey answer. This could also extend out to other use cases (e.g. If a customer has a naming convention for assets, systems, etc., the user can populate information in order to verify the provided Answer is considered acceptable.) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
9466,awx,https://github.com/ansible/awx/issues/9466,Teams access tab- Selection of Roles when adding user to team is malfunctioning,"##### ISSUE TYPE - Bug Report ##### SUMMARY In the Teams Access tab, when adding a user and setting permissions, the check boxes checking function is not working properly, so the person setting the permissions can check certain boxes and those permissions may or may not be set when the Save button is clicked. Please view both GIFs attached to get a better sense of what is happening. ##### ENVIRONMENT * AWX version: Devel 3/3/2021 ##### STEPS TO REPRODUCE Navigate to the Teams tab, and click on one of the teams listed. Click on the Access tab for that team. Click add, and select User. Select a User to add, and on the next screen, select certain roles. Once boxes are checked, you may or may not be able to uncheck them again. NOTE: You can have all three roles selected, but when you click Save, only one or two may actually have been assigned. GIFs show more detail. ##### EXPECTED RESULTS Add a user to a team and set that user's role permissions successfully. ##### ACTUAL RESULTS Roles may or may not be successfully assigned due to check box malfunctioning. ##### ADDITIONAL INFORMATION Note: In the following 2 GIFs, I am demonstrating adding the exact same user with the same permissions. Note that the permissions actually set after Save is clicked are different in each GIF. ![team access](https://user-images.githubusercontent.com/63685497/109827611-e268c900-7c09-11eb-902d-e8184fcc0649.gif) ![team access](https://user-images.githubusercontent.com/63685497/109827630-e72d7d00-7c09-11eb-9e6a-24470371a574.gif)",other-file,"Teams access tab- Selection of Roles when adding user to team is malfunctioning ##### ISSUE TYPE - Bug Report ##### SUMMARY In the Teams Access tab, when adding a user and setting permissions, the check boxes checking function is not working properly, so the person setting the permissions can check certain boxes and those permissions may or may not be set when the Save button is clicked. Please view both GIFs attached to get a better sense of what is happening. ##### ENVIRONMENT * AWX version: Devel 3/3/2021 ##### STEPS TO REPRODUCE Navigate to the Teams tab, and click on one of the teams listed. Click on the Access tab for that team. Click add, and select User. Select a User to add, and on the next screen, select certain roles. Once boxes are checked, you may or may not be able to uncheck them again. NOTE: You can have all three roles selected, but when you click Save, only one or two may actually have been assigned. GIFs show more detail. ##### EXPECTED RESULTS Add a user to a team and set that user's role permissions successfully. ##### ACTUAL RESULTS Roles may or may not be successfully assigned due to check box malfunctioning. ##### ADDITIONAL INFORMATION Note: In the following 2 GIFs, I am demonstrating adding the exact same user with the same permissions. Note that the permissions actually set after Save is clicked are different in each GIF. ![team access](https://user-images.githubusercontent.com/63685497/109827611-e268c900-7c09-11eb-902d-e8184fcc0649.gif) ![team access](https://user-images.githubusercontent.com/63685497/109827630-e72d7d00-7c09-11eb-9e6a-24470371a574.gif) other-file",no-bug,0.8
5770,awx,https://github.com/ansible/awx/issues/5770,"[AWX 9.1.1] Missing ""which"" command and link to /usr/bin/python","<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Bug Report ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API - Installer ##### SUMMARY In my playbooks I use the command ``` which python ```` to check, where the python interpreter resides on the machine. In current AWX container (`awx_task`) the `which` command is missing. After adding it manually I checked again and found, that `which` cannot find any `python` binary within the standart $PATH. I need to symlink `/usr/bin/python2.7` to `/usr/bin/python` additionally. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker on linux * Ansible version: 2.9 * Operating System: CentOS * Web Browser: n/a ##### STEPS TO REPRODUCE Install AWX and run a playbook containing: ``` - name: Detect python path command: which python ``` ##### EXPECTED RESULTS Ansible finds python in one of the $PATH directories ##### ACTUAL RESULTS ``` ""msg"": ""Child start failed: [Errno 2] No such file or directory. Command was: /usr/bin/python -c \""import codecs,os,sys;_=codecs.decode;exec(_(_(\\\""[OMITTED]\\\"".encode(),\\\""base64\\\""),\\\""zip\\\""))\"""", ``` ##### ADDITIONAL INFORMATION n/a",container-file | container-file | container-file | container-file,"[AWX 9.1.1] Missing ""which"" command and link to /usr/bin/python <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Bug Report ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API - Installer ##### SUMMARY In my playbooks I use the command ``` which python ```` to check, where the python interpreter resides on the machine. In current AWX container (`awx_task`) the `which` command is missing. After adding it manually I checked again and found, that `which` cannot find any `python` binary within the standart $PATH. I need to symlink `/usr/bin/python2.7` to `/usr/bin/python` additionally. ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker on linux * Ansible version: 2.9 * Operating System: CentOS * Web Browser: n/a ##### STEPS TO REPRODUCE Install AWX and run a playbook containing: ``` - name: Detect python path command: which python ``` ##### EXPECTED RESULTS Ansible finds python in one of the $PATH directories ##### ACTUAL RESULTS ``` ""msg"": ""Child start failed: [Errno 2] No such file or directory. Command was: /usr/bin/python -c \""import codecs,os,sys;_=codecs.decode;exec(_(_(\\\""[OMITTED]\\\"".encode(),\\\""base64\\\""),\\\""zip\\\""))\"""", ``` ##### ADDITIONAL INFORMATION n/a container-file container-file container-file container-file",no-bug,0.9
7327,awx,https://github.com/ansible/awx/issues/7327,Delete Custom Credential Types,##### ISSUE TYPE - Feature Idea ##### SUMMARY Delete Custom Credential Types,test-file | other-file | test-file | other-file | test-file | source-file | test-file | other-file | test-file | other-file | test-file | source-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file,Delete Custom Credential Types ##### ISSUE TYPE - Feature Idea ##### SUMMARY Delete Custom Credential Types test-file other-file test-file other-file test-file source-file test-file other-file test-file other-file test-file source-file test-file other-file test-file other-file test-file test-file other-file test-file other-file test-file test-file other-file test-file other-file test-file,no-bug,0.9
8629,awx,https://github.com/ansible/awx/issues/8629,Observability and metrics for AWX Job execution pipeline,"##### ISSUE TYPE - Feature Idea ##### SUMMARY * How many jobs per minute<or some time unit> is my AWX capable of running? To answer this question you must consider the entire job running pipeline from the API, where jobs are launched or created, to the Task Manager, where jobs are put into waiting, through the Dispatcher, where jobs are put into running & finished, next is the callback receiver where job events from running jobs are saved to the database, websockets where job events are sent to clients in the browser, and even notifications, which run after everything is complete. The runtime of each of these subsystems is needed to answer the seemingly simple question of ""How many jobs per second is my AWX capable of running?"" ### Define Metrics Concretely, the first step to answering the above question is to first understand the performance of each subsystem. To do so, we must be able to observe those subsystem. We do so through metrics. To start with we should define the sub-systems in the pipeline. Then, discover what metrics tell the story. Defining the metrics that are valuable is the hard part. My thought is that each subsystem is like a queue so information that you might want to know about a queue would be useful i.e. depth, push vs. pop rate, average per-item duration in the queue, max latency of item in the queue. We have successfully defined the metrics that provide value for the callback receiver. | Sub-System | Metrics | | ----------------- | ------------------------------------------------------------ | | API | job launches per time unit | | Task Manager | average time to first process a pending job, number of jobs transitioned from pending -> waiting per time unit (not sure about these) | | Dispatcher | latency from waiting -> running start, average time spent pre-start work, average time spent post-run work | | Callback Receiver | Events per time processed (existing stats) | | Websockets | Similar to the callback receiver + number of messages dropped when overloaded | | Notifications | Maybe this rolls into the dispatcher as post-run work | To be clear, the above metrics are mostly guesses. We do know what metrics are useful for the callback receiver & some of the websockets. I've explored tracing individual job timings as they flow through the task manager and below here https://github.com/ansible/awx/pull/8631 ### Work Items * Save metrics in Redis https://github.com/ansible/awx/issues/9012 * Expose metrics in the API as Prometheus data https://github.com/ansible/awx/issues/9019 * Broadcast metrics to every AWX node https://github.com/ansible/awx/issues/9020 * metrics dashboard https://github.com/ansible/awx/issues/9056 * periodically output metrics to log file https://github.com/ansible/awx/issues/9021 * sosreport-elk reconstruct metrics https://github.com/ansible/awx/issues/9022",source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file,"Observability and metrics for AWX Job execution pipeline ##### ISSUE TYPE - Feature Idea ##### SUMMARY * How many jobs per minute<or some time unit> is my AWX capable of running? To answer this question you must consider the entire job running pipeline from the API, where jobs are launched or created, to the Task Manager, where jobs are put into waiting, through the Dispatcher, where jobs are put into running & finished, next is the callback receiver where job events from running jobs are saved to the database, websockets where job events are sent to clients in the browser, and even notifications, which run after everything is complete. The runtime of each of these subsystems is needed to answer the seemingly simple question of ""How many jobs per second is my AWX capable of running?"" ### Define Metrics Concretely, the first step to answering the above question is to first understand the performance of each subsystem. To do so, we must be able to observe those subsystem. We do so through metrics. To start with we should define the sub-systems in the pipeline. Then, discover what metrics tell the story. Defining the metrics that are valuable is the hard part. My thought is that each subsystem is like a queue so information that you might want to know about a queue would be useful i.e. depth, push vs. pop rate, average per-item duration in the queue, max latency of item in the queue. We have successfully defined the metrics that provide value for the callback receiver. | Sub-System | Metrics | | ----------------- | ------------------------------------------------------------ | | API | job launches per time unit | | Task Manager | average time to first process a pending job, number of jobs transitioned from pending -> waiting per time unit (not sure about these) | | Dispatcher | latency from waiting -> running start, average time spent pre-start work, average time spent post-run work | | Callback Receiver | Events per time processed (existing stats) | | Websockets | Similar to the callback receiver + number of messages dropped when overloaded | | Notifications | Maybe this rolls into the dispatcher as post-run work | To be clear, the above metrics are mostly guesses. We do know what metrics are useful for the callback receiver & some of the websockets. I've explored tracing individual job timings as they flow through the task manager and below here https://github.com/ansible/awx/pull/8631 ### Work Items * Save metrics in Redis https://github.com/ansible/awx/issues/9012 * Expose metrics in the API as Prometheus data https://github.com/ansible/awx/issues/9019 * Broadcast metrics to every AWX node https://github.com/ansible/awx/issues/9020 * metrics dashboard https://github.com/ansible/awx/issues/9056 * periodically output metrics to log file https://github.com/ansible/awx/issues/9021 * sosreport-elk reconstruct metrics https://github.com/ansible/awx/issues/9022 source-file documentation-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file",no-bug,0.95
10356,awx,https://github.com/ansible/awx/issues/10356,Changing filters on dashboard chart reloads most of the page,"##### ISSUE TYPE - Bug Report ##### SUMMARY Changing the filter on the dashboard chart should only cause the dashboard chart to reload, not the counts at the top of the page. ##### STEPS TO REPRODUCE - navigate to dashboard page - change the filters on the dashboard chart ##### EXPECTED RESULTS - only the chart reloads ##### ACTUAL RESULTS - the chart *and* the counts at the top of the page, breadcrumbs, etc. reload ##### ADDITIONAL INFORMATION ![dash_reload](https://user-images.githubusercontent.com/9753817/120809647-4c01b780-c518-11eb-9bd2-23f8ec9385ee.gif)",other-file | test-file | other-file | test-file | other-file,"Changing filters on dashboard chart reloads most of the page ##### ISSUE TYPE - Bug Report ##### SUMMARY Changing the filter on the dashboard chart should only cause the dashboard chart to reload, not the counts at the top of the page. ##### STEPS TO REPRODUCE - navigate to dashboard page - change the filters on the dashboard chart ##### EXPECTED RESULTS - only the chart reloads ##### ACTUAL RESULTS - the chart *and* the counts at the top of the page, breadcrumbs, etc. reload ##### ADDITIONAL INFORMATION ![dash_reload](https://user-images.githubusercontent.com/9753817/120809647-4c01b780-c518-11eb-9bd2-23f8ec9385ee.gif) other-file test-file other-file test-file other-file",no-bug,0.8
6091,awx,https://github.com/ansible/awx/issues/6091,Modal for associating an inventory with a host does not save.,##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Try to create a new host in the UI. 2. Try to select an associated inventory and click select. ![Screenshot from 2020-02-26 15-57-17](https://user-images.githubusercontent.com/19942822/75387126-d5a3ed80-58b0-11ea-9e29-4ddf006502bf.png) ##### ENVIRONMENT * Operating System: Fedora 31 * Web Browser: Chrome ##### EXPECTED RESULTS I can save + add an inventory to my host during creation. ##### ACTUAL RESULTS The select/save button does nothing. Network logs show no activity.,source-file | source-file,Modal for associating an inventory with a host does not save. ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Try to create a new host in the UI. 2. Try to select an associated inventory and click select. ![Screenshot from 2020-02-26 15-57-17](https://user-images.githubusercontent.com/19942822/75387126-d5a3ed80-58b0-11ea-9e29-4ddf006502bf.png) ##### ENVIRONMENT * Operating System: Fedora 31 * Web Browser: Chrome ##### EXPECTED RESULTS I can save + add an inventory to my host during creation. ##### ACTUAL RESULTS The select/save button does nothing. Network logs show no activity. source-file source-file,no-bug,0.8
6485,awx,https://github.com/ansible/awx/issues/6485,modal searches shouldn't be case-sensitive,"##### ISSUE TYPE - Bug Report ##### SUMMARY Tried to search for an Organization when creating a user. ""default"" doesn't return the ""Default"" organization. This should be case-insensitive. in addition, this ticket should involve going through similar searches and ensuring that they are case-insensitive.",source-file,"modal searches shouldn't be case-sensitive ##### ISSUE TYPE - Bug Report ##### SUMMARY Tried to search for an Organization when creating a user. ""default"" doesn't return the ""Default"" organization. This should be case-insensitive. in addition, this ticket should involve going through similar searches and ensuring that they are case-insensitive. source-file",bug,0.85
10400,awx,https://github.com/ansible/awx/issues/10400,Advanced search by groups not working in hosts list,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY While working on https://github.com/ansible/awx/issues/9232 I realized that the user can not use the OR operator with the key `Groups` the host_filter is not adding `or__` I've found this in host lists, however, this may happen in other places with different keys. ##### STEPS TO REPRODUCE 1. Go to host list 2. Do an advanced search using the key `Groups` type the name of the group ##### EXPECTED RESULTS To list all hosts within the group ##### ACTUAL RESULTS The OR operator is not defined and the user can't filter by groups using advanced search ![image](https://user-images.githubusercontent.com/12464858/121255680-12b3a980-c882-11eb-8c13-036a8eee8e43.png) this issue was reported here initially https://github.com/ansible/awx/issues/9389 Note that https://github.com/ansible/awx/pull/10347 is not addressing this.",other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file,"Advanced search by groups not working in hosts list <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY While working on https://github.com/ansible/awx/issues/9232 I realized that the user can not use the OR operator with the key `Groups` the host_filter is not adding `or__` I've found this in host lists, however, this may happen in other places with different keys. ##### STEPS TO REPRODUCE 1. Go to host list 2. Do an advanced search using the key `Groups` type the name of the group ##### EXPECTED RESULTS To list all hosts within the group ##### ACTUAL RESULTS The OR operator is not defined and the user can't filter by groups using advanced search ![image](https://user-images.githubusercontent.com/12464858/121255680-12b3a980-c882-11eb-8c13-036a8eee8e43.png) this issue was reported here initially https://github.com/ansible/awx/issues/9389 Note that https://github.com/ansible/awx/pull/10347 is not addressing this. other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file",no-bug,0.8
5414,awx,https://github.com/ansible/awx/issues/5414,Replacement of RabbitMQ to eliminate complexity,"##### ISSUE TYPE - Feature Idea ##### SUMMARY **Replace RabbitMQ with Receptor** To eliminate the complexity of RabbitMQ, Receptor was introduced and pushed forward as the replacement during [The Future of Ansible Tower talk, at Ansible Fest 2019 in Atlanta](https://www.ansible.com/hubfs//AnsibleFest%20ATL%20Slide%20Decks/Ansible%20Futures%20-%20Ansiblefest%20Atlanta%202019.pdf). [Receptor Git project](https://github.com/project-receptor/receptor) How should we move this feature forward? Related Git issues/ feature ideas: - [Move all execution to execution nodes managed via receptor network](https://github.com/ansible/awx/issues/5151)",source-file,"Replacement of RabbitMQ to eliminate complexity ##### ISSUE TYPE - Feature Idea ##### SUMMARY **Replace RabbitMQ with Receptor** To eliminate the complexity of RabbitMQ, Receptor was introduced and pushed forward as the replacement during [The Future of Ansible Tower talk, at Ansible Fest 2019 in Atlanta](https://www.ansible.com/hubfs//AnsibleFest%20ATL%20Slide%20Decks/Ansible%20Futures%20-%20Ansiblefest%20Atlanta%202019.pdf). [Receptor Git project](https://github.com/project-receptor/receptor) How should we move this feature forward? Related Git issues/ feature ideas: - [Move all execution to execution nodes managed via receptor network](https://github.com/ansible/awx/issues/5151) source-file",no-bug,0.95
8586,awx,https://github.com/ansible/awx/issues/8586,StatusLabel component text isn't translated,##### ISSUE TYPE - Bug Report ##### SUMMARY https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/StatusLabel/StatusLabel.jsx#L49 If we take this approach of splitting the status string as it comes back via the API then this label will always be in English. I think we're going to have to build a map of all possible labels that are marked for translation instead.,source-file | source-file | test-file,StatusLabel component text isn't translated ##### ISSUE TYPE - Bug Report ##### SUMMARY https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/StatusLabel/StatusLabel.jsx#L49 If we take this approach of splitting the status string as it comes back via the API then this label will always be in English. I think we're going to have to build a map of all possible labels that are marked for translation instead. source-file source-file test-file,no-bug,0.9
6158,awx,https://github.com/ansible/awx/issues/6158,HashiVault Token external credential,##### ISSUE TYPE - Feature Idea It would be useful to have an external credential able to create a hashicorp vault token type with specified capabilities and ttl. This way we can have a master token in AWX and create short lived token to inject in playbook. ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. -->,documentation-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,HashiVault Token external credential ##### ISSUE TYPE - Feature Idea It would be useful to have an external credential able to create a hashicorp vault token type with specified capabilities and ttl. This way we can have a master token in AWX and create short lived token to inject in playbook. ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> documentation-file source-file test-file source-file source-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.9
6890,awx,https://github.com/ansible/awx/issues/6890,reuse of local built images,"##### ISSUE TYPE - Feature Idea ##### SUMMARY We deploy awx via ansible here and run the installer each time to adapt it to our needs. When using the official images, the installer reuse the images downloaded earlier and the process is somehow fast. But when we need to build images, the process always rebuilt images. It could be good to have an option to reuse the built images if any. We made a local hack to be able to do so but.. it's a hack: ``` - name: Customize role/tasks to use local images (hack) blockinfile: path: ""{{ awx_build_dir }}/awx/installer/roles/local_docker/tasks/main.yml"" insertafter: ""- import_tasks: set_image.yml"" block: | - name: Set Local Image Paths set_fact: awx_web_docker_actual_image: awx_web:latest awx_task_docker_actual_image: awx_task:latest when: awx_build_local_image and not awx_upgrade_needed ``` Feel free to add your thought about it, I'm already thinking of a ""good way"" to do it... Regards,",other-file | config-file | other-file | config-file | other-file | config-file | other-file | config-file | other-file | config-file | source-file | source-file | source-file | test-file | source-file,"reuse of local built images ##### ISSUE TYPE - Feature Idea ##### SUMMARY We deploy awx via ansible here and run the installer each time to adapt it to our needs. When using the official images, the installer reuse the images downloaded earlier and the process is somehow fast. But when we need to build images, the process always rebuilt images. It could be good to have an option to reuse the built images if any. We made a local hack to be able to do so but.. it's a hack: ``` - name: Customize role/tasks to use local images (hack) blockinfile: path: ""{{ awx_build_dir }}/awx/installer/roles/local_docker/tasks/main.yml"" insertafter: ""- import_tasks: set_image.yml"" block: | - name: Set Local Image Paths set_fact: awx_web_docker_actual_image: awx_web:latest awx_task_docker_actual_image: awx_task:latest when: awx_build_local_image and not awx_upgrade_needed ``` Feel free to add your thought about it, I'm already thinking of a ""good way"" to do it... Regards, other-file config-file other-file config-file other-file config-file other-file config-file other-file config-file source-file source-file source-file test-file source-file",no-bug,0.95
10338,awx,https://github.com/ansible/awx/issues/10338,Checkbox within modals selecting duple items,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. On Roles tab clicking on checkboxes inside modals, the item is being selected twice. This is not heppening when you click on the row only on the checkbox. 2. On the Access tab of any resource, clicking on the checkbox, the user can not uncheck clicking on the checkbox only clicking on the row ##### ENVIRONMENT * devel ##### ADDITIONAL INFORMATION https://user-images.githubusercontent.com/12464858/120526483-a16e8500-c3af-11eb-9fe1-77725d8a9a7e.mp4",test-file | test-file | test-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | other-file | test-file | test-file,"Checkbox within modals selecting duple items <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. On Roles tab clicking on checkboxes inside modals, the item is being selected twice. This is not heppening when you click on the row only on the checkbox. 2. On the Access tab of any resource, clicking on the checkbox, the user can not uncheck clicking on the checkbox only clicking on the row ##### ENVIRONMENT * devel ##### ADDITIONAL INFORMATION https://user-images.githubusercontent.com/12464858/120526483-a16e8500-c3af-11eb-9fe1-77725d8a9a7e.mp4 test-file test-file test-file test-file other-file test-file test-file test-file test-file test-file other-file test-file test-file",no-bug,0.9
6436,awx,https://github.com/ansible/awx/issues/6436,Retreive list of a repository tags to populate a multiple choice list in survey,"##### ISSUE TYPE - Feature Idea ##### SUMMARY We use Ansible to deploy applications based on a repository (gitlab/github)... When playbook is launch, extra variable is used to specify which version to install (eg: version=1.1) This work but can be cause of error. It would be better to retreive list of available tags and populate variable in survey to allow the choice of correct version, just like it can be done in jenkins Regards.",config-file,"Retreive list of a repository tags to populate a multiple choice list in survey ##### ISSUE TYPE - Feature Idea ##### SUMMARY We use Ansible to deploy applications based on a repository (gitlab/github)... When playbook is launch, extra variable is used to specify which version to install (eg: version=1.1) This work but can be cause of error. It would be better to retreive list of available tags and populate variable in survey to allow the choice of correct version, just like it can be done in jenkins Regards. config-file",no-bug,0.9
10127,awx,https://github.com/ansible/awx/issues/10127,Survey cancel disables template launch button,"##### ISSUE TYPE - Bug Report ##### SUMMARY Launch button does not become enabled when the user clicks cancel on a Prompt on Launch button. ##### ENVIRONMENT * AWX version: 19 * AWX install method: docker for mac * Operating System: Big Sur * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a job template that has some Prompt on Launch values. Launch the job template, when the Prompt on Launch wizard opens, click cancel. ##### EXPECTED RESULTS The Launch button should not be disabled so that I can launch the job again ##### ACTUAL RESULTS The Launch button is disabled which forces the user to refresh the screen in order to launch the job. ##### ADDITIONAL INFORMATION ![disabled](https://user-images.githubusercontent.com/39280967/117315194-739c2c00-ae55-11eb-9e7a-94afdc17cc00.gif)",other-file | test-file,"Survey cancel disables template launch button ##### ISSUE TYPE - Bug Report ##### SUMMARY Launch button does not become enabled when the user clicks cancel on a Prompt on Launch button. ##### ENVIRONMENT * AWX version: 19 * AWX install method: docker for mac * Operating System: Big Sur * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a job template that has some Prompt on Launch values. Launch the job template, when the Prompt on Launch wizard opens, click cancel. ##### EXPECTED RESULTS The Launch button should not be disabled so that I can launch the job again ##### ACTUAL RESULTS The Launch button is disabled which forces the user to refresh the screen in order to launch the job. ##### ADDITIONAL INFORMATION ![disabled](https://user-images.githubusercontent.com/39280967/117315194-739c2c00-ae55-11eb-9e7a-94afdc17cc00.gif) other-file test-file",no-bug,0.9
9212,awx,https://github.com/ansible/awx/issues/9212,[execution-environments] Image cleanup,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Steps: - User creates a new EE that references a new custom image - Runs jobs with this EE - Deletes the EE through the API Over time, the user accumulates bulky images, on the scale of 100s of Gb. The API needs to provide some means of deleting both - Images no longer referenced by an execution environment in the API - Dangling images If not, some users can run out of space.",source-file | source-file,"[execution-environments] Image cleanup ##### ISSUE TYPE - Feature Idea ##### SUMMARY Steps: - User creates a new EE that references a new custom image - Runs jobs with this EE - Deletes the EE through the API Over time, the user accumulates bulky images, on the scale of 100s of Gb. The API needs to provide some means of deleting both - Images no longer referenced by an execution environment in the API - Dangling images If not, some users can run out of space. source-file source-file",no-bug,0.9
9019,awx,https://github.com/ansible/awx/issues/9019,Observability and metrics - Surface metrics prometheus friendly,"Websockets contain an [example](https://github.com/ansible/awx/blob/devel/awx/main/analytics/broadcast_websocket.py#L121) of Prometheus data structures serialized, deserialized & [exposed via a Prometheus endpoint](https://github.com/chrismeyersfsu/awx/commit/b58c71bb74bd5f5c836f88daa3d7806ff68cea47#diff-497de0f3f551df8d0333aa7a3d2cae353a08d4e2b500ca122195bafda82f6d3b). We want to do the same for our generalized metrics. Note that websockets didn't have the potential performance needs that this metrics tracking system will need. I'm unsure of the performance of storing the metrics in Prometheus objects and _then_ serializing them. Also, the websockets stats objects persist in memory for a long time. There are some metrics workloads where the metric object will be short lived in memory. So there will be many deserialize, modify, serialize operations. For this reason, we may have our own minimal data structure that we operate on (i.e. serialize, increment, deserialize) and only convert it to a Prometheus style data-structure when rendering in the API. ""Normal"" prometheus usage is to have a `/metrics` endpoint per-node that you are monitoring. We are deviating from the norm and centralizing information about multiple nodes. It would be nice to have a filter so that you get the best of both worlds, centralized metrics and the ability to use existing tooling. To this end, a filter that supports filtering by-node would be useful i.e. `/metrics?node=node1.awx.mydomain.com` We also have to consider performance. This new set of metrics should render very quickly. Our existing metrics can be slow since they require database queries. We should use filtering or a different endpoint to allow users to avoid the pre-existing DB query metrics.",source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file,"Observability and metrics - Surface metrics prometheus friendly Websockets contain an [example](https://github.com/ansible/awx/blob/devel/awx/main/analytics/broadcast_websocket.py#L121) of Prometheus data structures serialized, deserialized & [exposed via a Prometheus endpoint](https://github.com/chrismeyersfsu/awx/commit/b58c71bb74bd5f5c836f88daa3d7806ff68cea47#diff-497de0f3f551df8d0333aa7a3d2cae353a08d4e2b500ca122195bafda82f6d3b). We want to do the same for our generalized metrics. Note that websockets didn't have the potential performance needs that this metrics tracking system will need. I'm unsure of the performance of storing the metrics in Prometheus objects and _then_ serializing them. Also, the websockets stats objects persist in memory for a long time. There are some metrics workloads where the metric object will be short lived in memory. So there will be many deserialize, modify, serialize operations. For this reason, we may have our own minimal data structure that we operate on (i.e. serialize, increment, deserialize) and only convert it to a Prometheus style data-structure when rendering in the API. ""Normal"" prometheus usage is to have a `/metrics` endpoint per-node that you are monitoring. We are deviating from the norm and centralizing information about multiple nodes. It would be nice to have a filter so that you get the best of both worlds, centralized metrics and the ability to use existing tooling. To this end, a filter that supports filtering by-node would be useful i.e. `/metrics?node=node1.awx.mydomain.com` We also have to consider performance. This new set of metrics should render very quickly. Our existing metrics can be slow since they require database queries. We should use filtering or a different endpoint to allow users to avoid the pre-existing DB query metrics. source-file documentation-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
5036,awx,https://github.com/ansible/awx/issues/5036,ssl_certificate not used in official container,"##### ISSUE TYPE - Bug Report ##### SUMMARY The `ssl_certificate` value is defined and uncommented in `inventory`, and it gets used correctly in the docker-compose.yml output file, but the awxweb container's `/etc/nginx/nginx.conf` file has no SSL declaration, resulting in HTTP access only. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: CentOS 7.7.1908 * Web Browser: Google Chrome Version 77.0.3865.120 (Official Build) (64-bit) ##### STEPS TO REPRODUCE Edit the inventory, removing the comment on ssl_certificate (line 63), and adding the path to the file containing my private key and certificate chain concatenated together. https://github.com/ansible/awx/blob/857683e54845262d197a14ac00227b4dbfbd10c1/installer/inventory#L63 Run ansible-playbook -i inventory install.yml, the installation process succeeds. I get a functional AWX instance available at port 80. Trying to access the site over HTTPS results in an immediate failure. ##### EXPECTED RESULTS I expect the awxweb container to get my SSL certificate configuration and serve the site over HTTPS. This should be the default behaviour because it's possible to configure it by using templating to override the `nginx.conf` in the official container by adding it in the docker-compose.yml file in the volume part. **It should be done like that :** https://github.com/ansible/awx/blob/857683e54845262d197a14ac00227b4dbfbd10c1/installer/roles/local_docker/templates/docker-compose.yml.j2#L22 ```yaml services: web: image: ansible/awx_web:7.0.0 ... volumes: -... {% if ssl_certificate is defined %} - ""{{ docker_compose_dir }}/nginx.conf:/etc/nginx/nginx.conf:ro"" {% endif %} environment: ... ``` and add in `local_docker\tasks\compose.yml` https://github.com/ansible/awx/blob/857683e54845262d197a14ac00227b4dbfbd10c1/installer/roles/local_docker/tasks/compose.yml#L7 ```yaml - name: Create Docker Compose Configuration template: src: ""{{ item }}.j2"" dest: ""{{ docker_compose_dir }}/{{ item }}"" mode: 0600 with_items: - environment.sh - credentials.py - docker-compose.yml - nginx.conf register: awx_compose_config ``` ##### ACTUAL RESULTS The awxweb container's `/etc/nginx/nginx.conf` has no SSL declaration. Here is the `nginx.conf` file inside the awxweb container: ```bash bash-4.2# cat /etc/nginx/nginx.conf #user awx; worker_processes 1; pid /tmp/nginx.pid; events { worker_connections 1024; } http { include /etc/nginx/mime.types; default_type application/octet-stream; server_tokens off; log_format main '$remote_addr - $remote_user [$time_local] ""$request"" ' '$status $body_bytes_sent ""$http_referer"" ' '""$http_user_agent"" ""$http_x_forwarded_for""'; access_log /dev/stdout main; map $http_upgrade $connection_upgrade { default upgrade; '' close; } sendfile on; #tcp_nopush on; #gzip on; upstream uwsgi { server 127.0.0.1:8050; } upstream daphne { server 127.0.0.1:8051; } server { listen 8052 default_server; # If you have a domain name, this is where to add it server_name _; keepalive_timeout 65; # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months) add_header Strict-Transport-Security max-age=15768000; add_header Content-Security-Policy ""default-src 'self'; connect-src 'self' ws: wss:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' cdn.pendo.io; img-src 'self' data:; report-uri /csp-violation/""; add_header X-Content-Security-Policy ""default-src 'self'; connect-src 'self' ws: wss:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' cdn.pendo.io; img-src 'self' data:; report-uri /csp-violation/""; # Protect against click-jacking https://www.owasp.org/index.php/Testing_for_Clickjacking_(OTG-CLIENT-009) add_header X-Frame-Options ""DENY""; location /nginx_status { stub_status on; access_log off; allow 127.0.0.1; deny all; } location /static/ { alias /var/lib/awx/public/static/; } location /favicon.ico { alias /var/lib/awx/public/static/favicon.ico; } location /websocket { # Pass request to the upstream alias proxy_pass http://daphne; # Require http version 1.1 to allow for upgrade requests proxy_http_version 1.1; # We want proxy_buffering off for proxying to websockets. proxy_buffering off; # http://en.wikipedia.org/wiki/X-Forwarded-For proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # enable this if you use HTTPS: proxy_set_header X-Forwarded-Proto https; # pass the Host: header from the client for the sake of redirects proxy_set_header Host $http_host; # We've set the Host header, so we don't need Nginx to muddle # about with redirects proxy_redirect off; # Depending on the request value, set the Upgrade and # connection headers proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; } location / { # Add trailing / if missing rewrite ^(.*)$http_host(.*[^/])$ $1$http_host$2/ permanent; uwsgi_read_timeout 120s; uwsgi_pass uwsgi; include /etc/nginx/uwsgi_params; proxy_set_header X-Forwarded-Port 443; } } } ```",other-file | other-file,"ssl_certificate not used in official container ##### ISSUE TYPE - Bug Report ##### SUMMARY The `ssl_certificate` value is defined and uncommented in `inventory`, and it gets used correctly in the docker-compose.yml output file, but the awxweb container's `/etc/nginx/nginx.conf` file has no SSL declaration, resulting in HTTP access only. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: CentOS 7.7.1908 * Web Browser: Google Chrome Version 77.0.3865.120 (Official Build) (64-bit) ##### STEPS TO REPRODUCE Edit the inventory, removing the comment on ssl_certificate (line 63), and adding the path to the file containing my private key and certificate chain concatenated together. https://github.com/ansible/awx/blob/857683e54845262d197a14ac00227b4dbfbd10c1/installer/inventory#L63 Run ansible-playbook -i inventory install.yml, the installation process succeeds. I get a functional AWX instance available at port 80. Trying to access the site over HTTPS results in an immediate failure. ##### EXPECTED RESULTS I expect the awxweb container to get my SSL certificate configuration and serve the site over HTTPS. This should be the default behaviour because it's possible to configure it by using templating to override the `nginx.conf` in the official container by adding it in the docker-compose.yml file in the volume part. **It should be done like that :** https://github.com/ansible/awx/blob/857683e54845262d197a14ac00227b4dbfbd10c1/installer/roles/local_docker/templates/docker-compose.yml.j2#L22 ```yaml services: web: image: ansible/awx_web:7.0.0 ... volumes: -... {% if ssl_certificate is defined %} - ""{{ docker_compose_dir }}/nginx.conf:/etc/nginx/nginx.conf:ro"" {% endif %} environment: ... ``` and add in `local_docker\tasks\compose.yml` https://github.com/ansible/awx/blob/857683e54845262d197a14ac00227b4dbfbd10c1/installer/roles/local_docker/tasks/compose.yml#L7 ```yaml - name: Create Docker Compose Configuration template: src: ""{{ item }}.j2"" dest: ""{{ docker_compose_dir }}/{{ item }}"" mode: 0600 with_items: - environment.sh - credentials.py - docker-compose.yml - nginx.conf register: awx_compose_config ``` ##### ACTUAL RESULTS The awxweb container's `/etc/nginx/nginx.conf` has no SSL declaration. Here is the `nginx.conf` file inside the awxweb container: ```bash bash-4.2# cat /etc/nginx/nginx.conf #user awx; worker_processes 1; pid /tmp/nginx.pid; events { worker_connections 1024; } http { include /etc/nginx/mime.types; default_type application/octet-stream; server_tokens off; log_format main '$remote_addr - $remote_user [$time_local] ""$request"" ' '$status $body_bytes_sent ""$http_referer"" ' '""$http_user_agent"" ""$http_x_forwarded_for""'; access_log /dev/stdout main; map $http_upgrade $connection_upgrade { default upgrade; '' close; } sendfile on; #tcp_nopush on; #gzip on; upstream uwsgi { server 127.0.0.1:8050; } upstream daphne { server 127.0.0.1:8051; } server { listen 8052 default_server; # If you have a domain name, this is where to add it server_name _; keepalive_timeout 65; # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months) add_header Strict-Transport-Security max-age=15768000; add_header Content-Security-Policy ""default-src 'self'; connect-src 'self' ws: wss:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' cdn.pendo.io; img-src 'self' data:; report-uri /csp-violation/""; add_header X-Content-Security-Policy ""default-src 'self'; connect-src 'self' ws: wss:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' cdn.pendo.io; img-src 'self' data:; report-uri /csp-violation/""; # Protect against click-jacking https://www.owasp.org/index.php/Testing_for_Clickjacking_(OTG-CLIENT-009) add_header X-Frame-Options ""DENY""; location /nginx_status { stub_status on; access_log off; allow 127.0.0.1; deny all; } location /static/ { alias /var/lib/awx/public/static/; } location /favicon.ico { alias /var/lib/awx/public/static/favicon.ico; } location /websocket { # Pass request to the upstream alias proxy_pass http://daphne; # Require http version 1.1 to allow for upgrade requests proxy_http_version 1.1; # We want proxy_buffering off for proxying to websockets. proxy_buffering off; # http://en.wikipedia.org/wiki/X-Forwarded-For proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # enable this if you use HTTPS: proxy_set_header X-Forwarded-Proto https; # pass the Host: header from the client for the sake of redirects proxy_set_header Host $http_host; # We've set the Host header, so we don't need Nginx to muddle # about with redirects proxy_redirect off; # Depending on the request value, set the Upgrade and # connection headers proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection $connection_upgrade; } location / { # Add trailing / if missing rewrite ^(.*)$http_host(.*[^/])$ $1$http_host$2/ permanent; uwsgi_read_timeout 120s; uwsgi_pass uwsgi; include /etc/nginx/uwsgi_params; proxy_set_header X-Forwarded-Port 443; } } } ``` other-file other-file",no-bug,0.8
6029,awx,https://github.com/ansible/awx/issues/6029,"If a Job is Relaunched, Add The Origin Job to /api/v2/jobs/<JOB_ID>/","##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Seeing as `/api/v2/jobs/<JOB_ID>/relaunch/` relaunches the job by creating another job with the same _user_ prompts, I think it may be a good idea to add a `/api/v2/jobs/<JOB_ID>/parent/` endpoint. The `/api/v2/jobs/<JOB_ID>/parent/` endpoint would only be valid on jobs that were ""relaunched"" via the API or UI. This would be exceptionally useful, especially in cases where the user may question the environment that was relaunched and its origin (e.g. job auditing). **EXAMPLE:** ORIGIN JOB: ~~~ { ""id"": 1, ""type"": ""job"", ""url"": ""/api/v2/jobs/1/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""labels"": ""/api/v2/jobs/1/labels/"", ""inventory"": ""/api/v2/inventories/1/"", ""project"": ""/api/v2/projects/6/"", ""extra_credentials"": ""/api/v2/jobs/1/extra_credentials/"", ""credentials"": ""/api/v2/jobs/1/credentials/"", ""unified_job_template"": ""/api/v2/job_templates/7/"", ""stdout"": ""/api/v2/jobs/1/stdout/"", ""job_events"": ""/api/v2/jobs/1/job_events/"", ""job_host_summaries"": ""/api/v2/jobs/1/job_host_summaries/"", ""activity_stream"": ""/api/v2/jobs/1/activity_stream/"", ""notifications"": ""/api/v2/jobs/1/notifications/"", ""create_schedule"": ""/api/v2/jobs/1/create_schedule/"", ""job_template"": ""/api/v2/job_templates/7/"", ""cancel"": ""/api/v2/jobs/1/cancel/"", ""relaunch"": ""/api/v2/jobs/1/relaunch/"" } ~~~ RELAUNCH JOB: ~~~ { ""id"": 92, ""type"": ""job"", ""url"": ""/api/v2/jobs/92/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""labels"": ""/api/v2/jobs/92/labels/"", ""inventory"": ""/api/v2/inventories/1/"", ""project"": ""/api/v2/projects/36/"", ""extra_credentials"": ""/api/v2/jobs/92/extra_credentials/"", ""credentials"": ""/api/v2/jobs/92/credentials/"", ""stdout"": ""/api/v2/jobs/92/stdout/"", ""job_events"": ""/api/v2/jobs/92/job_events/"", ""job_host_summaries"": ""/api/v2/jobs/92/job_host_summaries/"", ""activity_stream"": ""/api/v2/jobs/92/activity_stream/"", ""notifications"": ""/api/v2/jobs/92/notifications/"", ""create_schedule"": ""/api/v2/jobs/92/create_schedule/"", ""cancel"": ""/api/v2/jobs/92/cancel/"", ""parent"": ""/api/v2/jobs/3/"", ""relaunch"": ""/api/v2/jobs/92/relaunch/"" } ~~~",source-file | source-file | test-file,"If a Job is Relaunched, Add The Origin Job to /api/v2/jobs/<JOB_ID>/ ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Seeing as `/api/v2/jobs/<JOB_ID>/relaunch/` relaunches the job by creating another job with the same _user_ prompts, I think it may be a good idea to add a `/api/v2/jobs/<JOB_ID>/parent/` endpoint. The `/api/v2/jobs/<JOB_ID>/parent/` endpoint would only be valid on jobs that were ""relaunched"" via the API or UI. This would be exceptionally useful, especially in cases where the user may question the environment that was relaunched and its origin (e.g. job auditing). **EXAMPLE:** ORIGIN JOB: ~~~ { ""id"": 1, ""type"": ""job"", ""url"": ""/api/v2/jobs/1/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""labels"": ""/api/v2/jobs/1/labels/"", ""inventory"": ""/api/v2/inventories/1/"", ""project"": ""/api/v2/projects/6/"", ""extra_credentials"": ""/api/v2/jobs/1/extra_credentials/"", ""credentials"": ""/api/v2/jobs/1/credentials/"", ""unified_job_template"": ""/api/v2/job_templates/7/"", ""stdout"": ""/api/v2/jobs/1/stdout/"", ""job_events"": ""/api/v2/jobs/1/job_events/"", ""job_host_summaries"": ""/api/v2/jobs/1/job_host_summaries/"", ""activity_stream"": ""/api/v2/jobs/1/activity_stream/"", ""notifications"": ""/api/v2/jobs/1/notifications/"", ""create_schedule"": ""/api/v2/jobs/1/create_schedule/"", ""job_template"": ""/api/v2/job_templates/7/"", ""cancel"": ""/api/v2/jobs/1/cancel/"", ""relaunch"": ""/api/v2/jobs/1/relaunch/"" } ~~~ RELAUNCH JOB: ~~~ { ""id"": 92, ""type"": ""job"", ""url"": ""/api/v2/jobs/92/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""labels"": ""/api/v2/jobs/92/labels/"", ""inventory"": ""/api/v2/inventories/1/"", ""project"": ""/api/v2/projects/36/"", ""extra_credentials"": ""/api/v2/jobs/92/extra_credentials/"", ""credentials"": ""/api/v2/jobs/92/credentials/"", ""stdout"": ""/api/v2/jobs/92/stdout/"", ""job_events"": ""/api/v2/jobs/92/job_events/"", ""job_host_summaries"": ""/api/v2/jobs/92/job_host_summaries/"", ""activity_stream"": ""/api/v2/jobs/92/activity_stream/"", ""notifications"": ""/api/v2/jobs/92/notifications/"", ""create_schedule"": ""/api/v2/jobs/92/create_schedule/"", ""cancel"": ""/api/v2/jobs/92/cancel/"", ""parent"": ""/api/v2/jobs/3/"", ""relaunch"": ""/api/v2/jobs/92/relaunch/"" } ~~~ source-file source-file test-file",no-bug,0.9
5724,awx,https://github.com/ansible/awx/issues/5724,"zuul job containers don't have ""diff"" command","##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The schema change job has been failing with this error: ``` ""# Ignore differences in whitespace with -b"", ""diff -u -b reference-schema.json schema.json"", ""make: diff: Command not found"", ""make: *** [Makefile:672: detect-schema-change] Error 127"", ""command terminated with exit code 2"" ``` ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> This check runs on all PRs...need to fix how the container is built to include `diff`",container-file | container-file | container-file | container-file,"zuul job containers don't have ""diff"" command ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The schema change job has been failing with this error: ``` ""# Ignore differences in whitespace with -b"", ""diff -u -b reference-schema.json schema.json"", ""make: diff: Command not found"", ""make: *** [Makefile:672: detect-schema-change] Error 127"", ""command terminated with exit code 2"" ``` ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> This check runs on all PRs...need to fix how the container is built to include `diff` container-file container-file container-file container-file",no-bug,0.9
5240,awx,https://github.com/ansible/awx/issues/5240,No such file or directory: '/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py',"##### ISSUE TYPE - Bug Report ##### SUMMARY I try to install the package such as indicate, using this command: pip install ""https://github.com/ansible/awx/archive/3.0.0.tar.gz#egg=awxkit&subdirectory=awxkit"" But I get this error: Collecting awxkit Downloading https://github.com/ansible/awx/archive/3.0.0.tar.gz - 12.9MB 7.3MB/s ERROR: Command errored out with exit status 1: command: /usr/local/bin/python -c 'import sys, setuptools, tokenize; sys.argv[0] = '""'""'/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py'""'""'; __file__='""'""'/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__file__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compile(code, __file__, '""'""'exec'""'""'))' egg_info --egg-base /tmp/pip-install-9in3wr7t/awxkit/awxkit/pip-egg-info cwd: /tmp/pip-install-9in3wr7t/awxkit/awxkit Complete output (5 lines): Traceback (most recent call last): File ""<string>"", line 1, in <module> File ""/usr/local/lib/python3.6/tokenize.py"", line 452, in open buffer = _builtin_open(filename, 'rb') FileNotFoundError: [Errno 2] No such file or directory: '/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py' ---------------------------------------- ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output. I looked at the git package, and setup.py is in awx/awxkit/setup.py and not in awx/awxkit/awxkit/setup.py Can you fix this error, or maybe I'm wrong, so if you can tell me what's the problem. Thanks ##### ENVIRONMENT * AWX version: 3.0.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: 2.7.6 * Operating System: * Web Browser:",config-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file,"No such file or directory: '/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py' ##### ISSUE TYPE - Bug Report ##### SUMMARY I try to install the package such as indicate, using this command: pip install ""https://github.com/ansible/awx/archive/3.0.0.tar.gz#egg=awxkit&subdirectory=awxkit"" But I get this error: Collecting awxkit Downloading https://github.com/ansible/awx/archive/3.0.0.tar.gz - 12.9MB 7.3MB/s ERROR: Command errored out with exit status 1: command: /usr/local/bin/python -c 'import sys, setuptools, tokenize; sys.argv[0] = '""'""'/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py'""'""'; __file__='""'""'/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py'""'""';f=getattr(tokenize, '""'""'open'""'""', open)(__file__);code=f.read().replace('""'""'\r\n'""'""', '""'""'\n'""'""');f.close();exec(compile(code, __file__, '""'""'exec'""'""'))' egg_info --egg-base /tmp/pip-install-9in3wr7t/awxkit/awxkit/pip-egg-info cwd: /tmp/pip-install-9in3wr7t/awxkit/awxkit Complete output (5 lines): Traceback (most recent call last): File ""<string>"", line 1, in <module> File ""/usr/local/lib/python3.6/tokenize.py"", line 452, in open buffer = _builtin_open(filename, 'rb') FileNotFoundError: [Errno 2] No such file or directory: '/tmp/pip-install-9in3wr7t/awxkit/awxkit/setup.py' ---------------------------------------- ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output. I looked at the git package, and setup.py is in awx/awxkit/setup.py and not in awx/awxkit/awxkit/setup.py Can you fix this error, or maybe I'm wrong, so if you can tell me what's the problem. Thanks ##### ENVIRONMENT * AWX version: 3.0.0 * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: 2.7.6 * Operating System: * Web Browser: config-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file",no-bug,0.95
5628,awx,https://github.com/ansible/awx/issues/5628,There are different left/right padding amounts for the new DataToolbar component and the individual list rows.,"BACKLOG'D and marked WONTFIX by patternfly There are different left/right padding amounts for the new DataToolbar component and the individual list rows. This is a known issue, and patternfly was going to update the CSS so that the padding is consistent. [issue](https://github.com/patternfly/patternfly-next/issues/2503) currently open to address this in patternfly-core (css)",source-file,"There are different left/right padding amounts for the new DataToolbar component and the individual list rows. BACKLOG'D and marked WONTFIX by patternfly There are different left/right padding amounts for the new DataToolbar component and the individual list rows. This is a known issue, and patternfly was going to update the CSS so that the padding is consistent. [issue](https://github.com/patternfly/patternfly-next/issues/2503) currently open to address this in patternfly-core (css) source-file",no-bug,0.95
4862,awx,https://github.com/ansible/awx/issues/4862,How does the concurrency achieved in awx without parallel-ssh,##### ISSUE TYPE Most of the Ansible default transport layer is openssh. is there any scope for using https://github.com/ParallelSSH/parallel-ssh ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Most of the Ansible default transport layer is openssh. is there any scope for using https://github.com/ParallelSSH/parallel-ssh it has better performance compare to openssh if you dont have plan to use parallelssh what is the defect ssh transport is used to achive parallelism,source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file,How does the concurrency achieved in awx without parallel-ssh ##### ISSUE TYPE Most of the Ansible default transport layer is openssh. is there any scope for using https://github.com/ParallelSSH/parallel-ssh ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Most of the Ansible default transport layer is openssh. is there any scope for using https://github.com/ParallelSSH/parallel-ssh it has better performance compare to openssh if you dont have plan to use parallelssh what is the defect ssh transport is used to achive parallelism source-file source-file source-file other-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file,no-bug,0.9
13597,awx,https://github.com/ansible/awx/issues/13597,Unable to use CCP lookup plugin with empty webservice_id,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary When job uses the `CyberArk Central Credential Provider Lookup` credential plugin with an empty web service id, it fails with the exception: ``` Traceback (most recent call last): File ""/awx_devel/awx/main/tasks/jobs.py"", line 508, in run args = self.build_args(self.instance, private_data_dir, passwords) File ""/awx_devel/awx/main/tasks/jobs.py"", line 941, in build_args ssh_username = creds.get_input('username', default='') File ""/awx_devel/awx/main/models/credential/__init__.py"", line 275, in get_input return self._get_dynamic_input(field_name) File ""/awx_devel/awx/main/models/credential/__init__.py"", line 309, in _get_dynamic_input return input_source.get_input_value() File ""/awx_devel/awx/main/models/credential/__init__.py"", line 1250, in get_input_value return backend(**backend_kwargs) File ""/awx_devel/awx/main/credential_plugins/aim.py"", line 73, in aim_backend webservice_id = kwargs['webservice_id'] KeyError: 'webservice_id' ``` The issue is only reproducible if we create a CCP lookup credential using API and we do not provide the `webservice_id` key as the input. If you create CCP lookup with UI - everything works fine. ### AWX version devel ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Create CyberArk Central Credential Provider Lookup credential. Do not provide the WebService ID value, keep it empty. I used API to create credetnail and the webservice_id was missing in the inputs: ``` inputs = { 'url': url, 'app_id': app_id, 'client_key': client_key, 'client_cert': client_cert, 'verify': verify } payload = factories.credential.payload( name=fauxfactory.gen_utf8(), description=fauxfactory.gen_utf8(), credential_type=cred_type, inputs=inputs ) ``` 2. Create Machine credential that uses the CCP lookup credential. Set proper Object query. 3. Create Job Template that uses this credential. Run the job. ### Expected results The lookup should use default webservice id: `AIMWebService` ### Actual results Exception occured. See description. ### Additional information _No response_",source-file,"Unable to use CCP lookup plugin with empty webservice_id ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary When job uses the `CyberArk Central Credential Provider Lookup` credential plugin with an empty web service id, it fails with the exception: ``` Traceback (most recent call last): File ""/awx_devel/awx/main/tasks/jobs.py"", line 508, in run args = self.build_args(self.instance, private_data_dir, passwords) File ""/awx_devel/awx/main/tasks/jobs.py"", line 941, in build_args ssh_username = creds.get_input('username', default='') File ""/awx_devel/awx/main/models/credential/__init__.py"", line 275, in get_input return self._get_dynamic_input(field_name) File ""/awx_devel/awx/main/models/credential/__init__.py"", line 309, in _get_dynamic_input return input_source.get_input_value() File ""/awx_devel/awx/main/models/credential/__init__.py"", line 1250, in get_input_value return backend(**backend_kwargs) File ""/awx_devel/awx/main/credential_plugins/aim.py"", line 73, in aim_backend webservice_id = kwargs['webservice_id'] KeyError: 'webservice_id' ``` The issue is only reproducible if we create a CCP lookup credential using API and we do not provide the `webservice_id` key as the input. If you create CCP lookup with UI - everything works fine. ### AWX version devel ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Create CyberArk Central Credential Provider Lookup credential. Do not provide the WebService ID value, keep it empty. I used API to create credetnail and the webservice_id was missing in the inputs: ``` inputs = { 'url': url, 'app_id': app_id, 'client_key': client_key, 'client_cert': client_cert, 'verify': verify } payload = factories.credential.payload( name=fauxfactory.gen_utf8(), description=fauxfactory.gen_utf8(), credential_type=cred_type, inputs=inputs ) ``` 2. Create Machine credential that uses the CCP lookup credential. Set proper Object query. 3. Create Job Template that uses this credential. Run the job. ### Expected results The lookup should use default webservice id: `AIMWebService` ### Actual results Exception occured. See description. ### Additional information _No response_ source-file",bug,0.9
10129,awx,https://github.com/ansible/awx/issues/10129,Erroneous Multiple Choice Survey Validation on Launch,##### ISSUE TYPE - Bug Report ##### SUMMARY Survey with a Multiple choice multi select question does not properly validate that question @tiagodread ##### ENVIRONMENT * AWX version: 19 * AWX install method: docker for mac * Operating System: Big Sur * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a required survey question that is Multiple Choice mutli select that has no default values. Launch the job that uses this survey. Prompt on Launch wizard opens. Without answering the Multiple choice survey question to to the preview step. ##### EXPECTED RESULTS The Launch button should be disabled and the side nav of the survey should have a alert exclamation point ##### ACTUAL RESULTS Neither of the 2 items above happen. The launch fails ##### ADDITIONAL INFORMATION ![validation](https://user-images.githubusercontent.com/39280967/117318211-34230f00-ae58-11eb-974f-a77b3b240880.gif),other-file | other-file,Erroneous Multiple Choice Survey Validation on Launch ##### ISSUE TYPE - Bug Report ##### SUMMARY Survey with a Multiple choice multi select question does not properly validate that question @tiagodread ##### ENVIRONMENT * AWX version: 19 * AWX install method: docker for mac * Operating System: Big Sur * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a required survey question that is Multiple Choice mutli select that has no default values. Launch the job that uses this survey. Prompt on Launch wizard opens. Without answering the Multiple choice survey question to to the preview step. ##### EXPECTED RESULTS The Launch button should be disabled and the side nav of the survey should have a alert exclamation point ##### ACTUAL RESULTS Neither of the 2 items above happen. The launch fails ##### ADDITIONAL INFORMATION ![validation](https://user-images.githubusercontent.com/39280967/117318211-34230f00-ae58-11eb-974f-a77b3b240880.gif) other-file other-file,no-bug,0.8
11450,awx,https://github.com/ansible/awx/issues/11450,awx_collection - plugins ipv6 support,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary `resolve` verification in controller_api.py does not support AWX IPv6 only installation's See https://github.com/ansible/awx/blob/21895bd09b5c00621c5744e2d997b82e41b60493/awx_collection/plugins/module_utils/controller_api.py#L139 ff For example `socket.gethostbyname` does not support IPv6. Maybe `socket.getaddrinfo` could be used as replacement. ### AWX version Verified on devel as well ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Run playbook with for example module `tower_inventory_source_update` and use an ipv6 only AWX installation as controller_host/tower_host. ### Expected results AWX IPv6 only installations are supported as well ### Actual results Play run error: Unable to resolve controller_host/tower_host ([Errno -2] Name or service not known): __fqdnhostname__ ### Additional information _No response_,source-file | source-file | source-file | source-file | source-file,awx_collection - plugins ipv6 support ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary `resolve` verification in controller_api.py does not support AWX IPv6 only installation's See https://github.com/ansible/awx/blob/21895bd09b5c00621c5744e2d997b82e41b60493/awx_collection/plugins/module_utils/controller_api.py#L139 ff For example `socket.gethostbyname` does not support IPv6. Maybe `socket.getaddrinfo` could be used as replacement. ### AWX version Verified on devel as well ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Run playbook with for example module `tower_inventory_source_update` and use an ipv6 only AWX installation as controller_host/tower_host. ### Expected results AWX IPv6 only installations are supported as well ### Actual results Play run error: Unable to resolve controller_host/tower_host ([Errno -2] Name or service not known): __fqdnhostname__ ### Additional information _No response_ source-file source-file source-file source-file source-file,no-bug,0.8
9298,awx,https://github.com/ansible/awx/issues/9298,custom_venvs fails in kubernetes due to cryptography dependency,"##### ISSUE TYPE - Bug Report ##### SUMMARY When using custom_venvs in kubernetes, the initcontainer fails to install ansible. This is because pip cannot install the cryptography module which is due to a change in the cryptography module requiring rust. (see https://github.com/pyca/cryptography/issues/5771) ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: Kubernetes * Ansible version: * Operating System: * Web Browser: ##### STEPS TO REPRODUCE custom_venvs: - name: techops python: python3 python_modules: - pyvmomi - mysql-connector - argparse - apypie python_ansible_version: 2.9.17 ##### EXPECTED RESULTS Build completes ##### ACTUAL RESULTS Traceback (most recent call last): File ""<string>"", line 1, in <module> File ""/tmp/pip-build-ud_ezxyu/cryptography/setup.py"", line 14, in <module> from setuptools_rust import RustExtension ModuleNotFoundError: No module named 'setuptools_rust' ##### ADDITIONAL INFORMATION This can be fixed by upgrading pip in the file awx-17.0.1/installer/roles/kubernetes/templates.deployment.yml.j2 --- deployment.yml.j2 2021-02-12 14:03:25.353805414 +0000 +++ deployment-new.yml.j2 2021-02-12 14:56:47.389720404 +0000 @@ -150,6 +150,7 @@ virtualenv -p {{ custom_venv.python | default(custom_venvs_python) }} \ {{ custom_venvs_path }}/{{ custom_venv.name }} && source {{ custom_venvs_path }}/{{ custom_venv.name }}/bin/activate && + {{ custom_venvs_path }}/{{ custom_venv.name }}/bin/pip install {{ trusted_hosts }} -U psutil --upgrade pip && {{ custom_venvs_path }}/{{ custom_venv.name }}/bin/pip install {{ trusted_hosts }} -U psutil \ ""ansible=={{ custom_venv.python_ansible_version }}"" && {% if custom_venv.python_modules is defined %}",other-file,"custom_venvs fails in kubernetes due to cryptography dependency ##### ISSUE TYPE - Bug Report ##### SUMMARY When using custom_venvs in kubernetes, the initcontainer fails to install ansible. This is because pip cannot install the cryptography module which is due to a change in the cryptography module requiring rust. (see https://github.com/pyca/cryptography/issues/5771) ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: Kubernetes * Ansible version: * Operating System: * Web Browser: ##### STEPS TO REPRODUCE custom_venvs: - name: techops python: python3 python_modules: - pyvmomi - mysql-connector - argparse - apypie python_ansible_version: 2.9.17 ##### EXPECTED RESULTS Build completes ##### ACTUAL RESULTS Traceback (most recent call last): File ""<string>"", line 1, in <module> File ""/tmp/pip-build-ud_ezxyu/cryptography/setup.py"", line 14, in <module> from setuptools_rust import RustExtension ModuleNotFoundError: No module named 'setuptools_rust' ##### ADDITIONAL INFORMATION This can be fixed by upgrading pip in the file awx-17.0.1/installer/roles/kubernetes/templates.deployment.yml.j2 --- deployment.yml.j2 2021-02-12 14:03:25.353805414 +0000 +++ deployment-new.yml.j2 2021-02-12 14:56:47.389720404 +0000 @@ -150,6 +150,7 @@ virtualenv -p {{ custom_venv.python | default(custom_venvs_python) }} \ {{ custom_venvs_path }}/{{ custom_venv.name }} && source {{ custom_venvs_path }}/{{ custom_venv.name }}/bin/activate && + {{ custom_venvs_path }}/{{ custom_venv.name }}/bin/pip install {{ trusted_hosts }} -U psutil --upgrade pip && {{ custom_venvs_path }}/{{ custom_venv.name }}/bin/pip install {{ trusted_hosts }} -U psutil \ ""ansible=={{ custom_venv.python_ansible_version }}"" && {% if custom_venv.python_modules is defined %} other-file",no-bug,0.95
5051,awx,https://github.com/ansible/awx/issues/5051,AWX Does Not Update User Object Permissions When LDAP User Flags By Group Is Removed,"##### ISSUE TYPE - Feature Request ##### SUMMARY A user was wondering how AWX handles a change in LDAP Team Mapping (e.g. If the `is_superuser` mapping is removed, does AWX update the user objects?). I observed the following: If the `LDAP User Flags by Group` is removed, pre-existing users in AWX do not update according to the changes made. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1. Create a LDAP connection from AWX. 2. Specify a `LDAP User Flags by Group` parameter. 3. Login with a LDAP user and verify its creation within AWX. 4. Verify the user has the proper permissions. 5. Change the `LDAP User Flags by Group` to no longer reflect the user. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> I would expect the user object within AWX to update itself based on the LDAP mapping specified. ##### ACTUAL RESULTS <!-- What actually happened? --> It looks like the user object has to be manually updated in order for the permissions to update. If `is_superuser` is granted to many users in a LDAP group and the mapping has to change, this could be an undesired behavior.",test-file | source-file,"AWX Does Not Update User Object Permissions When LDAP User Flags By Group Is Removed ##### ISSUE TYPE - Feature Request ##### SUMMARY A user was wondering how AWX handles a change in LDAP Team Mapping (e.g. If the `is_superuser` mapping is removed, does AWX update the user objects?). I observed the following: If the `LDAP User Flags by Group` is removed, pre-existing users in AWX do not update according to the changes made. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1. Create a LDAP connection from AWX. 2. Specify a `LDAP User Flags by Group` parameter. 3. Login with a LDAP user and verify its creation within AWX. 4. Verify the user has the proper permissions. 5. Change the `LDAP User Flags by Group` to no longer reflect the user. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> I would expect the user object within AWX to update itself based on the LDAP mapping specified. ##### ACTUAL RESULTS <!-- What actually happened? --> It looks like the user object has to be manually updated in order for the permissions to update. If `is_superuser` is granted to many users in a LDAP group and the mapping has to change, this could be an undesired behavior. test-file source-file",no-bug,0.8
8429,awx,https://github.com/ansible/awx/issues/8429,Expose the SCM Branch name in the playbook environment,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Today if I launch a job and put `foobar` in the ""SCM Branch"" field, the corresponding commit hash is exposed as `awx_project_revision` but the proper human readable name of my branch/tag `foobar` remains inaccessible. A use case to access this information is to put it in configuration files (eg. in a UI to document which version of the platform was deployed). Many more can be envisioned too. I see two paths for implementation: * Change the `awx_project_revision` content to keep the SCM Branch as it was in the input (stop turning it into a hash) * Expose this into a variable of its own, like `awx_project_scm_branch`",source-file,"Expose the SCM Branch name in the playbook environment ##### ISSUE TYPE - Feature Idea ##### SUMMARY Today if I launch a job and put `foobar` in the ""SCM Branch"" field, the corresponding commit hash is exposed as `awx_project_revision` but the proper human readable name of my branch/tag `foobar` remains inaccessible. A use case to access this information is to put it in configuration files (eg. in a UI to document which version of the platform was deployed). Many more can be envisioned too. I see two paths for implementation: * Change the `awx_project_revision` content to keep the SCM Branch as it was in the input (stop turning it into a hash) * Expose this into a variable of its own, like `awx_project_scm_branch` source-file",no-bug,0.9
9190,awx,https://github.com/ansible/awx/issues/9190,Remove the custom venv fields from the UI,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove the custom venv fields from the UI. Every place that shows a custom virtual env should display the execution environment. For instance, Job Details output.",test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | other-file | source-file,"Remove the custom venv fields from the UI ##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove the custom venv fields from the UI. Every place that shows a custom virtual env should display the execution environment. For instance, Job Details output. test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file other-file test-file test-file other-file other-file source-file",no-bug,0.9
7130,awx,https://github.com/ansible/awx/issues/7130,Users Team view: add to team,"##### ISSUE TYPE - Feature Idea ##### SUMMARY On the User Teams page, implement an ""Add"" button to add the user to teams. Mockup: https://tower-mockups.testing.ansible.com/patternfly/users/users-teams-add/ This is broken out from #6594",other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file,"Users Team view: add to team ##### ISSUE TYPE - Feature Idea ##### SUMMARY On the User Teams page, implement an ""Add"" button to add the user to teams. Mockup: https://tower-mockups.testing.ansible.com/patternfly/users/users-teams-add/ This is broken out from #6594 other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file",no-bug,0.9
4910,awx,https://github.com/ansible/awx/issues/4910,jobs still dispatched to container group even if ResourceQuota will cause them to be rejected + fail immediately,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of #4189 that will be resolved in follow up PR. _IF the user sets up the namespace that they use for the Container Group with a ResourceQuota_... @one-t has confirmed that when a Container Group has exceeded capacity (e.g. has met its ResourceQuota) , jobs will still be sent to it because of lack of capacity calculation for ContainerGroups. The jobs then immediately fail becaues of a `403` response from kubernetes API instead of expected behavior of waiting to dispatch job until an instance group has capacity to run it. This means in a Tower environment that is saturated with jobs such that all other resources available to a new job are out of capacity, the Container Group will still appear to have capacity even if it itself has also exceeded resource limits. This will cause the job and any future jobs dispatched to the CG to immediately fail until resources are freed up. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Create a ResourceQuota in the namespace you use to set up a ContainerGroup Associate the ContainerGroup with a JT Launch more jobs that your ResourceQuota will allow ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Later jobs will go into pending until resources are available ##### ACTUAL RESULTS <!-- What actually happened? --> Later jobs fail immediately with `403` from kubernetes API ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> @one-t can provide more details about how to configure your namespace ResourceQuota",source-file,"jobs still dispatched to container group even if ResourceQuota will cause them to be rejected + fail immediately ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of #4189 that will be resolved in follow up PR. _IF the user sets up the namespace that they use for the Container Group with a ResourceQuota_... @one-t has confirmed that when a Container Group has exceeded capacity (e.g. has met its ResourceQuota) , jobs will still be sent to it because of lack of capacity calculation for ContainerGroups. The jobs then immediately fail becaues of a `403` response from kubernetes API instead of expected behavior of waiting to dispatch job until an instance group has capacity to run it. This means in a Tower environment that is saturated with jobs such that all other resources available to a new job are out of capacity, the Container Group will still appear to have capacity even if it itself has also exceeded resource limits. This will cause the job and any future jobs dispatched to the CG to immediately fail until resources are freed up. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Create a ResourceQuota in the namespace you use to set up a ContainerGroup Associate the ContainerGroup with a JT Launch more jobs that your ResourceQuota will allow ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Later jobs will go into pending until resources are available ##### ACTUAL RESULTS <!-- What actually happened? --> Later jobs fail immediately with `403` from kubernetes API ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> @one-t can provide more details about how to configure your namespace ResourceQuota source-file",bug,0.9
5970,awx,https://github.com/ansible/awx/issues/5970,Address upcoming GitHub API deprecations,"##### ISSUE TYPE - Bug Report ##### SUMMARY GitHub is deprecating certain types of API authentication: https://developer.github.com/changes/2019-11-05-deprecated-passwords-and-authorizations-api/#authenticating-using-query-parameters > GitHub is deprecating authentication to the GitHub API using query parameters, such as using a access_token query parameter for OAuth user authentication or a client_id/client_secret query parameter for OAuth application authentication. All authentication to the GitHub API should be done using HTTP basic authentication. ##### ENVIRONMENT * AWX version: all * AWX install method: all * Ansible version: all ##### STEPS TO REPRODUCE At the very least, we'll need to update to the latest social auth for GitHub SSO logins to continue to work. See: https://github.com/python-social-auth/social-core/issues/430 https://github.com/python-social-auth/social-core/pull/428 @jbradberry will this have any side effects for your recent addition of GitHub webhook support?",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Address upcoming GitHub API deprecations ##### ISSUE TYPE - Bug Report ##### SUMMARY GitHub is deprecating certain types of API authentication: https://developer.github.com/changes/2019-11-05-deprecated-passwords-and-authorizations-api/#authenticating-using-query-parameters > GitHub is deprecating authentication to the GitHub API using query parameters, such as using a access_token query parameter for OAuth user authentication or a client_id/client_secret query parameter for OAuth application authentication. All authentication to the GitHub API should be done using HTTP basic authentication. ##### ENVIRONMENT * AWX version: all * AWX install method: all * Ansible version: all ##### STEPS TO REPRODUCE At the very least, we'll need to update to the latest social auth for GitHub SSO logins to continue to work. See: https://github.com/python-social-auth/social-core/issues/430 https://github.com/python-social-auth/social-core/pull/428 @jbradberry will this have any side effects for your recent addition of GitHub webhook support? other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
5234,awx,https://github.com/ansible/awx/issues/5234,Fix intermittent failing test in JobTemplateForm.test.jsx,"##### ISSUE TYPE - Bug Report ##### SUMMARY Seen this error on several PR builds now: ``` FAIL src/screens/Template/shared/JobTemplateForm.test.jsx (36.288s)  <JobTemplateForm />  should update form values on input changes Timeout - Async callback was not invoked within the 5000ms timeout specified by jest.setTimeout.Error: 108 | }); 109 | > 110 | test('should update form values on input changes', async () => { | ^ 111 | let wrapper; 112 | await act(async () => { 113 | wrapper = mountWithContexts( at new Spec (node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22) at Suite.test (src/screens/Template/shared/JobTemplateForm.test.jsx:110:3) at Object.describe (src/screens/Template/shared/JobTemplateForm.test.jsx:10:1) ``` I tested this out locally and wasn't able to reproduce.",test-file,"Fix intermittent failing test in JobTemplateForm.test.jsx ##### ISSUE TYPE - Bug Report ##### SUMMARY Seen this error on several PR builds now: ``` FAIL src/screens/Template/shared/JobTemplateForm.test.jsx (36.288s)  <JobTemplateForm />  should update form values on input changes Timeout - Async callback was not invoked within the 5000ms timeout specified by jest.setTimeout.Error: 108 | }); 109 | > 110 | test('should update form values on input changes', async () => { | ^ 111 | let wrapper; 112 | await act(async () => { 113 | wrapper = mountWithContexts( at new Spec (node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22) at Suite.test (src/screens/Template/shared/JobTemplateForm.test.jsx:110:3) at Object.describe (src/screens/Template/shared/JobTemplateForm.test.jsx:10:1) ``` I tested this out locally and wasn't able to reproduce. test-file",no-bug,0.9
5038,awx,https://github.com/ansible/awx/issues/5038,awx cli schedule command is missing the human friendly job_template option,##### ISSUE TYPE - Feature Idea ##### SUMMARY The awx cli `schedule` is missing the `--job_template` argument. This should take the friendly *name* of the Job template/workflow and not the identifier like `--unified_job_template` does. Example: ```shell # For Job Template awx schedules create --name 'My awesome schedule' --job_template 'My awesome job template' --rrule 'DTSTART:20191010T143904Z RRULE:FREQ=WEEKLY;INTERVAL=1;COUNT=1' # For Workflow Template awx schedules create --name 'My awesome schedule' --job_template 'My awesome workflow template' --rrule 'DTSTART:20191010T143904Z RRULE:FREQ=WEEKLY;INTERVAL=1;COUNT=1' ```,test-file | other-file,awx cli schedule command is missing the human friendly job_template option ##### ISSUE TYPE - Feature Idea ##### SUMMARY The awx cli `schedule` is missing the `--job_template` argument. This should take the friendly *name* of the Job template/workflow and not the identifier like `--unified_job_template` does. Example: ```shell # For Job Template awx schedules create --name 'My awesome schedule' --job_template 'My awesome job template' --rrule 'DTSTART:20191010T143904Z RRULE:FREQ=WEEKLY;INTERVAL=1;COUNT=1' # For Workflow Template awx schedules create --name 'My awesome schedule' --job_template 'My awesome workflow template' --rrule 'DTSTART:20191010T143904Z RRULE:FREQ=WEEKLY;INTERVAL=1;COUNT=1' ``` test-file other-file,no-bug,0.9
5824,awx,https://github.com/ansible/awx/issues/5824,RFE: Allow one to label nodes in the Workflow Visualizer,"##### ISSUE TYPE - Feature Idea ##### SUMMARY ![Screenshot_2020-02-05 Ansible Tower templates editWorkflowJobTemplate workflowMaker(2)](https://user-images.githubusercontent.com/1191411/73853830-c8f02480-4831-11ea-9301-eca918a4b709.png) Current behavior is for node to display the Job Template name. Job Template can be generic enough to be used with different parameters. The current behavior leads to unclear workflow meaning. For example in the above use case the ""Create Github Branch"" as a survey spec with a string where one can specify a repository. With current behavior the Workflow Visuzalizer offer 4 times the same representation. It would benefit user to be able to label node with value they want. In the case above we could have specified in the label the repository we are talking about, making the intent and lecture of the workflow straight forward.",source-file | test-file,"RFE: Allow one to label nodes in the Workflow Visualizer ##### ISSUE TYPE - Feature Idea ##### SUMMARY ![Screenshot_2020-02-05 Ansible Tower templates editWorkflowJobTemplate workflowMaker(2)](https://user-images.githubusercontent.com/1191411/73853830-c8f02480-4831-11ea-9301-eca918a4b709.png) Current behavior is for node to display the Job Template name. Job Template can be generic enough to be used with different parameters. The current behavior leads to unclear workflow meaning. For example in the above use case the ""Create Github Branch"" as a survey spec with a string where one can specify a repository. With current behavior the Workflow Visuzalizer offer 4 times the same representation. It would benefit user to be able to label node with value they want. In the case above we could have specified in the label the repository we are talking about, making the intent and lecture of the workflow straight forward. source-file test-file",no-bug,0.95
11196,awx,https://github.com/ansible/awx/issues/11196,Inventory updates should show `controller_node` field,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Inventory updates can / will run remote now, so their serializer should surface the `controller_node` field.",source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file,"Inventory updates should show `controller_node` field ##### ISSUE TYPE - Feature Idea ##### SUMMARY Inventory updates can / will run remote now, so their serializer should surface the `controller_node` field. source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file",no-bug,0.9
14314,awx,https://github.com/ansible/awx/issues/14314,AWX DB migration gets in loop and upgrade never ends,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary When upgrading from 22.3 to 22.5, we noticed that the upgrade took much longer than expected, was stuck in the DB migration process, and didn't allow AWX to start. This upgrade included one of the [database migration tasks](https://github.com/ansible/awx/blob/devel/awx/main/migrations/0185_move_JSONBlob_to_JSONField.py). This issue happened because of a bug in AWX DB migration logic. When we upgrade AWX, the AWX operator starts the DB migration. The [following script](https://github.com/ansible/awx/blob/7e4cf859f59aaa865985ade13a51a37e3c41e8f6/tools/ansible/roles/dockerfile/files/wait-for-migrations#L8) is responsible for the retry mechanism. The script makes a total of 30 retries to check the status of AWX migration. It will wait for a maximum of 60 seconds (TIMEOUT=60) for each attempt. However, an exponential backoff strategy dynamically calculates the waiting time between attempts. The next_sleep function calculates the waiting time before the next attempt. It starts with MIN_SLEEP (0.5 seconds) and doubles the value with each attempt until it reaches MAX_SLEEP (30 seconds). So, the waiting times between attempts will be as follows: _______ Attempt 1: 0.5 seconds Attempt 2: 1 second Attempt 3: 2 seconds Attempt 4: 4 seconds Attempt 5: 8 seconds Attempt 6: 16 seconds Attempt 7: 30 seconds (maximum reached) Attempt 8 and beyond: 30 seconds (maximum reached) ______ After the 7th attempt, the waiting time will remain constant at 30 seconds since it has reached the maximum configured value. Suppose none of the attempts succeeds within the specified TIMEOUT period (60 seconds). In that case, the script will fail with an error message ""ERROR: Database migrations not applied"" and return with exit code 1 and stop the migration task. It means that if we have a large DB that requires more time to finish the particular migration task, the migration will never be finished since it will be stuck in a loop. **The workaround:** To resolve this issue, we found a workaround with the AWX community and implemented it. To go with a workaround, you should do the following actions: 1. In the K8s deployments in the AWX namespace: Scale in **awx-operator-controller-manager** replicas to 0 Scale in **awx-task** replicas to 0 Scale in **awx-web** replicas to 0 2. In awx-task deployment, find the following section: > - name: awx-task > image: pegasus-docker.artifactory.cyberng.com/pegasus-awx:22.5.0 > args: > - /usr/bin/launch_awx_task.sh > env: > - name: AWX_COMPONENT > value: task > - name: SUPERVISOR_CONFIG_PATH > value: /etc/supervisord_task.conf > - name: AWX_SKIP_MIGRATIONS > value: '1' > - name: MY_POD_UID > valueFrom: > fieldRef: > apiVersion: v1 > fieldPath: metadata.uid And replace the args section with > - name: awx-task > image: pegasus-docker.artifactory.cyberng.com/pegasus-awx:22.5.0 > args: > - awx-manage > - migrate > - --noinput > env: > - name: AWX_COMPONENT > value: task > - name: SUPERVISOR_CONFIG_PATH > value: /etc/supervisord_task.conf > - name: AWX_SKIP_MIGRATIONS > value: '1' > - name: MY_POD_UID > valueFrom: > fieldRef: > apiVersion: v1 > fieldPath: metadata.uid 3. Scale-out awx-task deployment to 1 replica. You should see the following message in the task container logs: <img width=""1178"" alt=""image"" src=""https://github.com/ansible/awx/assets/79839819/d10fb37c-59b3-42ed-b3e8-300d625369ed""> 4. Wait till the migration is finished. The pod should finish running, and you should see the following log, which shows that the migration is finished: <img width=""1175"" alt=""image"" src=""https://github.com/ansible/awx/assets/79839819/cc4b051e-d598-4f9b-b248-bc83c2f0643d""> 5. Scale out the **awx-operator-controller-manager** deployment to 1 replica. It will automatically delete the task you modified and scale out the AWX deployments. ### AWX version 22.5 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [X] API - [ ] Docs - [ ] Collection - [X] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Upgrade the AWX with the large database from 22.3 to 22.5 ### Expected results DB migration task is running without interruption ### Actual results DB migration task is interrupted with the pod restart ### Additional information _No response_",config-file | container-file | config-file | container-file | container-file | container-file,"AWX DB migration gets in loop and upgrade never ends ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary When upgrading from 22.3 to 22.5, we noticed that the upgrade took much longer than expected, was stuck in the DB migration process, and didn't allow AWX to start. This upgrade included one of the [database migration tasks](https://github.com/ansible/awx/blob/devel/awx/main/migrations/0185_move_JSONBlob_to_JSONField.py). This issue happened because of a bug in AWX DB migration logic. When we upgrade AWX, the AWX operator starts the DB migration. The [following script](https://github.com/ansible/awx/blob/7e4cf859f59aaa865985ade13a51a37e3c41e8f6/tools/ansible/roles/dockerfile/files/wait-for-migrations#L8) is responsible for the retry mechanism. The script makes a total of 30 retries to check the status of AWX migration. It will wait for a maximum of 60 seconds (TIMEOUT=60) for each attempt. However, an exponential backoff strategy dynamically calculates the waiting time between attempts. The next_sleep function calculates the waiting time before the next attempt. It starts with MIN_SLEEP (0.5 seconds) and doubles the value with each attempt until it reaches MAX_SLEEP (30 seconds). So, the waiting times between attempts will be as follows: _______ Attempt 1: 0.5 seconds Attempt 2: 1 second Attempt 3: 2 seconds Attempt 4: 4 seconds Attempt 5: 8 seconds Attempt 6: 16 seconds Attempt 7: 30 seconds (maximum reached) Attempt 8 and beyond: 30 seconds (maximum reached) ______ After the 7th attempt, the waiting time will remain constant at 30 seconds since it has reached the maximum configured value. Suppose none of the attempts succeeds within the specified TIMEOUT period (60 seconds). In that case, the script will fail with an error message ""ERROR: Database migrations not applied"" and return with exit code 1 and stop the migration task. It means that if we have a large DB that requires more time to finish the particular migration task, the migration will never be finished since it will be stuck in a loop. **The workaround:** To resolve this issue, we found a workaround with the AWX community and implemented it. To go with a workaround, you should do the following actions: 1. In the K8s deployments in the AWX namespace: Scale in **awx-operator-controller-manager** replicas to 0 Scale in **awx-task** replicas to 0 Scale in **awx-web** replicas to 0 2. In awx-task deployment, find the following section: > - name: awx-task > image: pegasus-docker.artifactory.cyberng.com/pegasus-awx:22.5.0 > args: > - /usr/bin/launch_awx_task.sh > env: > - name: AWX_COMPONENT > value: task > - name: SUPERVISOR_CONFIG_PATH > value: /etc/supervisord_task.conf > - name: AWX_SKIP_MIGRATIONS > value: '1' > - name: MY_POD_UID > valueFrom: > fieldRef: > apiVersion: v1 > fieldPath: metadata.uid And replace the args section with > - name: awx-task > image: pegasus-docker.artifactory.cyberng.com/pegasus-awx:22.5.0 > args: > - awx-manage > - migrate > - --noinput > env: > - name: AWX_COMPONENT > value: task > - name: SUPERVISOR_CONFIG_PATH > value: /etc/supervisord_task.conf > - name: AWX_SKIP_MIGRATIONS > value: '1' > - name: MY_POD_UID > valueFrom: > fieldRef: > apiVersion: v1 > fieldPath: metadata.uid 3. Scale-out awx-task deployment to 1 replica. You should see the following message in the task container logs: <img width=""1178"" alt=""image"" src=""https://github.com/ansible/awx/assets/79839819/d10fb37c-59b3-42ed-b3e8-300d625369ed""> 4. Wait till the migration is finished. The pod should finish running, and you should see the following log, which shows that the migration is finished: <img width=""1175"" alt=""image"" src=""https://github.com/ansible/awx/assets/79839819/cc4b051e-d598-4f9b-b248-bc83c2f0643d""> 5. Scale out the **awx-operator-controller-manager** deployment to 1 replica. It will automatically delete the task you modified and scale out the AWX deployments. ### AWX version 22.5 ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [X] API - [ ] Docs - [ ] Collection - [X] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce Upgrade the AWX with the large database from 22.3 to 22.5 ### Expected results DB migration task is running without interruption ### Actual results DB migration task is interrupted with the pod restart ### Additional information _No response_ config-file container-file config-file container-file container-file container-file",no-bug,0.9
5741,awx,https://github.com/ansible/awx/issues/5741,SSH Machine Credential Signed Certificate not calling add-key,"##### ISSUE TYPE - Bug Report ##### SUMMARY When using SSH Signed Cert credential, my job fails to SSH to the server. I see similar issues in the log, but in all cases add-key gets called and then fails. In my case it's not apparent that the provided SSH Signed Key is being used at all. ##### ENVIRONMENT * AWX version: 5.0.0.0 * AWX install method: docker on linux * Ansible version: 2.8.1 * Operating System: Windows * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a credential type ""machine"" with an ssh private key and a public key signed by a CA trusted by the target host. This was tested by manually SSHing into the host using the private key and signed public key that are entered into AWX. Then run any job using the provided credential. ##### EXPECTED RESULTS I expect authentication to succeed. More generally, I expect the logs to show Ansible adding the signed key and the using it. [The logs](https://pastebin.com/iKsTTQa2) don't show any such behavior occurring, and it's near impossible to determine what exactly is causing the failure. ##### ACTUAL RESULTS Authentication will fail with the following error https://pastebin.com/J3cmmK5u",other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file,"SSH Machine Credential Signed Certificate not calling add-key ##### ISSUE TYPE - Bug Report ##### SUMMARY When using SSH Signed Cert credential, my job fails to SSH to the server. I see similar issues in the log, but in all cases add-key gets called and then fails. In my case it's not apparent that the provided SSH Signed Key is being used at all. ##### ENVIRONMENT * AWX version: 5.0.0.0 * AWX install method: docker on linux * Ansible version: 2.8.1 * Operating System: Windows * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a credential type ""machine"" with an ssh private key and a public key signed by a CA trusted by the target host. This was tested by manually SSHing into the host using the private key and signed public key that are entered into AWX. Then run any job using the provided credential. ##### EXPECTED RESULTS I expect authentication to succeed. More generally, I expect the logs to show Ansible adding the signed key and the using it. [The logs](https://pastebin.com/iKsTTQa2) don't show any such behavior occurring, and it's near impossible to determine what exactly is causing the failure. ##### ACTUAL RESULTS Authentication will fail with the following error https://pastebin.com/J3cmmK5u other-file other-file other-file other-file other-file other-file documentation-file other-file other-file",no-bug,0.9
5070,awx,https://github.com/ansible/awx/issues/5070,Support expanded rows on Projects List,##### ISSUE TYPE - Feature Idea ##### SUMMARY https://tower-mockups.testing.ansible.com/patternfly/projects/projects-expand/ We'll need to evaluate other fields that may be relevant to the expanded version of the project row,other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file,Support expanded rows on Projects List ##### ISSUE TYPE - Feature Idea ##### SUMMARY https://tower-mockups.testing.ansible.com/patternfly/projects/projects-expand/ We'll need to evaluate other fields that may be relevant to the expanded version of the project row other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file other-file,no-bug,0.9
6165,awx,https://github.com/ansible/awx/issues/6165,RFE: awx-cli job monitor command,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Add a monitor parameter to the job resource with cli to be able to monitor currently running jobs. Currently, it is only possible to monitor a job a launch with the --monitor flag. (similar to https://tower-cli.readthedocs.io/en/latest/api_ref/resources/job.html#tower_cli.resources.job.Resource.monitor)",source-file | source-file | source-file | source-file,"RFE: awx-cli job monitor command ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add a monitor parameter to the job resource with cli to be able to monitor currently running jobs. Currently, it is only possible to monitor a job a launch with the --monitor flag. (similar to https://tower-cli.readthedocs.io/en/latest/api_ref/resources/job.html#tower_cli.resources.job.Resource.monitor) source-file source-file source-file source-file",no-bug,0.9
11017,awx,https://github.com/ansible/awx/issues/11017,Unable to use ansible_facts for smart inventory source,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary One older article describes how ansible_facts can be used to create smart inventory within AWX/Ansible tower: https://www.ansible.com/blog/ansible-tower-advanced-smart-inventory-usage Unfortunately this feature seems to be broken or not properly documented, as API doesn't seem to be recognizing field ansible_facts. GET to /api/v2/hosts/?ansible_facts.ansible_distribution_version=18.04 ``` HTTP 400 Bad Request Allow: GET, POST, HEAD, OPTIONS Content-Type: application/json Vary: Accept X-API-Node: awx-6bd564b87c-26bv6 X-API-Product-Name: AWX X-API-Product-Version: 19.3.0 X-API-Time: 0.005s { ""error"": ""Host has no field named 'ansible_facts.ansible_distribution_version'"" } ``` ### AWX version 19.3.0 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Firefox ### Steps to reproduce 1. Go to Inventory 2. Add - Smart Inventory 3. Try to filter using ""Smart host filter"" field Alternative: 1. Go to /api/v2/hosts/ 2. try using query string with desired field (eg /api/v2/hosts/?ansible_facts.ansible_distribution_version=18.04) ### Expected results API queries facts and displays hosts that only match those facts ### Actual results API complains that the field is incorrect ### Additional information Using any top-level field works normally: eg. /api/v2/hosts/?id=302 (if host with ID 302 in AWX exists) returns properties for that host. It would appear that since the ansible_facts is just a reference to additional page that the API is not able to query it.",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file,"Unable to use ansible_facts for smart inventory source ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary One older article describes how ansible_facts can be used to create smart inventory within AWX/Ansible tower: https://www.ansible.com/blog/ansible-tower-advanced-smart-inventory-usage Unfortunately this feature seems to be broken or not properly documented, as API doesn't seem to be recognizing field ansible_facts. GET to /api/v2/hosts/?ansible_facts.ansible_distribution_version=18.04 ``` HTTP 400 Bad Request Allow: GET, POST, HEAD, OPTIONS Content-Type: application/json Vary: Accept X-API-Node: awx-6bd564b87c-26bv6 X-API-Product-Name: AWX X-API-Product-Version: 19.3.0 X-API-Time: 0.005s { ""error"": ""Host has no field named 'ansible_facts.ansible_distribution_version'"" } ``` ### AWX version 19.3.0 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Firefox ### Steps to reproduce 1. Go to Inventory 2. Add - Smart Inventory 3. Try to filter using ""Smart host filter"" field Alternative: 1. Go to /api/v2/hosts/ 2. try using query string with desired field (eg /api/v2/hosts/?ansible_facts.ansible_distribution_version=18.04) ### Expected results API queries facts and displays hosts that only match those facts ### Actual results API complains that the field is incorrect ### Additional information Using any top-level field works normally: eg. /api/v2/hosts/?id=302 (if host with ID 302 in AWX exists) returns properties for that host. It would appear that since the ansible_facts is just a reference to additional page that the API is not able to query it. source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file source-file test-file source-file source-file",bug,0.95
7886,awx,https://github.com/ansible/awx/issues/7886,List execution environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY List execution environments,source-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | source-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | source-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | source-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | source-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file,List execution environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY List execution environments source-file source-file other-file test-file other-file other-file test-file source-file source-file source-file other-file test-file other-file other-file test-file source-file source-file source-file other-file test-file other-file other-file test-file source-file source-file source-file other-file test-file other-file other-file test-file source-file source-file source-file other-file test-file other-file other-file test-file source-file,no-bug,0.9
10095,awx,https://github.com/ansible/awx/issues/10095,Survey list missing edit icon,##### ISSUE TYPE - Bug Report ##### SUMMARY Survey list missing edit icon. Current implementation: ![image](https://user-images.githubusercontent.com/9053044/116934066-72d78000-ac32-11eb-9055-0b0f19f6b60f.png) Mockup: ![image](https://user-images.githubusercontent.com/9053044/116934007-5afffc00-ac32-11eb-9497-eee06c951658.png),other-file | test-file | other-file | test-file | other-file | test-file,Survey list missing edit icon ##### ISSUE TYPE - Bug Report ##### SUMMARY Survey list missing edit icon. Current implementation: ![image](https://user-images.githubusercontent.com/9053044/116934066-72d78000-ac32-11eb-9055-0b0f19f6b60f.png) Mockup: ![image](https://user-images.githubusercontent.com/9053044/116934007-5afffc00-ac32-11eb-9497-eee06c951658.png) other-file test-file other-file test-file other-file test-file,no-bug,0.9
9311,awx,https://github.com/ansible/awx/issues/9311,[ui_next] Direct Links to awx do not reroute the user after authentication,"##### ISSUE TYPE - Feature ##### SUMMARY I might be wrong, but i _believe_ that _some point_ in the classic experience, if a user had a direct link to a resource, (like a from a slack notification) and they had not authenticated, we would reroute the user to the original requested page i.e. https://localhost:3001/#/credentials/1/details. Note: https://github.com/ansible/awx/issues/8155 is an example of expected behavior ##### STEPS TO REPRODUCE 1. Take a link 2. Rerouted to Login Page. Login 3. Taken to dashboard instead of original link",other-file | test-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | test-file,"[ui_next] Direct Links to awx do not reroute the user after authentication ##### ISSUE TYPE - Feature ##### SUMMARY I might be wrong, but i _believe_ that _some point_ in the classic experience, if a user had a direct link to a resource, (like a from a slack notification) and they had not authenticated, we would reroute the user to the original requested page i.e. https://localhost:3001/#/credentials/1/details. Note: https://github.com/ansible/awx/issues/8155 is an example of expected behavior ##### STEPS TO REPRODUCE 1. Take a link 2. Rerouted to Login Page. Login 3. Taken to dashboard instead of original link other-file test-file other-file test-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file test-file",no-bug,0.8
6244,awx,https://github.com/ansible/awx/issues/6244,Page Size toggle does not persist after a search,"##### ISSUE TYPE - Bug Report ##### SUMMARY When changing the page size (show 5, 10 items per page), the size resets to the default when a search is performed. This is inconsistent with the Angular UI and should persist. ##### STEPS TO REPRODUCE Take any list, like credentials. Have it display like 5 items per page. Perform a search ##### EXPECTED RESULTS There are 5 items displayed per page. ##### ACTUAL RESULTS There are 20 items (default) displayed per page.",other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Page Size toggle does not persist after a search ##### ISSUE TYPE - Bug Report ##### SUMMARY When changing the page size (show 5, 10 items per page), the size resets to the default when a search is performed. This is inconsistent with the Angular UI and should persist. ##### STEPS TO REPRODUCE Take any list, like credentials. Have it display like 5 items per page. Perform a search ##### EXPECTED RESULTS There are 5 items displayed per page. ##### ACTUAL RESULTS There are 20 items (default) displayed per page. other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.9
4538,awx,https://github.com/ansible/awx/issues/4538,"Unable to a new line to Start, Success, and Failure Message for Customized Email Notification Types","##### ISSUE TYPE - Bug Report ##### SUMMARY Unable to a new line to Start, Success, and Failure Message for Customized Email Notification Types. Notes: - New lines can be added to Start, Success and Failure Message **Body** however. - Message, itself, can be modified as long as a new line is not added ##### STEPS TO REPRODUCE 1. Create a working email notification 2. Modify the notification's customizable messages by adding a new line to Start Message. 3. Assign Notification to JT and launch JT. Note: Start Message not received. ##### EXPECTED RESULTS 1. Modified Start Message to be received. ##### ACTUAL RESULTS No start message received. If Job failed/succeeded, then the customized notification success/failure message is received. ##### ADDITIONAL INFORMATION This works ![Screen Shot 2019-08-20 at 6 20 15 PM](https://user-images.githubusercontent.com/12446869/63388655-2cb38d80-c377-11e9-8aef-85ebe62db98e.png) This doesn't ![Screen Shot 2019-08-20 at 6 20 45 PM](https://user-images.githubusercontent.com/12446869/63388687-3f2dc700-c377-11e9-8a8b-9f1cce981d3a.png)",source-file,"Unable to a new line to Start, Success, and Failure Message for Customized Email Notification Types ##### ISSUE TYPE - Bug Report ##### SUMMARY Unable to a new line to Start, Success, and Failure Message for Customized Email Notification Types. Notes: - New lines can be added to Start, Success and Failure Message **Body** however. - Message, itself, can be modified as long as a new line is not added ##### STEPS TO REPRODUCE 1. Create a working email notification 2. Modify the notification's customizable messages by adding a new line to Start Message. 3. Assign Notification to JT and launch JT. Note: Start Message not received. ##### EXPECTED RESULTS 1. Modified Start Message to be received. ##### ACTUAL RESULTS No start message received. If Job failed/succeeded, then the customized notification success/failure message is received. ##### ADDITIONAL INFORMATION This works ![Screen Shot 2019-08-20 at 6 20 15 PM](https://user-images.githubusercontent.com/12446869/63388655-2cb38d80-c377-11e9-8aef-85ebe62db98e.png) This doesn't ![Screen Shot 2019-08-20 at 6 20 45 PM](https://user-images.githubusercontent.com/12446869/63388687-3f2dc700-c377-11e9-8a8b-9f1cce981d3a.png) source-file",no-bug,0.8
13301,awx,https://github.com/ansible/awx/issues/13301,ValueError: Duplicated timeseries in CollectorRegistry,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary While upgrading my AWX system from 21.5.0 to 21.10.0 the following error occurred: ``` tools_awx_1 | ValueError: Duplicated timeseries in CollectorRegistry: {'awx01_example_com_messages_received'} tools_awx_1 | 2022-12-07 16:21:09,927 INFO exited: wsbroadcast (exit status 1; not expected) tools_awx_1 | 2022-12-07 16:21:09,927 INFO exited: wsbroadcast (exit status 1; not expected) ``` It seems that the wsbroadcast process is dying with this error and finally the tools_awx_1 container dies as well. Changing the required *prometheus-client* back to 0.7.1 fixes (or workarounds) this error. ``` --- a/requirements/requirements.txt +++ b/requirements/requirements.txt @@ -253,7 +253,7 @@ pexpect==4.7.0 # ansible-runner pkgconfig==1.5.5 # via -r /awx_devel/requirements/requirements.in -prometheus-client==0.15.0 +prometheus-client==0.7.1 # via -r /awx_devel/requirements/requirements.in psutil==5.9.4 # via -r /awx_devel/requirements/requirements.in ``` This might be related to: https://github.com/prometheus/client_python/issues/815 ### AWX version 21.10.0 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.12.2 ### Operating system Debian 11 ### Web browser Firefox ### Steps to reproduce I have a setup with two controller nodes, awx01.example.com and awx02.example.com. The error message mentions always the other node. To reproduce the problem at least two controller nodes are needed, I guess. ### Expected results The Prometheus client is registering the nodes properly. ### Actual results ``` tools_awx_1 | Adding {'awx01.example.com'} to websocket broadcast list tools_awx_1 | Traceback (most recent call last): tools_awx_1 | File ""/usr/local/bin/awx-manage"", line 8, in <module> tools_awx_1 | sys.exit(manage()) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/__init__.py"", line 201, in manage tools_awx_1 | execute_from_command_line(sys.argv) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/__init__.py"", line 419, in execute_from_command_line tools_awx_1 | utility.execute() tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/__init__.py"", line 413, in execute tools_awx_1 | self.fetch_command(subcommand).run_from_argv(self.argv) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/base.py"", line 354, in run_from_argv tools_awx_1 | self.execute(*args, **cmd_options) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/base.py"", line 398, in execute tools_awx_1 | output = self.handle(*args, **options) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/management/commands/run_wsbroadcast.py"", line 170, in handle tools_awx_1 | loop.run_until_complete(task) tools_awx_1 | File ""/usr/lib64/python3.9/asyncio/base_events.py"", line 647, in run_until_complete tools_awx_1 | return future.result() tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/wsbroadcast.py"", line 198, in run_per_host_websocket tools_awx_1 | stats = self.stats_mgr.new_remote_host_stats(h) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/broadcast_websocket.py"", line 76, in new_remote_host_stats tools_awx_1 | self._stats[remote_hostname] = BroadcastWebsocketStats(self._local_hostname, remote_hostname) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/broadcast_websocket.py"", line 124, in __init__ tools_awx_1 | self._messages_received = Gauge( tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/prometheus_client/metrics.py"", line 365, in __init__ tools_awx_1 | super().__init__( tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/prometheus_client/metrics.py"", line 143, in __init__ tools_awx_1 | registry.register(self) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/prometheus_client/registry.py"", line 43, in register tools_awx_1 | raise ValueError( tools_awx_1 | ValueError: Duplicated timeseries in CollectorRegistry: {'awx01_example_com_messages_received'} ``` ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file,"ValueError: Duplicated timeseries in CollectorRegistry ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary While upgrading my AWX system from 21.5.0 to 21.10.0 the following error occurred: ``` tools_awx_1 | ValueError: Duplicated timeseries in CollectorRegistry: {'awx01_example_com_messages_received'} tools_awx_1 | 2022-12-07 16:21:09,927 INFO exited: wsbroadcast (exit status 1; not expected) tools_awx_1 | 2022-12-07 16:21:09,927 INFO exited: wsbroadcast (exit status 1; not expected) ``` It seems that the wsbroadcast process is dying with this error and finally the tools_awx_1 container dies as well. Changing the required *prometheus-client* back to 0.7.1 fixes (or workarounds) this error. ``` --- a/requirements/requirements.txt +++ b/requirements/requirements.txt @@ -253,7 +253,7 @@ pexpect==4.7.0 # ansible-runner pkgconfig==1.5.5 # via -r /awx_devel/requirements/requirements.in -prometheus-client==0.15.0 +prometheus-client==0.7.1 # via -r /awx_devel/requirements/requirements.in psutil==5.9.4 # via -r /awx_devel/requirements/requirements.in ``` This might be related to: https://github.com/prometheus/client_python/issues/815 ### AWX version 21.10.0 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.12.2 ### Operating system Debian 11 ### Web browser Firefox ### Steps to reproduce I have a setup with two controller nodes, awx01.example.com and awx02.example.com. The error message mentions always the other node. To reproduce the problem at least two controller nodes are needed, I guess. ### Expected results The Prometheus client is registering the nodes properly. ### Actual results ``` tools_awx_1 | Adding {'awx01.example.com'} to websocket broadcast list tools_awx_1 | Traceback (most recent call last): tools_awx_1 | File ""/usr/local/bin/awx-manage"", line 8, in <module> tools_awx_1 | sys.exit(manage()) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/__init__.py"", line 201, in manage tools_awx_1 | execute_from_command_line(sys.argv) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/__init__.py"", line 419, in execute_from_command_line tools_awx_1 | utility.execute() tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/__init__.py"", line 413, in execute tools_awx_1 | self.fetch_command(subcommand).run_from_argv(self.argv) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/base.py"", line 354, in run_from_argv tools_awx_1 | self.execute(*args, **cmd_options) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/django/core/management/base.py"", line 398, in execute tools_awx_1 | output = self.handle(*args, **options) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/management/commands/run_wsbroadcast.py"", line 170, in handle tools_awx_1 | loop.run_until_complete(task) tools_awx_1 | File ""/usr/lib64/python3.9/asyncio/base_events.py"", line 647, in run_until_complete tools_awx_1 | return future.result() tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/wsbroadcast.py"", line 198, in run_per_host_websocket tools_awx_1 | stats = self.stats_mgr.new_remote_host_stats(h) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/broadcast_websocket.py"", line 76, in new_remote_host_stats tools_awx_1 | self._stats[remote_hostname] = BroadcastWebsocketStats(self._local_hostname, remote_hostname) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/awx/main/analytics/broadcast_websocket.py"", line 124, in __init__ tools_awx_1 | self._messages_received = Gauge( tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/prometheus_client/metrics.py"", line 365, in __init__ tools_awx_1 | super().__init__( tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/prometheus_client/metrics.py"", line 143, in __init__ tools_awx_1 | registry.register(self) tools_awx_1 | File ""/var/lib/awx/venv/awx/lib64/python3.9/site-packages/prometheus_client/registry.py"", line 43, in register tools_awx_1 | raise ValueError( tools_awx_1 | ValueError: Duplicated timeseries in CollectorRegistry: {'awx01_example_com_messages_received'} ``` ### Additional information _No response_ source-file source-file source-file source-file source-file source-file",no-bug,0.9
6396,awx,https://github.com/ansible/awx/issues/6396,test epic ignore,,source-file | test-file | test-file,test epic ignore  source-file test-file test-file,no-bug,0.9
10152,awx,https://github.com/ansible/awx/issues/10152,AWX 19.1: management jobs can not be scheduled,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to edit the schedules for the management jobs, but the (existing) schedules are prefilled with values that can't be saved?? ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: k3s on debian buster, deployed with awx-operator 0.9.0 * Ansible version: n/a at this point * Operating System: whatever is used inside the containers? * Web Browser: any ##### STEPS TO REPRODUCE 1. click ""management jobs"" 2. click any one job of the four 3. edit or create a schedule 4. observe ""start time"" is prefilled with ""NaN-NaN-NaNTNaN:NaN:NaN"" even if the job had been edited and/or run before already 5. observe how it is impossible to save the schedule unless you manually change the start time to some value that makes sense ##### EXPECTED RESULTS I'd expect the ""start time"" to be either 01-01-1970T00:00:00 or the time the AWX instance was deployed before its first run, then the time&date of the first run ##### ACTUAL RESULTS Schedule can not be saved. ##### ADDITIONAL INFORMATION",other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | other-file | test-file,"AWX 19.1: management jobs can not be scheduled <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to edit the schedules for the management jobs, but the (existing) schedules are prefilled with values that can't be saved?? ##### ENVIRONMENT * AWX version: 19.1.0 * AWX install method: k3s on debian buster, deployed with awx-operator 0.9.0 * Ansible version: n/a at this point * Operating System: whatever is used inside the containers? * Web Browser: any ##### STEPS TO REPRODUCE 1. click ""management jobs"" 2. click any one job of the four 3. edit or create a schedule 4. observe ""start time"" is prefilled with ""NaN-NaN-NaNTNaN:NaN:NaN"" even if the job had been edited and/or run before already 5. observe how it is impossible to save the schedule unless you manually change the start time to some value that makes sense ##### EXPECTED RESULTS I'd expect the ""start time"" to be either 01-01-1970T00:00:00 or the time the AWX instance was deployed before its first run, then the time&date of the first run ##### ACTUAL RESULTS Schedule can not be saved. ##### ADDITIONAL INFORMATION other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file other-file test-file",bug,0.8
11605,awx,https://github.com/ansible/awx/issues/11605,"preserve_existing_hosts flag in awx.awx.group module, while adding a new host to inventory group, retains only 25 existing hosts","### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary I have an inventory group with minimum 26 host. When adding a new host to that group, one of the already present host gets discarded from group. That's because get_endpoint method from ControllerAPIModule, used in group.py module returns pages containing 25 results. In my opinion, group.py should use get_all_endpoint instead to retrieve all group's hosts to preserve. ### AWX version 19.5.1 ### Installation method minikube ### Modifications no ### Ansible version 2.9.20 ### Operating system RHEL 8 ### Web browser _No response_ ### Steps to reproduce Create an Inventory 'I' Create a Group 'G' Create 26 hosts an assign to group 'G' Run a playbook on local to add new host: ``` - name: Add host to group hosts: localhost gather_facts: no connection: local vars_files: - vars/secrets.yml - vars/defaults.yml tasks: - awx.awx.host: name: ""{{ 'testhost%02d' | format(item) }}"" inventory: Test_Inventory tower_host: ""{{ tower_cli_host }}"" tower_oauthtoken: ""{{ tower_oauth_token }}"" state: present loop: ""{{ range(0, 27, 1)|list }}"" - awx.awx.group: name: ""G"" inventory: Test_Inventory tower_host: ""{{ tower_cli_host }}"" tower_oauthtoken: ""{{ tower_oauth_token }}"" validate_certs: true state: present - awx.awx.group: name: ""G"" hosts: ""{{ 'testhost%02d' | format(item) }}"" inventory: Test_Inventory tower_host: ""{{ tower_cli_host }}"" tower_oauthtoken: ""{{ tower_oauth_token }}"" validate_certs: true state: present preserve_existing_hosts: true loop: ""{{ range(0, 27, 1)|list }}"" ``` ### Expected results Group 'G' contains 27 hosts ### Actual results Group 'G' contains 26 hosts ### Additional information No error",source-file,"preserve_existing_hosts flag in awx.awx.group module, while adding a new host to inventory group, retains only 25 existing hosts ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary I have an inventory group with minimum 26 host. When adding a new host to that group, one of the already present host gets discarded from group. That's because get_endpoint method from ControllerAPIModule, used in group.py module returns pages containing 25 results. In my opinion, group.py should use get_all_endpoint instead to retrieve all group's hosts to preserve. ### AWX version 19.5.1 ### Installation method minikube ### Modifications no ### Ansible version 2.9.20 ### Operating system RHEL 8 ### Web browser _No response_ ### Steps to reproduce Create an Inventory 'I' Create a Group 'G' Create 26 hosts an assign to group 'G' Run a playbook on local to add new host: ``` - name: Add host to group hosts: localhost gather_facts: no connection: local vars_files: - vars/secrets.yml - vars/defaults.yml tasks: - awx.awx.host: name: ""{{ 'testhost%02d' | format(item) }}"" inventory: Test_Inventory tower_host: ""{{ tower_cli_host }}"" tower_oauthtoken: ""{{ tower_oauth_token }}"" state: present loop: ""{{ range(0, 27, 1)|list }}"" - awx.awx.group: name: ""G"" inventory: Test_Inventory tower_host: ""{{ tower_cli_host }}"" tower_oauthtoken: ""{{ tower_oauth_token }}"" validate_certs: true state: present - awx.awx.group: name: ""G"" hosts: ""{{ 'testhost%02d' | format(item) }}"" inventory: Test_Inventory tower_host: ""{{ tower_cli_host }}"" tower_oauthtoken: ""{{ tower_oauth_token }}"" validate_certs: true state: present preserve_existing_hosts: true loop: ""{{ range(0, 27, 1)|list }}"" ``` ### Expected results Group 'G' contains 27 hosts ### Actual results Group 'G' contains 26 hosts ### Additional information No error source-file",no-bug,0.8
11874,awx,https://github.com/ansible/awx/issues/11874,Add help text popovers to /#/execution_environments details fields,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Spawned out of https://github.com/ansible/awx/issues/9215 See /#/settings for how this should work. If you look the details view for a particular settings group you'll see help text popovers next to many (if not all) of the fields. The help text matches up with the fields in the form. We want to bring all the forms/details to parity in this regard. If you see form fields that are missing help text, feel free to add it. Here's a list of details views and fields that have help text in the form but not in the details: **Execution Environment** - Image - Registry Credential",source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file,"Add help text popovers to /#/execution_environments details fields ##### ISSUE TYPE - Feature Idea ##### SUMMARY Spawned out of https://github.com/ansible/awx/issues/9215 See /#/settings for how this should work. If you look the details view for a particular settings group you'll see help text popovers next to many (if not all) of the fields. The help text matches up with the fields in the form. We want to bring all the forms/details to parity in this regard. If you see form fields that are missing help text, feel free to add it. Here's a list of details views and fields that have help text in the form but not in the details: **Execution Environment** - Image - Registry Credential source-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file",no-bug,0.95
4942,awx,https://github.com/ansible/awx/issues/4942,Update template add button to account for workflow options,##### ISSUE TYPE - Bug Report ##### SUMMARY Currently the template add button is hidden/shown based on the options response on `/api/v2/job_templates` _only_. The button should be shown when the user can create a job template _or_ a workflow job template. The options in the dropdown should also hidden/shown based on what the user has permission to do. See this block https://github.com/ansible/awx/blob/devel/awx/ui/client/features/templates/templatesList.controller.js#L54-L56 in the existing application for reference,source-file | source-file,Update template add button to account for workflow options ##### ISSUE TYPE - Bug Report ##### SUMMARY Currently the template add button is hidden/shown based on the options response on `/api/v2/job_templates` _only_. The button should be shown when the user can create a job template _or_ a workflow job template. The options in the dropdown should also hidden/shown based on what the user has permission to do. See this block https://github.com/ansible/awx/blob/devel/awx/ui/client/features/templates/templatesList.controller.js#L54-L56 in the existing application for reference source-file source-file,no-bug,0.8
15076,awx,https://github.com/ansible/awx/issues/15076,Duplicate help text for token expiration settings in edit mode,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Settings > Miscellaneous Authentication > Edit Fields 'Access Token Expiration', 'Refresh Token Expiration', 'Authorization Code Expiration' have the same help message: 'Dictionary for customizing OAuth 2 timeouts, available items are `ACCESS_TOKEN_EXPIRE_SECONDS`, the duration of access tokens in the number of seconds, `AUTHORIZATION_CODE_EXPIRE_SECONDS`, the duration of authorization codes in the number of seconds, and `REFRESH_TOKEN_EXPIRE_SECONDS`, the duration of refresh tokens, after expired access tokens, in the number of seconds.' ### AWX version 22.1.0 ### Select the relevant components - [X] UI - [ ] UI (tech preview) - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method N/A ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to Settings > Miscellaneous Authentication settings 2. Click Edit 3. Check help message of 'Access Token Expiration', 'Refresh Token Expiration', 'Authorization Code Expiration' fields ### Expected results Each field has its own help message ### Actual results All 2 fields have the same help message, namely 'Dictionary for customizing OAuth 2 timeouts, available items are `ACCESS_TOKEN_EXPIRE_SECONDS`, the duration of access tokens in the number of seconds, `AUTHORIZATION_CODE_EXPIRE_SECONDS`, the duration of authorization codes in the number of seconds, and `REFRESH_TOKEN_EXPIRE_SECONDS`, the duration of refresh tokens, after expired access tokens, in the number of seconds.' ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file,"Duplicate help text for token expiration settings in edit mode ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Settings > Miscellaneous Authentication > Edit Fields 'Access Token Expiration', 'Refresh Token Expiration', 'Authorization Code Expiration' have the same help message: 'Dictionary for customizing OAuth 2 timeouts, available items are `ACCESS_TOKEN_EXPIRE_SECONDS`, the duration of access tokens in the number of seconds, `AUTHORIZATION_CODE_EXPIRE_SECONDS`, the duration of authorization codes in the number of seconds, and `REFRESH_TOKEN_EXPIRE_SECONDS`, the duration of refresh tokens, after expired access tokens, in the number of seconds.' ### AWX version 22.1.0 ### Select the relevant components - [X] UI - [ ] UI (tech preview) - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method N/A ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Go to Settings > Miscellaneous Authentication settings 2. Click Edit 3. Check help message of 'Access Token Expiration', 'Refresh Token Expiration', 'Authorization Code Expiration' fields ### Expected results Each field has its own help message ### Actual results All 2 fields have the same help message, namely 'Dictionary for customizing OAuth 2 timeouts, available items are `ACCESS_TOKEN_EXPIRE_SECONDS`, the duration of access tokens in the number of seconds, `AUTHORIZATION_CODE_EXPIRE_SECONDS`, the duration of authorization codes in the number of seconds, and `REFRESH_TOKEN_EXPIRE_SECONDS`, the duration of refresh tokens, after expired access tokens, in the number of seconds.' ### Additional information _No response_ source-file source-file source-file source-file source-file",no-bug,0.9
11442,awx,https://github.com/ansible/awx/issues/11442,Workflow Visualizer making endless API requests with no result,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When a user creates a workflow and saves and is redirected to the visualizer screen, API requests happen endlessly, with no result. Note: I am able to recreate this on an ec2 instance as well as a local build. ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system Fedora 35 ### Web browser Chrome ### Steps to reproduce 1. access the templates page. 2. create a new workflow template. 3. when the redirect to the visualizer happens, you will see the problem. https://user-images.githubusercontent.com/63685497/145466510-0b5de590-ee87-446e-9b58-058ce7bca611.mp4 ### Expected results user would be able to create, save, and launch a workflow. ### Actual results the visualizer is not working properly and submits endless API requests. ### Additional information _No response_",source-file | source-file | source-file | source-file,"Workflow Visualizer making endless API requests with no result ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When a user creates a workflow and saves and is redirected to the visualizer screen, API requests happen endlessly, with no result. Note: I am able to recreate this on an ec2 instance as well as a local build. ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system Fedora 35 ### Web browser Chrome ### Steps to reproduce 1. access the templates page. 2. create a new workflow template. 3. when the redirect to the visualizer happens, you will see the problem. https://user-images.githubusercontent.com/63685497/145466510-0b5de590-ee87-446e-9b58-058ce7bca611.mp4 ### Expected results user would be able to create, save, and launch a workflow. ### Actual results the visualizer is not working properly and submits endless API requests. ### Additional information _No response_ source-file source-file source-file source-file",bug,0.9
9719,awx,https://github.com/ansible/awx/issues/9719,Remove EE field from Project screen,##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove EE field from Project screen. See: https://github.com/ansible/awx/issues/9715 Also: https://github.com/ansible/awx/issues/9189,other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file,Remove EE field from Project screen ##### ISSUE TYPE - Feature Idea ##### SUMMARY Remove EE field from Project screen. See: https://github.com/ansible/awx/issues/9715 Also: https://github.com/ansible/awx/issues/9189 other-file test-file documentation-file other-file test-file other-file test-file other-file other-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file,no-bug,0.9
11982,awx,https://github.com/ansible/awx/issues/11982,Cannot view some notification templates in UI,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary I can view the list of notification templates but get an error trying to navigate to the page for a notification template. ### AWX version 20.1.0 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker on linux ### Modifications no ### Ansible version devel ### Operating system N/A ### Web browser Chrome ### Steps to reproduce I have a notification template that has this data: ```json { ""id"": 60, ""type"": ""notification_template"", ""url"": ""[/api/v2/notification_templates/60/](https://localhost:8043/api/v2/notification_templates/60/)"", ""related"": { ""named_url"": ""[/api/v2/notification_templates/NotificationTemplate (email) - AnswerBeautiful++Organization - GuitarGene/](https://localhost:8043/api/v2/notification_templates/NotificationTemplate%20(email)%20-%20AnswerBeautiful%E6%B7%87++Organization%20-%20GuitarGene%EF%BF%BD/)"", ""created_by"": ""[/api/v2/users/2/](https://localhost:8043/api/v2/users/2/)"", ""modified_by"": ""[/api/v2/users/2/](https://localhost:8043/api/v2/users/2/)"", ""test"": ""[/api/v2/notification_templates/60/test/](https://localhost:8043/api/v2/notification_templates/60/test/)"", ""notifications"": ""[/api/v2/notification_templates/60/notifications/](https://localhost:8043/api/v2/notification_templates/60/notifications/)"", ""copy"": ""[/api/v2/notification_templates/60/copy/](https://localhost:8043/api/v2/notification_templates/60/copy/)"", ""organization"": ""[/api/v2/organizations/211/](https://localhost:8043/api/v2/organizations/211/)"" }, ""summary_fields"": { ""organization"": { ""id"": 211, ""name"": ""Organization - GuitarGene"", ""description"": ""YouDrawerFortuneWeaknessUniversityTitleCityDealImplementConversation"" }, ""created_by"": { ""id"": 2, ""username"": ""alan"", ""first_name"": """", ""last_name"": """" }, ""modified_by"": { ""id"": 2, ""username"": ""alan"", ""first_name"": """", ""last_name"": """" }, ""user_capabilities"": { ""edit"": true, ""delete"": true, ""copy"": true }, ""recent_notifications"": [] }, ""created"": ""2022-03-30T18:51:54.916234Z"", ""modified"": ""2022-03-30T18:51:55.041358Z"", ""name"": ""NotificationTemplate (email) - AnswerBeautiful"", ""description"": ""WomanRoutineSectionEventProtectionDateTitleTeaPrincipleFuneral"", ""organization"": 211, ""notification_type"": ""email"", ""notification_configuration"": { ""host"": ""<redacted>"", ""port"": 587, ""sender"": ""<redacted>"", ""timeout"": 30, ""use_ssl"": false, ""use_tls"": false, ""password"": ""$encrypted$"", ""username"": ""<redacted>"", ""recipients"": [ ""<redacted>"" ] }, ""messages"": { ""error"": { ""body"": ""body_error\n"", ""message"": ""message_error"" }, ""started"": null, ""success"": null, ""workflow_approval"": null } } ``` ### Expected results Able to load page ### Actual results ![Screenshot from 2022-03-30 16-05-33](https://user-images.githubusercontent.com/1385596/160921609-17f4336c-367b-4ec3-a5b6-707ff8c966d9.png) ### Additional information Chrome logs ``` index.js:9 I18nProvider did not render. A call to i18n.activate still needs to happen or forceRenderOnLocaleChange must be set to false. react-dom.production.min.js:216 TypeError: Cannot read properties of null (reading 'message') at RZ (NotificationTemplateDetail.js:450:35) at oo (react-dom.production.min.js:157:137) at Ks (react-dom.production.min.js:267:460) at Ol (react-dom.production.min.js:250:347) at Tl (react-dom.production.min.js:250:278) at El (react-dom.production.min.js:250:138) at yl (react-dom.production.min.js:243:163) at react-dom.production.min.js:123:115 at t.unstable_runWithPriority (scheduler.production.min.js:18:343) at Gi (react-dom.production.min.js:122:325) us @ react-dom.production.min.js:216 react-dom.production.min.js:216 TypeError: Cannot read properties of null (reading 'message') at RZ (NotificationTemplateDetail.js:450:35) at oo (react-dom.production.min.js:157:137) at Ks (react-dom.production.min.js:267:460) at Ol (react-dom.production.min.js:250:347) at Tl (react-dom.production.min.js:250:278) at El (react-dom.production.min.js:250:138) at yl (react-dom.production.min.js:243:163) at react-dom.production.min.js:123:115 at t.unstable_runWithPriority (scheduler.production.min.js:18:343) at Gi (react-dom.production.min.js:122:325) us @ react-dom.production.min.js:216 n.payload @ react-dom.production.min.js:217 fa @ react-dom.production.min.js:130 Vo @ react-dom.production.min.js:184 Ks @ react-dom.production.min.js:269 Ol @ react-dom.production.min.js:250 Tl @ react-dom.production.min.js:250 El @ react-dom.production.min.js:250 yl @ react-dom.production.min.js:243 (anonymous) @ react-dom.production.min.js:123 t.unstable_runWithPriority @ scheduler.production.min.js:18 Gi @ react-dom.production.min.js:122 Zi @ react-dom.production.min.js:123 Ki @ react-dom.production.min.js:122 pl @ react-dom.production.min.js:237 Io @ react-dom.production.min.js:170 (anonymous) @ useRequest.js:44 u @ runtime.js:63 (anonymous) @ runtime.js:294 (anonymous) @ runtime.js:119 i @ asyncToGenerator.js:3 s @ asyncToGenerator.js:25 Promise.then (async) i @ asyncToGenerator.js:13 s @ asyncToGenerator.js:25 (anonymous) @ asyncToGenerator.js:32 (anonymous) @ asyncToGenerator.js:21 (anonymous) @ NotificationTemplate.js:48 Fl @ react-dom.production.min.js:262 t.unstable_runWithPriority @ scheduler.production.min.js:18 Gi @ react-dom.production.min.js:122 Nl @ react-dom.production.min.js:261 yl @ react-dom.production.min.js:243 (anonymous) @ react-dom.production.min.js:123 t.unstable_runWithPriority @ scheduler.production.min.js:18 Gi @ react-dom.production.min.js:122 Zi @ react-dom.production.min.js:123 Ki @ react-dom.production.min.js:122 Re @ react-dom.production.min.js:292 Jt @ react-dom.production.min.js:73 ```",source-file | source-file,"Cannot view some notification templates in UI ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary I can view the list of notification templates but get an error trying to navigate to the page for a notification template. ### AWX version 20.1.0 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method docker on linux ### Modifications no ### Ansible version devel ### Operating system N/A ### Web browser Chrome ### Steps to reproduce I have a notification template that has this data: ```json { ""id"": 60, ""type"": ""notification_template"", ""url"": ""[/api/v2/notification_templates/60/](https://localhost:8043/api/v2/notification_templates/60/)"", ""related"": { ""named_url"": ""[/api/v2/notification_templates/NotificationTemplate (email) - AnswerBeautiful++Organization - GuitarGene/](https://localhost:8043/api/v2/notification_templates/NotificationTemplate%20(email)%20-%20AnswerBeautiful%E6%B7%87++Organization%20-%20GuitarGene%EF%BF%BD/)"", ""created_by"": ""[/api/v2/users/2/](https://localhost:8043/api/v2/users/2/)"", ""modified_by"": ""[/api/v2/users/2/](https://localhost:8043/api/v2/users/2/)"", ""test"": ""[/api/v2/notification_templates/60/test/](https://localhost:8043/api/v2/notification_templates/60/test/)"", ""notifications"": ""[/api/v2/notification_templates/60/notifications/](https://localhost:8043/api/v2/notification_templates/60/notifications/)"", ""copy"": ""[/api/v2/notification_templates/60/copy/](https://localhost:8043/api/v2/notification_templates/60/copy/)"", ""organization"": ""[/api/v2/organizations/211/](https://localhost:8043/api/v2/organizations/211/)"" }, ""summary_fields"": { ""organization"": { ""id"": 211, ""name"": ""Organization - GuitarGene"", ""description"": ""YouDrawerFortuneWeaknessUniversityTitleCityDealImplementConversation"" }, ""created_by"": { ""id"": 2, ""username"": ""alan"", ""first_name"": """", ""last_name"": """" }, ""modified_by"": { ""id"": 2, ""username"": ""alan"", ""first_name"": """", ""last_name"": """" }, ""user_capabilities"": { ""edit"": true, ""delete"": true, ""copy"": true }, ""recent_notifications"": [] }, ""created"": ""2022-03-30T18:51:54.916234Z"", ""modified"": ""2022-03-30T18:51:55.041358Z"", ""name"": ""NotificationTemplate (email) - AnswerBeautiful"", ""description"": ""WomanRoutineSectionEventProtectionDateTitleTeaPrincipleFuneral"", ""organization"": 211, ""notification_type"": ""email"", ""notification_configuration"": { ""host"": ""<redacted>"", ""port"": 587, ""sender"": ""<redacted>"", ""timeout"": 30, ""use_ssl"": false, ""use_tls"": false, ""password"": ""$encrypted$"", ""username"": ""<redacted>"", ""recipients"": [ ""<redacted>"" ] }, ""messages"": { ""error"": { ""body"": ""body_error\n"", ""message"": ""message_error"" }, ""started"": null, ""success"": null, ""workflow_approval"": null } } ``` ### Expected results Able to load page ### Actual results ![Screenshot from 2022-03-30 16-05-33](https://user-images.githubusercontent.com/1385596/160921609-17f4336c-367b-4ec3-a5b6-707ff8c966d9.png) ### Additional information Chrome logs ``` index.js:9 I18nProvider did not render. A call to i18n.activate still needs to happen or forceRenderOnLocaleChange must be set to false. react-dom.production.min.js:216 TypeError: Cannot read properties of null (reading 'message') at RZ (NotificationTemplateDetail.js:450:35) at oo (react-dom.production.min.js:157:137) at Ks (react-dom.production.min.js:267:460) at Ol (react-dom.production.min.js:250:347) at Tl (react-dom.production.min.js:250:278) at El (react-dom.production.min.js:250:138) at yl (react-dom.production.min.js:243:163) at react-dom.production.min.js:123:115 at t.unstable_runWithPriority (scheduler.production.min.js:18:343) at Gi (react-dom.production.min.js:122:325) us @ react-dom.production.min.js:216 react-dom.production.min.js:216 TypeError: Cannot read properties of null (reading 'message') at RZ (NotificationTemplateDetail.js:450:35) at oo (react-dom.production.min.js:157:137) at Ks (react-dom.production.min.js:267:460) at Ol (react-dom.production.min.js:250:347) at Tl (react-dom.production.min.js:250:278) at El (react-dom.production.min.js:250:138) at yl (react-dom.production.min.js:243:163) at react-dom.production.min.js:123:115 at t.unstable_runWithPriority (scheduler.production.min.js:18:343) at Gi (react-dom.production.min.js:122:325) us @ react-dom.production.min.js:216 n.payload @ react-dom.production.min.js:217 fa @ react-dom.production.min.js:130 Vo @ react-dom.production.min.js:184 Ks @ react-dom.production.min.js:269 Ol @ react-dom.production.min.js:250 Tl @ react-dom.production.min.js:250 El @ react-dom.production.min.js:250 yl @ react-dom.production.min.js:243 (anonymous) @ react-dom.production.min.js:123 t.unstable_runWithPriority @ scheduler.production.min.js:18 Gi @ react-dom.production.min.js:122 Zi @ react-dom.production.min.js:123 Ki @ react-dom.production.min.js:122 pl @ react-dom.production.min.js:237 Io @ react-dom.production.min.js:170 (anonymous) @ useRequest.js:44 u @ runtime.js:63 (anonymous) @ runtime.js:294 (anonymous) @ runtime.js:119 i @ asyncToGenerator.js:3 s @ asyncToGenerator.js:25 Promise.then (async) i @ asyncToGenerator.js:13 s @ asyncToGenerator.js:25 (anonymous) @ asyncToGenerator.js:32 (anonymous) @ asyncToGenerator.js:21 (anonymous) @ NotificationTemplate.js:48 Fl @ react-dom.production.min.js:262 t.unstable_runWithPriority @ scheduler.production.min.js:18 Gi @ react-dom.production.min.js:122 Nl @ react-dom.production.min.js:261 yl @ react-dom.production.min.js:243 (anonymous) @ react-dom.production.min.js:123 t.unstable_runWithPriority @ scheduler.production.min.js:18 Gi @ react-dom.production.min.js:122 Zi @ react-dom.production.min.js:123 Ki @ react-dom.production.min.js:122 Re @ react-dom.production.min.js:292 Jt @ react-dom.production.min.js:73 ``` source-file source-file",no-bug,0.8
5988,awx,https://github.com/ansible/awx/issues/5988,Ansible-Router ACL Changes,"<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Bug Report ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API ##### SUMMARY Router ACL Changes - Ansible playbook Execution  While updating the below Router ACL changes in router, The playbook execution status was changed, but the changes are not replicated in Router and not getting any error message. Please find the below changes. Changes: If the existing rule sequence number is modified for new rule with same sequence number. Manual configuration  while updating the same rule change in manual configuration. Im getting error message % Duplicate sequence number ##### ENVIRONMENT * Ansible version: 2.8.7 ##### STEPS TO REPRODUCE <!-- For bugs, please show exactly how to reproduce the problem. For new features, show how the feature would be used. --> ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- For bug reports, what actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"Ansible-Router ACL Changes <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE <!--- Pick one below and delete the rest: --> - Bug Report ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - API ##### SUMMARY Router ACL Changes - Ansible playbook Execution  While updating the below Router ACL changes in router, The playbook execution status was changed, but the changes are not replicated in Router and not getting any error message. Please find the below changes. Changes: If the existing rule sequence number is modified for new rule with same sequence number. Manual configuration  while updating the same rule change in manual configuration. Im getting error message % Duplicate sequence number ##### ENVIRONMENT * Ansible version: 2.8.7 ##### STEPS TO REPRODUCE <!-- For bugs, please show exactly how to reproduce the problem. For new features, show how the feature would be used. --> ##### EXPECTED RESULTS <!-- For bug reports, what did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- For bug reports, what actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.8
7657,awx,https://github.com/ansible/awx/issues/7657,Add ability to cancel a job from details/output view while job is running,"##### ISSUE TYPE - Feature Idea ##### SUMMARY It looks like we're currently _always_ showing the delete button on a job (rbac permitted): <img width=""1381"" alt=""Screen Shot 2020-07-20 at 10 02 36 AM"" src=""https://user-images.githubusercontent.com/9889020/87947367-35be4a80-ca71-11ea-9a49-f0167f539938.png""> When a job is pending/waiting/running then we should be showing a Cancel button rather than the delete button. You can see the logic outlined in the old app here: https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/details.partial.html#L10-L41",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | source-file | test-file,"Add ability to cancel a job from details/output view while job is running ##### ISSUE TYPE - Feature Idea ##### SUMMARY It looks like we're currently _always_ showing the delete button on a job (rbac permitted): <img width=""1381"" alt=""Screen Shot 2020-07-20 at 10 02 36 AM"" src=""https://user-images.githubusercontent.com/9889020/87947367-35be4a80-ca71-11ea-9a49-f0167f539938.png""> When a job is pending/waiting/running then we should be showing a Cancel button rather than the delete button. You can see the logic outlined in the old app here: https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/details.partial.html#L10-L41 source-file source-file source-file source-file source-file source-file source-file source-file other-file test-file other-file other-file other-file other-file test-file other-file other-file source-file source-file test-file",no-bug,0.9
6675,awx,https://github.com/ansible/awx/issues/6675,Isolated runs choke on rsync's .~tmp~ directories,"##### ISSUE TYPE - Bug Report ##### SUMMARY In some circumstances, running an Ansible playbook as an isolated job causes a spurious failure (despite all individual Ansible tasks succeeding), because a stray `.~tmp~` directory pops up in an unexpected place. ##### ENVIRONMENT * AWX version: AWX 10.0.0 * AWX install method: openshift * Ansible version: 2.9.5 ##### STEPS TO REPRODUCE - Set `AWX_RESOURCE_PROFILING_ENABLED = True` - Keep running isolated jobs until the problem shows up ##### EXPECTED RESULTS All such jobs should succeed or fail depending solely on the underlying Ansible tasks' outcomes ##### ACTUAL RESULTS Here is an example stack trace (also found in #6280): ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1468, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 422, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 293, in consume_events open(os.path.join(events_path, event), 'r') IsADirectoryError: [Errno 21] Is a directory: '/tmp/awx_754_hs8ylxru/artifacts/754/job_events/.~tmp~' ```",source-file,"Isolated runs choke on rsync's .~tmp~ directories ##### ISSUE TYPE - Bug Report ##### SUMMARY In some circumstances, running an Ansible playbook as an isolated job causes a spurious failure (despite all individual Ansible tasks succeeding), because a stray `.~tmp~` directory pops up in an unexpected place. ##### ENVIRONMENT * AWX version: AWX 10.0.0 * AWX install method: openshift * Ansible version: 2.9.5 ##### STEPS TO REPRODUCE - Set `AWX_RESOURCE_PROFILING_ENABLED = True` - Keep running isolated jobs until the problem shows up ##### EXPECTED RESULTS All such jobs should succeed or fail depending solely on the underlying Ansible tasks' outcomes ##### ACTUAL RESULTS Here is an example stack trace (also found in #6280): ``` Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1468, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 422, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 293, in consume_events open(os.path.join(events_path, event), 'r') IsADirectoryError: [Errno 21] Is a directory: '/tmp/awx_754_hs8ylxru/artifacts/754/job_events/.~tmp~' ``` source-file",no-bug,0.9
9997,awx,https://github.com/ansible/awx/issues/9997,Visual differences on the same component between dev and production builds,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Looking at the visual tests diffs we realized that there is a visual diff between the same component on dev and prod builds This may or may not be introduced by https://github.com/ansible/awx/pull/9649 ##### ENVIRONMENT * Devel ##### STEPS TO REPRODUCE Run the dev server and production build and compare the component above Before: ![image](https://user-images.githubusercontent.com/12464858/115785371-bbbb4900-a395-11eb-95e8-ef8e4f944c20.png) After: ![image (1)](https://user-images.githubusercontent.com/12464858/115785367-bb22b280-a395-11eb-89a3-ab0308fd49d2.png) Note the missing border of the select component",other-file | other-file | other-file | other-file | other-file | other-file,"Visual differences on the same component between dev and production builds <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Looking at the visual tests diffs we realized that there is a visual diff between the same component on dev and prod builds This may or may not be introduced by https://github.com/ansible/awx/pull/9649 ##### ENVIRONMENT * Devel ##### STEPS TO REPRODUCE Run the dev server and production build and compare the component above Before: ![image](https://user-images.githubusercontent.com/12464858/115785371-bbbb4900-a395-11eb-95e8-ef8e4f944c20.png) After: ![image (1)](https://user-images.githubusercontent.com/12464858/115785367-bb22b280-a395-11eb-89a3-ab0308fd49d2.png) Note the missing border of the select component other-file other-file other-file other-file other-file other-file",no-bug,0.9
6157,awx,https://github.com/ansible/awx/issues/6157,documentation to install AWX that supports isolated node configuration.,"##### ISSUE TYPE Can you please provide the documentation to install AWX that supports isolated node configuration. as this https://github.com/ansible/awx article does not supported isolated node. please you provide other documentation that supports isolated node. ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | source-file,"documentation to install AWX that supports isolated node configuration. ##### ISSUE TYPE Can you please provide the documentation to install AWX that supports isolated node configuration. as this https://github.com/ansible/awx article does not supported isolated node. please you provide other documentation that supports isolated node. ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file source-file",no-bug,0.9
8199,awx,https://github.com/ansible/awx/issues/8199,Not setting Container Groups credential crashes UI,"##### ISSUE TYPE - Bug Report ##### SUMMARY 1. go to container groups -> Add 2. Fill in the name, turn on pod spec override but don't set a credential. 3. Try to save. the page will crash: ![Screenshot from 2020-09-22 11-27-55](https://user-images.githubusercontent.com/19942822/93903606-db3aa800-fcc6-11ea-9732-a260070e0c75.png) assigning @nixocio because he is familiar with this code.",other-file | other-file,"Not setting Container Groups credential crashes UI ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. go to container groups -> Add 2. Fill in the name, turn on pod spec override but don't set a credential. 3. Try to save. the page will crash: ![Screenshot from 2020-09-22 11-27-55](https://user-images.githubusercontent.com/19942822/93903606-db3aa800-fcc6-11ea-9732-a260070e0c75.png) assigning @nixocio because he is familiar with this code. other-file other-file",no-bug,0.9
6669,awx,https://github.com/ansible/awx/issues/6669,Error indication needs to be next to save button on forms.,"##### ISSUE TYPE - Bug Report ##### SUMMARY Simply put, if there is a long form (like the Job Template form) and there is an error on a field out of view, the user only sees a ""Save"" button that doesn't appear to do anything. In this screenshot, the name is missing, but the user has no way of seeing it, and the save button doesn't look like it's doing anything either. We should have a message that says ""please correct form errors"" or something similar next to the button. ![Screenshot_20200409_150913](https://user-images.githubusercontent.com/19942822/78931986-c0f07300-7a74-11ea-908f-1b2f5ac2564d.png) ##### STEPS TO REPRODUCE 1. Make a job template form where the name is missing. 2. Try to click the save button.",source-file,"Error indication needs to be next to save button on forms. ##### ISSUE TYPE - Bug Report ##### SUMMARY Simply put, if there is a long form (like the Job Template form) and there is an error on a field out of view, the user only sees a ""Save"" button that doesn't appear to do anything. In this screenshot, the name is missing, but the user has no way of seeing it, and the save button doesn't look like it's doing anything either. We should have a message that says ""please correct form errors"" or something similar next to the button. ![Screenshot_20200409_150913](https://user-images.githubusercontent.com/19942822/78931986-c0f07300-7a74-11ea-908f-1b2f5ac2564d.png) ##### STEPS TO REPRODUCE 1. Make a job template form where the name is missing. 2. Try to click the save button. source-file",no-bug,0.9
4936,awx,https://github.com/ansible/awx/issues/4936,Project update fails with SVN and repo containing UTF-8 characters,"##### ISSUE TYPE - Bug Report ##### SUMMARY The ansible subversion module does not handle repo containing UTF8 properly. This is because no matter what your system locale environments are, the module will override them[1][2] and not honor them. ``` -bash-4.2$ LANG=C /usr/bin/svn --non-interactive --trust-server-cert --no-auth-cache checkout -r HEAD https://github.com/ansible/test-playbooks /var/lib/awx/projects/foo svn: E000022: Error converting entry in directory '/var/lib/awx/projects/toto2/trunk' to UTF-8 svn: E000022: Can't convert string from native encoding to 'UTF-8': svn: E000022: utf-8-?\228?\137?\170?\225?\137?\146?\236?\185?\184?\226?\177?\183?\234?\175?\148?\229?\153?\130?\237?\143?\132?\232?\148?\134?\227?\170?\151?\232?\188?\165.yml ``` [1] https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/source_control/subversion.py#L264 [2] https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/basic.py#L2526-L2528 ##### ENVIRONMENT - N/A ##### STEPS TO REPRODUCE * Create a project with the above mention link and try to do a project update ##### EXPECTED RESULTS * Project sync to finish successfully ##### ACTUAL RESULTS * Project sync fails ##### ADDITIONAL INFORMATION * N/A",config-file | config-file | source-file,"Project update fails with SVN and repo containing UTF-8 characters ##### ISSUE TYPE - Bug Report ##### SUMMARY The ansible subversion module does not handle repo containing UTF8 properly. This is because no matter what your system locale environments are, the module will override them[1][2] and not honor them. ``` -bash-4.2$ LANG=C /usr/bin/svn --non-interactive --trust-server-cert --no-auth-cache checkout -r HEAD https://github.com/ansible/test-playbooks /var/lib/awx/projects/foo svn: E000022: Error converting entry in directory '/var/lib/awx/projects/toto2/trunk' to UTF-8 svn: E000022: Can't convert string from native encoding to 'UTF-8': svn: E000022: utf-8-?\228?\137?\170?\225?\137?\146?\236?\185?\184?\226?\177?\183?\234?\175?\148?\229?\153?\130?\237?\143?\132?\232?\148?\134?\227?\170?\151?\232?\188?\165.yml ``` [1] https://github.com/ansible/ansible/blob/devel/lib/ansible/modules/source_control/subversion.py#L264 [2] https://github.com/ansible/ansible/blob/devel/lib/ansible/module_utils/basic.py#L2526-L2528 ##### ENVIRONMENT - N/A ##### STEPS TO REPRODUCE * Create a project with the above mention link and try to do a project update ##### EXPECTED RESULTS * Project sync to finish successfully ##### ACTUAL RESULTS * Project sync fails ##### ADDITIONAL INFORMATION * N/A config-file config-file source-file",no-bug,0.9
9806,awx,https://github.com/ansible/awx/issues/9806,"irc.freenode.net changed to webchat.freenode.net, add this to README.",Please change all mentions of irc.freenode.net to webchat.freenode.net in the README since it appeared to have moved,documentation-file | documentation-file,"irc.freenode.net changed to webchat.freenode.net, add this to README. Please change all mentions of irc.freenode.net to webchat.freenode.net in the README since it appeared to have moved documentation-file documentation-file",no-bug,0.95
4953,awx,https://github.com/ansible/awx/issues/4953,Link to instance group from org details when present,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""1481"" alt=""Screen Shot 2019-10-09 at 10 17 06 AM"" src=""https://user-images.githubusercontent.com/9889020/66489703-07d9bd80-ea7e-11e9-8e2d-c210560f30b3.png""> We don't currently do this in the existing application but with this new Details pattern I'm wondering if we should link out to all linkable resources like Instance Groups.",other-file,"Link to instance group from org details when present ##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""1481"" alt=""Screen Shot 2019-10-09 at 10 17 06 AM"" src=""https://user-images.githubusercontent.com/9889020/66489703-07d9bd80-ea7e-11e9-8e2d-c210560f30b3.png""> We don't currently do this in the existing application but with this new Details pattern I'm wondering if we should link out to all linkable resources like Instance Groups. other-file",no-bug,0.9
6191,awx,https://github.com/ansible/awx/issues/6191,(WFJT | maybe others) tab switching reloads entire panel,##### ISSUE TYPE - Bug Report ##### SUMMARY We're not loading / unloading the correct set of components when switching between tabs on some of our views. Best illustrated by comparison - see gifs below. Regular JT: ![template_tab_load](https://user-images.githubusercontent.com/9753817/76010005-27b3c700-5ee0-11ea-90fc-339b0cd2e6bd.gif) WFJT: ![wfjt_tab_load](https://user-images.githubusercontent.com/9753817/76009412-2766fc00-5edf-11ea-9111-86ca57e98597.gif),other-file | other-file | other-file,(WFJT | maybe others) tab switching reloads entire panel ##### ISSUE TYPE - Bug Report ##### SUMMARY We're not loading / unloading the correct set of components when switching between tabs on some of our views. Best illustrated by comparison - see gifs below. Regular JT: ![template_tab_load](https://user-images.githubusercontent.com/9753817/76010005-27b3c700-5ee0-11ea-90fc-339b0cd2e6bd.gif) WFJT: ![wfjt_tab_load](https://user-images.githubusercontent.com/9753817/76009412-2766fc00-5edf-11ea-9111-86ca57e98597.gif) other-file other-file other-file,no-bug,0.9
9911,awx,https://github.com/ansible/awx/issues/9911,Credentials form not displaying error message on validate,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Error message not being displayed for empty fields, not that this is not happening for some types. We have broken tests due this change, may or may not be introduced by https://github.com/ansible/awx/pull/9869 ##### STEPS TO REPRODUCE 1. Select a Google Compute Engine credential type 2. hit save button with empty required fields ##### EXPECTED RESULTS Error message to be displayed ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ![image](https://user-images.githubusercontent.com/12464858/114786875-3f9d8180-9d55-11eb-9d50-b8303c92c738.png)",other-file | other-file | other-file,"Credentials form not displaying error message on validate <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Error message not being displayed for empty fields, not that this is not happening for some types. We have broken tests due this change, may or may not be introduced by https://github.com/ansible/awx/pull/9869 ##### STEPS TO REPRODUCE 1. Select a Google Compute Engine credential type 2. hit save button with empty required fields ##### EXPECTED RESULTS Error message to be displayed ##### ACTUAL RESULTS <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> ![image](https://user-images.githubusercontent.com/12464858/114786875-3f9d8180-9d55-11eb-9d50-b8303c92c738.png) other-file other-file other-file",no-bug,0.9
6366,awx,https://github.com/ansible/awx/issues/6366,[awx-pf] Can't edit job templates,"##### ISSUE TYPE - Bug Report ##### SUMMARY Tried to edit the name and description of a job template. It doesn't change when I click save. Reproduction: 1. Make a job template 2. Try to edit various things about it. pretty straightforward. I don't see any 400s or anything, though feel free to poke around and see what you find.",source-file | test-file,"[awx-pf] Can't edit job templates ##### ISSUE TYPE - Bug Report ##### SUMMARY Tried to edit the name and description of a job template. It doesn't change when I click save. Reproduction: 1. Make a job template 2. Try to edit various things about it. pretty straightforward. I don't see any 400s or anything, though feel free to poke around and see what you find. source-file test-file",bug,0.7
14064,awx,https://github.com/ansible/awx/issues/14064,Add an argument to control the API call frequency with --monitor or --wait,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary I would like to propose the addition of a new argument in the AWX project to provide users with the ability to control the frequency of API calls when utilizing the --monitor or --wait options. Currently, these options trigger API calls every 0.25 seconds, which can lead to security alerts. ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [X] CLI - [ ] Other ### Steps to reproduce 1. Launch a job using the AWX command-line interface. 2. Include the --monitor or --wait options in the command to enable monitoring or waiting for job completion. 3. Observe the API calls being made every 0.25 seconds. ### Current results When using the AWX command-line interface with the --monitor or --wait options, the API calls are made every 0.25 seconds. This frequent API call behavior can trigger security alerts in certain environments. ### Sugested feature result The proposed feature aims to introduce a customizable argument, such as --api-interval, that would allow users to define the desired interval between API calls when utilizing the --monitor or --wait options in AWX. By incorporating this feature, administrators would have the flexibility to adjust the frequency of API calls according to their specific environment requirements, thereby reducing the occurrence of security alerts and improving the overall user experience. ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file,"Add an argument to control the API call frequency with --monitor or --wait ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary I would like to propose the addition of a new argument in the AWX project to provide users with the ability to control the frequency of API calls when utilizing the --monitor or --wait options. Currently, these options trigger API calls every 0.25 seconds, which can lead to security alerts. ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [X] CLI - [ ] Other ### Steps to reproduce 1. Launch a job using the AWX command-line interface. 2. Include the --monitor or --wait options in the command to enable monitoring or waiting for job completion. 3. Observe the API calls being made every 0.25 seconds. ### Current results When using the AWX command-line interface with the --monitor or --wait options, the API calls are made every 0.25 seconds. This frequent API call behavior can trigger security alerts in certain environments. ### Sugested feature result The proposed feature aims to introduce a customizable argument, such as --api-interval, that would allow users to define the desired interval between API calls when utilizing the --monitor or --wait options in AWX. By incorporating this feature, administrators would have the flexibility to adjust the frequency of API calls according to their specific environment requirements, thereby reducing the occurrence of security alerts and improving the overall user experience. ### Additional information _No response_ source-file source-file source-file source-file source-file source-file",no-bug,0.9
13234,awx,https://github.com/ansible/awx/issues/13234,AWX receptor issue with verifysignature.,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Trying todo a healthcheck on the remote execution node after upgrading from 21.8.0 -> 21.9.0. Got this error in the UI: ``` Remote error: ERROR: could not parse response: ERROR: could not verify signature: signature is empty ``` Did a reinstall of the remote execution node. After which it failed to start. ``` # /usr/bin/receptor -c /etc/receptor/receptor.conf Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` Finally i found out the root cause: ``` # grep verifysignature /etc/receptor/receptor.conf verifysignature: ``` Removing this config makes everything working again. Setting it to true makes the node happy but not AWX. ### AWX version AWX 21.9.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version ansible [core 2.12.2] ### Operating system RHEL 8.6 ### Web browser Firefox ### Steps to reproduce Trying todo a healthcheck on the remote execution node after upgrading from 21.8.0 -> 21.9.0. Got this error in the UI: ``` Remote error: ERROR: could not parse response: ERROR: could not verify signature: signature is empty ``` Did a reinstall of the remote execution node. After which it failed to start. ``` # /usr/bin/receptor -c /etc/receptor/receptor.conf Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` Finally i found out the root cause: ``` # grep verifysignature /etc/receptor/receptor.conf verifysignature: ``` Removing this config makes everything working again. Setting it to true makes the node happy but not AWX. ### Expected results Remote execution node turning up green in UI. ### Actual results Red ### Additional information receptor.log ``` Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ```,config-file | config-file,AWX receptor issue with verifysignature. ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Trying todo a healthcheck on the remote execution node after upgrading from 21.8.0 -> 21.9.0. Got this error in the UI: ``` Remote error: ERROR: could not parse response: ERROR: could not verify signature: signature is empty ``` Did a reinstall of the remote execution node. After which it failed to start. ``` # /usr/bin/receptor -c /etc/receptor/receptor.conf Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` Finally i found out the root cause: ``` # grep verifysignature /etc/receptor/receptor.conf verifysignature: ``` Removing this config makes everything working again. Setting it to true makes the node happy but not AWX. ### AWX version AWX 21.9.0 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [X] Other ### Installation method kubernetes ### Modifications no ### Ansible version ansible [core 2.12.2] ### Operating system RHEL 8.6 ### Web browser Firefox ### Steps to reproduce Trying todo a healthcheck on the remote execution node after upgrading from 21.8.0 -> 21.9.0. Got this error in the UI: ``` Remote error: ERROR: could not parse response: ERROR: could not verify signature: signature is empty ``` Did a reinstall of the remote execution node. After which it failed to start. ``` # /usr/bin/receptor -c /etc/receptor/receptor.conf Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` Finally i found out the root cause: ``` # grep verifysignature /etc/receptor/receptor.conf verifysignature: ``` Removing this config makes everything working again. Setting it to true makes the node happy but not AWX. ### Expected results Remote execution node turning up green in UI. ### Actual results Red ### Additional information receptor.log ``` Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil Error: error loading config file: error setting field verifysignature in command work-command: value cannot be nil ``` config-file config-file,no-bug,0.9
10404,awx,https://github.com/ansible/awx/issues/10404,Role access modal save button sometimes unexpectedly visible on pages other than last,"##### ISSUE TYPE - Bug Report ##### SUMMARY When adding user or team roles, the `save` button isn't replaced by `next` after clicking back from the last page. ##### STEPS TO REPRODUCE - navigate to the teams list - open the details for a team and go to the access tab - click `add` to open the role access modal - on the ""Add Roles"" modal: - (wizard step 1) select ""Users"", click next - (wizard step 2) select a user, click next - (wizard step 3) click back ##### EXPECTED RESULTS - User is returned to step 2 of the wizard - The `next` button should be visible and usable, as it was before ##### ACTUAL RESULTS - User is returned to step 2 of the wizard :heavy_check_mark: - The `next` button isn't visible, it still shows a `save` button. :x:. ##### ADDITIONAL INFORMATION ![team_access](https://user-images.githubusercontent.com/9753817/121373765-58698400-c90d-11eb-8f52-7bb1b8c877ed.gif)",other-file | test-file,"Role access modal save button sometimes unexpectedly visible on pages other than last ##### ISSUE TYPE - Bug Report ##### SUMMARY When adding user or team roles, the `save` button isn't replaced by `next` after clicking back from the last page. ##### STEPS TO REPRODUCE - navigate to the teams list - open the details for a team and go to the access tab - click `add` to open the role access modal - on the ""Add Roles"" modal: - (wizard step 1) select ""Users"", click next - (wizard step 2) select a user, click next - (wizard step 3) click back ##### EXPECTED RESULTS - User is returned to step 2 of the wizard - The `next` button should be visible and usable, as it was before ##### ACTUAL RESULTS - User is returned to step 2 of the wizard :heavy_check_mark: - The `next` button isn't visible, it still shows a `save` button. :x:. ##### ADDITIONAL INFORMATION ![team_access](https://user-images.githubusercontent.com/9753817/121373765-58698400-c90d-11eb-8f52-7bb1b8c877ed.gif) other-file test-file",no-bug,0.9
5326,awx,https://github.com/ansible/awx/issues/5326,Container group execution throws an exception certificate authority data is omitted.,"<img width=""931"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/68881287-dd150180-06da-11ea-9a14-fdef299b8906.png""> ```python Traceback (most recent call last): File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 55, in list_active_jobs for pod in pm.kube_api.list_namespaced_pod( File ""/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py"", line 80, in __get__ res = instance.__dict__[self.name] = self.func(instance) File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 91, in kube_api config_dict=self.kube_config File ""/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py"", line 80, in __get__ res = instance.__dict__[self.name] = self.func(instance) File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 83, in kube_config return generate_tmp_kube_config(self.credential, self.namespace) File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 178, in generate_tmp_kube_config credential.get_input('ssl_ca_cert').encode() # encode to bytes File ""/awx_devel/awx/main/models/credential/__init__.py"", line 288, in get_input raise AttributeError AttributeError ```",source-file | source-file | source-file | source-file | source-file | source-file,"Container group execution throws an exception certificate authority data is omitted. <img width=""931"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/68881287-dd150180-06da-11ea-9a14-fdef299b8906.png""> ```python Traceback (most recent call last): File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 55, in list_active_jobs for pod in pm.kube_api.list_namespaced_pod( File ""/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py"", line 80, in __get__ res = instance.__dict__[self.name] = self.func(instance) File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 91, in kube_api config_dict=self.kube_config File ""/venv/awx/lib64/python3.6/site-packages/django/utils/functional.py"", line 80, in __get__ res = instance.__dict__[self.name] = self.func(instance) File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 83, in kube_config return generate_tmp_kube_config(self.credential, self.namespace) File ""/awx_devel/awx/main/scheduler/kubernetes.py"", line 178, in generate_tmp_kube_config credential.get_input('ssl_ca_cert').encode() # encode to bytes File ""/awx_devel/awx/main/models/credential/__init__.py"", line 288, in get_input raise AttributeError AttributeError ``` source-file source-file source-file source-file source-file source-file",no-bug,0.9
6280,awx,https://github.com/ansible/awx/issues/6280,Error running job in instance container,"##### ISSUE TYPE - Bug Report ##### SUMMARY When running a job in a container group the job returns with status error and a stack trace in the error details field. The same Job runs perfectly when not run in a container group. status: error error details: `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1401, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 432, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events(dispatcher) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 306, in consume_events event_data.setdefault(self.event_data_key, self.instance.id) UnboundLocalError: local variable 'event_data' referenced before assignment` ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: kubernetes * Ansible version: 2.9.5 * Operating System: linux * Web Browser: chromium ##### STEPS TO REPRODUCE setup a job template in a container group and run it. This error does not always happen it seems to only happen against specific inventories. ##### EXPECTED RESULTS I expected the job to return with no error as it does when not run in a container-instance. ##### ACTUAL RESULTS status: error error details: `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1401, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 432, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events(dispatcher) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 306, in consume_events event_data.setdefault(self.event_data_key, self.instance.id) UnboundLocalError: local variable 'event_data' referenced before assignment` ##### ADDITIONAL INFORMATION Here is some more info from the logs: ``` 2020-03-12 23:43:10,040 ERROR awx.isolated.manager.playbooks PLAY [Poll for status of active job.] ****************************************** TASK [Determine if daemon process is alive.] *********************************** changed: [awx-job-164] TASK [Copy artifacts from the isolated host.] ********************************** skipping: [awx-job-164] TASK [Copy daemon log from the isolated host] ********************************** skipping: [awx-job-164] TASK [Copy artifacts from pod] ************************************************* 2020-03-12 23:43:10,042 ERROR awx.main.tasks job 164 (running) Exception occurred while running task Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1401, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 432, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events(dispatcher) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 294, in consume_events open(os.path.join(events_path, event), 'r') IsADirectoryError: [Errno 21] Is a directory: '/tmp/awx_164_pojd2p9l/artifacts/164/job_events/.~tmp~' 2020-03-12 23:43:10,044 DEBUG awx.main.tasks job 164 (running) finished running, producing 0 events. ```",source-file,"Error running job in instance container ##### ISSUE TYPE - Bug Report ##### SUMMARY When running a job in a container group the job returns with status error and a stack trace in the error details field. The same Job runs perfectly when not run in a container group. status: error error details: `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1401, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 432, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events(dispatcher) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 306, in consume_events event_data.setdefault(self.event_data_key, self.instance.id) UnboundLocalError: local variable 'event_data' referenced before assignment` ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: kubernetes * Ansible version: 2.9.5 * Operating System: linux * Web Browser: chromium ##### STEPS TO REPRODUCE setup a job template in a container group and run it. This error does not always happen it seems to only happen against specific inventories. ##### EXPECTED RESULTS I expected the job to return with no error as it does when not run in a container-instance. ##### ACTUAL RESULTS status: error error details: `Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1401, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 432, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events(dispatcher) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 306, in consume_events event_data.setdefault(self.event_data_key, self.instance.id) UnboundLocalError: local variable 'event_data' referenced before assignment` ##### ADDITIONAL INFORMATION Here is some more info from the logs: ``` 2020-03-12 23:43:10,040 ERROR awx.isolated.manager.playbooks PLAY [Poll for status of active job.] ****************************************** TASK [Determine if daemon process is alive.] *********************************** changed: [awx-job-164] TASK [Copy artifacts from the isolated host.] ********************************** skipping: [awx-job-164] TASK [Copy daemon log from the isolated host] ********************************** skipping: [awx-job-164] TASK [Copy artifacts from pod] ************************************************* 2020-03-12 23:43:10,042 ERROR awx.main.tasks job 164 (running) Exception occurred while running task Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 1401, in run ident=str(self.instance.pk)) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 432, in run status, rc = self.check() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 241, in check self.consume_events(dispatcher) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/isolated/manager.py"", line 294, in consume_events open(os.path.join(events_path, event), 'r') IsADirectoryError: [Errno 21] Is a directory: '/tmp/awx_164_pojd2p9l/artifacts/164/job_events/.~tmp~' 2020-03-12 23:43:10,044 DEBUG awx.main.tasks job 164 (running) finished running, producing 0 events. ``` source-file",no-bug,0.9
4781,awx,https://github.com/ansible/awx/issues/4781,workflow_job_template_nodes POST authentication issuees,"##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to POST to workflow_job_template_nodes using basic auth and/or token-auth AWX replies with 401 failure. `awx_web | 2019-09-19 08:40:32,754 WARNING awx.api.generics status 401 received by user AnonymousUser attempting to access /api/v2/workflow_job_template_nodes/ from XXX.XXX.XXX.XXX awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | [pid: 153|app: 0|req: 57/208] XXX.XXX.XXX.XXX () {38 vars in 568 bytes} [Thu Sep 19 08:40:32 2019] POST /api/v2/workflow_job_template_nodes/ => generated 140 bytes in 74 msecs (HTTP/1.1 400) 8 headers in 246 bytes (1 switches on core 0) awx_web | XXX.XXX.XXX.XXX - - [19/Sep/2019:08:40:32 +0000] ""POST /api/v2/workflow_job_template_nodes/ HTTP/1.1"" 400 140 ""-"" ""curl/7.54.0"" ""-""` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.6 * Operating System: CentOS * Web Browser: Curl 7.54 ##### STEPS TO REPRODUCE 0. nodes.json `{ { ""type"": ""workflow_job_template_node"", ""workflow_job_template"": { ""id"": 1238, ""name"": ""DNS WF"", ""description"": """" }, ""unified_job_template"": { ""id"": 820, ""name"": ""template-name"", ""unified_job_type"": ""job"" } ""extra_data"": {}, ""inventory"": null, ""scm_branch"": null, ""job_type"": null, ""job_tags"": """", ""skip_tags"": null, ""limit"": """", ""diff_mode"": null, ""verbosity"": null, ""workflow_job_template"": 1238, ""unified_job_template"": 820, ""success_nodes"": [], ""failure_nodes"": [], ""always_nodes"": [] } } ` 1. `curl -vvv -f -H 'Authorization: Token XXXX' -u username:password -H 'Content-Type: application/json' -XPOST http://awxhost/api/v2/workflow_job_template_nodes/ -d @nodes.json` ##### EXPECTED RESULTS Creation of nodes for related workflow ##### ACTUAL RESULTS Authorization failure. Client: ``` * The requested URL returned error: 400 Bad Request * stopped the pause stream! 100 706 0 0 100 706 0 7887 --:--:-- --:--:-- --:--:-- 7932 * Closing connection 0 curl: (22) The requested URL returned error: 400 Bad Request ``` Server: ``awx_web | 2019-09-19 08:40:32,754 WARNING awx.api.generics status 401 received by user AnonymousUser attempting to access /api/v2/workflow_job_template_nodes/ from XXX.XXX.XXX.XXX awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | [pid: 153|app: 0|req: 57/208] XXX.XXX.XXX.XXX () {38 vars in 568 bytes} [Thu Sep 19 08:40:32 2019] POST /api/v2/workflow_job_template_nodes/ => generated 140 bytes in 74 msecs (HTTP/1.1 400) 8 headers in 246 bytes (1 switches on core 0) awx_web | XXX.XXX.XXX.XXX - - [19/Sep/2019:08:40:32 +0000] ""POST /api/v2/workflow_job_template_nodes/ HTTP/1.1"" 400 140 ""-"" ""curl/7.54.0"" ""-""`` ##### ADDITIONAL INFORMATION",source-file,"workflow_job_template_nodes POST authentication issuees ##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to POST to workflow_job_template_nodes using basic auth and/or token-auth AWX replies with 401 failure. `awx_web | 2019-09-19 08:40:32,754 WARNING awx.api.generics status 401 received by user AnonymousUser attempting to access /api/v2/workflow_job_template_nodes/ from XXX.XXX.XXX.XXX awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | [pid: 153|app: 0|req: 57/208] XXX.XXX.XXX.XXX () {38 vars in 568 bytes} [Thu Sep 19 08:40:32 2019] POST /api/v2/workflow_job_template_nodes/ => generated 140 bytes in 74 msecs (HTTP/1.1 400) 8 headers in 246 bytes (1 switches on core 0) awx_web | XXX.XXX.XXX.XXX - - [19/Sep/2019:08:40:32 +0000] ""POST /api/v2/workflow_job_template_nodes/ HTTP/1.1"" 400 140 ""-"" ""curl/7.54.0"" ""-""` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.6 * Operating System: CentOS * Web Browser: Curl 7.54 ##### STEPS TO REPRODUCE 0. nodes.json `{ { ""type"": ""workflow_job_template_node"", ""workflow_job_template"": { ""id"": 1238, ""name"": ""DNS WF"", ""description"": """" }, ""unified_job_template"": { ""id"": 820, ""name"": ""template-name"", ""unified_job_type"": ""job"" } ""extra_data"": {}, ""inventory"": null, ""scm_branch"": null, ""job_type"": null, ""job_tags"": """", ""skip_tags"": null, ""limit"": """", ""diff_mode"": null, ""verbosity"": null, ""workflow_job_template"": 1238, ""unified_job_template"": 820, ""success_nodes"": [], ""failure_nodes"": [], ""always_nodes"": [] } } ` 1. `curl -vvv -f -H 'Authorization: Token XXXX' -u username:password -H 'Content-Type: application/json' -XPOST http://awxhost/api/v2/workflow_job_template_nodes/ -d @nodes.json` ##### EXPECTED RESULTS Creation of nodes for related workflow ##### ACTUAL RESULTS Authorization failure. Client: ``` * The requested URL returned error: 400 Bad Request * stopped the pause stream! 100 706 0 0 100 706 0 7887 --:--:-- --:--:-- --:--:-- 7932 * Closing connection 0 curl: (22) The requested URL returned error: 400 Bad Request ``` Server: ``awx_web | 2019-09-19 08:40:32,754 WARNING awx.api.generics status 401 received by user AnonymousUser attempting to access /api/v2/workflow_job_template_nodes/ from XXX.XXX.XXX.XXX awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | 2019-09-19 08:40:32,780 WARNING django.request Bad Request: /api/v2/workflow_job_template_nodes/ awx_web | [pid: 153|app: 0|req: 57/208] XXX.XXX.XXX.XXX () {38 vars in 568 bytes} [Thu Sep 19 08:40:32 2019] POST /api/v2/workflow_job_template_nodes/ => generated 140 bytes in 74 msecs (HTTP/1.1 400) 8 headers in 246 bytes (1 switches on core 0) awx_web | XXX.XXX.XXX.XXX - - [19/Sep/2019:08:40:32 +0000] ""POST /api/v2/workflow_job_template_nodes/ HTTP/1.1"" 400 140 ""-"" ""curl/7.54.0"" ""-""`` ##### ADDITIONAL INFORMATION source-file",bug,0.9
6450,awx,https://github.com/ansible/awx/issues/6450,failed to add user in credential permissions,Tried to add user to credential with use permission but unsuccessful ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: oel * Web Browser: chrome/safari ##### STEPS TO REPRODUCE select credential select permissions selct user ---> key use----> save ---> working and exits but action was unsuccesful ##### EXPECTED RESULTS select credential select permissions selct user ---> key use----> save ---> show user with use permissions,other-file | other-file,failed to add user in credential permissions Tried to add user to credential with use permission but unsuccessful ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: oel * Web Browser: chrome/safari ##### STEPS TO REPRODUCE select credential select permissions selct user ---> key use----> save ---> working and exits but action was unsuccesful ##### EXPECTED RESULTS select credential select permissions selct user ---> key use----> save ---> show user with use permissions other-file other-file,no-bug,0.7
6122,awx,https://github.com/ansible/awx/issues/6122,[CLI] add the ability to specify a description for tokens generated with `awx login`,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 9.0.2 * AWX install method: docker-compose * Ansible version: 2.9+ * Operating System: * Web Browser: ##### STEPS TO REPRODUCE use cli like the following: `awx --conf.username user --conf.password password tokens create test --scope write --description ""automated token generation"" -k` ##### EXPECTED RESULTS successfull token creation ##### ACTUAL RESULTS ``` bash-5.0$ awx --conf.username user --conf.password password tokens create test --scope write --description ""autmoated token generation"" -k usage: awx [--help] [--version] [--conf.host https://example.awx.org] [--conf.token TEXT] [--conf.username TEXT] [--conf.password TEXT] [-k] [-f {json,yaml,jq,human}] [--filter TEXT] [--conf.color BOOLEAN] [-v] resource ... positional arguments: resource login authenticate and retrieve an OAuth2 token config print current configuration values ping instances (instance) instance_groups (instance_group) config settings (setting) me organizations (organization) users (user) projects (project) project_updates (project_update) teams (team) credentials (credential) credential_types (credential_type) credential_input_sources applications (application) tokens metrics inventory (inventories) inventory_scripts (inventory_script) inventory_sources (inventory_source) inventory_updates (inventory_update) groups (group) hosts (host) job_templates (job_template) jobs (job) job_events ad_hoc_commands (ad_hoc) system_job_templates system_jobs schedules (schedule) roles (role) notification_templates (notification_template) notifications labels (label) unified_job_templates unified_jobs activity_stream workflow_job_templates (workflow) workflow_jobs (workflow_job) workflow_approvals workflow_job_template_nodes (node) workflow_job_nodes optional arguments: --help prints usage information for the awx tool --version display awx CLI version authentication: --conf.host https://example.awx.org --conf.token TEXT an OAuth2.0 token (get one by using `awx login`) --conf.username TEXT --conf.password TEXT -k, --conf.insecure Allow insecure server connections when using SSL output formatting: -f {json,yaml,jq,human}, --conf.format {json,yaml,jq,human} specify an output format --filter TEXT specify an output filter (only valid with jq or human format) --conf.color BOOLEAN Display colorized output. Defaults to True -v, --verbose print debug-level logs, including requests made Valid credentials were not provided. $ awx login --help ``` ##### ADDITIONAL INFORMATION i cant use awx login, because there i can not specify a description for the token and another problem is, awx login creates everytime a new token, so with a jenkins which triggers a container run which has the awx cli login implemented via user // password, every jenkins trigger will result in a new Oauth token on the account, so somehow i have to delete the token after i created and used it for his purpose, therefore i want to get ids where description == automated tokens and delete those tokens found by id, so i thought i could to this over awx token create, but there the --conf.username --conf.password params are not recognized on the other side, using only oauth token for ci/cd is not an option, because it has an expire date, so ci/cd will stop working after ~months because oauth token is expired",source-file | source-file | source-file | source-file,"[CLI] add the ability to specify a description for tokens generated with `awx login` ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 9.0.2 * AWX install method: docker-compose * Ansible version: 2.9+ * Operating System: * Web Browser: ##### STEPS TO REPRODUCE use cli like the following: `awx --conf.username user --conf.password password tokens create test --scope write --description ""automated token generation"" -k` ##### EXPECTED RESULTS successfull token creation ##### ACTUAL RESULTS ``` bash-5.0$ awx --conf.username user --conf.password password tokens create test --scope write --description ""autmoated token generation"" -k usage: awx [--help] [--version] [--conf.host https://example.awx.org] [--conf.token TEXT] [--conf.username TEXT] [--conf.password TEXT] [-k] [-f {json,yaml,jq,human}] [--filter TEXT] [--conf.color BOOLEAN] [-v] resource ... positional arguments: resource login authenticate and retrieve an OAuth2 token config print current configuration values ping instances (instance) instance_groups (instance_group) config settings (setting) me organizations (organization) users (user) projects (project) project_updates (project_update) teams (team) credentials (credential) credential_types (credential_type) credential_input_sources applications (application) tokens metrics inventory (inventories) inventory_scripts (inventory_script) inventory_sources (inventory_source) inventory_updates (inventory_update) groups (group) hosts (host) job_templates (job_template) jobs (job) job_events ad_hoc_commands (ad_hoc) system_job_templates system_jobs schedules (schedule) roles (role) notification_templates (notification_template) notifications labels (label) unified_job_templates unified_jobs activity_stream workflow_job_templates (workflow) workflow_jobs (workflow_job) workflow_approvals workflow_job_template_nodes (node) workflow_job_nodes optional arguments: --help prints usage information for the awx tool --version display awx CLI version authentication: --conf.host https://example.awx.org --conf.token TEXT an OAuth2.0 token (get one by using `awx login`) --conf.username TEXT --conf.password TEXT -k, --conf.insecure Allow insecure server connections when using SSL output formatting: -f {json,yaml,jq,human}, --conf.format {json,yaml,jq,human} specify an output format --filter TEXT specify an output filter (only valid with jq or human format) --conf.color BOOLEAN Display colorized output. Defaults to True -v, --verbose print debug-level logs, including requests made Valid credentials were not provided. $ awx login --help ``` ##### ADDITIONAL INFORMATION i cant use awx login, because there i can not specify a description for the token and another problem is, awx login creates everytime a new token, so with a jenkins which triggers a container run which has the awx cli login implemented via user // password, every jenkins trigger will result in a new Oauth token on the account, so somehow i have to delete the token after i created and used it for his purpose, therefore i want to get ids where description == automated tokens and delete those tokens found by id, so i thought i could to this over awx token create, but there the --conf.username --conf.password params are not recognized on the other side, using only oauth token for ci/cd is not an option, because it has an expire date, so ci/cd will stop working after ~months because oauth token is expired source-file source-file source-file source-file",no-bug,0.8
8838,awx,https://github.com/ansible/awx/issues/8838,[ui_next] Inventory update Delete hits wrong endpoint,"##### ISSUE TYPE - Bug Report ##### SUMMARY Inventory update Delete hits wrong endpoint. ```I try to delete the SCM inventory update from the job page. It fails with an error about the inventory, but it shouldnt be deleting the inventory, it should only be deleting the update.``` ##### ENVIRONMENT * AWX version: 12/10 ##### MORE INFO Also, thats not the right number for the inventory, 66 is the ID of the inventory update. ![Screen Shot 2020-12-10 at 3 52 00 PM](https://user-images.githubusercontent.com/12446869/101828548-b30d5900-3aff-11eb-8a7a-d10208387cbd.png)",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | source-file | test-file,"[ui_next] Inventory update Delete hits wrong endpoint ##### ISSUE TYPE - Bug Report ##### SUMMARY Inventory update Delete hits wrong endpoint. ```I try to delete the SCM inventory update from the job page. It fails with an error about the inventory, but it shouldnt be deleting the inventory, it should only be deleting the update.``` ##### ENVIRONMENT * AWX version: 12/10 ##### MORE INFO Also, thats not the right number for the inventory, 66 is the ID of the inventory update. ![Screen Shot 2020-12-10 at 3 52 00 PM](https://user-images.githubusercontent.com/12446869/101828548-b30d5900-3aff-11eb-8a7a-d10208387cbd.png) source-file source-file source-file source-file source-file source-file source-file source-file other-file test-file other-file other-file other-file other-file test-file other-file other-file source-file source-file test-file",bug,0.9
5760,awx,https://github.com/ansible/awx/issues/5760,Skip Tags and Job Tags Open LabelSelect,"##### ISSUE TYPE - Bug Report ##### SUMMARY When you generate a new skip tag or job tag in a JobTemplate, and press enter to create the chip the dropdown for the LabelSelect also opens ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker for mac * Ansible version: 2.10 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to a create or edit a Job Template. Begin to generate a new skip tag or job tag by typing iin the field. Press enter to generate the tag. ##### EXPECTED RESULTS A chip with the tag name appears in the field and the dropdown closes. ##### ACTUAL RESULTS The label tag opens and covers much of the form and the field you were typing in remains open as well. ##### ADDITIONAL INFORMATION ![Tags](https://user-images.githubusercontent.com/39280967/73079261-e0bec480-3e91-11ea-8186-6be150142a24.gif)",source-file,"Skip Tags and Job Tags Open LabelSelect ##### ISSUE TYPE - Bug Report ##### SUMMARY When you generate a new skip tag or job tag in a JobTemplate, and press enter to create the chip the dropdown for the LabelSelect also opens ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker for mac * Ansible version: 2.10 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to a create or edit a Job Template. Begin to generate a new skip tag or job tag by typing iin the field. Press enter to generate the tag. ##### EXPECTED RESULTS A chip with the tag name appears in the field and the dropdown closes. ##### ACTUAL RESULTS The label tag opens and covers much of the form and the field you were typing in remains open as well. ##### ADDITIONAL INFORMATION ![Tags](https://user-images.githubusercontent.com/39280967/73079261-e0bec480-3e91-11ea-8186-6be150142a24.gif) source-file",no-bug,0.9
5066,awx,https://github.com/ansible/awx/issues/5066,Add edit button to Org list rows,##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit),other-file | other-file,Add edit button to Org list rows ##### ISSUE TYPE - Feature Idea ##### SUMMARY Edit button should appear on each row that the logged in user can edit (summary_fields.user_capabilities.edit) other-file other-file,no-bug,0.9
4737,awx,https://github.com/ansible/awx/issues/4737,can't install on k8s,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Display following error when clean install on k8s. ```json TASK [kubernetes : Migrate database] ****************************************************************************************************************************************************************************** fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx exec ansible-tower-management -- bash -c \""awx-manage migrate --noinput\""\n"", ""delta"": ""0:00:05.399162"", ""end"": ""2019-09-13 15:01:31.015263"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2019-09-13 15:01:25.616101"", ""stderr"": ""Traceback (most recent call last):\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection\n self.connect()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect\n self.connection = self.get_new_connection(conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection\n connection = Database.connect(**conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: FATAL: password authentication failed for user \""awx\""\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n File \""/usr/bin/awx-manage\"", line 11, in <module>\n load_entry_point('awx==7.0.0.0', 'console_scripts', 'awx-manage')()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py\"", line 142, in manage\n execute_from_command_line(sys.argv)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line\n utility.execute()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute\n self.fetch_command(subcommand).run_from_argv(self.argv)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv\n self.execute(*args, **cmd_options)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute\n output = self.handle(*args, **options)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 83, in wrapped\n res = handle_func(*args, **kwargs)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/commands/migrate.py\"", line 87, in handle\n executor = MigrationExecutor(connection, self.migration_progress_callback)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/executor.py\"", line 18, in __init__\n self.loader = MigrationLoader(self.connection)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 49, in __init__\n self.build_graph()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 212, in build_graph\n self.applied_migrations = recorder.applied_migrations()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 73, in applied_migrations\n if self.has_table():\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 56, in has_table\n return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 256, in cursor\n return self._cursor()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 233, in _cursor\n self.ensure_connection()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection\n self.connect()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__\n raise dj_exc_value.with_traceback(traceback) from exc_value\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection\n self.connect()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect\n self.connection = self.get_new_connection(conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection\n connection = Database.connect(**conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\ndjango.db.utils.OperationalError: FATAL: password authentication failed for user \""awx\""\n\ncommand terminated with exit code 1"", ""stderr_lines"": [""Traceback (most recent call last):"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection"", "" self.connect()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect"", "" self.connection = self.get_new_connection(conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection"", "" connection = Database.connect(**conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", "" conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""psycopg2.OperationalError: FATAL: password authentication failed for user \""awx\"""", """", """", ""The above exception was the direct cause of the following exception:"", """", ""Traceback (most recent call last):"", "" File \""/usr/bin/awx-manage\"", line 11, in <module>"", "" load_entry_point('awx==7.0.0.0', 'console_scripts', 'awx-manage')()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py\"", line 142, in manage"", "" execute_from_command_line(sys.argv)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line"", "" utility.execute()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute"", "" self.fetch_command(subcommand).run_from_argv(self.argv)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv"", "" self.execute(*args, **cmd_options)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute"", "" output = self.handle(*args, **options)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 83, in wrapped"", "" res = handle_func(*args, **kwargs)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/commands/migrate.py\"", line 87, in handle"", "" executor = MigrationExecutor(connection, self.migration_progress_callback)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/executor.py\"", line 18, in __init__"", "" self.loader = MigrationLoader(self.connection)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 49, in __init__"", "" self.build_graph()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 212, in build_graph"", "" self.applied_migrations = recorder.applied_migrations()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 73, in applied_migrations"", "" if self.has_table():"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 56, in has_table"", "" return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 256, in cursor"", "" return self._cursor()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 233, in _cursor"", "" self.ensure_connection()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection"", "" self.connect()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__"", "" raise dj_exc_value.with_traceback(traceback) from exc_value"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection"", "" self.connect()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect"", "" self.connection = self.get_new_connection(conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection"", "" connection = Database.connect(**conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", "" conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""django.db.utils.OperationalError: FATAL: password authentication failed for user \""awx\"""", """", ""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []} PLAY RECAP ******************************************************************************************************************************************************************************************************** localhost : ok=24 changed=10 unreachable=0 failed=1 skipped=47 rescued=0 ignored=3 ``` I can install when I've modified inventory as follows. ```diff # This will create or update a default admin (superuser) account in AWX, if not provided # then these default values are used -admin_user=admin +admin_user=awx admin_password=password ``` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: k8s * Ansible version: 2.8.4 * Operating System: CentOS 7.6.1810 * Web Browser: ##### STEPS TO REPRODUCE - setup k8s - update inventory file - exec `ansible-playbook -i inventory install.yml` <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS successfully installed <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS installer failed <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"can't install on k8s ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Display following error when clean install on k8s. ```json TASK [kubernetes : Migrate database] ****************************************************************************************************************************************************************************** fatal: [localhost]: FAILED! => {""changed"": true, ""cmd"": ""kubectl -n awx exec ansible-tower-management -- bash -c \""awx-manage migrate --noinput\""\n"", ""delta"": ""0:00:05.399162"", ""end"": ""2019-09-13 15:01:31.015263"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2019-09-13 15:01:25.616101"", ""stderr"": ""Traceback (most recent call last):\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection\n self.connect()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect\n self.connection = self.get_new_connection(conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection\n connection = Database.connect(**conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: FATAL: password authentication failed for user \""awx\""\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n File \""/usr/bin/awx-manage\"", line 11, in <module>\n load_entry_point('awx==7.0.0.0', 'console_scripts', 'awx-manage')()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py\"", line 142, in manage\n execute_from_command_line(sys.argv)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line\n utility.execute()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute\n self.fetch_command(subcommand).run_from_argv(self.argv)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv\n self.execute(*args, **cmd_options)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute\n output = self.handle(*args, **options)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 83, in wrapped\n res = handle_func(*args, **kwargs)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/commands/migrate.py\"", line 87, in handle\n executor = MigrationExecutor(connection, self.migration_progress_callback)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/executor.py\"", line 18, in __init__\n self.loader = MigrationLoader(self.connection)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 49, in __init__\n self.build_graph()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 212, in build_graph\n self.applied_migrations = recorder.applied_migrations()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 73, in applied_migrations\n if self.has_table():\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 56, in has_table\n return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 256, in cursor\n return self._cursor()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 233, in _cursor\n self.ensure_connection()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection\n self.connect()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__\n raise dj_exc_value.with_traceback(traceback) from exc_value\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection\n self.connect()\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect\n self.connection = self.get_new_connection(conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection\n connection = Database.connect(**conn_params)\n File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect\n conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\ndjango.db.utils.OperationalError: FATAL: password authentication failed for user \""awx\""\n\ncommand terminated with exit code 1"", ""stderr_lines"": [""Traceback (most recent call last):"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection"", "" self.connect()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect"", "" self.connection = self.get_new_connection(conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection"", "" connection = Database.connect(**conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", "" conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""psycopg2.OperationalError: FATAL: password authentication failed for user \""awx\"""", """", """", ""The above exception was the direct cause of the following exception:"", """", ""Traceback (most recent call last):"", "" File \""/usr/bin/awx-manage\"", line 11, in <module>"", "" load_entry_point('awx==7.0.0.0', 'console_scripts', 'awx-manage')()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py\"", line 142, in manage"", "" execute_from_command_line(sys.argv)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 381, in execute_from_command_line"", "" utility.execute()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py\"", line 375, in execute"", "" self.fetch_command(subcommand).run_from_argv(self.argv)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 323, in run_from_argv"", "" self.execute(*args, **cmd_options)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 364, in execute"", "" output = self.handle(*args, **options)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py\"", line 83, in wrapped"", "" res = handle_func(*args, **kwargs)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/commands/migrate.py\"", line 87, in handle"", "" executor = MigrationExecutor(connection, self.migration_progress_callback)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/executor.py\"", line 18, in __init__"", "" self.loader = MigrationLoader(self.connection)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 49, in __init__"", "" self.build_graph()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/loader.py\"", line 212, in build_graph"", "" self.applied_migrations = recorder.applied_migrations()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 73, in applied_migrations"", "" if self.has_table():"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/migrations/recorder.py\"", line 56, in has_table"", "" return self.Migration._meta.db_table in self.connection.introspection.table_names(self.connection.cursor())"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 256, in cursor"", "" return self._cursor()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 233, in _cursor"", "" self.ensure_connection()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection"", "" self.connect()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/utils.py\"", line 89, in __exit__"", "" raise dj_exc_value.with_traceback(traceback) from exc_value"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 217, in ensure_connection"", "" self.connect()"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/base/base.py\"", line 195, in connect"", "" self.connection = self.get_new_connection(conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/db/backends/postgresql/base.py\"", line 178, in get_new_connection"", "" connection = Database.connect(**conn_params)"", "" File \""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/psycopg2/__init__.py\"", line 130, in connect"", "" conn = _connect(dsn, connection_factory=connection_factory, **kwasync)"", ""django.db.utils.OperationalError: FATAL: password authentication failed for user \""awx\"""", """", ""command terminated with exit code 1""], ""stdout"": """", ""stdout_lines"": []} PLAY RECAP ******************************************************************************************************************************************************************************************************** localhost : ok=24 changed=10 unreachable=0 failed=1 skipped=47 rescued=0 ignored=3 ``` I can install when I've modified inventory as follows. ```diff # This will create or update a default admin (superuser) account in AWX, if not provided # then these default values are used -admin_user=admin +admin_user=awx admin_password=password ``` ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: k8s * Ansible version: 2.8.4 * Operating System: CentOS 7.6.1810 * Web Browser: ##### STEPS TO REPRODUCE - setup k8s - update inventory file - exec `ansible-playbook -i inventory install.yml` <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS successfully installed <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS installer failed <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.9
5867,awx,https://github.com/ansible/awx/issues/5867,"RFE ""Related"" Job Templates tab for Inventories and Credentials",##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> It would be beneficial to see what job templates are using a specific inventory or credential. This could be used to gauge impact of deleting specific objects. Add the job templates like in projects ![image](https://user-images.githubusercontent.com/18033113/74191447-95423f80-4c21-11ea-8ec8-0f2e45ab9fab.png),source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file,"RFE ""Related"" Job Templates tab for Inventories and Credentials ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> It would be beneficial to see what job templates are using a specific inventory or credential. This could be used to gauge impact of deleting specific objects. Add the job templates like in projects ![image](https://user-images.githubusercontent.com/18033113/74191447-95423f80-4c21-11ea-8ec8-0f2e45ab9fab.png) source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file",no-bug,0.95
8097,awx,https://github.com/ansible/awx/issues/8097,Text matching for surveys,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> For use cases that need to select one among many choices, it will be great to be able to start typing the choice and get the match from the selection. Eg: Reboot 1 device out of 1000. Add 1000 devices as a multiple choice survey element. When the user launches the playbook, they can start typing the name and the selection match will show up.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Text matching for surveys <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> For use cases that need to select one among many choices, it will be great to be able to start typing the choice and get the match from the selection. Eg: Reboot 1 device out of 1000. Add 1000 devices as a multiple choice survey element. When the user launches the playbook, they can start typing the name and the selection match will show up. source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
4531,awx,https://github.com/ansible/awx/issues/4531,Unable to remove customized messages from notification template,"##### ISSUE TYPE - Bug Report ##### SUMMARY Unable to remove customized messages from notification template ##### STEPS TO REPRODUCE 1. Create a Slack notification with customized notification messages. 2. Edit Slack notification from step 1 and remove customized notification messages via toggle and save Note: 500 error ##### EXPECTED RESULTS 1. Default messages used and customize message toggle disabled ##### ACTUAL RESULTS HTTP 500 from API ##### ADDITIONAL INFORMATION <img width=""1497"" alt=""Screen Shot 2019-08-20 at 12 43 30 PM"" src=""https://user-images.githubusercontent.com/12446869/63366604-222dcf80-c348-11e9-80b7-a53a717a4b9f.png"">",source-file,"Unable to remove customized messages from notification template ##### ISSUE TYPE - Bug Report ##### SUMMARY Unable to remove customized messages from notification template ##### STEPS TO REPRODUCE 1. Create a Slack notification with customized notification messages. 2. Edit Slack notification from step 1 and remove customized notification messages via toggle and save Note: 500 error ##### EXPECTED RESULTS 1. Default messages used and customize message toggle disabled ##### ACTUAL RESULTS HTTP 500 from API ##### ADDITIONAL INFORMATION <img width=""1497"" alt=""Screen Shot 2019-08-20 at 12 43 30 PM"" src=""https://user-images.githubusercontent.com/12446869/63366604-222dcf80-c348-11e9-80b7-a53a717a4b9f.png""> source-file",bug,0.9
6138,awx,https://github.com/ansible/awx/issues/6138,AWX 9.2 vmware_inventory.py TLS v1 not supported,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> It is not possible to connect to vmware vsphere (TLSv1) since at least AWX version 8. TLSv1 needs to be enabled/supported! ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.5 ##### ACTUAL RESULTS <!-- What actually happened? --> Output when synching with vsphere: (It complains about username or password but that is a wrong error message. I can connect no problem with the account and the error message when using vmware_guest is different.) ``` 3.375 INFO Updating inventory 28: Vcenter Inventory 4.108 INFO Reading Ansible inventory source: /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/plugins/inventory/vmware_inventory.py 4.112 INFO Using VIRTUAL_ENV: /var/lib/awx/venv/ansible 4.113 INFO Using PATH: /var/lib/awx/venv/ansible/bin:/var/lib/awx/venv/awx/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 4.113 INFO Using PYTHONPATH: /var/lib/awx/venv/ansible/lib/python3.6/site-packages: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 152, in manage execute_from_command_line(sys.argv) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line utility.execute() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute self.fetch_command(subcommand).run_from_argv(self.argv) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv self.execute(*args, **cmd_options) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 364, in execute output = self.handle(*args, **options) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1157, in handle raise exc File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1047, in handle venv_path=venv_path, verbosity=self.verbosity).load() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 215, in load return self.command_to_json(base_args + ['--list']) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 198, in command_to_json self.method, proc.returncode, stdout, stderr)) RuntimeError: ansible-inventory failed (rc=1) with stdout: stderr: ansible-inventory 2.9.3 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/lib/python3.6/site-packages/ansible executable location = /usr/bin/ansible-inventory python version = 3.6.8 (default, Nov 21 2019, 19:31:34) [GCC 8.3.1 20190507 (Red Hat 8.3.1-4)] Using /etc/ansible/ansible.cfg as config file [WARNING]: * Failed to parse /var/lib/awx/venv/awx/lib/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py with script plugin: Inventory script (/var/lib/awx/venv/awx/lib/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py) had an execution error: Could not connect to the specified host using specified username and password File ""/usr/lib/python3.6/site-packages/ansible/inventory/manager.py"", line 280, in parse_source plugin.parse(self._inventory, self._loader, source, cache=cache) File ""/usr/lib/python3.6/site-packages/ansible/plugins/inventory/script.py"", line 161, in parse raise AnsibleParserError(to_native(e)) [WARNING]: Unable to parse /var/lib/awx/venv/awx/lib/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` Output when using vmware_guest to build a new VM: ``` Unable to connect to vCenter or ESXi API at virtualcenter.local on TCP/443: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:897) ``` I tried adding support for TLSv1 by adding the below lines inside vmware_inventory.py but the installed openssl does not know the TLSVersion parameter: ``` context.options &= ~ssl.OP_NO_TLSv1_3 & ~ssl.OP_NO_TLSv1_2 & ~ssl.OP_NO_TLSv1_1 context.minimum_version = ssl.TLSVersion.TLSv1 ``` ``` def get_instances(self): ''' Get a list of vm instances with pyvmomi ''' kwargs = {'host': self.server, 'user': self.username, 'pwd': self.password, 'port': int(self.port)} if self.validate_certs and hasattr(ssl, 'SSLContext'): context = ssl.SSLContext(ssl.PROTOCOL_TLS) context.options &= ~ssl.OP_NO_TLSv1_3 & ~ssl.OP_NO_TLSv1_2 & ~ssl.OP_NO_TLSv1_1 context.minimum_version = ssl.TLSVersion.TLSv1 context.verify_mode = ssl.CERT_REQUIRED context.check_hostname = True kwargs['sslContext'] = context elif self.validate_certs and not hasattr(ssl, 'SSLContext'): sys.exit('pyVim does not support changing verification mode with python < 2.7.9. Either update ' 'python or use validate_certs=false.') elif not self.validate_certs and hasattr(ssl, 'SSLContext'): context = ssl.SSLContext(ssl.PROTOCOL_TLS) context.options &= ~ssl.OP_NO_TLSv1_3 & ~ssl.OP_NO_TLSv1_2 & ~ssl.OP_NO_TLSv1_1 context.minimum_version = ssl.TLSVersion.TLSv1 context.verify_mode = ssl.CERT_NONE context.check_hostname = False kwargs['sslContext'] = context elif not self.validate_certs and not hasattr(ssl, 'SSLContext'): # Python 2.7.9 < or RHEL/CentOS 7.4 < pass return self._get_instances(kwargs) ``` ```AttributeError:` module 'ssl' has no attribute 'TLSVersion``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"AWX 9.2 vmware_inventory.py TLS v1 not supported ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> It is not possible to connect to vmware vsphere (TLSv1) since at least AWX version 8. TLSv1 needs to be enabled/supported! ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: 2.9.5 ##### ACTUAL RESULTS <!-- What actually happened? --> Output when synching with vsphere: (It complains about username or password but that is a wrong error message. I can connect no problem with the account and the error message when using vmware_guest is different.) ``` 3.375 INFO Updating inventory 28: Vcenter Inventory 4.108 INFO Reading Ansible inventory source: /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/plugins/inventory/vmware_inventory.py 4.112 INFO Using VIRTUAL_ENV: /var/lib/awx/venv/ansible 4.113 INFO Using PATH: /var/lib/awx/venv/ansible/bin:/var/lib/awx/venv/awx/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 4.113 INFO Using PYTHONPATH: /var/lib/awx/venv/ansible/lib/python3.6/site-packages: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/bin/awx-manage"", line 8, in <module> sys.exit(manage()) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/__init__.py"", line 152, in manage execute_from_command_line(sys.argv) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line utility.execute() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute self.fetch_command(subcommand).run_from_argv(self.argv) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv self.execute(*args, **cmd_options) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/core/management/base.py"", line 364, in execute output = self.handle(*args, **options) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1157, in handle raise exc File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1047, in handle venv_path=venv_path, verbosity=self.verbosity).load() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 215, in load return self.command_to_json(base_args + ['--list']) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 198, in command_to_json self.method, proc.returncode, stdout, stderr)) RuntimeError: ansible-inventory failed (rc=1) with stdout: stderr: ansible-inventory 2.9.3 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/lib/python3.6/site-packages/ansible executable location = /usr/bin/ansible-inventory python version = 3.6.8 (default, Nov 21 2019, 19:31:34) [GCC 8.3.1 20190507 (Red Hat 8.3.1-4)] Using /etc/ansible/ansible.cfg as config file [WARNING]: * Failed to parse /var/lib/awx/venv/awx/lib/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py with script plugin: Inventory script (/var/lib/awx/venv/awx/lib/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py) had an execution error: Could not connect to the specified host using specified username and password File ""/usr/lib/python3.6/site-packages/ansible/inventory/manager.py"", line 280, in parse_source plugin.parse(self._inventory, self._loader, source, cache=cache) File ""/usr/lib/python3.6/site-packages/ansible/plugins/inventory/script.py"", line 161, in parse raise AnsibleParserError(to_native(e)) [WARNING]: Unable to parse /var/lib/awx/venv/awx/lib/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` Output when using vmware_guest to build a new VM: ``` Unable to connect to vCenter or ESXi API at virtualcenter.local on TCP/443: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:897) ``` I tried adding support for TLSv1 by adding the below lines inside vmware_inventory.py but the installed openssl does not know the TLSVersion parameter: ``` context.options &= ~ssl.OP_NO_TLSv1_3 & ~ssl.OP_NO_TLSv1_2 & ~ssl.OP_NO_TLSv1_1 context.minimum_version = ssl.TLSVersion.TLSv1 ``` ``` def get_instances(self): ''' Get a list of vm instances with pyvmomi ''' kwargs = {'host': self.server, 'user': self.username, 'pwd': self.password, 'port': int(self.port)} if self.validate_certs and hasattr(ssl, 'SSLContext'): context = ssl.SSLContext(ssl.PROTOCOL_TLS) context.options &= ~ssl.OP_NO_TLSv1_3 & ~ssl.OP_NO_TLSv1_2 & ~ssl.OP_NO_TLSv1_1 context.minimum_version = ssl.TLSVersion.TLSv1 context.verify_mode = ssl.CERT_REQUIRED context.check_hostname = True kwargs['sslContext'] = context elif self.validate_certs and not hasattr(ssl, 'SSLContext'): sys.exit('pyVim does not support changing verification mode with python < 2.7.9. Either update ' 'python or use validate_certs=false.') elif not self.validate_certs and hasattr(ssl, 'SSLContext'): context = ssl.SSLContext(ssl.PROTOCOL_TLS) context.options &= ~ssl.OP_NO_TLSv1_3 & ~ssl.OP_NO_TLSv1_2 & ~ssl.OP_NO_TLSv1_1 context.minimum_version = ssl.TLSVersion.TLSv1 context.verify_mode = ssl.CERT_NONE context.check_hostname = False kwargs['sslContext'] = context elif not self.validate_certs and not hasattr(ssl, 'SSLContext'): # Python 2.7.9 < or RHEL/CentOS 7.4 < pass return self._get_instances(kwargs) ``` ```AttributeError:` module 'ssl' has no attribute 'TLSVersion``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.8
5028,awx,https://github.com/ansible/awx/issues/5028,500 Error when creating notification templates with bad message format,"```shell $ awx notification_templates create --name ""Testing 123"" --organization Default --notification_type webhook --messages '{""success"": ""500 error""}' --notification_configuration '{""url"": ""http://example.org"", ""headers"": {}}' ``` <img width=""932"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/67009102-e2ba0000-f0b8-11e9-9346-816dea7ffa02.png"">",source-file | source-file,"500 Error when creating notification templates with bad message format ```shell $ awx notification_templates create --name ""Testing 123"" --organization Default --notification_type webhook --messages '{""success"": ""500 error""}' --notification_configuration '{""url"": ""http://example.org"", ""headers"": {}}' ``` <img width=""932"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/67009102-e2ba0000-f0b8-11e9-9346-816dea7ffa02.png""> source-file source-file",bug,0.9
10079,awx,https://github.com/ansible/awx/issues/10079,Cannot update custom credential type with multiple multiline fields,"##### ISSUE TYPE - Bug Report ##### SUMMARY When a credential type has multiple multiline fields defined, only the first multiline field gets an editor when editing a credential. All other multiline fields are disabled and cannot be interacted with. If instead I create a credential type with only one multiline field, and keep the other string fields for what they are, then I can modify all fields when editing a credential. ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: kubernetes + awx-operator * Ansible version: Whatever is in the [awx-ee](https://github.com/ansible/awx-ee) image * Operating System: Linux * Web Browser: Firefox 88.0 and Chromium 90.0.4430.93 ##### STEPS TO REPRODUCE * Create a credential type with the following definition: ```yaml fields: - id: field_1 type: string label: A magical field secret: true multiline: true - id: field_2 type: string label: A magical but public field multiline: true required: - field_1 ``` * Create a credential of this type, values of the fields doesn't matter. * Edit the newly created credential ##### EXPECTED RESULTS All fields are editable ##### ACTUAL RESULTS Only the first multiline field is editable by clicking on the replace icon on the left of the field. Other multiline fields lack this option and cannot be updated. ##### ADDITIONAL INFORMATION ![Screenshot from 2021-05-03 12-49-41](https://user-images.githubusercontent.com/569574/116867979-3f82fa00-ac0e-11eb-8835-da0cd8f90fab.png)",other-file,"Cannot update custom credential type with multiple multiline fields ##### ISSUE TYPE - Bug Report ##### SUMMARY When a credential type has multiple multiline fields defined, only the first multiline field gets an editor when editing a credential. All other multiline fields are disabled and cannot be interacted with. If instead I create a credential type with only one multiline field, and keep the other string fields for what they are, then I can modify all fields when editing a credential. ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: kubernetes + awx-operator * Ansible version: Whatever is in the [awx-ee](https://github.com/ansible/awx-ee) image * Operating System: Linux * Web Browser: Firefox 88.0 and Chromium 90.0.4430.93 ##### STEPS TO REPRODUCE * Create a credential type with the following definition: ```yaml fields: - id: field_1 type: string label: A magical field secret: true multiline: true - id: field_2 type: string label: A magical but public field multiline: true required: - field_1 ``` * Create a credential of this type, values of the fields doesn't matter. * Edit the newly created credential ##### EXPECTED RESULTS All fields are editable ##### ACTUAL RESULTS Only the first multiline field is editable by clicking on the replace icon on the left of the field. Other multiline fields lack this option and cannot be updated. ##### ADDITIONAL INFORMATION ![Screenshot from 2021-05-03 12-49-41](https://user-images.githubusercontent.com/569574/116867979-3f82fa00-ac0e-11eb-8835-da0cd8f90fab.png) other-file",no-bug,0.8
7471,awx,https://github.com/ansible/awx/issues/7471,Instance Groups Routing Stub,ISSUE TYPE Feature Idea SUMMARY Stub out the routing and the needed components for Instance Groups.,other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file,Instance Groups Routing Stub ISSUE TYPE Feature Idea SUMMARY Stub out the routing and the needed components for Instance Groups. other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file,no-bug,0.9
9416,awx,https://github.com/ansible/awx/issues/9416,Re-evaluate RBAC for EE as per latest API changes,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Re-evaluate RBAC for EE as per latest API changes. Since the last time RBAC was evaluated on the UI side, the API RBAC has been updated. Evaluate those changes and apply to the UI. See: https://github.com/ansible/awx/issues/9518",other-file | test-file | other-file | test-file | other-file | test-file,"Re-evaluate RBAC for EE as per latest API changes ##### ISSUE TYPE - Feature Idea ##### SUMMARY Re-evaluate RBAC for EE as per latest API changes. Since the last time RBAC was evaluated on the UI side, the API RBAC has been updated. Evaluate those changes and apply to the UI. See: https://github.com/ansible/awx/issues/9518 other-file test-file other-file test-file other-file test-file",no-bug,0.9
8031,awx,https://github.com/ansible/awx/issues/8031,Add expand to variable fields,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Add feature to expand variables fields. As an example, in the classic ui. ![expand](https://user-images.githubusercontent.com/9053044/91487714-30c49600-e87c-11ea-844d-475204355895.gif)",other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file,"Add expand to variable fields ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add feature to expand variables fields. As an example, in the classic ui. ![expand](https://user-images.githubusercontent.com/9053044/91487714-30c49600-e87c-11ea-844d-475204355895.gif) other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file",no-bug,0.9
5153,awx,https://github.com/ansible/awx/issues/5153,Reduce project update locking,"##### ISSUE TYPE - Feature Idea ##### SUMMARY https://github.com/ansible/awx/issues/4809, but for project updates. Since playbook runs get their own fresh checkout (and could be on another branch anyway), this should be doable.",source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Reduce project update locking ##### ISSUE TYPE - Feature Idea ##### SUMMARY https://github.com/ansible/awx/issues/4809, but for project updates. Since playbook runs get their own fresh checkout (and could be on another branch anyway), this should be doable. source-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
10170,awx,https://github.com/ansible/awx/issues/10170,Execution Environment Image Name confusing.,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The image name implies to add in the name of your image from the registery. ##### ENVIRONMENT * AWX version: devel * AWX install method: awx-operator * Ansible version: 2.11 * Operating System: RHEL8 * Web Browser: n/a ##### STEPS TO REPRODUCE 1. create registry credential 2. create execution environment with image name 3. profit <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS successfully use image from EE to run job template. <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS error pulling image ``` Error: 3 errors occurred while pulling: * Error initializing source docker://registry.access.redhat.com/my_first_ee_image:latest: Error reading manifest latest in registry.access.redhat.com/my_first_ee_image: name unknown: Repo not found * Error initializing source docker://registry.redhat.io/my_first_ee_image:latest: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication * Error initializing source docker://my_first_ee_image:latest: Error reading manifest latest in docker.io/library/my_first_ee_image: errors: denied: requested access to the resource is denied unauthorized: authentication required ``` <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file | source-file | other-file | test-file,"Execution Environment Image Name confusing. <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> The image name implies to add in the name of your image from the registery. ##### ENVIRONMENT * AWX version: devel * AWX install method: awx-operator * Ansible version: 2.11 * Operating System: RHEL8 * Web Browser: n/a ##### STEPS TO REPRODUCE 1. create registry credential 2. create execution environment with image name 3. profit <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS successfully use image from EE to run job template. <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS error pulling image ``` Error: 3 errors occurred while pulling: * Error initializing source docker://registry.access.redhat.com/my_first_ee_image:latest: Error reading manifest latest in registry.access.redhat.com/my_first_ee_image: name unknown: Repo not found * Error initializing source docker://registry.redhat.io/my_first_ee_image:latest: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication * Error initializing source docker://my_first_ee_image:latest: Error reading manifest latest in docker.io/library/my_first_ee_image: errors: denied: requested access to the resource is denied unauthorized: authentication required ``` <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file source-file other-file test-file",no-bug,0.9
6446,awx,https://github.com/ansible/awx/issues/6446,Host Add Weirdness,##### ISSUE TYPE - Bug Report ##### SUMMARY The Host Add Form has weird formatting ##### ENVIRONMENT * AWX version: 2.9 * AWX install method: docker for mac * Ansible version: 9.3 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to Host Add Form ##### EXPECTED RESULTS ![Screen Shot 2020-03-26 at 2 20 05 PM](https://user-images.githubusercontent.com/39280967/77682197-ee192d80-6f6c-11ea-9491-81afdfa2f62a.png) ##### ACTUAL RESULTS ![Screen Shot 2020-03-26 at 2 19 15 PM](https://user-images.githubusercontent.com/39280967/77682138-cfb33200-6f6c-11ea-9f90-329130cb2831.png) ##### ADDITIONAL INFORMATION,source-file,Host Add Weirdness ##### ISSUE TYPE - Bug Report ##### SUMMARY The Host Add Form has weird formatting ##### ENVIRONMENT * AWX version: 2.9 * AWX install method: docker for mac * Ansible version: 9.3 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Go to Host Add Form ##### EXPECTED RESULTS ![Screen Shot 2020-03-26 at 2 20 05 PM](https://user-images.githubusercontent.com/39280967/77682197-ee192d80-6f6c-11ea-9491-81afdfa2f62a.png) ##### ACTUAL RESULTS ![Screen Shot 2020-03-26 at 2 19 15 PM](https://user-images.githubusercontent.com/39280967/77682138-cfb33200-6f6c-11ea-9f90-329130cb2831.png) ##### ADDITIONAL INFORMATION source-file,no-bug,0.9
5685,awx,https://github.com/ansible/awx/issues/5685,"Add ""external source"" enhancements to Users list, detail, and form","##### ISSUE TYPE - Feature Idea ##### SUMMARY Users List - Denote that a user comes from an external source (ie LDAP) as a tag next to the username <img width=""401"" alt=""Screen Shot 2020-01-16 at 4 47 33 PM"" src=""https://user-images.githubusercontent.com/15881645/72565484-f6bffa00-387f-11ea-99c7-597eebe54354.png""> User Detail - Denote that a user comes from an external source (ie LDAP) as a tag under Type detail label <img width=""1198"" alt=""Screen Shot 2020-01-16 at 4 48 56 PM"" src=""https://user-images.githubusercontent.com/15881645/72565639-4bfc0b80-3880-11ea-95ff-0c67080537bc.png""> User Form - Username field is required if user is not from an external source - Password field should be hidden if user is from external source (ldap/radius/social auth users) For reference, see [angular tower users form](https://github.com/ansible/awx/blob/devel/awx/ui/client/src/users/users.form.js#L62)",other-file | test-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | test-file,"Add ""external source"" enhancements to Users list, detail, and form ##### ISSUE TYPE - Feature Idea ##### SUMMARY Users List - Denote that a user comes from an external source (ie LDAP) as a tag next to the username <img width=""401"" alt=""Screen Shot 2020-01-16 at 4 47 33 PM"" src=""https://user-images.githubusercontent.com/15881645/72565484-f6bffa00-387f-11ea-99c7-597eebe54354.png""> User Detail - Denote that a user comes from an external source (ie LDAP) as a tag under Type detail label <img width=""1198"" alt=""Screen Shot 2020-01-16 at 4 48 56 PM"" src=""https://user-images.githubusercontent.com/15881645/72565639-4bfc0b80-3880-11ea-95ff-0c67080537bc.png""> User Form - Username field is required if user is not from an external source - Password field should be hidden if user is from external source (ldap/radius/social auth users) For reference, see [angular tower users form](https://github.com/ansible/awx/blob/devel/awx/ui/client/src/users/users.form.js#L62) other-file test-file other-file test-file documentation-file other-file test-file other-file test-file other-file test-file documentation-file other-file test-file",no-bug,0.95
7524,awx,https://github.com/ansible/awx/issues/7524,JT Survey fancy characters in answer variable name breaks the survey,"##### SUMMARY Special characters in the `Answer variable name` field do not allow for the field to be edited later. Feels like it has something to do with the routing URL. ##### STEPS TO REPRODUCE * Create a JT with a survey * Enter `/hello_world` into `Answer variable name` * Save * Edit the survey variable you just created ##### EXPECTED RESULTS To be shown the edit view ##### ACTUAL RESULTS Edit view fails to render (see below) ![image](https://user-images.githubusercontent.com/722880/86285283-530aa200-bbb2-11ea-960a-9f0fae4685fa.png) ![image](https://user-images.githubusercontent.com/722880/86285469-ada3fe00-bbb2-11ea-9b9b-9d7dab900409.png) ``` main.ccc609b2.chunk.js:1 TypeError: Cannot read property 'variable' of undefined at main.ccc609b2.chunk.js:1 at l (runtime.js:45) at Generator._invoke (runtime.js:274) at Generator.forEach.e.<computed> [as next] (runtime.js:97) at r (asyncToGenerator.js:3) at s (asyncToGenerator.js:25) at asyncToGenerator.js:32 at new Promise (<anonymous>) at asyncToGenerator.js:21 at main.ccc609b2.chunk.js:1 ``` `dfdsafds<b>bold</b>\""><br>` as `Answer variable name` also fails. But in a different way. Editing the variable shows a blank edit page. The url is https://localhost:8043/next/templates/job_template/8/survey/edit/dfdsafds%3Cb%3Ebold%3C/b%3E/%22%3E%3Cbr%3E ![image](https://user-images.githubusercontent.com/722880/86285586-de843300-bbb2-11ea-99a2-507457ed371b.png)",other-file | other-file | other-file | other-file,"JT Survey fancy characters in answer variable name breaks the survey ##### SUMMARY Special characters in the `Answer variable name` field do not allow for the field to be edited later. Feels like it has something to do with the routing URL. ##### STEPS TO REPRODUCE * Create a JT with a survey * Enter `/hello_world` into `Answer variable name` * Save * Edit the survey variable you just created ##### EXPECTED RESULTS To be shown the edit view ##### ACTUAL RESULTS Edit view fails to render (see below) ![image](https://user-images.githubusercontent.com/722880/86285283-530aa200-bbb2-11ea-960a-9f0fae4685fa.png) ![image](https://user-images.githubusercontent.com/722880/86285469-ada3fe00-bbb2-11ea-9b9b-9d7dab900409.png) ``` main.ccc609b2.chunk.js:1 TypeError: Cannot read property 'variable' of undefined at main.ccc609b2.chunk.js:1 at l (runtime.js:45) at Generator._invoke (runtime.js:274) at Generator.forEach.e.<computed> [as next] (runtime.js:97) at r (asyncToGenerator.js:3) at s (asyncToGenerator.js:25) at asyncToGenerator.js:32 at new Promise (<anonymous>) at asyncToGenerator.js:21 at main.ccc609b2.chunk.js:1 ``` `dfdsafds<b>bold</b>\""><br>` as `Answer variable name` also fails. But in a different way. Editing the variable shows a blank edit page. The url is https://localhost:8043/next/templates/job_template/8/survey/edit/dfdsafds%3Cb%3Ebold%3C/b%3E/%22%3E%3Cbr%3E ![image](https://user-images.githubusercontent.com/722880/86285586-de843300-bbb2-11ea-99a2-507457ed371b.png) other-file other-file other-file other-file",no-bug,0.8
7885,awx,https://github.com/ansible/awx/issues/7885,Update navigation bar and routing system to add execution environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY Update navigation bar and routing system to add execution environments.,source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file,Update navigation bar and routing system to add execution environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY Update navigation bar and routing system to add execution environments. source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file,no-bug,0.9
4680,awx,https://github.com/ansible/awx/issues/4680,Raise error if a group and host is created with the same name,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Create an inventory, inside that inventory create a host with name ""foo"". Then create a group with name ""foo"". This breaks playbooks. We should prevent the creation of the group with name ""foo"" because a host by that name exists, and return a 400 error message with details in this case. Related https://github.com/ansible/awx/issues/3384",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Raise error if a group and host is created with the same name ##### ISSUE TYPE - Feature Idea ##### SUMMARY Create an inventory, inside that inventory create a host with name ""foo"". Then create a group with name ""foo"". This breaks playbooks. We should prevent the creation of the group with name ""foo"" because a host by that name exists, and return a 400 error message with details in this case. Related https://github.com/ansible/awx/issues/3384 other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6612,awx,https://github.com/ansible/awx/issues/6612,Output pagination for search filtering,"##### SUMMARY Add pagination module (page number. next-previous, or line-based) and row fetching for output page to set the stage for integrating search and search filters.",documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | documentation-file | documentation-file | other-file | other-file | source-file | test-file | source-file | test-file,"Output pagination for search filtering ##### SUMMARY Add pagination module (page number. next-previous, or line-based) and row fetching for output page to set the stage for integrating search and search filters. documentation-file source-file other-file other-file other-file other-file other-file other-file other-file test-file other-file documentation-file documentation-file other-file other-file source-file test-file source-file test-file",no-bug,0.8
5744,awx,https://github.com/ansible/awx/issues/5744,More Helpful Error Message on api/v2/inventories Endpoint,"##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to change a regular inventory into a ""smart"" inventory, the `PUT` and `PATCH` both error out (as they should), but the error message is not very informative. Please see screenshots below for both PUT and PATCH errors: <img width=""1048"" alt=""PUTNotAllowed"" src=""https://user-images.githubusercontent.com/28930622/72933561-f3b98380-3d2f-11ea-9269-7320367cabb3.png""> <img width=""1033"" alt=""PATCHNotAllowed"" src=""https://user-images.githubusercontent.com/28930622/72933566-f6b47400-3d2f-11ea-8540-147b2da53dc8.png""> It would be nice if the error was something more along the lines of `'You cannot turn a regular inventory into a ""smart"" inventory.'` ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker for mac * Web Browser: Chrome ##### STEPS TO REPRODUCE Navigate to a pre-existing _regular_ inventory endpoint via `api/v2/inventories/[id]`, then try to `PUT` or `PATCH` to try to make it into a ""smart"" inventory: ``` { ""name"": ""[inventory_name]"", ""description"": """", ""organization"": [inventory_id], ""kind"": ""smart"", ""host_filter"": null, ""variables"": """", ""insights_credential"": null } ``` ##### EXPECTED RESULTS An error message that tells the user that a regular inventory can't be turned into a smart inventory. ##### ACTUAL RESULTS ``` { ""detail"": ""Method \""PATCH\"" not allowed."" } ```",documentation-file | documentation-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | source-file | other-file | other-file | other-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | test-file,"More Helpful Error Message on api/v2/inventories Endpoint ##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to change a regular inventory into a ""smart"" inventory, the `PUT` and `PATCH` both error out (as they should), but the error message is not very informative. Please see screenshots below for both PUT and PATCH errors: <img width=""1048"" alt=""PUTNotAllowed"" src=""https://user-images.githubusercontent.com/28930622/72933561-f3b98380-3d2f-11ea-9269-7320367cabb3.png""> <img width=""1033"" alt=""PATCHNotAllowed"" src=""https://user-images.githubusercontent.com/28930622/72933566-f6b47400-3d2f-11ea-8540-147b2da53dc8.png""> It would be nice if the error was something more along the lines of `'You cannot turn a regular inventory into a ""smart"" inventory.'` ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker for mac * Web Browser: Chrome ##### STEPS TO REPRODUCE Navigate to a pre-existing _regular_ inventory endpoint via `api/v2/inventories/[id]`, then try to `PUT` or `PATCH` to try to make it into a ""smart"" inventory: ``` { ""name"": ""[inventory_name]"", ""description"": """", ""organization"": [inventory_id], ""kind"": ""smart"", ""host_filter"": null, ""variables"": """", ""insights_credential"": null } ``` ##### EXPECTED RESULTS An error message that tells the user that a regular inventory can't be turned into a smart inventory. ##### ACTUAL RESULTS ``` { ""detail"": ""Method \""PATCH\"" not allowed."" } ``` documentation-file documentation-file source-file other-file other-file other-file test-file documentation-file documentation-file source-file other-file other-file other-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file test-file",bug,0.9
5478,awx,https://github.com/ansible/awx/issues/5478,Deleting Oauth token with itself throws 500 error,1. create an Oauth token for a user 2. delete the Oauth token using itself as the Bearer `curl -k -H 'Authorization: Bearer r8jwGD25D9rIDQ6F1lqcRwrejR9gR7' -X DELETE https://localhost/api/v2/tokens/21/` 3. Observe HTTP 500,source-file,Deleting Oauth token with itself throws 500 error 1. create an Oauth token for a user 2. delete the Oauth token using itself as the Bearer `curl -k -H 'Authorization: Bearer r8jwGD25D9rIDQ6F1lqcRwrejR9gR7' -X DELETE https://localhost/api/v2/tokens/21/` 3. Observe HTTP 500 source-file,bug,0.9
9864,awx,https://github.com/ansible/awx/issues/9864,Add option to select EE when launching ad-hoc commands,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to run jobs or plays in my own EE to get around #9863 but it fails It used to work doing it the way I'm doing in 18.0.0 with the EE image I made ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: k3s, awx-operator * Ansible version: unknown * Operating System: debian buster * Web Browser: n.a. ##### STEPS TO REPRODUCE - deploy 19.0.0 (with database migration from my ""live"" 17.1 awx, as described in https://github.com/ansible/awx-operator/blob/devel/docs/migration.md - that worked like a charm) - create a new execution environment using quay.io/mhomann/awx-ee-community:latest as the image - Set that execution environment as the default for your organization - try running win_ping adhoc against a windows host - observe as it fails with the above output - If you monitor your pod during this you will see that the worker spawns with the default EE image, not your custom one. ##### EXPECTED RESULTS A job should use the EE that is set as the default for the organization it is run in, if there is one specified in the organization ##### ACTUAL RESULTS see above: job uses default EE and fails due to #9863",other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Add option to select EE when launching ad-hoc commands <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY I'm trying to run jobs or plays in my own EE to get around #9863 but it fails It used to work doing it the way I'm doing in 18.0.0 with the EE image I made ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: k3s, awx-operator * Ansible version: unknown * Operating System: debian buster * Web Browser: n.a. ##### STEPS TO REPRODUCE - deploy 19.0.0 (with database migration from my ""live"" 17.1 awx, as described in https://github.com/ansible/awx-operator/blob/devel/docs/migration.md - that worked like a charm) - create a new execution environment using quay.io/mhomann/awx-ee-community:latest as the image - Set that execution environment as the default for your organization - try running win_ping adhoc against a windows host - observe as it fails with the above output - If you monitor your pod during this you will see that the worker spawns with the default EE image, not your custom one. ##### EXPECTED RESULTS A job should use the EE that is set as the default for the organization it is run in, if there is one specified in the organization ##### ACTUAL RESULTS see above: job uses default EE and fails due to #9863 other-file test-file other-file test-file test-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6800,awx,https://github.com/ansible/awx/issues/6800,"[ui_next] Toggle text 'of', at the pagination options/navigation menu, needs to be marked for translations","##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, toggle text 'of', at the Pagination Options menu, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successfull login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to ~/templates screen or ~/templates/workflow_job_template 'visualizer' screen 3. Observe the toggle text 'of' at Pagination options/navigation menu <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Toggle text 'of' should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Toggle text 'of' appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot highlighting toggle text 'of', at the pagination options/navigation menu, appearing in English: ![output_1](https://user-images.githubusercontent.com/12151785/80010283-d4c1bd80-84e7-11ea-9300-27cce370cb35.gif) 2. Affects pagination nav of other forms (within the Resources and Access nav links) too <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"[ui_next] Toggle text 'of', at the pagination options/navigation menu, needs to be marked for translations ##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, toggle text 'of', at the Pagination Options menu, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successfull login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to ~/templates screen or ~/templates/workflow_job_template 'visualizer' screen 3. Observe the toggle text 'of' at Pagination options/navigation menu <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Toggle text 'of' should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Toggle text 'of' appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot highlighting toggle text 'of', at the pagination options/navigation menu, appearing in English: ![output_1](https://user-images.githubusercontent.com/12151785/80010283-d4c1bd80-84e7-11ea-9300-27cce370cb35.gif) 2. Affects pagination nav of other forms (within the Resources and Access nav links) too <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.9
9177,awx,https://github.com/ansible/awx/issues/9177,In continuation of being inclusive update django-cors-headers,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> This is in continuation to this commit: https://github.com/ansible/awx/commit/78229f58715fbfbf88177e54031f532543b57acc django-cors-headers have updated certain environment variables as part of being inclusive: https://github.com/adamchainz/django-cors-headers/blob/master/HISTORY.rst#350-2020-08-25 We have been using django-cors-headers==3.2.1 for sometime now, we updated django but not the django-cors-headers. We should do that at some point. We use CORS_ORIGIN_REGEX_WHITELIST and mention about it in docs as well here: https://docs.ansible.com/ansible-tower/latest/html/administration/oauth2_token_auth.html#application-using-authorization-code-grant-type",documentation-file | other-file | other-file | documentation-file | other-file | other-file,"In continuation of being inclusive update django-cors-headers <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> This is in continuation to this commit: https://github.com/ansible/awx/commit/78229f58715fbfbf88177e54031f532543b57acc django-cors-headers have updated certain environment variables as part of being inclusive: https://github.com/adamchainz/django-cors-headers/blob/master/HISTORY.rst#350-2020-08-25 We have been using django-cors-headers==3.2.1 for sometime now, we updated django but not the django-cors-headers. We should do that at some point. We use CORS_ORIGIN_REGEX_WHITELIST and mention about it in docs as well here: https://docs.ansible.com/ansible-tower/latest/html/administration/oauth2_token_auth.html#application-using-authorization-code-grant-type documentation-file other-file other-file documentation-file other-file other-file",no-bug,0.9
5106,awx,https://github.com/ansible/awx/issues/5106,Show missing/deleted projects and inventories in JT details,"##### ISSUE TYPE - Feature Idea ##### SUMMARY When looking at the details view of a JT with a deleted project and inventory the fields simply aren't present: <img width=""1530"" alt=""Screen Shot 2019-10-24 at 4 39 40 PM"" src=""https://user-images.githubusercontent.com/9889020/67523712-3d38fa80-f67d-11e9-87aa-550caa7a862a.png""> I'm wondering if we should instead show the fields and indicate that the resources have been deleted. Something like: <img width=""1511"" alt=""Screen Shot 2019-10-24 at 4 43 39 PM"" src=""https://user-images.githubusercontent.com/9889020/67523833-74a7a700-f67d-11e9-9571-e797dedee2ec.png""> @trahman73 @wenottingham for",other-file | test-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file,"Show missing/deleted projects and inventories in JT details ##### ISSUE TYPE - Feature Idea ##### SUMMARY When looking at the details view of a JT with a deleted project and inventory the fields simply aren't present: <img width=""1530"" alt=""Screen Shot 2019-10-24 at 4 39 40 PM"" src=""https://user-images.githubusercontent.com/9889020/67523712-3d38fa80-f67d-11e9-87aa-550caa7a862a.png""> I'm wondering if we should instead show the fields and indicate that the resources have been deleted. Something like: <img width=""1511"" alt=""Screen Shot 2019-10-24 at 4 43 39 PM"" src=""https://user-images.githubusercontent.com/9889020/67523833-74a7a700-f67d-11e9-9571-e797dedee2ec.png""> @trahman73 @wenottingham for other-file test-file test-file other-file test-file other-file other-file test-file source-file",no-bug,0.9
6653,awx,https://github.com/ansible/awx/issues/6653,Machine credentials are refused by tower_job_template,"##### ISSUE TYPE - Bug Report ##### SUMMARY Can't create job template with tower_job_template because of credentials. Machine credentials (SSH) are refused. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Debian Buster * Web Browser: Firefox * AWX collection: 10.0.0 ##### STEPS TO REPRODUCE ``` - name: Creation templates tower_job_template: name: ""{{ item.name }}"" playbook: ""{{ item.playbook }}"" inventory: ""{{ awx_inventory }}"" project: ""{{ awx_inventory }}"" credentials: - ""ssh-root-key"" survey_enabled: yes survey_spec: name: ""survey {{ item.name }}"" description: """" spec: ""{{ item.survey_spec }}"" tower_host: ""{{ tower_host }}"" tower_username: ""{{ tower_username }}"" tower_password: ""{{ tower_password }}"" validate_certs: False with_items: ""{{ awx_job_templates }}"" loop_control: label: ""{{ item.name }}"" tags: templates ``` ##### EXPECTED RESULTS Template created ##### ACTUAL RESULTS ``` { ""ansible_loop_var"":""item"", ""changed"":false, ""item"":{ ""job_type"":""run"", ""name"":""Provisionning TWIN"", ""playbook"":""play-provisioning_twin.yml"", }, ""msg"":""Failed to add credential to job template: The Tower server claims it was sent a bad request.\n\nPOST https://localhost/api/v2/job_templates/9/extra_credentials/\nParams: None\nData: {\""id\"": 3, \""associate\"": true}\n\nResponse: {\""error\"":\""Extra credentials must be network or cloud.\""}"" } ``` ##### ADDITIONAL INFORMATION `credential: ""ssh-root-key""` kinda works, but according to the documentation it is deprecated. And when I go into the web interface, the credentials field is empty.",source-file | test-file,"Machine credentials are refused by tower_job_template ##### ISSUE TYPE - Bug Report ##### SUMMARY Can't create job template with tower_job_template because of credentials. Machine credentials (SSH) are refused. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.9.5 * Operating System: Debian Buster * Web Browser: Firefox * AWX collection: 10.0.0 ##### STEPS TO REPRODUCE ``` - name: Creation templates tower_job_template: name: ""{{ item.name }}"" playbook: ""{{ item.playbook }}"" inventory: ""{{ awx_inventory }}"" project: ""{{ awx_inventory }}"" credentials: - ""ssh-root-key"" survey_enabled: yes survey_spec: name: ""survey {{ item.name }}"" description: """" spec: ""{{ item.survey_spec }}"" tower_host: ""{{ tower_host }}"" tower_username: ""{{ tower_username }}"" tower_password: ""{{ tower_password }}"" validate_certs: False with_items: ""{{ awx_job_templates }}"" loop_control: label: ""{{ item.name }}"" tags: templates ``` ##### EXPECTED RESULTS Template created ##### ACTUAL RESULTS ``` { ""ansible_loop_var"":""item"", ""changed"":false, ""item"":{ ""job_type"":""run"", ""name"":""Provisionning TWIN"", ""playbook"":""play-provisioning_twin.yml"", }, ""msg"":""Failed to add credential to job template: The Tower server claims it was sent a bad request.\n\nPOST https://localhost/api/v2/job_templates/9/extra_credentials/\nParams: None\nData: {\""id\"": 3, \""associate\"": true}\n\nResponse: {\""error\"":\""Extra credentials must be network or cloud.\""}"" } ``` ##### ADDITIONAL INFORMATION `credential: ""ssh-root-key""` kinda works, but according to the documentation it is deprecated. And when I go into the web interface, the credentials field is empty. source-file test-file",bug,0.9
4987,awx,https://github.com/ansible/awx/issues/4987,Project Edit Form,##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4986 for field specific details,other-file,Project Edit Form ##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4986 for field specific details other-file,no-bug,0.9
4967,awx,https://github.com/ansible/awx/issues/4967,Support prompt on launch options in JT form,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Example: <img width=""470"" alt=""Screen Shot 2019-10-09 at 11 12 55 AM"" src=""https://user-images.githubusercontent.com/9889020/66494522-cb11c480-ea85-11e9-9f86-5fc845f3836c.png""> See mockups for more examples: https://tower-mockups.testing.ansible.com/patternfly/templates/templates-add/ Currently supported promptable fields: ask_scm_branch_on_launch ask_diff_mode_on_launch ask_variables_on_launch ask_limit_on_launch ask_tags_on_launch ask_skip_tags_on_launch ask_job_type_on_launch ask_verbosity_on_launch ask_inventory_on_launch ask_credential_on_launch",source-file | source-file,"Support prompt on launch options in JT form ##### ISSUE TYPE - Feature Idea ##### SUMMARY Example: <img width=""470"" alt=""Screen Shot 2019-10-09 at 11 12 55 AM"" src=""https://user-images.githubusercontent.com/9889020/66494522-cb11c480-ea85-11e9-9f86-5fc845f3836c.png""> See mockups for more examples: https://tower-mockups.testing.ansible.com/patternfly/templates/templates-add/ Currently supported promptable fields: ask_scm_branch_on_launch ask_diff_mode_on_launch ask_variables_on_launch ask_limit_on_launch ask_tags_on_launch ask_skip_tags_on_launch ask_job_type_on_launch ask_verbosity_on_launch ask_inventory_on_launch ask_credential_on_launch source-file source-file",no-bug,0.9
5959,awx,https://github.com/ansible/awx/issues/5959,command module has not applied the become: true flag,"##### ISSUE TYPE - Bug Report ##### SUMMARY Become flag on playbook and task does not appear to take effect. Command is run without sudo privileges ##### ENVIRONMENT * AWX version: 9.2.0 (also seen on 9.1.0) * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: Centos * Web Browser: Chrome 80.0.3987.106 ##### STEPS TO REPRODUCE playbook.yml: ``` --- - name: Check that this is only run once hosts: all become: true gather_facts: false tasks: - name: Have we run before when: _deploy_common_has_run is not defined import_role: name: role_ansible_prereqs - name: install Docker based Oracle hosts: all become: true tasks: - name: Have we run before when: _deploy_common_has_run is not defined block: - import_role: name: role_ca_certificates ``` role_ca_certificates/tasks/linux.yml ``` --- - name: Load OS Family specific defaults include_vars: ""defaults-{{ ansible_os_family }}.yml"" - name: Install CA Certificates package become: true package: name: ca-certificates state: present - name: Enable Cert Management (RHEL 6) when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version | int == 6 or ansible_distribution_major_version | int == 7 block: - name: ""Check CA Trust Expansion state"" become: true command: ""/usr/bin/update-ca-trust check"" check_mode: false changed_when: false register: result ... ``` User has been created with: PRIVILEGE ESCALATION METHOD: sudo PRIVILEGE ESCALATION USERNAME: <set> PRIVILEGE ESCALATION PASSWORD: <set> Target VM is a Centos7 based machine. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> /usr/bin/update-ca-trust check should operate without issue. ##### ACTUAL RESULTS <!-- What actually happened? --> The Check CA Trust Expansion state stage fails due to permission denied. There is no evidence that the stage was run with escalated privileges. ``` { ""changed"": false, ""end"": ""2020-02-17 17:12:16.558452"", ""stdout"": """", ""cmd"": [ ""/usr/bin/update-ca-trust"", ""check"" ], ""delta"": ""0:00:00.746504"", ""stderr"": ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/email-ca-bundle.pem: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/objsign-ca-bundle.pem: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/java/cacerts: Permission denied"", ""rc"": 1, ""invocation"": { ""module_args"": { ""creates"": null, ""executable"": null, ""_uses_shell"": false, ""strip_empty_ends"": true, ""_raw_params"": ""/usr/bin/update-ca-trust check"", ""removes"": null, ""argv"": null, ""warn"": true, ""chdir"": null, ""stdin_add_newline"": true, ""stdin"": null } }, ""start"": ""2020-02-17 17:12:15.811948"", ""msg"": ""non-zero return code"", ""stdout_lines"": [], ""stderr_lines"": [ ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/email-ca-bundle.pem: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/objsign-ca-bundle.pem: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/java/cacerts: Permission denied"" ], ""_ansible_no_log"": false } ``` I know that I can run the command with sudo and it will work: ``` [dev@jm5_vm1 ~]$ /usr/bin/update-ca-trust check p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/email-ca-bundle.pem: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/objsign-ca-bundle.pem: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/java/cacerts: Permission denied [dev@jm5_vm1 ~]$ sudo /usr/bin/update-ca-trust check [sudo] password for dev: [dev@jm5_vm1 ~]$ ``` So why does AWX not run command and obey the become: true flag ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"command module has not applied the become: true flag ##### ISSUE TYPE - Bug Report ##### SUMMARY Become flag on playbook and task does not appear to take effect. Command is run without sudo privileges ##### ENVIRONMENT * AWX version: 9.2.0 (also seen on 9.1.0) * AWX install method: docker on linux * Ansible version: 2.9.3 * Operating System: Centos * Web Browser: Chrome 80.0.3987.106 ##### STEPS TO REPRODUCE playbook.yml: ``` --- - name: Check that this is only run once hosts: all become: true gather_facts: false tasks: - name: Have we run before when: _deploy_common_has_run is not defined import_role: name: role_ansible_prereqs - name: install Docker based Oracle hosts: all become: true tasks: - name: Have we run before when: _deploy_common_has_run is not defined block: - import_role: name: role_ca_certificates ``` role_ca_certificates/tasks/linux.yml ``` --- - name: Load OS Family specific defaults include_vars: ""defaults-{{ ansible_os_family }}.yml"" - name: Install CA Certificates package become: true package: name: ca-certificates state: present - name: Enable Cert Management (RHEL 6) when: - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version | int == 6 or ansible_distribution_major_version | int == 7 block: - name: ""Check CA Trust Expansion state"" become: true command: ""/usr/bin/update-ca-trust check"" check_mode: false changed_when: false register: result ... ``` User has been created with: PRIVILEGE ESCALATION METHOD: sudo PRIVILEGE ESCALATION USERNAME: <set> PRIVILEGE ESCALATION PASSWORD: <set> Target VM is a Centos7 based machine. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> /usr/bin/update-ca-trust check should operate without issue. ##### ACTUAL RESULTS <!-- What actually happened? --> The Check CA Trust Expansion state stage fails due to permission denied. There is no evidence that the stage was run with escalated privileges. ``` { ""changed"": false, ""end"": ""2020-02-17 17:12:16.558452"", ""stdout"": """", ""cmd"": [ ""/usr/bin/update-ca-trust"", ""check"" ], ""delta"": ""0:00:00.746504"", ""stderr"": ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/email-ca-bundle.pem: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/objsign-ca-bundle.pem: Permission denied\np11-kit: couldn't create file: /etc/pki/ca-trust/extracted/java/cacerts: Permission denied"", ""rc"": 1, ""invocation"": { ""module_args"": { ""creates"": null, ""executable"": null, ""_uses_shell"": false, ""strip_empty_ends"": true, ""_raw_params"": ""/usr/bin/update-ca-trust check"", ""removes"": null, ""argv"": null, ""warn"": true, ""chdir"": null, ""stdin_add_newline"": true, ""stdin"": null } }, ""start"": ""2020-02-17 17:12:15.811948"", ""msg"": ""non-zero return code"", ""stdout_lines"": [], ""stderr_lines"": [ ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/email-ca-bundle.pem: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/objsign-ca-bundle.pem: Permission denied"", ""p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/java/cacerts: Permission denied"" ], ""_ansible_no_log"": false } ``` I know that I can run the command with sudo and it will work: ``` [dev@jm5_vm1 ~]$ /usr/bin/update-ca-trust check p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/email-ca-bundle.pem: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/pem/objsign-ca-bundle.pem: Permission denied p11-kit: couldn't create file: /etc/pki/ca-trust/extracted/java/cacerts: Permission denied [dev@jm5_vm1 ~]$ sudo /usr/bin/update-ca-trust check [sudo] password for dev: [dev@jm5_vm1 ~]$ ``` So why does AWX not run command and obey the become: true flag ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.9
11930,awx,https://github.com/ansible/awx/issues/11930,Credential Search Filter- Request Ability to Filter by Type,"On the list of Credentials, the Type name is shown in the list next to each credential. However, a user cannot filter and just see Amazon Web Services, or Insights, or HashiCorp Vault Secret Lookup, for example. I think that this would be a helpful addition from a user experience perspective. ![image](https://user-images.githubusercontent.com/63685497/159350649-effa369b-ad68-43ff-a3f6-4b8c794afcf3.png)",source-file,"Credential Search Filter- Request Ability to Filter by Type On the list of Credentials, the Type name is shown in the list next to each credential. However, a user cannot filter and just see Amazon Web Services, or Insights, or HashiCorp Vault Secret Lookup, for example. I think that this would be a helpful addition from a user experience perspective. ![image](https://user-images.githubusercontent.com/63685497/159350649-effa369b-ad68-43ff-a3f6-4b8c794afcf3.png) source-file",no-bug,0.9
10332,awx,https://github.com/ansible/awx/issues/10332,Job Settings Page Break,##### ISSUE TYPE - Bug Report ##### SUMMARY Note the Job Settings section label is not directly above the Job Settings link ![Screen Shot 2021-06-02 at 9 13 57 AM](https://user-images.githubusercontent.com/39280967/120486358-f647d680-c382-11eb-9cd9-018b037389ae.png) ##### ENVIRONMENT * AWX version: 19.1 * AWX install method: docker for mac * Ansible version: * Operating System: Mojave * Web Browser: Firefox ##### STEPS TO REPRODUCE See screenshot above ##### ADDITIONAL INFORMATION,other-file | other-file | other-file | other-file,Job Settings Page Break ##### ISSUE TYPE - Bug Report ##### SUMMARY Note the Job Settings section label is not directly above the Job Settings link ![Screen Shot 2021-06-02 at 9 13 57 AM](https://user-images.githubusercontent.com/39280967/120486358-f647d680-c382-11eb-9cd9-018b037389ae.png) ##### ENVIRONMENT * AWX version: 19.1 * AWX install method: docker for mac * Ansible version: * Operating System: Mojave * Web Browser: Firefox ##### STEPS TO REPRODUCE See screenshot above ##### ADDITIONAL INFORMATION other-file other-file other-file other-file,no-bug,0.9
5193,awx,https://github.com/ansible/awx/issues/5193,"In tower_inventory_source, take organization parameter for inventory org","##### ISSUE TYPE - Feature Idea ##### SUMMARY If you create an inventory source like this: ```yaml tower_inventory_source: name: source-test-inventory inventory: openstack-test-inventory source: ec2 ``` It will fail if there are 2 versions of ""openstack-test-inventory"" in different organizations. This module should have the organization parameter added, and filter the inventory according to that. Basically this is to track cherry-picking https://github.com/ansible/ansible/pull/63100",source-file,"In tower_inventory_source, take organization parameter for inventory org ##### ISSUE TYPE - Feature Idea ##### SUMMARY If you create an inventory source like this: ```yaml tower_inventory_source: name: source-test-inventory inventory: openstack-test-inventory source: ec2 ``` It will fail if there are 2 versions of ""openstack-test-inventory"" in different organizations. This module should have the organization parameter added, and filter the inventory according to that. Basically this is to track cherry-picking https://github.com/ansible/ansible/pull/63100 source-file",no-bug,0.9
6362,awx,https://github.com/ansible/awx/issues/6362,Can't Edit JT with no Inventory,"##### ISSUE TYPE - Bug Report ##### SUMMARY Can't Edit JT with no Inventory but Inventory Prompt on Launch ##### ENVIRONMENT * AWX version: 2.9 * AWX install method: docker for mac * Ansible version: 9.2 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a JT with no inventory, but click the Prompt On Launch checkbox. Go back and edit that inventory, but keep the inventory field empty and prompt on launch for it checked. ##### EXPECTED RESULTS The JT can be saved ##### ACTUAL RESULTS See that the JT can't be saved and returns a 400 error",source-file | source-file | source-file | test-file,"Can't Edit JT with no Inventory ##### ISSUE TYPE - Bug Report ##### SUMMARY Can't Edit JT with no Inventory but Inventory Prompt on Launch ##### ENVIRONMENT * AWX version: 2.9 * AWX install method: docker for mac * Ansible version: 9.2 * Operating System: Mojave * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a JT with no inventory, but click the Prompt On Launch checkbox. Go back and edit that inventory, but keep the inventory field empty and prompt on launch for it checked. ##### EXPECTED RESULTS The JT can be saved ##### ACTUAL RESULTS See that the JT can't be saved and returns a 400 error source-file source-file source-file test-file",bug,0.9
6258,awx,https://github.com/ansible/awx/issues/6258,update notifications whitelist,"##### ISSUE TYPE - Feature Idea ##### SUMMARY One of the main deployment information is the tag and/or branch version, or the scm_branch parameter is not available through the job dictionary and so notifications cannot include that common field. Could you please add it to the JOB_FIELDS_WHITELIST in notifications.yml? thank you.",source-file | test-file,"update notifications whitelist ##### ISSUE TYPE - Feature Idea ##### SUMMARY One of the main deployment information is the tag and/or branch version, or the scm_branch parameter is not available through the job dictionary and so notifications cannot include that common field. Could you please add it to the JOB_FIELDS_WHITELIST in notifications.yml? thank you. source-file test-file",no-bug,0.9
4430,awx,https://github.com/ansible/awx/issues/4430,Add host details modal to output,"##### SUMMARY More detail may be needed in this issue but I'm going to do my best to include what's needed/where to look for more information in the existing application. [Link to mockups](https://tower-mockups.testing.ansible.com/patternfly/jobs/jobs-output-host-modal/) To see the existing logic governing whether or not an event row is clickable reference [this bit of logic](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/render.service.js#L266). When an event meets ^^ that criteria, the user should be able to click on the line and see the [host details modal](https://tower-mockups.testing.ansible.com/patternfly/jobs/jobs-output-host-modal/). The content of the modal varies based on certain conditions. JSON is always visible. The standard out/standard error are only shown when available. You can see that existing logic [here](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event-modal.partial.html#L41). Whether or not stdout/stderr are available is determined [here](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event.controller.js#L34). As far as I can tell, the content of the stdout/stderr tabs comes straight from the API. @jakemcdermott is that accurate? Here are links to the [stdout](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event-stdout.partial.html) and [stderr](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event-stderr.partial.html) detail partials. Note that we'll need the sparkline in this modal. That portion will be gated on #4225.",source-file,"Add host details modal to output ##### SUMMARY More detail may be needed in this issue but I'm going to do my best to include what's needed/where to look for more information in the existing application. [Link to mockups](https://tower-mockups.testing.ansible.com/patternfly/jobs/jobs-output-host-modal/) To see the existing logic governing whether or not an event row is clickable reference [this bit of logic](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/render.service.js#L266). When an event meets ^^ that criteria, the user should be able to click on the line and see the [host details modal](https://tower-mockups.testing.ansible.com/patternfly/jobs/jobs-output-host-modal/). The content of the modal varies based on certain conditions. JSON is always visible. The standard out/standard error are only shown when available. You can see that existing logic [here](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event-modal.partial.html#L41). Whether or not stdout/stderr are available is determined [here](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event.controller.js#L34). As far as I can tell, the content of the stdout/stderr tabs comes straight from the API. @jakemcdermott is that accurate? Here are links to the [stdout](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event-stdout.partial.html) and [stderr](https://github.com/ansible/awx/blob/devel/awx/ui/client/features/output/host-event/host-event-stderr.partial.html) detail partials. Note that we'll need the sparkline in this modal. That portion will be gated on #4225. source-file",no-bug,0.9
10933,awx,https://github.com/ansible/awx/issues/10933,Button to cancel inventory source sync not being displayed,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Button to cancel inventory source sync not being displayed ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a inventory source - source from a project 2 - Go to inventory source list and click sync ### Expected results Button to cancel inventory source sync being displayed during sync. ### Actual results Button to cancel inventory source sync not being displayed during sync. <img width=""1486"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/130643472-a66bb210-5f16-4506-9319-3ad16398edff.png""> ### Additional information _No response_",source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | test-file,"Button to cancel inventory source sync not being displayed ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Button to cancel inventory source sync not being displayed ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1 - Create a inventory source - source from a project 2 - Go to inventory source list and click sync ### Expected results Button to cancel inventory source sync being displayed during sync. ### Actual results Button to cancel inventory source sync not being displayed during sync. <img width=""1486"" alt=""image"" src=""https://user-images.githubusercontent.com/9053044/130643472-a66bb210-5f16-4506-9319-3ad16398edff.png""> ### Additional information _No response_ source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
4566,awx,https://github.com/ansible/awx/issues/4566,RFE for CLI: Custom human output for metrics and settings,##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> `awx metrics -f human` and `awx settings list -f human` both return nonsense: ``` id name == ==== ``` Would be nice if they had some custom logic that had some better defaults for these two endpoints that have a different format that most of the list views.,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,RFE for CLI: Custom human output for metrics and settings ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> `awx metrics -f human` and `awx settings list -f human` both return nonsense: ``` id name == ==== ``` Would be nice if they had some custom logic that had some better defaults for these two endpoints that have a different format that most of the list views. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.9
9977,awx,https://github.com/ansible/awx/issues/9977,Schedule requires users to open survey prompt before they can save,##### ISSUE TYPE - Bug Report ##### SUMMARY If all the required survey questions on a JT have default answers then the user shouldn't have to open the prompt modal to create a schedule. ![schedule_add](https://user-images.githubusercontent.com/9889020/115620006-a2959800-a2c2-11eb-8aa9-5c3c9f4c93f4.gif) ##### STEPS TO REPRODUCE Create a JT Create a required survey question for JT with a default answer Attempt to create a schedule for JT without clicking on the prompt button,other-file | test-file | other-file | other-file | test-file,Schedule requires users to open survey prompt before they can save ##### ISSUE TYPE - Bug Report ##### SUMMARY If all the required survey questions on a JT have default answers then the user shouldn't have to open the prompt modal to create a schedule. ![schedule_add](https://user-images.githubusercontent.com/9889020/115620006-a2959800-a2c2-11eb-8aa9-5c3c9f4c93f4.gif) ##### STEPS TO REPRODUCE Create a JT Create a required survey question for JT with a default answer Attempt to create a schedule for JT without clicking on the prompt button other-file test-file other-file other-file test-file,no-bug,0.9
9955,awx,https://github.com/ansible/awx/issues/9955,Boolean fields on credential inputs sometimes display as true even when they're false,"##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE - check out [this pr](https://github.com/ansible/awx/pull/9951) - make a container registry credential - after making the cred, edit it and change the tls flag to false and save again - Note that when you return to the form it'll still display as a checked box but the api value is actually false - Observation: if you log the value of credential.inputs [in the form component](https://github.com/ansible/awx/blob/devel/awx/ui_next/src/screens/Credential/shared/CredentialForm.jsx#L240), it changes to true somehow during initialization.",other-file | test-file | documentation-file | documentation-file,"Boolean fields on credential inputs sometimes display as true even when they're false ##### ISSUE TYPE - Bug Report ##### STEPS TO REPRODUCE - check out [this pr](https://github.com/ansible/awx/pull/9951) - make a container registry credential - after making the cred, edit it and change the tls flag to false and save again - Note that when you return to the form it'll still display as a checked box but the api value is actually false - Observation: if you log the value of credential.inputs [in the form component](https://github.com/ansible/awx/blob/devel/awx/ui_next/src/screens/Credential/shared/CredentialForm.jsx#L240), it changes to true somehow during initialization. other-file test-file documentation-file documentation-file",no-bug,0.8
6010,awx,https://github.com/ansible/awx/issues/6010,2097151k isn't enough for everyone (job event id overflow),"##### ISSUE TYPE - Bug Report ##### SUMMARY The primary key for `main_jobevent` (and other event tables) is an `int`, which can only handle _at most_ 2B+ events before overflowing: https://www.postgresql.org/docs/9.1/datatype-numeric.html ``` tower=# select max(id) from public.main_jobevent; max ------------ 2147483647 ``` ##### STEPS TO REPRODUCE Run very chatty playbooks very often across very many devices. ##### EXPECTED RESULTS ![cady-heron](https://media.giphy.com/media/4zQ5yigKckj5u/giphy.gif) ##### ACTUAL RESULTS ![pac-man-bug](https://media.giphy.com/media/DWtn59Up9b5GE/giphy.gif)",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"2097151k isn't enough for everyone (job event id overflow) ##### ISSUE TYPE - Bug Report ##### SUMMARY The primary key for `main_jobevent` (and other event tables) is an `int`, which can only handle _at most_ 2B+ events before overflowing: https://www.postgresql.org/docs/9.1/datatype-numeric.html ``` tower=# select max(id) from public.main_jobevent; max ------------ 2147483647 ``` ##### STEPS TO REPRODUCE Run very chatty playbooks very often across very many devices. ##### EXPECTED RESULTS ![cady-heron](https://media.giphy.com/media/4zQ5yigKckj5u/giphy.gif) ##### ACTUAL RESULTS ![pac-man-bug](https://media.giphy.com/media/DWtn59Up9b5GE/giphy.gif) source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
9485,awx,https://github.com/ansible/awx/issues/9485,Job template form - Project field validation,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY After selecting a project, another request is made to fetch EE information but the error `Select a value for this field` still being displayed and only disappear when filling in another field ##### ENVIRONMENT Devel https://github.com/ansible/awx/commit/eb131f64ccdf3fb5750528ef41cc8941efba5118 ##### STEPS TO REPRODUCE 1. Navigate to Job template form 2. Select a project ##### EXPECTED RESULTS No field error message ##### ACTUAL RESULTS The message was displayed after selecting a project <!-- What actually happened? --> ##### ADDITIONAL INFORMATION ![jt1](https://user-images.githubusercontent.com/12464858/110006155-102c3b80-7cf8-11eb-8375-37fbb98def85.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file,"Job template form - Project field validation <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY After selecting a project, another request is made to fetch EE information but the error `Select a value for this field` still being displayed and only disappear when filling in another field ##### ENVIRONMENT Devel https://github.com/ansible/awx/commit/eb131f64ccdf3fb5750528ef41cc8941efba5118 ##### STEPS TO REPRODUCE 1. Navigate to Job template form 2. Select a project ##### EXPECTED RESULTS No field error message ##### ACTUAL RESULTS The message was displayed after selecting a project <!-- What actually happened? --> ##### ADDITIONAL INFORMATION ![jt1](https://user-images.githubusercontent.com/12464858/110006155-102c3b80-7cf8-11eb-8375-37fbb98def85.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> test-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file",no-bug,0.8
5224,awx,https://github.com/ansible/awx/issues/5224,AWX 9.0.0 bubblewrap needs setuid permission,"##### ISSUE TYPE - Bug Report ##### SUMMARY Error when running jobs. ""bwrap: Creating new namespace failed, likely because the kernel does not support user namespaces. bwrap must be installed setuid on such systems."" ##### ENVIRONMENT * AWX version: 9.0.0 * AWX install method: openshift * Ansible version: 2.8.5 * Operating System: CentOS 8.0.1905 * Web Browser: Any ##### STEPS TO REPRODUCE Run SCM Update or Inventory Sync jobs. No other jobs could be tried because they depend on these two. ##### EXPECTED RESULTS Jobs complete without error. ##### ACTUAL RESULTS bwrap: Creating new namespace failed, likely because the kernel does not support user namespaces. bwrap must be installed setuid on such systems. ##### ADDITIONAL INFORMATION Worked around error by running `chmod u+s /usr/bin/bwrap` in Dockerfile.j2 template. Here's a patch that applies the change: ``` diff --git a/installer/roles/image_build/templates/Dockerfile.j2 b/installer/roles/image_build/templates/Dockerfile.j2 index 64d7125..da16a47 100644 --- a/installer/roles/image_build/templates/Dockerfile.j2 +++ b/installer/roles/image_build/templates/Dockerfile.j2 @@ -49,6 +49,8 @@ RUN dnf -y update && \ xmlsec1-openssl-devel \ dnf-utils +RUN chmod u+s /usr/bin/bwrap + ADD https://github.com/krallin/tini/releases/download/v0.14.0/tini /tini RUN chmod +x /tini ```",container-file | container-file | container-file,"AWX 9.0.0 bubblewrap needs setuid permission ##### ISSUE TYPE - Bug Report ##### SUMMARY Error when running jobs. ""bwrap: Creating new namespace failed, likely because the kernel does not support user namespaces. bwrap must be installed setuid on such systems."" ##### ENVIRONMENT * AWX version: 9.0.0 * AWX install method: openshift * Ansible version: 2.8.5 * Operating System: CentOS 8.0.1905 * Web Browser: Any ##### STEPS TO REPRODUCE Run SCM Update or Inventory Sync jobs. No other jobs could be tried because they depend on these two. ##### EXPECTED RESULTS Jobs complete without error. ##### ACTUAL RESULTS bwrap: Creating new namespace failed, likely because the kernel does not support user namespaces. bwrap must be installed setuid on such systems. ##### ADDITIONAL INFORMATION Worked around error by running `chmod u+s /usr/bin/bwrap` in Dockerfile.j2 template. Here's a patch that applies the change: ``` diff --git a/installer/roles/image_build/templates/Dockerfile.j2 b/installer/roles/image_build/templates/Dockerfile.j2 index 64d7125..da16a47 100644 --- a/installer/roles/image_build/templates/Dockerfile.j2 +++ b/installer/roles/image_build/templates/Dockerfile.j2 @@ -49,6 +49,8 @@ RUN dnf -y update && \ xmlsec1-openssl-devel \ dnf-utils +RUN chmod u+s /usr/bin/bwrap + ADD https://github.com/krallin/tini/releases/download/v0.14.0/tini /tini RUN chmod +x /tini ``` container-file container-file container-file",no-bug,0.9
11113,awx,https://github.com/ansible/awx/issues/11113,slack URL uses /system/ instead of /management/ 404 (not found),"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When enabling slack notifications and running the management jobs, the URL parameter used is `/system/` instead of `/management/` Slacks `#/jobs/system/77/output` instead of `#/jobs/management/77/output` ### AWX version 19.3.0 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system linux ### Web browser Chrome ### Steps to reproduce Enable notifications for any management jobs ### Expected results https:/<domai>/#/jobs/**management**/77/output ### Actual results https:/<domai>/#/jobs/**system**/77/output ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file,"slack URL uses /system/ instead of /management/ 404 (not found) ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When enabling slack notifications and running the management jobs, the URL parameter used is `/system/` instead of `/management/` Slacks `#/jobs/system/77/output` instead of `#/jobs/management/77/output` ### AWX version 19.3.0 ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system linux ### Web browser Chrome ### Steps to reproduce Enable notifications for any management jobs ### Expected results https:/<domai>/#/jobs/**management**/77/output ### Actual results https:/<domai>/#/jobs/**system**/77/output ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
5935,awx,https://github.com/ansible/awx/issues/5935,custom facts can break fact cache,"##### ISSUE TYPE - Bug Report ##### SUMMARY User-forwarded traceback: ``` 2020-02-13 19:10:29,258 ERROR awx.main.tasks job 909 (successful) Final run hook errored. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 1411, in run self.final_run_hook(self.instance, status, private_data_dir, fact_modification_times, isolated_manager_instance=isolated_manager_instance) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 1864, in final_run_hook fact_modification_times, File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/models/jobs.py"", line 821, in finish_job_fact_cache ansible_local_system_id = ansible_facts.get('ansible_local', {}).get('insights', {}).get('system_id', None) AttributeError: 'str' object has no attribute 'get' ``` User stated they were returning custom windows facts. Assumption - this needs bulletproofed against arbitrary data structures in these namespaces. ##### ENVIRONMENT * AWX version: current",source-file | source-file | test-file,"custom facts can break fact cache ##### ISSUE TYPE - Bug Report ##### SUMMARY User-forwarded traceback: ``` 2020-02-13 19:10:29,258 ERROR awx.main.tasks job 909 (successful) Final run hook errored. Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 1411, in run self.final_run_hook(self.instance, status, private_data_dir, fact_modification_times, isolated_manager_instance=isolated_manager_instance) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/tasks.py"", line 1864, in final_run_hook fact_modification_times, File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/models/jobs.py"", line 821, in finish_job_fact_cache ansible_local_system_id = ansible_facts.get('ansible_local', {}).get('insights', {}).get('system_id', None) AttributeError: 'str' object has no attribute 'get' ``` User stated they were returning custom windows facts. Assumption - this needs bulletproofed against arbitrary data structures in these namespaces. ##### ENVIRONMENT * AWX version: current source-file source-file test-file",no-bug,0.9
6861,awx,https://github.com/ansible/awx/issues/6861,"[ui_next] Survey, SurveyList button 'Preview' and 2 button(s): 'x more' and 'Show Less' under type 'multiple-choice (multi-select)', needs to be marked for translations","##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, SurveyList button 'Preview' and 2 button(s): 'x more' and 'Show Less' under type 'multiple-choice (multi-select)', at 'Templates > Survey' screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to 'Templates > Survey' screen 3. Observe the text on: 2 buttons under type 'multiple-choice (multi-select)' and SurveyList button 'Preview', respectively <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS 1. Text on button(s): 'x more' | 'Show Less', appear in English 2. Text on buton: 'Preview', appear in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting, SurveyList button 'Preview' and 2 button(s): 'x more' and 'Show Less' under type 'multiple-choice (multi-select)' / mcms, appearing in English at 'Templates > Survey' screen, with Japanese google-chrome: ![output](https://user-images.githubusercontent.com/12151785/80522992-0a185080-89ab-11ea-83a4-a959f9d53281.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"[ui_next] Survey, SurveyList button 'Preview' and 2 button(s): 'x more' and 'Show Less' under type 'multiple-choice (multi-select)', needs to be marked for translations ##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, SurveyList button 'Preview' and 2 button(s): 'x more' and 'Show Less' under type 'multiple-choice (multi-select)', at 'Templates > Survey' screen, appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to 'Templates > Survey' screen 3. Observe the text on: 2 buttons under type 'multiple-choice (multi-select)' and SurveyList button 'Preview', respectively <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS 1. Text on button(s): 'x more' | 'Show Less', appear in English 2. Text on buton: 'Preview', appear in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting, SurveyList button 'Preview' and 2 button(s): 'x more' and 'Show Less' under type 'multiple-choice (multi-select)' / mcms, appearing in English at 'Templates > Survey' screen, with Japanese google-chrome: ![output](https://user-images.githubusercontent.com/12151785/80522992-0a185080-89ab-11ea-83a4-a959f9d53281.gif) <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file source-file other-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8194,awx,https://github.com/ansible/awx/issues/8194,Inventory/Project rbac broken on JT form,##### ISSUE TYPE - Bug Report ##### SUMMARY It currently looks like we're disabling the Project/Inventory lookups in the JT form if a user does not have the ability to create a project or inventory. See https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/Lookup/InventoryLookup.jsx#L60 and https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/Lookup/ProjectLookup.jsx#L58. This is not correct though. Here are the rules in the old UI: - Inventory Lookup 1. On the Add form we never disabled this lookup 2. On the Edit form we disabled this lookup if the user did not have the ability to GET the selected inventory OR GET the selected project OR GET all of the selected credentials. - Project Loookup 1. On the Add form we never disabled this lookup 2. On the Edit form we disabled this lookup if the user did not have the ability to GET the selected inventory OR GET the selected project OR GET all of the selected credentials. The reason why we can get away with not disabling the lookup on Add is because the Add button is hidden if the user does not have access to a project which they can use. The inventory field is not required (use can prompt on launch instead) so this field does not need to be disabled if there is no default. ##### STEPS TO REPRODUCE 1. Create an org called Foo 2. Create a project called Bar in any org (can be Foo) 3. Create a normal user that is a member of Foo 4. Grant normal user use permissions on Bar project 5. Log in as normal user and navigate to the JT Add form ##### EXPECTED RESULTS Inventory/Project lookups to be enabled ##### ACTUAL RESULTS Inventory/Project lookups are disabled,other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file,Inventory/Project rbac broken on JT form ##### ISSUE TYPE - Bug Report ##### SUMMARY It currently looks like we're disabling the Project/Inventory lookups in the JT form if a user does not have the ability to create a project or inventory. See https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/Lookup/InventoryLookup.jsx#L60 and https://github.com/ansible/awx/blob/devel/awx/ui_next/src/components/Lookup/ProjectLookup.jsx#L58. This is not correct though. Here are the rules in the old UI: - Inventory Lookup 1. On the Add form we never disabled this lookup 2. On the Edit form we disabled this lookup if the user did not have the ability to GET the selected inventory OR GET the selected project OR GET all of the selected credentials. - Project Loookup 1. On the Add form we never disabled this lookup 2. On the Edit form we disabled this lookup if the user did not have the ability to GET the selected inventory OR GET the selected project OR GET all of the selected credentials. The reason why we can get away with not disabling the lookup on Add is because the Add button is hidden if the user does not have access to a project which they can use. The inventory field is not required (use can prompt on launch instead) so this field does not need to be disabled if there is no default. ##### STEPS TO REPRODUCE 1. Create an org called Foo 2. Create a project called Bar in any org (can be Foo) 3. Create a normal user that is a member of Foo 4. Grant normal user use permissions on Bar project 5. Log in as normal user and navigate to the JT Add form ##### EXPECTED RESULTS Inventory/Project lookups to be enabled ##### ACTUAL RESULTS Inventory/Project lookups are disabled other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file,no-bug,0.8
10942,awx,https://github.com/ansible/awx/issues/10942,Empty survey list should follow same empty state pattern as rest of UI,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Survey empty state should render a tool bar on top of empty state message. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Go to template with no surveys ### Expected results Normal list toolbar should be rendered ### Actual results ![Screen Shot 2021-08-25 at 1 43 28 PM](https://user-images.githubusercontent.com/39280967/130839399-48cd749a-98e2-4095-bd6a-2a54acf26bf0.png) ### Additional information _No response_,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,Empty survey list should follow same empty state pattern as rest of UI ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Survey empty state should render a tool bar on top of empty state message. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Go to template with no surveys ### Expected results Normal list toolbar should be rendered ### Actual results ![Screen Shot 2021-08-25 at 1 43 28 PM](https://user-images.githubusercontent.com/39280967/130839399-48cd749a-98e2-4095-bd6a-2a54acf26bf0.png) ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,no-bug,0.9
12992,awx,https://github.com/ansible/awx/issues/12992,scm_url doesn't allow [IPV6]:portnum format,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary IPv6 addresses like `http://user:pass@[4444:5555:6666:7777:8888:11]:3000/sbf/foster.git` throws an error when attempting to sync a project with that scm_url `update_scm_url` is where the traceback is the issue is that we strip down the address and reform it, but when reforming we don't add the brackets back in. `netloc = u'@'.join(filter(None, [netloc, parts.hostname]))` parts.hostname does not include the brackets if the original url had brackets around the hostname, then we should re-add them back in ### AWX version awx: 21.5.1.dev244+g5b5aac675b.d20221003 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce create project with scm_url `http://user:pass@[4444:5555:6666:7777:8888:11]:3000/sbf/foster.git` attempt to launch a job ### Expected results job runs ### Actual results ```Traceback (most recent call last): File ""/awx_devel/awx/main/utils/common.py"", line 249, in update_scm_url if scm_type not in ('git', 'svn', 'insights', 'archive'): File ""/usr/lib64/python3.9/urllib/parse.py"", line 178, in port raise ValueError(message) from None ValueError: Port could not be cast to integer value as '5555:6666:7777:8888:11:3000' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/awx_devel/awx/main/tasks/jobs.py"", line 512, in run self.build_extra_vars_file(self.instance, private_data_dir) File ""/awx_devel/awx/main/tasks/jobs.py"", line 1228, in build_extra_vars_file scm_url, extra_vars_new = self._build_scm_url_extra_vars(project_update) File ""/awx_devel/awx/main/tasks/jobs.py"", line 1203, in _build_scm_url_extra_vars scm_url = update_scm_url(scm_type, scm_url, scp_format=True) File ""/awx_devel/awx/main/utils/common.py"", line 249, in update_scm_url if scm_type not in ('git', 'svn', 'insights', 'archive'): ValueError: Invalid git URL``` ### Additional information _No response_",test-file | source-file | test-file | source-file | test-file | source-file,"scm_url doesn't allow [IPV6]:portnum format ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary IPv6 addresses like `http://user:pass@[4444:5555:6666:7777:8888:11]:3000/sbf/foster.git` throws an error when attempting to sync a project with that scm_url `update_scm_url` is where the traceback is the issue is that we strip down the address and reform it, but when reforming we don't add the brackets back in. `netloc = u'@'.join(filter(None, [netloc, parts.hostname]))` parts.hostname does not include the brackets if the original url had brackets around the hostname, then we should re-add them back in ### AWX version awx: 21.5.1.dev244+g5b5aac675b.d20221003 ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce create project with scm_url `http://user:pass@[4444:5555:6666:7777:8888:11]:3000/sbf/foster.git` attempt to launch a job ### Expected results job runs ### Actual results ```Traceback (most recent call last): File ""/awx_devel/awx/main/utils/common.py"", line 249, in update_scm_url if scm_type not in ('git', 'svn', 'insights', 'archive'): File ""/usr/lib64/python3.9/urllib/parse.py"", line 178, in port raise ValueError(message) from None ValueError: Port could not be cast to integer value as '5555:6666:7777:8888:11:3000' During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/awx_devel/awx/main/tasks/jobs.py"", line 512, in run self.build_extra_vars_file(self.instance, private_data_dir) File ""/awx_devel/awx/main/tasks/jobs.py"", line 1228, in build_extra_vars_file scm_url, extra_vars_new = self._build_scm_url_extra_vars(project_update) File ""/awx_devel/awx/main/tasks/jobs.py"", line 1203, in _build_scm_url_extra_vars scm_url = update_scm_url(scm_type, scm_url, scp_format=True) File ""/awx_devel/awx/main/utils/common.py"", line 249, in update_scm_url if scm_type not in ('git', 'svn', 'insights', 'archive'): ValueError: Invalid git URL``` ### Additional information _No response_ test-file source-file test-file source-file test-file source-file",bug,0.9
5236,awx,https://github.com/ansible/awx/issues/5236,Add sparkline of recent jobs to expanded host row,"##### ISSUE TYPE - Feature Idea ##### SUMMARY The awx-pf interface for hosts exposes recent jobs in a sparkline (like templates) but the one piece of information that we're missing is the job `type`. The `type` is important because it allows us to navigate directly to the correct output page for the job in question without having to make an extra request. I tried this chunk: ``` d.setdefault('recent_jobs', [{ 'id': j.job.id, 'name': j.job.job_template.name if j.job.job_template is not None else """", 'status': j.job.status, 'finished': j.job.finished, 'type': j.job.get_real_instance_class()._meta.verbose_name.replace(' ', '_') } for j in obj.job_host_summaries.select_related('job__job_template').order_by('-created')[:5]]) ``` in `def get_summary_fields(self, obj):` in the `HostSerializer` but wasn't sure if that was performant or correct.",source-file | source-file | source-file,"Add sparkline of recent jobs to expanded host row ##### ISSUE TYPE - Feature Idea ##### SUMMARY The awx-pf interface for hosts exposes recent jobs in a sparkline (like templates) but the one piece of information that we're missing is the job `type`. The `type` is important because it allows us to navigate directly to the correct output page for the job in question without having to make an extra request. I tried this chunk: ``` d.setdefault('recent_jobs', [{ 'id': j.job.id, 'name': j.job.job_template.name if j.job.job_template is not None else """", 'status': j.job.status, 'finished': j.job.finished, 'type': j.job.get_real_instance_class()._meta.verbose_name.replace(' ', '_') } for j in obj.job_host_summaries.select_related('job__job_template').order_by('-created')[:5]]) ``` in `def get_summary_fields(self, obj):` in the `HostSerializer` but wasn't sure if that was performant or correct. source-file source-file source-file",no-bug,0.9
8428,awx,https://github.com/ansible/awx/issues/8428,Use single source of truth / variable for all doc link-outs in ui next,"This is somewhat of an auditing card as it may already be done in which case we can move this over to test-verification-and-close. Goal: We want all doc links to stay up-to-date and point to the right version automatically. Preferably this should be done in a way that requires no code changes from release to release but if we need to use a variable, just make sure everything is using the same variable (e.g imported from the same file) so the maintenance is minimal.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | other-file | test-file | other-file,"Use single source of truth / variable for all doc link-outs in ui next This is somewhat of an auditing card as it may already be done in which case we can move this over to test-verification-and-close. Goal: We want all doc links to stay up-to-date and point to the right version automatically. Preferably this should be done in a way that requires no code changes from release to release but if we need to use a variable, just make sure everything is using the same variable (e.g imported from the same file) so the maintenance is minimal. other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file other-file test-file other-file",no-bug,0.9
6456,awx,https://github.com/ansible/awx/issues/6456,Failed to resolve broker hostname,"##### ISSUE TYPE - Bug Report ##### SUMMARY After installing AWX using docker-compose and the provided installer, I am getting an error when trying to run a job. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker-compose for mac * Ansible version: 2.9.5 * Operating System: macOS Catalina * Web Browser: Safari ##### STEPS TO REPRODUCE 1. Install AWX using docker-compose for mac 2. Login web interface (http://localhost) 3. Add inventory, Project, Credential, Job Template 4. Launch Job Template ##### EXPECTED RESULTS Successfully finish Job ##### ACTUAL RESULTS Getting the following error on Safari: ""Call to /api/v2/jobs/10/relaunch/ failed. returned status: 504."" Seeing the following error on awx_task: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/utils/functional.py"", line 344, in retry_over_time return fun(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 283, in connect return self.connection File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 839, in connection self._connection = self._establish_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 794, in _establish_connection conn = self.transport.establish_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection conn.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/connection.py"", line 311, in connect self.transport.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 77, in connect self._connect(self.host, self.port, self.connect_timeout) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 148, in _connect ""failed to resolve broker hostname"")) OSError: failed to resolve broker hostname ##### ADDITIONAL INFORMATION",source-file,"Failed to resolve broker hostname ##### ISSUE TYPE - Bug Report ##### SUMMARY After installing AWX using docker-compose and the provided installer, I am getting an error when trying to run a job. ##### ENVIRONMENT * AWX version: 9.3.0 * AWX install method: docker-compose for mac * Ansible version: 2.9.5 * Operating System: macOS Catalina * Web Browser: Safari ##### STEPS TO REPRODUCE 1. Install AWX using docker-compose for mac 2. Login web interface (http://localhost) 3. Add inventory, Project, Credential, Job Template 4. Launch Job Template ##### EXPECTED RESULTS Successfully finish Job ##### ACTUAL RESULTS Getting the following error on Safari: ""Call to /api/v2/jobs/10/relaunch/ failed. returned status: 504."" Seeing the following error on awx_task: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/utils/functional.py"", line 344, in retry_over_time return fun(*args, **kwargs) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 283, in connect return self.connection File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 839, in connection self._connection = self._establish_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/connection.py"", line 794, in _establish_connection conn = self.transport.establish_connection() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/kombu/transport/pyamqp.py"", line 130, in establish_connection conn.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/connection.py"", line 311, in connect self.transport.connect() File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 77, in connect self._connect(self.host, self.port, self.connect_timeout) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/amqp/transport.py"", line 148, in _connect ""failed to resolve broker hostname"")) OSError: failed to resolve broker hostname ##### ADDITIONAL INFORMATION source-file",no-bug,0.9
8604,awx,https://github.com/ansible/awx/issues/8604,AWX collection: instance_group for projects and templates support,##### ISSUE TYPE - Feature Idea ##### SUMMARY This is needed when using multiple instance group. For now no options is available from the job_templates or inventory objects,source-file | test-file | source-file | test-file,AWX collection: instance_group for projects and templates support ##### ISSUE TYPE - Feature Idea ##### SUMMARY This is needed when using multiple instance group. For now no options is available from the job_templates or inventory objects source-file test-file source-file test-file,no-bug,0.9
6435,awx,https://github.com/ansible/awx/issues/6435,Strange flashing when using notification toggles,"##### ISSUE TYPE - Bug Report ##### SUMMARY Seen during investigation of https://github.com/ansible/awx/issues/5904, but occurs on all notification lists. Clicking a toggle makes _all_ the toggles flash, and also creates a strange blue border around the selected row (or an adjacent row). This should be cleaned up. ![ezgif-3-4bc4addae22d](https://user-images.githubusercontent.com/19942822/77660878-3e35c700-6f50-11ea-97f0-21b5b7f27ebd.gif)",source-file,"Strange flashing when using notification toggles ##### ISSUE TYPE - Bug Report ##### SUMMARY Seen during investigation of https://github.com/ansible/awx/issues/5904, but occurs on all notification lists. Clicking a toggle makes _all_ the toggles flash, and also creates a strange blue border around the selected row (or an adjacent row). This should be cleaned up. ![ezgif-3-4bc4addae22d](https://user-images.githubusercontent.com/19942822/77660878-3e35c700-6f50-11ea-97f0-21b5b7f27ebd.gif) source-file",no-bug,0.9
8006,awx,https://github.com/ansible/awx/issues/8006,using set_stats with large amounts of data slows down UI and API endpoints,"1. Create an inventory w/ 25+ (local connection) hosts. 2. Run this playbook w/ a 100MB artifact file for `set_stats`: ```yaml --- - hosts: all connection: local tasks: - set_stats: data: random_data: ""{{ lookup('file', 'random_data.txt') }}"" delegate_to: localhost ``` ```shell bash-4.4$ base64 /dev/urandom | head -c 100000000 > random_data.txt bash-4.4$ du -h random_data.txt 96M random_data.txt ``` 3. Go to `/api/v2/inventories/N/hosts/` 4. Become very, very sad: <img width=""372"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/91335777-e15c6800-e79e-11ea-8d52-f29c2efdbcf4.png"">",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"using set_stats with large amounts of data slows down UI and API endpoints 1. Create an inventory w/ 25+ (local connection) hosts. 2. Run this playbook w/ a 100MB artifact file for `set_stats`: ```yaml --- - hosts: all connection: local tasks: - set_stats: data: random_data: ""{{ lookup('file', 'random_data.txt') }}"" delegate_to: localhost ``` ```shell bash-4.4$ base64 /dev/urandom | head -c 100000000 > random_data.txt bash-4.4$ du -h random_data.txt 96M random_data.txt ``` 3. Go to `/api/v2/inventories/N/hosts/` 4. Become very, very sad: <img width=""372"" alt=""image"" src=""https://user-images.githubusercontent.com/214912/91335777-e15c6800-e79e-11ea-8d52-f29c2efdbcf4.png""> source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
9817,awx,https://github.com/ansible/awx/issues/9817,CSP violation errors on job details and job settings views,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY ##### ENVIRONMENT - dev environment, `make ui-devel`, port `8043` ##### STEPS TO REPRODUCE - run `make ui-devel` to create a production bundle of the ui - using port `8043` in the dev environment, navigate to the job details panel of a job template run or go to the job settings page ##### EXPECTED RESULTS - no CSP errors in console ##### ACTUAL RESULTS - CSP error in console ##### ADDITIONAL INFORMATION After some debugging by @jbradberry @ryanpetrello , appears to be related to [this code](https://github.com/ajaxorg/ace/blob/94422a4a892495564c56089af85019a8f8f24673/lib/ace/worker/worker_client.js#L46) cc @ryanpetrello @keithjgrant",other-file,"CSP violation errors on job details and job settings views <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY ##### ENVIRONMENT - dev environment, `make ui-devel`, port `8043` ##### STEPS TO REPRODUCE - run `make ui-devel` to create a production bundle of the ui - using port `8043` in the dev environment, navigate to the job details panel of a job template run or go to the job settings page ##### EXPECTED RESULTS - no CSP errors in console ##### ACTUAL RESULTS - CSP error in console ##### ADDITIONAL INFORMATION After some debugging by @jbradberry @ryanpetrello , appears to be related to [this code](https://github.com/ajaxorg/ace/blob/94422a4a892495564c56089af85019a8f8f24673/lib/ace/worker/worker_client.js#L46) cc @ryanpetrello @keithjgrant other-file",no-bug,0.9
4950,awx,https://github.com/ansible/awx/issues/4950,Hide max hosts field on org form,"##### ISSUE TYPE - Bug Report ##### SUMMARY Hide max hosts field on Organization Add and Edit Form when installation type is AWX. Field only applies to licensed installations (i.e. Tower). <img width=""1467"" alt=""Screen Shot 2019-10-09 at 9 59 09 AM"" src=""https://user-images.githubusercontent.com/9889020/66488178-854ffe80-ea7b-11e9-8fe5-062f0bdf292e.png"">",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Hide max hosts field on org form ##### ISSUE TYPE - Bug Report ##### SUMMARY Hide max hosts field on Organization Add and Edit Form when installation type is AWX. Field only applies to licensed installations (i.e. Tower). <img width=""1467"" alt=""Screen Shot 2019-10-09 at 9 59 09 AM"" src=""https://user-images.githubusercontent.com/9889020/66488178-854ffe80-ea7b-11e9-8fe5-062f0bdf292e.png""> other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
4961,awx,https://github.com/ansible/awx/issues/4961,JT Survey tab,##### ISSUE TYPE - Feature Idea ##### SUMMARY This is a placeholder - more details to come,source-file | source-file | test-file,JT Survey tab ##### ISSUE TYPE - Feature Idea ##### SUMMARY This is a placeholder - more details to come source-file source-file test-file,no-bug,0.9
7325,awx,https://github.com/ansible/awx/issues/7325,Add Custom Credential Type,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add feature to add Custom Credential Type,test-file | other-file | test-file | other-file | test-file | documentation-file | source-file | other-file | source-file | test-file | test-file | other-file | test-file | other-file | test-file | documentation-file | source-file | other-file | source-file | test-file | test-file | other-file | test-file | other-file | test-file | documentation-file | source-file | other-file | source-file | test-file | test-file | other-file | test-file | other-file | test-file | documentation-file | source-file | other-file | source-file | test-file | test-file | other-file | test-file | other-file | test-file | documentation-file | source-file | other-file | source-file | test-file | test-file | other-file | test-file | other-file | test-file | documentation-file | source-file | other-file | source-file | test-file,Add Custom Credential Type ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add feature to add Custom Credential Type test-file other-file test-file other-file test-file documentation-file source-file other-file source-file test-file test-file other-file test-file other-file test-file documentation-file source-file other-file source-file test-file test-file other-file test-file other-file test-file documentation-file source-file other-file source-file test-file test-file other-file test-file other-file test-file documentation-file source-file other-file source-file test-file test-file other-file test-file other-file test-file documentation-file source-file other-file source-file test-file test-file other-file test-file other-file test-file documentation-file source-file other-file source-file test-file,no-bug,0.9
9329,awx,https://github.com/ansible/awx/issues/9329,Log correlation IDs for requests,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Implement [`django-guid`](https://github.com/snok/django-guid) to attach a correlation ID for all logs related to a request. I think it's best described in the README of the package, but attaching a Correlation ID to every log message makes debugging easier. We implement it manually for our running AWX container, but I think everyone would benefit from this. Disclaimer: I'm the author of the package. If accepted, I would love to raise a PR.",source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | other-file | other-file | other-file,"Log correlation IDs for requests <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Implement [`django-guid`](https://github.com/snok/django-guid) to attach a correlation ID for all logs related to a request. I think it's best described in the README of the package, but attaching a Correlation ID to every log message makes debugging easier. We implement it manually for our running AWX container, but I think everyone would benefit from this. Disclaimer: I'm the author of the package. If accepted, I would love to raise a PR. source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file other-file other-file other-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file other-file other-file other-file",no-bug,0.95
6475,awx,https://github.com/ansible/awx/issues/6475,Integrate ansible-cmdb,##### ISSUE TYPE It would be cool if awx could expose https://ansible-cmdb.readthedocs.io/en/latest/usage/ for all inventories. ##### SUMMARY Have page that is similar to https://ansible-cmdb.readthedocs.io/en/latest/usage/ What do you think?,other-file,Integrate ansible-cmdb ##### ISSUE TYPE It would be cool if awx could expose https://ansible-cmdb.readthedocs.io/en/latest/usage/ for all inventories. ##### SUMMARY Have page that is similar to https://ansible-cmdb.readthedocs.io/en/latest/usage/ What do you think? other-file,no-bug,0.9
5827,awx,https://github.com/ansible/awx/issues/5827,Ansible 2.9.4 in AWX?,"Hi all, on my host system, I already have Ansible 2.9.4 installed. After writing a playbook with ios_vlans and importing it to AWX, I noticed, that AWX is still running Ansible 2.8.5, where ios_vlans is not implemented. When will 2.9.x come to AWX or is there a way to manually update Ansible in AWX? Cheers, Marcus",source-file,"Ansible 2.9.4 in AWX? Hi all, on my host system, I already have Ansible 2.9.4 installed. After writing a playbook with ios_vlans and importing it to AWX, I noticed, that AWX is still running Ansible 2.8.5, where ios_vlans is not implemented. When will 2.9.x come to AWX or is there a way to manually update Ansible in AWX? Cheers, Marcus source-file",no-bug,0.9
7984,awx,https://github.com/ansible/awx/issues/7984,Fix Delete button styles on Survey's list,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY According to #7041 the danger button styles should only be applied to destructive final actions and trying to select a survey inside a job template, the danger delete button is shown instead of secondary variant. ##### ENVIRONMENT * AWX version: 14.0.0 * AWX install method: docker for mac * Ansible version: 2.9.11 * Operating System: MacOs * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Navigate to Survey tab inside job template 2. Select a Survey item 3. View delete button ##### EXPECTED RESULTS Delete button should be styled with the secondary variant ![image](https://user-images.githubusercontent.com/12464858/91095060-18f9d180-e632-11ea-83f9-64da2e6dae41.png) <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Delete button should be styled with the danger variant ![image](https://user-images.githubusercontent.com/12464858/91095106-2d3dce80-e632-11ea-967c-c6d1175282a2.png) <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file,"Fix Delete button styles on Survey's list <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY According to #7041 the danger button styles should only be applied to destructive final actions and trying to select a survey inside a job template, the danger delete button is shown instead of secondary variant. ##### ENVIRONMENT * AWX version: 14.0.0 * AWX install method: docker for mac * Ansible version: 2.9.11 * Operating System: MacOs * Web Browser: Chrome ##### STEPS TO REPRODUCE 1. Navigate to Survey tab inside job template 2. Select a Survey item 3. View delete button ##### EXPECTED RESULTS Delete button should be styled with the secondary variant ![image](https://user-images.githubusercontent.com/12464858/91095060-18f9d180-e632-11ea-83f9-64da2e6dae41.png) <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Delete button should be styled with the danger variant ![image](https://user-images.githubusercontent.com/12464858/91095106-2d3dce80-e632-11ea-967c-c6d1175282a2.png) <!-- What actually happened? --> ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file",no-bug,0.95
5648,awx,https://github.com/ansible/awx/issues/5648,VMware dynamic inventory fails in awx 9.1.0 with py env 3,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Not able to update vmware inventory. I tried the approach tried here: [https://github.com/ansible/awx/issues/4156](url) but did not resolve the issue. ##### ENVIRONMENT * AWX version: 9.1.0 * AWX install method: docker on linux * Ansible version: 2.9,2 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> AWX 9.1.0 installed and setup a ""VMware vCenter"" inventory. This worked in AWX 6.1.0 with ansible 2.8.6. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Update of inventory. ##### ACTUAL RESULTS <!-- What actually happened? --> ``` 4.545 INFO Updating inventory 28: VCENTER_INVENTORY 5.489 INFO Reading Ansible inventory source: /var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/plugins/inventory/vmware_inventory.py 5.495 INFO Using VIRTUAL_ENV: /var/lib/awx/venv/ansible 5.495 INFO Using PATH: /var/lib/awx/venv/ansible/bin:/var/lib/awx/venv/awx/bin:/var/lib/awx/venv/awx/bin:/var/lib/awx/venv/awx/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 5.496 INFO Using PYTHONPATH: /var/lib/awx/venv/ansible/lib/python3.6/site-packages: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/bin/awx-manage"", line 11, in <module> load_entry_point('awx==9.1.0', 'console_scripts', 'awx-manage')() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py"", line 165, in manage execute_from_command_line(sys.argv) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line utility.execute() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute self.fetch_command(subcommand).run_from_argv(self.argv) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv self.execute(*args, **cmd_options) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py"", line 364, in execute output = self.handle(*args, **options) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1158, in handle raise exc File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1048, in handle venv_path=venv_path, verbosity=self.verbosity).load() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 215, in load return self.command_to_json(base_args + ['--list']) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 198, in command_to_json self.method, proc.returncode, stdout, stderr)) RuntimeError: ansible-inventory failed (rc=1) with stdout: stderr: ansible-inventory 2.9.2 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.6/site-packages/ansible executable location = /usr/local/bin/ansible-inventory python version = 3.6.8 (default, Oct 7 2019, 17:58:22) [GCC 8.2.1 20180905 (Red Hat 8.2.1-3)] Using /etc/ansible/ansible.cfg as config file [WARNING]: * Failed to parse /var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py with script plugin: Inventory script (/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py) had an execution error: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 792, in <module> print(VMWareInventory().show()) File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 146, in __init__ self.do_api_calls_update_cache() File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 185, in do_api_calls_update_cache self.inventory = self.instances_to_inventory(self.get_instances()) File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 364, in get_instances return self._get_instances(kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 381, in _get_instances if not si: UnboundLocalError: local variable 'si' referenced before assignment File ""/usr/local/lib/python3.6/site-packages/ansible/inventory/manager.py"", line 280, in parse_source plugin.parse(self._inventory, self._loader, source, cache=cache) File ""/usr/local/lib/python3.6/site-packages/ansible/plugins/inventory/script.py"", line 161, in parse raise AnsibleParserError(to_native(e)) [WARNING]: Unable to parse /var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"VMware dynamic inventory fails in awx 9.1.0 with py env 3 ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Not able to update vmware inventory. I tried the approach tried here: [https://github.com/ansible/awx/issues/4156](url) but did not resolve the issue. ##### ENVIRONMENT * AWX version: 9.1.0 * AWX install method: docker on linux * Ansible version: 2.9,2 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> AWX 9.1.0 installed and setup a ""VMware vCenter"" inventory. This worked in AWX 6.1.0 with ansible 2.8.6. ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Update of inventory. ##### ACTUAL RESULTS <!-- What actually happened? --> ``` 4.545 INFO Updating inventory 28: VCENTER_INVENTORY 5.489 INFO Reading Ansible inventory source: /var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/plugins/inventory/vmware_inventory.py 5.495 INFO Using VIRTUAL_ENV: /var/lib/awx/venv/ansible 5.495 INFO Using PATH: /var/lib/awx/venv/ansible/bin:/var/lib/awx/venv/awx/bin:/var/lib/awx/venv/awx/bin:/var/lib/awx/venv/awx/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 5.496 INFO Using PYTHONPATH: /var/lib/awx/venv/ansible/lib/python3.6/site-packages: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/bin/awx-manage"", line 11, in <module> load_entry_point('awx==9.1.0', 'console_scripts', 'awx-manage')() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/__init__.py"", line 165, in manage execute_from_command_line(sys.argv) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py"", line 381, in execute_from_command_line utility.execute() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/__init__.py"", line 375, in execute self.fetch_command(subcommand).run_from_argv(self.argv) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py"", line 323, in run_from_argv self.execute(*args, **cmd_options) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/django/core/management/base.py"", line 364, in execute output = self.handle(*args, **options) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1158, in handle raise exc File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 1048, in handle venv_path=venv_path, verbosity=self.verbosity).load() File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 215, in load return self.command_to_json(base_args + ['--list']) File ""/var/lib/awx/venv/awx/lib64/python3.6/site-packages/awx/main/management/commands/inventory_import.py"", line 198, in command_to_json self.method, proc.returncode, stdout, stderr)) RuntimeError: ansible-inventory failed (rc=1) with stdout: stderr: ansible-inventory 2.9.2 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.6/site-packages/ansible executable location = /usr/local/bin/ansible-inventory python version = 3.6.8 (default, Oct 7 2019, 17:58:22) [GCC 8.2.1 20180905 (Red Hat 8.2.1-3)] Using /etc/ansible/ansible.cfg as config file [WARNING]: * Failed to parse /var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py with script plugin: Inventory script (/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py) had an execution error: Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 792, in <module> print(VMWareInventory().show()) File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 146, in __init__ self.do_api_calls_update_cache() File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 185, in do_api_calls_update_cache self.inventory = self.instances_to_inventory(self.get_instances()) File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 364, in get_instances return self._get_instances(kwargs) File ""/var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py"", line 381, in _get_instances if not si: UnboundLocalError: local variable 'si' referenced before assignment File ""/usr/local/lib/python3.6/site-packages/ansible/inventory/manager.py"", line 280, in parse_source plugin.parse(self._inventory, self._loader, source, cache=cache) File ""/usr/local/lib/python3.6/site-packages/ansible/plugins/inventory/script.py"", line 161, in parse raise AnsibleParserError(to_native(e)) [WARNING]: Unable to parse /var/lib/awx/venv/awx/lib64/python3.6/site- packages/awx/plugins/inventory/vmware_inventory.py as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.8
4907,awx,https://github.com/ansible/awx/issues/4907,inventory updates + project updates deployed to container groups don't report execution node,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of https://github.com/ansible/awx/pull/4189 that will be resolved in follow up PR. Inventory updates need to run on a Tower node, and this does happen even when ""deployed"" to a Container Group. The problem is, there is no way to figure out from API what tower node it was deployed to. This is connected to the fact that there is no designated ""controller node"" for the Container Groups, solving that may help this. Regardless, currently if an inventory update is ""deployed"" to a container group it will show the container group on the inventory update, but no execution node or controller node, so it is unclear where the update actually ran. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) create a working Container Group 2) Create an organization 3) Assign Container Group to organization as only instance group 4) create inventory with inventory source OR create project 5) launch inventory update or project update ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> One of the Tower nodes is shown as execution node ##### ACTUAL RESULTS <!-- What actually happened? --> No execution node, only container group shown",source-file | source-file,"inventory updates + project updates deployed to container groups don't report execution node ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> This is a known issue of https://github.com/ansible/awx/pull/4189 that will be resolved in follow up PR. Inventory updates need to run on a Tower node, and this does happen even when ""deployed"" to a Container Group. The problem is, there is no way to figure out from API what tower node it was deployed to. This is connected to the fact that there is no designated ""controller node"" for the Container Groups, solving that may help this. Regardless, currently if an inventory update is ""deployed"" to a container group it will show the container group on the inventory update, but no execution node or controller node, so it is unclear where the update actually ran. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) create a working Container Group 2) Create an organization 3) Assign Container Group to organization as only instance group 4) create inventory with inventory source OR create project 5) launch inventory update or project update ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> One of the Tower nodes is shown as execution node ##### ACTUAL RESULTS <!-- What actually happened? --> No execution node, only container group shown source-file source-file",bug,0.9
10879,awx,https://github.com/ansible/awx/issues/10879,Errors caused by Social Auth Organization and Team Mapping; Users unable to login,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Attempting to configure Social Organization/Team Mapping prevents social-auth users from logging in. `awx-web` and postgres show errors. If ORGANIZATION_MAP and TEAM_MAP are reverted to default/empty, user is able to login. ### AWX version 19.2.2 ### Installation method kubernetes ### Modifications yes ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Fresh AWX 19.2.2 installation via awx-operator (0.12.0) with `create_preload_data: 'false'` 2. Log in as Admin; Configure Github Organization OAuth2 Social Auth ( do not configure org/team maps ) ```json { ""SOCIAL_AUTH_GITHUB_ORG_CALLBACK_URL"": ""https://my-awx-install.com/sso/complete/github-org/"", ""SOCIAL_AUTH_GITHUB_ORG_KEY"": ""<redacted>"", ""SOCIAL_AUTH_GITHUB_ORG_SECRET"": ""$encrypted$"", ""SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP"": null, ""SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP"": null } ``` 3. Validate Step 2 configs by logging in via Github Org Social Auth 4. Log out. 5. Login as Admin; Configure Org/Team Maps (I tried this in both the Global and GitHub Org specific configs) ```json { ""SOCIAL_AUTH_GITHUB_ORG_CALLBACK_URL"": ""https://my-awx-install.com/sso/complete/github-org/"", ""SOCIAL_AUTH_GITHUB_ORG_KEY"": ""<redacted>"", ""SOCIAL_AUTH_GITHUB_ORG_SECRET"": ""$encrypted$"", ""SOCIAL_AUTH_GITHUB_ORG_NAME"": ""MyOrg"", ""SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP"": { ""MyOrg"": { ""users"": [ ""me@example.com"" ], ""admins"": [ ""admin@example.com"" ], ""remove_users"": true, ""remove_admins"": true } }, ""SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP"": { ""operations-team"": { ""remove"": true, ""organization"": ""MyOrg"", ""users"": [ ""me@example.com"" ] } } } ``` 6. Attempt to login as user; Get redirected to login page; Observe error awx-web and postgres error logs ### Expected results Organizations specified by valid Social Auth Org map(s) are created automatically Teams specified by valid Social Auth Team map(s) are created automatically Users are able to login as specified by Social Auth Org/Team maps ### Actual results User was not able to login following Org/Map configuration. Organization and Teams were not created on our behalf. `postgres` errors ```bash 2021-08-13 21:39:42.438 UTC [2886] STATEMENT: INSERT INTO ""main_organizationgalaxycredentialmembership"" (""organization_id"", ""credential_id"", ""position"") VALUES (1, NULL, NULL) RETURNING ""main_organizationgalaxycredentialmembership"".""id"" 2021-08-13 21:39:42.438 UTC [2886] ERROR: null value in column ""credential_id"" violates not-null constraint 2021-08-13 21:39:42.438 UTC [2886] DETAIL: Failing row contains (1, null, null, 1). ``` `awx-web` errors ``` 2021-08-13 21:39:42,440 ERROR [c6496ec03db747d3a7800f653acd316b] social null value in column ""credential_id"" violates not-null constraint DETAIL: Failing row contains (1, null, null, 1). . ``` ### Additional information * Installed via awx-operator with `create_preload_data: false` * Prior to opening this issue, I've also attempted this against 19.3.0 to no success.",source-file | source-file,"Errors caused by Social Auth Organization and Team Mapping; Users unable to login ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Attempting to configure Social Organization/Team Mapping prevents social-auth users from logging in. `awx-web` and postgres show errors. If ORGANIZATION_MAP and TEAM_MAP are reverted to default/empty, user is able to login. ### AWX version 19.2.2 ### Installation method kubernetes ### Modifications yes ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Fresh AWX 19.2.2 installation via awx-operator (0.12.0) with `create_preload_data: 'false'` 2. Log in as Admin; Configure Github Organization OAuth2 Social Auth ( do not configure org/team maps ) ```json { ""SOCIAL_AUTH_GITHUB_ORG_CALLBACK_URL"": ""https://my-awx-install.com/sso/complete/github-org/"", ""SOCIAL_AUTH_GITHUB_ORG_KEY"": ""<redacted>"", ""SOCIAL_AUTH_GITHUB_ORG_SECRET"": ""$encrypted$"", ""SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP"": null, ""SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP"": null } ``` 3. Validate Step 2 configs by logging in via Github Org Social Auth 4. Log out. 5. Login as Admin; Configure Org/Team Maps (I tried this in both the Global and GitHub Org specific configs) ```json { ""SOCIAL_AUTH_GITHUB_ORG_CALLBACK_URL"": ""https://my-awx-install.com/sso/complete/github-org/"", ""SOCIAL_AUTH_GITHUB_ORG_KEY"": ""<redacted>"", ""SOCIAL_AUTH_GITHUB_ORG_SECRET"": ""$encrypted$"", ""SOCIAL_AUTH_GITHUB_ORG_NAME"": ""MyOrg"", ""SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP"": { ""MyOrg"": { ""users"": [ ""me@example.com"" ], ""admins"": [ ""admin@example.com"" ], ""remove_users"": true, ""remove_admins"": true } }, ""SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP"": { ""operations-team"": { ""remove"": true, ""organization"": ""MyOrg"", ""users"": [ ""me@example.com"" ] } } } ``` 6. Attempt to login as user; Get redirected to login page; Observe error awx-web and postgres error logs ### Expected results Organizations specified by valid Social Auth Org map(s) are created automatically Teams specified by valid Social Auth Team map(s) are created automatically Users are able to login as specified by Social Auth Org/Team maps ### Actual results User was not able to login following Org/Map configuration. Organization and Teams were not created on our behalf. `postgres` errors ```bash 2021-08-13 21:39:42.438 UTC [2886] STATEMENT: INSERT INTO ""main_organizationgalaxycredentialmembership"" (""organization_id"", ""credential_id"", ""position"") VALUES (1, NULL, NULL) RETURNING ""main_organizationgalaxycredentialmembership"".""id"" 2021-08-13 21:39:42.438 UTC [2886] ERROR: null value in column ""credential_id"" violates not-null constraint 2021-08-13 21:39:42.438 UTC [2886] DETAIL: Failing row contains (1, null, null, 1). ``` `awx-web` errors ``` 2021-08-13 21:39:42,440 ERROR [c6496ec03db747d3a7800f653acd316b] social null value in column ""credential_id"" violates not-null constraint DETAIL: Failing row contains (1, null, null, 1). . ``` ### Additional information * Installed via awx-operator with `create_preload_data: false` * Prior to opening this issue, I've also attempted this against 19.3.0 to no success. source-file source-file",bug,0.9
10008,awx,https://github.com/ansible/awx/issues/10008,awx.awx.tower_job_launch tags are not properly passed to API,"##### ISSUE TYPE - Bug Report ##### SUMMARY If you are using awx.awx.tower_job_launch to launch a job-/workflowtemplate in AWX and you pass tags to the job launch they will be ignored. Against expectations all tasks are executed not only those with the provided tags ##### ENVIRONMENT * AWX version: Tower 3.8.2 * Ansible version: Ansible 2.9.13 * Operating System: RHEL 8.3 ##### STEPS TO REPRODUCE Create a playbook similar to this: ``` - hosts: localhost gather_facts: no environment: TOWER_USERNAME: ""<<INPUT TOWER USERNAME HERE>>"" TOWER_HOST: ""<<INPUT TOWER HOST HERE>>"" TOWER_PASSWORD: ""<<INPUT TOWER USER PASSWORD HERE>>"" vars: ansible_connection: local tasks: - name: Launch a job template with a tag on remote Tower instance awx.awx.tower_job_launch: job_template: ""test_template"" inventory: ""test_inventory"" tags: - example_tag ``` Create a second playbook named ""test_template"" with two random tasks. One needs to be tagged with ""example_tag"" ##### EXPECTED RESULTS Only the task tagged with ""example_tag"" will be executed ##### ACTUAL RESULTS All tasks will be executed ##### ADDITIONAL INFORMATION The error occurs because [tower_job_launch.py](https://github.com/ansible/awx/blob/devel/awx_collection/plugins/modules/tower_job_launch.py) passes the wrong post data to the api. The tags have to be provided under key ""job_tags"". This can be found in [API documentation](https://docs.ansible.com/ansible-tower/latest/html/towerapi/api_ref.html#/Job_Templates/Job_Templates_job_templates_launch_read). Certainly the module passes the tags with the key ""tags"" which is wrong I think the follwing code needs to be adjusted: https://github.com/ansible/awx/blob/devel/awx_collection/plugins/modules/tower_job_launch.py#L184 The correct line should be: ` optional_args['job_tags'] = module.params.get('tags')` I will test the suggestion on monday and report the result.",source-file | test-file,"awx.awx.tower_job_launch tags are not properly passed to API ##### ISSUE TYPE - Bug Report ##### SUMMARY If you are using awx.awx.tower_job_launch to launch a job-/workflowtemplate in AWX and you pass tags to the job launch they will be ignored. Against expectations all tasks are executed not only those with the provided tags ##### ENVIRONMENT * AWX version: Tower 3.8.2 * Ansible version: Ansible 2.9.13 * Operating System: RHEL 8.3 ##### STEPS TO REPRODUCE Create a playbook similar to this: ``` - hosts: localhost gather_facts: no environment: TOWER_USERNAME: ""<<INPUT TOWER USERNAME HERE>>"" TOWER_HOST: ""<<INPUT TOWER HOST HERE>>"" TOWER_PASSWORD: ""<<INPUT TOWER USER PASSWORD HERE>>"" vars: ansible_connection: local tasks: - name: Launch a job template with a tag on remote Tower instance awx.awx.tower_job_launch: job_template: ""test_template"" inventory: ""test_inventory"" tags: - example_tag ``` Create a second playbook named ""test_template"" with two random tasks. One needs to be tagged with ""example_tag"" ##### EXPECTED RESULTS Only the task tagged with ""example_tag"" will be executed ##### ACTUAL RESULTS All tasks will be executed ##### ADDITIONAL INFORMATION The error occurs because [tower_job_launch.py](https://github.com/ansible/awx/blob/devel/awx_collection/plugins/modules/tower_job_launch.py) passes the wrong post data to the api. The tags have to be provided under key ""job_tags"". This can be found in [API documentation](https://docs.ansible.com/ansible-tower/latest/html/towerapi/api_ref.html#/Job_Templates/Job_Templates_job_templates_launch_read). Certainly the module passes the tags with the key ""tags"" which is wrong I think the follwing code needs to be adjusted: https://github.com/ansible/awx/blob/devel/awx_collection/plugins/modules/tower_job_launch.py#L184 The correct line should be: ` optional_args['job_tags'] = module.params.get('tags')` I will test the suggestion on monday and report the result. source-file test-file",bug,0.95
6462,awx,https://github.com/ansible/awx/issues/6462,Update error handling placeholders in rbac component,"##### SUMMARY If an error happens when adding roles, we should show the error. notes: `AddResourceRole` Modal-from-modal might be kind of weird, so I'm guessing the error should be shown somewhere _on_ the rbac modal after the save fails.",other-file | source-file | documentation-file | config-file | documentation-file | other-file,"Update error handling placeholders in rbac component ##### SUMMARY If an error happens when adding roles, we should show the error. notes: `AddResourceRole` Modal-from-modal might be kind of weird, so I'm guessing the error should be shown somewhere _on_ the rbac modal after the save fails. other-file source-file documentation-file config-file documentation-file other-file",no-bug,0.8
11543,awx,https://github.com/ansible/awx/issues/11543,Upgrade react-scripts,"##### ISSUE TYPE - Feature Idea Upgrade react-scripts. In order to upgrade to react-scripts we need to upgrade: * node, and npm * eslint * eslint-plugins * fix test failures * analyze and fix lint failures See: https://github.com/facebook/create-react-app/releases/tag/v5.0.0",container-file | container-file | documentation-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | source-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Upgrade react-scripts ##### ISSUE TYPE - Feature Idea Upgrade react-scripts. In order to upgrade to react-scripts we need to upgrade: * node, and npm * eslint * eslint-plugins * fix test failures * analyze and fix lint failures See: https://github.com/facebook/create-react-app/releases/tag/v5.0.0 container-file container-file documentation-file documentation-file container-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file source-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
9409,awx,https://github.com/ansible/awx/issues/9409,Logger test button doesn't function (and may not make sense),"##### ISSUE TYPE - Bug Report ##### SUMMARY The 'test' button for logging aggregations is currently inactive by default: ![Screenshot from 2021-02-24 12-40-04](https://user-images.githubusercontent.com/5208768/109041873-83510480-769d-11eb-83b3-da4120f9527d.png) However, since it only appears on the 'Edit' view, that means it never functions right away - once you save, you don't see the button, and you have to go back to the 'Edit' view to click it.. In addition, the 'test' feature only ever tested that the event was sent to the intermediary rsyslog - it does not test the proper receipt of the message on the configured logging server. Recommendation: remove the button in the UI ##### ENVIRONMENT * AWX version: head 0f6d2c36a03787ed5ca0c8084815d13e49b344e1, 2021-02-22",other-file | test-file | test-file | test-file | source-file,"Logger test button doesn't function (and may not make sense) ##### ISSUE TYPE - Bug Report ##### SUMMARY The 'test' button for logging aggregations is currently inactive by default: ![Screenshot from 2021-02-24 12-40-04](https://user-images.githubusercontent.com/5208768/109041873-83510480-769d-11eb-83b3-da4120f9527d.png) However, since it only appears on the 'Edit' view, that means it never functions right away - once you save, you don't see the button, and you have to go back to the 'Edit' view to click it.. In addition, the 'test' feature only ever tested that the event was sent to the intermediary rsyslog - it does not test the proper receipt of the message on the configured logging server. Recommendation: remove the button in the UI ##### ENVIRONMENT * AWX version: head 0f6d2c36a03787ed5ca0c8084815d13e49b344e1, 2021-02-22 other-file test-file test-file test-file source-file",no-bug,0.9
9473,awx,https://github.com/ansible/awx/issues/9473,Add ansible version to collected EE data,##### ISSUE TYPE - Feature Idea ##### SUMMARY https://github.com/ansible/awx/pull/9335 adds support for pulling collections and their versions from an EE. This should be enhanced to also pass the ansible (core) version somehow.,source-file | source-file | source-file | source-file,Add ansible version to collected EE data ##### ISSUE TYPE - Feature Idea ##### SUMMARY https://github.com/ansible/awx/pull/9335 adds support for pulling collections and their versions from an EE. This should be enhanced to also pass the ansible (core) version somehow. source-file source-file source-file source-file,no-bug,0.9
10533,awx,https://github.com/ansible/awx/issues/10533,Org Access Tab- First Name Displayed in Last Name Column,"Bug Report Issue: When a user is on the Access tab of an organization, and users are shown there, the first name of the user is also printed in the last name column (instead of the last name being there). Expected results: the Org Access page name columns would show the first name and last name properly. Actual Results: The user's first name is displayed in the first name column and the last name column. ![image](https://user-images.githubusercontent.com/63685497/123666228-04b0d300-d807-11eb-83cd-6bbb4e4ca675.png)",other-file | test-file | other-file | test-file | other-file | test-file,"Org Access Tab- First Name Displayed in Last Name Column Bug Report Issue: When a user is on the Access tab of an organization, and users are shown there, the first name of the user is also printed in the last name column (instead of the last name being there). Expected results: the Org Access page name columns would show the first name and last name properly. Actual Results: The user's first name is displayed in the first name column and the last name column. ![image](https://user-images.githubusercontent.com/63685497/123666228-04b0d300-d807-11eb-83cd-6bbb4e4ca675.png) other-file test-file other-file test-file other-file test-file",no-bug,0.9
5109,awx,https://github.com/ansible/awx/issues/5109,RFE: Expose database backup/restore from Tower,##### ISSUE TYPE - Feature Idea ##### SUMMARY Request to expose the backup/restore playbooks from the Tower UI.,source-file | source-file,RFE: Expose database backup/restore from Tower ##### ISSUE TYPE - Feature Idea ##### SUMMARY Request to expose the backup/restore playbooks from the Tower UI. source-file source-file,no-bug,0.9
5570,awx,https://github.com/ansible/awx/issues/5570,SAML Login error invalid_response request was received at incorrect port,"##### ISSUE TYPE - Bug Report ##### SUMMARY Hi there ! I'm trying to configure ADFS SAML for my AWX install, however, once my Service Provider and Identity provider setup, the login doesn't work due to an error : ``` SAML login failed: ['invalid_response'] (The response was received at https://ansible-tower.local:8053/sso/complete/saml/ instead of https://ansible-tower.local/sso/complete/saml/ ``` ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: docker on linux * Operating System: Centos 7 * Web Browser: Firefox / Chrome ##### STEPS TO REPRODUCE - Install AWX with docker and configure SAML - Try to login with saml - Enter your username / password if needed - get redirected to AWX login page without being authenticated ##### EXPECTED RESULTS - No error / Being authenticated ##### ACTUAL RESULTS - The following error appear in the logs : ``` social Authentication failed: SAML login failed: ['invalid_response'] (The response was received at https://ansible-tower.local:8053/sso/complete/saml/ instead of https://ansible-tower.local/sso/complete/saml/). ``` ##### ADDITIONAL INFORMATION This error is similar to https://github.com/ansible/awx/issues/1016 The problem being that the solution doesn't apply with the newest version of AWX As I understand, I need to have an X-Forwarded-Port configured somewhere, but it already seem to be there in the nginx.conf file : ``` location / { # Add trailing / if missing rewrite ^(.*)$http_host(.*[^/])$ $1$http_host$2/ permanent; uwsgi_read_timeout 120s; uwsgi_pass uwsgi; include /etc/nginx/uwsgi_params; proxy_set_header X-Forwarded-Port 443; ``` Thanks",other-file | other-file,"SAML Login error invalid_response request was received at incorrect port ##### ISSUE TYPE - Bug Report ##### SUMMARY Hi there ! I'm trying to configure ADFS SAML for my AWX install, however, once my Service Provider and Identity provider setup, the login doesn't work due to an error : ``` SAML login failed: ['invalid_response'] (The response was received at https://ansible-tower.local:8053/sso/complete/saml/ instead of https://ansible-tower.local/sso/complete/saml/ ``` ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: docker on linux * Operating System: Centos 7 * Web Browser: Firefox / Chrome ##### STEPS TO REPRODUCE - Install AWX with docker and configure SAML - Try to login with saml - Enter your username / password if needed - get redirected to AWX login page without being authenticated ##### EXPECTED RESULTS - No error / Being authenticated ##### ACTUAL RESULTS - The following error appear in the logs : ``` social Authentication failed: SAML login failed: ['invalid_response'] (The response was received at https://ansible-tower.local:8053/sso/complete/saml/ instead of https://ansible-tower.local/sso/complete/saml/). ``` ##### ADDITIONAL INFORMATION This error is similar to https://github.com/ansible/awx/issues/1016 The problem being that the solution doesn't apply with the newest version of AWX As I understand, I need to have an X-Forwarded-Port configured somewhere, but it already seem to be there in the nginx.conf file : ``` location / { # Add trailing / if missing rewrite ^(.*)$http_host(.*[^/])$ $1$http_host$2/ permanent; uwsgi_read_timeout 120s; uwsgi_pass uwsgi; include /etc/nginx/uwsgi_params; proxy_set_header X-Forwarded-Port 443; ``` Thanks other-file other-file",no-bug,0.8
7884,awx,https://github.com/ansible/awx/issues/7884,[UI] Execution environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY Issue to track the progress of UI work related to execution environments. ~1 - Update navigation bar and routing system to add execution environments. https://github.com/ansible/awx/issues/7885~ ~2 - List execution environments - https://github.com/ansible/awx/issues/7886~ ~3 - Add/Edit execution environments - https://github.com/ansible/awx/issues/7887~ ~4 - Add details execution environments - https://github.com/ansible/awx/issues/8171~ ~5 - Add access view for execution environments - https://github.com/ansible/awx/issues/8190~ ~6 - Add execution environments view for organizations - https://github.com/ansible/awx/issues/8210 -> #8337-> #9384~ ~7 - Update usage of user_capabilities for execution environments - https://github.com/ansible/awx/issues/8216~ ~8 - Add option to select a default global EE on settings - https://github.com/ansible/awx/issues/9088~ ~9 - Update EE Add/List/Edit/Details with latest API changes - https://github.com/ansible/awx/issues/9087 -> #9179~ ~10 - Add execution environment field to a few screens - https://github.com/ansible/awx/issues/9189~ ~11 - Remove the custom venv fields from the UI - https://github.com/ansible/awx/issues/9190~ ~12 - Surface missing-resource warnings on list items for UJTs that were using custom virtualenvs - https://github.com/ansible/awx/issues/9207~ ~13 - A pull option to EE - https://github.com/ansible/awx/issues/9109~ ~14 - User should not modify name and image managed by awx. https://github.com/ansible/awx/issues/9250~ ~15 - Add EE to the Activity Stream - https://github.com/ansible/awx/issues/9308~ ~16 - Add copy functionality to EE - https://github.com/ansible/awx/issues/9307~ ~17 - Re-evaluate RBAC for EE as per latest API changes - https://github.com/ansible/awx/issues/9416~ 18 - Filter by container registry credential to be associated with EE - https://github.com/ansible/awx/issues/9628 ~19 - Remove EE field from Project screen - https://github.com/ansible/awx/issues/9719~ ~20 - Add screen to represent EE unified job templates endpoint - https://github.com/ansible/awx/issues/9723~ 21 - Add link to the docs in how to replace a custom virtual env with an EE - https://github.com/ansible/awx/issues/9846 ~22 - EE RBAC violation when EE org changes - https://github.com/ansible/awx/issues/9769~ ~23 - Add option to select EE when launching ad-hoc commands - https://github.com/ansible/awx/issues/9864~ ### Bugs ~1 - Unable to select non-global execution environments for organizations https://github.com/ansible/awx/issues/9592~ ~2 - Organization should be used to filter EE related to certain resources - https://github.com/ansible/awx/issues/9770~ To be expanded. See: https://tower-mockups.testing.ansible.com/patternfly/exec-env/exec-env/ API changes: https://github.com/ansible/awx/issues/5157 and https://github.com/ansible/awx/issues/7062,source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file,[UI] Execution environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY Issue to track the progress of UI work related to execution environments. ~1 - Update navigation bar and routing system to add execution environments. https://github.com/ansible/awx/issues/7885~ ~2 - List execution environments - https://github.com/ansible/awx/issues/7886~ ~3 - Add/Edit execution environments - https://github.com/ansible/awx/issues/7887~ ~4 - Add details execution environments - https://github.com/ansible/awx/issues/8171~ ~5 - Add access view for execution environments - https://github.com/ansible/awx/issues/8190~ ~6 - Add execution environments view for organizations - https://github.com/ansible/awx/issues/8210 -> #8337-> #9384~ ~7 - Update usage of user_capabilities for execution environments - https://github.com/ansible/awx/issues/8216~ ~8 - Add option to select a default global EE on settings - https://github.com/ansible/awx/issues/9088~ ~9 - Update EE Add/List/Edit/Details with latest API changes - https://github.com/ansible/awx/issues/9087 -> #9179~ ~10 - Add execution environment field to a few screens - https://github.com/ansible/awx/issues/9189~ ~11 - Remove the custom venv fields from the UI - https://github.com/ansible/awx/issues/9190~ ~12 - Surface missing-resource warnings on list items for UJTs that were using custom virtualenvs - https://github.com/ansible/awx/issues/9207~ ~13 - A pull option to EE - https://github.com/ansible/awx/issues/9109~ ~14 - User should not modify name and image managed by awx. https://github.com/ansible/awx/issues/9250~ ~15 - Add EE to the Activity Stream - https://github.com/ansible/awx/issues/9308~ ~16 - Add copy functionality to EE - https://github.com/ansible/awx/issues/9307~ ~17 - Re-evaluate RBAC for EE as per latest API changes - https://github.com/ansible/awx/issues/9416~ 18 - Filter by container registry credential to be associated with EE - https://github.com/ansible/awx/issues/9628 ~19 - Remove EE field from Project screen - https://github.com/ansible/awx/issues/9719~ ~20 - Add screen to represent EE unified job templates endpoint - https://github.com/ansible/awx/issues/9723~ 21 - Add link to the docs in how to replace a custom virtual env with an EE - https://github.com/ansible/awx/issues/9846 ~22 - EE RBAC violation when EE org changes - https://github.com/ansible/awx/issues/9769~ ~23 - Add option to select EE when launching ad-hoc commands - https://github.com/ansible/awx/issues/9864~ ### Bugs ~1 - Unable to select non-global execution environments for organizations https://github.com/ansible/awx/issues/9592~ ~2 - Organization should be used to filter EE related to certain resources - https://github.com/ansible/awx/issues/9770~ To be expanded. See: https://tower-mockups.testing.ansible.com/patternfly/exec-env/exec-env/ API changes: https://github.com/ansible/awx/issues/5157 and https://github.com/ansible/awx/issues/7062 source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file source-file other-file other-file source-file other-file source-file other-file source-file other-file source-file other-file test-file source-file,no-bug,0.9
14508,awx,https://github.com/ansible/awx/issues/14508,[DOCS] Add alt-text codeblock to Images for Userguide: job_capacity.rst and job_slices.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the job_capacity.rst and job_slices.rst files to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: job_capacity.rst and job_slices.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the job_capacity.rst and job_slices.rst files to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file documentation-file documentation-file",no-bug,0.95
10860,awx,https://github.com/ansible/awx/issues/10860,Session expiration modal displaying after social auth,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Session expiration modal displaying after social auth ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Enable SSO - Github 2. Try to authenticate using Github 3. Log out 4. Login in again ### Expected results The user should be able to login successfully without session expiration modal ### Actual results The user logs in successfully, however the awx-session-timeout storage is taking some seconds to be populated (I belive we are still fetching data) , during this period (~5 sec) the modal is displayed ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Session expiration modal displaying after social auth ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Session expiration modal displaying after social auth ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Enable SSO - Github 2. Try to authenticate using Github 3. Log out 4. Login in again ### Expected results The user should be able to login successfully without session expiration modal ### Actual results The user logs in successfully, however the awx-session-timeout storage is taking some seconds to be populated (I belive we are still fetching data) , during this period (~5 sec) the modal is displayed ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
6393,awx,https://github.com/ansible/awx/issues/6393,Update to the latest pyyaml to address CVE-2017-18342,"##### ISSUE TYPE - Bug Report ##### SUMMARY We need to upgrade to a newer pyyaml to address CVE-2017-18342 (though, to my knowledge, we're _already using_ `safe_load()` appropriately everywhere, so this upgrade is really just to tick a box). Unfortunately, the currently released version of `openshift` relies on a `kubernetes` version that pins to an older version of `pyyaml`: https://github.com/kubernetes-client/python/blob/v10.1.0/requirements.txt#L5 Once a new `openshift` library version is released, we should update our dependencies to pull in a newer `pyyaml`.",other-file | other-file,"Update to the latest pyyaml to address CVE-2017-18342 ##### ISSUE TYPE - Bug Report ##### SUMMARY We need to upgrade to a newer pyyaml to address CVE-2017-18342 (though, to my knowledge, we're _already using_ `safe_load()` appropriately everywhere, so this upgrade is really just to tick a box). Unfortunately, the currently released version of `openshift` relies on a `kubernetes` version that pins to an older version of `pyyaml`: https://github.com/kubernetes-client/python/blob/v10.1.0/requirements.txt#L5 Once a new `openshift` library version is released, we should update our dependencies to pull in a newer `pyyaml`. other-file other-file",no-bug,0.9
8276,awx,https://github.com/ansible/awx/issues/8276,Make org a required field for galaxy credentials,"##### ISSUE TYPE - Bug Report ##### SUMMARY <img width=""1429"" alt=""Screen Shot 2020-09-30 at 11 29 07 AM"" src=""https://user-images.githubusercontent.com/9889020/94706492-4102e180-0310-11eb-904f-68234cee0489.png""> Ideally we don't want to see this error in the UI",other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | documentation-file | documentation-file,"Make org a required field for galaxy credentials ##### ISSUE TYPE - Bug Report ##### SUMMARY <img width=""1429"" alt=""Screen Shot 2020-09-30 at 11 29 07 AM"" src=""https://user-images.githubusercontent.com/9889020/94706492-4102e180-0310-11eb-904f-68234cee0489.png""> Ideally we don't want to see this error in the UI other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file other-file test-file documentation-file documentation-file",no-bug,0.8
10548,awx,https://github.com/ansible/awx/issues/10548,Dragging and dropping remove items,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://web.libera.chat/?channels=#ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY If you dragging and dropping an item over a ""X"" button, this generate a click event on that ""X"" button. ##### ENVIRONMENT * AWX version: devel * AWX install method: VM * Operating System: macOS * Web Browser: Chrome Canary 93.0.4558.0 (oficial) canary (x86_64) ##### STEPS TO REPRODUCE - Open some modal with multi-item selection - Drag and drop a item over his own ""X"" button (remove button) https://user-images.githubusercontent.com/2138276/123855738-9cd9b580-d8f6-11eb-9a49-5d088960e459.mov ##### EXPECTED RESULTS - Should generate only sorting event ##### ACTUAL RESULTS - Generate a remove event",other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file,"Dragging and dropping remove items <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://web.libera.chat/?channels=#ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY If you dragging and dropping an item over a ""X"" button, this generate a click event on that ""X"" button. ##### ENVIRONMENT * AWX version: devel * AWX install method: VM * Operating System: macOS * Web Browser: Chrome Canary 93.0.4558.0 (oficial) canary (x86_64) ##### STEPS TO REPRODUCE - Open some modal with multi-item selection - Drag and drop a item over his own ""X"" button (remove button) https://user-images.githubusercontent.com/2138276/123855738-9cd9b580-d8f6-11eb-9a49-5d088960e459.mov ##### EXPECTED RESULTS - Should generate only sorting event ##### ACTUAL RESULTS - Generate a remove event other-file other-file other-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file",no-bug,0.9
7254,awx,https://github.com/ansible/awx/issues/7254,Show template description on launch,"##### ISSUE TYPE - Show template description on launch modal ##### SUMMARY Would be great to be able to see the template's description on the launch modal (first page). This would allow us to show some usefull information to whom is running the playbook: - What the playbook does. This is partially covered when using the Extended list view for the templates. But the formatting is not great and it gets lost with the extra information. - Playbook vars usage. (Ok, this can be done with comments) - Some steps that must be done before or after the playbook is done. - Warnings - Most important: playbook available tags and when to use them. This would help, at least for now, the problem described at https://github.com/ansible/awx/issues/1182",other-file | test-file | test-file | test-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Show template description on launch ##### ISSUE TYPE - Show template description on launch modal ##### SUMMARY Would be great to be able to see the template's description on the launch modal (first page). This would allow us to show some usefull information to whom is running the playbook: - What the playbook does. This is partially covered when using the Extended list view for the templates. But the formatting is not great and it gets lost with the extra information. - Playbook vars usage. (Ok, this can be done with comments) - Some steps that must be done before or after the playbook is done. - Warnings - Most important: playbook available tags and when to use them. This would help, at least for now, the problem described at https://github.com/ansible/awx/issues/1182 other-file test-file test-file test-file test-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
6432,awx,https://github.com/ansible/awx/issues/6432,Launch button for workflow visualizer is enabled on empty workflows,"##### ISSUE TYPE - Bug Report ##### SUMMARY Visit a new workflow visualizer and view the top row of buttons. The launch button is enabled, while all the other buttons are (correctly) disabled.",source-file | source-file | source-file,"Launch button for workflow visualizer is enabled on empty workflows ##### ISSUE TYPE - Bug Report ##### SUMMARY Visit a new workflow visualizer and view the top row of buttons. The launch button is enabled, while all the other buttons are (correctly) disabled. source-file source-file source-file",no-bug,0.8
11915,awx,https://github.com/ansible/awx/issues/11915,Encrypted password in surveys show up as plaintext in Edit Order page.,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary In the survey page of a template, I added a default answer (as password field), and it shows up as ENCRYPTED, which is expected. ![image](https://user-images.githubusercontent.com/19193869/158795730-dad63f75-411e-4ff1-84ba-868a085fb940.png) But, when I click ""Edit Order"", that password shows up in plain text. ![image](https://user-images.githubusercontent.com/19193869/158796141-a359f909-8314-4ed7-ba25-8623f41ccd91.png) ### AWX version 20.0.0 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system Red Hat Enterprise Linux 7 ### Web browser Firefox, Chrome, Edge ### Steps to reproduce - Create a template - Add a survey question, and define answer type as Password, then add a default answer. - Click ""Edit Order"" in survey page to see the password in plaintext. ### Expected results The form needs to say ENCRYPTED instead of password. ### Actual results Survey field in ""Edit Order"" page shows the default survey answer (password) in plain text. ### Additional information _No response_",source-file | test-file | source-file | test-file,"Encrypted password in surveys show up as plaintext in Edit Order page. ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Summary In the survey page of a template, I added a default answer (as password field), and it shows up as ENCRYPTED, which is expected. ![image](https://user-images.githubusercontent.com/19193869/158795730-dad63f75-411e-4ff1-84ba-868a085fb940.png) But, when I click ""Edit Order"", that password shows up in plain text. ![image](https://user-images.githubusercontent.com/19193869/158796141-a359f909-8314-4ed7-ba25-8623f41ccd91.png) ### AWX version 20.0.0 ### Select the relevant components - [X] UI - [ ] API - [ ] Docs ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system Red Hat Enterprise Linux 7 ### Web browser Firefox, Chrome, Edge ### Steps to reproduce - Create a template - Add a survey question, and define answer type as Password, then add a default answer. - Click ""Edit Order"" in survey page to see the password in plaintext. ### Expected results The form needs to say ENCRYPTED instead of password. ### Actual results Survey field in ""Edit Order"" page shows the default survey answer (password) in plain text. ### Additional information _No response_ source-file test-file source-file test-file",no-bug,0.9
6520,awx,https://github.com/ansible/awx/issues/6520,Logout button on the API for ui-next does not work,"##### ISSUE TYPE - Bug Report ##### SUMMARY Click on the logout button on the API for ui-next makes a get request instead of a post request, due to which an error is thrown ##### STEPS TO REPRODUCE 1. https://localhost:3000/api 2. click on the logout button <img width=""352"" alt=""Screen Shot 2020-04-01 at 10 28 17 AM"" src=""https://user-images.githubusercontent.com/11617351/78149937-98c59c00-7404-11ea-9a9d-f954d1e9e24f.png""> ##### EXPECTED RESULTS The logout should be successfull ##### ACTUAL RESULTS An error is thrown: <img width=""533"" alt=""Screen Shot 2020-04-01 at 10 28 34 AM"" src=""https://user-images.githubusercontent.com/11617351/78149948-9c592300-7404-11ea-8be8-cb87c67542cf.png"">",test-file,"Logout button on the API for ui-next does not work ##### ISSUE TYPE - Bug Report ##### SUMMARY Click on the logout button on the API for ui-next makes a get request instead of a post request, due to which an error is thrown ##### STEPS TO REPRODUCE 1. https://localhost:3000/api 2. click on the logout button <img width=""352"" alt=""Screen Shot 2020-04-01 at 10 28 17 AM"" src=""https://user-images.githubusercontent.com/11617351/78149937-98c59c00-7404-11ea-9a9d-f954d1e9e24f.png""> ##### EXPECTED RESULTS The logout should be successfull ##### ACTUAL RESULTS An error is thrown: <img width=""533"" alt=""Screen Shot 2020-04-01 at 10 28 34 AM"" src=""https://user-images.githubusercontent.com/11617351/78149948-9c592300-7404-11ea-8be8-cb87c67542cf.png""> test-file",bug,0.9
4785,awx,https://github.com/ansible/awx/issues/4785,changing key in search key dropdown causes it to no longer be a dropdown,"On the jobs list if you change the key selector on the left of the search bar from finished to name, it will cease to be a dropdown.",source-file,"changing key in search key dropdown causes it to no longer be a dropdown On the jobs list if you change the key selector on the left of the search bar from finished to name, it will cease to be a dropdown. source-file",no-bug,0.9
9842,awx,https://github.com/ansible/awx/issues/9842,Help link on PageHeaderToolBar duple //,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Help link on PageHeaderToolBar duple // related to this change https://github.com/ansible/awx/pull/9815 ##### STEPS TO REPRODUCE 1. Click on help link on toolbar",other-file,"Help link on PageHeaderToolBar duple // <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Help link on PageHeaderToolBar duple // related to this change https://github.com/ansible/awx/pull/9815 ##### STEPS TO REPRODUCE 1. Click on help link on toolbar other-file",no-bug,0.9
6225,awx,https://github.com/ansible/awx/issues/6225,ask_variables_on_launch issue on AWX,"##### ISSUE TYPE ask_variables_on_launch is set to true still getting error as undefined variable. ##### SUMMARY I have created a Job template via API and set the ask_variables_on_launch value to true. Though setting the value as true, playbook fails during execution, saying 'undefined variable' ##### ENVIRONMENT * AWX version: 9.2.0 * Tower CLI 3.3.8 * API v2 * AWX install method: Installation without Docker on CentOS7 * Ansible version: 2.9.5 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: Google Chrome Version 80.0.3987.132 (Official Build) (64-bit) ##### STEPS TO REPRODUCE >> Created a Job Template for sample. >> Verify the values of the sample job template for 'project, inventory, playbook' attributes, and its corresponding values. >> With the values observed from the sample job template, create a new job template via APIv2 and set the value of ""ask_variables_on_launch to true"" * API URL: * http://awx-server-ip/api/v2/job_templates/ ##### EXPECTED RESULTS Being set the value of 'ask_variables_on_launch' to true, I should be able to execute the playbook by passing extra variable during launch of the playbook and via Survey as well. ##### ACTUAL RESULTS ""msg"": ""The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'it_user'\n\nThe error appears to be in '/tmp/awx_25_ahs6_izp/project/useradd_IT.yml': line 7, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n tasks:\n - name: Adding users\n ^ here\n"", ""_ansible_no_log"": false --The same error occurred when the value of 'ask_variables_on_launch' set as false. ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/47471901/76210019-3d4f2680-6229-11ea-95f8-04dc9ac4f84d.png) ![image](https://user-images.githubusercontent.com/47471901/76210151-87380c80-6229-11ea-8e8e-2359422c1276.png)",source-file,"ask_variables_on_launch issue on AWX ##### ISSUE TYPE ask_variables_on_launch is set to true still getting error as undefined variable. ##### SUMMARY I have created a Job template via API and set the ask_variables_on_launch value to true. Though setting the value as true, playbook fails during execution, saying 'undefined variable' ##### ENVIRONMENT * AWX version: 9.2.0 * Tower CLI 3.3.8 * API v2 * AWX install method: Installation without Docker on CentOS7 * Ansible version: 2.9.5 * Operating System: CentOS Linux release 7.7.1908 (Core) * Web Browser: Google Chrome Version 80.0.3987.132 (Official Build) (64-bit) ##### STEPS TO REPRODUCE >> Created a Job Template for sample. >> Verify the values of the sample job template for 'project, inventory, playbook' attributes, and its corresponding values. >> With the values observed from the sample job template, create a new job template via APIv2 and set the value of ""ask_variables_on_launch to true"" * API URL: * http://awx-server-ip/api/v2/job_templates/ ##### EXPECTED RESULTS Being set the value of 'ask_variables_on_launch' to true, I should be able to execute the playbook by passing extra variable during launch of the playbook and via Survey as well. ##### ACTUAL RESULTS ""msg"": ""The task includes an option with an undefined variable. The error was: 'ansible.utils.unsafe_proxy.AnsibleUnsafeText object' has no attribute 'it_user'\n\nThe error appears to be in '/tmp/awx_25_ahs6_izp/project/useradd_IT.yml': line 7, column 7, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n tasks:\n - name: Adding users\n ^ here\n"", ""_ansible_no_log"": false --The same error occurred when the value of 'ask_variables_on_launch' set as false. ##### ADDITIONAL INFORMATION ![image](https://user-images.githubusercontent.com/47471901/76210019-3d4f2680-6229-11ea-95f8-04dc9ac4f84d.png) ![image](https://user-images.githubusercontent.com/47471901/76210151-87380c80-6229-11ea-8e8e-2359422c1276.png) source-file",bug,0.85
6760,awx,https://github.com/ansible/awx/issues/6760,rsyslogd: log aggregator settings w/ double quote characters break external logging,##### ISSUE TYPE - Bug Report ##### SUMMARY ![image](https://user-images.githubusercontent.com/214912/79778925-7fc75100-8307-11ea-9fdd-d7d382eca855.png) ![image](https://user-images.githubusercontent.com/214912/79778935-835ad800-8307-11ea-91be-bf692185e882.png),source-file | source-file,rsyslogd: log aggregator settings w/ double quote characters break external logging ##### ISSUE TYPE - Bug Report ##### SUMMARY ![image](https://user-images.githubusercontent.com/214912/79778925-7fc75100-8307-11ea-9fdd-d7d382eca855.png) ![image](https://user-images.githubusercontent.com/214912/79778935-835ad800-8307-11ea-91be-bf692185e882.png) source-file source-file,no-bug,0.9
6316,awx,https://github.com/ansible/awx/issues/6316,Convert Template.jsx to hooks,##### ISSUE TYPE - Feature Idea ##### SUMMARY convert template.jsx to hooks,source-file | source-file | source-file | test-file | source-file,Convert Template.jsx to hooks ##### ISSUE TYPE - Feature Idea ##### SUMMARY convert template.jsx to hooks source-file source-file source-file test-file source-file,no-bug,0.9
14523,awx,https://github.com/ansible/awx/issues/14523,[DOCS] Add alt-text codeblock to Images for Userguide: workflow_templates.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the workflow_templates.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | documentation-file | other-file | other-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | container-file | container-file | config-file | config-file | config-file | other-file | config-file | config-file | config-file | config-file | config-file | config-file | other-file | other-file | documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: workflow_templates.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the workflow_templates.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file documentation-file other-file other-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file container-file container-file config-file config-file config-file other-file config-file config-file config-file config-file config-file config-file other-file other-file documentation-file documentation-file documentation-file",no-bug,0.95
5964,awx,https://github.com/ansible/awx/issues/5964,awx kit provides a bad error message,"##### ISSUE TYPE - Bug Report ##### SUMMARY When authentication fails awx kit gives a cryptic error message ##### ENVIRONMENT * AWX version: devel * AWX install method: mac * Ansible version: 2.8.2 * Operating System: mac * Web Browser: N/A ##### STEPS TO REPRODUCE Attempt to login to awx with bad credentials. ##### EXPECTED RESULTS > Unauthorized: Unauthorized (401) received - {'detail': 'Authentication credentials were not provided. To establish a login session, visit /api/login/.'} ##### ACTUAL RESULTS > TypeError: '>=' not supported between instances of 'Unauthorized' and 'int' ##### ADDITIONAL INFORMATION > akit --base-url httsp://some-awx -c ~/creds/credentials.vault -f load_resources.py -x",source-file,"awx kit provides a bad error message ##### ISSUE TYPE - Bug Report ##### SUMMARY When authentication fails awx kit gives a cryptic error message ##### ENVIRONMENT * AWX version: devel * AWX install method: mac * Ansible version: 2.8.2 * Operating System: mac * Web Browser: N/A ##### STEPS TO REPRODUCE Attempt to login to awx with bad credentials. ##### EXPECTED RESULTS > Unauthorized: Unauthorized (401) received - {'detail': 'Authentication credentials were not provided. To establish a login session, visit /api/login/.'} ##### ACTUAL RESULTS > TypeError: '>=' not supported between instances of 'Unauthorized' and 'int' ##### ADDITIONAL INFORMATION > akit --base-url httsp://some-awx -c ~/creds/credentials.vault -f load_resources.py -x source-file",bug,0.9
5614,awx,https://github.com/ansible/awx/issues/5614,Warn louder if tower_job_launch extra_vars are not set to be accepted via ask_extra_vars,"##### SUMMARY `extra_vars` on `tower_job_launch` needs `ask_extra_vars` to be set via the `tower_job_template` module when creating the JT (alternatively, you can set `PROMPT ON LAUNCH` in the Job Template page of the UI), otherwise the `extra_vars` do not get handled as intended (they are ignored). There should be a warning emitted that tells the user ""You have `extra_vars` on launch listed, however this Job Template does not have ""Prompt on Launch"" set to True"", since some users may attempt to set `extra_vars` on launch and not see them get handled properly.",config-file,"Warn louder if tower_job_launch extra_vars are not set to be accepted via ask_extra_vars ##### SUMMARY `extra_vars` on `tower_job_launch` needs `ask_extra_vars` to be set via the `tower_job_template` module when creating the JT (alternatively, you can set `PROMPT ON LAUNCH` in the Job Template page of the UI), otherwise the `extra_vars` do not get handled as intended (they are ignored). There should be a warning emitted that tells the user ""You have `extra_vars` on launch listed, however this Job Template does not have ""Prompt on Launch"" set to True"", since some users may attempt to set `extra_vars` on launch and not see them get handled properly. config-file",no-bug,0.9
6865,awx,https://github.com/ansible/awx/issues/6865,Add Copy Support for Notifications,##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4969,source-file | other-file,Add Copy Support for Notifications ##### ISSUE TYPE - Feature Idea ##### SUMMARY See #4969 source-file other-file,no-bug,0.9
10676,awx,https://github.com/ansible/awx/issues/10676,Move ui_next to non-temporary source location,"requires https://github.com/ansible/awx/pull/10562 * Move `awx/ui_next` to its non-temporary source location `awx/ui` * Unify code paths, django config, etc. where needed * Update any `ui_next` references in docs * Update README.md: `AWX-PF` -> `AWX-UI`, code snippets, examples, etc. * `package.json` version should match awx version, or just remove the version * Update external testing pipelines, Dockerfiles, etc.",other-file | documentation-file | documentation-file | source-file | other-file | test-file | test-file | source-file | test-file | test-file | test-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | test-file | test-file | source-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | other-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | test-file | source-file | other-file | test-file | test-file | source-file | source-file | test-file | test-file | source-file | source-file | other-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | other-file | test-file | test-file | source-file | source-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | source-file | test-file | source-file | other-file | test-file | source-file | test-file | source-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | test-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | source-file | source-file | source-file | test-file | source-file | other-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | other-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | source-file | other-file | test-file | source-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | source-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | source-file | test-file | source-file | other-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | source-file | source-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | test-file | test-file | source-file | test-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | documentation-file | other-file | other-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | container-file | documentation-file | documentation-file | documentation-file | other-file | other-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | test-file | source-file | other-file | source-file | other-file | other-file | other-file | source-file | other-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | documentation-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Move ui_next to non-temporary source location requires https://github.com/ansible/awx/pull/10562 * Move `awx/ui_next` to its non-temporary source location `awx/ui` * Unify code paths, django config, etc. where needed * Update any `ui_next` references in docs * Update README.md: `AWX-PF` -> `AWX-UI`, code snippets, examples, etc. * `package.json` version should match awx version, or just remove the version * Update external testing pipelines, Dockerfiles, etc. other-file documentation-file documentation-file source-file other-file test-file test-file source-file test-file test-file test-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file test-file test-file source-file other-file source-file other-file test-file source-file other-file test-file test-file source-file test-file source-file other-file test-file source-file test-file source-file test-file source-file test-file source-file other-file test-file test-file source-file test-file source-file test-file source-file other-file test-file test-file source-file source-file test-file test-file source-file source-file other-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file other-file test-file test-file source-file source-file other-file test-file source-file other-file test-file source-file other-file source-file test-file source-file other-file test-file source-file test-file source-file other-file test-file source-file other-file test-file source-file other-file test-file source-file other-file test-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file other-file source-file other-file source-file other-file test-file source-file source-file source-file test-file source-file other-file test-file source-file test-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file other-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file source-file other-file test-file source-file test-file test-file source-file other-file test-file test-file source-file test-file source-file other-file test-file test-file source-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file test-file source-file other-file test-file source-file source-file other-file test-file source-file source-file source-file source-file source-file other-file source-file source-file source-file other-file test-file source-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file source-file test-file source-file other-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file other-file test-file test-file source-file test-file source-file source-file source-file test-file source-file other-file test-file source-file source-file other-file test-file test-file source-file test-file source-file other-file test-file test-file source-file test-file source-file source-file other-file test-file source-file other-file test-file source-file other-file test-file source-file other-file test-file test-file source-file test-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file documentation-file other-file other-file source-file test-file source-file source-file other-file other-file other-file other-file other-file other-file documentation-file container-file documentation-file documentation-file documentation-file other-file other-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file source-file test-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file source-file source-file source-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file test-file source-file other-file source-file other-file other-file other-file source-file other-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file test-file documentation-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file source-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file source-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file source-file test-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
9564,awx,https://github.com/ansible/awx/issues/9564,[ui_next] Last and First Name fields appear on Users table even though there is column title for each,"##### ISSUE TYPE - Bug Report ##### SUMMARY Last and First Name fields appear on Users table even though there is column title for each ##### ENVIRONMENT * AWX version: devel 03/11 ##### ADDITIONAL INFORMATION <img width=""1433"" alt=""Screen Shot 2021-03-11 at 12 54 57 PM"" src=""https://user-images.githubusercontent.com/12446869/110832231-1034ba00-8269-11eb-9aff-788a730a11c3.png"">",source-file | other-file | test-file | other-file | documentation-file | other-file | source-file | other-file | test-file | other-file | documentation-file | other-file | source-file | other-file | test-file | other-file | documentation-file | other-file | source-file | other-file | test-file | other-file | documentation-file | other-file | source-file | other-file | test-file | other-file | documentation-file | other-file | source-file | other-file | test-file | other-file | documentation-file | other-file | source-file | other-file | test-file | other-file | documentation-file | other-file,"[ui_next] Last and First Name fields appear on Users table even though there is column title for each ##### ISSUE TYPE - Bug Report ##### SUMMARY Last and First Name fields appear on Users table even though there is column title for each ##### ENVIRONMENT * AWX version: devel 03/11 ##### ADDITIONAL INFORMATION <img width=""1433"" alt=""Screen Shot 2021-03-11 at 12 54 57 PM"" src=""https://user-images.githubusercontent.com/12446869/110832231-1034ba00-8269-11eb-9aff-788a730a11c3.png""> source-file other-file test-file other-file documentation-file other-file source-file other-file test-file other-file documentation-file other-file source-file other-file test-file other-file documentation-file other-file source-file other-file test-file other-file documentation-file other-file source-file other-file test-file other-file documentation-file other-file source-file other-file test-file other-file documentation-file other-file source-file other-file test-file other-file documentation-file other-file",no-bug,0.9
6367,awx,https://github.com/ansible/awx/issues/6367,"Support all unified job template actions (update, approve, etc.)","##### ISSUE TYPE - Feature Idea ##### SUMMARY Right now with the AWX collection, you can: - launch jobs - launch workflows It should also be possible to take the corresponding action for all the other types: - update inventory sources - update projects - approve approval templates - launch system job templates (module does not exist) Prior attempted implementation was https://github.com/ansible/awx/pull/5856 for inventory sources.",other-file,"Support all unified job template actions (update, approve, etc.) ##### ISSUE TYPE - Feature Idea ##### SUMMARY Right now with the AWX collection, you can: - launch jobs - launch workflows It should also be possible to take the corresponding action for all the other types: - update inventory sources - update projects - approve approval templates - launch system job templates (module does not exist) Prior attempted implementation was https://github.com/ansible/awx/pull/5856 for inventory sources. other-file",no-bug,0.9
10764,awx,https://github.com/ansible/awx/issues/10764,Allow token auth on websocket,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://web.libera.chat/?channels=#ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY Currently the AWX websocket only works with session auth (login cookie). This prevents being able to use it with token auth. The feature request is to allow token auth to the websocket.",documentation-file | documentation-file | documentation-file,"Allow token auth on websocket <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://web.libera.chat/?channels=#ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Feature Idea ##### SUMMARY Currently the AWX websocket only works with session auth (login cookie). This prevents being able to use it with token auth. The feature request is to allow token auth to the websocket. documentation-file documentation-file documentation-file",no-bug,0.9
7676,awx,https://github.com/ansible/awx/issues/7676,Add tooltips to inventory sync status icons on Inventory List,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""1435"" alt=""Screen Shot 2020-07-20 at 2 32 14 PM"" src=""https://user-images.githubusercontent.com/9889020/87973093-0241e700-ca96-11ea-9643-da37af22e04b.png""> Currently hovering over these icons does nothing. In the old app we showed these tooltips: <img width=""366"" alt=""Screen Shot 2020-07-20 at 2 35 09 PM"" src=""https://user-images.githubusercontent.com/9889020/87973358-62d12400-ca96-11ea-9896-8e606328d14e.png""> <img width=""433"" alt=""Screen Shot 2020-07-20 at 2 35 14 PM"" src=""https://user-images.githubusercontent.com/9889020/87973361-6369ba80-ca96-11ea-90ae-08ccf7d86cf9.png""> <img width=""413"" alt=""Screen Shot 2020-07-20 at 2 35 23 PM"" src=""https://user-images.githubusercontent.com/9889020/87973363-6369ba80-ca96-11ea-8d01-f8ea4ccb7b26.png""> We probably want to do something similar",other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file,"Add tooltips to inventory sync status icons on Inventory List ##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""1435"" alt=""Screen Shot 2020-07-20 at 2 32 14 PM"" src=""https://user-images.githubusercontent.com/9889020/87973093-0241e700-ca96-11ea-9643-da37af22e04b.png""> Currently hovering over these icons does nothing. In the old app we showed these tooltips: <img width=""366"" alt=""Screen Shot 2020-07-20 at 2 35 09 PM"" src=""https://user-images.githubusercontent.com/9889020/87973358-62d12400-ca96-11ea-9896-8e606328d14e.png""> <img width=""433"" alt=""Screen Shot 2020-07-20 at 2 35 14 PM"" src=""https://user-images.githubusercontent.com/9889020/87973361-6369ba80-ca96-11ea-90ae-08ccf7d86cf9.png""> <img width=""413"" alt=""Screen Shot 2020-07-20 at 2 35 23 PM"" src=""https://user-images.githubusercontent.com/9889020/87973363-6369ba80-ca96-11ea-8d01-f8ea4ccb7b26.png""> We probably want to do something similar other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file other-file test-file",no-bug,0.9
14317,awx,https://github.com/ansible/awx/issues/14317,Syntax error in yaml file tools/docker-compose/ansible/roles/sources/tasks/main.yml,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Hi, this is the error that ansible throw (via cli is the same) while running the command: make docker-compose COMPOSE_UP_OPTS=-d ``` Syntax Error while loading YAML. did not find expected '-' indicator The error appears to be in '/home/awxadmin/awx/tools/docker-compose/ansible/roles/sources/tasks/main.yml': line 51, column 1, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: error_code: ""{{ item | basename() | regex_replace('custom_(\\d+).html', '\\1') }}"" web_path: ""{{ item | regex_replace('^.*\/static', '/static') }}"" ^ here ``` thank for your efforts regards ### AWX version 22.6.1 ### Select the relevant components - [X] UI - [ ] UI (tech preview) - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.9.27 ### Operating system RHEL 8 ### Web browser _No response_ ### Steps to reproduce following the procedure in your documentation (https://github.com/ansible/awx/blob/devel/tools/docker-compose/README.md) the command: make docker-compose COMPOSE_UP_OPTS=-d throws the error reported above ### Expected results no yaml syntax error ### Actual results ``` Syntax Error while loading YAML. did not find expected '-' indicator The error appears to be in '/home/awxadmin/awx/tools/docker-compose/ansible/roles/sources/tasks/main.yml': line 51, column 1, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: error_code: ""{{ item | basename() | regex_replace('custom_(\\d+).html', '\\1') }}"" web_path: ""{{ item | regex_replace('^.*\/static', '/static') }}"" ^ here ``` ### Additional information removing the escapint slash before the first /static occurrence: before web_path: ""{{ item | regex_replace('^.*\/static', '/static') }}"" after web_path: ""{{ item | regex_replace('^.*/static', '/static') }}"" the procedure succeeds",config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file,"Syntax error in yaml file tools/docker-compose/ansible/roles/sources/tasks/main.yml ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Hi, this is the error that ansible throw (via cli is the same) while running the command: make docker-compose COMPOSE_UP_OPTS=-d ``` Syntax Error while loading YAML. did not find expected '-' indicator The error appears to be in '/home/awxadmin/awx/tools/docker-compose/ansible/roles/sources/tasks/main.yml': line 51, column 1, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: error_code: ""{{ item | basename() | regex_replace('custom_(\\d+).html', '\\1') }}"" web_path: ""{{ item | regex_replace('^.*\/static', '/static') }}"" ^ here ``` thank for your efforts regards ### AWX version 22.6.1 ### Select the relevant components - [X] UI - [ ] UI (tech preview) - [ ] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method docker development environment ### Modifications no ### Ansible version 2.9.27 ### Operating system RHEL 8 ### Web browser _No response_ ### Steps to reproduce following the procedure in your documentation (https://github.com/ansible/awx/blob/devel/tools/docker-compose/README.md) the command: make docker-compose COMPOSE_UP_OPTS=-d throws the error reported above ### Expected results no yaml syntax error ### Actual results ``` Syntax Error while loading YAML. did not find expected '-' indicator The error appears to be in '/home/awxadmin/awx/tools/docker-compose/ansible/roles/sources/tasks/main.yml': line 51, column 1, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: error_code: ""{{ item | basename() | regex_replace('custom_(\\d+).html', '\\1') }}"" web_path: ""{{ item | regex_replace('^.*\/static', '/static') }}"" ^ here ``` ### Additional information removing the escapint slash before the first /static occurrence: before web_path: ""{{ item | regex_replace('^.*\/static', '/static') }}"" after web_path: ""{{ item | regex_replace('^.*/static', '/static') }}"" the procedure succeeds config-file config-file config-file config-file config-file config-file config-file config-file",no-bug,0.95
7256,awx,https://github.com/ansible/awx/issues/7256,Implement `Replace` functionality for credential passwords,"##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""517"" alt=""Screen Shot 2020-06-04 at 2 43 46 PM"" src=""https://user-images.githubusercontent.com/9889020/83798242-f9c25800-a671-11ea-8ab8-58b0583e82b7.png""> In the old UI, password fields in the credential subform are disabled on edit and we force the user to click this replace button in order to enable it and make a change. @wenottingham @trahman73 is this a UX pattern that we want to carry over to the new app? Right now the field looks like: <img width=""473"" alt=""Screen Shot 2020-06-04 at 2 48 10 PM"" src=""https://user-images.githubusercontent.com/9889020/83798579-75240980-a672-11ea-91fb-bb62d7743ead.png""> and the user can type in the input to overwrite: <img width=""482"" alt=""Screen Shot 2020-06-04 at 2 48 18 PM"" src=""https://user-images.githubusercontent.com/9889020/83798605-7ead7180-a672-11ea-8d79-b01312e2fe3c.png""> If we do want it - is it critical for an initial release?",other-file | other-file | other-file | other-file | test-file | other-file,"Implement `Replace` functionality for credential passwords ##### ISSUE TYPE - Feature Idea ##### SUMMARY <img width=""517"" alt=""Screen Shot 2020-06-04 at 2 43 46 PM"" src=""https://user-images.githubusercontent.com/9889020/83798242-f9c25800-a671-11ea-8ab8-58b0583e82b7.png""> In the old UI, password fields in the credential subform are disabled on edit and we force the user to click this replace button in order to enable it and make a change. @wenottingham @trahman73 is this a UX pattern that we want to carry over to the new app? Right now the field looks like: <img width=""473"" alt=""Screen Shot 2020-06-04 at 2 48 10 PM"" src=""https://user-images.githubusercontent.com/9889020/83798579-75240980-a672-11ea-91fb-bb62d7743ead.png""> and the user can type in the input to overwrite: <img width=""482"" alt=""Screen Shot 2020-06-04 at 2 48 18 PM"" src=""https://user-images.githubusercontent.com/9889020/83798605-7ead7180-a672-11ea-8d79-b01312e2fe3c.png""> If we do want it - is it critical for an initial release? other-file other-file other-file other-file test-file other-file",no-bug,0.9
5052,awx,https://github.com/ansible/awx/issues/5052,Unable to sync with Git after updating to 7,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Unable to sync with Git after updating to 7 ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on Linux * Ansible version: 2.8.5 * Operating System: RHEL 7 * Web Browser: Chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Use the web UI to configure Git Source Control credentials Use web UI to configure git repository under Projects ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Successful download of Git repository ##### ACTUAL RESULTS <!-- What actually happened? --> Error message and failed download ""Cloning into '/var/lib/awx/projects/_8__playbook'..."", ""fatal: unable to access 'https://$encrypted$:$encrypted$@server.localdomain/ansible-playbook/playbook.git/': Invalid file descriptor""##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",other-file | test-file,"Unable to sync with Git after updating to 7 ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Unable to sync with Git after updating to 7 ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on Linux * Ansible version: 2.8.5 * Operating System: RHEL 7 * Web Browser: Chrome ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Use the web UI to configure Git Source Control credentials Use web UI to configure git repository under Projects ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> Successful download of Git repository ##### ACTUAL RESULTS <!-- What actually happened? --> Error message and failed download ""Cloning into '/var/lib/awx/projects/_8__playbook'..."", ""fatal: unable to access 'https://$encrypted$:$encrypted$@server.localdomain/ansible-playbook/playbook.git/': Invalid file descriptor""##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> other-file test-file",no-bug,0.9
14499,awx,https://github.com/ansible/awx/issues/14499,[DOCS] Add alt-text codeblock to Images for Userguide: applications_auth.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the applications_auth.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: applications_auth.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the applications_auth.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file documentation-file",no-bug,0.95
4771,awx,https://github.com/ansible/awx/issues/4771,CLI: Sometimes characters in monitoring stdout get transformed in incorrect ways,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> In certain environments using `monitor` for watching sdtout of adhoc commands leads to characters getting transformed. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Still unclear on this, have one environment in particular that reproduces it (but not sure how it is different than my local setup) ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> When comparing stdout from `api/v2/ad_hoc_commands/ID/` to local stdout, they should be the same ##### ACTUAL RESULTS <!-- What actually happened? --> Small aberrations like: `prepare_env()\x1b[0m` getting transformed to `prepare_en\x1b[0m` (notice the `v()` in `prepare_env()` has been transformed to `` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> This happened in a python3 install",source-file,"CLI: Sometimes characters in monitoring stdout get transformed in incorrect ways ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> In certain environments using `monitor` for watching sdtout of adhoc commands leads to characters getting transformed. ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> Still unclear on this, have one environment in particular that reproduces it (but not sure how it is different than my local setup) ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> When comparing stdout from `api/v2/ad_hoc_commands/ID/` to local stdout, they should be the same ##### ACTUAL RESULTS <!-- What actually happened? --> Small aberrations like: `prepare_env()\x1b[0m` getting transformed to `prepare_en\x1b[0m` (notice the `v()` in `prepare_env()` has been transformed to `` ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> This happened in a python3 install source-file",no-bug,0.8
7708,awx,https://github.com/ansible/awx/issues/7708,Credential access tab should be shown when cred doesn't belong to an organization,"##### ISSUE TYPE - Bug Report ##### SUMMARY At first I created https://github.com/ansible/awx/issues/7693 only to realize that the tab was in fact configured but it was hidden for credentials without an organization. I don't think that this is quite right because you can still assign a role to a user for said credential. You can see this in action in the old UI. There is a catch though - you can't assign a team level permission on a credential without an organization. So, the wizard that we use to add new roles is going to have to get updated to accommodate this. Here's the expected behavior: 1) Access tab is always present 2) If the credential does not have an organization then you can only select user(s) when adding new roles 3) If the credential does have an organization then you can select user(s) or team(s) when adding new roles Item 2 means that our wizard probably only needs 2 steps rather than 3 (first step is typically selecting Users or Teams). In this case, Users would be the only option.",other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file,"Credential access tab should be shown when cred doesn't belong to an organization ##### ISSUE TYPE - Bug Report ##### SUMMARY At first I created https://github.com/ansible/awx/issues/7693 only to realize that the tab was in fact configured but it was hidden for credentials without an organization. I don't think that this is quite right because you can still assign a role to a user for said credential. You can see this in action in the old UI. There is a catch though - you can't assign a team level permission on a credential without an organization. So, the wizard that we use to add new roles is going to have to get updated to accommodate this. Here's the expected behavior: 1) Access tab is always present 2) If the credential does not have an organization then you can only select user(s) when adding new roles 3) If the credential does have an organization then you can select user(s) or team(s) when adding new roles Item 2 means that our wizard probably only needs 2 steps rather than 3 (first step is typically selecting Users or Teams). In this case, Users would be the only option. other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file test-file other-file other-file other-file test-file other-file",no-bug,0.8
6371,awx,https://github.com/ansible/awx/issues/6371,Document connecting to websocket for 3rd parties,"##### ISSUE TYPE I wasn't able to find any info on how do I connect to websocket. Only this issue: https://github.com/ansible/awx/issues/2468 I've tried to create a Websocket client with Nodejs and subscribe to jobs status changes with this payload: ``` ""groups"": {""jobs"": [""status_changed""], ""schedules"": [""changed""], ""control"": [""limit_reached_1""]} ``` but the messages just don't come from the server, although there're no error messages returned from it. ##### SUMMARY It's not clear how to connect to websocket server. Can this be documented? Thanks",other-file | other-file | other-file,"Document connecting to websocket for 3rd parties ##### ISSUE TYPE I wasn't able to find any info on how do I connect to websocket. Only this issue: https://github.com/ansible/awx/issues/2468 I've tried to create a Websocket client with Nodejs and subscribe to jobs status changes with this payload: ``` ""groups"": {""jobs"": [""status_changed""], ""schedules"": [""changed""], ""control"": [""limit_reached_1""]} ``` but the messages just don't come from the server, although there're no error messages returned from it. ##### SUMMARY It's not clear how to connect to websocket server. Can this be documented? Thanks other-file other-file other-file",no-bug,0.8
8355,awx,https://github.com/ansible/awx/issues/8355,Provide an interface to display when AWX is upgrading,##### ISSUE TYPE - Feature Idea ##### SUMMARY We currently have https://github.com/ansible/awx/blob/devel/awx/ui/client/installing.template.ejs that gets displayed via this view: https://github.com/ansible/awx/blob/d8c4f118c23fde9f59f38334974381264d22f120/awx/ui/views.py#L26-L30. Technically we could continue to use this template so long as it's included in the bundle. I'm creating this issue so that we don't forget to either: A) Make sure that installing.template.ejs continues to work with ui_next or B) Build a view like this using React/PF,source-file | source-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file | source-file | source-file | other-file | other-file | other-file | other-file | other-file | source-file,Provide an interface to display when AWX is upgrading ##### ISSUE TYPE - Feature Idea ##### SUMMARY We currently have https://github.com/ansible/awx/blob/devel/awx/ui/client/installing.template.ejs that gets displayed via this view: https://github.com/ansible/awx/blob/d8c4f118c23fde9f59f38334974381264d22f120/awx/ui/views.py#L26-L30. Technically we could continue to use this template so long as it's included in the bundle. I'm creating this issue so that we don't forget to either: A) Make sure that installing.template.ejs continues to work with ui_next or B) Build a view like this using React/PF source-file source-file other-file other-file source-file source-file source-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file source-file other-file other-file other-file other-file other-file source-file source-file source-file other-file other-file other-file other-file other-file source-file,no-bug,0.9
9126,awx,https://github.com/ansible/awx/issues/9126,login page ui tweaks,"![Screen Shot 2021-01-20 at 12 54 28 PM](https://user-images.githubusercontent.com/1342624/105369911-0380d780-5bd1-11eb-9be8-02855c75ac1e.png) - We should make sure logo is the white text version (not sure exactly how that branding gets added, may need to be a separate issue) - We should move ""Please sign in."" to secondary text (and it should be sentence cased). like this shows https://www.patternfly.org/v4/components/login-page/react/basic/",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file,"login page ui tweaks ![Screen Shot 2021-01-20 at 12 54 28 PM](https://user-images.githubusercontent.com/1342624/105369911-0380d780-5bd1-11eb-9be8-02855c75ac1e.png) - We should make sure logo is the white text version (not sure exactly how that branding gets added, may need to be a separate issue) - We should move ""Please sign in."" to secondary text (and it should be sentence cased). like this shows https://www.patternfly.org/v4/components/login-page/react/basic/ other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file",no-bug,0.9
4560,awx,https://github.com/ansible/awx/issues/4560,CLI: awx users create does not indicate correct required arguments,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Help text only indicates need username, also some strange formatting ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) Have valid token or username/password in environment 2) `awx users create --help` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ``` usage: awx users create [-h] --username TEXT [--first_name TEXT] [--last_name TEXT] [--email TEXT] [--is_superuser BOOLEAN] [--is_system_auditor BOOLEAN] --password TEXT [--last_login LAST_LOGIN] arguments: -h, --help show this help message and exit --username TEXT [REQUIRED] Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only. --first_name TEXT --last_name TEXT --email TEXT --is_superuser BOOLEAN Designates that this user has all permissions without explicitly assigning them. --is_system_auditor BOOLEAN --password TEXT [REQUIRED] Write-only field used to change the password. --last_login LAST_LOGIN awx users create: the following arguments are required: --username --password ``` ##### ACTUAL RESULTS <!-- What actually happened? --> ``` awx users create --help usage: awx users create [-h] --username TEXT [--first_name TEXT] [--last_name TEXT] [--email TEXT] [--is_superuser BOOLEAN] [--is_system_auditor BOOLEAN] [--password TEXT] [--last_login LAST_LOGIN] optional arguments: -h, --help show this help message and exit --username TEXT [REQUIRED] Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only. --first_name TEXT --last_name TEXT --email TEXT --is_superuser BOOLEAN Designates that this user has all permissions without explicitly assigning them. --is_system_auditor BOOLEAN --password TEXT Write-only field used to change the password. --last_login LAST_LOGIN awx users create: the following arguments are required: --username ``` diff is: 1) that all arguments are labeled as `optional arguments`, we could fix this by just saying `arguments` 2) Last line `the following arguments are required: --username` should include `--password` 3) In list at top of help `--password` should NOT be in brackets (is not optional) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> the `optional arguments` thing is a problem across the board, should be fixed in general way I think",source-file | source-file | source-file | source-file,"CLI: awx users create does not indicate correct required arguments ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Help text only indicates need username, also some strange formatting ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> 1) Have valid token or username/password in environment 2) `awx users create --help` ##### EXPECTED RESULTS <!-- What did you expect to happen when running the steps above? --> ``` usage: awx users create [-h] --username TEXT [--first_name TEXT] [--last_name TEXT] [--email TEXT] [--is_superuser BOOLEAN] [--is_system_auditor BOOLEAN] --password TEXT [--last_login LAST_LOGIN] arguments: -h, --help show this help message and exit --username TEXT [REQUIRED] Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only. --first_name TEXT --last_name TEXT --email TEXT --is_superuser BOOLEAN Designates that this user has all permissions without explicitly assigning them. --is_system_auditor BOOLEAN --password TEXT [REQUIRED] Write-only field used to change the password. --last_login LAST_LOGIN awx users create: the following arguments are required: --username --password ``` ##### ACTUAL RESULTS <!-- What actually happened? --> ``` awx users create --help usage: awx users create [-h] --username TEXT [--first_name TEXT] [--last_name TEXT] [--email TEXT] [--is_superuser BOOLEAN] [--is_system_auditor BOOLEAN] [--password TEXT] [--last_login LAST_LOGIN] optional arguments: -h, --help show this help message and exit --username TEXT [REQUIRED] Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only. --first_name TEXT --last_name TEXT --email TEXT --is_superuser BOOLEAN Designates that this user has all permissions without explicitly assigning them. --is_system_auditor BOOLEAN --password TEXT Write-only field used to change the password. --last_login LAST_LOGIN awx users create: the following arguments are required: --username ``` diff is: 1) that all arguments are labeled as `optional arguments`, we could fix this by just saying `arguments` 2) Last line `the following arguments are required: --username` should include `--password` 3) In list at top of help `--password` should NOT be in brackets (is not optional) ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> the `optional arguments` thing is a problem across the board, should be fixed in general way I think source-file source-file source-file source-file",no-bug,0.9
5059,awx,https://github.com/ansible/awx/issues/5059,Host cannot be registered with tower-cli,"##### ISSUE TYPE - Bug Report ##### SUMMARY The host cannot be registered with tower-cli. However, json can be registered with the same account from RESTAPI UI ##### ENVIRONMENT * AWX version: 8.0.0(devel) * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: CentOS 7.7.1908 * Web Browser: ##### STEPS TO REPRODUCE run a `tower-cli host create -n 111.111.111.112 -i 5 --description """" --enabled true` ##### EXPECTED RESULTS Host is registered ##### ACTUAL RESULTS ``` tower-cli host create -n 111.111.111.112 -i 5 --description """" --enabled true --variables """" *** DETAILS: Checking for an existing record. ********************************* GET https://xxx.xxx.jp/api/v2/hosts/ Params: [('inventory', 5), ('name', u'111.111.111.112')] *** DETAILS: Writing the record. ********************************************** POST https://xxx.xxx.jp/api/v2/hosts/ Data: {'description': u'', 'variables': u'', 'enabled': True, 'inventory': 5, 'name': u'111.111.111.112'} Error: You don't have permission to do that (HTTP 403). ``` awx_web log ``` 2019-10-22 03:36:05,226 INFO awx.api.authentication User nakacya performed a GET to /api/v2/hosts/ through the API using OAuth 2 token 2. [pid: 173|app: 0|req: 19/70] IP_ADDRESS () {40 vars in 629 bytes} [Tue Oct 22 03:36:05 2019] GET /api/v2/hosts/?inventory=5&name=111.111.111.112 => generated 52 bytes in 95 msecs (HTTP/1.1 200) 8 headers in 236 bytes (1 switches on core 0) 3.113.97.58 - - [22/Oct/2019:03:36:05 +0000] ""GET /api/v2/hosts/?inventory=5&name=111.111.111.112 HTTP/1.1"" 200 52 ""-"" ""python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-1062.1.2.el7.x86_64"" ""-"" 2019-10-22 03:36:05,316 INFO awx.api.authentication User nakacya performed a POST to /api/v2/hosts/ through the API using OAuth 2 token 2. 2019-10-22 03:36:05,321 WARNING awx.api.generics status 403 received by user nakacya attempting to access /api/v2/hosts/ from IP_Address 2019-10-22 03:36:05,349 WARNING django.request Forbidden: /api/v2/hosts/ 2019-10-22 03:36:05,349 WARNING django.request Forbidden: /api/v2/hosts/ [pid: 175|app: 0|req: 33/71] 3.113.97.58 () {44 vars in 645 bytes} [Tue Oct 22 03:36:05 2019] POST /api/v2/hosts/ => generated 63 bytes in 79 msecs (HTTP/1.1 403) 8 headers in 243 bytes (1 switches on core 0) 3.113.97.58 - - [22/Oct/2019:03:36:05 +0000] ""POST /api/v2/hosts/ HTTP/1.1"" 403 63 ""-"" ""python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-1062.1.2.el7.x86_64"" ""- ``` ##### ADDITIONAL INFORMATION Host registration from WebUI is no problem json can be registered with the same account from REST API UI",other-file,"Host cannot be registered with tower-cli ##### ISSUE TYPE - Bug Report ##### SUMMARY The host cannot be registered with tower-cli. However, json can be registered with the same account from RESTAPI UI ##### ENVIRONMENT * AWX version: 8.0.0(devel) * AWX install method: docker on linux * Ansible version: 2.8.5 * Operating System: CentOS 7.7.1908 * Web Browser: ##### STEPS TO REPRODUCE run a `tower-cli host create -n 111.111.111.112 -i 5 --description """" --enabled true` ##### EXPECTED RESULTS Host is registered ##### ACTUAL RESULTS ``` tower-cli host create -n 111.111.111.112 -i 5 --description """" --enabled true --variables """" *** DETAILS: Checking for an existing record. ********************************* GET https://xxx.xxx.jp/api/v2/hosts/ Params: [('inventory', 5), ('name', u'111.111.111.112')] *** DETAILS: Writing the record. ********************************************** POST https://xxx.xxx.jp/api/v2/hosts/ Data: {'description': u'', 'variables': u'', 'enabled': True, 'inventory': 5, 'name': u'111.111.111.112'} Error: You don't have permission to do that (HTTP 403). ``` awx_web log ``` 2019-10-22 03:36:05,226 INFO awx.api.authentication User nakacya performed a GET to /api/v2/hosts/ through the API using OAuth 2 token 2. [pid: 173|app: 0|req: 19/70] IP_ADDRESS () {40 vars in 629 bytes} [Tue Oct 22 03:36:05 2019] GET /api/v2/hosts/?inventory=5&name=111.111.111.112 => generated 52 bytes in 95 msecs (HTTP/1.1 200) 8 headers in 236 bytes (1 switches on core 0) 3.113.97.58 - - [22/Oct/2019:03:36:05 +0000] ""GET /api/v2/hosts/?inventory=5&name=111.111.111.112 HTTP/1.1"" 200 52 ""-"" ""python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-1062.1.2.el7.x86_64"" ""-"" 2019-10-22 03:36:05,316 INFO awx.api.authentication User nakacya performed a POST to /api/v2/hosts/ through the API using OAuth 2 token 2. 2019-10-22 03:36:05,321 WARNING awx.api.generics status 403 received by user nakacya attempting to access /api/v2/hosts/ from IP_Address 2019-10-22 03:36:05,349 WARNING django.request Forbidden: /api/v2/hosts/ 2019-10-22 03:36:05,349 WARNING django.request Forbidden: /api/v2/hosts/ [pid: 175|app: 0|req: 33/71] 3.113.97.58 () {44 vars in 645 bytes} [Tue Oct 22 03:36:05 2019] POST /api/v2/hosts/ => generated 63 bytes in 79 msecs (HTTP/1.1 403) 8 headers in 243 bytes (1 switches on core 0) 3.113.97.58 - - [22/Oct/2019:03:36:05 +0000] ""POST /api/v2/hosts/ HTTP/1.1"" 403 63 ""-"" ""python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-1062.1.2.el7.x86_64"" ""- ``` ##### ADDITIONAL INFORMATION Host registration from WebUI is no problem json can be registered with the same account from REST API UI other-file",no-bug,0.8
7139,awx,https://github.com/ansible/awx/issues/7139,SumoLogic external logging in Ansible Tower 3.7 does not work,"##### ISSUE TYPE - Bug Report ##### SUMMARY SumoLogic collector is typically URL with token in base64 format ending with two equal signs `==`. When this is saved in Tower, the incorrect URL will be stored in `/var/lib/awx/rsyslog/rsyslog.conf` where it automatically replaces those signs with `%3D%3D`. Underlying curl used by `rsyslogd` will further try to encode it and ends up with `%253D%253D`. ##### ENVIRONMENT * AWX version: Red Hat Tower `3.7.0` * AWX install method: https://releases.ansible.com/ansible-tower/setup-bundle/ansible-tower-setup-bundle-3.7.0-4.tar.gz * Ansible version: Red Hat Ansible `2.9.7` * Operating System on the server: Red Hat Enterprise Linux release 8.2 (Ootpa) * Web Browser: Chrome `80.0.3987.122` (Official Build) (64-bit) on Red Hat Enterprise Linux release 8.0 (Ootpa) ##### STEPS TO REPRODUCE 1. `https://<TOWER>/#/settings/system` - LOGGING 2. Logging aggregator type: `sumologic` 3. Logging aggregator: `https://<REDACTED>.sumologic.com/receiver/v1/http/<LONG TOKEN>==` ##### EXPECTED RESULTS Integration with SumoLogic works. Logs will appear in the SumoLogic collector. ##### ACTUAL RESULTS Integration with SumoLogic does not work due to incorrect parsing of the URL where external logs will be sent to. Logs do not appear in the SumoLogic collector. ##### ADDITIONAL INFORMATION `cat /var/lib/awx/rsyslog/rsyslog.conf` ``` $DebugFile <REDACTED> $DebugLevel 2 $WorkDirectory /var/lib/awx/rsyslog $MaxMessageSize 700000 $IncludeConfig /var/lib/awx/rsyslog/conf.d/*.conf main_queue(queue.spoolDirectory=""/var/lib/awx"" queue.maxdiskspace=""1g"" queue.type=""Disk"" queue.filename=""awx-external-logger-backlog"") module(load=""imuxsock"" SysSock.Use=""off"") input(type=""imuxsock"" Socket=""/var/run/awx-rsyslog/rsyslog.sock"" unlink=""on"") template(name=""awx"" type=""string"" string=""%rawmsg-after-pri%"") module(load=""omhttp"") action(type=""omhttp"" server=""<REDACTED>.sumologic.com"" serverport=""443"" usehttps=""on"" allowunsignedcerts=""off"" skipverifyhost=""off"" action.resumeRetryCount=""-1"" template=""awx"" errorfile=""/var/log/tower/rsyslog.err"" action.resumeInterval=""5"" restpath=""receiver/v1/http/<LONG TOKEN>%3D%3D"") ``` When the correct URL is hardcoded into the above file, the collection works.",documentation-file,"SumoLogic external logging in Ansible Tower 3.7 does not work ##### ISSUE TYPE - Bug Report ##### SUMMARY SumoLogic collector is typically URL with token in base64 format ending with two equal signs `==`. When this is saved in Tower, the incorrect URL will be stored in `/var/lib/awx/rsyslog/rsyslog.conf` where it automatically replaces those signs with `%3D%3D`. Underlying curl used by `rsyslogd` will further try to encode it and ends up with `%253D%253D`. ##### ENVIRONMENT * AWX version: Red Hat Tower `3.7.0` * AWX install method: https://releases.ansible.com/ansible-tower/setup-bundle/ansible-tower-setup-bundle-3.7.0-4.tar.gz * Ansible version: Red Hat Ansible `2.9.7` * Operating System on the server: Red Hat Enterprise Linux release 8.2 (Ootpa) * Web Browser: Chrome `80.0.3987.122` (Official Build) (64-bit) on Red Hat Enterprise Linux release 8.0 (Ootpa) ##### STEPS TO REPRODUCE 1. `https://<TOWER>/#/settings/system` - LOGGING 2. Logging aggregator type: `sumologic` 3. Logging aggregator: `https://<REDACTED>.sumologic.com/receiver/v1/http/<LONG TOKEN>==` ##### EXPECTED RESULTS Integration with SumoLogic works. Logs will appear in the SumoLogic collector. ##### ACTUAL RESULTS Integration with SumoLogic does not work due to incorrect parsing of the URL where external logs will be sent to. Logs do not appear in the SumoLogic collector. ##### ADDITIONAL INFORMATION `cat /var/lib/awx/rsyslog/rsyslog.conf` ``` $DebugFile <REDACTED> $DebugLevel 2 $WorkDirectory /var/lib/awx/rsyslog $MaxMessageSize 700000 $IncludeConfig /var/lib/awx/rsyslog/conf.d/*.conf main_queue(queue.spoolDirectory=""/var/lib/awx"" queue.maxdiskspace=""1g"" queue.type=""Disk"" queue.filename=""awx-external-logger-backlog"") module(load=""imuxsock"" SysSock.Use=""off"") input(type=""imuxsock"" Socket=""/var/run/awx-rsyslog/rsyslog.sock"" unlink=""on"") template(name=""awx"" type=""string"" string=""%rawmsg-after-pri%"") module(load=""omhttp"") action(type=""omhttp"" server=""<REDACTED>.sumologic.com"" serverport=""443"" usehttps=""on"" allowunsignedcerts=""off"" skipverifyhost=""off"" action.resumeRetryCount=""-1"" template=""awx"" errorfile=""/var/log/tower/rsyslog.err"" action.resumeInterval=""5"" restpath=""receiver/v1/http/<LONG TOKEN>%3D%3D"") ``` When the correct URL is hardcoded into the above file, the collection works. documentation-file",no-bug,0.9
9433,awx,https://github.com/ansible/awx/issues/9433,Checkbox misaligned with items on final build Organization Lookup,"##### ISSUE TYPE - Bug Report ##### SUMMARY Checkbox misaligned with items on final build Organization Lookup. This misalignment is not noticeable on devel environment, but as part of the final build. `make ui-devel`. ![image (7)](https://user-images.githubusercontent.com/9053044/109513547-38573880-7a73-11eb-8485-834c645d2e7d.png)",other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Checkbox misaligned with items on final build Organization Lookup ##### ISSUE TYPE - Bug Report ##### SUMMARY Checkbox misaligned with items on final build Organization Lookup. This misalignment is not noticeable on devel environment, but as part of the final build. `make ui-devel`. ![image (7)](https://user-images.githubusercontent.com/9053044/109513547-38573880-7a73-11eb-8485-834c645d2e7d.png) other-file other-file other-file other-file other-file other-file other-file",no-bug,0.95
10045,awx,https://github.com/ansible/awx/issues/10045,[Meta issue] Projects list issues,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Some small bugs in the new UI for project list - [x] [The project list <thead> is not reflecting the table data order:](https://github.com/ansible/awx/issues/10029) ![image](https://user-images.githubusercontent.com/12464858/116464922-e9473d00-a842-11eb-97d5-a096b28d8d22.png) - [x] In the old UI the users can cancel the project sync job running on project list, in the new UI you can only do that from Jobs list ![chrome-capture (6)](https://user-images.githubusercontent.com/12464858/116465170-40e5a880-a843-11eb-9541-d23d4009b0b4.gif) Suggestion: ![image](https://user-images.githubusercontent.com/12464858/116466637-21e81600-a845-11eb-949e-039d285e5da2.png) - [ ] [Add credentials data to expanded row](https://github.com/ansible/awx/issues/4023#issuecomment-828689691)",other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file,"[Meta issue] Projects list issues <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Some small bugs in the new UI for project list - [x] [The project list <thead> is not reflecting the table data order:](https://github.com/ansible/awx/issues/10029) ![image](https://user-images.githubusercontent.com/12464858/116464922-e9473d00-a842-11eb-97d5-a096b28d8d22.png) - [x] In the old UI the users can cancel the project sync job running on project list, in the new UI you can only do that from Jobs list ![chrome-capture (6)](https://user-images.githubusercontent.com/12464858/116465170-40e5a880-a843-11eb-9541-d23d4009b0b4.gif) Suggestion: ![image](https://user-images.githubusercontent.com/12464858/116466637-21e81600-a845-11eb-949e-039d285e5da2.png) - [ ] [Add credentials data to expanded row](https://github.com/ansible/awx/issues/4023#issuecomment-828689691) other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file other-file other-file",no-bug,0.9
8341,awx,https://github.com/ansible/awx/issues/8341,15.0.0 does not detect roles/requirements.yml,"##### ISSUE TYPE - Bug Report ##### SUMMARY With the Upgrade to 15.0.0, AWX does not detect the roles/requirements.yml ``` TASK [detect requirements.yml] ************************************************* skipping: [localhost] TASK [fetch galaxy roles from requirements.yml] ******************************** skipping: [localhost] TASK [detect collections/requirements.yml] ************************************* skipping: [localhost] TASK [fetch galaxy collections from collections/requirements.yml] ************** skipping: [localhost] ``` ##### ENVIRONMENT * AWX version: 15.0.0 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: RHEL 7.8 * Web Browser: Tested with * Brave Version 1.14.84 Chromium: 85.0.4183.121 * Google Chrome 86.0.4240.75 * Firefox Version 81.0.1 ##### STEPS TO REPRODUCE Using AWX 15.0.0, sync a project with roles included in roles/requirements.yml ##### EXPECTED RESULTS roles/requirements.yml will be included and roles will be pulled from its sources ##### ACTUAL RESULTS roles/requirements.yml is skipped and roles will not be pulled from the sources which will result in the job template failing due to mussing roles. ##### ADDITIONAL INFORMATION structure of the roles/requirements.yml ``` --- - src: git@gitlab.domain.tld:ansible/roles/common.git scm: git name: common - src: https://github.com/RedHatInsights/insights-client-role.git scm: git name: RedHatInsights.insights-client - src: https://github.com/linux-system-roles/timesync.git scm: git name: rhel-system-roles.timesync ... ``` Pulling the roles works with this setup in version 14.1.0 as expected.",documentation-file,"15.0.0 does not detect roles/requirements.yml ##### ISSUE TYPE - Bug Report ##### SUMMARY With the Upgrade to 15.0.0, AWX does not detect the roles/requirements.yml ``` TASK [detect requirements.yml] ************************************************* skipping: [localhost] TASK [fetch galaxy roles from requirements.yml] ******************************** skipping: [localhost] TASK [detect collections/requirements.yml] ************************************* skipping: [localhost] TASK [fetch galaxy collections from collections/requirements.yml] ************** skipping: [localhost] ``` ##### ENVIRONMENT * AWX version: 15.0.0 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: RHEL 7.8 * Web Browser: Tested with * Brave Version 1.14.84 Chromium: 85.0.4183.121 * Google Chrome 86.0.4240.75 * Firefox Version 81.0.1 ##### STEPS TO REPRODUCE Using AWX 15.0.0, sync a project with roles included in roles/requirements.yml ##### EXPECTED RESULTS roles/requirements.yml will be included and roles will be pulled from its sources ##### ACTUAL RESULTS roles/requirements.yml is skipped and roles will not be pulled from the sources which will result in the job template failing due to mussing roles. ##### ADDITIONAL INFORMATION structure of the roles/requirements.yml ``` --- - src: git@gitlab.domain.tld:ansible/roles/common.git scm: git name: common - src: https://github.com/RedHatInsights/insights-client-role.git scm: git name: RedHatInsights.insights-client - src: https://github.com/linux-system-roles/timesync.git scm: git name: rhel-system-roles.timesync ... ``` Pulling the roles works with this setup in version 14.1.0 as expected. documentation-file",no-bug,0.9
7681,awx,https://github.com/ansible/awx/issues/7681,Hide sync icon for smart inventory rows in Inventory List,"##### ISSUE TYPE - Bug Report ##### SUMMARY <img width=""1407"" alt=""Screen Shot 2020-07-20 at 3 05 48 PM"" src=""https://user-images.githubusercontent.com/9889020/87976119-901fd100-ca9a-11ea-9fd2-976a80a7f55b.png""> Smart inventories don't have sources so this icon is not relevant",other-file | test-file | other-file | test-file,"Hide sync icon for smart inventory rows in Inventory List ##### ISSUE TYPE - Bug Report ##### SUMMARY <img width=""1407"" alt=""Screen Shot 2020-07-20 at 3 05 48 PM"" src=""https://user-images.githubusercontent.com/9889020/87976119-901fd100-ca9a-11ea-9fd2-976a80a7f55b.png""> Smart inventories don't have sources so this icon is not relevant other-file test-file other-file test-file",no-bug,0.9
6340,awx,https://github.com/ansible/awx/issues/6340,Jobs not running with external PostgreSQL database after PR #6034,"##### ISSUE TYPE Jobs not running with external PostgreSQL database after PR https://github.com/ansible/awx/pull/6034 ##### SUMMARY Jobs not running with external PostgreSQL database after PR https://github.com/ansible/awx/pull/6034 I've found that the issue is in following code: https://github.com/ansible/awx/blob/db7f0f9421853f2489ebb2f6b904202986dee99a/awx/main/dispatch/__init__.py#L72-L78 Replacing it with: ``` conn = psycopg2.connect(dbname=conf['NAME'], host=conf['HOST'], user=conf['USER'], password=conf['PASSWORD'], port=conf['PORT'], sslmode=conf[""OPTIONS""]['sslmode']) ``` enables job execution (note: this is specific to my setup which omits some options in credentials.py which are part of default AWX K8S credentials.py.j2 template, specifically I'm not using 'sslrootcert': '{{ ca_trust_bundle }}') ##### ENVIRONMENT * AWX version: 9.3.0 (devel branch) * AWX install method: kubernetes * Ansible version: 2.9.3 ##### STEPS TO REPRODUCE 1) Deploy latest AWX devel in Kubernetes with external PostgreSQL database. 2) Execute job ##### EXPECTED RESULTS Job should execute ##### ACTUAL RESULTS Job stays in pending with exceptions in `awx-task` log ##### ADDITIONAL INFORMATION Didn't open a PR since there might be more option in following file, and should be a clever way to enable them in `psycopg2.connect()` method. https://github.com/ansible/awx/blob/devel/installer/roles/kubernetes/templates/credentials.py.j2",source-file | other-file | other-file | other-file,"Jobs not running with external PostgreSQL database after PR #6034 ##### ISSUE TYPE Jobs not running with external PostgreSQL database after PR https://github.com/ansible/awx/pull/6034 ##### SUMMARY Jobs not running with external PostgreSQL database after PR https://github.com/ansible/awx/pull/6034 I've found that the issue is in following code: https://github.com/ansible/awx/blob/db7f0f9421853f2489ebb2f6b904202986dee99a/awx/main/dispatch/__init__.py#L72-L78 Replacing it with: ``` conn = psycopg2.connect(dbname=conf['NAME'], host=conf['HOST'], user=conf['USER'], password=conf['PASSWORD'], port=conf['PORT'], sslmode=conf[""OPTIONS""]['sslmode']) ``` enables job execution (note: this is specific to my setup which omits some options in credentials.py which are part of default AWX K8S credentials.py.j2 template, specifically I'm not using 'sslrootcert': '{{ ca_trust_bundle }}') ##### ENVIRONMENT * AWX version: 9.3.0 (devel branch) * AWX install method: kubernetes * Ansible version: 2.9.3 ##### STEPS TO REPRODUCE 1) Deploy latest AWX devel in Kubernetes with external PostgreSQL database. 2) Execute job ##### EXPECTED RESULTS Job should execute ##### ACTUAL RESULTS Job stays in pending with exceptions in `awx-task` log ##### ADDITIONAL INFORMATION Didn't open a PR since there might be more option in following file, and should be a clever way to enable them in `psycopg2.connect()` method. https://github.com/ansible/awx/blob/devel/installer/roles/kubernetes/templates/credentials.py.j2 source-file other-file other-file other-file",no-bug,0.9
5077,awx,https://github.com/ansible/awx/issues/5077,ansible/awx_rabbitmq:3.7.15 image doesn't exist,##### ISSUE TYPE - Bug Report ##### SUMMARY ansible/awx_rabbitmq:3.7.15 container image doesn't exist This is referenced in this recent PR: https://github.com/ansible/awx/pull/5074/files#diff-88fadd046eb3187e4500687368abc149R33 Are we able to use the official 3.7.15 image (rabbitmq:3.7.15)? ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: openshift * Ansible version: 2.8.6 * Operating System: NA * Web Browser: Chrome ##### STEPS TO REPRODUCE Kubernetes installer references ansible/awx_rabbitmq:3.7.15 container image but this can't pulled down from dockerhub as it's not present ##### EXPECTED RESULTS The image exists and can be pulled down ##### ACTUAL RESULTS Image fails to be pulled down ##### ADDITIONAL INFORMATION https://hub.docker.com/r/ansible/awx_rabbitmq,other-file | other-file,ansible/awx_rabbitmq:3.7.15 image doesn't exist ##### ISSUE TYPE - Bug Report ##### SUMMARY ansible/awx_rabbitmq:3.7.15 container image doesn't exist This is referenced in this recent PR: https://github.com/ansible/awx/pull/5074/files#diff-88fadd046eb3187e4500687368abc149R33 Are we able to use the official 3.7.15 image (rabbitmq:3.7.15)? ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: openshift * Ansible version: 2.8.6 * Operating System: NA * Web Browser: Chrome ##### STEPS TO REPRODUCE Kubernetes installer references ansible/awx_rabbitmq:3.7.15 container image but this can't pulled down from dockerhub as it's not present ##### EXPECTED RESULTS The image exists and can be pulled down ##### ACTUAL RESULTS Image fails to be pulled down ##### ADDITIONAL INFORMATION https://hub.docker.com/r/ansible/awx_rabbitmq other-file other-file,no-bug,0.9
4528,awx,https://github.com/ansible/awx/issues/4528,Hide prompt button on survey form when only prompt is extra vars,"##### ISSUE TYPE - Bug Report ##### SUMMARY On the schedule form, the prompt button should not be shown when the only prompt is extra vars. Extra var prompting is done through the form itself. This is a break from the usual prompting behavior. Form: <img width=""1485"" alt=""Screen Shot 2019-08-20 at 11 26 49 AM"" src=""https://user-images.githubusercontent.com/9889020/63361044-7089a100-c33d-11e9-8d2e-dfd05f2b5ace.png""> Clicking prompt button: <img width=""1524"" alt=""Screen Shot 2019-08-20 at 11 26 56 AM"" src=""https://user-images.githubusercontent.com/9889020/63361053-741d2800-c33d-11e9-8496-6193f8308dbb.png""> ##### ENVIRONMENT awx: 6.1.0 ##### STEPS TO REPRODUCE 1) Create a JT that only prompts for extra vars 2) Create a schedule for JT in step 1 3) Click on Prompt button in schedule form ##### EXPECTED RESULTS No prompt button ##### ACTUAL RESULTS Prompt button, empty modal",source-file | source-file,"Hide prompt button on survey form when only prompt is extra vars ##### ISSUE TYPE - Bug Report ##### SUMMARY On the schedule form, the prompt button should not be shown when the only prompt is extra vars. Extra var prompting is done through the form itself. This is a break from the usual prompting behavior. Form: <img width=""1485"" alt=""Screen Shot 2019-08-20 at 11 26 49 AM"" src=""https://user-images.githubusercontent.com/9889020/63361044-7089a100-c33d-11e9-8d2e-dfd05f2b5ace.png""> Clicking prompt button: <img width=""1524"" alt=""Screen Shot 2019-08-20 at 11 26 56 AM"" src=""https://user-images.githubusercontent.com/9889020/63361053-741d2800-c33d-11e9-8496-6193f8308dbb.png""> ##### ENVIRONMENT awx: 6.1.0 ##### STEPS TO REPRODUCE 1) Create a JT that only prompts for extra vars 2) Create a schedule for JT in step 1 3) Click on Prompt button in schedule form ##### EXPECTED RESULTS No prompt button ##### ACTUAL RESULTS Prompt button, empty modal source-file source-file",no-bug,0.9
5690,awx,https://github.com/ansible/awx/issues/5690,Migrate to Python 3,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Now Python 2 really, really, really, finally has been deprecated, it would be time to migrate to Python 3. The current configuration obliges custom ansible extensions to be written for Python 2.",source-file,"Migrate to Python 3 ##### ISSUE TYPE - Feature Idea ##### SUMMARY Now Python 2 really, really, really, finally has been deprecated, it would be time to migrate to Python 3. The current configuration obliges custom ansible extensions to be written for Python 2. source-file",no-bug,0.9
9913,awx,https://github.com/ansible/awx/issues/9913,Tini is downloaded for the wrong architecture,"##### ISSUE TYPE - Bug Report ##### SUMMARY The Docker container ```tools_awx_1``` terminates with an error message because the Docker image contains ```tini``` for the wrong architecture. ``` ... awx_1_1 | Running migrations: awx_1_1 | No migrations to apply. awx_1_1 | if [ ""/var/lib/awx/venv/"" ]; then \ awx_1_1 | . /var/lib/awx/venv//awx/bin/activate; \ awx_1_1 | fi; \ awx_1_1 | awx-manage provision_instance --hostname=awx_1; \ awx_1_1 | awx-manage register_queue --queuename=tower --instance_percent=100;\ awx_1_1 | if [ ""tower"" == ""tower,thepentagon"" ]; then \ awx_1_1 | awx-manage provision_instance --hostname=isolated; \ awx_1_1 | awx-manage register_queue --queuename='thepentagon' --hostnames=isolated --controller=tower; \ awx_1_1 | awx-manage generate_isolated_key > /awx_devel/awx/main/isolated/authorized_keys; \ awx_1_1 | fi; awx_1_1 | Instance already registered awx_1 awx_1_1 | Instance Group already registered tower awx_1_1 | (changed: False) awx_1_1 | /usr/bin/launch_awx.sh: line 8: /usr/bin/tini: cannot execute binary file: Exec format error awx_1_1 | /usr/bin/launch_awx.sh: line 8: /usr/bin/tini: Success tools_awx_1 exited with code 126 ``` ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: docker on linux * Ansible version: 2.10.6 * Operating System: Raspberry Pi OS (Lite 64-Bit) * Web Browser: Safari ##### STEPS TO REPRODUCE Build an run Docker image. ``` $ make docker-compose-build $ make docker-compose ``` ##### EXPECTED RESULTS The Docker image should contain ```tini``` for architecture ```arm64```. ``` $ grep tini Dockerfile # Install tini RUN curl -L -o /usr/bin/tini https://github.com/krallin/tini/releases/download/v0.19.0/tini-arm64 && \ chmod +x /usr/bin/tini ``` ``` $ docker run -it quay.io/awx/awx_devel:HEAD ""file /usr/bin/tini"" /usr/bin/tini: ELF 64-bit LSB executable, ARM aarch64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-aarch64.so.1, for GNU/Linux 3.7.0, BuildID[sha1]=a6090e14afd1fea9a646fe4a0bd090f2fc041e85, stripped ``` ##### ACTUAL RESULTS The Docker image contains ```tini``` for architecture ```amd64```. ``` $ grep tini Dockerfile # Install tini RUN curl -L -o /usr/bin/tini https://github.com/krallin/tini/releases/download/v0.19.0/tini-amd64 && \ chmod +x /usr/bin/tini ``` ``` $ docker run -it quay.io/awx/awx_devel:HEAD ""file /usr/bin/tini"" /usr/bin/tini: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=a3f773dca5734fef07e2ea80c0450b3c60bbaf74, stripped ``` ##### ADDITIONAL INFORMATION The variable ```tini_architecture``` is defined in the wrong Ansible role. ``` $ grep -r tini_architecture tools/ansible/roles tools/ansible/roles/dockerfile/templates/Dockerfile.j2:RUN curl -L -o /usr/bin/tini https://github.com/krallin/tini/releases/download/v0.19.0/tini-{{ tini_architecture | default('amd64') }} && \ tools/ansible/roles/image_build/defaults/main.yml:tini_architecture: '{{ { ""x86_64"": ""amd64"", ""aarch64"": ""arm64"", ""armv7"": ""arm"" }[ansible_facts.architecture] }}' ```",config-file | config-file,"Tini is downloaded for the wrong architecture ##### ISSUE TYPE - Bug Report ##### SUMMARY The Docker container ```tools_awx_1``` terminates with an error message because the Docker image contains ```tini``` for the wrong architecture. ``` ... awx_1_1 | Running migrations: awx_1_1 | No migrations to apply. awx_1_1 | if [ ""/var/lib/awx/venv/"" ]; then \ awx_1_1 | . /var/lib/awx/venv//awx/bin/activate; \ awx_1_1 | fi; \ awx_1_1 | awx-manage provision_instance --hostname=awx_1; \ awx_1_1 | awx-manage register_queue --queuename=tower --instance_percent=100;\ awx_1_1 | if [ ""tower"" == ""tower,thepentagon"" ]; then \ awx_1_1 | awx-manage provision_instance --hostname=isolated; \ awx_1_1 | awx-manage register_queue --queuename='thepentagon' --hostnames=isolated --controller=tower; \ awx_1_1 | awx-manage generate_isolated_key > /awx_devel/awx/main/isolated/authorized_keys; \ awx_1_1 | fi; awx_1_1 | Instance already registered awx_1 awx_1_1 | Instance Group already registered tower awx_1_1 | (changed: False) awx_1_1 | /usr/bin/launch_awx.sh: line 8: /usr/bin/tini: cannot execute binary file: Exec format error awx_1_1 | /usr/bin/launch_awx.sh: line 8: /usr/bin/tini: Success tools_awx_1 exited with code 126 ``` ##### ENVIRONMENT * AWX version: 19.0.0 * AWX install method: docker on linux * Ansible version: 2.10.6 * Operating System: Raspberry Pi OS (Lite 64-Bit) * Web Browser: Safari ##### STEPS TO REPRODUCE Build an run Docker image. ``` $ make docker-compose-build $ make docker-compose ``` ##### EXPECTED RESULTS The Docker image should contain ```tini``` for architecture ```arm64```. ``` $ grep tini Dockerfile # Install tini RUN curl -L -o /usr/bin/tini https://github.com/krallin/tini/releases/download/v0.19.0/tini-arm64 && \ chmod +x /usr/bin/tini ``` ``` $ docker run -it quay.io/awx/awx_devel:HEAD ""file /usr/bin/tini"" /usr/bin/tini: ELF 64-bit LSB executable, ARM aarch64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-aarch64.so.1, for GNU/Linux 3.7.0, BuildID[sha1]=a6090e14afd1fea9a646fe4a0bd090f2fc041e85, stripped ``` ##### ACTUAL RESULTS The Docker image contains ```tini``` for architecture ```amd64```. ``` $ grep tini Dockerfile # Install tini RUN curl -L -o /usr/bin/tini https://github.com/krallin/tini/releases/download/v0.19.0/tini-amd64 && \ chmod +x /usr/bin/tini ``` ``` $ docker run -it quay.io/awx/awx_devel:HEAD ""file /usr/bin/tini"" /usr/bin/tini: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.32, BuildID[sha1]=a3f773dca5734fef07e2ea80c0450b3c60bbaf74, stripped ``` ##### ADDITIONAL INFORMATION The variable ```tini_architecture``` is defined in the wrong Ansible role. ``` $ grep -r tini_architecture tools/ansible/roles tools/ansible/roles/dockerfile/templates/Dockerfile.j2:RUN curl -L -o /usr/bin/tini https://github.com/krallin/tini/releases/download/v0.19.0/tini-{{ tini_architecture | default('amd64') }} && \ tools/ansible/roles/image_build/defaults/main.yml:tini_architecture: '{{ { ""x86_64"": ""amd64"", ""aarch64"": ""arm64"", ""armv7"": ""arm"" }[ansible_facts.architecture] }}' ``` config-file config-file",no-bug,0.9
6433,awx,https://github.com/ansible/awx/issues/6433,Can't save the modal when adding a team role to an organization,"##### ISSUE TYPE - Bug Report ##### SUMMARY The save button in this screenshot doesn't always work: ![Screenshot from 2020-03-26 09-39-57](https://user-images.githubusercontent.com/19942822/77653157-c9f62600-6f45-11ea-87d1-8c2ad40e1d12.png) ##### STEPS TO REPRODUCE 1. Make a team and org, put the team inside the org. 2. Go to org -> Access tab -> add a team permission 3. Try to give the team admin permissions. ##### EXPECTED RESULTS Clicking the save button works, or presents an error. ##### ACTUAL RESULTS No visual feedback, the button appears to not respond. The network tab presents a 400: ```{""msg"":""You cannot assign an Organization participation role as a child role for a Team.""}```",other-file | other-file,"Can't save the modal when adding a team role to an organization ##### ISSUE TYPE - Bug Report ##### SUMMARY The save button in this screenshot doesn't always work: ![Screenshot from 2020-03-26 09-39-57](https://user-images.githubusercontent.com/19942822/77653157-c9f62600-6f45-11ea-87d1-8c2ad40e1d12.png) ##### STEPS TO REPRODUCE 1. Make a team and org, put the team inside the org. 2. Go to org -> Access tab -> add a team permission 3. Try to give the team admin permissions. ##### EXPECTED RESULTS Clicking the save button works, or presents an error. ##### ACTUAL RESULTS No visual feedback, the button appears to not respond. The network tab presents a 400: ```{""msg"":""You cannot assign an Organization participation role as a child role for a Team.""}``` other-file other-file",bug,0.8
7170,awx,https://github.com/ansible/awx/issues/7170,"[ui_next] Template with ask-variables-on-launch opens up the 'Prompts' modal dialog, however, 3 modal footer buttons: 'Next', 'Back' and 'Cancel', needs to be marked for translations","##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, Template with ask-variables-on-launch opens up the 'Prompts' modal dialog/wizard, however, 3 modal footer buttons: 'Next', 'Back' and 'Cancel', appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to 'Templates > Demo Job Template > Edit Details' screen 3. For template-ask-variables-on-launch, select 'Prompt on Launch' checkbox 4. Click 'Save' 5. From 'Templates > Demo Job Template > Details' screen, click 'Launch' 6. 'Prompts' modal dialog/wizard opens up 7. Observe the text on 3 footer buttons: 'Next', 'Back' and 'Cancel' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Text appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting, 3 modal footer buttons of 'Prompts' dialog: 'Next', 'Back' and 'Cancel', appearing in English at 'Templates > Demo Job Template > Details' screen, with Japanese google-chrome: ![output](https://user-images.githubusercontent.com/12151785/83052720-58357800-a06d-11ea-8417-57d02716924a.gif) <!-- Include any links to s",other-file | other-file,"[ui_next] Template with ask-variables-on-launch opens up the 'Prompts' modal dialog, however, 3 modal footer buttons: 'Next', 'Back' and 'Cancel', needs to be marked for translations ##### ISSUE TYPE - Bug Report ##### SUMMARY With Japanese (dummy translation) google-chrome, Template with ask-variables-on-launch opens up the 'Prompts' modal dialog/wizard, however, 3 modal footer buttons: 'Next', 'Back' and 'Cancel', appears in English (instead of Japanese) <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: docker on linux * Ansible version: 2.10.0.dev0 * Operating System: Fedora 31 * Web Browser: google-chrome ##### STEPS TO REPRODUCE 1. Do a successful login to the ui_next interface in the preferred language (say Japanese) 2. Navigate to 'Templates > Demo Job Template > Edit Details' screen 3. For template-ask-variables-on-launch, select 'Prompt on Launch' checkbox 4. Click 'Save' 5. From 'Templates > Demo Job Template > Details' screen, click 'Launch' 6. 'Prompts' modal dialog/wizard opens up 7. Observe the text on 3 footer buttons: 'Next', 'Back' and 'Cancel' <!-- Please describe exactly how to reproduce the problem. --> ##### EXPECTED RESULTS Content should appear in Japanese <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS Text appears in English <!-- What actually happened? --> ##### ADDITIONAL INFORMATION 1. Screenshot higlighting, 3 modal footer buttons of 'Prompts' dialog: 'Next', 'Back' and 'Cancel', appearing in English at 'Templates > Demo Job Template > Details' screen, with Japanese google-chrome: ![output](https://user-images.githubusercontent.com/12151785/83052720-58357800-a06d-11ea-8417-57d02716924a.gif) <!-- Include any links to s other-file other-file",no-bug,0.9
13179,awx,https://github.com/ansible/awx/issues/13179,make awxkit README more useful,"<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> This page needs more information https://github.com/ansible/awx/tree/devel/awxkit Maybe a link to pypi or a pip install example command",documentation-file,"make awxkit README more useful <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> This page needs more information https://github.com/ansible/awx/tree/devel/awxkit Maybe a link to pypi or a pip install example command documentation-file",no-bug,0.95
5080,awx,https://github.com/ansible/awx/issues/5080,Inventory Source for Openstack does not have a region field,"##### ISSUE TYPE - Bug Report ##### SUMMARY When creating an Openstack Credential, no field is provided to specify the region of the cluster. This results in Openstack using the default cluster. Additionally, specifying a region_name in the source variables section of the inventory source page does not work. ##### ENVIRONMENT * AWX version: 8.0.0.0 (but tried with 7.0.0.0 too) * AWX install method: docker-compose using playbook * Ansible version: 2.8.2 * Operating System: Ubuntu 18.10 w/ 4.18.0-25-generic * Web Browser: Chrome 77 ##### STEPS TO REPRODUCE Part 1: Go to Credentials. Hit Green Plus. Select OpenStack as Credential Type Part 2: Go to Existing Inventory. Select Sources tab. Hit Green Plus. Fill in name, select Openstack as Source. In source Variables, include the following (I wanted to try everything): ``` clouds: devstack: region_name: ABC region: ABC auth: region_name: ABC region: ABC region_name: ABC region: ABC ``` ##### EXPECTED RESULTS Part 1: A Region field should be present. Part 2: The YML be added to the generated YML, and for data to be collected from the correct region, rather than the default ##### ACTUAL RESULTS Part 1: No region field is present Part 2: The Generated YML appears not to include the region_name key, but it does include any vars included under the `ansible:` key. ##### ADDITIONAL INFORMATION The example at https://github.com/ansible/ansible/blob/devel/contrib/inventory/openstack.yml does not include a region for Openstack, but the code at https://github.com/ansible/ansible/blob/devel/contrib/inventory/openstack_inventory.py does make references to a `region` variable.",other-file | other-file | other-file | source-file | source-file | test-file | documentation-file,"Inventory Source for Openstack does not have a region field ##### ISSUE TYPE - Bug Report ##### SUMMARY When creating an Openstack Credential, no field is provided to specify the region of the cluster. This results in Openstack using the default cluster. Additionally, specifying a region_name in the source variables section of the inventory source page does not work. ##### ENVIRONMENT * AWX version: 8.0.0.0 (but tried with 7.0.0.0 too) * AWX install method: docker-compose using playbook * Ansible version: 2.8.2 * Operating System: Ubuntu 18.10 w/ 4.18.0-25-generic * Web Browser: Chrome 77 ##### STEPS TO REPRODUCE Part 1: Go to Credentials. Hit Green Plus. Select OpenStack as Credential Type Part 2: Go to Existing Inventory. Select Sources tab. Hit Green Plus. Fill in name, select Openstack as Source. In source Variables, include the following (I wanted to try everything): ``` clouds: devstack: region_name: ABC region: ABC auth: region_name: ABC region: ABC region_name: ABC region: ABC ``` ##### EXPECTED RESULTS Part 1: A Region field should be present. Part 2: The YML be added to the generated YML, and for data to be collected from the correct region, rather than the default ##### ACTUAL RESULTS Part 1: No region field is present Part 2: The Generated YML appears not to include the region_name key, but it does include any vars included under the `ansible:` key. ##### ADDITIONAL INFORMATION The example at https://github.com/ansible/ansible/blob/devel/contrib/inventory/openstack.yml does not include a region for Openstack, but the code at https://github.com/ansible/ansible/blob/devel/contrib/inventory/openstack_inventory.py does make references to a `region` variable. other-file other-file other-file source-file source-file test-file documentation-file",no-bug,0.8
5107,awx,https://github.com/ansible/awx/issues/5107,awx_task log gives argument conversion issue after awx install with docker,"##### ISSUE TYPE - Bug Report ##### SUMMARY After running the playbook command the docker containers are not properly installed. Looking at the the awx_task container log gives the following ``` 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/bin/python"" }, ""changed"": false, ""msg"": ""argument port is of type <type 'str'> and we were unable to convert to int: <type 'str'> cannot be converted to an int"" } ``` The discovered python interpreter is python 2.7.16 The commands are being ran in a python virtualenv with docker-compose installed ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker for mac * Ansible version: 2.8.5 * Operating System: MacOS Mojave 10.14.6 * Web Browser: Chrome ##### STEPS TO REPRODUCE Run the playbook ``` ansible-playbook -i inventory install.yml ``` Then look at the log ``` docker logs -f awx_task ``` ##### EXPECTED RESULTS A successful installation. ##### ACTUAL RESULTS It throws the above error. ##### ADDITIONAL INFORMATION I see this issue has been observed before but says it was fixed. Not sure why I'm seeing it on latest. https://github.com/ansible/awx/issues/3526",other-file,"awx_task log gives argument conversion issue after awx install with docker ##### ISSUE TYPE - Bug Report ##### SUMMARY After running the playbook command the docker containers are not properly installed. Looking at the the awx_task container log gives the following ``` 127.0.0.1 | FAILED! => { ""ansible_facts"": { ""discovered_interpreter_python"": ""/usr/bin/python"" }, ""changed"": false, ""msg"": ""argument port is of type <type 'str'> and we were unable to convert to int: <type 'str'> cannot be converted to an int"" } ``` The discovered python interpreter is python 2.7.16 The commands are being ran in a python virtualenv with docker-compose installed ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker for mac * Ansible version: 2.8.5 * Operating System: MacOS Mojave 10.14.6 * Web Browser: Chrome ##### STEPS TO REPRODUCE Run the playbook ``` ansible-playbook -i inventory install.yml ``` Then look at the log ``` docker logs -f awx_task ``` ##### EXPECTED RESULTS A successful installation. ##### ACTUAL RESULTS It throws the above error. ##### ADDITIONAL INFORMATION I see this issue has been observed before but says it was fixed. Not sure why I'm seeing it on latest. https://github.com/ansible/awx/issues/3526 other-file",no-bug,0.9
9532,awx,https://github.com/ansible/awx/issues/9532,loosen collection version check,"##### ISSUE TYPE - Bug Report ##### SUMMARY https://github.com/ansible/awx/blob/devel/awx_collection/plugins/module_utils/tower_api.py ``` if self._COLLECTION_TYPE not in self.collection_to_version or self.collection_to_version[self._COLLECTION_TYPE] != tower_type: self.warn(""You are using the {0} version of this collection but connecting to {1}"".format( self._COLLECTION_TYPE, tower_type )) elif self._COLLECTION_VERSION != tower_version: self.warn(""You are running collection version {0} but connecting to tower version {1}"".format( self._COLLECTION_VERSION, tower_version )) self.version_checked = True ``` This is too strict - we should not warn when using 17.0 to connect to 17.1, or in other places where there are sub-minor version updates that do not change the API. ##### ENVIRONMENT * AWX version: current",source-file | test-file,"loosen collection version check ##### ISSUE TYPE - Bug Report ##### SUMMARY https://github.com/ansible/awx/blob/devel/awx_collection/plugins/module_utils/tower_api.py ``` if self._COLLECTION_TYPE not in self.collection_to_version or self.collection_to_version[self._COLLECTION_TYPE] != tower_type: self.warn(""You are using the {0} version of this collection but connecting to {1}"".format( self._COLLECTION_TYPE, tower_type )) elif self._COLLECTION_VERSION != tower_version: self.warn(""You are running collection version {0} but connecting to tower version {1}"".format( self._COLLECTION_VERSION, tower_version )) self.version_checked = True ``` This is too strict - we should not warn when using 17.0 to connect to 17.1, or in other places where there are sub-minor version updates that do not change the API. ##### ENVIRONMENT * AWX version: current source-file test-file",no-bug,0.8
4968,awx,https://github.com/ansible/awx/issues/4968,Host Config Key field should be marked as required when provisioning callback checkbox checked,"##### ISSUE TYPE - Bug Report ##### SUMMARY A few differences I noticed between the existing implementation of provisioning callbacks and the ui_next version. 1. Host Config Key should have a little * next to it to denote that it's required when the checkbox is checked. ~~2. With provisioning callbacks enabled, a successful save of the form doesn't show the old modal:~~",test-file | test-file | other-file | test-file | test-file | other-file | test-file,"Host Config Key field should be marked as required when provisioning callback checkbox checked ##### ISSUE TYPE - Bug Report ##### SUMMARY A few differences I noticed between the existing implementation of provisioning callbacks and the ui_next version. 1. Host Config Key should have a little * next to it to denote that it's required when the checkbox is checked. ~~2. With provisioning callbacks enabled, a successful save of the form doesn't show the old modal:~~ test-file test-file other-file test-file test-file other-file test-file",no-bug,0.8
8071,awx,https://github.com/ansible/awx/issues/8071,Schedule is executed just once,"##### ISSUE TYPE - Bug Report ##### SUMMARY Frish installed AWX 14.1.0 with demo project. The Demo Project is synchronized, the Demo Job Template runs without any problem. A schedule is created which should start Demo Job Template every minute 5 times. The job is started just once. I can't find any information in the logs. It looks like it starts once and that's ok. ##### ENVIRONMENT * AWX version: 14.1.0 * AWX install method: docker on linux * Ansible version: 2.9.10 * Operating System: CentOS 7 * Web Browser: Firefox ##### STEPS TO REPRODUCE Add the schedule. The defined schedule: ``` { ""rrule"": ""DTSTART;TZID=Europe/Berlin:20200903T155000 RRULE:FREQ=MINUTELY;INTERVAL=1;COUNT=5"", ""id"": 6, ""type"": ""schedule"", ""url"": ""/api/v2/schedules/6/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""modified_by"": ""/api/v2/users/1/"", ""credentials"": ""/api/v2/schedules/6/credentials/"", ""unified_jobs"": ""/api/v2/schedules/6/jobs/"", ""unified_job_template"": ""/api/v2/job_templates/7/"", ""project"": ""/api/v2/projects/6/"", ""inventory"": ""/api/v2/inventories/1/"" }, ""summary_fields"": { ""unified_job_template"": { ""id"": 7, ""name"": ""Demo Job Template"", ""description"": """", ""unified_job_type"": ""job"" }, ""created_by"": { ""id"": 1, ""username"": ""admin"", ""first_name"": """", ""last_name"": """" }, ""modified_by"": { ""id"": 1, ""username"": ""admin"", ""first_name"": """", ""last_name"": """" }, ""user_capabilities"": { ""edit"": true, ""delete"": true }, ""inventory"": { ""id"": 1, ""name"": ""Demo Inventory"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 1, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""has_inventory_sources"": false, ""total_inventory_sources"": 0, ""inventory_sources_with_failures"": 0, ""organization_id"": 1, ""kind"": """", ""insights_credential_id"": null } }, ""created"": ""2020-09-03T13:49:01.947731Z"", ""modified"": ""2020-09-03T13:49:01.947738Z"", ""name"": ""test"", ""description"": """", ""extra_data"": {}, ""inventory"": null, ""scm_branch"": null, ""job_type"": null, ""job_tags"": null, ""skip_tags"": null, ""limit"": null, ""diff_mode"": null, ""verbosity"": null, ""unified_job_template"": 7, ""enabled"": true, ""dtstart"": ""2020-08-27T13:50:00Z"", ""dtend"": ""2020-08-27T13:54:00Z"", ""next_run"": null, ""timezone"": ""Europe/Berlin"", ""until"": """" } ``` ##### EXPECTED RESULTS The job is executed 5 times. ##### ACTUAL RESULTS The job is executed just once. ##### ADDITIONAL INFORMATION Jobs output: ``` { ""count"": 1, ""next"": null, ""previous"": null, ""results"": [ { ""id"": 4, ""type"": ""job"", ""url"": ""/api/v2/jobs/4/"", ""related"": { ""labels"": ""/api/v2/jobs/4/labels/"", ""inventory"": ""/api/v2/inventories/1/"", ""project"": ""/api/v2/projects/6/"", ""organization"": ""/api/v2/organizations/1/"", ""credentials"": ""/api/v2/jobs/4/credentials/"", ""unified_job_template"": ""/api/v2/job_templates/7/"", ""schedule"": ""/api/v2/schedules/6/"", ""stdout"": ""/api/v2/jobs/4/stdout/"", ""job_events"": ""/api/v2/jobs/4/job_events/"", ""job_host_summaries"": ""/api/v2/jobs/4/job_host_summaries/"", ""activity_stream"": ""/api/v2/jobs/4/activity_stream/"", ""notifications"": ""/api/v2/jobs/4/notifications/"", ""create_schedule"": ""/api/v2/jobs/4/create_schedule/"", ""job_template"": ""/api/v2/job_templates/7/"", ""cancel"": ""/api/v2/jobs/4/cancel/"", ""relaunch"": ""/api/v2/jobs/4/relaunch/"" }, ""summary_fields"": { ""organization"": { ""id"": 1, ""name"": ""Default"", ""description"": """" }, ""inventory"": { ""id"": 1, ""name"": ""Demo Inventory"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 1, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""has_inventory_sources"": false, ""total_inventory_sources"": 0, ""inventory_sources_with_failures"": 0, ""organization_id"": 1, ""kind"": """" }, ""project"": { ""id"": 6, ""name"": ""Demo Project"", ""description"": """", ""status"": ""successful"", ""scm_type"": ""git"" }, ""job_template"": { ""id"": 7, ""name"": ""Demo Job Template"", ""description"": """" }, ""schedule"": { ""id"": 6, ""name"": ""test"", ""description"": """" }, ""unified_job_template"": { ""id"": 7, ""name"": ""Demo Job Template"", ""description"": """", ""unified_job_type"": ""job"" }, ""instance_group"": { ""id"": 1, ""name"": ""tower"", ""is_containerized"": false }, ""user_capabilities"": { ""delete"": true, ""start"": true }, ""labels"": { ""count"": 0, ""results"": [] }, ""credentials"": [ { ""id"": 1, ""name"": ""Demo Credential"", ""description"": """", ""kind"": ""ssh"", ""cloud"": false } ] }, ""created"": ""2020-09-03T13:50:08.938226Z"", ""modified"": ""2020-09-03T13:50:15.029052Z"", ""name"": ""Demo Job Template"", ""description"": """", ""unified_job_template"": 7, ""launch_type"": ""scheduled"", ""status"": ""successful"", ""failed"": false, ""started"": ""2020-09-03T13:50:15.217321Z"", ""finished"": ""2020-09-03T13:50:18.783942Z"", ""canceled_on"": null, ""elapsed"": 3.567, ""job_explanation"": """", ""execution_node"": ""awx"", ""controller_node"": """", ""job_type"": ""run"", ""inventory"": 1, ""project"": 6, ""playbook"": ""hello_world.yml"", ""scm_branch"": """", ""forks"": 0, ""limit"": """", ""verbosity"": 0, ""extra_vars"": ""{}"", ""job_tags"": """", ""force_handlers"": false, ""skip_tags"": """", ""start_at_task"": """", ""timeout"": 0, ""use_fact_cache"": false, ""organization"": 1, ""job_template"": 7, ""passwords_needed_to_start"": [], ""allow_simultaneous"": false, ""artifacts"": {}, ""scm_revision"": ""347e44fea036c94d5f60e544de006453ee5c71ad"", ""instance_group"": 1, ""diff_mode"": false, ""job_slice_number"": 0, ""job_slice_count"": 1, ""webhook_service"": """", ""webhook_credential"": null, ""webhook_guid"": """" } ] } ```",source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Schedule is executed just once ##### ISSUE TYPE - Bug Report ##### SUMMARY Frish installed AWX 14.1.0 with demo project. The Demo Project is synchronized, the Demo Job Template runs without any problem. A schedule is created which should start Demo Job Template every minute 5 times. The job is started just once. I can't find any information in the logs. It looks like it starts once and that's ok. ##### ENVIRONMENT * AWX version: 14.1.0 * AWX install method: docker on linux * Ansible version: 2.9.10 * Operating System: CentOS 7 * Web Browser: Firefox ##### STEPS TO REPRODUCE Add the schedule. The defined schedule: ``` { ""rrule"": ""DTSTART;TZID=Europe/Berlin:20200903T155000 RRULE:FREQ=MINUTELY;INTERVAL=1;COUNT=5"", ""id"": 6, ""type"": ""schedule"", ""url"": ""/api/v2/schedules/6/"", ""related"": { ""created_by"": ""/api/v2/users/1/"", ""modified_by"": ""/api/v2/users/1/"", ""credentials"": ""/api/v2/schedules/6/credentials/"", ""unified_jobs"": ""/api/v2/schedules/6/jobs/"", ""unified_job_template"": ""/api/v2/job_templates/7/"", ""project"": ""/api/v2/projects/6/"", ""inventory"": ""/api/v2/inventories/1/"" }, ""summary_fields"": { ""unified_job_template"": { ""id"": 7, ""name"": ""Demo Job Template"", ""description"": """", ""unified_job_type"": ""job"" }, ""created_by"": { ""id"": 1, ""username"": ""admin"", ""first_name"": """", ""last_name"": """" }, ""modified_by"": { ""id"": 1, ""username"": ""admin"", ""first_name"": """", ""last_name"": """" }, ""user_capabilities"": { ""edit"": true, ""delete"": true }, ""inventory"": { ""id"": 1, ""name"": ""Demo Inventory"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 1, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""has_inventory_sources"": false, ""total_inventory_sources"": 0, ""inventory_sources_with_failures"": 0, ""organization_id"": 1, ""kind"": """", ""insights_credential_id"": null } }, ""created"": ""2020-09-03T13:49:01.947731Z"", ""modified"": ""2020-09-03T13:49:01.947738Z"", ""name"": ""test"", ""description"": """", ""extra_data"": {}, ""inventory"": null, ""scm_branch"": null, ""job_type"": null, ""job_tags"": null, ""skip_tags"": null, ""limit"": null, ""diff_mode"": null, ""verbosity"": null, ""unified_job_template"": 7, ""enabled"": true, ""dtstart"": ""2020-08-27T13:50:00Z"", ""dtend"": ""2020-08-27T13:54:00Z"", ""next_run"": null, ""timezone"": ""Europe/Berlin"", ""until"": """" } ``` ##### EXPECTED RESULTS The job is executed 5 times. ##### ACTUAL RESULTS The job is executed just once. ##### ADDITIONAL INFORMATION Jobs output: ``` { ""count"": 1, ""next"": null, ""previous"": null, ""results"": [ { ""id"": 4, ""type"": ""job"", ""url"": ""/api/v2/jobs/4/"", ""related"": { ""labels"": ""/api/v2/jobs/4/labels/"", ""inventory"": ""/api/v2/inventories/1/"", ""project"": ""/api/v2/projects/6/"", ""organization"": ""/api/v2/organizations/1/"", ""credentials"": ""/api/v2/jobs/4/credentials/"", ""unified_job_template"": ""/api/v2/job_templates/7/"", ""schedule"": ""/api/v2/schedules/6/"", ""stdout"": ""/api/v2/jobs/4/stdout/"", ""job_events"": ""/api/v2/jobs/4/job_events/"", ""job_host_summaries"": ""/api/v2/jobs/4/job_host_summaries/"", ""activity_stream"": ""/api/v2/jobs/4/activity_stream/"", ""notifications"": ""/api/v2/jobs/4/notifications/"", ""create_schedule"": ""/api/v2/jobs/4/create_schedule/"", ""job_template"": ""/api/v2/job_templates/7/"", ""cancel"": ""/api/v2/jobs/4/cancel/"", ""relaunch"": ""/api/v2/jobs/4/relaunch/"" }, ""summary_fields"": { ""organization"": { ""id"": 1, ""name"": ""Default"", ""description"": """" }, ""inventory"": { ""id"": 1, ""name"": ""Demo Inventory"", ""description"": """", ""has_active_failures"": false, ""total_hosts"": 1, ""hosts_with_active_failures"": 0, ""total_groups"": 0, ""has_inventory_sources"": false, ""total_inventory_sources"": 0, ""inventory_sources_with_failures"": 0, ""organization_id"": 1, ""kind"": """" }, ""project"": { ""id"": 6, ""name"": ""Demo Project"", ""description"": """", ""status"": ""successful"", ""scm_type"": ""git"" }, ""job_template"": { ""id"": 7, ""name"": ""Demo Job Template"", ""description"": """" }, ""schedule"": { ""id"": 6, ""name"": ""test"", ""description"": """" }, ""unified_job_template"": { ""id"": 7, ""name"": ""Demo Job Template"", ""description"": """", ""unified_job_type"": ""job"" }, ""instance_group"": { ""id"": 1, ""name"": ""tower"", ""is_containerized"": false }, ""user_capabilities"": { ""delete"": true, ""start"": true }, ""labels"": { ""count"": 0, ""results"": [] }, ""credentials"": [ { ""id"": 1, ""name"": ""Demo Credential"", ""description"": """", ""kind"": ""ssh"", ""cloud"": false } ] }, ""created"": ""2020-09-03T13:50:08.938226Z"", ""modified"": ""2020-09-03T13:50:15.029052Z"", ""name"": ""Demo Job Template"", ""description"": """", ""unified_job_template"": 7, ""launch_type"": ""scheduled"", ""status"": ""successful"", ""failed"": false, ""started"": ""2020-09-03T13:50:15.217321Z"", ""finished"": ""2020-09-03T13:50:18.783942Z"", ""canceled_on"": null, ""elapsed"": 3.567, ""job_explanation"": """", ""execution_node"": ""awx"", ""controller_node"": """", ""job_type"": ""run"", ""inventory"": 1, ""project"": 6, ""playbook"": ""hello_world.yml"", ""scm_branch"": """", ""forks"": 0, ""limit"": """", ""verbosity"": 0, ""extra_vars"": ""{}"", ""job_tags"": """", ""force_handlers"": false, ""skip_tags"": """", ""start_at_task"": """", ""timeout"": 0, ""use_fact_cache"": false, ""organization"": 1, ""job_template"": 7, ""passwords_needed_to_start"": [], ""allow_simultaneous"": false, ""artifacts"": {}, ""scm_revision"": ""347e44fea036c94d5f60e544de006453ee5c71ad"", ""instance_group"": 1, ""diff_mode"": false, ""job_slice_number"": 0, ""job_slice_count"": 1, ""webhook_service"": """", ""webhook_credential"": null, ""webhook_guid"": """" } ] } ``` source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.8
6328,awx,https://github.com/ansible/awx/issues/6328,Roles not downloaded during project sync,"##### ISSUE TYPE - Role download setting on the system not honoured when running project sync ##### SUMMARY When the ""Enable role download"" setting is enabled in the settings page of the Ansible AWX server, the project import process skips checking for requirements.yml and downloading of roles. ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: Docker on Linux * Ansible version: 2.8.5 * Operating System: RHEL7 * Web Browser: Chome ##### STEPS TO REPRODUCE 1. Launch Ansible AWX infrastructure using the inventory and install.yml scripts on GitHub. 2. Ensure ""Enable role download"" setting 2. Import a project which contains a roles/requirements.yml file. 3. Start a sync. 4. Sync will skip the requirements.yml file and downloading of roles ##### EXPECTED RESULTS I expect the project update process to check for requirements.yml and download roles accordingly. ##### ACTUAL RESULTS The detection of a requirements.yml file was skipped ##### ADDITIONAL INFORMATION This starts to work by commenting out the when clause ""when: roles_enabled|bool"" in project_updates.yml",config-file | source-file,"Roles not downloaded during project sync ##### ISSUE TYPE - Role download setting on the system not honoured when running project sync ##### SUMMARY When the ""Enable role download"" setting is enabled in the settings page of the Ansible AWX server, the project import process skips checking for requirements.yml and downloading of roles. ##### ENVIRONMENT * AWX version: 9.0.1 * AWX install method: Docker on Linux * Ansible version: 2.8.5 * Operating System: RHEL7 * Web Browser: Chome ##### STEPS TO REPRODUCE 1. Launch Ansible AWX infrastructure using the inventory and install.yml scripts on GitHub. 2. Ensure ""Enable role download"" setting 2. Import a project which contains a roles/requirements.yml file. 3. Start a sync. 4. Sync will skip the requirements.yml file and downloading of roles ##### EXPECTED RESULTS I expect the project update process to check for requirements.yml and download roles accordingly. ##### ACTUAL RESULTS The detection of a requirements.yml file was skipped ##### ADDITIONAL INFORMATION This starts to work by commenting out the when clause ""when: roles_enabled|bool"" in project_updates.yml config-file source-file",no-bug,0.9
7567,awx,https://github.com/ansible/awx/issues/7567,System admin created labels can be created with an unexpected organzation,"##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Have two organizations (id 2 and id 3) 2. Have a job template XYZ, in organization 2 3. Log in as superuser, who is not a member of any organization 4. Add some new labels to job template XYZ ##### ENVIRONMENT * AWX version: current ##### STEPS TO REPRODUCE see above ##### EXPECTED RESULTS Labels created in organization 2, as that's the org of the JT ##### ACTUAL RESULTS Labels created in organization 3 ##### ADDITIONAL INFORMATION",source-file | source-file | test-file | test-file,"System admin created labels can be created with an unexpected organzation ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Have two organizations (id 2 and id 3) 2. Have a job template XYZ, in organization 2 3. Log in as superuser, who is not a member of any organization 4. Add some new labels to job template XYZ ##### ENVIRONMENT * AWX version: current ##### STEPS TO REPRODUCE see above ##### EXPECTED RESULTS Labels created in organization 2, as that's the org of the JT ##### ACTUAL RESULTS Labels created in organization 3 ##### ADDITIONAL INFORMATION source-file source-file test-file test-file",no-bug,0.8
8670,awx,https://github.com/ansible/awx/issues/8670,[ui_next] Relaunch against failed hosts,"##### ISSUE TYPE - Feature Idea ##### SUMMARY We may need to add Relaunch Jobs against failed hosts for feature parity for the next release of Tower. I don't know if this feature is worth the complexity of testing, development, and support. This would be on the Jobs List and Job Result Output",other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"[ui_next] Relaunch against failed hosts ##### ISSUE TYPE - Feature Idea ##### SUMMARY We may need to add Relaunch Jobs against failed hosts for feature parity for the next release of Tower. I don't know if this feature is worth the complexity of testing, development, and support. This would be on the Jobs List and Job Result Output other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8707,awx,https://github.com/ansible/awx/issues/8707,The user is unable to remove the organization from the credentials form,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to edit a credential removing the organization and hit save looks like this information was not updated on the details tab and the edit form. ##### STEPS TO REPRODUCE 1. Create a new organization (fill in the organization field) 2. Edit this credential removing the organization and hit save ##### EXPECTED RESULTS The organization field is unset on details and edit form <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS ![cred1](https://user-images.githubusercontent.com/12464858/100647655-982c2f00-331e-11eb-9603-ad6208106865.gif)",other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file,"The user is unable to remove the organization from the credentials form <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY Trying to edit a credential removing the organization and hit save looks like this information was not updated on the details tab and the edit form. ##### STEPS TO REPRODUCE 1. Create a new organization (fill in the organization field) 2. Edit this credential removing the organization and hit save ##### EXPECTED RESULTS The organization field is unset on details and edit form <!-- What did you expect to happen when running the steps above? --> ##### ACTUAL RESULTS ![cred1](https://user-images.githubusercontent.com/12464858/100647655-982c2f00-331e-11eb-9603-ad6208106865.gif) other-file other-file test-file other-file test-file test-file other-file other-file other-file other-file test-file other-file test-file test-file other-file other-file other-file other-file test-file other-file test-file test-file other-file other-file other-file other-file test-file other-file test-file test-file other-file other-file",no-bug,0.8
7467,awx,https://github.com/ansible/awx/issues/7467,Instance Groups,Issue to track work related to Instance Groups/Container groups. 1. Modify routing system to add those new routes. https://github.com/ansible/awx/issues/7471 2. List Instance Groups https://github.com/ansible/awx/issues/7557 The next issues need to differentiate `instance groups` and `container groups`. Instance groups: 3. Add Instance Groups https://github.com/ansible/awx/issues/7744 4. Edit Instance Groups https://github.com/ansible/awx/issues/7767 5. Delete Instance Groups https://github.com/ansible/awx/issues/7642 6. Details page for Instance Groups - https://github.com/ansible/awx/issues/7640 7. Associate instance with instance groups - https://github.com/ansible/awx/issues/7801 8. List jobs related to instances - https://github.com/ansible/awx/issues/7930 9. Add controller label - https://github.com/ansible/awx/issues/8244 10. Add slider to instance groups - https://github.com/ansible/awx/issues/7777 Container groups: 1. Add/Edit Container Groups - https://github.com/ansible/awx/issues/7955 2. Details page for Container Groups - https://github.com/ansible/awx/issues/8073 3. Delete Container Groups - It was created as a side effect of the other items. 4. List jobs related to Container Groups - https://github.com/ansible/awx/issues/8091 See : https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups/ To be expanded.,other-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | source-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,Instance Groups Issue to track work related to Instance Groups/Container groups. 1. Modify routing system to add those new routes. https://github.com/ansible/awx/issues/7471 2. List Instance Groups https://github.com/ansible/awx/issues/7557 The next issues need to differentiate `instance groups` and `container groups`. Instance groups: 3. Add Instance Groups https://github.com/ansible/awx/issues/7744 4. Edit Instance Groups https://github.com/ansible/awx/issues/7767 5. Delete Instance Groups https://github.com/ansible/awx/issues/7642 6. Details page for Instance Groups - https://github.com/ansible/awx/issues/7640 7. Associate instance with instance groups - https://github.com/ansible/awx/issues/7801 8. List jobs related to instances - https://github.com/ansible/awx/issues/7930 9. Add controller label - https://github.com/ansible/awx/issues/8244 10. Add slider to instance groups - https://github.com/ansible/awx/issues/7777 Container groups: 1. Add/Edit Container Groups - https://github.com/ansible/awx/issues/7955 2. Details page for Container Groups - https://github.com/ansible/awx/issues/8073 3. Delete Container Groups - It was created as a side effect of the other items. 4. List jobs related to Container Groups - https://github.com/ansible/awx/issues/8091 See : https://tower-mockups.testing.ansible.com/patternfly/instance-groups/instance-groups/ To be expanded. other-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file source-file other-file test-file other-file source-file other-file source-file other-file source-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file source-file other-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
5205,awx,https://github.com/ansible/awx/issues/5205,nginx fails to start on OKD 3.11,"##### ISSUE TYPE - Bug Report ##### SUMMARY When AWX is deployed on OKD, it seems like its nginx web server can't start due to permissions denied error on port 80. The StatefulSet-dedicated pod is still marked as running, yet you cannot reach the login mask through the route as OpenShift returns the ""Application not available"" error. I attached the log of awx-web container where you can see the error. ##### ENVIRONMENT * AWX version: 9.0.0 * AWX install method: openshift 3.11 * Ansible version: 2.8.5 * Operating System: CentOS 7.7 * Web Browser: Firefox 70.0 ##### STEPS TO REPRODUCE 1. Install AWX 9.0.0 on OKD 3.11 2. Try to reach the WebUI via route. ##### EXPECTED RESULTS Reach the login screen. ##### ACTUAL RESULTS OKD returns the error ""Application is not available"". ##### ADDITIONAL INFORMATION [awx-0.log](https://pastebin.com/JP0DVp7c)",other-file | other-file | other-file | other-file,"nginx fails to start on OKD 3.11 ##### ISSUE TYPE - Bug Report ##### SUMMARY When AWX is deployed on OKD, it seems like its nginx web server can't start due to permissions denied error on port 80. The StatefulSet-dedicated pod is still marked as running, yet you cannot reach the login mask through the route as OpenShift returns the ""Application not available"" error. I attached the log of awx-web container where you can see the error. ##### ENVIRONMENT * AWX version: 9.0.0 * AWX install method: openshift 3.11 * Ansible version: 2.8.5 * Operating System: CentOS 7.7 * Web Browser: Firefox 70.0 ##### STEPS TO REPRODUCE 1. Install AWX 9.0.0 on OKD 3.11 2. Try to reach the WebUI via route. ##### EXPECTED RESULTS Reach the login screen. ##### ACTUAL RESULTS OKD returns the error ""Application is not available"". ##### ADDITIONAL INFORMATION [awx-0.log](https://pastebin.com/JP0DVp7c) other-file other-file other-file other-file",no-bug,0.9
4563,awx,https://github.com/ansible/awx/issues/4563,CLI: list should not include --id because it is confusing and that is what get is for,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> It was discussed that the fact that `awx <resource> list` accepts `--id` as argument is confusing, because most other actions take it as a positional argument. In help text is shows up like this: ``` --id INTEGER only list instances with the specified id ``` But this only gets one item, which is the same as `awx <resource> get <id>`. RESOLUTION: Remove `--id` from `list` commands",source-file,"CLI: list should not include --id because it is confusing and that is what get is for ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> It was discussed that the fact that `awx <resource> list` accepts `--id` as argument is confusing, because most other actions take it as a positional argument. In help text is shows up like this: ``` --id INTEGER only list instances with the specified id ``` But this only gets one item, which is the same as `awx <resource> get <id>`. RESOLUTION: Remove `--id` from `list` commands source-file",no-bug,0.9
7107,awx,https://github.com/ansible/awx/issues/7107,awxkit install fails on local clones,"Note: i heard of another issue about this, but i couldn't find it. please link them together if you know the issue. ##### ISSUE TYPE - Bug Report ##### SUMMARY `pip` does not honor symlinks in local clones. It got merged three weeks ago and they're going to have to revert it: https://github.com/pypa/pip/issues/7555 The issue has been somewhat existent since 2016: https://github.com/pypa/pip/issues/3500 Current workaround is rm awx/awxkit/VERSION and cp awx/VERSION awx/awxkit/VERSION. This issue should be about either acknowledging the pip issue and monitoring it via this repo, or making the VERSION file not a symlink. ##### STEPS TO REPRODUCE run `pip install awx/awxkit`. ##### EXPECTED RESULTS Install succeeds. ##### ACTUAL RESULTS VERSION file isn't found, failure occurs.",other-file | other-file | other-file | other-file | other-file,"awxkit install fails on local clones Note: i heard of another issue about this, but i couldn't find it. please link them together if you know the issue. ##### ISSUE TYPE - Bug Report ##### SUMMARY `pip` does not honor symlinks in local clones. It got merged three weeks ago and they're going to have to revert it: https://github.com/pypa/pip/issues/7555 The issue has been somewhat existent since 2016: https://github.com/pypa/pip/issues/3500 Current workaround is rm awx/awxkit/VERSION and cp awx/VERSION awx/awxkit/VERSION. This issue should be about either acknowledging the pip issue and monitoring it via this repo, or making the VERSION file not a symlink. ##### STEPS TO REPRODUCE run `pip install awx/awxkit`. ##### EXPECTED RESULTS Install succeeds. ##### ACTUAL RESULTS VERSION file isn't found, failure occurs. other-file other-file other-file other-file other-file",no-bug,0.9
6556,awx,https://github.com/ansible/awx/issues/6556,Azure AD username mapings,##### ISSUE TYPE - Change username mappings for Azure AD configuration ##### SUMMARY At the moment when configuring Azure AD SSO the username is mapped as NameSurname. It would be nice to be able to change the mapping to a different attribute in Azure AD,source-file | test-file | source-file | documentation-file | documentation-file | source-file | test-file | source-file | documentation-file | documentation-file | source-file | test-file | source-file | test-file | documentation-file | documentation-file | source-file | test-file | source-file | documentation-file | documentation-file | source-file | test-file | source-file | test-file | documentation-file | documentation-file | source-file | test-file | source-file | test-file | documentation-file | documentation-file | source-file | test-file | source-file | test-file | documentation-file | documentation-file | source-file | source-file,Azure AD username mapings ##### ISSUE TYPE - Change username mappings for Azure AD configuration ##### SUMMARY At the moment when configuring Azure AD SSO the username is mapped as NameSurname. It would be nice to be able to change the mapping to a different attribute in Azure AD source-file test-file source-file documentation-file documentation-file source-file test-file source-file documentation-file documentation-file source-file test-file source-file test-file documentation-file documentation-file source-file test-file source-file documentation-file documentation-file source-file test-file source-file test-file documentation-file documentation-file source-file test-file source-file test-file documentation-file documentation-file source-file test-file source-file test-file documentation-file documentation-file source-file source-file,no-bug,0.9
6011,awx,https://github.com/ansible/awx/issues/6011,Unable to run install.yml playbook due to below error,"###Below is the error while attempting run the command 'ansible-playbook -i inventory install.yml' ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path. The error appears to have been in '/app1/setup/awx/installer/roles/local_docker/tasks/compose.yml': line 27, column 7, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: - block: - name: Start the containers ^ here",source-file | test-file | source-file,"Unable to run install.yml playbook due to below error ###Below is the error while attempting run the command 'ansible-playbook -i inventory install.yml' ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path. The error appears to have been in '/app1/setup/awx/installer/roles/local_docker/tasks/compose.yml': line 27, column 7, but may be elsewhere in the file depending on the exact syntax problem. The offending line appears to be: - block: - name: Start the containers ^ here source-file test-file source-file",no-bug,0.95
10327,awx,https://github.com/ansible/awx/issues/10327,Expose the output of the EE resolver in the job template detail,##### ISSUE TYPE - Feature Idea ##### SUMMARY Expose the output of the EE resolver in the job template detail. See API issue: https://github.com/ansible/awx/issues/10210,other-file | other-file | other-file | other-file | documentation-file,Expose the output of the EE resolver in the job template detail ##### ISSUE TYPE - Feature Idea ##### SUMMARY Expose the output of the EE resolver in the job template detail. See API issue: https://github.com/ansible/awx/issues/10210 other-file other-file other-file other-file documentation-file,no-bug,0.9
8680,awx,https://github.com/ansible/awx/issues/8680,Bulk delete of tokens doesn't list personal access tokens,"##### ISSUE TYPE - Bug Report ##### SUMMARY Tokens aren't named so we'll have to get creative here. It looks like we're currently displaying the application name (if present). Note that 3 rows are selected but only one listed in this screenshot: <img width=""1435"" alt=""Screen Shot 2020-11-25 at 10 39 25 AM"" src=""https://user-images.githubusercontent.com/9889020/100249614-c10d8800-2f0a-11eb-99d9-418573427567.png""> The one thing that's probably going to be unique across these tokens is the expiration time. We may end up having to use that in combination with some static strings (Personal access token/Application access token) as well as the application name.",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"Bulk delete of tokens doesn't list personal access tokens ##### ISSUE TYPE - Bug Report ##### SUMMARY Tokens aren't named so we'll have to get creative here. It looks like we're currently displaying the application name (if present). Note that 3 rows are selected but only one listed in this screenshot: <img width=""1435"" alt=""Screen Shot 2020-11-25 at 10 39 25 AM"" src=""https://user-images.githubusercontent.com/9889020/100249614-c10d8800-2f0a-11eb-99d9-418573427567.png""> The one thing that's probably going to be unique across these tokens is the expiration time. We may end up having to use that in combination with some static strings (Personal access token/Application access token) as well as the application name. source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.8
4464,awx,https://github.com/ansible/awx/issues/4464,alert and field-level error sometimes shown for job template forms,"##### ISSUE TYPE - Bug Report When submitting job template data, some errors result in a field-specific error _and_ a generic alert being displayed. We should show one or the other but not both. An _example_ of this can be seen here , but it is likely that there are other ways to trigger this: https://github.com/ansible/awx/pull/4265#issuecomment-520033026. This issue is for investigating the underlying cause and fixing it generically for the form and/or error handling utility.",source-file | source-file | source-file | test-file,"alert and field-level error sometimes shown for job template forms ##### ISSUE TYPE - Bug Report When submitting job template data, some errors result in a field-specific error _and_ a generic alert being displayed. We should show one or the other but not both. An _example_ of this can be seen here , but it is likely that there are other ways to trigger this: https://github.com/ansible/awx/pull/4265#issuecomment-520033026. This issue is for investigating the underlying cause and fixing it generically for the form and/or error handling utility. source-file source-file source-file test-file",no-bug,0.85
11352,awx,https://github.com/ansible/awx/issues/11352,Link to instance group from job template details page,"I was doing some instance group testing as it related to job templates. I wanted to click on the name of the associated instance group, to link to that IG, but the name is not a clickable link on the job template details page. ![image](https://user-images.githubusercontent.com/9053044/142062518-b6b6cf67-9f19-421f-a723-e348c4a99293.png)",source-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"Link to instance group from job template details page I was doing some instance group testing as it related to job templates. I wanted to click on the name of the associated instance group, to link to that IG, but the name is not a clickable link on the job template details page. ![image](https://user-images.githubusercontent.com/9053044/142062518-b6b6cf67-9f19-421f-a723-e348c4a99293.png) source-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
8210,awx,https://github.com/ansible/awx/issues/8210,Add execution environments view for organizations,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add execution environments view for organizations. See: https://tower-mockups.testing.ansible.com/patternfly/orgs/orgs-environments/,source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file,Add execution environments view for organizations ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add execution environments view for organizations. See: https://tower-mockups.testing.ansible.com/patternfly/orgs/orgs-environments/ source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file source-file other-file test-file other-file test-file other-file test-file source-file other-file,no-bug,0.9
4477,awx,https://github.com/ansible/awx/issues/4477,add basic polling and loading for output panel,##### SUMMARY This issue is for adding a basic polling function to the output component along with a 'loading' panel. related: https://github.com/ansible/awx/issues/4224#issue-462864888,source-file | source-file,add basic polling and loading for output panel ##### SUMMARY This issue is for adding a basic polling function to the output component along with a 'loading' panel. related: https://github.com/ansible/awx/issues/4224#issue-462864888 source-file source-file,no-bug,0.9
4861,awx,https://github.com/ansible/awx/issues/4861,using ansible kubernetes module on ansible tower,"Hi, Does anyone know if it's possible to use the ansible kubernetes module (k8s) on AWX? I'm getting this error: _no module named kubernetes_. regards, Michel",source-file | source-file | test-file | source-file,"using ansible kubernetes module on ansible tower Hi, Does anyone know if it's possible to use the ansible kubernetes module (k8s) on AWX? I'm getting this error: _no module named kubernetes_. regards, Michel source-file source-file test-file source-file",no-bug,0.9
11523,awx,https://github.com/ansible/awx/issues/11523,"/api/v2/ping is returning wrong value in ""heartbeat"" field","### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Summary: I believe that this behavior where two endpoints ( `/api/v2/ping` and `/api/v2/instances/` ) return different values for the same ""heartbeat"" like field is not consistent, and I think that `/api/v2/ping` ""heartbeat"" field should be mapped to `last_health_check` field of `Instance` model. Details: In AAP1.2 (Tower 3.8.4) `/api/v2/ping` response, ""heartbeat"" field was mapped to `instance.modified` (*), and the value ""heartbeat"" field in the response was returning a new updated value every minute. ~~~ /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/api/views/root.py class ApiV2PingView(APIView): ... def get(self, request, format=None): ... for instance in Instance.objects.all(): response['instances'].append(dict(node=instance.hostname, uuid=instance.uuid, heartbeat=instance.modified, <=== capacity=instance.capacity, version=instance.version)) ~~~ This is not the case anymore in AAP2.1 (Ansible Automation Platform Controller 4.1.0). I see that in AAP2.1 (Ansible Automation Platform Controller 4.1.0) `/api/v2/ping` ""heartbeat"" field is **still** mapped to modified , and not to `last_seen` nor to `last_health_check` that have been introduced for this purpose. ~~~ /var/lib/awx/venv/awx/lib/python3.8/site-packages/awx/api/views/root.py 133 class ApiV2PingView(APIView): 134 """"""A simple view that reports very basic information about this 135 instance, which is acceptable to be public information. 136 """""" .. 143 def get(self, request, format=None): ... 152 for instance in Instance.objects.all(): 153 response['instances'].append( 154 dict( ... 158 heartbeat=instance.modified, <======= ... ~~~ Because of that, `/api/v2/ping` will not return a new value every minute, it will return a new value only if the user fiddles manually with the instance properties (e.g. any change on Administration > Instance Group > ""any instance group"" > Instance Page, etc.). Now, being said that in AAP2.1 (Ansible Automation Platform Controller 4.1.0) `/api/v2/instances/` **does** return correctly all the fields, including last_seen and last_health_check which are updated every minute as expected. (*) back then, there was no `last_seen` nor `last_health_check` field in the Instance model ### AWX version Red Hat Downstream AAP2.1 ### Installation method docker on linux ### Modifications no ### Ansible version Ansible Automation Platform Controller 4.1.0 ### Operating system Linux RHEL8.3 ### Web browser Firefox ### Steps to reproduce Access `https://<awx-url>/api/v2/ping/` and compare the response with the one from `https://192.168.122.106/api/v2/instances/`. ""heartbeat"" value from `ping` endpoint will be older than the same value from `instances` endpoint. ### Expected results ""heartbeat"" value from `ping` endpoint should match ""last_seen"" and ""last_health_check"" values from `instances` endpoint results. (Not sure about ""last_seen"", but in my tests, said field have always had the same value as ""last_health_check"" field so far) ### Actual results ""heartbeat"" value from `ping` endpoint will be older than the same value from `instances` endpoint. ### Additional information Likely related commit: https://github.com/ansible/tower/commit/6a17e5b65bf9421c2e650d23817c79ce81248c6f Likely related issue: https://github.com/ansible/awx/issues/10737",source-file | source-file,"/api/v2/ping is returning wrong value in ""heartbeat"" field ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Summary: I believe that this behavior where two endpoints ( `/api/v2/ping` and `/api/v2/instances/` ) return different values for the same ""heartbeat"" like field is not consistent, and I think that `/api/v2/ping` ""heartbeat"" field should be mapped to `last_health_check` field of `Instance` model. Details: In AAP1.2 (Tower 3.8.4) `/api/v2/ping` response, ""heartbeat"" field was mapped to `instance.modified` (*), and the value ""heartbeat"" field in the response was returning a new updated value every minute. ~~~ /var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/api/views/root.py class ApiV2PingView(APIView): ... def get(self, request, format=None): ... for instance in Instance.objects.all(): response['instances'].append(dict(node=instance.hostname, uuid=instance.uuid, heartbeat=instance.modified, <=== capacity=instance.capacity, version=instance.version)) ~~~ This is not the case anymore in AAP2.1 (Ansible Automation Platform Controller 4.1.0). I see that in AAP2.1 (Ansible Automation Platform Controller 4.1.0) `/api/v2/ping` ""heartbeat"" field is **still** mapped to modified , and not to `last_seen` nor to `last_health_check` that have been introduced for this purpose. ~~~ /var/lib/awx/venv/awx/lib/python3.8/site-packages/awx/api/views/root.py 133 class ApiV2PingView(APIView): 134 """"""A simple view that reports very basic information about this 135 instance, which is acceptable to be public information. 136 """""" .. 143 def get(self, request, format=None): ... 152 for instance in Instance.objects.all(): 153 response['instances'].append( 154 dict( ... 158 heartbeat=instance.modified, <======= ... ~~~ Because of that, `/api/v2/ping` will not return a new value every minute, it will return a new value only if the user fiddles manually with the instance properties (e.g. any change on Administration > Instance Group > ""any instance group"" > Instance Page, etc.). Now, being said that in AAP2.1 (Ansible Automation Platform Controller 4.1.0) `/api/v2/instances/` **does** return correctly all the fields, including last_seen and last_health_check which are updated every minute as expected. (*) back then, there was no `last_seen` nor `last_health_check` field in the Instance model ### AWX version Red Hat Downstream AAP2.1 ### Installation method docker on linux ### Modifications no ### Ansible version Ansible Automation Platform Controller 4.1.0 ### Operating system Linux RHEL8.3 ### Web browser Firefox ### Steps to reproduce Access `https://<awx-url>/api/v2/ping/` and compare the response with the one from `https://192.168.122.106/api/v2/instances/`. ""heartbeat"" value from `ping` endpoint will be older than the same value from `instances` endpoint. ### Expected results ""heartbeat"" value from `ping` endpoint should match ""last_seen"" and ""last_health_check"" values from `instances` endpoint results. (Not sure about ""last_seen"", but in my tests, said field have always had the same value as ""last_health_check"" field so far) ### Actual results ""heartbeat"" value from `ping` endpoint will be older than the same value from `instances` endpoint. ### Additional information Likely related commit: https://github.com/ansible/tower/commit/6a17e5b65bf9421c2e650d23817c79ce81248c6f Likely related issue: https://github.com/ansible/awx/issues/10737 source-file source-file",bug,0.9
14653,awx,https://github.com/ansible/awx/issues/14653,[DOCS] Heading rendering off,### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Not sure what happened here... maybe a stylesheet issue? ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Go to https://ansible.readthedocs.io/projects/awx/en/latest/userguide/workflow_templates.html#extra-variables ### Expected results Look more like https://docs.ansible.com/automation-controller/latest/html/userguide/workflow_templates.html#extra-variables: ![image](https://github.com/ansible/awx/assets/7514801/8b25cc94-13e6-4b34-92cf-77c8adf72c13) ### Actual results ![image](https://github.com/ansible/awx/assets/7514801/2079edea-c747-4f84-b9e0-4be1947a3ee6) ### Additional information _No response_,documentation-file | documentation-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | config-file | documentation-file | other-file | other-file | source-file | source-file | source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | documentation-file | source-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | documentation-file | documentation-file | other-file | source-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | config-file | container-file | container-file | config-file | config-file | config-file | other-file | config-file | config-file | config-file | config-file | config-file | config-file | other-file | other-file | documentation-file | documentation-file,[DOCS] Heading rendering off ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary Not sure what happened here... maybe a stylesheet issue? ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce Go to https://ansible.readthedocs.io/projects/awx/en/latest/userguide/workflow_templates.html#extra-variables ### Expected results Look more like https://docs.ansible.com/automation-controller/latest/html/userguide/workflow_templates.html#extra-variables: ![image](https://github.com/ansible/awx/assets/7514801/8b25cc94-13e6-4b34-92cf-77c8adf72c13) ### Actual results ![image](https://github.com/ansible/awx/assets/7514801/2079edea-c747-4f84-b9e0-4be1947a3ee6) ### Additional information _No response_ documentation-file documentation-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file config-file documentation-file other-file other-file source-file source-file source-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file documentation-file source-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file documentation-file documentation-file other-file source-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file config-file container-file container-file config-file config-file config-file other-file config-file config-file config-file config-file config-file config-file other-file other-file documentation-file documentation-file,no-bug,0.95
13320,awx,https://github.com/ansible/awx/issues/13320,[web/task split] Implement a heartbeat daemon from web nodes to trigger wsrelay connections,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary At the end of #13319 our websockets infrastructure will look differently than it does now. We will no longer have a `wsbroadcast` daemon that lives in web pods. Instead, we'll have a `wsrelay`, which fans out messages to web servers, which then send them to clients/browsers. ```mermaid graph TD; task[Dispatcher] -->|job event message| wsrelay wsrelay --> w1[web pod 1] wsrelay --> w2[web pod 2] wsrelay -..->|no user on web pod 3, we stay connected but don't send messages to it| w3[web pod 3] wsrelay --> w4[web pod 4] w1 --> u1[user 1] w2 --> u2[user 2] w2 --> u3[user 3] w4 --> u4[user 4] ``` But how does `wsrelay` know which web nodes are out there? The way we are planning to do this, we will run a new, small service in the web pod which periodically (every *n* seconds) beacons out and advertises the web server's existence. It will do this by sending a message over a `pg_notify` channel. `wsrelay` will (asynchronously) be listening for messages on this `pg_notify` channel, and when it receives a message, it will connect to the web server's relay websocket endpoint, if it needs to. Importantly, nothing happens on the `wsrelay` side, if a beacon is missed. The only time `wsrelay` takes an action on these beacons is when: 1. It hears the beacon 2. The beacon is coming from a node with a hostname different from the hostname this `wsrelay` instance is sitting on (for VM deployments, we don't need `wsrelay` to connect to its own host) 3. The beacon it hears identifies a web server that it wasn't previously connected to. Either a new hostname, or a different IP address for an existing hostname. ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce N/A ### Current results In the current system, this hasn't been an issue. Every web node lives in the same pod as a task node, and the task node registers itself as an `Instance` in AWX, so `wsbroadcast` can list out all the `Instance`s in the database and connect to what it needs to connect to. ### Sugested feature result At the end of this work, we will be able to scale web and task nodes independently of each other. When web nodes scale up, existing task nodes (running `wsrelay`) will start hearing their beacons and automatically connect to them. When web nodes scale down, `wsrelay` will notice the disconnect, and gracefully remove the node from its list. This allows for seamless scaling of web and task pods. ### Additional information _No response_",other-file | source-file | source-file | source-file | container-file | config-file,"[web/task split] Implement a heartbeat daemon from web nodes to trigger wsrelay connections ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Feature type Enhancement to Existing Feature ### Feature Summary At the end of #13319 our websockets infrastructure will look differently than it does now. We will no longer have a `wsbroadcast` daemon that lives in web pods. Instead, we'll have a `wsrelay`, which fans out messages to web servers, which then send them to clients/browsers. ```mermaid graph TD; task[Dispatcher] -->|job event message| wsrelay wsrelay --> w1[web pod 1] wsrelay --> w2[web pod 2] wsrelay -..->|no user on web pod 3, we stay connected but don't send messages to it| w3[web pod 3] wsrelay --> w4[web pod 4] w1 --> u1[user 1] w2 --> u2[user 2] w2 --> u3[user 3] w4 --> u4[user 4] ``` But how does `wsrelay` know which web nodes are out there? The way we are planning to do this, we will run a new, small service in the web pod which periodically (every *n* seconds) beacons out and advertises the web server's existence. It will do this by sending a message over a `pg_notify` channel. `wsrelay` will (asynchronously) be listening for messages on this `pg_notify` channel, and when it receives a message, it will connect to the web server's relay websocket endpoint, if it needs to. Importantly, nothing happens on the `wsrelay` side, if a beacon is missed. The only time `wsrelay` takes an action on these beacons is when: 1. It hears the beacon 2. The beacon is coming from a node with a hostname different from the hostname this `wsrelay` instance is sitting on (for VM deployments, we don't need `wsrelay` to connect to its own host) 3. The beacon it hears identifies a web server that it wasn't previously connected to. Either a new hostname, or a different IP address for an existing hostname. ### Select the relevant components - [ ] UI - [X] API - [ ] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Steps to reproduce N/A ### Current results In the current system, this hasn't been an issue. Every web node lives in the same pod as a task node, and the task node registers itself as an `Instance` in AWX, so `wsbroadcast` can list out all the `Instance`s in the database and connect to what it needs to connect to. ### Sugested feature result At the end of this work, we will be able to scale web and task nodes independently of each other. When web nodes scale up, existing task nodes (running `wsrelay`) will start hearing their beacons and automatically connect to them. When web nodes scale down, `wsrelay` will notice the disconnect, and gracefully remove the node from its list. This allows for seamless scaling of web and task pods. ### Additional information _No response_ other-file source-file source-file source-file container-file config-file",no-bug,0.9
4480,awx,https://github.com/ansible/awx/issues/4480,Add option to change the GUI layout color,##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Customer have DEV and PROD Ansible Towers and looking for option to change the GUI layout color to differentiate between them easily. Custom Logo for this scenario is not helpful as its only change in the login page.,source-file | source-file | source-file | source-file,Add option to change the GUI layout color ##### ISSUE TYPE - Feature Idea ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> Customer have DEV and PROD Ansible Towers and looking for option to change the GUI layout color to differentiate between them easily. Custom Logo for this scenario is not helpful as its only change in the login page. source-file source-file source-file source-file,no-bug,0.95
6218,awx,https://github.com/ansible/awx/issues/6218,tower_notifications forces to set username and password for email/irc notifications,"##### ISSUE TYPE - Bug Report ##### SUMMARY When using `tower_notification` modules in my ansible playbooks, to create notification of `kind` - `email` or `irc`, it forces you to pass `username:''` and `password:''` for `email` and `password:''` for `irc`. This is inconsistent with what UI needs you to add. ##### ENVIRONMENT * Tower version: 3.6.2 *AWX install method: linux using bundle * Ansible version: 2.9.1 on Tower, 2.9.2 on my local system from where I run the playbook * Operating System: not relevant I believe * Web Browser: N/A ##### STEPS TO REPRODUCE use following code to create a notifiction in Ansible tower using `tower_notification` ansible core module: ``` tower_notifications: - name: irc-satqe-chat-notification description: Notify us on job in IRC! organization: Default notification_type: irc nickname: Ansible-Tower-Stage-Bot-01 port: 6667 server: irc.com targets: - 'kkulkarni' password: '' # this is required even if there's no password - name: Email notification description: Send out emails for tower jobs organization: Default notification_type: email host: smtp.redhat.com recipients: - kk@example.com sender: admin@example.com port: 25 username: '' # this is required even if there's no username password: '' # this is required even if there's no password state: present ``` ##### EXPECTED RESULTS No need to pass username/password to the module, making it optional. ##### ACTUAL RESULTS Module fails as it thinks username and password are required. ##### ADDITIONAL INFORMATION Do not have any atm. but can provide if needed.",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"tower_notifications forces to set username and password for email/irc notifications ##### ISSUE TYPE - Bug Report ##### SUMMARY When using `tower_notification` modules in my ansible playbooks, to create notification of `kind` - `email` or `irc`, it forces you to pass `username:''` and `password:''` for `email` and `password:''` for `irc`. This is inconsistent with what UI needs you to add. ##### ENVIRONMENT * Tower version: 3.6.2 *AWX install method: linux using bundle * Ansible version: 2.9.1 on Tower, 2.9.2 on my local system from where I run the playbook * Operating System: not relevant I believe * Web Browser: N/A ##### STEPS TO REPRODUCE use following code to create a notifiction in Ansible tower using `tower_notification` ansible core module: ``` tower_notifications: - name: irc-satqe-chat-notification description: Notify us on job in IRC! organization: Default notification_type: irc nickname: Ansible-Tower-Stage-Bot-01 port: 6667 server: irc.com targets: - 'kkulkarni' password: '' # this is required even if there's no password - name: Email notification description: Send out emails for tower jobs organization: Default notification_type: email host: smtp.redhat.com recipients: - kk@example.com sender: admin@example.com port: 25 username: '' # this is required even if there's no username password: '' # this is required even if there's no password state: present ``` ##### EXPECTED RESULTS No need to pass username/password to the module, making it optional. ##### ACTUAL RESULTS Module fails as it thinks username and password are required. ##### ADDITIONAL INFORMATION Do not have any atm. but can provide if needed. other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.8
4545,awx,https://github.com/ansible/awx/issues/4545,Send Ad-hoc events to log Aggregator,"##### ISSUE TYPE Currently we have no way to ship ad-hoc command to the log aggregator /api/v2/ad_hoc_commands/ When a user executes an ad-hoc command, a single activity_stream event is sent representing the creation of the command but no other information is. None of the 'ad_hoc command events' available in the Tower API are sent. ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. -->",source-file | source-file,"Send Ad-hoc events to log Aggregator ##### ISSUE TYPE Currently we have no way to ship ad-hoc command to the log aggregator /api/v2/ad_hoc_commands/ When a user executes an ad-hoc command, a single activity_stream event is sent representing the creation of the command but no other information is. None of the 'ad_hoc command events' available in the Tower API are sent. ##### SUMMARY <!-- Briefly describe the problem or desired enhancement. --> source-file source-file",no-bug,0.8
9012,awx,https://github.com/ansible/awx/issues/9012,Observability and metrics - Save to Redis,"TL;DR Store metrics in Redis so they are accessible to the API. Metrics live in various process spaces but we want to display/view them via other process memory spaces. For example, metrics about the task manager come from a dispatcher process that runs task manager code. The dispatcher processes space may be short lived. We want to present or view, in the API, the metrics that occur in the task manager, but the API is a separate process. We need some IPC mechanism to accomplish this. We can use Redis. Another consumer of the metrics data would be a periodic task that outputs the values to a file on disk. This file can be collected by sosreport for offline reconstruction of past performance. Yet another consumer of this data could be a command line tool to aid in debugging performance live. ### Requirements 1. Metric data stored in Redis should be convertible to Prometheus data types: Counter, Gauge, Histogram, Summary https://prometheus.io/docs/concepts/metric_types/ . We should serialize the metrics into JSON (look for a fast JSON serialize/serialize lib) 2. Metrics should be stored efficiently. Maybe metrics about metrics overhead. We can use the Redis hash data type to store key -> value metrics https://redis.io/commands#hash possible organization: Single Hash ``` HMSET awx_metrics task_manager_pending_total 2 HMSET awx_metrics task_manager_running_total 5 HMSET awx_metrics api_jobs_created 100 HMSET awx_metrics api_workflow_jobs_created 5 HMSET awx_metrics callback_receiver_events_processed 10000 ``` Multiple Hashes ``` HMSET awx_metrics_task_manager pending_total 2 HMSET awx_metrics_task_manager running_total 5 HMSET awx_metrics_api jobs_created 100 HMSET awx_metrics_api workflow_jobs_created 5 HMSET awx_metrics_callback_receiver events_processed 10000 ``` #### Notes There will be many cases were many metrics need to be updated for a subsystem per ""loop"". It can be costly to perform multiple redis operations per-loop if we are in a critical section (i.e. the callback receiver). We could try to use redis async but this can complicate the code. Instead, we should use redis pipeline feature. You can think of the pipeline feature as batching or a transaction.",source-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file,"Observability and metrics - Save to Redis TL;DR Store metrics in Redis so they are accessible to the API. Metrics live in various process spaces but we want to display/view them via other process memory spaces. For example, metrics about the task manager come from a dispatcher process that runs task manager code. The dispatcher processes space may be short lived. We want to present or view, in the API, the metrics that occur in the task manager, but the API is a separate process. We need some IPC mechanism to accomplish this. We can use Redis. Another consumer of the metrics data would be a periodic task that outputs the values to a file on disk. This file can be collected by sosreport for offline reconstruction of past performance. Yet another consumer of this data could be a command line tool to aid in debugging performance live. ### Requirements 1. Metric data stored in Redis should be convertible to Prometheus data types: Counter, Gauge, Histogram, Summary https://prometheus.io/docs/concepts/metric_types/ . We should serialize the metrics into JSON (look for a fast JSON serialize/serialize lib) 2. Metrics should be stored efficiently. Maybe metrics about metrics overhead. We can use the Redis hash data type to store key -> value metrics https://redis.io/commands#hash possible organization: Single Hash ``` HMSET awx_metrics task_manager_pending_total 2 HMSET awx_metrics task_manager_running_total 5 HMSET awx_metrics api_jobs_created 100 HMSET awx_metrics api_workflow_jobs_created 5 HMSET awx_metrics callback_receiver_events_processed 10000 ``` Multiple Hashes ``` HMSET awx_metrics_task_manager pending_total 2 HMSET awx_metrics_task_manager running_total 5 HMSET awx_metrics_api jobs_created 100 HMSET awx_metrics_api workflow_jobs_created 5 HMSET awx_metrics_callback_receiver events_processed 10000 ``` #### Notes There will be many cases were many metrics need to be updated for a subsystem per ""loop"". It can be costly to perform multiple redis operations per-loop if we are in a critical section (i.e. the callback receiver). We could try to use redis async but this can complicate the code. Instead, we should use redis pipeline feature. You can think of the pipeline feature as batching or a transaction. source-file documentation-file source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file",no-bug,0.9
9222,awx,https://github.com/ansible/awx/issues/9222,Passing a bad lookup type modifier in api request triggers 500 error,"##### ISSUE TYPE - Bug Report ##### SUMMARY Send a request like `/api/v2/jobs/?id__iexact=1` <img width=""1680"" alt=""Screen Shot 2021-02-03 at 12 28 26 PM"" src=""https://user-images.githubusercontent.com/9889020/106785392-56b84880-661b-11eb-9288-fa50845636f7.png""> `iexact` isn't supported on the `id` field. What I'm hoping for is a nice 4xx error that says that modifier is not supported. The impetuous for this issue came from https://github.com/ansible/awx/issues/7834. The advanced search in the UI allows the user to select from a static list of modifiers in the `Advanced` section. I left that issue open as a UI enhancement to attempt to trim that list down to only modifiers that will work with a particular field.",source-file | test-file | source-file | test-file | source-file | test-file,"Passing a bad lookup type modifier in api request triggers 500 error ##### ISSUE TYPE - Bug Report ##### SUMMARY Send a request like `/api/v2/jobs/?id__iexact=1` <img width=""1680"" alt=""Screen Shot 2021-02-03 at 12 28 26 PM"" src=""https://user-images.githubusercontent.com/9889020/106785392-56b84880-661b-11eb-9288-fa50845636f7.png""> `iexact` isn't supported on the `id` field. What I'm hoping for is a nice 4xx error that says that modifier is not supported. The impetuous for this issue came from https://github.com/ansible/awx/issues/7834. The advanced search in the UI allows the user to select from a static list of modifiers in the `Advanced` section. I left that issue open as a UI enhancement to attempt to trim that list down to only modifiers that will work with a particular field. source-file test-file source-file test-file source-file test-file",bug,0.95
9207,awx,https://github.com/ansible/awx/issues/9207,[ExecEnvs] Surface missing-resource warnings on list items for UJTs that were using custom virtualenvs,"##### SUMMARY After upgrade, job templates that were using virtualenvs will need to be linked to an execution environment. We should show a ""missing resource"" warning (like we do for deleted projects, etc.) on list items to help inform the user about the actions they need to take in order to make the template runnable. Potential implementation details: We can add a new api field to indicate warning status or the ui can just derive the state by looking at which job templates have a value for the old virtualenv field but don't have an EE yet.",test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | other-file | source-file | test-file | other-file | test-file | source-file | other-file | other-file | other-file | test-file | documentation-file | documentation-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | documentation-file | other-file | test-file | documentation-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | test-file | other-file | other-file | source-file,"[ExecEnvs] Surface missing-resource warnings on list items for UJTs that were using custom virtualenvs ##### SUMMARY After upgrade, job templates that were using virtualenvs will need to be linked to an execution environment. We should show a ""missing resource"" warning (like we do for deleted projects, etc.) on list items to help inform the user about the actions they need to take in order to make the template runnable. Potential implementation details: We can add a new api field to indicate warning status or the ui can just derive the state by looking at which job templates have a value for the old virtualenv field but don't have an EE yet. test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file documentation-file other-file test-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file other-file test-file test-file other-file other-file source-file test-file other-file test-file source-file other-file other-file other-file test-file documentation-file documentation-file other-file test-file test-file other-file test-file other-file test-file other-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file documentation-file other-file test-file documentation-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file documentation-file other-file test-file other-file test-file other-file other-file other-file test-file test-file other-file other-file source-file",no-bug,0.8
9704,awx,https://github.com/ansible/awx/issues/9704,AWX 18.0.0: Inventory Source from a Project not work,"##### ISSUE TYPE - Bug Report ##### SUMMARY Inventory Source from a Project seems not work in AWX 18.0.0 ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: AWX Operator * Operating System: Ubuntu 20.04 + k3s v1.20.0+k3s2 (Kubernetes) * EE: Default EE (built-in in AWX 18.0.0) ##### STEPS TO REPRODUCE 1. Add an SCM Project in AWX + sync the project 2. Add an Inventory in AWX 3. Add Inventory Source (Source from a Project type) and set Inventory file field to `hosts` or `hosts.yml` 4. Run sync ##### EXPECTED RESULTS Inventory Sourced from a Project correctly works, as in 17.1.0 ##### ACTUAL RESULTS ``` ansible-inventory [core 2.11.0b2.post0] config file = /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/project/ansible.cfg configured module search path = ['/home/runner/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.8/site-packages/ansible ansible collection location = /runner/requirements_collections:/tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/project/collections:/home/runner/.ansible/collections:/usr/share/ansible/collections executable location = /usr/local/bin/ansible-inventory python version = 3.8.3 (default, Aug 31 2020, 16:03:14) [GCC 8.3.1 20191121 (Red Hat 8.3.1-5)] jinja version = 2.10.3 libyaml = True Using /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/project/ansible.cfg as config file host_list declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user script declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user auto declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user yaml declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user ini declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user toml declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method [WARNING]: Unable to parse /runner/project/hosts.yml as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` ##### ADDITIONAL INFORMATION I checked inside `awx-ee` Pod's container and in private-data-dir (e.g. /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/) i found a file called `args` with content below: ``` bash-4.4$ more /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/args ansible-inventory --list --export -i /runner/project/hosts.yml --output /runner/artifacts/output.json --playbook-dir /runner/project -vvvvv ``` It seems wrong 'cause it refers to /runner directory but all project and execution files are placed in /tmp/pdd_wrapper_[...] directories I dunno if problem is related to all hardcoded /runner os.path in file [https://github.com/ansible/awx/blob/9a61c4368784c421e47551e4175020ced116f56e/awx/main/tasks.py](https://github.com/ansible/awx/blob/9a61c4368784c421e47551e4175020ced116f56e/awx/main/tasks.py#L2521) At the moment Inventory Source from Project seems unusable in AWX 18.0.0. I hope this can be analized soon. Thank you",source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | test-file | test-file,"AWX 18.0.0: Inventory Source from a Project not work ##### ISSUE TYPE - Bug Report ##### SUMMARY Inventory Source from a Project seems not work in AWX 18.0.0 ##### ENVIRONMENT * AWX version: 18.0.0 * AWX install method: AWX Operator * Operating System: Ubuntu 20.04 + k3s v1.20.0+k3s2 (Kubernetes) * EE: Default EE (built-in in AWX 18.0.0) ##### STEPS TO REPRODUCE 1. Add an SCM Project in AWX + sync the project 2. Add an Inventory in AWX 3. Add Inventory Source (Source from a Project type) and set Inventory file field to `hosts` or `hosts.yml` 4. Run sync ##### EXPECTED RESULTS Inventory Sourced from a Project correctly works, as in 17.1.0 ##### ACTUAL RESULTS ``` ansible-inventory [core 2.11.0b2.post0] config file = /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/project/ansible.cfg configured module search path = ['/home/runner/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/lib/python3.8/site-packages/ansible ansible collection location = /runner/requirements_collections:/tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/project/collections:/home/runner/.ansible/collections:/usr/share/ansible/collections executable location = /usr/local/bin/ansible-inventory python version = 3.8.3 (default, Aug 31 2020, 16:03:14) [GCC 8.3.1 20191121 (Red Hat 8.3.1-5)] jinja version = 2.10.3 libyaml = True Using /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/project/ansible.cfg as config file host_list declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user script declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user auto declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user yaml declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user ini declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method Skipping due to inventory source not existing or not being readable by the current user toml declined parsing /runner/project/hosts.yml as it did not pass its verify_file() method [WARNING]: Unable to parse /runner/project/hosts.yml as an inventory source ERROR! No inventory was parsed, please check your configuration and options. ``` ##### ADDITIONAL INFORMATION I checked inside `awx-ee` Pod's container and in private-data-dir (e.g. /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/) i found a file called `args` with content below: ``` bash-4.4$ more /tmp/pdd_wrapper_216_g6ozu0ty/awx_216_8ectkurh/args ansible-inventory --list --export -i /runner/project/hosts.yml --output /runner/artifacts/output.json --playbook-dir /runner/project -vvvvv ``` It seems wrong 'cause it refers to /runner directory but all project and execution files are placed in /tmp/pdd_wrapper_[...] directories I dunno if problem is related to all hardcoded /runner os.path in file [https://github.com/ansible/awx/blob/9a61c4368784c421e47551e4175020ced116f56e/awx/main/tasks.py](https://github.com/ansible/awx/blob/9a61c4368784c421e47551e4175020ced116f56e/awx/main/tasks.py#L2521) At the moment Inventory Source from Project seems unusable in AWX 18.0.0. I hope this can be analized soon. Thank you source-file source-file source-file source-file source-file test-file test-file test-file test-file source-file source-file test-file test-file",no-bug,0.8
7887,awx,https://github.com/ansible/awx/issues/7887,Add/Edit execution environments,##### ISSUE TYPE - Feature Idea ##### SUMMARY Add/Edit execution environments,source-file | other-file | other-file | other-file | other-file | other-file | source-file | other-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | source-file | other-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file,Add/Edit execution environments ##### ISSUE TYPE - Feature Idea ##### SUMMARY Add/Edit execution environments source-file other-file other-file other-file other-file other-file source-file other-file other-file test-file test-file other-file other-file other-file test-file source-file other-file other-file test-file test-file other-file other-file other-file test-file source-file other-file other-file test-file test-file other-file other-file other-file test-file source-file other-file other-file test-file other-file test-file test-file other-file other-file other-file test-file source-file other-file other-file test-file other-file test-file test-file other-file other-file other-file test-file source-file other-file other-file test-file other-file test-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file source-file other-file other-file test-file other-file test-file test-file other-file other-file other-file test-file other-file other-file test-file other-file,no-bug,0.9
5037,awx,https://github.com/ansible/awx/issues/5037,Failed command was: ( umask 77 && mkdir -p,"##### SUMMARY Trying to connect via SSH and getting a error ##### ISSUE TYPE - Bug Report ##### COMPONENT NAME ssh ##### ANSIBLE VERSION ``` Ansible 2.8.5 AWX 7.0.0 ``` ##### OS / ENVIRONMENT CentOS 7 ##### STEPS TO REPRODUCE ``` --- - name: Test hosts: all remote_user: nsroot become: yes become_user: nsroot vars: ansible_ssh_private_key_file: /usr/share/awx/.ssh/id_rsa ansible_shell_executable: shell tasks: - name: Test rol path debug: msg: Path rol - name: Test playbook path debug: msg: Playbook path ``` ##### EXPECTED RESULTS Connection ##### ACTUAL RESULTS ``` ""msg"": ""Authentication or permission failure. In some cases, you may have been able to authenticate and did not have permissions on the target directory. Consider changing the remote tmp path in ansible.cfg to a path rooted in \""/tmp\"". Failed command was: ( umask 77 && mkdir -p \""` echo ERROR: Export failed. Check /var/log/ns.log for details./.ansible/tmp/ansible-tmp-1571384925.6129348-198885708601281 `\"" && echo ansible-tmp-1571384925.6129348-198885708601281=\""` echo ERROR: Export failed. Check /var/log/ns.log for details./.ansible/tmp/ansible-tmp-1571384925.6129348-198885708601281 `\"" ), exited with result 1, stdout output: Done\nERROR: Export failed. Check /var/log/ns.log for details.\n, stderr output: OpenSSH_7.4p1, OpenSSL 1.0.2k-fips 26 Jan 2017\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 14\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\n-c: not found\nERROR: Export failed. Check /var/log/ns.log for details.\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 1\r\n"", ``` /var/log/ns.log shows this exact same message as well.",other-file | test-file | other-file | other-file | other-file,"Failed command was: ( umask 77 && mkdir -p ##### SUMMARY Trying to connect via SSH and getting a error ##### ISSUE TYPE - Bug Report ##### COMPONENT NAME ssh ##### ANSIBLE VERSION ``` Ansible 2.8.5 AWX 7.0.0 ``` ##### OS / ENVIRONMENT CentOS 7 ##### STEPS TO REPRODUCE ``` --- - name: Test hosts: all remote_user: nsroot become: yes become_user: nsroot vars: ansible_ssh_private_key_file: /usr/share/awx/.ssh/id_rsa ansible_shell_executable: shell tasks: - name: Test rol path debug: msg: Path rol - name: Test playbook path debug: msg: Playbook path ``` ##### EXPECTED RESULTS Connection ##### ACTUAL RESULTS ``` ""msg"": ""Authentication or permission failure. In some cases, you may have been able to authenticate and did not have permissions on the target directory. Consider changing the remote tmp path in ansible.cfg to a path rooted in \""/tmp\"". Failed command was: ( umask 77 && mkdir -p \""` echo ERROR: Export failed. Check /var/log/ns.log for details./.ansible/tmp/ansible-tmp-1571384925.6129348-198885708601281 `\"" && echo ansible-tmp-1571384925.6129348-198885708601281=\""` echo ERROR: Export failed. Check /var/log/ns.log for details./.ansible/tmp/ansible-tmp-1571384925.6129348-198885708601281 `\"" ), exited with result 1, stdout output: Done\nERROR: Export failed. Check /var/log/ns.log for details.\n, stderr output: OpenSSH_7.4p1, OpenSSL 1.0.2k-fips 26 Jan 2017\r\ndebug1: auto-mux: Trying existing master\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug2: mux_client_hello_exchange: master version 4\r\ndebug3: mux_client_forwards: request forwardings: 0 local, 0 remote\r\ndebug3: mux_client_request_session: entering\r\ndebug3: mux_client_request_alive: entering\r\ndebug3: mux_client_request_alive: done pid = 14\r\ndebug3: mux_client_request_session: session request sent\r\ndebug1: mux_client_request_session: master session id: 2\r\n-c: not found\nERROR: Export failed. Check /var/log/ns.log for details.\ndebug3: mux_client_read_packet: read header failed: Broken pipe\r\ndebug2: Received exit status from master 1\r\n"", ``` /var/log/ns.log shows this exact same message as well. other-file test-file other-file other-file other-file",no-bug,0.9
6279,awx,https://github.com/ansible/awx/issues/6279,tower_role ansible module should support Workflow,"##### ISSUE TYPE - Tower_role(https://docs.ansible.com/ansible/latest/modules/tower_role_module.html) module does not support `workflows` it does support other objects like job_template, credentials, inventory, projects etc. I would ##### SUMMARY If we add `workflow` support to this module it will be complete (at least in my perspective) to support setting permissions of all the objects one would care for.",other-file,"tower_role ansible module should support Workflow ##### ISSUE TYPE - Tower_role(https://docs.ansible.com/ansible/latest/modules/tower_role_module.html) module does not support `workflows` it does support other objects like job_template, credentials, inventory, projects etc. I would ##### SUMMARY If we add `workflow` support to this module it will be complete (at least in my perspective) to support setting permissions of all the objects one would care for. other-file",no-bug,0.9
6580,awx,https://github.com/ansible/awx/issues/6580,Fail to send Grafana notification,"##### ISSUE TYPE - Bug Report ##### SUMMARY When I try to send a notification to Grafana, AWX returns an error. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: Kubernetes 1.18.0 * Ansible version: 2.9.5 * Operating System: macOS Catalina * Web Browser: Mozilla Firefox 74.0 ##### STEPS TO REPRODUCE 1. Configure Grafana notification 2. Click on ""Test notification"" ##### EXPECTED RESULTS Notification sent successfully. ##### ACTUAL RESULTS From awx_tasks log: ``` 2020-04-04 23:37:53,653 DEBUG awx.main.dispatch task 7bc53b9c-c78c-4f96-91e6-08dd52eb9285 starting awx.main.tasks.send_notifications(*[[8]]) 2020-04-04 23:37:53,717 ERROR awx.main.notifications.grafana_backend Error sending notification grafana: [{""classification"":""DeserializationError"",""message"":""json: cannot unmarshal string into Go struct field PostAnnotationsCmd.tags of type []string""}] 2020-04-04 23:37:53,719 ERROR awx.main.tasks Send Notification Failed Error sending notification grafana: [{""classification"":""DeserializationError"",""message"":""json: cannot unmarshal string into Go struct field PostAnnotationsCmd.tags of type []string""}] Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 330, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/grafana_backend.py"", line 103, in send_messages raise Exception(smart_text(_(""Error sending notification grafana: {}"").format(r.text))) Exception: Error sending notification grafana: [{""classification"":""DeserializationError"",""message"":""json: cannot unmarshal string into Go struct field PostAnnotationsCmd.tags of type []string""}] ``` ##### ADDITIONAL INFORMATION Both AWX and Grafana are deployed in the same Kubernetes cluster.",source-file | source-file | source-file | test-file,"Fail to send Grafana notification ##### ISSUE TYPE - Bug Report ##### SUMMARY When I try to send a notification to Grafana, AWX returns an error. ##### ENVIRONMENT * AWX version: 10.0.0 * AWX install method: Kubernetes 1.18.0 * Ansible version: 2.9.5 * Operating System: macOS Catalina * Web Browser: Mozilla Firefox 74.0 ##### STEPS TO REPRODUCE 1. Configure Grafana notification 2. Click on ""Test notification"" ##### EXPECTED RESULTS Notification sent successfully. ##### ACTUAL RESULTS From awx_tasks log: ``` 2020-04-04 23:37:53,653 DEBUG awx.main.dispatch task 7bc53b9c-c78c-4f96-91e6-08dd52eb9285 starting awx.main.tasks.send_notifications(*[[8]]) 2020-04-04 23:37:53,717 ERROR awx.main.notifications.grafana_backend Error sending notification grafana: [{""classification"":""DeserializationError"",""message"":""json: cannot unmarshal string into Go struct field PostAnnotationsCmd.tags of type []string""}] 2020-04-04 23:37:53,719 ERROR awx.main.tasks Send Notification Failed Error sending notification grafana: [{""classification"":""DeserializationError"",""message"":""json: cannot unmarshal string into Go struct field PostAnnotationsCmd.tags of type []string""}] Traceback (most recent call last): File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/tasks.py"", line 330, in send_notifications sent = notification.notification_template.send(notification.subject, notification.body) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/models/notifications.py"", line 196, in send return backend_obj.send_messages([notification_obj]) File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/awx/main/notifications/grafana_backend.py"", line 103, in send_messages raise Exception(smart_text(_(""Error sending notification grafana: {}"").format(r.text))) Exception: Error sending notification grafana: [{""classification"":""DeserializationError"",""message"":""json: cannot unmarshal string into Go struct field PostAnnotationsCmd.tags of type []string""}] ``` ##### ADDITIONAL INFORMATION Both AWX and Grafana are deployed in the same Kubernetes cluster. source-file source-file source-file test-file",no-bug,0.8
14502,awx,https://github.com/ansible/awx/issues/14502,[DOCS] Add alt-text codeblock to Images for Userguide: credentials.rst,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the credentials.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ```",documentation-file | documentation-file | documentation-file,"[DOCS] Add alt-text codeblock to Images for Userguide: credentials.rst ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. - [X] I am **NOT** reporting a (potential) security vulnerability. (These should be emailed to `security@ansible.com` instead.) ### Bug Summary We need to add alt-text to images for accessibility purposes. See the syntax in the Expected Results below. ### AWX version latest ### Select the relevant components - [ ] UI - [ ] UI (tech preview) - [ ] API - [X] Docs - [ ] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser _No response_ ### Steps to reproduce 1. Clone the AWX repo. 2. Navigate to the source files for the User Guide in GitHub at: https://github.com/ansible/awx/tree/devel/docs/docsite/rst/userguide (locally they should reside in ``/Users/you/awx/docs/docsite/rst/userguide``). 3. Open the credentials.rst file to edit it. Search all image directives and place the `:alt:` code block beneath it. See syntax in Expected Results below. 4. Commit the changes, open a PR. ### Expected results The following codeblock added to each image with its specific descriptors filled in: ``` .. image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` or ``` |Resource - alt text describing image| .. |Resource - alt text describing image| image:: ../common/images/image-filename.png :alt: Phrase that describes image ``` ### Actual results Some images don't have the alt text info in them. ### Additional information Example from Credentials section of the User Guide: ``` Add Team Permissions ^^^^^^^^^^^^^^^^^^^^^^ To add permissions to a Team: 1. Click the **Add** button, which opens the Add Permissions Wizard. .. image:: ../common/images/teams-users-add-permissions-form.png :alt: Add Permissions Form ``` documentation-file documentation-file documentation-file",no-bug,0.95
9891,awx,https://github.com/ansible/awx/issues/9891,Delete warning showing some plural ploblems,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY **Note:** this may or may not exist in different places/pages I found this trying to delete resource that any other resource is using, the delete warning shows like: ``` Warning alert: {numItemsToDelete, plural, one {This execution environment is currently being used by other resources. Are you sure you want to delete it?} other {Deleting these execution environemnts could impact other resources that rely on them. Are you sure you want to delete anyway?}} ``` ##### ENVIRONMENT * Devel ##### STEPS TO REPRODUCE Create EEs used by any org, then try to delete the EE ##### EXPECTED RESULTS ![image](https://user-images.githubusercontent.com/12464858/114455594-5192ef00-9bb2-11eb-97cb-623cb241babb.png)",other-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"Delete warning showing some plural ploblems <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY **Note:** this may or may not exist in different places/pages I found this trying to delete resource that any other resource is using, the delete warning shows like: ``` Warning alert: {numItemsToDelete, plural, one {This execution environment is currently being used by other resources. Are you sure you want to delete it?} other {Deleting these execution environemnts could impact other resources that rely on them. Are you sure you want to delete anyway?}} ``` ##### ENVIRONMENT * Devel ##### STEPS TO REPRODUCE Create EEs used by any org, then try to delete the EE ##### EXPECTED RESULTS ![image](https://user-images.githubusercontent.com/12464858/114455594-5192ef00-9bb2-11eb-97cb-623cb241babb.png) other-file test-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
5141,awx,https://github.com/ansible/awx/issues/5141,HashiCorp Vault Secret Lookup: Test requires Sysadmin permissions,"##### ISSUE TYPE - Bug Report ##### SUMMARY The ""HashiCorp Vault Secret Lookup"" and ""Hashicorp Vault Signed SSH"" Credential Types provide both a test option which check if the parameters are working. In both cases the running the test case requires sysadmin permissions. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.7.11 * Operating System: Debian 9 * Web Browser: Firefox 69 ##### STEPS TO REPRODUCE Login to AWX as non-sysadmin user. In the AWX Webinterface go to ""Credentials"" and create a new Credential of Type ""HashiCorp Vault Secret Lookup"". Fill in ""Server Url"", ""token"" and if necessary CA Certificate. Then open the ""Test external credential"" form by clicking the ""Test"" Buttion. Fill in ""path to secret"" and ""key name"" then click ""run"". The Test will fail. If you run the same steps as sysadmin user, then the test will succeed. ##### EXPECTED RESULTS A user which is allowed to create a credential of type ""Hashicorp Vault Secret Lookup"" should be allowed to run the test. ##### ACTUAL RESULTS Non-sysadmin users are not allowed to test ""HashiCorp Vault Secret Lookup"" Credentials.",source-file | source-file,"HashiCorp Vault Secret Lookup: Test requires Sysadmin permissions ##### ISSUE TYPE - Bug Report ##### SUMMARY The ""HashiCorp Vault Secret Lookup"" and ""Hashicorp Vault Signed SSH"" Credential Types provide both a test option which check if the parameters are working. In both cases the running the test case requires sysadmin permissions. ##### ENVIRONMENT * AWX version: 7.0.0 * AWX install method: docker on linux * Ansible version: 2.7.11 * Operating System: Debian 9 * Web Browser: Firefox 69 ##### STEPS TO REPRODUCE Login to AWX as non-sysadmin user. In the AWX Webinterface go to ""Credentials"" and create a new Credential of Type ""HashiCorp Vault Secret Lookup"". Fill in ""Server Url"", ""token"" and if necessary CA Certificate. Then open the ""Test external credential"" form by clicking the ""Test"" Buttion. Fill in ""path to secret"" and ""key name"" then click ""run"". The Test will fail. If you run the same steps as sysadmin user, then the test will succeed. ##### EXPECTED RESULTS A user which is allowed to create a credential of type ""Hashicorp Vault Secret Lookup"" should be allowed to run the test. ##### ACTUAL RESULTS Non-sysadmin users are not allowed to test ""HashiCorp Vault Secret Lookup"" Credentials. source-file source-file",no-bug,0.8
4570,awx,https://github.com/ansible/awx/issues/4570,CLI: awx credential create difficulties,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Two issues, could be convinced these are not bugs but would like to have discussion about it. 1) Not clear what to pass for `credential_type`. Now that I've been working with the CLI more I knew I needed to probably provide a credential type id, but reptile brain still wanted to put `--credential_type ssh`. Would like to have it described as `CREDENTIAL_TYPE_ID` ![image](https://user-images.githubusercontent.com/29239279/63542163-b6856700-c4ed-11e9-93d9-b6eccc1f5268.png) This is along the lines of other items that need a project id, but the help says PROJECT, etc. Would prefer that `PROJECT_ID` is specified, etc etc. 2) Credentials require a user XOR organization XOR team, and again, these should be USER_ID, ORGANIZATION_ID, TEAM_ID. Because it is one of these three, the help text is not showing you that you must have one of the three. The API does tell you though when you try. (also affected by https://github.com/ansible/awx/issues/4565 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ``` awx credentials create --help usage: awx credentials create [-h] --name TEXT [--description TEXT] [--organization ORGANIZATION] --credential_type CREDENTIAL_TYPE [--inputs INPUTS] [--user USER] [--team TEAM] required arguments: --credential_type CREDENTIAL_TYPE [REQUIRED] Specify the type of credential you want to create. Refer to the Ansible Tower documentation for details on each type. optional arguments: -h, --help show this help message and exit --description TEXT Optional description of this credential. --organization ORGANIZATION Inherit permissions from organization roles. If provided on creation, do not give either user or team. --inputs INPUTS Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. --user USER Write-only field used to add user to owner role. If provided, do not give either team or organization. Only valid for creation. --team TEAM Write-only field used to add team to owner role. If provided, do not give either user or organization. Only valid for creation. required arguments: --name TEXT [REQUIRED] Name of this credential. awx credentials create: the following arguments are required: --name, --credential_type ``` #### EXPECTED RESULTS: 1) Tell me I need ID's for related objects 2) Tell me I need one of `CHOICES: [user, team, organization]`",config-file,"CLI: awx credential create difficulties ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> Two issues, could be convinced these are not bugs but would like to have discussion about it. 1) Not clear what to pass for `credential_type`. Now that I've been working with the CLI more I knew I needed to probably provide a credential type id, but reptile brain still wanted to put `--credential_type ssh`. Would like to have it described as `CREDENTIAL_TYPE_ID` ![image](https://user-images.githubusercontent.com/29239279/63542163-b6856700-c4ed-11e9-93d9-b6eccc1f5268.png) This is along the lines of other items that need a project id, but the help says PROJECT, etc. Would prefer that `PROJECT_ID` is specified, etc etc. 2) Credentials require a user XOR organization XOR team, and again, these should be USER_ID, ORGANIZATION_ID, TEAM_ID. Because it is one of these three, the help text is not showing you that you must have one of the three. The API does tell you though when you try. (also affected by https://github.com/ansible/awx/issues/4565 ##### STEPS TO REPRODUCE <!-- Please describe exactly how to reproduce the problem. --> ``` awx credentials create --help usage: awx credentials create [-h] --name TEXT [--description TEXT] [--organization ORGANIZATION] --credential_type CREDENTIAL_TYPE [--inputs INPUTS] [--user USER] [--team TEAM] required arguments: --credential_type CREDENTIAL_TYPE [REQUIRED] Specify the type of credential you want to create. Refer to the Ansible Tower documentation for details on each type. optional arguments: -h, --help show this help message and exit --description TEXT Optional description of this credential. --organization ORGANIZATION Inherit permissions from organization roles. If provided on creation, do not give either user or team. --inputs INPUTS Enter inputs using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax. --user USER Write-only field used to add user to owner role. If provided, do not give either team or organization. Only valid for creation. --team TEAM Write-only field used to add team to owner role. If provided, do not give either user or organization. Only valid for creation. required arguments: --name TEXT [REQUIRED] Name of this credential. awx credentials create: the following arguments are required: --name, --credential_type ``` #### EXPECTED RESULTS: 1) Tell me I need ID's for related objects 2) Tell me I need one of `CHOICES: [user, team, organization]` config-file",no-bug,0.8
6196,awx,https://github.com/ansible/awx/issues/6196,Workflow Job Template Node verbosity option list has an invalid option,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: * Operating System: Ubuntu 18.04 * Web Browser: Firefox Nightly ##### STEPS TO REPRODUCE Navigate to `/api/v2/workflow_job_template_nodes/` and click the `OPTIONS` button. Then search for `verbosity`, the 3rd match is: ``` ""verbosity"": { ""type"": ""choice"", ""label"": ""Verbosity"", ""filterable"": false, ""choices"": [ [ """", ""---------"" ], [ 0, ""0 (Normal)"" ], [ 1, ""1 (Verbose)"" ], [ 2, ""2 (More Verbose)"" ], [ 3, ""3 (Debug)"" ], [ 4, ""4 (Connection Debug)"" ], [ 5, ""5 (WinRM Debug)"" ] ] }, ``` ##### EXPECTED RESULTS The first choice is invalid and shouldnt be there ##### ACTUAL RESULTS See above",source-file | test-file | test-file,"Workflow Job Template Node verbosity option list has an invalid option ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: 9.2.0 * AWX install method: docker on linux * Ansible version: * Operating System: Ubuntu 18.04 * Web Browser: Firefox Nightly ##### STEPS TO REPRODUCE Navigate to `/api/v2/workflow_job_template_nodes/` and click the `OPTIONS` button. Then search for `verbosity`, the 3rd match is: ``` ""verbosity"": { ""type"": ""choice"", ""label"": ""Verbosity"", ""filterable"": false, ""choices"": [ [ """", ""---------"" ], [ 0, ""0 (Normal)"" ], [ 1, ""1 (Verbose)"" ], [ 2, ""2 (More Verbose)"" ], [ 3, ""3 (Debug)"" ], [ 4, ""4 (Connection Debug)"" ], [ 5, ""5 (WinRM Debug)"" ] ] }, ``` ##### EXPECTED RESULTS The first choice is invalid and shouldnt be there ##### ACTUAL RESULTS See above source-file test-file test-file",no-bug,0.8
6930,awx,https://github.com/ansible/awx/issues/6930,Vendor collections to make isolated jobs work in Ansible 2.10,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Isolated jobs are made possible by a few [internal playbooks](https://github.com/ansible/awx/tree/devel/awx/playbooks) used to start, check, heartbeat, and cleanup. This is also true for container groups. In Ansible 2.10 those playbooks will no longer work because content used by them has been moved out of ansible-base. We recently began to vendor inventory plugins in https://github.com/ansible/awx/pull/6283, the same pattern can be used for isolated playbooks. As far as I know, this will require: - `community.kubernetes` for `kubectl` connection plugin - `ansible.posix.synchronize` for `synchronize` module So we need to put those in a folder at build time, and then change the isolated logic to set the collections path for their location.",source-file | source-file | source-file | source-file | config-file | config-file | source-file | source-file | other-file | documentation-file | source-file | container-file | other-file | config-file | documentation-file | container-file,"Vendor collections to make isolated jobs work in Ansible 2.10 ##### ISSUE TYPE - Feature Idea ##### SUMMARY Isolated jobs are made possible by a few [internal playbooks](https://github.com/ansible/awx/tree/devel/awx/playbooks) used to start, check, heartbeat, and cleanup. This is also true for container groups. In Ansible 2.10 those playbooks will no longer work because content used by them has been moved out of ansible-base. We recently began to vendor inventory plugins in https://github.com/ansible/awx/pull/6283, the same pattern can be used for isolated playbooks. As far as I know, this will require: - `community.kubernetes` for `kubectl` connection plugin - `ansible.posix.synchronize` for `synchronize` module So we need to put those in a folder at build time, and then change the isolated logic to set the collections path for their location. source-file source-file source-file source-file config-file config-file source-file source-file other-file documentation-file source-file container-file other-file config-file documentation-file container-file",no-bug,0.9
9511,awx,https://github.com/ansible/awx/issues/9511,[ui_next] Add testability to host page attributes,##### ISSUE TYPE - Feature Idea ##### SUMMARY The host list page need testability added in the form of IDs on at least the Add and Delete buttons,other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,[ui_next] Add testability to host page attributes ##### ISSUE TYPE - Feature Idea ##### SUMMARY The host list page need testability added in the form of IDs on at least the Add and Delete buttons other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file,no-bug,0.9
13446,awx,https://github.com/ansible/awx/issues/13446,awx.awx.schedule_rruleset error,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Hello, I tried to use awx.awx.schedule_rruleset module but i have an error: ``` File ""/runner/requirements_collections/ansible_collections/awx/awx/plugins/lookup/schedule_rruleset.py"", line 268, in run if frequency not in self.frequencies: AttributeError: 'LookupModule' object has no attribute 'frequencies' ``` My task: ``` - name: Build a complex schedule for every day except sunday using the rruleset plugin awx.awx.schedule: name: ""Template job"" state: present unified_job_template: ""Demo Job Template"" rrule: ""{{ query('awx.awx.schedule_rruleset', '2023-04-30 10:30:45', rules=rrules, timezone='UTC' ) }}"" vars: rrules: - frequency: 'day' interval: 1 ``` AWX version: 21.10.2 ### AWX version 21.10.2 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [X] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version quay.io/ansible/ansible-runner:stable-2.12-latest ### Operating system _No response_ ### Web browser Firefox, Chrome ### Steps to reproduce Create playbook: ``` --- - name: Configure AWX bankess settings hosts: localhost run_once: true become: false gather_facts: false vars: ansible_connection: local controller_host: ""http://CONTROLLER_IP"" awx_username: admin awx_password: ""adminawxpassword"" ansible_connection: local environment: TOWER_USERNAME: ""{{ awx_username | mandatory }}"" TOWER_PASSWORD: ""{{ awx_password | mandatory }}"" TOWER_HOST: ""{{ controller_host | mandatory }}"" TOWER_VERIFY_SSL: ""false"" tasks: - name: install dateutil ansible.builtin.pip: name: python-dateutil - name: Build a complex schedule for every day except sunday using the rruleset plugin awx.awx.schedule: name: ""Template job"" state: present unified_job_template: ""Demo Job Template"" rrule: ""{{ query('awx.awx.schedule_rruleset', '2023-04-30 10:30:45', rules=rrules, timezone='UTC' ) }}"" vars: rrules: - frequency: 'day' interval: 1 ``` ### Expected results Schedule created without error in ansible ### Actual results ``` exception during Jinja2 execution: Traceback (most recent call last): File ""/usr/local/lib/python3.8/site-packages/ansible/template/__init__.py"", line 1032, in _lookup ran = instance.run(loop_terms, variables=self._available_variables, **kwargs) File ""/runner/requirements_collections/ansible_collections/awx/awx/plugins/lookup/schedule_rruleset.py"", line 268, in run if frequency not in self.frequencies: AttributeError: 'LookupModule' object has no attribute 'frequencies' fatal: [localhost]: FAILED! => { ""msg"": ""An unhandled exception occurred while running the lookup plugin 'awx.awx.schedule_rruleset'. Error was a <class 'AttributeError'>, original message: 'LookupModule' object has no attribute 'frequencies'. 'LookupModule' object has no attribute 'frequencies'"" } ``` ### Additional information Use collection: ``` --- collections: - name: awx.awx version: 21.10.2 ``` The AWX job execution env use the docker image: `quay.io/ansible/ansible-runner:stable-2.12-latest`",source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"awx.awx.schedule_rruleset error ### Please confirm the following - [X] I agree to follow this project's [code of conduct](https://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I might not receive a timely response. ### Bug Summary Hello, I tried to use awx.awx.schedule_rruleset module but i have an error: ``` File ""/runner/requirements_collections/ansible_collections/awx/awx/plugins/lookup/schedule_rruleset.py"", line 268, in run if frequency not in self.frequencies: AttributeError: 'LookupModule' object has no attribute 'frequencies' ``` My task: ``` - name: Build a complex schedule for every day except sunday using the rruleset plugin awx.awx.schedule: name: ""Template job"" state: present unified_job_template: ""Demo Job Template"" rrule: ""{{ query('awx.awx.schedule_rruleset', '2023-04-30 10:30:45', rules=rrules, timezone='UTC' ) }}"" vars: rrules: - frequency: 'day' interval: 1 ``` AWX version: 21.10.2 ### AWX version 21.10.2 ### Select the relevant components - [ ] UI - [ ] API - [ ] Docs - [X] Collection - [ ] CLI - [ ] Other ### Installation method kubernetes ### Modifications no ### Ansible version quay.io/ansible/ansible-runner:stable-2.12-latest ### Operating system _No response_ ### Web browser Firefox, Chrome ### Steps to reproduce Create playbook: ``` --- - name: Configure AWX bankess settings hosts: localhost run_once: true become: false gather_facts: false vars: ansible_connection: local controller_host: ""http://CONTROLLER_IP"" awx_username: admin awx_password: ""adminawxpassword"" ansible_connection: local environment: TOWER_USERNAME: ""{{ awx_username | mandatory }}"" TOWER_PASSWORD: ""{{ awx_password | mandatory }}"" TOWER_HOST: ""{{ controller_host | mandatory }}"" TOWER_VERIFY_SSL: ""false"" tasks: - name: install dateutil ansible.builtin.pip: name: python-dateutil - name: Build a complex schedule for every day except sunday using the rruleset plugin awx.awx.schedule: name: ""Template job"" state: present unified_job_template: ""Demo Job Template"" rrule: ""{{ query('awx.awx.schedule_rruleset', '2023-04-30 10:30:45', rules=rrules, timezone='UTC' ) }}"" vars: rrules: - frequency: 'day' interval: 1 ``` ### Expected results Schedule created without error in ansible ### Actual results ``` exception during Jinja2 execution: Traceback (most recent call last): File ""/usr/local/lib/python3.8/site-packages/ansible/template/__init__.py"", line 1032, in _lookup ran = instance.run(loop_terms, variables=self._available_variables, **kwargs) File ""/runner/requirements_collections/ansible_collections/awx/awx/plugins/lookup/schedule_rruleset.py"", line 268, in run if frequency not in self.frequencies: AttributeError: 'LookupModule' object has no attribute 'frequencies' fatal: [localhost]: FAILED! => { ""msg"": ""An unhandled exception occurred while running the lookup plugin 'awx.awx.schedule_rruleset'. Error was a <class 'AttributeError'>, original message: 'LookupModule' object has no attribute 'frequencies'. 'LookupModule' object has no attribute 'frequencies'"" } ``` ### Additional information Use collection: ``` --- collections: - name: awx.awx version: 21.10.2 ``` The AWX job execution env use the docker image: `quay.io/ansible/ansible-runner:stable-2.12-latest` source-file source-file source-file source-file test-file test-file test-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.9
6177,awx,https://github.com/ansible/awx/issues/6177,Ansible Tower to support Windows Edge Browser,- Feature Idea Support for Ansbile Tower with Windows Edge Browser. ##### SUMMARY Several of our customers are using Windows Edge Browser and want support of Ansbile Tower with Windows Edge Browser. This feature request is for supporting Windows edge browser with Ansible Tower.,source-file,Ansible Tower to support Windows Edge Browser - Feature Idea Support for Ansbile Tower with Windows Edge Browser. ##### SUMMARY Several of our customers are using Windows Edge Browser and want support of Ansbile Tower with Windows Edge Browser. This feature request is for supporting Windows edge browser with Ansible Tower. source-file,no-bug,0.9
5112,awx,https://github.com/ansible/awx/issues/5112,Project source in WFJT launch using custom scm_branch not working,"##### ISSUE TYPE - Bug Report ##### SUMMARY When launching a workflow with `ask_scm_branch_on_launch` checked the AWX GUI asks for the SCM branch to use. In the job nodes the given branch name seems to be ignored. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.7.10 * Operating System: macOS * Web Browser: Chrome ##### STEPS TO REPRODUCE **Prepare a workflow job** * Create a project for a given git repository * Define a workflow job template named `scm_test` * Check the box ""Prompt on launch"" above the ""SCM branch"" input field * Click ""Save"" to open Workflow Visualizer * Add a Node ""Project Sync"" * Choose your project and click ""Select"" * Leave the Visualizer by clicking ""Save"" * Save the workflow job template **Launch the workflow job** * Click on launch and enter the branch of your choice * When starting workflow job you'll see the correct value for `scm_branch` listed in job overview * When clicking in job node ""Project sync"", `scm_branch` is set to `master` ##### EXPECTED RESULTS Project sync checks out the given branch from user's input. ##### ACTUAL RESULTS Instead, master branch is checked out by default",source-file,"Project source in WFJT launch using custom scm_branch not working ##### ISSUE TYPE - Bug Report ##### SUMMARY When launching a workflow with `ask_scm_branch_on_launch` checked the AWX GUI asks for the SCM branch to use. In the job nodes the given branch name seems to be ignored. ##### ENVIRONMENT * AWX version: 8.0.0 * AWX install method: docker on linux * Ansible version: 2.7.10 * Operating System: macOS * Web Browser: Chrome ##### STEPS TO REPRODUCE **Prepare a workflow job** * Create a project for a given git repository * Define a workflow job template named `scm_test` * Check the box ""Prompt on launch"" above the ""SCM branch"" input field * Click ""Save"" to open Workflow Visualizer * Add a Node ""Project Sync"" * Choose your project and click ""Select"" * Leave the Visualizer by clicking ""Save"" * Save the workflow job template **Launch the workflow job** * Click on launch and enter the branch of your choice * When starting workflow job you'll see the correct value for `scm_branch` listed in job overview * When clicking in job node ""Project sync"", `scm_branch` is set to `master` ##### EXPECTED RESULTS Project sync checks out the given branch from user's input. ##### ACTUAL RESULTS Instead, master branch is checked out by default source-file",no-bug,0.8
9399,awx,https://github.com/ansible/awx/issues/9399,ad-hoc commands don't show what they'll run on before hitting 'launch',"##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Go to an inventory 2. Click 'Groups' 3. Click 'Run command' 4. Start filling out wizard 5. Go to credential page You now have a 'Launch' button that only shows you what credential you've selected, not: - the command and args - the inventory - any limit This probably needs a review/preview step. ##### ENVIRONMENT * AWX version: devel",test-file | source-file | test-file | source-file | source-file | other-file | other-file | other-file | other-file | source-file | other-file,"ad-hoc commands don't show what they'll run on before hitting 'launch' ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Go to an inventory 2. Click 'Groups' 3. Click 'Run command' 4. Start filling out wizard 5. Go to credential page You now have a 'Launch' button that only shows you what credential you've selected, not: - the command and args - the inventory - any limit This probably needs a review/preview step. ##### ENVIRONMENT * AWX version: devel test-file source-file test-file source-file source-file other-file other-file other-file other-file source-file other-file",no-bug,0.9
9559,awx,https://github.com/ansible/awx/issues/9559,Projects Unable to Sync Properly,"##### ISSUE TYPE - Bug Report ##### SUMMARY When attempting to sync/update a Project, the following error is output in the logs: ``` awx_1_1 | 2021-03-11 14:17:18,927 ERROR [b3409386] awx.main.dispatch Worker failed to run task awx.main.tasks.RunProjectUpdate(*[10], **{} awx_1_1 | Traceback (most recent call last): awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 235, in _cursor awx_1_1 | return self._prepare_cursor(self.create_cursor(name)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 223, in create_cursor awx_1_1 | cursor = self.connection.cursor() awx_1_1 | psycopg2.InterfaceError: connection already closed awx_1_1 | awx_1_1 | The above exception was the direct cause of the following exception: awx_1_1 | awx_1_1 | Traceback (most recent call last): awx_1_1 | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 90, in perform_work awx_1_1 | result = self.run_callable(body) awx_1_1 | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 66, in run_callable awx_1_1 | return _call(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/tasks.py"", line 824, in _wrapped awx_1_1 | return f(self, *args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/tasks.py"", line 1340, in run awx_1_1 | start_args='') # blank field to remove encrypted passwords awx_1_1 | File ""/awx_devel/awx/main/tasks.py"", line 868, in update_model awx_1_1 | instance.save(update_fields=update_fields) awx_1_1 | File ""/awx_devel/awx/main/models/projects.py"", line 655, in save awx_1_1 | return super(ProjectUpdate, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/unified_jobs.py"", line 890, in save awx_1_1 | self._update_parent_instance() awx_1_1 | File ""/awx_devel/awx/main/models/projects.py"", line 544, in _update_parent_instance awx_1_1 | return super(ProjectUpdate, self)._update_parent_instance() awx_1_1 | File ""/awx_devel/awx/main/models/unified_jobs.py"", line 813, in _update_parent_instance awx_1_1 | parent_instance.save(update_fields=update_fields) awx_1_1 | File ""/awx_devel/awx/main/models/projects.py"", line 371, in save awx_1_1 | super(Project, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/unified_jobs.py"", line 286, in save awx_1_1 | super(UnifiedJobTemplate, self).save(*args, **kwargs) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/polymorphic/models.py"", line 93, in save awx_1_1 | return super(PolymorphicModel, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/base.py"", line 320, in save awx_1_1 | super(PrimordialModel, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/base.py"", line 165, in save awx_1_1 | super(CreatedModifiedModel, self).save(*args, **kwargs) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/base.py"", line 744, in save awx_1_1 | force_update=force_update, update_fields=update_fields) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/base.py"", line 769, in save_base awx_1_1 | update_fields=update_fields, awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/dispatch/dispatcher.py"", line 175, in send awx_1_1 | for receiver in self._live_receivers(sender) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/dispatch/dispatcher.py"", line 175, in <listcomp> awx_1_1 | for receiver in self._live_receivers(sender) awx_1_1 | File ""/awx_devel/awx/main/signals.py"", line 449, in activity_stream_update awx_1_1 | old = sender.objects.get(id=instance.id) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method awx_1_1 | return getattr(self.get_queryset(), name)(*args, **kwargs) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 402, in get awx_1_1 | num = len(clone) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 256, in __len__ awx_1_1 | self._fetch_all() awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all awx_1_1 | self._result_cache = list(self._iterable_class(self)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/polymorphic/query.py"", line 60, in _polymorphic_iterator awx_1_1 | o = next(base_iter) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ awx_1_1 | results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1140, in execute_sql awx_1_1 | cursor = self.connection.cursor() awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor awx_1_1 | return self._cursor() awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 235, in _cursor awx_1_1 | return self._prepare_cursor(self.create_cursor(name)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ awx_1_1 | raise dj_exc_value.with_traceback(traceback) from exc_value awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 235, in _cursor awx_1_1 | return self._prepare_cursor(self.create_cursor(name)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 223, in create_cursor awx_1_1 | cursor = self.connection.cursor() awx_1_1 | django.db.utils.InterfaceError: connection already closed awx_1_1 | 2021-03-11 14:18:29,060 ERROR [1dbc5f38] awx.main.dispatch project_update 10 (failed) is no longer running; reaping ``` When I remove the changes that were made in [this PR](https://github.com/ansible/awx/pull/8580), Projects return to being able to get synced with no errors. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Operating System: Fedora * Web Browser: Chrome",source-file | source-file | source-file | source-file | other-file,"Projects Unable to Sync Properly ##### ISSUE TYPE - Bug Report ##### SUMMARY When attempting to sync/update a Project, the following error is output in the logs: ``` awx_1_1 | 2021-03-11 14:17:18,927 ERROR [b3409386] awx.main.dispatch Worker failed to run task awx.main.tasks.RunProjectUpdate(*[10], **{} awx_1_1 | Traceback (most recent call last): awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 235, in _cursor awx_1_1 | return self._prepare_cursor(self.create_cursor(name)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 223, in create_cursor awx_1_1 | cursor = self.connection.cursor() awx_1_1 | psycopg2.InterfaceError: connection already closed awx_1_1 | awx_1_1 | The above exception was the direct cause of the following exception: awx_1_1 | awx_1_1 | Traceback (most recent call last): awx_1_1 | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 90, in perform_work awx_1_1 | result = self.run_callable(body) awx_1_1 | File ""/awx_devel/awx/main/dispatch/worker/task.py"", line 66, in run_callable awx_1_1 | return _call(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/tasks.py"", line 824, in _wrapped awx_1_1 | return f(self, *args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/tasks.py"", line 1340, in run awx_1_1 | start_args='') # blank field to remove encrypted passwords awx_1_1 | File ""/awx_devel/awx/main/tasks.py"", line 868, in update_model awx_1_1 | instance.save(update_fields=update_fields) awx_1_1 | File ""/awx_devel/awx/main/models/projects.py"", line 655, in save awx_1_1 | return super(ProjectUpdate, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/unified_jobs.py"", line 890, in save awx_1_1 | self._update_parent_instance() awx_1_1 | File ""/awx_devel/awx/main/models/projects.py"", line 544, in _update_parent_instance awx_1_1 | return super(ProjectUpdate, self)._update_parent_instance() awx_1_1 | File ""/awx_devel/awx/main/models/unified_jobs.py"", line 813, in _update_parent_instance awx_1_1 | parent_instance.save(update_fields=update_fields) awx_1_1 | File ""/awx_devel/awx/main/models/projects.py"", line 371, in save awx_1_1 | super(Project, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/unified_jobs.py"", line 286, in save awx_1_1 | super(UnifiedJobTemplate, self).save(*args, **kwargs) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/polymorphic/models.py"", line 93, in save awx_1_1 | return super(PolymorphicModel, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/base.py"", line 320, in save awx_1_1 | super(PrimordialModel, self).save(*args, **kwargs) awx_1_1 | File ""/awx_devel/awx/main/models/base.py"", line 165, in save awx_1_1 | super(CreatedModifiedModel, self).save(*args, **kwargs) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/base.py"", line 744, in save awx_1_1 | force_update=force_update, update_fields=update_fields) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/base.py"", line 769, in save_base awx_1_1 | update_fields=update_fields, awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/dispatch/dispatcher.py"", line 175, in send awx_1_1 | for receiver in self._live_receivers(sender) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/dispatch/dispatcher.py"", line 175, in <listcomp> awx_1_1 | for receiver in self._live_receivers(sender) awx_1_1 | File ""/awx_devel/awx/main/signals.py"", line 449, in activity_stream_update awx_1_1 | old = sender.objects.get(id=instance.id) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/manager.py"", line 82, in manager_method awx_1_1 | return getattr(self.get_queryset(), name)(*args, **kwargs) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 402, in get awx_1_1 | num = len(clone) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 256, in __len__ awx_1_1 | self._fetch_all() awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 1242, in _fetch_all awx_1_1 | self._result_cache = list(self._iterable_class(self)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/polymorphic/query.py"", line 60, in _polymorphic_iterator awx_1_1 | o = next(base_iter) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/query.py"", line 55, in __iter__ awx_1_1 | results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/models/sql/compiler.py"", line 1140, in execute_sql awx_1_1 | cursor = self.connection.cursor() awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 256, in cursor awx_1_1 | return self._cursor() awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 235, in _cursor awx_1_1 | return self._prepare_cursor(self.create_cursor(name)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/utils.py"", line 89, in __exit__ awx_1_1 | raise dj_exc_value.with_traceback(traceback) from exc_value awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/base/base.py"", line 235, in _cursor awx_1_1 | return self._prepare_cursor(self.create_cursor(name)) awx_1_1 | File ""/var/lib/awx/venv/awx/lib/python3.6/site-packages/django/db/backends/postgresql/base.py"", line 223, in create_cursor awx_1_1 | cursor = self.connection.cursor() awx_1_1 | django.db.utils.InterfaceError: connection already closed awx_1_1 | 2021-03-11 14:18:29,060 ERROR [1dbc5f38] awx.main.dispatch project_update 10 (failed) is no longer running; reaping ``` When I remove the changes that were made in [this PR](https://github.com/ansible/awx/pull/8580), Projects return to being able to get synced with no errors. ##### ENVIRONMENT * AWX version: 17.0.1 * AWX install method: docker on linux * Operating System: Fedora * Web Browser: Chrome source-file source-file source-file source-file other-file",no-bug,0.8
11256,awx,https://github.com/ansible/awx/issues/11256,GUI bug: add an existing host to the group is not shown properly,"##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to add an existing host to the group, the GUI don't show the host itself. Its there, but the hostname is not visible. ![Screenshot 2021-10-18 at 11 40 56](https://user-images.githubusercontent.com/13556249/137708892-356e55be-7df7-47d5-8bdc-c59ecbc8159c.png) When click on the check box, you can see its selected and the hostname appears as selected and visible. ![Screenshot 2021-10-18 at 11 41 13](https://user-images.githubusercontent.com/13556249/137708987-e354a1e8-8e41-4a3b-95c0-9e15b2b974f8.png) ##### ENVIRONMENT * AWX version: 19.4.0 * Operator version: 0.14.0 * Kubernetes version: 1.20.7 * AWX install method: regular k8s cluster ##### STEPS TO REPRODUCE create a group or use an existing one, try to add an existing host to the group. ##### EXPECTED RESULTS hostname/s should be visible ##### ACTUAL RESULTS the hostname near the checkbox is not visible",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,"GUI bug: add an existing host to the group is not shown properly ##### ISSUE TYPE - Bug Report ##### SUMMARY When trying to add an existing host to the group, the GUI don't show the host itself. Its there, but the hostname is not visible. ![Screenshot 2021-10-18 at 11 40 56](https://user-images.githubusercontent.com/13556249/137708892-356e55be-7df7-47d5-8bdc-c59ecbc8159c.png) When click on the check box, you can see its selected and the hostname appears as selected and visible. ![Screenshot 2021-10-18 at 11 41 13](https://user-images.githubusercontent.com/13556249/137708987-e354a1e8-8e41-4a3b-95c0-9e15b2b974f8.png) ##### ENVIRONMENT * AWX version: 19.4.0 * Operator version: 0.14.0 * Kubernetes version: 1.20.7 * AWX install method: regular k8s cluster ##### STEPS TO REPRODUCE create a group or use an existing one, try to add an existing host to the group. ##### EXPECTED RESULTS hostname/s should be visible ##### ACTUAL RESULTS the hostname near the checkbox is not visible source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file",no-bug,0.9
11012,awx,https://github.com/ansible/awx/issues/11012,Login redirect not working,"### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When on v2.0EA, the Login redirect override URL is set, the /#/login page can't be reached anymore. Even when a direct URL in put in the browser like https:///#/login, the page redirects to the SAML login page as defined in the redirect override. This is issue always happens when the Login redirect override URL is set. Users are unable to login to AAP as a non-social user like the admin user. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce When on v2.0EA, the Login redirect override URL is set, the /#/login page can't be reached anymore. Even when a direct URL in put in the browser like https:///#/login, the page redirects to the SAML login page as defined in the redirect override. This issue always happens when the Login redirect override URL is set. ### Expected results Users are able to login to AAP as a non-social user like the admin user. ### Actual results Users are unable to login to AAP as a non-social user like the admin user. ### Additional information _No response_",source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file,"Login redirect not working ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary When on v2.0EA, the Login redirect override URL is set, the /#/login page can't be reached anymore. Even when a direct URL in put in the browser like https:///#/login, the page redirects to the SAML login page as defined in the redirect override. This is issue always happens when the Login redirect override URL is set. Users are unable to login to AAP as a non-social user like the admin user. ### AWX version devel ### Installation method docker for mac ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce When on v2.0EA, the Login redirect override URL is set, the /#/login page can't be reached anymore. Even when a direct URL in put in the browser like https:///#/login, the page redirects to the SAML login page as defined in the redirect override. This issue always happens when the Login redirect override URL is set. ### Expected results Users are able to login to AAP as a non-social user like the admin user. ### Actual results Users are unable to login to AAP as a non-social user like the admin user. ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file source-file test-file source-file source-file",no-bug,0.8
5954,awx,https://github.com/ansible/awx/issues/5954,Build AWX from source,"##### ISSUE TYPE - Bug Report ##### SUMMARY Try to build a new awx image with custom UI ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker on linux * Ansible version: ansible 2.9.4 * Operating System: Centos 7 * Web Browser: ##### STEPS TO REPRODUCE remove dockerhub_base=ansible from inventory `ansible-playbook -i inventory install.yml` ##### EXPECTED RESULTS working awx ##### ACTUAL RESULTS ``` TASK [image_build : Build base web image] ********************************************************************************************************************************************** fatal: [localhost -> localhost]: FAILED! => {""changed"": false, ""msg"": ""Error building awx_web - code: 2, message: The command '/bin/sh -c cd /tmp && VENV_BASE=\""/var/lib/awx/venv\"" make requirements_awx requirements_ansible_py3' returned a non-zero code: 2, logs: ['Step 1/46 : FROM centos:8', '\\n', ' ---> 470671670cac\\n', 'Step 2/46 : USER root', '\\n', ' ---> Using cache\\n', ' ---> 88f349f8a968\\n', \""Step 3/46 : RUN dnf -y update && dnf -y install epel-release 'dnf-command(config-manager)' && dnf module -y enable 'postgresql:10' && dnf config-manager --set-enabled PowerTools && dnf -y install acl ansible bubblewrap curl gcc gcc-c++ git-core glibc-langpack-en krb5-workstation libcurl-devel libffi-devel libstdc++.so.6 libtool-ltdl-devel libcgroup-tools make mercurial nginx nodejs nss openldap-devel openssh-server patch @postgresql:10 postgresql-devel python3-devel python3-libselinux python3-pip python3-psycopg2 python3-setuptools rsync subversion sudo swig tmux unzip vim-minimal xmlsec1 xmlsec1-devel xmlsec1-openssl xmlsec1-openssl-devel dnf-utils\"", '\\n', ' ---> Using cache\\n', ' ---> 8415d8b83c17\\n', 'Step 4/46 : ADD https://github.com/krallin/tini/releases/download/v0.14.0/tini /tini', '\\n', '\\n', ' ---> Using cache\\n', ' ---> 4ca1fdbeae75\\n', 'Step 5/46 : RUN chmod +x /tini', '\\n', ' ---> Using cache\\n', ' ---> 5827446b1bcb\\n', 'Step 6/46 : RUN python3 -m ensurepip && pip3 install virtualenv', '\\n', ' ---> Using cache\\n', ' ---> d6ff5fbaa4bb\\n', 'Step 7/46 : RUN pip3 install supervisor', '\\n', ' ---> Using cache\\n', ' ---> 99159fd5e84a\\n', 'Step 8/46 : ADD Makefile /tmp/Makefile', '\\n', ' ---> Using cache\\n', ' ---> 56231c0c198f\\n', 'Step 9/46 : RUN mkdir /tmp/requirements', '\\n', ' ---> Using cache\\n', ' ---> 8d1e3bc0f70a\\n', 'Step 10/46 : ADD requirements/requirements_ansible.txt requirements/requirements_ansible_uninstall.txt requirements/requirements_ansible_git.txt requirements/requirements.txt requirements/requirements_tower_uninstall.txt requirements/requirements_git.txt /tmp/requirements/', '\\n', ' ---> Using cache\\n', ' ---> 0542cc854d98\\n', 'Step 11/46 : RUN cd /tmp && VENV_BASE=\""/var/lib/awx/venv\"" make requirements_awx requirements_ansible_py3', '\\n', ' ---> Running in c94d5f8ec9fb\\n', '\\x1b[91mcat: VERSION: No such file or directory\\n\\x1b[0m', '\\x1b[91mfatal: not a git repository (or any of the parent directories): .git\\n\\x1b[0m', 'if [ \""/var/lib/awx/venv\"" ]; then \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv\"" ]; then \\\\\\n\\t\\tmkdir /var/lib/awx/venv; \\\\\\n\\tfi; \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv/awx\"" ]; then \\\\\\n\\t\\tvirtualenv -p python3 /var/lib/awx/venv/awx; \\\\\\n\\t\\t/var/lib/awx/venv/awx/bin/pip install pip==19.3.1 setuptools==41.6.0 && \\\\\\n\\t\\t/var/lib/awx/venv/awx/bin/pip install flit; \\\\\\n\\tfi; \\\\\\nfi\\n', \""\\x1b[91mmkdir: cannot create directory '/var/lib/awx/venv': No such file or directory\\n\\x1b[0m\"", 'created virtual environment in 458ms CPython3Posix(dest=/var/lib/awx/venv/awx, clear=False, global=False) with seeder FromAppData pip=latest setuptools=latest wheel=latest app_data_dir=/root/.local/share/virtualenv/seed-v1 via=copy\\n', 'Collecting pip==19.3.1\\n', ' Downloading pip-19.3.1-py2.py3-none-any.whl (1.4 MB)\\n', 'Collecting setuptools==41.6.0\\n', ' Downloading setuptools-41.6.0-py2.py3-none-any.whl (582 kB)\\n', 'Installing collected packages: pip, setuptools\\n Attempting uninstall: pip\\n', ' Found existing installation: pip 20.0.2\\n', ' Uninstalling pip-20.0.2:\\n', ' Successfully uninstalled pip-20.0.2\\n', ' Attempting uninstall: setuptools\\n', ' Found existing installation: setuptools 45.2.0\\n', ' Uninstalling setuptools-45.2.0:\\n', ' Successfully uninstalled setuptools-45.2.0\\n', 'Successfully installed pip-19.3.1 setuptools-41.6.0\\n', 'Collecting flit\\n', ' Downloading https://files.pythonhosted.org/packages/80/f6/b10b8541b07caa4b680bdd84744056a401f142e639c9c316adaa88b9fa78/flit-2.2.0-py3-none-any.whl (49kB)\\n', 'Collecting requests\\n', ' Downloading https://files.pythonhosted.org/packages/51/bd/23c926cd341ea6b7dd0b2a00aba99ae0f828be89d72b2190f27c11d4b7fb/requests-2.22.0-py2.py3-none-any.whl (57kB)\\n', 'Collecting flit_core>=2.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/25/4c/0b1ed660937d96ed192c376d3983dd7b052b887c8041ae020c950c0d06f0/flit_core-2.2.0-py2.py3-none-any.whl (40kB)\\n', 'Collecting docutils\\n', ' Downloading https://files.pythonhosted.org/packages/81/44/8a15e45ffa96e6cf82956dd8d7af9e666357e16b0d93b253903475ee947f/docutils-0.16-py2.py3-none-any.whl (548kB)\\n', 'Collecting pytoml\\n', ' Downloading https://files.pythonhosted.org/packages/a5/47/c7f8a0f210ad18576840922e0b504f0b7f5f73aea4a52ab14c5b58517edf/pytoml-0.1.21-py2.py3-none-any.whl\\n', 'Collecting idna<2.9,>=2.5\\n', ' Downloading https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl (58kB)\\n', 'Collecting chardet<3.1.0,>=3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl (133kB)\\n', 'Collecting certifi>=2017.4.17\\n', ' Downloading https://files.pythonhosted.org/packages/b9/63/df50cac98ea0d5b006c55a399c3bf1db9da7b5a24de7890bc9cfd5dd9e99/certifi-2019.11.28-py2.py3-none-any.whl (156kB)\\n', 'Collecting urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1\\n', ' Downloading https://files.pythonhosted.org/packages/e8/74/6e4f91745020f967d09332bb2b8b9b10090957334692eb88ea4afe91b77f/urllib3-1.25.8-py2.py3-none-any.whl (125kB)\\n', 'Installing collected packages: idna, chardet, certifi, urllib3, requests, pytoml, flit-core, docutils, flit\\n', 'Successfully installed certifi-2019.11.28 chardet-3.0.4 docutils-0.16 flit-2.2.0 flit-core-2.2.0 idna-2.8 pytoml-0.1.21 requests-2.22.0 urllib3-1.25.8\\n', \""\\x1b[91mWARNING: You are using pip version 19.3.1; however, version 20.0.2 is available.\\nYou should consider upgrading via the 'pip install --upgrade pip' command.\\n\\x1b[0m\"", 'if [[ \""\"" == *\""--no-index\""* ]]; then \\\\\\n cat requirements/requirements.txt requirements/requirements_local.txt | /var/lib/awx/venv/awx/bin/pip install -r /dev/stdin ; \\\\\\nelse \\\\\\n cat requirements/requirements.txt requirements/requirements_git.txt | /var/lib/awx/venv/awx/bin/pip install --no-binary cffi,pycparser,psycopg2,twilio -r /dev/stdin ; \\\\\\nfi\\n', 'Collecting adal==1.2.2\\n', ' Downloading https://files.pythonhosted.org/packages/4f/b5/3ea9ae3d1096b9ff31e8f1846c47d49f3129a12464ac0a73b602de458298/adal-1.2.2-py2.py3-none-any.whl (53kB)\\n', 'Collecting amqp==2.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/fc/a0/6aa2a7923d4e82dda23db27711d565f0c4abf1570859f168e3d0975f1eb6/amqp-2.5.2-py2.py3-none-any.whl (49kB)\\n', 'Collecting ansible-runner==1.4.4\\n', ' Downloading https://files.pythonhosted.org/packages/ac/e0/e475d8b5c185b64821158075943c1168db5b9fc59a47cd4dab6696e5a1ed/ansible_runner-1.4.4-py2.py3-none-any.whl (57kB)\\n', 'Collecting ansiconv==1.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/1b/2a/71b1b944a4e1d4e3daf614160f6d4aca8fbd4b0ece2ce64f70869d5f7503/ansiconv-1.0.0.zip\\n', 'Collecting asgi-amqp==1.1.4\\n', ' Downloading https://files.pythonhosted.org/packages/5a/7a/c39dbe7bc82f60f7b78edd935f607d404b23571437a62d93ff98da59c3e8/asgi_amqp-1.1.4-py2.py3-none-any.whl\\n', 'Collecting asgiref==1.1.2\\n', ' Downloading https://files.pythonhosted.org/packages/ee/6d/67f79a9567de5ba4419c3e8d39622bed0d974d704075d09df765b5ddb5ce/asgiref-1.1.2-py2.py3-none-any.whl\\n', 'Collecting attrs==19.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/a2/db/4313ab3be961f7a763066401fb77f7748373b6094076ae2bda2806988af6/attrs-19.3.0-py2.py3-none-any.whl\\n', 'Collecting autobahn==19.11.1\\n', ' Downloading https://files.pythonhosted.org/packages/35/77/1bf9b3c4c0850fd6f00996afcf5e71e35295c145833f4e2430d0a7fddbaa/autobahn-19.11.1-py2.py3-none-any.whl (769kB)\\n', 'Collecting automat==0.8.0\\n', ' Downloading https://files.pythonhosted.org/packages/e5/11/756922e977bb296a79ccf38e8d45cafee446733157d59bcd751d3aee57f5/Automat-0.8.0-py2.py3-none-any.whl\\n', 'Collecting azure-common==1.1.23\\n', ' Downloading https://files.pythonhosted.org/packages/00/55/a703923c12cd3172d5c007beda0c1a34342a17a6a72779f8a7c269af0cd6/azure_common-1.1.23-py2.py3-none-any.whl\\n', 'Collecting azure-keyvault==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/80/37/e80f577570b32648c4b88c8c48a46501a4868ae4c8d905774fd02c2b01fc/azure_keyvault-1.1.0-py2.py3-none-any.whl (352kB)\\n', 'Collecting azure-nspkg==3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/c4/0c/c562be95a9a2ed52454f598571cf300b1114d0db2aa27f5b8ed3bb9cd0c0/azure_nspkg-3.0.2-py3-none-any.whl\\n', 'Collecting billiard==3.6.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/9a/bb/2a016ac912fca48e06ff5a662407f3d1681aa47df97fb19feba7cc931ee1/billiard-3.6.1.0-py3-none-any.whl (89kB)\\n', 'Collecting boto==2.49.0\\n', ' Downloading https://files.pythonhosted.org/packages/23/10/c0b78c27298029e4454a472a1919bde20cb182dab1662cec7f2ca1dcc523/boto-2.49.0-py2.py3-none-any.whl (1.4MB)\\n', 'Collecting cachetools==3.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/2f/a6/30b0a0bef12283e83e58c1d6e7b5aabc7acfc4110df81a4471655d33e704/cachetools-3.1.1-py2.py3-none-any.whl\\n', 'Collecting celery==4.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/5c/a1/a3dd9d8bfa09156ec2cba37f90accf35c0f4ecc3980d96cb4fb99e56504b/celery-4.3.0-py2.py3-none-any.whl (413kB)\\n', 'Requirement already satisfied: certifi==2019.11.28 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 17)) (2019.11.28)\\n', 'Collecting cffi==1.13.2\\n', ' Downloading https://files.pythonhosted.org/packages/2d/bf/960e5a422db3ac1a5e612cb35ca436c3fc985ed4b7ed13a1b4879006f450/cffi-1.13.2.tar.gz (460kB)\\n', 'Collecting channels==1.1.8\\n', ' Downloading https://files.pythonhosted.org/packages/7a/a6/5a3420c0b93e127fd5b22eaf4155b8c76eb7c404eeac78f4f0816fab97ce/channels-1.1.8-py2.py3-none-any.whl (57kB)\\n', 'Requirement already satisfied: chardet==3.0.4 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 20)) (3.0.4)\\n', 'Collecting constantly==15.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/b9/65/48c1909d0c0aeae6c10213340ce682db01b48ea900a7d9fce7a7910ff318/constantly-15.1.0-py2.py3-none-any.whl\\n', 'Collecting cryptography==2.8\\n', ' Downloading https://files.pythonhosted.org/packages/ca/9a/7cece52c46546e214e10811b36b2da52ce1ea7fa203203a629b8dfadad53/cryptography-2.8-cp34-abi3-manylinux2010_x86_64.whl (2.3MB)\\n', 'Collecting daphne==1.4.2\\n', ' Downloading https://files.pythonhosted.org/packages/b4/e3/65ba9a2044627826eae52f07a9013f82339bb88917aadf69c702e0e51eea/daphne-1.4.2-py2.py3-none-any.whl\\n', 'Collecting defusedxml==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/06/74/9b387472866358ebc08732de3da6dc48e44b0aacd2ddaa5cb85ab7e986a2/defusedxml-0.6.0-py2.py3-none-any.whl\\n', 'Collecting dictdiffer==0.8.1\\n', ' Downloading https://files.pythonhosted.org/packages/97/92/350b6b6ec39c5f87d98d04c91a50c498518716a05368e6dea88b5c69b590/dictdiffer-0.8.1-py2.py3-none-any.whl\\n', 'Collecting django-auth-ldap==2.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/e0/3f/ed83151177789fd44e6ed2cb569eeea3c4198f4321690ffe969afe61e909/django_auth_ldap-2.1.0-py3-none-any.whl\\n', 'Collecting django-cors-headers==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/21/93/b1efe344f5b7e60ea2aa4e54f76d8b50c93d7db73d69dd95e9e97a696c96/django_cors_headers-3.2.0-py3-none-any.whl\\n', 'Collecting django-crum==0.7.5\\n', ' Downloading https://files.pythonhosted.org/packages/62/17/e435f3fbfbe358bcb5026b4ab72a10699097051f4da01c962605d1556530/django_crum-0.7.5-py2.py3-none-any.whl\\n', 'Collecting django-extensions==2.2.5\\n', ' Downloading https://files.pythonhosted.org/packages/bd/44/d54c3ea6239d1d00700defc272d28cc4551c399bcad99a5282b04e454f1b/django_extensions-2.2.5-py2.py3-none-any.whl (223kB)\\n', 'Collecting django-jsonfield==1.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/5e/30/999f4e2d7b0a18217c7d4d4fb6fa030bb8c8365b00b8ea695701d3e7f5d8/django_jsonfield-1.2.0-py2.py3-none-any.whl\\n', 'Collecting django-oauth-toolkit==1.1.3\\n', ' Downloading https://files.pythonhosted.org/packages/55/00/bc81ec78ecdefeaf0640bada72dad4e1266cd425563c23b5ef0e60a09efe/django_oauth_toolkit-1.1.3-py2.py3-none-any.whl (47kB)\\n', 'Collecting django-pglocks==1.0.3\\n', ' Downloading https://files.pythonhosted.org/packages/5f/1d/07ec0374b4f163dde5c79a4e2f1aa61b664ab121860d23ffa22a83a593c0/django-pglocks-1.0.3.tar.gz\\n', 'Collecting django-polymorphic==2.1.2\\n', ' Downloading https://files.pythonhosted.org/packages/89/97/e091adfd3a18f247d7b34a12b06f626b4ce59c02e112ad80971da85cbc0a/django_polymorphic-2.1.2-py2.py3-none-any.whl (79kB)\\n', 'Collecting django-qsstats-magic==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/b1/ba/4578950dd3033f23a334634ea52329a1b1287c87b9f02943181a546bb2ea/django-qsstats-magic-1.1.0.tar.gz\\n', 'Collecting django-radius==1.3.3\\n', ' Downloading https://files.pythonhosted.org/packages/0c/e8/86eb2d70114221549dcec183aa179b597a1417b2be12519602060a8cb171/django-radius-1.3.3.tar.gz\\n', 'Collecting django-solo==1.1.3\\n', ' Downloading https://files.pythonhosted.org/packages/37/49/19e3b15296f545993ce27f2d2ea6526229d18effb1aeeaf3efaead4fe426/django-solo-1.1.3.tar.gz\\n', 'Collecting django-split-settings==1.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/46/c0/893f6d82e8d1cb5b675e78b7ec59f3b64898555e3e80c52a6502146de2f1/django_split_settings-1.0.0-py3-none-any.whl\\n', 'Collecting django-taggit==1.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/52/08/b7669250b0121ffd9c77c9017249caba8f112d7ff7b3a9fa0c39ca6755c8/django_taggit-1.2.0-py3-none-any.whl (45kB)\\n', 'Collecting django==2.2.8\\n', ' Downloading https://files.pythonhosted.org/packages/d3/d0/ef75c788627f4218a8d08dccdf4ebc91f5b83c48d09ec8f2a3db9610014b/Django-2.2.8-py3-none-any.whl (7.5MB)\\n', 'Collecting djangorestframework-yaml==1.0.3\\n', ' Downloading https://files.pythonhosted.org/packages/aa/85/d09fbe6603c5009f3710c73dbbc5058501f2837f516078e3fbdcf71ff840/djangorestframework_yaml-1.0.3-py2.py3-none-any.whl\\n', 'Collecting djangorestframework==3.11.0\\n', ' Downloading https://files.pythonhosted.org/packages/be/5b/9bbde4395a1074d528d6d9e0cc161d3b99bd9d0b2b558ca919ffaa2e0068/djangorestframework-3.11.0-py3-none-any.whl (911kB)\\n', 'Collecting future==0.16.0\\n', ' Downloading https://files.pythonhosted.org/packages/00/2b/8d082ddfed935f3608cc61140df6dcbf0edea1bc3ab52fb6c29ae3e81e85/future-0.16.0.tar.gz (824kB)\\n', 'Collecting gitdb2==2.0.6\\n', ' Downloading https://files.pythonhosted.org/packages/03/6c/99296f89bad2ef85626e1df9f677acbee8885bb043ad82ad3ed4746d2325/gitdb2-2.0.6-py2.py3-none-any.whl (63kB)\\n', 'Collecting gitpython==3.0.5\\n', ' Downloading https://files.pythonhosted.org/packages/20/8c/4543981439d23c4ff65b2e62dddd767ebc84a8e664a9b67e840d1e2730d3/GitPython-3.0.5-py3-none-any.whl (455kB)\\n', 'Collecting google-auth==1.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/17/83/3cb31033e1ea0bdb8991b6ef327a5bf4960bd3dd31ff355881bfb0ddf199/google_auth-1.9.0-py2.py3-none-any.whl (75kB)\\n', 'Collecting hyperlink==19.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/7f/91/e916ca10a2de1cb7101a9b24da546fb90ee14629e23160086cf3361c4fb8/hyperlink-19.0.0-py2.py3-none-any.whl\\n', 'Requirement already satisfied: idna==2.8 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 48)) (2.8)\\n', 'Collecting importlib-metadata==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/e9/71/1a1e0ed0981bb6a67bce55a210f168126b7ebd2065958673797ea66489ca/importlib_metadata-1.3.0-py2.py3-none-any.whl\\n', 'Collecting importlib-resources==1.0.2\\n', ' Using cached https://files.pythonhosted.org/packages/2f/f7/b4aa02cdd3ee7ebba375969d77c00826aa15c5db84247d23c89522dccbfa/importlib_resources-1.0.2-py2.py3-none-any.whl\\n', 'Collecting incremental==17.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/f5/1d/c98a587dc06e107115cf4a58b49de20b19222c83d75335a192052af4c4b7/incremental-17.5.0-py2.py3-none-any.whl\\n', 'Collecting inflect==3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/2a/14/49a8afaaa66fb49cda8e60512f0fc07594232fb10ea6aa8995c069172cf6/inflect-3.0.2-py2.py3-none-any.whl\\n', 'Collecting irc==17.1\\n', ' Downloading https://files.pythonhosted.org/packages/2f/0d/da6274eb997e92d9f6672c51e3986dae6bf418033616861362b399cf2ffb/irc-17.1-py2.py3-none-any.whl (73kB)\\n', 'Collecting isodate==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/9b/9f/b36f7774ff5ea8e428fdcfc4bb332c39ee5b9362ddd3d40d9516a55221b2/isodate-0.6.0-py2.py3-none-any.whl (45kB)\\n', 'Collecting jaraco.classes==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/f9/6c/d5ad4d56ed9a6f5d2bf843f30562e4bea2d1a694ecfabe6c56227ef31e90/jaraco.classes-2.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.collections==2.1\\n', ' Downloading https://files.pythonhosted.org/packages/2c/12/63e1a1f0a805e6e60a8904388d75433a56c6781240fecf8230b9b7d942ff/jaraco.collections-2.1-py2.py3-none-any.whl\\n', 'Collecting jaraco.functools==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/12/a4/3e7366d0f5e75dcad7be88524c8cbd0f3a9fb1db243269550981740c57fe/jaraco.functools-2.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.itertools==4.4.2\\n', ' Downloading https://files.pythonhosted.org/packages/f8/44/dcbb815c1cfac34377242ee2f266d4dcc3710c8e54443a057d0a87592771/jaraco.itertools-4.4.2-py2.py3-none-any.whl\\n', 'Collecting jaraco.logging==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/2a/a5/f4d246042405427914d22cd837370373bcb7165e74986c9c8eaf5d6a80b4/jaraco.logging-2.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.stream==3.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/6c/e6/34ab3a3076be30e9412a0824079a13fc2a8fbe10e18f888d20c0de3970b0/jaraco.stream-3.0.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.text==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/50/cd/6eda44738065e844bed8fae60a229b6c46f42d0ba8d48205e9fb57e254cd/jaraco.text-3.2.0-py2.py3-none-any.whl\\n', 'Collecting jinja2==2.10.3\\n', ' Downloading https://files.pythonhosted.org/packages/65/e0/eb35e762802015cab1ccee04e8a277b03f1d8e53da3ec3106882ec42558b/Jinja2-2.10.3-py2.py3-none-any.whl (125kB)\\n', 'Collecting jsonpickle==1.2\\n', ' Downloading https://files.pythonhosted.org/packages/07/07/c157520a3ebd166c8c24c6ae0ecae7c3968eb4653ff0e5af369bb82f004d/jsonpickle-1.2-py2.py3-none-any.whl\\n', 'Collecting jsonschema==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/c5/8f/51e89ce52a085483359217bc72cdbf6e75ee595d5b1d4b5ade40c7e018b8/jsonschema-3.2.0-py2.py3-none-any.whl (56kB)\\n', 'Collecting kombu==4.6.7\\n', ' Downloading https://files.pythonhosted.org/packages/96/94/b899b1d962f6b9ca0171a4796ca086c9785f0cc0b7705562e0a70d144910/kombu-4.6.7-py2.py3-none-any.whl (182kB)\\n', 'Collecting kubernetes==10.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/6e/fc/2cab119f679648b348b8940de0dd744a1f0ee99c690aa2ef6072f050816c/kubernetes-10.0.1-py2.py3-none-any.whl (1.5MB)\\n', 'Collecting lockfile==0.12.2\\n', ' Downloading https://files.pythonhosted.org/packages/c8/22/9460e311f340cb62d26a38c419b1381b8593b0bb6b5d1f056938b086d362/lockfile-0.12.2-py2.py3-none-any.whl\\n', 'Collecting lxml==4.4.2\\n', ' Downloading https://files.pythonhosted.org/packages/68/30/affd16b77edf9537f5be051905f33527021e20d563d013e8c42c7fd01949/lxml-4.4.2-cp36-cp36m-manylinux1_x86_64.whl (5.8MB)\\n', 'Collecting markdown==3.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/c0/4e/fd492e91abdc2d2fcb70ef453064d980688762079397f779758e055f6575/Markdown-3.1.1-py2.py3-none-any.whl (87kB)\\n', 'Collecting markupsafe==1.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/b2/5f/23e0023be6bb885d00ffbefad2942bc51a620328ee910f64abe5a8d18dd1/MarkupSafe-1.1.1-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting more-itertools==8.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/68/03/0604cec1ea13c9f063dd50f900d1a36160334dd3cfb01fd0e638f61b46ba/more_itertools-8.0.2-py3-none-any.whl (40kB)\\n', 'Collecting msgpack-python==0.5.6\\n', ' Downloading https://files.pythonhosted.org/packages/8a/20/6eca772d1a5830336f84aca1d8198e5a3f4715cd1c7fc36d3cc7f7185091/msgpack-python-0.5.6.tar.gz (138kB)\\n', 'Collecting msrest==0.6.10\\n', ' Downloading https://files.pythonhosted.org/packages/27/b0/c34b3ea9b2ed74b800520fbefb312cdb7f05c20b8bd42e5e7662a5614f98/msrest-0.6.10-py2.py3-none-any.whl (82kB)\\n', 'Collecting msrestazure==0.6.2\\n', ' Downloading https://files.pythonhosted.org/packages/68/75/5cb56ca8cbc6c5fe476e4878c73f57a331edcf55e5d3fcb4a7377d7d659d/msrestazure-0.6.2-py2.py3-none-any.whl (40kB)\\n', 'Collecting netaddr==0.7.19\\n', ' Downloading https://files.pythonhosted.org/packages/ba/97/ce14451a9fd7bdb5a397abf99b24a1a6bb7a1a440b019bebd2e9a0dbec74/netaddr-0.7.19-py2.py3-none-any.whl (1.6MB)\\n', 'Collecting oauthlib==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/05/57/ce2e7a8fa7c0afb54a0581b14a65b56e62b5759dbc98e80627142b8a3704/oauthlib-3.1.0-py2.py3-none-any.whl (147kB)\\n', 'Collecting openshift==0.10.1\\n', ' Downloading https://files.pythonhosted.org/packages/6c/65/95cf4ec84e9a41f972708bda19871875c8169cf922dc3550412cd23e4c9c/openshift-0.10.1.tar.gz\\n', 'Collecting pexpect==4.7.0\\n', ' Downloading https://files.pythonhosted.org/packages/0e/3e/377007e3f36ec42f1b84ec322ee12141a9e10d808312e5738f52f80a232c/pexpect-4.7.0-py2.py3-none-any.whl (58kB)\\n', 'Collecting pkgconfig==1.5.1\\n', ' Downloading https://files.pythonhosted.org/packages/b4/2c/bf434cb5a6590417e1d4468050ec317ea17fd6231c2a256df4646c11e588/pkgconfig-1.5.1-py2.py3-none-any.whl\\n', 'Collecting prometheus-client==0.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/b3/23/41a5a24b502d35a4ad50a5bb7202a5e1d9a0364d0c12f56db3dbf7aca76d/prometheus_client-0.7.1.tar.gz\\n', 'Collecting psutil==5.6.7\\n', ' Downloading https://files.pythonhosted.org/packages/73/93/4f8213fbe66fc20cb904f35e6e04e20b47b85bee39845cc66a0bcf5ccdcb/psutil-5.6.7.tar.gz (448kB)\\n', 'Collecting psycopg2==2.8.4\\n', ' Downloading https://files.pythonhosted.org/packages/84/d7/6a93c99b5ba4d4d22daa3928b983cec66df4536ca50b22ce5dcac65e4e71/psycopg2-2.8.4.tar.gz (377kB)\\n', 'Collecting ptyprocess==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/d1/29/605c2cc68a9992d18dada28206eeada56ea4bd07a239669da41674648b6f/ptyprocess-0.6.0-py2.py3-none-any.whl\\n', 'Collecting pyasn1-modules==0.2.7\\n', ' Downloading https://files.pythonhosted.org/packages/52/50/bb4cefca37da63a0c52218ba2cb1b1c36110d84dcbae8aa48cd67c5e95c2/pyasn1_modules-0.2.7-py2.py3-none-any.whl (131kB)\\n', 'Collecting pyasn1==0.4.8\\n', ' Downloading https://files.pythonhosted.org/packages/62/1e/a94a8d635fa3ce4cfc7f506003548d0a2447ae76fd5ca53932970fe3053f/pyasn1-0.4.8-py2.py3-none-any.whl (77kB)\\n', 'Collecting pycparser==2.19\\n', ' Downloading https://files.pythonhosted.org/packages/68/9e/49196946aee219aead1290e00d1e7fdeab8567783e83e1b9ab5585e6206a/pycparser-2.19.tar.gz (158kB)\\n', 'Collecting pygerduty==0.38.2\\n', ' Downloading https://files.pythonhosted.org/packages/f9/fc/da2d66ce0176dda9ddeb489d062184e27ae83fce09d07bc2baa2bfa40886/pygerduty-0.38.2.tar.gz\\n', 'Collecting pyhamcrest==1.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/9a/d5/d37fd731b7d0e91afcc84577edeccf4638b4f9b82f5ffe2f8b62e2ddc609/PyHamcrest-1.9.0-py2.py3-none-any.whl (52kB)\\n', 'Collecting pyjwt==1.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/87/8b/6a9f14b5f781697e51259d81657e6048fd31a113229cf346880bb7545565/PyJWT-1.7.1-py2.py3-none-any.whl\\n', 'Collecting pyparsing==2.4.5\\n', ' Downloading https://files.pythonhosted.org/packages/c0/0c/fc2e007d9a992d997f04a80125b0f183da7fb554f1de701bbb70a8e7d479/pyparsing-2.4.5-py2.py3-none-any.whl (67kB)\\n', 'Collecting pyrad==2.2\\n', ' Downloading https://files.pythonhosted.org/packages/18/ab/4ad999af29a7a19f201ed3dfe47d0fa9f9a170b414c217f09ed603dbf550/pyrad-2.2-py3-none-any.whl (44kB)\\n', 'Collecting pyrsistent==0.15.6\\n', ' Downloading https://files.pythonhosted.org/packages/6c/6f/c1a2e8da80a0029f6b618d7e20e1a6f2a61dd04e2e54225309c2cc4268f7/pyrsistent-0.15.6.tar.gz (107kB)\\n', 'Collecting python-daemon==2.2.4\\n', ' Downloading https://files.pythonhosted.org/packages/5a/0c/57f15b1572661877ff1acbe66c2f5be9d999ae5fb128e22933d374f62aa1/python_daemon-2.2.4-py2.py3-none-any.whl\\n', 'Collecting python-dateutil==2.8.1\\n', ' Downloading https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl (227kB)\\n', 'Collecting python-ldap==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/ea/93/596f875e003c770447f4b99267820a0c769dd2dc3ae3ed19afe460fcbad0/python-ldap-3.2.0.tar.gz (367kB)\\n', 'Collecting python-memcached==1.59\\n', ' Downloading https://files.pythonhosted.org/packages/f5/90/19d3908048f70c120ec66a39e61b92c253e834e6e895cd104ce5e46cbe53/python_memcached-1.59-py2.py3-none-any.whl\\n', 'Collecting python-radius==1.0\\n', ' Downloading https://files.pythonhosted.org/packages/c1/60/c9a29ea626d94777994f079dbbdbd988ec37c1a4020f95d26bc3d4b52d35/python-radius-1.0.tar.gz\\n', 'Collecting python-string-utils==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/5d/13/216f2d4a71307f5a4e5782f1f59e6e8e5d6d6c00eaadf9f92aeccfbb900c/python-string-utils-0.6.0.tar.gz\\n', 'Collecting python3-openid==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/bd/de/52c5699f52dcee3037db587196dcaf63ffedf5fbeba3183afe9b21a3a89f/python3_openid-3.1.0-py3-none-any.whl (130kB)\\n', 'Collecting python3-saml==1.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/56/a7/d46160d7fab16f18f1a51b5eba535e3b3925c35e9f5f58d5eba6efa56166/python3_saml-1.9.0-py3-none-any.whl (72kB)\\n', 'Collecting pytz==2019.3\\n', ' Downloading https://files.pythonhosted.org/packages/e7/f9/f0b53f88060247251bf481fa6ea62cd0d25bf1b11a87888e53ce5b7c8ad2/pytz-2019.3-py2.py3-none-any.whl (509kB)\\n', 'Collecting pyyaml==5.2\\n', ' Downloading https://files.pythonhosted.org/packages/8d/c9/e5be955a117a1ac548cdd31e37e8fd7b02ce987f9655f5c7563c656d5dcb/PyYAML-5.2.tar.gz (265kB)\\n', 'Collecting requests-futures==1.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/47/c4/fd48d1ac5110a5457c71ac7cc4caa93da10a80b8de71112430e439bdee22/requests-futures-1.0.0.tar.gz\\n', 'Collecting requests-oauthlib==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/a3/12/b92740d845ab62ea4edf04d2f4164d82532b5a0b03836d4d4e71c6f3d379/requests_oauthlib-1.3.0-py2.py3-none-any.whl\\n', 'Requirement already satisfied: requests==2.22.0 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 105)) (2.22.0)\\n', 'Collecting rsa==4.0\\n', ' Downloading https://files.pythonhosted.org/packages/02/e5/38518af393f7c214357079ce67a317307936896e961e35450b70fad2a9cf/rsa-4.0-py2.py3-none-any.whl\\n', 'Collecting ruamel.yaml.clib==0.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/53/77/4bcd63f362bcb6c8f4f06253c11f9772f64189bf08cf3f40c5ccbda9e561/ruamel.yaml.clib-0.2.0-cp36-cp36m-manylinux1_x86_64.whl (548kB)\\n', 'Collecting ruamel.yaml==0.16.5\\n', ' Downloading https://files.pythonhosted.org/packages/fa/90/ecff85a2e9c497e2fa7142496e10233556b5137db5bd46f3f3b006935ca8/ruamel.yaml-0.16.5-py2.py3-none-any.whl (123kB)\\n', 'Collecting six==1.13.0\\n', ' Downloading https://files.pythonhosted.org/packages/65/26/32b8464df2a97e6dd1b656ed26b2c194606c16fe163c695a992b36c11cdf/six-1.13.0-py2.py3-none-any.whl\\n', 'Collecting slackclient==1.1.2\\n', ' Downloading https://files.pythonhosted.org/packages/08/6e/c84dcf7c18c0a79c17a3dec971bcfa746ea1e23d4f41ba1de7eead203266/slackclient-1.1.2.tar.gz\\n', 'Collecting smmap2==2.0.5\\n', ' Downloading https://files.pythonhosted.org/packages/55/d2/866d45e3a121ee15a1dc013824d58072fd5c7799c9c34d01378eb262ca8f/smmap2-2.0.5-py2.py3-none-any.whl\\n', 'Collecting social-auth-app-django==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/9f/13/3be586914f69fe9d11beee01b938d329589045dfe90076529c82dae97578/social_auth_app_django-3.1.0-py3-none-any.whl\\n', 'Collecting social-auth-core==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/1a/06/146938c323cf08f87158841518d5db96588ef7826e84a2a5ad66ca798c8b/social_auth_core-3.2.0-py3-none-any.whl (315kB)\\n', 'Collecting sqlparse==0.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/ef/53/900f7d2a54557c6a37886585a91336520e5539e3ae2423ff1102daf4f3a7/sqlparse-0.3.0-py2.py3-none-any.whl\\n', 'Collecting tacacs_plus==1.0\\n', ' Downloading https://files.pythonhosted.org/packages/97/68/f67351370c80fbcf1d77ff426405590f006830e75ccc28934b95268b4810/tacacs_plus-1.0-py2.py3-none-any.whl\\n', 'Collecting tempora==1.14.1\\n', ' Downloading https://files.pythonhosted.org/packages/5c/12/4c97c44e5c9d111649e363353a4ca3ece9c6cc04b11cc48540f26e42d7b9/tempora-1.14.1-py2.py3-none-any.whl\\n', 'Collecting twilio==6.35.1\\n', ' Downloading https://files.pythonhosted.org/packages/2e/41/e45bcc57c0c4853aa36244e97a51cdc9d6eae9ac9f50e37d4c207d760247/twilio-6.35.1.tar.gz (399kB)\\n', 'Collecting twisted==19.10.0\\n', ' Downloading https://files.pythonhosted.org/packages/88/e2/0c21fadf0dff02d145db02f24a6ed2c24993e7242d138babbca41de2f5a2/Twisted-19.10.0-cp36-cp36m-manylinux1_x86_64.whl (3.1MB)\\n', 'Collecting txaio==18.8.1\\n', ' Downloading https://files.pythonhosted.org/packages/e9/6d/e1a6f7835cde86728e5bb1f577be9b2d7d273fdb33c286e70b087d418ded/txaio-18.8.1-py2.py3-none-any.whl\\n', 'Collecting urllib3==1.25.7\\n', ' Downloading https://files.pythonhosted.org/packages/b4/40/a9837291310ee1ccc242ceb6ebfd9eb21539649f193a7c8c86ba15b98539/urllib3-1.25.7-py2.py3-none-any.whl (125kB)\\n', 'Collecting uwsgi==2.0.18\\n', ' Downloading https://files.pythonhosted.org/packages/e7/1e/3dcca007f974fe4eb369bf1b8629d5e342bb3055e2001b2e5340aaefae7a/uwsgi-2.0.18.tar.gz (801kB)\\n', 'Collecting uwsgitop==0.11\\n', ' Downloading https://files.pythonhosted.org/packages/8a/7a/9501084f6d2739b8a7d35ef5fb9cb539edb6e0a0d559366598b82bb7a96e/uwsgitop-0.11.tar.gz\\n', 'Collecting vine==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/7f/60/82c03047396126c8331ceb64da1dc52d4f1317209f32e8fe286d0c07365a/vine-1.3.0-py2.py3-none-any.whl\\n', 'Collecting websocket-client==0.56.0\\n', ' Downloading https://files.pythonhosted.org/packages/29/19/44753eab1fdb50770ac69605527e8859468f3c0fd7dc5a76dd9c4dbd7906/websocket_client-0.56.0-py2.py3-none-any.whl (200kB)\\n', 'Collecting xmlsec==1.3.3\\n', ' Downloading https://files.pythonhosted.org/packages/35/42/d7cd323c91d4706f3cc32ffe7d5f851ab8ef9898ccb350f6ba593dd8b89a/xmlsec-1.3.3.tar.gz\\n', 'Collecting zipp==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/74/3d/1ee25a26411ba0401b43c6376d2316a71addcc72ef8690b101b4ea56d76a/zipp-0.6.0-py2.py3-none-any.whl\\n', 'Collecting zope.interface==4.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/05/16/79fe71428c91673194a21fedcc46f7f1349db799bc2a65da4ffdbe570343/zope.interface-4.7.1-cp36-cp36m-manylinux2010_x86_64.whl (168kB)\\n', 'Requirement already satisfied: pip==19.3.1 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 130)) (19.3.1)\\n', 'Requirement already satisfied: setuptools==41.6.0 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 131)) (41.6.0)\\n', 'Requirement already satisfied: docutils in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from python-daemon==2.2.4->-r /dev/stdin (line 93)) (0.16)\\n', 'Skipping wheel build for cffi, due to binaries being disabled for it.\\n', 'Skipping wheel build for psycopg2, due to binaries being disabled for it.\\n', 'Skipping wheel build for pycparser, due to binaries being disabled for it.\\n', 'Skipping wheel build for twilio, due to binaries being disabled for it.\\n', 'Building wheels for collected packages: ansiconv, django-pglocks, django-qsstats-magic, django-radius, django-solo, future, msgpack-python, openshift, prometheus-client, psutil, pygerduty, pyrsistent, python-ldap, python-radius, python-string-utils, pyyaml, requests-futures, slackclient, uwsgi, uwsgitop, xmlsec\\n', ' Building wheel for ansiconv (setup.py): started\\n', \"" Building wheel for ansiconv (setup.py): finished with status 'done'\\n\"", ' Created wheel for ansiconv: filename=ansiconv-1.0.0-cp36-none-any.whl size=2810 sha256=08cb94d00fd52e493a5909e72cd2d04b695a3069c50974f7d35ee09c6befcc37\\n Stored in directory: /root/.cache/pip/wheels/e2/56/a6/53c6f5093cfd3f620348c2f1fa562db59536bf1976f699bd6e\\n', ' Building wheel for django-pglocks (setup.py): started\\n', \"" Building wheel for django-pglocks (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-pglocks: filename=django_pglocks-1.0.3-cp36-none-any.whl size=3798 sha256=fce42f1cdae2266dcd9918ff5bdfdd721ae75b416664e2065e8b44d20734d8b2\\n', ' Stored in directory: /root/.cache/pip/wheels/76/d2/b5/47f4a75df4d1975b4533d47faca337326231c697ba9933ea8c\\n', ' Building wheel for django-qsstats-magic (setup.py): started\\n', \"" Building wheel for django-qsstats-magic (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-qsstats-magic: filename=django_qsstats_magic-1.1.0-cp36-none-any.whl size=10205 sha256=f95f4c2769f9e4498a3eb0231a3e85c998e2d563c43c3bc9a004fecc5902c1e5\\n', ' Stored in directory: /root/.cache/pip/wheels/55/ca/c8/00ded6be86614dea7a0bd1a0818c7ee6572ae6f78bac66d7c1\\n', ' Building wheel for django-radius (setup.py): started\\n', \"" Building wheel for django-radius (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-radius: filename=django_radius-1.3.3-cp36-none-any.whl size=4500 sha256=d225be982bb6203adde0d6d902970c9be0090243b7b1305ced41865272eecd71\\n', ' Stored in directory: /root/.cache/pip/wheels/82/54/2d/abbc5f4f861933b89be0659bc1222d1de23d86f9d7376a3739\\n', ' Building wheel for django-solo (setup.py): started\\n', \"" Building wheel for django-solo (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-solo: filename=django_solo-1.1.3-cp36-none-any.whl size=10825 sha256=88c8dec23ceee5292d160e9ae73ffd4e8cf2e5437f973c01870711f0222bc35d\\n Stored in directory: /root/.cache/pip/wheels/c6/b5/da/da3254e2fd94161d9b7ab7cb9c4f1ed3418cc84ac0be8fe749\\n', ' Building wheel for future (setup.py): started\\n', \"" Building wheel for future (setup.py): finished with status 'done'\\n\"", ' Created wheel for future: filename=future-0.16.0-cp36-none-any.whl size=487797 sha256=1aa02b1f92a349374ed9e2f867b5831287894eb9f6a8716a5f7585c56506373a\\n', ' Stored in directory: /root/.cache/pip/wheels/bf/c9/a3/c538d90ef17cf7823fa51fc701a7a7a910a80f6a405bf15b1a\\n', ' Building wheel for msgpack-python (setup.py): started\\n', \"" Building wheel for msgpack-python (setup.py): finished with status 'done'\\n\"", ' Created wheel for msgpack-python: filename=msgpack_python-0.5.6-cp36-cp36m-linux_x86_64.whl size=361747 sha256=15aba6a9c24a14d3a99084ed41ca5e4bfbe29c5650a21209bfad0cd83e1f310b\\n', ' Stored in directory: /root/.cache/pip/wheels/d5/de/86/7fa56fda12511be47ea0808f3502bc879df4e63ab168ec0406\\n', ' Building wheel for openshift (setup.py): started\\n', \"" Building wheel for openshift (setup.py): finished with status 'done'\\n\"", ' Created wheel for openshift: filename=openshift-0.10.1-cp36-none-any.whl size=19450 sha256=7ddc39a6cd9bc317dbb799b78e07834c84a13b5f0d9f9e02cceae055fdc29f19\\n', ' Stored in directory: /root/.cache/pip/wheels/9d/1f/42/7fa065e82eff3a111f479b56ea0b57454e7295766ae6231fdd\\n', ' Building wheel for prometheus-client (setup.py): started\\n', \"" Building wheel for prometheus-client (setup.py): finished with status 'done'\\n\"", ' Created wheel for prometheus-client: filename=prometheus_client-0.7.1-cp36-none-any.whl size=41404 sha256=694f808c77b560435c6b6760adcc9cf6cf87bb304e738d391f9802bcaceefd10\\n', ' Stored in directory: /root/.cache/pip/wheels/1c/54/34/fd47cd9b308826cc4292b54449c1899a30251ef3b506bc91ea\\n', ' Building wheel for psutil (setup.py): started\\n', \"" Building wheel for psutil (setup.py): finished with status 'done'\\n\"", ' Created wheel for psutil: filename=psutil-5.6.7-cp36-cp36m-linux_x86_64.whl size=282018 sha256=83e1f5e92399d349078ad19dc9623764f6fca636990faa9dd050f8d6ffc75cef\\n', ' Stored in directory: /root/.cache/pip/wheels/52/41/b0/bf50409fe2b1d3b79afa3eed71b54b3e30fe5b695db2c7ba2e\\n', ' Building wheel for pygerduty (setup.py): started\\n', \"" Building wheel for pygerduty (setup.py): finished with status 'done'\\n\"", ' Created wheel for pygerduty: filename=pygerduty-0.38.2-cp36-none-any.whl size=16818 sha256=883d40b832cf235bb6051f46ad72969fa12c0936d85f4d258788e2574c17591d\\n', ' Stored in directory: /root/.cache/pip/wheels/74/ba/d5/baca30a63af8b8c38301b5adb92af93b57a08c8297021a080f\\n', ' Building wheel for pyrsistent (setup.py): started\\n', \"" Building wheel for pyrsistent (setup.py): finished with status 'done'\\n\"", ' Created wheel for pyrsistent: filename=pyrsistent-0.15.6-cp36-cp36m-linux_x86_64.whl size=104272 sha256=20e1904fd369a526e1ab90ed135b307132197113bb9e8f5287859dff640ba2f0\\n', ' Stored in directory: /root/.cache/pip/wheels/83/89/d3/1712b9c33c9b9c0911b188a86aeff2a9a05e113f986cf79d92\\n', ' Building wheel for python-ldap (setup.py): started\\n', \"" Building wheel for python-ldap (setup.py): finished with status 'done'\\n\"", ' Created wheel for python-ldap: filename=python_ldap-3.2.0-cp36-cp36m-linux_x86_64.whl size=310885 sha256=f3e5ce36426da284d82187ececb1a8385943cfc4c63ba62d5c82c7c4c9d03ed8\\n', ' Stored in directory: /root/.cache/pip/wheels/48/dd/0b/a06d1baf6575ad4520fc1fcf5bd96b493cd89670fdf6ade224\\n', ' Building wheel for python-radius (setup.py): started\\n', \"" Building wheel for python-radius (setup.py): finished with status 'done'\\n\"", ' Created wheel for python-radius: filename=python_radius-1.0-cp36-none-any.whl size=3047 sha256=5064d84ed15ae33d91d7c8f55857f4f755d2be2af9bac7671d0e5a5b69c9d2de\\n', ' Stored in directory: /root/.cache/pip/wheels/e2/c4/dd/e85eb021eb25d2008aacb51f37324e93b27d90fd7713ae2656\\n', ' Building wheel for python-string-utils (setup.py): started\\n', \"" Building wheel for python-string-utils (setup.py): finished with status 'done'\\n\"", ' Created wheel for python-string-utils: filename=python_string_utils-0.6.0-cp36-none-any.whl size=8464 sha256=d9c9f93e80134d2eeec6687521e8bd76101196d1c909bec5911e5184459e6779\\n', ' Stored in directory: /root/.cache/pip/wheels/b2/1d/3f/2f554103ba3e4aa8d53b8e1ea70b5a0b4f74409a789e17fa35\\n', ' Building wheel for pyyaml (setup.py): started\\n', \"" Building wheel for pyyaml (setup.py): finished with status 'done'\\n\"", ' Created wheel for pyyaml: filename=PyYAML-5.2-cp36-cp36m-linux_x86_64.whl size=44209 sha256=3b51a072c3bd9726eff0d7b795b9ec96f4093096f9a5fd91ff7be871740f0c70\\n', ' Stored in directory: /root/.cache/pip/wheels/54/b7/c7/2ada654ee54483c9329871665aaf4a6056c3ce36f29cf66e67\\n', ' Building wheel for requests-futures (setup.py): started\\n', \"" Building wheel for requests-futures (setup.py): finished with status 'done'\\n\"", ' Created wheel for requests-futures: filename=requests_futures-1.0.0-cp36-none-any.whl size=7013 sha256=8767c96983d5f9a60eec17218a6b5980f1952523ef368d70ef832e5f0dbde7c2\\n', ' Stored in directory: /root/.cache/pip/wheels/26/d0/f5/dc4e4a37bbe55c9acf967d2bd899152412c1e49c227f5395ff\\n', ' Building wheel for slackclient (setup.py): started\\n', \"" Building wheel for slackclient (setup.py): finished with status 'done'\\n\"", ' Created wheel for slackclient: filename=slackclient-1.1.2-py2.py3-none-any.whl size=16255 sha256=c20dfa372e011cd76df5ccb4ddf274d98eeeb15b984b848ec326a5a7ea0e0436\\n Stored in directory: /root/.cache/pip/wheels/05/83/17/a68c9a30556a22d90f8da0ce48c563cc7cb927efd4e38085e5\\n', ' Building wheel for uwsgi (setup.py): started\\n', \"" Building wheel for uwsgi (setup.py): finished with status 'done'\\n\"", ' Created wheel for uwsgi: filename=uWSGI-2.0.18-cp36-cp36m-linux_x86_64.whl size=510856 sha256=e67aa50015376dd8d7ee6f0837b6076d55900c250c43636090f46706d6736635\\n', ' Stored in directory: /root/.cache/pip/wheels/2d/0c/b0/f3ba1bbce35c3766c9dac8c3d15d5431cac57e7a8c4111c268\\n', ' Building wheel for uwsgitop (setup.py): started\\n', \"" Building wheel for uwsgitop (setup.py): finished with status 'done'\\n\"", ' Created wheel for uwsgitop: filename=uwsgitop-0.11-cp36-none-any.whl size=6425 sha256=9d161eeb01db9d41ec5f5ef13f55641ea5472dcf677356e54ae0fd1a2dbad2b7\\n Stored in directory: /root/.cache/pip/wheels/41/02/ef/63d996823a91fb89538c3b9566c5a5306fb3a913d49351ca1d\\n', ' Building wheel for xmlsec (setup.py): started\\n', \"" Building wheel for xmlsec (setup.py): finished with status 'done'\\n\"", ' Created wheel for xmlsec: filename=xmlsec-1.3.3-cp36-cp36m-linux_x86_64.whl size=169396 sha256=de6d22dcaff47fff939eb1a56179401205c0df6697352d9b602f65c97dd4fe0e\\n', ' Stored in directory: /root/.cache/pip/wheels/6b/6c/75/2429cf3dba548938fce59f138503bdb0a07e5e53ab4aeeb71d\\n', 'Successfully built ansiconv django-pglocks django-qsstats-magic django-radius django-solo future msgpack-python openshift prometheus-client psutil pygerduty pyrsistent python-ldap python-radius python-string-utils pyyaml requests-futures slackclient uwsgi uwsgitop xmlsec\\n', 'Installing collected packages: pyjwt, six, python-dateutil, pycparser, cffi, cryptography, adal, vine, amqp, ptyprocess, pexpect, lockfile, python-daemon, psutil, pyyaml, ansible-runner, ansiconv, more-itertools, zipp, importlib-metadata, kombu, jsonpickle, asgiref, msgpack-python, asgi-amqp, attrs, txaio, autobahn, automat, azure-common, oauthlib, requests-oauthlib, isodate, msrest, msrestazure, azure-nspkg, azure-keyvault, billiard, boto, cachetools, pytz, celery, incremental, constantly, hyperlink, pyhamcrest, zope.interface, twisted, daphne, sqlparse, django, channels, defusedxml, dictdiffer, pyasn1, pyasn1-modules, python-ldap, django-auth-ldap, django-cors-headers, django-crum, django-extensions, django-jsonfield, django-oauth-toolkit, django-pglocks, django-polymorphic, django-qsstats-magic, netaddr, pyrad, future, django-radius, django-solo, django-split-settings, django-taggit, djangorestframework-yaml, djangorestframework, smmap2, gitdb2, gitpython, rsa, google-auth, importlib-resources, inflect, jaraco.functools, tempora, jaraco.logging, jaraco.itertools, jaraco.text, jaraco.classes, jaraco.collections, jaraco.stream, irc, markupsafe, jinja2, pyrsistent, jsonschema, urllib3, websocket-client, kubernetes, lxml, markdown, python-string-utils, ruamel.yaml.clib, ruamel.yaml, openshift, pkgconfig, prometheus-client, psycopg2, pygerduty, pyparsing, python-memcached, python-radius, python3-openid, xmlsec, python3-saml, requests-futures, slackclient, social-auth-core, social-auth-app-django, tacacs-plus, twilio, uwsgi, uwsgitop\\n', ' Running setup.py install for pycparser: started\\n', \"" Running setup.py install for pycparser: finished with status 'done'\\n\"", ' Running setup.py install for cffi: started\\n', \"" Running setup.py install for cffi: finished with status 'done'\\n\"", ' Found existing installation: urllib3 1.25.8\\n', ' Uninstalling urllib3-1.25.8:\\n', ' Successfully uninstalled urllib3-1.25.8\\n', ' Running setup.py install for psycopg2: started\\n', \"" Running setup.py install for psycopg2: finished with status 'done'\\n\"", ' Running setup.py install for twilio: started\\n', \"" Running setup.py install for twilio: finished with status 'done'\\n\"", 'Successfully installed adal-1.2.2 amqp-2.5.2 ansible-runner-1.4.4 ansiconv-1.0.0 asgi-amqp-1.1.4 asgiref-1.1.2 attrs-19.3.0 autobahn-19.11.1 automat-0.8.0 azure-common-1.1.23 azure-keyvault-1.1.0 azure-nspkg-3.0.2 billiard-3.6.1.0 boto-2.49.0 cachetools-3.1.1 celery-4.3.0 cffi-1.13.2 channels-1.1.8 constantly-15.1.0 cryptography-2.8 daphne-1.4.2 defusedxml-0.6.0 dictdiffer-0.8.1 django-2.2.8 django-auth-ldap-2.1.0 django-cors-headers-3.2.0 django-crum-0.7.5 django-extensions-2.2.5 django-jsonfield-1.2.0 django-oauth-toolkit-1.1.3 django-pglocks-1.0.3 django-polymorphic-2.1.2 django-qsstats-magic-1.1.0 django-radius-1.3.3 django-solo-1.1.3 django-split-settings-1.0.0 django-taggit-1.2.0 djangorestframework-3.11.0 djangorestframework-yaml-1.0.3 future-0.16.0 gitdb2-2.0.6 gitpython-3.0.5 google-auth-1.9.0 hyperlink-19.0.0 importlib-metadata-1.3.0 importlib-resources-1.0.2 incremental-17.5.0 inflect-3.0.2 irc-17.1 isodate-0.6.0 jaraco.classes-2.0 jaraco.collections-2.1 jaraco.functools-2.0 jaraco.itertools-4.4.2 jaraco.logging-2.0 jaraco.stream-3.0.0 jaraco.text-3.2.0 jinja2-2.10.3 jsonpickle-1.2 jsonschema-3.2.0 kombu-4.6.7 kubernetes-10.0.1 lockfile-0.12.2 lxml-4.4.2 markdown-3.1.1 markupsafe-1.1.1 more-itertools-8.0.2 msgpack-python-0.5.6 msrest-0.6.10 msrestazure-0.6.2 netaddr-0.7.19 oauthlib-3.1.0 openshift-0.10.1 pexpect-4.7.0 pkgconfig-1.5.1 prometheus-client-0.7.1 psutil-5.6.7 psycopg2-2.8.4 ptyprocess-0.6.0 pyasn1-0.4.8 pyasn1-modules-0.2.7 pycparser-2.19 pygerduty-0.38.2 pyhamcrest-1.9.0 pyjwt-1.7.1 pyparsing-2.4.5 pyrad-2.2 pyrsistent-0.15.6 python-daemon-2.2.4 python-dateutil-2.8.1 python-ldap-3.2.0 python-memcached-1.59 python-radius-1.0 python-string-utils-0.6.0 python3-openid-3.1.0 python3-saml-1.9.0 pytz-2019.3 pyyaml-5.2 requests-futures-1.0.0 requests-oauthlib-1.3.0 rsa-4.0 ruamel.yaml-0.16.5 ruamel.yaml.clib-0.2.0 six-1.13.0 slackclient-1.1.2 smmap2-2.0.5 social-auth-app-django-3.1.0 social-auth-core-3.2.0 sqlparse-0.3.0 tacacs-plus-1.0 tempora-1.14.1 twilio-6.35.1 twisted-19.10.0 txaio-18.8.1 urllib3-1.25.7 uwsgi-2.0.18 uwsgitop-0.11 vine-1.3.0 websocket-client-0.56.0 xmlsec-1.3.3 zipp-0.6.0 zope.interface-4.7.1\\n', \""\\x1b[91mWARNING: You are using pip version 19.3.1; however, version 20.0.2 is available.\\nYou should consider upgrading via the 'pip install --upgrade pip' command.\\n\\x1b[0m\"", '/var/lib/awx/venv/awx/bin/pip uninstall --yes -r requirements/requirements_tower_uninstall.txt\\n', 'Uninstalling rsa-4.0:\\n', ' Successfully uninstalled rsa-4.0\\n', 'if [ \""/var/lib/awx/venv\"" ]; then \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv\"" ]; then \\\\\\n\\t\\tmkdir /var/lib/awx/venv; \\\\\\n\\tfi; \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv/ansible\"" ]; then \\\\\\n\\t\\tvirtualenv -p python3 /var/lib/awx/venv/ansible; \\\\\\n\\t\\t/var/lib/awx/venv/ansible/bin/pip install pip==19.3.1 setuptools==41.6.0; \\\\\\n\\tfi; \\\\\\nfi\\n', 'created virtual environment in 250ms CPython3Posix(dest=/var/lib/awx/venv/ansible, clear=False, global=False) with seeder FromAppData pip=latest setuptools=latest wheel=latest app_data_dir=/root/.local/share/virtualenv/seed-v1 via=copy\\n', 'Collecting pip==19.3.1\\n', ' Using cached pip-19.3.1-py2.py3-none-any.whl (1.4 MB)\\n', 'Collecting setuptools==41.6.0\\n', ' Using cached setuptools-41.6.0-py2.py3-none-any.whl (582 kB)\\n', 'Installing collected packages: pip, setuptools\\n Attempting uninstall: pip\\n', ' Found existing installation: pip 20.0.2\\n', ' Uninstalling pip-20.0.2:\\n', ' Successfully uninstalled pip-20.0.2\\n', ' Attempting uninstall: setuptools\\n', ' Found existing installation: setuptools 45.2.0\\n', ' Uninstalling setuptools-45.2.0:\\n', ' Successfully uninstalled setuptools-45.2.0\\n', 'Successfully installed pip-19.3.1 setuptools-41.6.0\\n', 'if [[ \""\"" == *\""--no-index\""* ]]; then \\\\\\n cat requirements/requirements_ansible.txt requirements/requirements_ansible_local.txt | /var/lib/awx/venv/ansible/bin/pip3 install -r /dev/stdin ; \\\\\\nelse \\\\\\n cat requirements/requirements_ansible.txt requirements/requirements_ansible_git.txt | /var/lib/awx/venv/ansible/bin/pip3 install --no-binary cffi,pycparser,psycopg2,twilio -r /dev/stdin ; \\\\\\nfi\\n', 'Ignoring enum34: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring futures: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring ipaddress: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring monotonic: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring typing: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Collecting adal==1.2.2\\n', ' Using cached https://files.pythonhosted.org/packages/4f/b5/3ea9ae3d1096b9ff31e8f1846c47d49f3129a12464ac0a73b602de458298/adal-1.2.2-py2.py3-none-any.whl\\n', 'Collecting apache-libcloud==2.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/07/c3/ddbd6b48395d0825f9910e5724a098e9de1e720d4e7124625a8aff1eedec/apache_libcloud-2.5.0-py2.py3-none-any.whl (3.1MB)\\n', 'Collecting appdirs==1.4.3\\n', ' Using cached https://files.pythonhosted.org/packages/56/eb/810e700ed1349edde4cbdc1b2a21e28cdf115f9faf263f6bbf8447c1abf3/appdirs-1.4.3-py2.py3-none-any.whl\\n', 'Collecting applicationinsights==0.11.9\\n', ' Downloading https://files.pythonhosted.org/packages/a1/53/234c53004f71f0717d8acd37876e0b65c121181167057b9ce1b1795f96a0/applicationinsights-0.11.9-py2.py3-none-any.whl (58kB)\\n', 'Collecting argcomplete==1.10.3\\n', ' Downloading https://files.pythonhosted.org/packages/ae/8e/6b293f883fdbd29b9c8170db44bddff9e7de224d8cf1eb4287f69f1766e5/argcomplete-1.10.3-py2.py3-none-any.whl\\n', 'Collecting azure-cli-core==2.0.35\\n', ' Downloading https://files.pythonhosted.org/packages/ee/81/561473d6614d15f450eba6b7c8e0e1fbbaf34bf117fe77c1188010870e24/azure_cli_core-2.0.35-py2.py3-none-any.whl (90kB)\\n', 'Collecting azure-cli-nspkg==3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/7c/94/cf884b92a870422f02c3f1f86573d04d5cc1abdc2ac51b8419c7ee2e2a00/azure_cli_nspkg-3.0.2-py2.py3-none-any.whl\\n', 'Collecting azure-common==1.1.11\\n', ' Downloading https://files.pythonhosted.org/packages/97/3b/2c7cda25382c3bb566008c5c8f8aa28663fd15a80a6204c76ae0035de107/azure_common-1.1.11-py2.py3-none-any.whl\\n', 'Collecting azure-graphrbac==0.40.0\\n', ' Downloading https://files.pythonhosted.org/packages/89/0a/29f7e2914033e2536026b8f0d7f8deb1edda68c9a93ce4757b2b1e39568b/azure_graphrbac-0.40.0-py2.py3-none-any.whl (63kB)\\n', 'Collecting azure-keyvault==1.0.0a1\\n', ' Downloading https://files.pythonhosted.org/packages/03/f3/fe18493d4ce781368f23d05701a8203344fdc15dbf9cfee4450652776d1a/azure_keyvault-1.0.0a1-py2.py3-none-any.whl (109kB)\\n', 'Collecting azure-mgmt-authorization==0.51.1\\n', ' Downloading https://files.pythonhosted.org/packages/a1/71/9a20913e92771b3c23564f1bea54d376d09fb30a75585087c70b769d75c8/azure_mgmt_authorization-0.51.1-py2.py3-none-any.whl (111kB)\\n', 'Collecting azure-mgmt-automation==0.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/b0/a5/e3e1dd8b1cad0e97df3a274360fddc2e036a9eeb77653aff4ab8a09ad28d/azure_mgmt_automation-0.1.1-py2.py3-none-any.whl (380kB)\\n', 'Collecting azure-mgmt-batch==5.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/97/81/a9eb3fd2ab070159105b4cfe9640c24410ac8195286729d62bfdf871de94/azure_mgmt_batch-5.0.1-py2.py3-none-any.whl (87kB)\\n', 'Collecting azure-mgmt-cdn==3.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/ab/17/1684f274bd57ff81b0ac9000030d5796bf88c9735a093ba8b693c39ca6fd/azure_mgmt_cdn-3.0.0-py2.py3-none-any.whl (108kB)\\n', 'Collecting azure-mgmt-compute==4.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/b7/c4/2ba0af13ecfcd8a3dc2a43cb7306d8b1fe6881b93028afb3820458a1a3e2/azure_mgmt_compute-4.4.0-py2.py3-none-any.whl (2.5MB)\\n', 'Collecting azure-mgmt-containerinstance==1.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/77/50/f7f419e0ac788d41d080d5f25daf988b993063aab3bfd90def54e93e72d7/azure_mgmt_containerinstance-1.4.0-py2.py3-none-any.whl (87kB)\\n', 'Collecting azure-mgmt-containerregistry==2.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/c5/b6/926aba2129e87976a00c4742aa1dba4fea09708c0871ab48ec7937f9ac99/azure_mgmt_containerregistry-2.0.0-py2.py3-none-any.whl (274kB)\\n', 'Collecting azure-mgmt-containerservice==4.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/5b/2f/0eba2dbd5d3f66c076a66b0020ccfe9c7e78534ac132afaa104c138680c1/azure_mgmt_containerservice-4.4.0-py2.py3-none-any.whl (206kB)\\n', 'Collecting azure-mgmt-cosmosdb==0.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/71/69/b21344bd4cebec03118db5582418a290468113c6cd05a0a76a66175110e2/azure_mgmt_cosmosdb-0.5.2-py2.py3-none-any.whl (101kB)\\n', 'Collecting azure-mgmt-devtestlabs==3.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/9b/e0/583e30ffbfc26d0f950b3d364195ca31beb7806b26fc4cbc940f7fad61b0/azure_mgmt_devtestlabs-3.0.0-py2.py3-none-any.whl (381kB)\\n', 'Collecting azure-mgmt-dns==2.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/c7/d7/0f986a64b06db93cf29b76f9a188f5778eb959624a00ed6aedc335ee58d2/azure_mgmt_dns-2.1.0-py2.py3-none-any.whl (134kB)\\n', 'Collecting azure-mgmt-hdinsight==0.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/14/8c/394f790d71193b3252b7fc13c9931df737436fc3495072455680d5a617a9/azure_mgmt_hdinsight-0.1.0-py2.py3-none-any.whl (117kB)\\n', 'Collecting azure-mgmt-iothub==0.7.0\\n', ' Downloading https://files.pythonhosted.org/packages/9c/c8/333e4f03eef95832f90534c2aea3b6809c2b5d50ca087b7ce4e125527ea9/azure_mgmt_iothub-0.7.0-py2.py3-none-any.whl (131kB)\\n', 'Collecting azure-mgmt-keyvault==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/49/de/0d69aedae7c5f6428314640b65947203ab80409c12b5d4e66fb5b7a4182e/azure_mgmt_keyvault-1.1.0-py2.py3-none-any.whl (111kB)\\n', 'Collecting azure-mgmt-loganalytics==0.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/70/40/c9b77bf82916e963aa701fb396673f7ddc4cdab95524b6d2edf927b05630/azure_mgmt_loganalytics-0.2.0-py2.py3-none-any.whl (89kB)\\n', 'Collecting azure-mgmt-marketplaceordering==0.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/a8/cb/13502fdbaf520d08fb280eb31ecfe5d926b9cf92259c22280bbde96b307d/azure_mgmt_marketplaceordering-0.1.0-py2.py3-none-any.whl\\n', 'Collecting azure-mgmt-monitor==0.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/6a/3b/a8b95ee25f1c209ad82ad06de39f4efbfb9dc8a8dc5da5a7a48d7897bf3e/azure_mgmt_monitor-0.5.2-py2.py3-none-any.whl (247kB)\\n', 'Collecting azure-mgmt-network==2.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/59/36/611dca31be00288f13fb632b4a3397791cf4cdd2c21f331829ec3e086c52/azure_mgmt_network-2.3.0-py2.py3-none-any.whl (7.8MB)\\n', 'Collecting azure-mgmt-nspkg==2.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/c9/e3/48b98f929290b0cd0aaa4707ecabb8aaeb267e8ef628af907f1d1c506ec7/azure_mgmt_nspkg-2.0.0-py2.py3-none-any.whl\\n', 'Collecting azure-mgmt-rdbms==1.4.1\\n', ' Downloading https://files.pythonhosted.org/packages/2a/6c/9b8446c20bc2deff03f148e757d4d397abd67e1d4fdaca45e1a8ada9e7e2/azure_mgmt_rdbms-1.4.1-py2.py3-none-any.whl (243kB)\\n', 'Collecting azure-mgmt-redis==5.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/90/a7/42342a984b2916972c5c5e24df94e3cd5e4377a8dc465a83415706d9be6f/azure_mgmt_redis-5.0.0-py2.py3-none-any.whl (43kB)\\n', 'Collecting azure-mgmt-resource==2.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/2b/2e/e79a278bedfc21308ab0c632759cfda5d7ff02d62260bcc4632449937dcf/azure_mgmt_resource-2.1.0-py2.py3-none-any.whl (757kB)\\n', 'Collecting azure-mgmt-servicebus==0.5.3\\n', ' Downloading https://files.pythonhosted.org/packages/28/ad/9e90f8bab40a9682410e57ed08a799be113c5e470bec247b099038c6389e/azure_mgmt_servicebus-0.5.3-py2.py3-none-any.whl (112kB)\\n', 'Collecting azure-mgmt-sql==0.10.0\\n', ' Downloading https://files.pythonhosted.org/packages/5d/88/4513a4c3ac2779c284eeaa6cb225e6c43005abbd6d0395b15477ac8a66f1/azure_mgmt_sql-0.10.0-py2.py3-none-any.whl (541kB)\\n', 'Collecting azure-mgmt-storage==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/e8/d9/496b29857a252bc3fcc4bbda069c0eb64b537c8e8f7e342abb4053ba920f/azure_mgmt_storage-3.1.0-py2.py3-none-any.whl (696kB)\\n', 'Collecting azure-mgmt-trafficmanager==0.50.0\\n', ' Downloading https://files.pythonhosted.org/packages/ed/4f/c322d72dc92dde543471bc23f9ac0eb6b9d0dc2441bb5ce938250040e307/azure_mgmt_trafficmanager-0.50.0-py2.py3-none-any.whl (52kB)\\n', 'Collecting azure-mgmt-web==0.41.0\\n', ' Downloading https://files.pythonhosted.org/packages/17/23/ba8a043dc657a9cf4820b69cc5d890870a8bfbc5b2241997994d8898bb15/azure_mgmt_web-0.41.0-py2.py3-none-any.whl (645kB)\\n', 'Collecting azure-nspkg==2.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/cd/a0/76ca6659ae9afd7567fdbb5b9c85e9c9a0b48238cfcacd92525484408f66/azure_nspkg-2.0.0-py2.py3-none-any.whl\\n', 'Collecting azure-storage==0.35.1\\n', ' Downloading https://files.pythonhosted.org/packages/76/bf/647b73450c70d4c5efbf57b35edf1b45928695a8b20dce2a4577dee0d539/azure_storage-0.35.1-py2.py3-none-any.whl (190kB)\\n', 'Collecting backports.ssl-match-hostname==3.5.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/76/21/2dc61178a2038a5cb35d14b61467c6ac632791ed05131dda72c20e7b9e23/backports.ssl_match_hostname-3.5.0.1.tar.gz\\n', 'Collecting bcrypt==3.1.7\\n', ' Downloading https://files.pythonhosted.org/packages/8b/1d/82826443777dd4a624e38a08957b975e75df859b381ae302cfd7a30783ed/bcrypt-3.1.7-cp34-abi3-manylinux1_x86_64.whl (56kB)\\n', 'Collecting boto3==1.9.223\\n', ' Downloading https://files.pythonhosted.org/packages/60/43/4fec28d14e6b95e2fe38d9294bf04a5fd930d22fca055a796d2e67097773/boto3-1.9.223-py2.py3-none-any.whl (128kB)\\n', 'Collecting boto==2.47.0\\n', ' Downloading https://files.pythonhosted.org/packages/d7/ce/ced61cdf36d09038fc4c88bac1182845489e51a950148f5c1d1a4804cc28/boto-2.47.0-py2.py3-none-any.whl (1.4MB)\\n', 'Collecting botocore==1.12.253\\n', ' Downloading https://files.pythonhosted.org/packages/8e/7b/88f10115b4748f86be6b7b1d8761ba5023fccf6e6cbe762e368f63eddcf9/botocore-1.12.253-py2.py3-none-any.whl (5.7MB)\\n', 'Collecting cachetools==3.1.1\\n', ' Using cached https://files.pythonhosted.org/packages/2f/a6/30b0a0bef12283e83e58c1d6e7b5aabc7acfc4110df81a4471655d33e704/cachetools-3.1.1-py2.py3-none-any.whl\\n', 'Collecting certifi==2019.11.28\\n', ' Using cached https://files.pythonhosted.org/packages/b9/63/df50cac98ea0d5b006c55a399c3bf1db9da7b5a24de7890bc9cfd5dd9e99/certifi-2019.11.28-py2.py3-none-any.whl\\n', 'Collecting cffi==1.13.2\\n', ' Using cached https://files.pythonhosted.org/packages/2d/bf/960e5a422db3ac1a5e612cb35ca436c3fc985ed4b7ed13a1b4879006f450/cffi-1.13.2.tar.gz\\n', 'Collecting chardet==3.0.4\\n', ' Using cached https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl\\n', 'Collecting colorama==0.4.3\\n', ' Downloading https://files.pythonhosted.org/packages/c9/dc/45cdef1b4d119eb96316b3117e6d5708a08029992b2fee2c143c7a0a5cc5/colorama-0.4.3-py2.py3-none-any.whl\\n', 'Collecting cryptography==2.8\\n', ' Using cached https://files.pythonhosted.org/packages/ca/9a/7cece52c46546e214e10811b36b2da52ce1ea7fa203203a629b8dfadad53/cryptography-2.8-cp34-abi3-manylinux2010_x86_64.whl\\n', 'Collecting decorator==4.4.1\\n', ' Downloading https://files.pythonhosted.org/packages/8f/b7/f329cfdc75f3d28d12c65980e4469e2fa373f1953f5df6e370e84ea2e875/decorator-4.4.1-py2.py3-none-any.whl\\n', 'Collecting docutils==0.15.2\\n', ' Downloading https://files.pythonhosted.org/packages/22/cd/a6aa959dca619918ccb55023b4cb151949c64d4d5d55b3f4ffd7eee0c6e8/docutils-0.15.2-py3-none-any.whl (547kB)\\n', 'Collecting dogpile.cache==0.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/ac/6a/9ac405686a94b7f009a20a50070a5786b0e1aedc707b88d40d0c4b51a82e/dogpile.cache-0.9.0.tar.gz (325kB)\\n', 'Collecting google-auth==1.6.2\\n', ' Downloading https://files.pythonhosted.org/packages/4e/85/71b2dfbf5b4241cd031cc333ed71f90a271074a97cb2c517bb65f07a1a90/google_auth-1.6.2-py2.py3-none-any.whl (73kB)\\n', 'Collecting humanfriendly==4.18\\n', ' Downloading https://files.pythonhosted.org/packages/90/df/88bff450f333114680698dc4aac7506ff7cab164b794461906de31998665/humanfriendly-4.18-py2.py3-none-any.whl (73kB)\\n', 'Collecting idna==2.8\\n', ' Using cached https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl\\n', 'Collecting iso8601==0.1.12\\n', ' Downloading https://files.pythonhosted.org/packages/ef/57/7162609dab394d38bbc7077b7ba0a6f10fb09d8b7701ea56fa1edc0c4345/iso8601-0.1.12-py2.py3-none-any.whl\\n', 'Collecting isodate==0.6.0\\n', ' Using cached https://files.pythonhosted.org/packages/9b/9f/b36f7774ff5ea8e428fdcfc4bb332c39ee5b9362ddd3d40d9516a55221b2/isodate-0.6.0-py2.py3-none-any.whl\\n', 'Collecting jinja2==2.10.1\\n', ' Downloading https://files.pythonhosted.org/packages/1d/e7/fd8b501e7a6dfe492a433deb7b9d833d39ca74916fa8bc63dd1a4947a671/Jinja2-2.10.1-py2.py3-none-any.whl (124kB)\\n', 'Collecting jmespath==0.9.4\\n', ' Downloading https://files.pythonhosted.org/packages/83/94/7179c3832a6d45b266ddb2aac329e101367fbdb11f425f13771d27f225bb/jmespath-0.9.4-py2.py3-none-any.whl\\n', 'Collecting jsonpatch==1.24\\n', ' Downloading https://files.pythonhosted.org/packages/86/7e/035d19a73306278673039f0805b863be8798057cc1b4008b9c8c7d1d32a3/jsonpatch-1.24-py2.py3-none-any.whl\\n', 'Collecting jsonpointer==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/18/b0/a80d29577c08eea401659254dfaed87f1af45272899e1812d7e01b679bc5/jsonpointer-2.0-py2.py3-none-any.whl\\n', 'Collecting keystoneauth1==3.18.0\\n', ' Downloading https://files.pythonhosted.org/packages/97/f6/6d17bcad6eff1561e3cfde1ea4d1d6bb9aac612b3fdfe78ec5049d01694e/keystoneauth1-3.18.0-py2.py3-none-any.whl (310kB)\\n', 'Collecting knack==0.3.3\\n', ' Downloading https://files.pythonhosted.org/packages/92/aa/d5563dfb2724a5d7899170461f8c70e88f8f9422bd1c44a2a7528e2e6235/knack-0.3.3-py2.py3-none-any.whl (42kB)\\n', 'Collecting lxml==4.4.2\\n', ' Using cached https://files.pythonhosted.org/packages/68/30/affd16b77edf9537f5be051905f33527021e20d563d013e8c42c7fd01949/lxml-4.4.2-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting markupsafe==1.1.1\\n', ' Using cached https://files.pythonhosted.org/packages/b2/5f/23e0023be6bb885d00ffbefad2942bc51a620328ee910f64abe5a8d18dd1/MarkupSafe-1.1.1-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting msrest==0.6.1\\n', ' Downloading https://files.pythonhosted.org/packages/dc/8e/05c45ff0c0f293e8d044030a0007a16ece0d39dbc7fa6bb911a2f53b649a/msrest-0.6.1-py2.py3-none-any.whl (81kB)\\n', 'Collecting msrestazure==0.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/a4/48/cfa54772365b4d0b8f3e7af16354db768b0317b3273265b37c14f71b705b/msrestazure-0.5.0-py2.py3-none-any.whl\\n', 'Collecting munch==2.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/cc/ab/85d8da5c9a45e072301beb37ad7f833cd344e04c817d97e0cc75681d248f/munch-2.5.0-py2.py3-none-any.whl\\n', 'Collecting ncclient==0.6.3\\n', ' Downloading https://files.pythonhosted.org/packages/dc/95/acc44c2ff966743fedd1ad991ecf2498f40fd434883c67138b60a6373d49/ncclient-0.6.3.tar.gz (88kB)\\n', 'Collecting netaddr==0.7.19\\n', ' Using cached https://files.pythonhosted.org/packages/ba/97/ce14451a9fd7bdb5a397abf99b24a1a6bb7a1a440b019bebd2e9a0dbec74/netaddr-0.7.19-py2.py3-none-any.whl\\n', 'Collecting netifaces==0.10.9\\n', ' Downloading https://files.pythonhosted.org/packages/0c/9b/c4c7eb09189548d45939a3d3a6b3d53979c67d124459b27a094c365c347f/netifaces-0.10.9-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting ntlm-auth==1.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/50/09/5e397eb18685b14fd8b209e26cdb4fa6451c82c1bcc651fef05fa73e7b27/ntlm_auth-1.4.0-py2.py3-none-any.whl\\n', 'Collecting oauthlib==3.1.0\\n', ' Using cached https://files.pythonhosted.org/packages/05/57/ce2e7a8fa7c0afb54a0581b14a65b56e62b5759dbc98e80627142b8a3704/oauthlib-3.1.0-py2.py3-none-any.whl\\n', 'Collecting openstacksdk==0.31.1\\n', ' Downloading https://files.pythonhosted.org/packages/0a/22/b601b1134107ddbc78a5a61bed31c57a5cd75306cc683081662bc72c3df4/openstacksdk-0.31.1-py2.py3-none-any.whl (1.2MB)\\n', 'Collecting os-service-types==1.7.0\\n', ' Downloading https://files.pythonhosted.org/packages/10/2d/318b2b631f68e0fc221ba8f45d163bf810cdb795cf242fe85ad3e5d45639/os_service_types-1.7.0-py2.py3-none-any.whl\\n', 'Collecting ovirt-engine-sdk-python==4.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/53/06/4faf279a5e58c7a6a28fcc865ba3b5b69c39ee786a5043ab1ccfb5d8c75e/ovirt-engine-sdk-python-4.3.0.tar.gz (324kB)\\n', 'Collecting packaging==19.2\\n', ' Downloading https://files.pythonhosted.org/packages/cf/94/9672c2d4b126e74c4496c6b3c58a8b51d6419267be9e70660ba23374c875/packaging-19.2-py2.py3-none-any.whl\\n', 'Collecting paramiko==2.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/06/1e/1e08baaaf6c3d3df1459fd85f0e7d2d6aa916f33958f151ee1ecc9800971/paramiko-2.7.1-py2.py3-none-any.whl (206kB)\\n', 'Collecting pbr==5.4.4\\n', ' Downloading https://files.pythonhosted.org/packages/7a/db/a968fd7beb9fe06901c1841cb25c9ccb666ca1b9a19b114d1bbedf1126fc/pbr-5.4.4-py2.py3-none-any.whl (110kB)\\n', 'Collecting psutil==5.4.3\\n', ' Downloading https://files.pythonhosted.org/packages/e2/e1/600326635f97fee89bf8426fef14c5c29f4849c79f68fd79f433d8c1bd96/psutil-5.4.3.tar.gz (412kB)\\n', 'Collecting pyasn1-modules==0.2.7\\n', ' Using cached https://files.pythonhosted.org/packages/52/50/bb4cefca37da63a0c52218ba2cb1b1c36110d84dcbae8aa48cd67c5e95c2/pyasn1_modules-0.2.7-py2.py3-none-any.whl\\n', 'Collecting pyasn1==0.4.8\\n', ' Using cached https://files.pythonhosted.org/packages/62/1e/a94a8d635fa3ce4cfc7f506003548d0a2447ae76fd5ca53932970fe3053f/pyasn1-0.4.8-py2.py3-none-any.whl\\n', 'Collecting pycparser==2.19\\n', ' Using cached https://files.pythonhosted.org/packages/68/9e/49196946aee219aead1290e00d1e7fdeab8567783e83e1b9ab5585e6206a/pycparser-2.19.tar.gz\\n', 'Collecting pycurl==7.43.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/77/d9/d272b38e6e25d2686e22f6058820298dadead69340b1c57ff84c87ef81f0/pycurl-7.43.0.1.tar.gz (195kB)\\n', 'Collecting pygments==2.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/be/39/32da3184734730c0e4d3fa3b2b5872104668ad6dc1b5a73d8e477e5fe967/Pygments-2.5.2-py2.py3-none-any.whl (896kB)\\n', 'Collecting pyjwt==1.7.1\\n', ' Using cached https://files.pythonhosted.org/packages/87/8b/6a9f14b5f781697e51259d81657e6048fd31a113229cf346880bb7545565/PyJWT-1.7.1-py2.py3-none-any.whl\\n', 'Collecting pykerberos==1.2.1\\n', ' Downloading https://files.pythonhosted.org/packages/9a/b8/1ec56b6fa8a2e2a81420bd3d90e70b59fc83f6b857fb2c2c37accddc8be3/pykerberos-1.2.1.tar.gz\\n', 'Collecting pynacl==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/27/15/2cd0a203f318c2240b42cd9dd13c931ddd61067809fee3479f44f086103e/PyNaCl-1.3.0-cp34-abi3-manylinux1_x86_64.whl (759kB)\\n', 'Collecting pyopenssl==19.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/9e/de/f8342b68fa9e981d348039954657bdf681b2ab93de27443be51865ffa310/pyOpenSSL-19.1.0-py2.py3-none-any.whl (53kB)\\n', 'Collecting pyparsing==2.4.5\\n', ' Using cached https://files.pythonhosted.org/packages/c0/0c/fc2e007d9a992d997f04a80125b0f183da7fb554f1de701bbb70a8e7d479/pyparsing-2.4.5-py2.py3-none-any.whl\\n', 'Collecting python-dateutil==2.8.1\\n', ' Using cached https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl\\n', 'Collecting pyvmomi==6.7.3\\n', ' Downloading https://files.pythonhosted.org/packages/eb/87/ebf153a3aafdac7c54c5578b6240d7930a8c0a1a21bdd98d271fd131673c/pyvmomi-6.7.3.tar.gz (576kB)\\n', 'Collecting pywinrm[kerberos]==0.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/0d/12/13a3117bbd2230043aa32dcfa2198c33269665eaa1a8fa26174ce49b338f/pywinrm-0.3.0-py2.py3-none-any.whl\\n', 'Processing /root/.cache/pip/wheels/54/b7/c7/2ada654ee54483c9329871665aaf4a6056c3ce36f29cf66e67/PyYAML-5.2-cp36-cp36m-linux_x86_64.whl\\n', 'Collecting requests-credssp==1.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/92/bd/4b187dd2f11ffd8475cb225a5d80e02ebe25ebaa024d8dfa49f974b32fc8/requests_credssp-1.0.2-py2.py3-none-any.whl\\n', 'Collecting requests-kerberos==0.12.0\\n', ' Downloading https://files.pythonhosted.org/packages/ee/a2/866f2b9a60f75055137b9ad127033e397963b2c4769d4b5fab1c3c7e8be3/requests_kerberos-0.12.0-py2.py3-none-any.whl\\n', 'Collecting requests-ntlm==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/03/4b/8b9a1afde8072c4d5710d9fa91433d504325821b038e00237dc8d6d833dc/requests_ntlm-1.1.0-py2.py3-none-any.whl\\n', 'Collecting requests-oauthlib==1.3.0\\n', ' Using cached https://files.pythonhosted.org/packages/a3/12/b92740d845ab62ea4edf04d2f4164d82532b5a0b03836d4d4e71c6f3d379/requests_oauthlib-1.3.0-py2.py3-none-any.whl\\n', 'Collecting requests==2.22.0\\n', ' Using cached https://files.pythonhosted.org/packages/51/bd/23c926cd341ea6b7dd0b2a00aba99ae0f828be89d72b2190f27c11d4b7fb/requests-2.22.0-py2.py3-none-any.whl\\n', 'Collecting requestsexceptions==1.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/01/8c/49ca60ea8c907260da4662582c434bec98716177674e88df3fd340acf06d/requestsexceptions-1.4.0-py2.py3-none-any.whl\\n', 'Collecting rsa==4.0\\n', ' Using cached https://files.pythonhosted.org/packages/02/e5/38518af393f7c214357079ce67a317307936896e961e35450b70fad2a9cf/rsa-4.0-py2.py3-none-any.whl\\n', 'Collecting s3transfer==0.2.1\\n', ' Downloading https://files.pythonhosted.org/packages/16/8a/1fc3dba0c4923c2a76e1ff0d52b305c44606da63f718d14d3231e21c51b0/s3transfer-0.2.1-py2.py3-none-any.whl (70kB)\\n', 'Collecting selectors2==2.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/c9/89/8a07d6d6c78422c5151f68453e9741af4cd82bebcfa73923f73b3bdbef0d/selectors2-2.0.1-py2.py3-none-any.whl\\n', 'Collecting six==1.13.0\\n', ' Using cached https://files.pythonhosted.org/packages/65/26/32b8464df2a97e6dd1b656ed26b2c194606c16fe163c695a992b36c11cdf/six-1.13.0-py2.py3-none-any.whl\\n', 'Collecting stevedore==1.31.0\\n', ' Downloading https://files.pythonhosted.org/packages/b1/e1/f5ddbd83f60b03f522f173c03e406c1bff8343f0232a292ac96aa633b47a/stevedore-1.31.0-py2.py3-none-any.whl (43kB)\\n', 'Collecting tabulate==0.8.2\\n', ' Downloading https://files.pythonhosted.org/packages/12/c2/11d6845db5edf1295bc08b2f488cf5937806586afe42936c3f34c097ebdc/tabulate-0.8.2.tar.gz (45kB)\\n', 'Collecting urllib3==1.25.7\\n', ' Using cached https://files.pythonhosted.org/packages/b4/40/a9837291310ee1ccc242ceb6ebfd9eb21539649f193a7c8c86ba15b98539/urllib3-1.25.7-py2.py3-none-any.whl\\n', 'Collecting wheel==0.30.0\\n', ' Downloading https://files.pythonhosted.org/packages/0c/80/16a85b47702a1f47a63c104c91abdd0a6704ee8ae3b4ce4afc49bc39f9d9/wheel-0.30.0-py2.py3-none-any.whl (49kB)\\n', 'Collecting xmltodict==0.12.0\\n', ' Downloading https://files.pythonhosted.org/packages/28/fd/30d5c1d3ac29ce229f6bdc40bbc20b28f716e8b363140c26eff19122d8a5/xmltodict-0.12.0-py2.py3-none-any.whl\\n', 'Requirement already satisfied: pip==19.3.1 in /var/lib/awx/venv/ansible/lib/python3.6/site-packages (from -r /dev/stdin (line 118)) (19.3.1)\\n', 'Requirement already satisfied: setuptools==41.6.0 in /var/lib/awx/venv/ansible/lib/python3.6/site-packages (from -r /dev/stdin (line 119)) (41.6.0)\\n', 'Skipping wheel build for cffi, due to binaries being disabled for it.\\n', 'Skipping wheel build for pycparser, due to binaries being disabled for it.\\n', 'Building wheels for collected packages: backports.ssl-match-hostname, dogpile.cache, ncclient, ovirt-engine-sdk-python, psutil, pycurl, pykerberos, pyvmomi, tabulate\\n', ' Building wheel for backports.ssl-match-hostname (setup.py): started\\n', \"" Building wheel for backports.ssl-match-hostname (setup.py): finished with status 'done'\\n\"", ' Created wheel for backports.ssl-match-hostname: filename=backports.ssl_match_hostname-3.5.0.1-cp36-none-any.whl size=5207 sha256=023b6b8abf7d82ae14c913e83ab505025f48f41e3340d582df34802ded076a73\\n', ' Stored in directory: /root/.cache/pip/wheels/99/7e/f7/a88a9bcf7a3bd6b12cf6a74eee8c89746aaa02f71ab7b33939\\n', ' Building wheel for dogpile.cache (setup.py): started\\n', \"" Building wheel for dogpile.cache (setup.py): finished with status 'done'\\n\"", ' Created wheel for dogpile.cache: filename=dogpile.cache-0.9.0-py2.py3-none-any.whl size=44831 sha256=4b8686b9a2f7940ec82242d4a6ba9bda97dffa2caedfad49b304c29388e6cdb1\\n', ' Stored in directory: /root/.cache/pip/wheels/b4/ad/c4/1faa9b2da61b12b7c3821cda298be230c457ee740bd8658cb2\\n', ' Building wheel for ncclient (setup.py): started\\n', \"" Building wheel for ncclient (setup.py): finished with status 'done'\\n\"", ' Created wheel for ncclient: filename=ncclient-0.6.3-py2.py3-none-any.whl size=67560 sha256=28f639ab7ebdc51045e8a0b1e7872c84fcc46770481b941a98f50364ef2e3056\\n', ' Stored in directory: /root/.cache/pip/wheels/02/53/2f/ea7066e29477ca43cc166cdf14e64b87f3dd4e26c4f673adf2\\n', ' Building wheel for ovirt-engine-sdk-python (setup.py): started\\n', \"" Building wheel for ovirt-engine-sdk-python (setup.py): finished with status 'done'\\n\"", ' Created wheel for ovirt-engine-sdk-python: filename=ovirt_engine_sdk_python-4.3.0-cp36-cp36m-linux_x86_64.whl size=305822 sha256=5c46a26174acd06c589b798db230e3e76ef4ec2aa29030e77925f0a6dc3893a6\\n', ' Stored in directory: /root/.cache/pip/wheels/70/33/f1/50e272a0b605fcbd09a01e49ddf274684c53230d009077cff4\\n', ' Building wheel for psutil (setup.py): started\\n', \"" Building wheel for psutil (setup.py): finished with status 'done'\\n\"", ' Created wheel for psutil: filename=psutil-5.4.3-cp36-cp36m-linux_x86_64.whl size=269884 sha256=086fb5a89c4e2fa1e3a08eb167216d88d31576ac6fad5c41324f756e8c36ecb3\\n', ' Stored in directory: /root/.cache/pip/wheels/fe/33/84/baea3d665de2d1af7e8f827f3883811bba5e4149443ccf8191\\n', ' Building wheel for pycurl (setup.py): started\\n', \"" Building wheel for pycurl (setup.py): finished with status 'done'\\n\"", ' Created wheel for pycurl: filename=pycurl-7.43.0.1-cp36-cp36m-linux_x86_64.whl size=258887 sha256=66b7b07eb13a52c68d0efed0eb06ef45ddc7f7a91171c29cd66df2fe4bb6c1fc\\n', ' Stored in directory: /root/.cache/pip/wheels/77/c8/b6/bed2606b4ae3cf738c99c111d88ce33d8ae82171c40cbddbf0\\n', ' Building wheel for pykerberos (setup.py): started\\n', \"" Building wheel for pykerberos (setup.py): finished with status 'done'\\n\"", ' Created wheel for pykerberos: filename=pykerberos-1.2.1-cp36-cp36m-linux_x86_64.whl size=79354 sha256=29d3c602a1949a483c878a1bf67ff9eb0455041a2286dbe2962b1e1fe632f0ab\\n', ' Stored in directory: /root/.cache/pip/wheels/c7/a7/07/d414c22754acf5822ccce48b41822142974ec103057c8305e7\\n', ' Building wheel for pyvmomi (setup.py): started\\n', \"" Building wheel for pyvmomi (setup.py): finished with status 'done'\\n\"", ' Created wheel for pyvmomi: filename=pyvmomi-6.7.3-py2.py3-none-any.whl size=244214 sha256=b30f3c2ff05e1ac1d32f1df76cb68b723685d22a0c5af1f08cead1addc7b89e1\\n', ' Stored in directory: /root/.cache/pip/wheels/79/04/32/49efab8d7c4728408253a358c51b7eeaed8778b9c529422715\\n', ' Building wheel for tabulate (setup.py): started\\n', \"" Building wheel for tabulate (setup.py): finished with status 'done'\\n\"", ' Created wheel for tabulate: filename=tabulate-0.8.2-cp36-none-any.whl size=23533 sha256=8eb05d6bebe94b0b34f09057f9dacff3df1fd1c93c17d5597851996272f8bb2b\\n', ' Stored in directory: /root/.cache/pip/wheels/2a/85/33/2f6da85d5f10614cbe5a625eab3b3aebfdf43e7b857f25f829\\n', 'Successfully built backports.ssl-match-hostname dogpile.cache ncclient ovirt-engine-sdk-python psutil pycurl pykerberos pyvmomi tabulate\\n', 'Installing collected packages: six, python-dateutil, idna, chardet, urllib3, certifi, requests, pycparser, cffi, cryptography, pyjwt, adal, apache-libcloud, appdirs, applicationinsights, argcomplete, tabulate, colorama, oauthlib, requests-oauthlib, isodate, msrest, msrestazure, jmespath, pygments, pyyaml, knack, wheel, azure-nspkg, azure-cli-nspkg, pynacl, bcrypt, paramiko, pyopenssl, humanfriendly, azure-cli-core, azure-common, azure-graphrbac, azure-keyvault, azure-mgmt-authorization, azure-mgmt-automation, azure-mgmt-nspkg, azure-mgmt-batch, azure-mgmt-cdn, azure-mgmt-compute, azure-mgmt-containerinstance, azure-mgmt-containerregistry, azure-mgmt-containerservice, azure-mgmt-cosmosdb, azure-mgmt-devtestlabs, azure-mgmt-dns, azure-mgmt-hdinsight, azure-mgmt-iothub, azure-mgmt-keyvault, azure-mgmt-loganalytics, azure-mgmt-marketplaceordering, azure-mgmt-monitor, azure-mgmt-network, azure-mgmt-rdbms, azure-mgmt-redis, azure-mgmt-resource, azure-mgmt-servicebus, azure-mgmt-sql, azure-mgmt-storage, azure-mgmt-trafficmanager, azure-mgmt-web, azure-storage, backports.ssl-match-hostname, docutils, botocore, s3transfer, boto3, boto, cachetools, decorator, dogpile.cache, pyasn1, rsa, pyasn1-modules, google-auth, iso8601, markupsafe, jinja2, jsonpointer, jsonpatch, pbr, os-service-types, stevedore, keystoneauth1, lxml, munch, selectors2, ncclient, netaddr, netifaces, ntlm-auth, requestsexceptions, openstacksdk, pycurl, ovirt-engine-sdk-python, pyparsing, packaging, psutil, pykerberos, pyvmomi, requests-ntlm, xmltodict, requests-kerberos, pywinrm, requests-credssp\\n', ' Running setup.py install for pycparser: started\\n', \"" Running setup.py install for pycparser: finished with status 'done'\\n\"", ' Running setup.py install for cffi: started\\n', \"" Running setup.py install for cffi: finished with status 'done'\\n\"", ' Found existing installation: wheel 0.34.2\\n', ' Uninstalling wheel-0.34.2:\\n', ' Successfully uninstalled wheel-0.34.2\\n', 'Successfully installed adal-1.2.2 apache-libcloud-2.5.0 appdirs-1.4.3 applicationinsights-0.11.9 argcomplete-1.10.3 azure-cli-core-2.0.35 azure-cli-nspkg-3.0.2 azure-common-1.1.11 azure-graphrbac-0.40.0 azure-keyvault-1.0.0a1 azure-mgmt-authorization-0.51.1 azure-mgmt-automation-0.1.1 azure-mgmt-batch-5.0.1 azure-mgmt-cdn-3.0.0 azure-mgmt-compute-4.4.0 azure-mgmt-containerinstance-1.4.0 azure-mgmt-containerregistry-2.0.0 azure-mgmt-containerservice-4.4.0 azure-mgmt-cosmosdb-0.5.2 azure-mgmt-devtestlabs-3.0.0 azure-mgmt-dns-2.1.0 azure-mgmt-hdinsight-0.1.0 azure-mgmt-iothub-0.7.0 azure-mgmt-keyvault-1.1.0 azure-mgmt-loganalytics-0.2.0 azure-mgmt-marketplaceordering-0.1.0 azure-mgmt-monitor-0.5.2 azure-mgmt-network-2.3.0 azure-mgmt-nspkg-2.0.0 azure-mgmt-rdbms-1.4.1 azure-mgmt-redis-5.0.0 azure-mgmt-resource-2.1.0 azure-mgmt-servicebus-0.5.3 azure-mgmt-sql-0.10.0 azure-mgmt-storage-3.1.0 azure-mgmt-trafficmanager-0.50.0 azure-mgmt-web-0.41.0 azure-nspkg-2.0.0 azure-storage-0.35.1 backports.ssl-match-hostname-3.5.0.1 bcrypt-3.1.7 boto-2.47.0 boto3-1.9.223 botocore-1.12.253 cachetools-3.1.1 certifi-2019.11.28 cffi-1.13.2 chardet-3.0.4 colorama-0.4.3 cryptography-2.8 decorator-4.4.1 docutils-0.15.2 dogpile.cache-0.9.0 google-auth-1.6.2 humanfriendly-4.18 idna-2.8 iso8601-0.1.12 isodate-0.6.0 jinja2-2.10.1 jmespath-0.9.4 jsonpatch-1.24 jsonpointer-2.0 keystoneauth1-3.18.0 knack-0.3.3 lxml-4.4.2 markupsafe-1.1.1 msrest-0.6.1 msrestazure-0.5.0 munch-2.5.0 ncclient-0.6.3 netaddr-0.7.19 netifaces-0.10.9 ntlm-auth-1.4.0 oauthlib-3.1.0 openstacksdk-0.31.1 os-service-types-1.7.0 ovirt-engine-sdk-python-4.3.0 packaging-19.2 paramiko-2.7.1 pbr-5.4.4 psutil-5.4.3 pyasn1-0.4.8 pyasn1-modules-0.2.7 pycparser-2.19 pycurl-7.43.0.1 pygments-2.5.2 pyjwt-1.7.1 pykerberos-1.2.1 pynacl-1.3.0 pyopenssl-19.1.0 pyparsing-2.4.5 python-dateutil-2.8.1 pyvmomi-6.7.3 pywinrm-0.3.0 pyyaml-5.2 requests-2.22.0 requests-credssp-1.0.2 requests-kerberos-0.12.0 requests-ntlm-1.1.0 requests-oauthlib-1.3.0 requestsexceptions-1.4.0 rsa-4.0 s3transfer-0.2.1 selectors2-2.0.1 six-1.13.0 stevedore-1.31.0 tabulate-0.8.2 urllib3-1.25.7 wheel-0.30.0 xmltodict-0.12.0\\n', \""\\x1b[91mWARNING: You are using pip version 19.3.1; however, version 20.0.2 is available.\\nYou should consider upgrading via the 'pip install --upgrade pip' command.\\n\\x1b[0m\"", '/var/lib/awx/venv/ansible/bin/pip3 uninstall --yes -r requirements/requirements_ansible_uninstall.txt\\n', 'Uninstalling pycurl-7.43.0.1:\\n', ' Successfully uninstalled pycurl-7.43.0.1\\n', 'Uninstalling rsa-4.0:\\n', ' Successfully uninstalled rsa-4.0\\n', '# Same effect as using --system-site-packages flag on venv creation\\n', 'rm /var/lib/awx/venv/ansible/lib/python3.6/no-global-site-packages.txt\\n', \""\\x1b[91mrm: cannot remove '/var/lib/awx/venv/ansible/lib/python3.6/no-global-site-packages.txt': No such file or directory\\n\\x1b[0m\"", '\\x1b[91mmake: *** [Makefile:190: requirements_ansible_py3] Error 1\\n\\x1b[0m', 'Removing intermediate container c94d5f8ec9fb\\n']""} PLAY RECAP ***************************************************************************************************************************************************************************** localhost : ok=26 changed=2 unreachable=0 failed=1 skipped=5 rescued=0 ignored=0 ```",other-file | other-file,"Build AWX from source ##### ISSUE TYPE - Bug Report ##### SUMMARY Try to build a new awx image with custom UI ##### ENVIRONMENT * AWX version: 9.1.1 * AWX install method: docker on linux * Ansible version: ansible 2.9.4 * Operating System: Centos 7 * Web Browser: ##### STEPS TO REPRODUCE remove dockerhub_base=ansible from inventory `ansible-playbook -i inventory install.yml` ##### EXPECTED RESULTS working awx ##### ACTUAL RESULTS ``` TASK [image_build : Build base web image] ********************************************************************************************************************************************** fatal: [localhost -> localhost]: FAILED! => {""changed"": false, ""msg"": ""Error building awx_web - code: 2, message: The command '/bin/sh -c cd /tmp && VENV_BASE=\""/var/lib/awx/venv\"" make requirements_awx requirements_ansible_py3' returned a non-zero code: 2, logs: ['Step 1/46 : FROM centos:8', '\\n', ' ---> 470671670cac\\n', 'Step 2/46 : USER root', '\\n', ' ---> Using cache\\n', ' ---> 88f349f8a968\\n', \""Step 3/46 : RUN dnf -y update && dnf -y install epel-release 'dnf-command(config-manager)' && dnf module -y enable 'postgresql:10' && dnf config-manager --set-enabled PowerTools && dnf -y install acl ansible bubblewrap curl gcc gcc-c++ git-core glibc-langpack-en krb5-workstation libcurl-devel libffi-devel libstdc++.so.6 libtool-ltdl-devel libcgroup-tools make mercurial nginx nodejs nss openldap-devel openssh-server patch @postgresql:10 postgresql-devel python3-devel python3-libselinux python3-pip python3-psycopg2 python3-setuptools rsync subversion sudo swig tmux unzip vim-minimal xmlsec1 xmlsec1-devel xmlsec1-openssl xmlsec1-openssl-devel dnf-utils\"", '\\n', ' ---> Using cache\\n', ' ---> 8415d8b83c17\\n', 'Step 4/46 : ADD https://github.com/krallin/tini/releases/download/v0.14.0/tini /tini', '\\n', '\\n', ' ---> Using cache\\n', ' ---> 4ca1fdbeae75\\n', 'Step 5/46 : RUN chmod +x /tini', '\\n', ' ---> Using cache\\n', ' ---> 5827446b1bcb\\n', 'Step 6/46 : RUN python3 -m ensurepip && pip3 install virtualenv', '\\n', ' ---> Using cache\\n', ' ---> d6ff5fbaa4bb\\n', 'Step 7/46 : RUN pip3 install supervisor', '\\n', ' ---> Using cache\\n', ' ---> 99159fd5e84a\\n', 'Step 8/46 : ADD Makefile /tmp/Makefile', '\\n', ' ---> Using cache\\n', ' ---> 56231c0c198f\\n', 'Step 9/46 : RUN mkdir /tmp/requirements', '\\n', ' ---> Using cache\\n', ' ---> 8d1e3bc0f70a\\n', 'Step 10/46 : ADD requirements/requirements_ansible.txt requirements/requirements_ansible_uninstall.txt requirements/requirements_ansible_git.txt requirements/requirements.txt requirements/requirements_tower_uninstall.txt requirements/requirements_git.txt /tmp/requirements/', '\\n', ' ---> Using cache\\n', ' ---> 0542cc854d98\\n', 'Step 11/46 : RUN cd /tmp && VENV_BASE=\""/var/lib/awx/venv\"" make requirements_awx requirements_ansible_py3', '\\n', ' ---> Running in c94d5f8ec9fb\\n', '\\x1b[91mcat: VERSION: No such file or directory\\n\\x1b[0m', '\\x1b[91mfatal: not a git repository (or any of the parent directories): .git\\n\\x1b[0m', 'if [ \""/var/lib/awx/venv\"" ]; then \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv\"" ]; then \\\\\\n\\t\\tmkdir /var/lib/awx/venv; \\\\\\n\\tfi; \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv/awx\"" ]; then \\\\\\n\\t\\tvirtualenv -p python3 /var/lib/awx/venv/awx; \\\\\\n\\t\\t/var/lib/awx/venv/awx/bin/pip install pip==19.3.1 setuptools==41.6.0 && \\\\\\n\\t\\t/var/lib/awx/venv/awx/bin/pip install flit; \\\\\\n\\tfi; \\\\\\nfi\\n', \""\\x1b[91mmkdir: cannot create directory '/var/lib/awx/venv': No such file or directory\\n\\x1b[0m\"", 'created virtual environment in 458ms CPython3Posix(dest=/var/lib/awx/venv/awx, clear=False, global=False) with seeder FromAppData pip=latest setuptools=latest wheel=latest app_data_dir=/root/.local/share/virtualenv/seed-v1 via=copy\\n', 'Collecting pip==19.3.1\\n', ' Downloading pip-19.3.1-py2.py3-none-any.whl (1.4 MB)\\n', 'Collecting setuptools==41.6.0\\n', ' Downloading setuptools-41.6.0-py2.py3-none-any.whl (582 kB)\\n', 'Installing collected packages: pip, setuptools\\n Attempting uninstall: pip\\n', ' Found existing installation: pip 20.0.2\\n', ' Uninstalling pip-20.0.2:\\n', ' Successfully uninstalled pip-20.0.2\\n', ' Attempting uninstall: setuptools\\n', ' Found existing installation: setuptools 45.2.0\\n', ' Uninstalling setuptools-45.2.0:\\n', ' Successfully uninstalled setuptools-45.2.0\\n', 'Successfully installed pip-19.3.1 setuptools-41.6.0\\n', 'Collecting flit\\n', ' Downloading https://files.pythonhosted.org/packages/80/f6/b10b8541b07caa4b680bdd84744056a401f142e639c9c316adaa88b9fa78/flit-2.2.0-py3-none-any.whl (49kB)\\n', 'Collecting requests\\n', ' Downloading https://files.pythonhosted.org/packages/51/bd/23c926cd341ea6b7dd0b2a00aba99ae0f828be89d72b2190f27c11d4b7fb/requests-2.22.0-py2.py3-none-any.whl (57kB)\\n', 'Collecting flit_core>=2.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/25/4c/0b1ed660937d96ed192c376d3983dd7b052b887c8041ae020c950c0d06f0/flit_core-2.2.0-py2.py3-none-any.whl (40kB)\\n', 'Collecting docutils\\n', ' Downloading https://files.pythonhosted.org/packages/81/44/8a15e45ffa96e6cf82956dd8d7af9e666357e16b0d93b253903475ee947f/docutils-0.16-py2.py3-none-any.whl (548kB)\\n', 'Collecting pytoml\\n', ' Downloading https://files.pythonhosted.org/packages/a5/47/c7f8a0f210ad18576840922e0b504f0b7f5f73aea4a52ab14c5b58517edf/pytoml-0.1.21-py2.py3-none-any.whl\\n', 'Collecting idna<2.9,>=2.5\\n', ' Downloading https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl (58kB)\\n', 'Collecting chardet<3.1.0,>=3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl (133kB)\\n', 'Collecting certifi>=2017.4.17\\n', ' Downloading https://files.pythonhosted.org/packages/b9/63/df50cac98ea0d5b006c55a399c3bf1db9da7b5a24de7890bc9cfd5dd9e99/certifi-2019.11.28-py2.py3-none-any.whl (156kB)\\n', 'Collecting urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1\\n', ' Downloading https://files.pythonhosted.org/packages/e8/74/6e4f91745020f967d09332bb2b8b9b10090957334692eb88ea4afe91b77f/urllib3-1.25.8-py2.py3-none-any.whl (125kB)\\n', 'Installing collected packages: idna, chardet, certifi, urllib3, requests, pytoml, flit-core, docutils, flit\\n', 'Successfully installed certifi-2019.11.28 chardet-3.0.4 docutils-0.16 flit-2.2.0 flit-core-2.2.0 idna-2.8 pytoml-0.1.21 requests-2.22.0 urllib3-1.25.8\\n', \""\\x1b[91mWARNING: You are using pip version 19.3.1; however, version 20.0.2 is available.\\nYou should consider upgrading via the 'pip install --upgrade pip' command.\\n\\x1b[0m\"", 'if [[ \""\"" == *\""--no-index\""* ]]; then \\\\\\n cat requirements/requirements.txt requirements/requirements_local.txt | /var/lib/awx/venv/awx/bin/pip install -r /dev/stdin ; \\\\\\nelse \\\\\\n cat requirements/requirements.txt requirements/requirements_git.txt | /var/lib/awx/venv/awx/bin/pip install --no-binary cffi,pycparser,psycopg2,twilio -r /dev/stdin ; \\\\\\nfi\\n', 'Collecting adal==1.2.2\\n', ' Downloading https://files.pythonhosted.org/packages/4f/b5/3ea9ae3d1096b9ff31e8f1846c47d49f3129a12464ac0a73b602de458298/adal-1.2.2-py2.py3-none-any.whl (53kB)\\n', 'Collecting amqp==2.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/fc/a0/6aa2a7923d4e82dda23db27711d565f0c4abf1570859f168e3d0975f1eb6/amqp-2.5.2-py2.py3-none-any.whl (49kB)\\n', 'Collecting ansible-runner==1.4.4\\n', ' Downloading https://files.pythonhosted.org/packages/ac/e0/e475d8b5c185b64821158075943c1168db5b9fc59a47cd4dab6696e5a1ed/ansible_runner-1.4.4-py2.py3-none-any.whl (57kB)\\n', 'Collecting ansiconv==1.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/1b/2a/71b1b944a4e1d4e3daf614160f6d4aca8fbd4b0ece2ce64f70869d5f7503/ansiconv-1.0.0.zip\\n', 'Collecting asgi-amqp==1.1.4\\n', ' Downloading https://files.pythonhosted.org/packages/5a/7a/c39dbe7bc82f60f7b78edd935f607d404b23571437a62d93ff98da59c3e8/asgi_amqp-1.1.4-py2.py3-none-any.whl\\n', 'Collecting asgiref==1.1.2\\n', ' Downloading https://files.pythonhosted.org/packages/ee/6d/67f79a9567de5ba4419c3e8d39622bed0d974d704075d09df765b5ddb5ce/asgiref-1.1.2-py2.py3-none-any.whl\\n', 'Collecting attrs==19.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/a2/db/4313ab3be961f7a763066401fb77f7748373b6094076ae2bda2806988af6/attrs-19.3.0-py2.py3-none-any.whl\\n', 'Collecting autobahn==19.11.1\\n', ' Downloading https://files.pythonhosted.org/packages/35/77/1bf9b3c4c0850fd6f00996afcf5e71e35295c145833f4e2430d0a7fddbaa/autobahn-19.11.1-py2.py3-none-any.whl (769kB)\\n', 'Collecting automat==0.8.0\\n', ' Downloading https://files.pythonhosted.org/packages/e5/11/756922e977bb296a79ccf38e8d45cafee446733157d59bcd751d3aee57f5/Automat-0.8.0-py2.py3-none-any.whl\\n', 'Collecting azure-common==1.1.23\\n', ' Downloading https://files.pythonhosted.org/packages/00/55/a703923c12cd3172d5c007beda0c1a34342a17a6a72779f8a7c269af0cd6/azure_common-1.1.23-py2.py3-none-any.whl\\n', 'Collecting azure-keyvault==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/80/37/e80f577570b32648c4b88c8c48a46501a4868ae4c8d905774fd02c2b01fc/azure_keyvault-1.1.0-py2.py3-none-any.whl (352kB)\\n', 'Collecting azure-nspkg==3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/c4/0c/c562be95a9a2ed52454f598571cf300b1114d0db2aa27f5b8ed3bb9cd0c0/azure_nspkg-3.0.2-py3-none-any.whl\\n', 'Collecting billiard==3.6.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/9a/bb/2a016ac912fca48e06ff5a662407f3d1681aa47df97fb19feba7cc931ee1/billiard-3.6.1.0-py3-none-any.whl (89kB)\\n', 'Collecting boto==2.49.0\\n', ' Downloading https://files.pythonhosted.org/packages/23/10/c0b78c27298029e4454a472a1919bde20cb182dab1662cec7f2ca1dcc523/boto-2.49.0-py2.py3-none-any.whl (1.4MB)\\n', 'Collecting cachetools==3.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/2f/a6/30b0a0bef12283e83e58c1d6e7b5aabc7acfc4110df81a4471655d33e704/cachetools-3.1.1-py2.py3-none-any.whl\\n', 'Collecting celery==4.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/5c/a1/a3dd9d8bfa09156ec2cba37f90accf35c0f4ecc3980d96cb4fb99e56504b/celery-4.3.0-py2.py3-none-any.whl (413kB)\\n', 'Requirement already satisfied: certifi==2019.11.28 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 17)) (2019.11.28)\\n', 'Collecting cffi==1.13.2\\n', ' Downloading https://files.pythonhosted.org/packages/2d/bf/960e5a422db3ac1a5e612cb35ca436c3fc985ed4b7ed13a1b4879006f450/cffi-1.13.2.tar.gz (460kB)\\n', 'Collecting channels==1.1.8\\n', ' Downloading https://files.pythonhosted.org/packages/7a/a6/5a3420c0b93e127fd5b22eaf4155b8c76eb7c404eeac78f4f0816fab97ce/channels-1.1.8-py2.py3-none-any.whl (57kB)\\n', 'Requirement already satisfied: chardet==3.0.4 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 20)) (3.0.4)\\n', 'Collecting constantly==15.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/b9/65/48c1909d0c0aeae6c10213340ce682db01b48ea900a7d9fce7a7910ff318/constantly-15.1.0-py2.py3-none-any.whl\\n', 'Collecting cryptography==2.8\\n', ' Downloading https://files.pythonhosted.org/packages/ca/9a/7cece52c46546e214e10811b36b2da52ce1ea7fa203203a629b8dfadad53/cryptography-2.8-cp34-abi3-manylinux2010_x86_64.whl (2.3MB)\\n', 'Collecting daphne==1.4.2\\n', ' Downloading https://files.pythonhosted.org/packages/b4/e3/65ba9a2044627826eae52f07a9013f82339bb88917aadf69c702e0e51eea/daphne-1.4.2-py2.py3-none-any.whl\\n', 'Collecting defusedxml==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/06/74/9b387472866358ebc08732de3da6dc48e44b0aacd2ddaa5cb85ab7e986a2/defusedxml-0.6.0-py2.py3-none-any.whl\\n', 'Collecting dictdiffer==0.8.1\\n', ' Downloading https://files.pythonhosted.org/packages/97/92/350b6b6ec39c5f87d98d04c91a50c498518716a05368e6dea88b5c69b590/dictdiffer-0.8.1-py2.py3-none-any.whl\\n', 'Collecting django-auth-ldap==2.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/e0/3f/ed83151177789fd44e6ed2cb569eeea3c4198f4321690ffe969afe61e909/django_auth_ldap-2.1.0-py3-none-any.whl\\n', 'Collecting django-cors-headers==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/21/93/b1efe344f5b7e60ea2aa4e54f76d8b50c93d7db73d69dd95e9e97a696c96/django_cors_headers-3.2.0-py3-none-any.whl\\n', 'Collecting django-crum==0.7.5\\n', ' Downloading https://files.pythonhosted.org/packages/62/17/e435f3fbfbe358bcb5026b4ab72a10699097051f4da01c962605d1556530/django_crum-0.7.5-py2.py3-none-any.whl\\n', 'Collecting django-extensions==2.2.5\\n', ' Downloading https://files.pythonhosted.org/packages/bd/44/d54c3ea6239d1d00700defc272d28cc4551c399bcad99a5282b04e454f1b/django_extensions-2.2.5-py2.py3-none-any.whl (223kB)\\n', 'Collecting django-jsonfield==1.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/5e/30/999f4e2d7b0a18217c7d4d4fb6fa030bb8c8365b00b8ea695701d3e7f5d8/django_jsonfield-1.2.0-py2.py3-none-any.whl\\n', 'Collecting django-oauth-toolkit==1.1.3\\n', ' Downloading https://files.pythonhosted.org/packages/55/00/bc81ec78ecdefeaf0640bada72dad4e1266cd425563c23b5ef0e60a09efe/django_oauth_toolkit-1.1.3-py2.py3-none-any.whl (47kB)\\n', 'Collecting django-pglocks==1.0.3\\n', ' Downloading https://files.pythonhosted.org/packages/5f/1d/07ec0374b4f163dde5c79a4e2f1aa61b664ab121860d23ffa22a83a593c0/django-pglocks-1.0.3.tar.gz\\n', 'Collecting django-polymorphic==2.1.2\\n', ' Downloading https://files.pythonhosted.org/packages/89/97/e091adfd3a18f247d7b34a12b06f626b4ce59c02e112ad80971da85cbc0a/django_polymorphic-2.1.2-py2.py3-none-any.whl (79kB)\\n', 'Collecting django-qsstats-magic==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/b1/ba/4578950dd3033f23a334634ea52329a1b1287c87b9f02943181a546bb2ea/django-qsstats-magic-1.1.0.tar.gz\\n', 'Collecting django-radius==1.3.3\\n', ' Downloading https://files.pythonhosted.org/packages/0c/e8/86eb2d70114221549dcec183aa179b597a1417b2be12519602060a8cb171/django-radius-1.3.3.tar.gz\\n', 'Collecting django-solo==1.1.3\\n', ' Downloading https://files.pythonhosted.org/packages/37/49/19e3b15296f545993ce27f2d2ea6526229d18effb1aeeaf3efaead4fe426/django-solo-1.1.3.tar.gz\\n', 'Collecting django-split-settings==1.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/46/c0/893f6d82e8d1cb5b675e78b7ec59f3b64898555e3e80c52a6502146de2f1/django_split_settings-1.0.0-py3-none-any.whl\\n', 'Collecting django-taggit==1.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/52/08/b7669250b0121ffd9c77c9017249caba8f112d7ff7b3a9fa0c39ca6755c8/django_taggit-1.2.0-py3-none-any.whl (45kB)\\n', 'Collecting django==2.2.8\\n', ' Downloading https://files.pythonhosted.org/packages/d3/d0/ef75c788627f4218a8d08dccdf4ebc91f5b83c48d09ec8f2a3db9610014b/Django-2.2.8-py3-none-any.whl (7.5MB)\\n', 'Collecting djangorestframework-yaml==1.0.3\\n', ' Downloading https://files.pythonhosted.org/packages/aa/85/d09fbe6603c5009f3710c73dbbc5058501f2837f516078e3fbdcf71ff840/djangorestframework_yaml-1.0.3-py2.py3-none-any.whl\\n', 'Collecting djangorestframework==3.11.0\\n', ' Downloading https://files.pythonhosted.org/packages/be/5b/9bbde4395a1074d528d6d9e0cc161d3b99bd9d0b2b558ca919ffaa2e0068/djangorestframework-3.11.0-py3-none-any.whl (911kB)\\n', 'Collecting future==0.16.0\\n', ' Downloading https://files.pythonhosted.org/packages/00/2b/8d082ddfed935f3608cc61140df6dcbf0edea1bc3ab52fb6c29ae3e81e85/future-0.16.0.tar.gz (824kB)\\n', 'Collecting gitdb2==2.0.6\\n', ' Downloading https://files.pythonhosted.org/packages/03/6c/99296f89bad2ef85626e1df9f677acbee8885bb043ad82ad3ed4746d2325/gitdb2-2.0.6-py2.py3-none-any.whl (63kB)\\n', 'Collecting gitpython==3.0.5\\n', ' Downloading https://files.pythonhosted.org/packages/20/8c/4543981439d23c4ff65b2e62dddd767ebc84a8e664a9b67e840d1e2730d3/GitPython-3.0.5-py3-none-any.whl (455kB)\\n', 'Collecting google-auth==1.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/17/83/3cb31033e1ea0bdb8991b6ef327a5bf4960bd3dd31ff355881bfb0ddf199/google_auth-1.9.0-py2.py3-none-any.whl (75kB)\\n', 'Collecting hyperlink==19.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/7f/91/e916ca10a2de1cb7101a9b24da546fb90ee14629e23160086cf3361c4fb8/hyperlink-19.0.0-py2.py3-none-any.whl\\n', 'Requirement already satisfied: idna==2.8 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 48)) (2.8)\\n', 'Collecting importlib-metadata==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/e9/71/1a1e0ed0981bb6a67bce55a210f168126b7ebd2065958673797ea66489ca/importlib_metadata-1.3.0-py2.py3-none-any.whl\\n', 'Collecting importlib-resources==1.0.2\\n', ' Using cached https://files.pythonhosted.org/packages/2f/f7/b4aa02cdd3ee7ebba375969d77c00826aa15c5db84247d23c89522dccbfa/importlib_resources-1.0.2-py2.py3-none-any.whl\\n', 'Collecting incremental==17.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/f5/1d/c98a587dc06e107115cf4a58b49de20b19222c83d75335a192052af4c4b7/incremental-17.5.0-py2.py3-none-any.whl\\n', 'Collecting inflect==3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/2a/14/49a8afaaa66fb49cda8e60512f0fc07594232fb10ea6aa8995c069172cf6/inflect-3.0.2-py2.py3-none-any.whl\\n', 'Collecting irc==17.1\\n', ' Downloading https://files.pythonhosted.org/packages/2f/0d/da6274eb997e92d9f6672c51e3986dae6bf418033616861362b399cf2ffb/irc-17.1-py2.py3-none-any.whl (73kB)\\n', 'Collecting isodate==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/9b/9f/b36f7774ff5ea8e428fdcfc4bb332c39ee5b9362ddd3d40d9516a55221b2/isodate-0.6.0-py2.py3-none-any.whl (45kB)\\n', 'Collecting jaraco.classes==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/f9/6c/d5ad4d56ed9a6f5d2bf843f30562e4bea2d1a694ecfabe6c56227ef31e90/jaraco.classes-2.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.collections==2.1\\n', ' Downloading https://files.pythonhosted.org/packages/2c/12/63e1a1f0a805e6e60a8904388d75433a56c6781240fecf8230b9b7d942ff/jaraco.collections-2.1-py2.py3-none-any.whl\\n', 'Collecting jaraco.functools==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/12/a4/3e7366d0f5e75dcad7be88524c8cbd0f3a9fb1db243269550981740c57fe/jaraco.functools-2.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.itertools==4.4.2\\n', ' Downloading https://files.pythonhosted.org/packages/f8/44/dcbb815c1cfac34377242ee2f266d4dcc3710c8e54443a057d0a87592771/jaraco.itertools-4.4.2-py2.py3-none-any.whl\\n', 'Collecting jaraco.logging==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/2a/a5/f4d246042405427914d22cd837370373bcb7165e74986c9c8eaf5d6a80b4/jaraco.logging-2.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.stream==3.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/6c/e6/34ab3a3076be30e9412a0824079a13fc2a8fbe10e18f888d20c0de3970b0/jaraco.stream-3.0.0-py2.py3-none-any.whl\\n', 'Collecting jaraco.text==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/50/cd/6eda44738065e844bed8fae60a229b6c46f42d0ba8d48205e9fb57e254cd/jaraco.text-3.2.0-py2.py3-none-any.whl\\n', 'Collecting jinja2==2.10.3\\n', ' Downloading https://files.pythonhosted.org/packages/65/e0/eb35e762802015cab1ccee04e8a277b03f1d8e53da3ec3106882ec42558b/Jinja2-2.10.3-py2.py3-none-any.whl (125kB)\\n', 'Collecting jsonpickle==1.2\\n', ' Downloading https://files.pythonhosted.org/packages/07/07/c157520a3ebd166c8c24c6ae0ecae7c3968eb4653ff0e5af369bb82f004d/jsonpickle-1.2-py2.py3-none-any.whl\\n', 'Collecting jsonschema==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/c5/8f/51e89ce52a085483359217bc72cdbf6e75ee595d5b1d4b5ade40c7e018b8/jsonschema-3.2.0-py2.py3-none-any.whl (56kB)\\n', 'Collecting kombu==4.6.7\\n', ' Downloading https://files.pythonhosted.org/packages/96/94/b899b1d962f6b9ca0171a4796ca086c9785f0cc0b7705562e0a70d144910/kombu-4.6.7-py2.py3-none-any.whl (182kB)\\n', 'Collecting kubernetes==10.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/6e/fc/2cab119f679648b348b8940de0dd744a1f0ee99c690aa2ef6072f050816c/kubernetes-10.0.1-py2.py3-none-any.whl (1.5MB)\\n', 'Collecting lockfile==0.12.2\\n', ' Downloading https://files.pythonhosted.org/packages/c8/22/9460e311f340cb62d26a38c419b1381b8593b0bb6b5d1f056938b086d362/lockfile-0.12.2-py2.py3-none-any.whl\\n', 'Collecting lxml==4.4.2\\n', ' Downloading https://files.pythonhosted.org/packages/68/30/affd16b77edf9537f5be051905f33527021e20d563d013e8c42c7fd01949/lxml-4.4.2-cp36-cp36m-manylinux1_x86_64.whl (5.8MB)\\n', 'Collecting markdown==3.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/c0/4e/fd492e91abdc2d2fcb70ef453064d980688762079397f779758e055f6575/Markdown-3.1.1-py2.py3-none-any.whl (87kB)\\n', 'Collecting markupsafe==1.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/b2/5f/23e0023be6bb885d00ffbefad2942bc51a620328ee910f64abe5a8d18dd1/MarkupSafe-1.1.1-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting more-itertools==8.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/68/03/0604cec1ea13c9f063dd50f900d1a36160334dd3cfb01fd0e638f61b46ba/more_itertools-8.0.2-py3-none-any.whl (40kB)\\n', 'Collecting msgpack-python==0.5.6\\n', ' Downloading https://files.pythonhosted.org/packages/8a/20/6eca772d1a5830336f84aca1d8198e5a3f4715cd1c7fc36d3cc7f7185091/msgpack-python-0.5.6.tar.gz (138kB)\\n', 'Collecting msrest==0.6.10\\n', ' Downloading https://files.pythonhosted.org/packages/27/b0/c34b3ea9b2ed74b800520fbefb312cdb7f05c20b8bd42e5e7662a5614f98/msrest-0.6.10-py2.py3-none-any.whl (82kB)\\n', 'Collecting msrestazure==0.6.2\\n', ' Downloading https://files.pythonhosted.org/packages/68/75/5cb56ca8cbc6c5fe476e4878c73f57a331edcf55e5d3fcb4a7377d7d659d/msrestazure-0.6.2-py2.py3-none-any.whl (40kB)\\n', 'Collecting netaddr==0.7.19\\n', ' Downloading https://files.pythonhosted.org/packages/ba/97/ce14451a9fd7bdb5a397abf99b24a1a6bb7a1a440b019bebd2e9a0dbec74/netaddr-0.7.19-py2.py3-none-any.whl (1.6MB)\\n', 'Collecting oauthlib==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/05/57/ce2e7a8fa7c0afb54a0581b14a65b56e62b5759dbc98e80627142b8a3704/oauthlib-3.1.0-py2.py3-none-any.whl (147kB)\\n', 'Collecting openshift==0.10.1\\n', ' Downloading https://files.pythonhosted.org/packages/6c/65/95cf4ec84e9a41f972708bda19871875c8169cf922dc3550412cd23e4c9c/openshift-0.10.1.tar.gz\\n', 'Collecting pexpect==4.7.0\\n', ' Downloading https://files.pythonhosted.org/packages/0e/3e/377007e3f36ec42f1b84ec322ee12141a9e10d808312e5738f52f80a232c/pexpect-4.7.0-py2.py3-none-any.whl (58kB)\\n', 'Collecting pkgconfig==1.5.1\\n', ' Downloading https://files.pythonhosted.org/packages/b4/2c/bf434cb5a6590417e1d4468050ec317ea17fd6231c2a256df4646c11e588/pkgconfig-1.5.1-py2.py3-none-any.whl\\n', 'Collecting prometheus-client==0.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/b3/23/41a5a24b502d35a4ad50a5bb7202a5e1d9a0364d0c12f56db3dbf7aca76d/prometheus_client-0.7.1.tar.gz\\n', 'Collecting psutil==5.6.7\\n', ' Downloading https://files.pythonhosted.org/packages/73/93/4f8213fbe66fc20cb904f35e6e04e20b47b85bee39845cc66a0bcf5ccdcb/psutil-5.6.7.tar.gz (448kB)\\n', 'Collecting psycopg2==2.8.4\\n', ' Downloading https://files.pythonhosted.org/packages/84/d7/6a93c99b5ba4d4d22daa3928b983cec66df4536ca50b22ce5dcac65e4e71/psycopg2-2.8.4.tar.gz (377kB)\\n', 'Collecting ptyprocess==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/d1/29/605c2cc68a9992d18dada28206eeada56ea4bd07a239669da41674648b6f/ptyprocess-0.6.0-py2.py3-none-any.whl\\n', 'Collecting pyasn1-modules==0.2.7\\n', ' Downloading https://files.pythonhosted.org/packages/52/50/bb4cefca37da63a0c52218ba2cb1b1c36110d84dcbae8aa48cd67c5e95c2/pyasn1_modules-0.2.7-py2.py3-none-any.whl (131kB)\\n', 'Collecting pyasn1==0.4.8\\n', ' Downloading https://files.pythonhosted.org/packages/62/1e/a94a8d635fa3ce4cfc7f506003548d0a2447ae76fd5ca53932970fe3053f/pyasn1-0.4.8-py2.py3-none-any.whl (77kB)\\n', 'Collecting pycparser==2.19\\n', ' Downloading https://files.pythonhosted.org/packages/68/9e/49196946aee219aead1290e00d1e7fdeab8567783e83e1b9ab5585e6206a/pycparser-2.19.tar.gz (158kB)\\n', 'Collecting pygerduty==0.38.2\\n', ' Downloading https://files.pythonhosted.org/packages/f9/fc/da2d66ce0176dda9ddeb489d062184e27ae83fce09d07bc2baa2bfa40886/pygerduty-0.38.2.tar.gz\\n', 'Collecting pyhamcrest==1.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/9a/d5/d37fd731b7d0e91afcc84577edeccf4638b4f9b82f5ffe2f8b62e2ddc609/PyHamcrest-1.9.0-py2.py3-none-any.whl (52kB)\\n', 'Collecting pyjwt==1.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/87/8b/6a9f14b5f781697e51259d81657e6048fd31a113229cf346880bb7545565/PyJWT-1.7.1-py2.py3-none-any.whl\\n', 'Collecting pyparsing==2.4.5\\n', ' Downloading https://files.pythonhosted.org/packages/c0/0c/fc2e007d9a992d997f04a80125b0f183da7fb554f1de701bbb70a8e7d479/pyparsing-2.4.5-py2.py3-none-any.whl (67kB)\\n', 'Collecting pyrad==2.2\\n', ' Downloading https://files.pythonhosted.org/packages/18/ab/4ad999af29a7a19f201ed3dfe47d0fa9f9a170b414c217f09ed603dbf550/pyrad-2.2-py3-none-any.whl (44kB)\\n', 'Collecting pyrsistent==0.15.6\\n', ' Downloading https://files.pythonhosted.org/packages/6c/6f/c1a2e8da80a0029f6b618d7e20e1a6f2a61dd04e2e54225309c2cc4268f7/pyrsistent-0.15.6.tar.gz (107kB)\\n', 'Collecting python-daemon==2.2.4\\n', ' Downloading https://files.pythonhosted.org/packages/5a/0c/57f15b1572661877ff1acbe66c2f5be9d999ae5fb128e22933d374f62aa1/python_daemon-2.2.4-py2.py3-none-any.whl\\n', 'Collecting python-dateutil==2.8.1\\n', ' Downloading https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl (227kB)\\n', 'Collecting python-ldap==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/ea/93/596f875e003c770447f4b99267820a0c769dd2dc3ae3ed19afe460fcbad0/python-ldap-3.2.0.tar.gz (367kB)\\n', 'Collecting python-memcached==1.59\\n', ' Downloading https://files.pythonhosted.org/packages/f5/90/19d3908048f70c120ec66a39e61b92c253e834e6e895cd104ce5e46cbe53/python_memcached-1.59-py2.py3-none-any.whl\\n', 'Collecting python-radius==1.0\\n', ' Downloading https://files.pythonhosted.org/packages/c1/60/c9a29ea626d94777994f079dbbdbd988ec37c1a4020f95d26bc3d4b52d35/python-radius-1.0.tar.gz\\n', 'Collecting python-string-utils==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/5d/13/216f2d4a71307f5a4e5782f1f59e6e8e5d6d6c00eaadf9f92aeccfbb900c/python-string-utils-0.6.0.tar.gz\\n', 'Collecting python3-openid==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/bd/de/52c5699f52dcee3037db587196dcaf63ffedf5fbeba3183afe9b21a3a89f/python3_openid-3.1.0-py3-none-any.whl (130kB)\\n', 'Collecting python3-saml==1.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/56/a7/d46160d7fab16f18f1a51b5eba535e3b3925c35e9f5f58d5eba6efa56166/python3_saml-1.9.0-py3-none-any.whl (72kB)\\n', 'Collecting pytz==2019.3\\n', ' Downloading https://files.pythonhosted.org/packages/e7/f9/f0b53f88060247251bf481fa6ea62cd0d25bf1b11a87888e53ce5b7c8ad2/pytz-2019.3-py2.py3-none-any.whl (509kB)\\n', 'Collecting pyyaml==5.2\\n', ' Downloading https://files.pythonhosted.org/packages/8d/c9/e5be955a117a1ac548cdd31e37e8fd7b02ce987f9655f5c7563c656d5dcb/PyYAML-5.2.tar.gz (265kB)\\n', 'Collecting requests-futures==1.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/47/c4/fd48d1ac5110a5457c71ac7cc4caa93da10a80b8de71112430e439bdee22/requests-futures-1.0.0.tar.gz\\n', 'Collecting requests-oauthlib==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/a3/12/b92740d845ab62ea4edf04d2f4164d82532b5a0b03836d4d4e71c6f3d379/requests_oauthlib-1.3.0-py2.py3-none-any.whl\\n', 'Requirement already satisfied: requests==2.22.0 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 105)) (2.22.0)\\n', 'Collecting rsa==4.0\\n', ' Downloading https://files.pythonhosted.org/packages/02/e5/38518af393f7c214357079ce67a317307936896e961e35450b70fad2a9cf/rsa-4.0-py2.py3-none-any.whl\\n', 'Collecting ruamel.yaml.clib==0.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/53/77/4bcd63f362bcb6c8f4f06253c11f9772f64189bf08cf3f40c5ccbda9e561/ruamel.yaml.clib-0.2.0-cp36-cp36m-manylinux1_x86_64.whl (548kB)\\n', 'Collecting ruamel.yaml==0.16.5\\n', ' Downloading https://files.pythonhosted.org/packages/fa/90/ecff85a2e9c497e2fa7142496e10233556b5137db5bd46f3f3b006935ca8/ruamel.yaml-0.16.5-py2.py3-none-any.whl (123kB)\\n', 'Collecting six==1.13.0\\n', ' Downloading https://files.pythonhosted.org/packages/65/26/32b8464df2a97e6dd1b656ed26b2c194606c16fe163c695a992b36c11cdf/six-1.13.0-py2.py3-none-any.whl\\n', 'Collecting slackclient==1.1.2\\n', ' Downloading https://files.pythonhosted.org/packages/08/6e/c84dcf7c18c0a79c17a3dec971bcfa746ea1e23d4f41ba1de7eead203266/slackclient-1.1.2.tar.gz\\n', 'Collecting smmap2==2.0.5\\n', ' Downloading https://files.pythonhosted.org/packages/55/d2/866d45e3a121ee15a1dc013824d58072fd5c7799c9c34d01378eb262ca8f/smmap2-2.0.5-py2.py3-none-any.whl\\n', 'Collecting social-auth-app-django==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/9f/13/3be586914f69fe9d11beee01b938d329589045dfe90076529c82dae97578/social_auth_app_django-3.1.0-py3-none-any.whl\\n', 'Collecting social-auth-core==3.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/1a/06/146938c323cf08f87158841518d5db96588ef7826e84a2a5ad66ca798c8b/social_auth_core-3.2.0-py3-none-any.whl (315kB)\\n', 'Collecting sqlparse==0.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/ef/53/900f7d2a54557c6a37886585a91336520e5539e3ae2423ff1102daf4f3a7/sqlparse-0.3.0-py2.py3-none-any.whl\\n', 'Collecting tacacs_plus==1.0\\n', ' Downloading https://files.pythonhosted.org/packages/97/68/f67351370c80fbcf1d77ff426405590f006830e75ccc28934b95268b4810/tacacs_plus-1.0-py2.py3-none-any.whl\\n', 'Collecting tempora==1.14.1\\n', ' Downloading https://files.pythonhosted.org/packages/5c/12/4c97c44e5c9d111649e363353a4ca3ece9c6cc04b11cc48540f26e42d7b9/tempora-1.14.1-py2.py3-none-any.whl\\n', 'Collecting twilio==6.35.1\\n', ' Downloading https://files.pythonhosted.org/packages/2e/41/e45bcc57c0c4853aa36244e97a51cdc9d6eae9ac9f50e37d4c207d760247/twilio-6.35.1.tar.gz (399kB)\\n', 'Collecting twisted==19.10.0\\n', ' Downloading https://files.pythonhosted.org/packages/88/e2/0c21fadf0dff02d145db02f24a6ed2c24993e7242d138babbca41de2f5a2/Twisted-19.10.0-cp36-cp36m-manylinux1_x86_64.whl (3.1MB)\\n', 'Collecting txaio==18.8.1\\n', ' Downloading https://files.pythonhosted.org/packages/e9/6d/e1a6f7835cde86728e5bb1f577be9b2d7d273fdb33c286e70b087d418ded/txaio-18.8.1-py2.py3-none-any.whl\\n', 'Collecting urllib3==1.25.7\\n', ' Downloading https://files.pythonhosted.org/packages/b4/40/a9837291310ee1ccc242ceb6ebfd9eb21539649f193a7c8c86ba15b98539/urllib3-1.25.7-py2.py3-none-any.whl (125kB)\\n', 'Collecting uwsgi==2.0.18\\n', ' Downloading https://files.pythonhosted.org/packages/e7/1e/3dcca007f974fe4eb369bf1b8629d5e342bb3055e2001b2e5340aaefae7a/uwsgi-2.0.18.tar.gz (801kB)\\n', 'Collecting uwsgitop==0.11\\n', ' Downloading https://files.pythonhosted.org/packages/8a/7a/9501084f6d2739b8a7d35ef5fb9cb539edb6e0a0d559366598b82bb7a96e/uwsgitop-0.11.tar.gz\\n', 'Collecting vine==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/7f/60/82c03047396126c8331ceb64da1dc52d4f1317209f32e8fe286d0c07365a/vine-1.3.0-py2.py3-none-any.whl\\n', 'Collecting websocket-client==0.56.0\\n', ' Downloading https://files.pythonhosted.org/packages/29/19/44753eab1fdb50770ac69605527e8859468f3c0fd7dc5a76dd9c4dbd7906/websocket_client-0.56.0-py2.py3-none-any.whl (200kB)\\n', 'Collecting xmlsec==1.3.3\\n', ' Downloading https://files.pythonhosted.org/packages/35/42/d7cd323c91d4706f3cc32ffe7d5f851ab8ef9898ccb350f6ba593dd8b89a/xmlsec-1.3.3.tar.gz\\n', 'Collecting zipp==0.6.0\\n', ' Downloading https://files.pythonhosted.org/packages/74/3d/1ee25a26411ba0401b43c6376d2316a71addcc72ef8690b101b4ea56d76a/zipp-0.6.0-py2.py3-none-any.whl\\n', 'Collecting zope.interface==4.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/05/16/79fe71428c91673194a21fedcc46f7f1349db799bc2a65da4ffdbe570343/zope.interface-4.7.1-cp36-cp36m-manylinux2010_x86_64.whl (168kB)\\n', 'Requirement already satisfied: pip==19.3.1 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 130)) (19.3.1)\\n', 'Requirement already satisfied: setuptools==41.6.0 in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from -r /dev/stdin (line 131)) (41.6.0)\\n', 'Requirement already satisfied: docutils in /var/lib/awx/venv/awx/lib/python3.6/site-packages (from python-daemon==2.2.4->-r /dev/stdin (line 93)) (0.16)\\n', 'Skipping wheel build for cffi, due to binaries being disabled for it.\\n', 'Skipping wheel build for psycopg2, due to binaries being disabled for it.\\n', 'Skipping wheel build for pycparser, due to binaries being disabled for it.\\n', 'Skipping wheel build for twilio, due to binaries being disabled for it.\\n', 'Building wheels for collected packages: ansiconv, django-pglocks, django-qsstats-magic, django-radius, django-solo, future, msgpack-python, openshift, prometheus-client, psutil, pygerduty, pyrsistent, python-ldap, python-radius, python-string-utils, pyyaml, requests-futures, slackclient, uwsgi, uwsgitop, xmlsec\\n', ' Building wheel for ansiconv (setup.py): started\\n', \"" Building wheel for ansiconv (setup.py): finished with status 'done'\\n\"", ' Created wheel for ansiconv: filename=ansiconv-1.0.0-cp36-none-any.whl size=2810 sha256=08cb94d00fd52e493a5909e72cd2d04b695a3069c50974f7d35ee09c6befcc37\\n Stored in directory: /root/.cache/pip/wheels/e2/56/a6/53c6f5093cfd3f620348c2f1fa562db59536bf1976f699bd6e\\n', ' Building wheel for django-pglocks (setup.py): started\\n', \"" Building wheel for django-pglocks (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-pglocks: filename=django_pglocks-1.0.3-cp36-none-any.whl size=3798 sha256=fce42f1cdae2266dcd9918ff5bdfdd721ae75b416664e2065e8b44d20734d8b2\\n', ' Stored in directory: /root/.cache/pip/wheels/76/d2/b5/47f4a75df4d1975b4533d47faca337326231c697ba9933ea8c\\n', ' Building wheel for django-qsstats-magic (setup.py): started\\n', \"" Building wheel for django-qsstats-magic (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-qsstats-magic: filename=django_qsstats_magic-1.1.0-cp36-none-any.whl size=10205 sha256=f95f4c2769f9e4498a3eb0231a3e85c998e2d563c43c3bc9a004fecc5902c1e5\\n', ' Stored in directory: /root/.cache/pip/wheels/55/ca/c8/00ded6be86614dea7a0bd1a0818c7ee6572ae6f78bac66d7c1\\n', ' Building wheel for django-radius (setup.py): started\\n', \"" Building wheel for django-radius (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-radius: filename=django_radius-1.3.3-cp36-none-any.whl size=4500 sha256=d225be982bb6203adde0d6d902970c9be0090243b7b1305ced41865272eecd71\\n', ' Stored in directory: /root/.cache/pip/wheels/82/54/2d/abbc5f4f861933b89be0659bc1222d1de23d86f9d7376a3739\\n', ' Building wheel for django-solo (setup.py): started\\n', \"" Building wheel for django-solo (setup.py): finished with status 'done'\\n\"", ' Created wheel for django-solo: filename=django_solo-1.1.3-cp36-none-any.whl size=10825 sha256=88c8dec23ceee5292d160e9ae73ffd4e8cf2e5437f973c01870711f0222bc35d\\n Stored in directory: /root/.cache/pip/wheels/c6/b5/da/da3254e2fd94161d9b7ab7cb9c4f1ed3418cc84ac0be8fe749\\n', ' Building wheel for future (setup.py): started\\n', \"" Building wheel for future (setup.py): finished with status 'done'\\n\"", ' Created wheel for future: filename=future-0.16.0-cp36-none-any.whl size=487797 sha256=1aa02b1f92a349374ed9e2f867b5831287894eb9f6a8716a5f7585c56506373a\\n', ' Stored in directory: /root/.cache/pip/wheels/bf/c9/a3/c538d90ef17cf7823fa51fc701a7a7a910a80f6a405bf15b1a\\n', ' Building wheel for msgpack-python (setup.py): started\\n', \"" Building wheel for msgpack-python (setup.py): finished with status 'done'\\n\"", ' Created wheel for msgpack-python: filename=msgpack_python-0.5.6-cp36-cp36m-linux_x86_64.whl size=361747 sha256=15aba6a9c24a14d3a99084ed41ca5e4bfbe29c5650a21209bfad0cd83e1f310b\\n', ' Stored in directory: /root/.cache/pip/wheels/d5/de/86/7fa56fda12511be47ea0808f3502bc879df4e63ab168ec0406\\n', ' Building wheel for openshift (setup.py): started\\n', \"" Building wheel for openshift (setup.py): finished with status 'done'\\n\"", ' Created wheel for openshift: filename=openshift-0.10.1-cp36-none-any.whl size=19450 sha256=7ddc39a6cd9bc317dbb799b78e07834c84a13b5f0d9f9e02cceae055fdc29f19\\n', ' Stored in directory: /root/.cache/pip/wheels/9d/1f/42/7fa065e82eff3a111f479b56ea0b57454e7295766ae6231fdd\\n', ' Building wheel for prometheus-client (setup.py): started\\n', \"" Building wheel for prometheus-client (setup.py): finished with status 'done'\\n\"", ' Created wheel for prometheus-client: filename=prometheus_client-0.7.1-cp36-none-any.whl size=41404 sha256=694f808c77b560435c6b6760adcc9cf6cf87bb304e738d391f9802bcaceefd10\\n', ' Stored in directory: /root/.cache/pip/wheels/1c/54/34/fd47cd9b308826cc4292b54449c1899a30251ef3b506bc91ea\\n', ' Building wheel for psutil (setup.py): started\\n', \"" Building wheel for psutil (setup.py): finished with status 'done'\\n\"", ' Created wheel for psutil: filename=psutil-5.6.7-cp36-cp36m-linux_x86_64.whl size=282018 sha256=83e1f5e92399d349078ad19dc9623764f6fca636990faa9dd050f8d6ffc75cef\\n', ' Stored in directory: /root/.cache/pip/wheels/52/41/b0/bf50409fe2b1d3b79afa3eed71b54b3e30fe5b695db2c7ba2e\\n', ' Building wheel for pygerduty (setup.py): started\\n', \"" Building wheel for pygerduty (setup.py): finished with status 'done'\\n\"", ' Created wheel for pygerduty: filename=pygerduty-0.38.2-cp36-none-any.whl size=16818 sha256=883d40b832cf235bb6051f46ad72969fa12c0936d85f4d258788e2574c17591d\\n', ' Stored in directory: /root/.cache/pip/wheels/74/ba/d5/baca30a63af8b8c38301b5adb92af93b57a08c8297021a080f\\n', ' Building wheel for pyrsistent (setup.py): started\\n', \"" Building wheel for pyrsistent (setup.py): finished with status 'done'\\n\"", ' Created wheel for pyrsistent: filename=pyrsistent-0.15.6-cp36-cp36m-linux_x86_64.whl size=104272 sha256=20e1904fd369a526e1ab90ed135b307132197113bb9e8f5287859dff640ba2f0\\n', ' Stored in directory: /root/.cache/pip/wheels/83/89/d3/1712b9c33c9b9c0911b188a86aeff2a9a05e113f986cf79d92\\n', ' Building wheel for python-ldap (setup.py): started\\n', \"" Building wheel for python-ldap (setup.py): finished with status 'done'\\n\"", ' Created wheel for python-ldap: filename=python_ldap-3.2.0-cp36-cp36m-linux_x86_64.whl size=310885 sha256=f3e5ce36426da284d82187ececb1a8385943cfc4c63ba62d5c82c7c4c9d03ed8\\n', ' Stored in directory: /root/.cache/pip/wheels/48/dd/0b/a06d1baf6575ad4520fc1fcf5bd96b493cd89670fdf6ade224\\n', ' Building wheel for python-radius (setup.py): started\\n', \"" Building wheel for python-radius (setup.py): finished with status 'done'\\n\"", ' Created wheel for python-radius: filename=python_radius-1.0-cp36-none-any.whl size=3047 sha256=5064d84ed15ae33d91d7c8f55857f4f755d2be2af9bac7671d0e5a5b69c9d2de\\n', ' Stored in directory: /root/.cache/pip/wheels/e2/c4/dd/e85eb021eb25d2008aacb51f37324e93b27d90fd7713ae2656\\n', ' Building wheel for python-string-utils (setup.py): started\\n', \"" Building wheel for python-string-utils (setup.py): finished with status 'done'\\n\"", ' Created wheel for python-string-utils: filename=python_string_utils-0.6.0-cp36-none-any.whl size=8464 sha256=d9c9f93e80134d2eeec6687521e8bd76101196d1c909bec5911e5184459e6779\\n', ' Stored in directory: /root/.cache/pip/wheels/b2/1d/3f/2f554103ba3e4aa8d53b8e1ea70b5a0b4f74409a789e17fa35\\n', ' Building wheel for pyyaml (setup.py): started\\n', \"" Building wheel for pyyaml (setup.py): finished with status 'done'\\n\"", ' Created wheel for pyyaml: filename=PyYAML-5.2-cp36-cp36m-linux_x86_64.whl size=44209 sha256=3b51a072c3bd9726eff0d7b795b9ec96f4093096f9a5fd91ff7be871740f0c70\\n', ' Stored in directory: /root/.cache/pip/wheels/54/b7/c7/2ada654ee54483c9329871665aaf4a6056c3ce36f29cf66e67\\n', ' Building wheel for requests-futures (setup.py): started\\n', \"" Building wheel for requests-futures (setup.py): finished with status 'done'\\n\"", ' Created wheel for requests-futures: filename=requests_futures-1.0.0-cp36-none-any.whl size=7013 sha256=8767c96983d5f9a60eec17218a6b5980f1952523ef368d70ef832e5f0dbde7c2\\n', ' Stored in directory: /root/.cache/pip/wheels/26/d0/f5/dc4e4a37bbe55c9acf967d2bd899152412c1e49c227f5395ff\\n', ' Building wheel for slackclient (setup.py): started\\n', \"" Building wheel for slackclient (setup.py): finished with status 'done'\\n\"", ' Created wheel for slackclient: filename=slackclient-1.1.2-py2.py3-none-any.whl size=16255 sha256=c20dfa372e011cd76df5ccb4ddf274d98eeeb15b984b848ec326a5a7ea0e0436\\n Stored in directory: /root/.cache/pip/wheels/05/83/17/a68c9a30556a22d90f8da0ce48c563cc7cb927efd4e38085e5\\n', ' Building wheel for uwsgi (setup.py): started\\n', \"" Building wheel for uwsgi (setup.py): finished with status 'done'\\n\"", ' Created wheel for uwsgi: filename=uWSGI-2.0.18-cp36-cp36m-linux_x86_64.whl size=510856 sha256=e67aa50015376dd8d7ee6f0837b6076d55900c250c43636090f46706d6736635\\n', ' Stored in directory: /root/.cache/pip/wheels/2d/0c/b0/f3ba1bbce35c3766c9dac8c3d15d5431cac57e7a8c4111c268\\n', ' Building wheel for uwsgitop (setup.py): started\\n', \"" Building wheel for uwsgitop (setup.py): finished with status 'done'\\n\"", ' Created wheel for uwsgitop: filename=uwsgitop-0.11-cp36-none-any.whl size=6425 sha256=9d161eeb01db9d41ec5f5ef13f55641ea5472dcf677356e54ae0fd1a2dbad2b7\\n Stored in directory: /root/.cache/pip/wheels/41/02/ef/63d996823a91fb89538c3b9566c5a5306fb3a913d49351ca1d\\n', ' Building wheel for xmlsec (setup.py): started\\n', \"" Building wheel for xmlsec (setup.py): finished with status 'done'\\n\"", ' Created wheel for xmlsec: filename=xmlsec-1.3.3-cp36-cp36m-linux_x86_64.whl size=169396 sha256=de6d22dcaff47fff939eb1a56179401205c0df6697352d9b602f65c97dd4fe0e\\n', ' Stored in directory: /root/.cache/pip/wheels/6b/6c/75/2429cf3dba548938fce59f138503bdb0a07e5e53ab4aeeb71d\\n', 'Successfully built ansiconv django-pglocks django-qsstats-magic django-radius django-solo future msgpack-python openshift prometheus-client psutil pygerduty pyrsistent python-ldap python-radius python-string-utils pyyaml requests-futures slackclient uwsgi uwsgitop xmlsec\\n', 'Installing collected packages: pyjwt, six, python-dateutil, pycparser, cffi, cryptography, adal, vine, amqp, ptyprocess, pexpect, lockfile, python-daemon, psutil, pyyaml, ansible-runner, ansiconv, more-itertools, zipp, importlib-metadata, kombu, jsonpickle, asgiref, msgpack-python, asgi-amqp, attrs, txaio, autobahn, automat, azure-common, oauthlib, requests-oauthlib, isodate, msrest, msrestazure, azure-nspkg, azure-keyvault, billiard, boto, cachetools, pytz, celery, incremental, constantly, hyperlink, pyhamcrest, zope.interface, twisted, daphne, sqlparse, django, channels, defusedxml, dictdiffer, pyasn1, pyasn1-modules, python-ldap, django-auth-ldap, django-cors-headers, django-crum, django-extensions, django-jsonfield, django-oauth-toolkit, django-pglocks, django-polymorphic, django-qsstats-magic, netaddr, pyrad, future, django-radius, django-solo, django-split-settings, django-taggit, djangorestframework-yaml, djangorestframework, smmap2, gitdb2, gitpython, rsa, google-auth, importlib-resources, inflect, jaraco.functools, tempora, jaraco.logging, jaraco.itertools, jaraco.text, jaraco.classes, jaraco.collections, jaraco.stream, irc, markupsafe, jinja2, pyrsistent, jsonschema, urllib3, websocket-client, kubernetes, lxml, markdown, python-string-utils, ruamel.yaml.clib, ruamel.yaml, openshift, pkgconfig, prometheus-client, psycopg2, pygerduty, pyparsing, python-memcached, python-radius, python3-openid, xmlsec, python3-saml, requests-futures, slackclient, social-auth-core, social-auth-app-django, tacacs-plus, twilio, uwsgi, uwsgitop\\n', ' Running setup.py install for pycparser: started\\n', \"" Running setup.py install for pycparser: finished with status 'done'\\n\"", ' Running setup.py install for cffi: started\\n', \"" Running setup.py install for cffi: finished with status 'done'\\n\"", ' Found existing installation: urllib3 1.25.8\\n', ' Uninstalling urllib3-1.25.8:\\n', ' Successfully uninstalled urllib3-1.25.8\\n', ' Running setup.py install for psycopg2: started\\n', \"" Running setup.py install for psycopg2: finished with status 'done'\\n\"", ' Running setup.py install for twilio: started\\n', \"" Running setup.py install for twilio: finished with status 'done'\\n\"", 'Successfully installed adal-1.2.2 amqp-2.5.2 ansible-runner-1.4.4 ansiconv-1.0.0 asgi-amqp-1.1.4 asgiref-1.1.2 attrs-19.3.0 autobahn-19.11.1 automat-0.8.0 azure-common-1.1.23 azure-keyvault-1.1.0 azure-nspkg-3.0.2 billiard-3.6.1.0 boto-2.49.0 cachetools-3.1.1 celery-4.3.0 cffi-1.13.2 channels-1.1.8 constantly-15.1.0 cryptography-2.8 daphne-1.4.2 defusedxml-0.6.0 dictdiffer-0.8.1 django-2.2.8 django-auth-ldap-2.1.0 django-cors-headers-3.2.0 django-crum-0.7.5 django-extensions-2.2.5 django-jsonfield-1.2.0 django-oauth-toolkit-1.1.3 django-pglocks-1.0.3 django-polymorphic-2.1.2 django-qsstats-magic-1.1.0 django-radius-1.3.3 django-solo-1.1.3 django-split-settings-1.0.0 django-taggit-1.2.0 djangorestframework-3.11.0 djangorestframework-yaml-1.0.3 future-0.16.0 gitdb2-2.0.6 gitpython-3.0.5 google-auth-1.9.0 hyperlink-19.0.0 importlib-metadata-1.3.0 importlib-resources-1.0.2 incremental-17.5.0 inflect-3.0.2 irc-17.1 isodate-0.6.0 jaraco.classes-2.0 jaraco.collections-2.1 jaraco.functools-2.0 jaraco.itertools-4.4.2 jaraco.logging-2.0 jaraco.stream-3.0.0 jaraco.text-3.2.0 jinja2-2.10.3 jsonpickle-1.2 jsonschema-3.2.0 kombu-4.6.7 kubernetes-10.0.1 lockfile-0.12.2 lxml-4.4.2 markdown-3.1.1 markupsafe-1.1.1 more-itertools-8.0.2 msgpack-python-0.5.6 msrest-0.6.10 msrestazure-0.6.2 netaddr-0.7.19 oauthlib-3.1.0 openshift-0.10.1 pexpect-4.7.0 pkgconfig-1.5.1 prometheus-client-0.7.1 psutil-5.6.7 psycopg2-2.8.4 ptyprocess-0.6.0 pyasn1-0.4.8 pyasn1-modules-0.2.7 pycparser-2.19 pygerduty-0.38.2 pyhamcrest-1.9.0 pyjwt-1.7.1 pyparsing-2.4.5 pyrad-2.2 pyrsistent-0.15.6 python-daemon-2.2.4 python-dateutil-2.8.1 python-ldap-3.2.0 python-memcached-1.59 python-radius-1.0 python-string-utils-0.6.0 python3-openid-3.1.0 python3-saml-1.9.0 pytz-2019.3 pyyaml-5.2 requests-futures-1.0.0 requests-oauthlib-1.3.0 rsa-4.0 ruamel.yaml-0.16.5 ruamel.yaml.clib-0.2.0 six-1.13.0 slackclient-1.1.2 smmap2-2.0.5 social-auth-app-django-3.1.0 social-auth-core-3.2.0 sqlparse-0.3.0 tacacs-plus-1.0 tempora-1.14.1 twilio-6.35.1 twisted-19.10.0 txaio-18.8.1 urllib3-1.25.7 uwsgi-2.0.18 uwsgitop-0.11 vine-1.3.0 websocket-client-0.56.0 xmlsec-1.3.3 zipp-0.6.0 zope.interface-4.7.1\\n', \""\\x1b[91mWARNING: You are using pip version 19.3.1; however, version 20.0.2 is available.\\nYou should consider upgrading via the 'pip install --upgrade pip' command.\\n\\x1b[0m\"", '/var/lib/awx/venv/awx/bin/pip uninstall --yes -r requirements/requirements_tower_uninstall.txt\\n', 'Uninstalling rsa-4.0:\\n', ' Successfully uninstalled rsa-4.0\\n', 'if [ \""/var/lib/awx/venv\"" ]; then \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv\"" ]; then \\\\\\n\\t\\tmkdir /var/lib/awx/venv; \\\\\\n\\tfi; \\\\\\n\\tif [ ! -d \""/var/lib/awx/venv/ansible\"" ]; then \\\\\\n\\t\\tvirtualenv -p python3 /var/lib/awx/venv/ansible; \\\\\\n\\t\\t/var/lib/awx/venv/ansible/bin/pip install pip==19.3.1 setuptools==41.6.0; \\\\\\n\\tfi; \\\\\\nfi\\n', 'created virtual environment in 250ms CPython3Posix(dest=/var/lib/awx/venv/ansible, clear=False, global=False) with seeder FromAppData pip=latest setuptools=latest wheel=latest app_data_dir=/root/.local/share/virtualenv/seed-v1 via=copy\\n', 'Collecting pip==19.3.1\\n', ' Using cached pip-19.3.1-py2.py3-none-any.whl (1.4 MB)\\n', 'Collecting setuptools==41.6.0\\n', ' Using cached setuptools-41.6.0-py2.py3-none-any.whl (582 kB)\\n', 'Installing collected packages: pip, setuptools\\n Attempting uninstall: pip\\n', ' Found existing installation: pip 20.0.2\\n', ' Uninstalling pip-20.0.2:\\n', ' Successfully uninstalled pip-20.0.2\\n', ' Attempting uninstall: setuptools\\n', ' Found existing installation: setuptools 45.2.0\\n', ' Uninstalling setuptools-45.2.0:\\n', ' Successfully uninstalled setuptools-45.2.0\\n', 'Successfully installed pip-19.3.1 setuptools-41.6.0\\n', 'if [[ \""\"" == *\""--no-index\""* ]]; then \\\\\\n cat requirements/requirements_ansible.txt requirements/requirements_ansible_local.txt | /var/lib/awx/venv/ansible/bin/pip3 install -r /dev/stdin ; \\\\\\nelse \\\\\\n cat requirements/requirements_ansible.txt requirements/requirements_ansible_git.txt | /var/lib/awx/venv/ansible/bin/pip3 install --no-binary cffi,pycparser,psycopg2,twilio -r /dev/stdin ; \\\\\\nfi\\n', 'Ignoring enum34: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring futures: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring ipaddress: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring monotonic: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Ignoring typing: markers \\'python_version < \""3\""\\' don\\'t match your environment\\n', 'Collecting adal==1.2.2\\n', ' Using cached https://files.pythonhosted.org/packages/4f/b5/3ea9ae3d1096b9ff31e8f1846c47d49f3129a12464ac0a73b602de458298/adal-1.2.2-py2.py3-none-any.whl\\n', 'Collecting apache-libcloud==2.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/07/c3/ddbd6b48395d0825f9910e5724a098e9de1e720d4e7124625a8aff1eedec/apache_libcloud-2.5.0-py2.py3-none-any.whl (3.1MB)\\n', 'Collecting appdirs==1.4.3\\n', ' Using cached https://files.pythonhosted.org/packages/56/eb/810e700ed1349edde4cbdc1b2a21e28cdf115f9faf263f6bbf8447c1abf3/appdirs-1.4.3-py2.py3-none-any.whl\\n', 'Collecting applicationinsights==0.11.9\\n', ' Downloading https://files.pythonhosted.org/packages/a1/53/234c53004f71f0717d8acd37876e0b65c121181167057b9ce1b1795f96a0/applicationinsights-0.11.9-py2.py3-none-any.whl (58kB)\\n', 'Collecting argcomplete==1.10.3\\n', ' Downloading https://files.pythonhosted.org/packages/ae/8e/6b293f883fdbd29b9c8170db44bddff9e7de224d8cf1eb4287f69f1766e5/argcomplete-1.10.3-py2.py3-none-any.whl\\n', 'Collecting azure-cli-core==2.0.35\\n', ' Downloading https://files.pythonhosted.org/packages/ee/81/561473d6614d15f450eba6b7c8e0e1fbbaf34bf117fe77c1188010870e24/azure_cli_core-2.0.35-py2.py3-none-any.whl (90kB)\\n', 'Collecting azure-cli-nspkg==3.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/7c/94/cf884b92a870422f02c3f1f86573d04d5cc1abdc2ac51b8419c7ee2e2a00/azure_cli_nspkg-3.0.2-py2.py3-none-any.whl\\n', 'Collecting azure-common==1.1.11\\n', ' Downloading https://files.pythonhosted.org/packages/97/3b/2c7cda25382c3bb566008c5c8f8aa28663fd15a80a6204c76ae0035de107/azure_common-1.1.11-py2.py3-none-any.whl\\n', 'Collecting azure-graphrbac==0.40.0\\n', ' Downloading https://files.pythonhosted.org/packages/89/0a/29f7e2914033e2536026b8f0d7f8deb1edda68c9a93ce4757b2b1e39568b/azure_graphrbac-0.40.0-py2.py3-none-any.whl (63kB)\\n', 'Collecting azure-keyvault==1.0.0a1\\n', ' Downloading https://files.pythonhosted.org/packages/03/f3/fe18493d4ce781368f23d05701a8203344fdc15dbf9cfee4450652776d1a/azure_keyvault-1.0.0a1-py2.py3-none-any.whl (109kB)\\n', 'Collecting azure-mgmt-authorization==0.51.1\\n', ' Downloading https://files.pythonhosted.org/packages/a1/71/9a20913e92771b3c23564f1bea54d376d09fb30a75585087c70b769d75c8/azure_mgmt_authorization-0.51.1-py2.py3-none-any.whl (111kB)\\n', 'Collecting azure-mgmt-automation==0.1.1\\n', ' Downloading https://files.pythonhosted.org/packages/b0/a5/e3e1dd8b1cad0e97df3a274360fddc2e036a9eeb77653aff4ab8a09ad28d/azure_mgmt_automation-0.1.1-py2.py3-none-any.whl (380kB)\\n', 'Collecting azure-mgmt-batch==5.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/97/81/a9eb3fd2ab070159105b4cfe9640c24410ac8195286729d62bfdf871de94/azure_mgmt_batch-5.0.1-py2.py3-none-any.whl (87kB)\\n', 'Collecting azure-mgmt-cdn==3.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/ab/17/1684f274bd57ff81b0ac9000030d5796bf88c9735a093ba8b693c39ca6fd/azure_mgmt_cdn-3.0.0-py2.py3-none-any.whl (108kB)\\n', 'Collecting azure-mgmt-compute==4.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/b7/c4/2ba0af13ecfcd8a3dc2a43cb7306d8b1fe6881b93028afb3820458a1a3e2/azure_mgmt_compute-4.4.0-py2.py3-none-any.whl (2.5MB)\\n', 'Collecting azure-mgmt-containerinstance==1.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/77/50/f7f419e0ac788d41d080d5f25daf988b993063aab3bfd90def54e93e72d7/azure_mgmt_containerinstance-1.4.0-py2.py3-none-any.whl (87kB)\\n', 'Collecting azure-mgmt-containerregistry==2.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/c5/b6/926aba2129e87976a00c4742aa1dba4fea09708c0871ab48ec7937f9ac99/azure_mgmt_containerregistry-2.0.0-py2.py3-none-any.whl (274kB)\\n', 'Collecting azure-mgmt-containerservice==4.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/5b/2f/0eba2dbd5d3f66c076a66b0020ccfe9c7e78534ac132afaa104c138680c1/azure_mgmt_containerservice-4.4.0-py2.py3-none-any.whl (206kB)\\n', 'Collecting azure-mgmt-cosmosdb==0.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/71/69/b21344bd4cebec03118db5582418a290468113c6cd05a0a76a66175110e2/azure_mgmt_cosmosdb-0.5.2-py2.py3-none-any.whl (101kB)\\n', 'Collecting azure-mgmt-devtestlabs==3.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/9b/e0/583e30ffbfc26d0f950b3d364195ca31beb7806b26fc4cbc940f7fad61b0/azure_mgmt_devtestlabs-3.0.0-py2.py3-none-any.whl (381kB)\\n', 'Collecting azure-mgmt-dns==2.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/c7/d7/0f986a64b06db93cf29b76f9a188f5778eb959624a00ed6aedc335ee58d2/azure_mgmt_dns-2.1.0-py2.py3-none-any.whl (134kB)\\n', 'Collecting azure-mgmt-hdinsight==0.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/14/8c/394f790d71193b3252b7fc13c9931df737436fc3495072455680d5a617a9/azure_mgmt_hdinsight-0.1.0-py2.py3-none-any.whl (117kB)\\n', 'Collecting azure-mgmt-iothub==0.7.0\\n', ' Downloading https://files.pythonhosted.org/packages/9c/c8/333e4f03eef95832f90534c2aea3b6809c2b5d50ca087b7ce4e125527ea9/azure_mgmt_iothub-0.7.0-py2.py3-none-any.whl (131kB)\\n', 'Collecting azure-mgmt-keyvault==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/49/de/0d69aedae7c5f6428314640b65947203ab80409c12b5d4e66fb5b7a4182e/azure_mgmt_keyvault-1.1.0-py2.py3-none-any.whl (111kB)\\n', 'Collecting azure-mgmt-loganalytics==0.2.0\\n', ' Downloading https://files.pythonhosted.org/packages/70/40/c9b77bf82916e963aa701fb396673f7ddc4cdab95524b6d2edf927b05630/azure_mgmt_loganalytics-0.2.0-py2.py3-none-any.whl (89kB)\\n', 'Collecting azure-mgmt-marketplaceordering==0.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/a8/cb/13502fdbaf520d08fb280eb31ecfe5d926b9cf92259c22280bbde96b307d/azure_mgmt_marketplaceordering-0.1.0-py2.py3-none-any.whl\\n', 'Collecting azure-mgmt-monitor==0.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/6a/3b/a8b95ee25f1c209ad82ad06de39f4efbfb9dc8a8dc5da5a7a48d7897bf3e/azure_mgmt_monitor-0.5.2-py2.py3-none-any.whl (247kB)\\n', 'Collecting azure-mgmt-network==2.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/59/36/611dca31be00288f13fb632b4a3397791cf4cdd2c21f331829ec3e086c52/azure_mgmt_network-2.3.0-py2.py3-none-any.whl (7.8MB)\\n', 'Collecting azure-mgmt-nspkg==2.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/c9/e3/48b98f929290b0cd0aaa4707ecabb8aaeb267e8ef628af907f1d1c506ec7/azure_mgmt_nspkg-2.0.0-py2.py3-none-any.whl\\n', 'Collecting azure-mgmt-rdbms==1.4.1\\n', ' Downloading https://files.pythonhosted.org/packages/2a/6c/9b8446c20bc2deff03f148e757d4d397abd67e1d4fdaca45e1a8ada9e7e2/azure_mgmt_rdbms-1.4.1-py2.py3-none-any.whl (243kB)\\n', 'Collecting azure-mgmt-redis==5.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/90/a7/42342a984b2916972c5c5e24df94e3cd5e4377a8dc465a83415706d9be6f/azure_mgmt_redis-5.0.0-py2.py3-none-any.whl (43kB)\\n', 'Collecting azure-mgmt-resource==2.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/2b/2e/e79a278bedfc21308ab0c632759cfda5d7ff02d62260bcc4632449937dcf/azure_mgmt_resource-2.1.0-py2.py3-none-any.whl (757kB)\\n', 'Collecting azure-mgmt-servicebus==0.5.3\\n', ' Downloading https://files.pythonhosted.org/packages/28/ad/9e90f8bab40a9682410e57ed08a799be113c5e470bec247b099038c6389e/azure_mgmt_servicebus-0.5.3-py2.py3-none-any.whl (112kB)\\n', 'Collecting azure-mgmt-sql==0.10.0\\n', ' Downloading https://files.pythonhosted.org/packages/5d/88/4513a4c3ac2779c284eeaa6cb225e6c43005abbd6d0395b15477ac8a66f1/azure_mgmt_sql-0.10.0-py2.py3-none-any.whl (541kB)\\n', 'Collecting azure-mgmt-storage==3.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/e8/d9/496b29857a252bc3fcc4bbda069c0eb64b537c8e8f7e342abb4053ba920f/azure_mgmt_storage-3.1.0-py2.py3-none-any.whl (696kB)\\n', 'Collecting azure-mgmt-trafficmanager==0.50.0\\n', ' Downloading https://files.pythonhosted.org/packages/ed/4f/c322d72dc92dde543471bc23f9ac0eb6b9d0dc2441bb5ce938250040e307/azure_mgmt_trafficmanager-0.50.0-py2.py3-none-any.whl (52kB)\\n', 'Collecting azure-mgmt-web==0.41.0\\n', ' Downloading https://files.pythonhosted.org/packages/17/23/ba8a043dc657a9cf4820b69cc5d890870a8bfbc5b2241997994d8898bb15/azure_mgmt_web-0.41.0-py2.py3-none-any.whl (645kB)\\n', 'Collecting azure-nspkg==2.0.0\\n', ' Downloading https://files.pythonhosted.org/packages/cd/a0/76ca6659ae9afd7567fdbb5b9c85e9c9a0b48238cfcacd92525484408f66/azure_nspkg-2.0.0-py2.py3-none-any.whl\\n', 'Collecting azure-storage==0.35.1\\n', ' Downloading https://files.pythonhosted.org/packages/76/bf/647b73450c70d4c5efbf57b35edf1b45928695a8b20dce2a4577dee0d539/azure_storage-0.35.1-py2.py3-none-any.whl (190kB)\\n', 'Collecting backports.ssl-match-hostname==3.5.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/76/21/2dc61178a2038a5cb35d14b61467c6ac632791ed05131dda72c20e7b9e23/backports.ssl_match_hostname-3.5.0.1.tar.gz\\n', 'Collecting bcrypt==3.1.7\\n', ' Downloading https://files.pythonhosted.org/packages/8b/1d/82826443777dd4a624e38a08957b975e75df859b381ae302cfd7a30783ed/bcrypt-3.1.7-cp34-abi3-manylinux1_x86_64.whl (56kB)\\n', 'Collecting boto3==1.9.223\\n', ' Downloading https://files.pythonhosted.org/packages/60/43/4fec28d14e6b95e2fe38d9294bf04a5fd930d22fca055a796d2e67097773/boto3-1.9.223-py2.py3-none-any.whl (128kB)\\n', 'Collecting boto==2.47.0\\n', ' Downloading https://files.pythonhosted.org/packages/d7/ce/ced61cdf36d09038fc4c88bac1182845489e51a950148f5c1d1a4804cc28/boto-2.47.0-py2.py3-none-any.whl (1.4MB)\\n', 'Collecting botocore==1.12.253\\n', ' Downloading https://files.pythonhosted.org/packages/8e/7b/88f10115b4748f86be6b7b1d8761ba5023fccf6e6cbe762e368f63eddcf9/botocore-1.12.253-py2.py3-none-any.whl (5.7MB)\\n', 'Collecting cachetools==3.1.1\\n', ' Using cached https://files.pythonhosted.org/packages/2f/a6/30b0a0bef12283e83e58c1d6e7b5aabc7acfc4110df81a4471655d33e704/cachetools-3.1.1-py2.py3-none-any.whl\\n', 'Collecting certifi==2019.11.28\\n', ' Using cached https://files.pythonhosted.org/packages/b9/63/df50cac98ea0d5b006c55a399c3bf1db9da7b5a24de7890bc9cfd5dd9e99/certifi-2019.11.28-py2.py3-none-any.whl\\n', 'Collecting cffi==1.13.2\\n', ' Using cached https://files.pythonhosted.org/packages/2d/bf/960e5a422db3ac1a5e612cb35ca436c3fc985ed4b7ed13a1b4879006f450/cffi-1.13.2.tar.gz\\n', 'Collecting chardet==3.0.4\\n', ' Using cached https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl\\n', 'Collecting colorama==0.4.3\\n', ' Downloading https://files.pythonhosted.org/packages/c9/dc/45cdef1b4d119eb96316b3117e6d5708a08029992b2fee2c143c7a0a5cc5/colorama-0.4.3-py2.py3-none-any.whl\\n', 'Collecting cryptography==2.8\\n', ' Using cached https://files.pythonhosted.org/packages/ca/9a/7cece52c46546e214e10811b36b2da52ce1ea7fa203203a629b8dfadad53/cryptography-2.8-cp34-abi3-manylinux2010_x86_64.whl\\n', 'Collecting decorator==4.4.1\\n', ' Downloading https://files.pythonhosted.org/packages/8f/b7/f329cfdc75f3d28d12c65980e4469e2fa373f1953f5df6e370e84ea2e875/decorator-4.4.1-py2.py3-none-any.whl\\n', 'Collecting docutils==0.15.2\\n', ' Downloading https://files.pythonhosted.org/packages/22/cd/a6aa959dca619918ccb55023b4cb151949c64d4d5d55b3f4ffd7eee0c6e8/docutils-0.15.2-py3-none-any.whl (547kB)\\n', 'Collecting dogpile.cache==0.9.0\\n', ' Downloading https://files.pythonhosted.org/packages/ac/6a/9ac405686a94b7f009a20a50070a5786b0e1aedc707b88d40d0c4b51a82e/dogpile.cache-0.9.0.tar.gz (325kB)\\n', 'Collecting google-auth==1.6.2\\n', ' Downloading https://files.pythonhosted.org/packages/4e/85/71b2dfbf5b4241cd031cc333ed71f90a271074a97cb2c517bb65f07a1a90/google_auth-1.6.2-py2.py3-none-any.whl (73kB)\\n', 'Collecting humanfriendly==4.18\\n', ' Downloading https://files.pythonhosted.org/packages/90/df/88bff450f333114680698dc4aac7506ff7cab164b794461906de31998665/humanfriendly-4.18-py2.py3-none-any.whl (73kB)\\n', 'Collecting idna==2.8\\n', ' Using cached https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl\\n', 'Collecting iso8601==0.1.12\\n', ' Downloading https://files.pythonhosted.org/packages/ef/57/7162609dab394d38bbc7077b7ba0a6f10fb09d8b7701ea56fa1edc0c4345/iso8601-0.1.12-py2.py3-none-any.whl\\n', 'Collecting isodate==0.6.0\\n', ' Using cached https://files.pythonhosted.org/packages/9b/9f/b36f7774ff5ea8e428fdcfc4bb332c39ee5b9362ddd3d40d9516a55221b2/isodate-0.6.0-py2.py3-none-any.whl\\n', 'Collecting jinja2==2.10.1\\n', ' Downloading https://files.pythonhosted.org/packages/1d/e7/fd8b501e7a6dfe492a433deb7b9d833d39ca74916fa8bc63dd1a4947a671/Jinja2-2.10.1-py2.py3-none-any.whl (124kB)\\n', 'Collecting jmespath==0.9.4\\n', ' Downloading https://files.pythonhosted.org/packages/83/94/7179c3832a6d45b266ddb2aac329e101367fbdb11f425f13771d27f225bb/jmespath-0.9.4-py2.py3-none-any.whl\\n', 'Collecting jsonpatch==1.24\\n', ' Downloading https://files.pythonhosted.org/packages/86/7e/035d19a73306278673039f0805b863be8798057cc1b4008b9c8c7d1d32a3/jsonpatch-1.24-py2.py3-none-any.whl\\n', 'Collecting jsonpointer==2.0\\n', ' Downloading https://files.pythonhosted.org/packages/18/b0/a80d29577c08eea401659254dfaed87f1af45272899e1812d7e01b679bc5/jsonpointer-2.0-py2.py3-none-any.whl\\n', 'Collecting keystoneauth1==3.18.0\\n', ' Downloading https://files.pythonhosted.org/packages/97/f6/6d17bcad6eff1561e3cfde1ea4d1d6bb9aac612b3fdfe78ec5049d01694e/keystoneauth1-3.18.0-py2.py3-none-any.whl (310kB)\\n', 'Collecting knack==0.3.3\\n', ' Downloading https://files.pythonhosted.org/packages/92/aa/d5563dfb2724a5d7899170461f8c70e88f8f9422bd1c44a2a7528e2e6235/knack-0.3.3-py2.py3-none-any.whl (42kB)\\n', 'Collecting lxml==4.4.2\\n', ' Using cached https://files.pythonhosted.org/packages/68/30/affd16b77edf9537f5be051905f33527021e20d563d013e8c42c7fd01949/lxml-4.4.2-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting markupsafe==1.1.1\\n', ' Using cached https://files.pythonhosted.org/packages/b2/5f/23e0023be6bb885d00ffbefad2942bc51a620328ee910f64abe5a8d18dd1/MarkupSafe-1.1.1-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting msrest==0.6.1\\n', ' Downloading https://files.pythonhosted.org/packages/dc/8e/05c45ff0c0f293e8d044030a0007a16ece0d39dbc7fa6bb911a2f53b649a/msrest-0.6.1-py2.py3-none-any.whl (81kB)\\n', 'Collecting msrestazure==0.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/a4/48/cfa54772365b4d0b8f3e7af16354db768b0317b3273265b37c14f71b705b/msrestazure-0.5.0-py2.py3-none-any.whl\\n', 'Collecting munch==2.5.0\\n', ' Downloading https://files.pythonhosted.org/packages/cc/ab/85d8da5c9a45e072301beb37ad7f833cd344e04c817d97e0cc75681d248f/munch-2.5.0-py2.py3-none-any.whl\\n', 'Collecting ncclient==0.6.3\\n', ' Downloading https://files.pythonhosted.org/packages/dc/95/acc44c2ff966743fedd1ad991ecf2498f40fd434883c67138b60a6373d49/ncclient-0.6.3.tar.gz (88kB)\\n', 'Collecting netaddr==0.7.19\\n', ' Using cached https://files.pythonhosted.org/packages/ba/97/ce14451a9fd7bdb5a397abf99b24a1a6bb7a1a440b019bebd2e9a0dbec74/netaddr-0.7.19-py2.py3-none-any.whl\\n', 'Collecting netifaces==0.10.9\\n', ' Downloading https://files.pythonhosted.org/packages/0c/9b/c4c7eb09189548d45939a3d3a6b3d53979c67d124459b27a094c365c347f/netifaces-0.10.9-cp36-cp36m-manylinux1_x86_64.whl\\n', 'Collecting ntlm-auth==1.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/50/09/5e397eb18685b14fd8b209e26cdb4fa6451c82c1bcc651fef05fa73e7b27/ntlm_auth-1.4.0-py2.py3-none-any.whl\\n', 'Collecting oauthlib==3.1.0\\n', ' Using cached https://files.pythonhosted.org/packages/05/57/ce2e7a8fa7c0afb54a0581b14a65b56e62b5759dbc98e80627142b8a3704/oauthlib-3.1.0-py2.py3-none-any.whl\\n', 'Collecting openstacksdk==0.31.1\\n', ' Downloading https://files.pythonhosted.org/packages/0a/22/b601b1134107ddbc78a5a61bed31c57a5cd75306cc683081662bc72c3df4/openstacksdk-0.31.1-py2.py3-none-any.whl (1.2MB)\\n', 'Collecting os-service-types==1.7.0\\n', ' Downloading https://files.pythonhosted.org/packages/10/2d/318b2b631f68e0fc221ba8f45d163bf810cdb795cf242fe85ad3e5d45639/os_service_types-1.7.0-py2.py3-none-any.whl\\n', 'Collecting ovirt-engine-sdk-python==4.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/53/06/4faf279a5e58c7a6a28fcc865ba3b5b69c39ee786a5043ab1ccfb5d8c75e/ovirt-engine-sdk-python-4.3.0.tar.gz (324kB)\\n', 'Collecting packaging==19.2\\n', ' Downloading https://files.pythonhosted.org/packages/cf/94/9672c2d4b126e74c4496c6b3c58a8b51d6419267be9e70660ba23374c875/packaging-19.2-py2.py3-none-any.whl\\n', 'Collecting paramiko==2.7.1\\n', ' Downloading https://files.pythonhosted.org/packages/06/1e/1e08baaaf6c3d3df1459fd85f0e7d2d6aa916f33958f151ee1ecc9800971/paramiko-2.7.1-py2.py3-none-any.whl (206kB)\\n', 'Collecting pbr==5.4.4\\n', ' Downloading https://files.pythonhosted.org/packages/7a/db/a968fd7beb9fe06901c1841cb25c9ccb666ca1b9a19b114d1bbedf1126fc/pbr-5.4.4-py2.py3-none-any.whl (110kB)\\n', 'Collecting psutil==5.4.3\\n', ' Downloading https://files.pythonhosted.org/packages/e2/e1/600326635f97fee89bf8426fef14c5c29f4849c79f68fd79f433d8c1bd96/psutil-5.4.3.tar.gz (412kB)\\n', 'Collecting pyasn1-modules==0.2.7\\n', ' Using cached https://files.pythonhosted.org/packages/52/50/bb4cefca37da63a0c52218ba2cb1b1c36110d84dcbae8aa48cd67c5e95c2/pyasn1_modules-0.2.7-py2.py3-none-any.whl\\n', 'Collecting pyasn1==0.4.8\\n', ' Using cached https://files.pythonhosted.org/packages/62/1e/a94a8d635fa3ce4cfc7f506003548d0a2447ae76fd5ca53932970fe3053f/pyasn1-0.4.8-py2.py3-none-any.whl\\n', 'Collecting pycparser==2.19\\n', ' Using cached https://files.pythonhosted.org/packages/68/9e/49196946aee219aead1290e00d1e7fdeab8567783e83e1b9ab5585e6206a/pycparser-2.19.tar.gz\\n', 'Collecting pycurl==7.43.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/77/d9/d272b38e6e25d2686e22f6058820298dadead69340b1c57ff84c87ef81f0/pycurl-7.43.0.1.tar.gz (195kB)\\n', 'Collecting pygments==2.5.2\\n', ' Downloading https://files.pythonhosted.org/packages/be/39/32da3184734730c0e4d3fa3b2b5872104668ad6dc1b5a73d8e477e5fe967/Pygments-2.5.2-py2.py3-none-any.whl (896kB)\\n', 'Collecting pyjwt==1.7.1\\n', ' Using cached https://files.pythonhosted.org/packages/87/8b/6a9f14b5f781697e51259d81657e6048fd31a113229cf346880bb7545565/PyJWT-1.7.1-py2.py3-none-any.whl\\n', 'Collecting pykerberos==1.2.1\\n', ' Downloading https://files.pythonhosted.org/packages/9a/b8/1ec56b6fa8a2e2a81420bd3d90e70b59fc83f6b857fb2c2c37accddc8be3/pykerberos-1.2.1.tar.gz\\n', 'Collecting pynacl==1.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/27/15/2cd0a203f318c2240b42cd9dd13c931ddd61067809fee3479f44f086103e/PyNaCl-1.3.0-cp34-abi3-manylinux1_x86_64.whl (759kB)\\n', 'Collecting pyopenssl==19.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/9e/de/f8342b68fa9e981d348039954657bdf681b2ab93de27443be51865ffa310/pyOpenSSL-19.1.0-py2.py3-none-any.whl (53kB)\\n', 'Collecting pyparsing==2.4.5\\n', ' Using cached https://files.pythonhosted.org/packages/c0/0c/fc2e007d9a992d997f04a80125b0f183da7fb554f1de701bbb70a8e7d479/pyparsing-2.4.5-py2.py3-none-any.whl\\n', 'Collecting python-dateutil==2.8.1\\n', ' Using cached https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl\\n', 'Collecting pyvmomi==6.7.3\\n', ' Downloading https://files.pythonhosted.org/packages/eb/87/ebf153a3aafdac7c54c5578b6240d7930a8c0a1a21bdd98d271fd131673c/pyvmomi-6.7.3.tar.gz (576kB)\\n', 'Collecting pywinrm[kerberos]==0.3.0\\n', ' Downloading https://files.pythonhosted.org/packages/0d/12/13a3117bbd2230043aa32dcfa2198c33269665eaa1a8fa26174ce49b338f/pywinrm-0.3.0-py2.py3-none-any.whl\\n', 'Processing /root/.cache/pip/wheels/54/b7/c7/2ada654ee54483c9329871665aaf4a6056c3ce36f29cf66e67/PyYAML-5.2-cp36-cp36m-linux_x86_64.whl\\n', 'Collecting requests-credssp==1.0.2\\n', ' Downloading https://files.pythonhosted.org/packages/92/bd/4b187dd2f11ffd8475cb225a5d80e02ebe25ebaa024d8dfa49f974b32fc8/requests_credssp-1.0.2-py2.py3-none-any.whl\\n', 'Collecting requests-kerberos==0.12.0\\n', ' Downloading https://files.pythonhosted.org/packages/ee/a2/866f2b9a60f75055137b9ad127033e397963b2c4769d4b5fab1c3c7e8be3/requests_kerberos-0.12.0-py2.py3-none-any.whl\\n', 'Collecting requests-ntlm==1.1.0\\n', ' Downloading https://files.pythonhosted.org/packages/03/4b/8b9a1afde8072c4d5710d9fa91433d504325821b038e00237dc8d6d833dc/requests_ntlm-1.1.0-py2.py3-none-any.whl\\n', 'Collecting requests-oauthlib==1.3.0\\n', ' Using cached https://files.pythonhosted.org/packages/a3/12/b92740d845ab62ea4edf04d2f4164d82532b5a0b03836d4d4e71c6f3d379/requests_oauthlib-1.3.0-py2.py3-none-any.whl\\n', 'Collecting requests==2.22.0\\n', ' Using cached https://files.pythonhosted.org/packages/51/bd/23c926cd341ea6b7dd0b2a00aba99ae0f828be89d72b2190f27c11d4b7fb/requests-2.22.0-py2.py3-none-any.whl\\n', 'Collecting requestsexceptions==1.4.0\\n', ' Downloading https://files.pythonhosted.org/packages/01/8c/49ca60ea8c907260da4662582c434bec98716177674e88df3fd340acf06d/requestsexceptions-1.4.0-py2.py3-none-any.whl\\n', 'Collecting rsa==4.0\\n', ' Using cached https://files.pythonhosted.org/packages/02/e5/38518af393f7c214357079ce67a317307936896e961e35450b70fad2a9cf/rsa-4.0-py2.py3-none-any.whl\\n', 'Collecting s3transfer==0.2.1\\n', ' Downloading https://files.pythonhosted.org/packages/16/8a/1fc3dba0c4923c2a76e1ff0d52b305c44606da63f718d14d3231e21c51b0/s3transfer-0.2.1-py2.py3-none-any.whl (70kB)\\n', 'Collecting selectors2==2.0.1\\n', ' Downloading https://files.pythonhosted.org/packages/c9/89/8a07d6d6c78422c5151f68453e9741af4cd82bebcfa73923f73b3bdbef0d/selectors2-2.0.1-py2.py3-none-any.whl\\n', 'Collecting six==1.13.0\\n', ' Using cached https://files.pythonhosted.org/packages/65/26/32b8464df2a97e6dd1b656ed26b2c194606c16fe163c695a992b36c11cdf/six-1.13.0-py2.py3-none-any.whl\\n', 'Collecting stevedore==1.31.0\\n', ' Downloading https://files.pythonhosted.org/packages/b1/e1/f5ddbd83f60b03f522f173c03e406c1bff8343f0232a292ac96aa633b47a/stevedore-1.31.0-py2.py3-none-any.whl (43kB)\\n', 'Collecting tabulate==0.8.2\\n', ' Downloading https://files.pythonhosted.org/packages/12/c2/11d6845db5edf1295bc08b2f488cf5937806586afe42936c3f34c097ebdc/tabulate-0.8.2.tar.gz (45kB)\\n', 'Collecting urllib3==1.25.7\\n', ' Using cached https://files.pythonhosted.org/packages/b4/40/a9837291310ee1ccc242ceb6ebfd9eb21539649f193a7c8c86ba15b98539/urllib3-1.25.7-py2.py3-none-any.whl\\n', 'Collecting wheel==0.30.0\\n', ' Downloading https://files.pythonhosted.org/packages/0c/80/16a85b47702a1f47a63c104c91abdd0a6704ee8ae3b4ce4afc49bc39f9d9/wheel-0.30.0-py2.py3-none-any.whl (49kB)\\n', 'Collecting xmltodict==0.12.0\\n', ' Downloading https://files.pythonhosted.org/packages/28/fd/30d5c1d3ac29ce229f6bdc40bbc20b28f716e8b363140c26eff19122d8a5/xmltodict-0.12.0-py2.py3-none-any.whl\\n', 'Requirement already satisfied: pip==19.3.1 in /var/lib/awx/venv/ansible/lib/python3.6/site-packages (from -r /dev/stdin (line 118)) (19.3.1)\\n', 'Requirement already satisfied: setuptools==41.6.0 in /var/lib/awx/venv/ansible/lib/python3.6/site-packages (from -r /dev/stdin (line 119)) (41.6.0)\\n', 'Skipping wheel build for cffi, due to binaries being disabled for it.\\n', 'Skipping wheel build for pycparser, due to binaries being disabled for it.\\n', 'Building wheels for collected packages: backports.ssl-match-hostname, dogpile.cache, ncclient, ovirt-engine-sdk-python, psutil, pycurl, pykerberos, pyvmomi, tabulate\\n', ' Building wheel for backports.ssl-match-hostname (setup.py): started\\n', \"" Building wheel for backports.ssl-match-hostname (setup.py): finished with status 'done'\\n\"", ' Created wheel for backports.ssl-match-hostname: filename=backports.ssl_match_hostname-3.5.0.1-cp36-none-any.whl size=5207 sha256=023b6b8abf7d82ae14c913e83ab505025f48f41e3340d582df34802ded076a73\\n', ' Stored in directory: /root/.cache/pip/wheels/99/7e/f7/a88a9bcf7a3bd6b12cf6a74eee8c89746aaa02f71ab7b33939\\n', ' Building wheel for dogpile.cache (setup.py): started\\n', \"" Building wheel for dogpile.cache (setup.py): finished with status 'done'\\n\"", ' Created wheel for dogpile.cache: filename=dogpile.cache-0.9.0-py2.py3-none-any.whl size=44831 sha256=4b8686b9a2f7940ec82242d4a6ba9bda97dffa2caedfad49b304c29388e6cdb1\\n', ' Stored in directory: /root/.cache/pip/wheels/b4/ad/c4/1faa9b2da61b12b7c3821cda298be230c457ee740bd8658cb2\\n', ' Building wheel for ncclient (setup.py): started\\n', \"" Building wheel for ncclient (setup.py): finished with status 'done'\\n\"", ' Created wheel for ncclient: filename=ncclient-0.6.3-py2.py3-none-any.whl size=67560 sha256=28f639ab7ebdc51045e8a0b1e7872c84fcc46770481b941a98f50364ef2e3056\\n', ' Stored in directory: /root/.cache/pip/wheels/02/53/2f/ea7066e29477ca43cc166cdf14e64b87f3dd4e26c4f673adf2\\n', ' Building wheel for ovirt-engine-sdk-python (setup.py): started\\n', \"" Building wheel for ovirt-engine-sdk-python (setup.py): finished with status 'done'\\n\"", ' Created wheel for ovirt-engine-sdk-python: filename=ovirt_engine_sdk_python-4.3.0-cp36-cp36m-linux_x86_64.whl size=305822 sha256=5c46a26174acd06c589b798db230e3e76ef4ec2aa29030e77925f0a6dc3893a6\\n', ' Stored in directory: /root/.cache/pip/wheels/70/33/f1/50e272a0b605fcbd09a01e49ddf274684c53230d009077cff4\\n', ' Building wheel for psutil (setup.py): started\\n', \"" Building wheel for psutil (setup.py): finished with status 'done'\\n\"", ' Created wheel for psutil: filename=psutil-5.4.3-cp36-cp36m-linux_x86_64.whl size=269884 sha256=086fb5a89c4e2fa1e3a08eb167216d88d31576ac6fad5c41324f756e8c36ecb3\\n', ' Stored in directory: /root/.cache/pip/wheels/fe/33/84/baea3d665de2d1af7e8f827f3883811bba5e4149443ccf8191\\n', ' Building wheel for pycurl (setup.py): started\\n', \"" Building wheel for pycurl (setup.py): finished with status 'done'\\n\"", ' Created wheel for pycurl: filename=pycurl-7.43.0.1-cp36-cp36m-linux_x86_64.whl size=258887 sha256=66b7b07eb13a52c68d0efed0eb06ef45ddc7f7a91171c29cd66df2fe4bb6c1fc\\n', ' Stored in directory: /root/.cache/pip/wheels/77/c8/b6/bed2606b4ae3cf738c99c111d88ce33d8ae82171c40cbddbf0\\n', ' Building wheel for pykerberos (setup.py): started\\n', \"" Building wheel for pykerberos (setup.py): finished with status 'done'\\n\"", ' Created wheel for pykerberos: filename=pykerberos-1.2.1-cp36-cp36m-linux_x86_64.whl size=79354 sha256=29d3c602a1949a483c878a1bf67ff9eb0455041a2286dbe2962b1e1fe632f0ab\\n', ' Stored in directory: /root/.cache/pip/wheels/c7/a7/07/d414c22754acf5822ccce48b41822142974ec103057c8305e7\\n', ' Building wheel for pyvmomi (setup.py): started\\n', \"" Building wheel for pyvmomi (setup.py): finished with status 'done'\\n\"", ' Created wheel for pyvmomi: filename=pyvmomi-6.7.3-py2.py3-none-any.whl size=244214 sha256=b30f3c2ff05e1ac1d32f1df76cb68b723685d22a0c5af1f08cead1addc7b89e1\\n', ' Stored in directory: /root/.cache/pip/wheels/79/04/32/49efab8d7c4728408253a358c51b7eeaed8778b9c529422715\\n', ' Building wheel for tabulate (setup.py): started\\n', \"" Building wheel for tabulate (setup.py): finished with status 'done'\\n\"", ' Created wheel for tabulate: filename=tabulate-0.8.2-cp36-none-any.whl size=23533 sha256=8eb05d6bebe94b0b34f09057f9dacff3df1fd1c93c17d5597851996272f8bb2b\\n', ' Stored in directory: /root/.cache/pip/wheels/2a/85/33/2f6da85d5f10614cbe5a625eab3b3aebfdf43e7b857f25f829\\n', 'Successfully built backports.ssl-match-hostname dogpile.cache ncclient ovirt-engine-sdk-python psutil pycurl pykerberos pyvmomi tabulate\\n', 'Installing collected packages: six, python-dateutil, idna, chardet, urllib3, certifi, requests, pycparser, cffi, cryptography, pyjwt, adal, apache-libcloud, appdirs, applicationinsights, argcomplete, tabulate, colorama, oauthlib, requests-oauthlib, isodate, msrest, msrestazure, jmespath, pygments, pyyaml, knack, wheel, azure-nspkg, azure-cli-nspkg, pynacl, bcrypt, paramiko, pyopenssl, humanfriendly, azure-cli-core, azure-common, azure-graphrbac, azure-keyvault, azure-mgmt-authorization, azure-mgmt-automation, azure-mgmt-nspkg, azure-mgmt-batch, azure-mgmt-cdn, azure-mgmt-compute, azure-mgmt-containerinstance, azure-mgmt-containerregistry, azure-mgmt-containerservice, azure-mgmt-cosmosdb, azure-mgmt-devtestlabs, azure-mgmt-dns, azure-mgmt-hdinsight, azure-mgmt-iothub, azure-mgmt-keyvault, azure-mgmt-loganalytics, azure-mgmt-marketplaceordering, azure-mgmt-monitor, azure-mgmt-network, azure-mgmt-rdbms, azure-mgmt-redis, azure-mgmt-resource, azure-mgmt-servicebus, azure-mgmt-sql, azure-mgmt-storage, azure-mgmt-trafficmanager, azure-mgmt-web, azure-storage, backports.ssl-match-hostname, docutils, botocore, s3transfer, boto3, boto, cachetools, decorator, dogpile.cache, pyasn1, rsa, pyasn1-modules, google-auth, iso8601, markupsafe, jinja2, jsonpointer, jsonpatch, pbr, os-service-types, stevedore, keystoneauth1, lxml, munch, selectors2, ncclient, netaddr, netifaces, ntlm-auth, requestsexceptions, openstacksdk, pycurl, ovirt-engine-sdk-python, pyparsing, packaging, psutil, pykerberos, pyvmomi, requests-ntlm, xmltodict, requests-kerberos, pywinrm, requests-credssp\\n', ' Running setup.py install for pycparser: started\\n', \"" Running setup.py install for pycparser: finished with status 'done'\\n\"", ' Running setup.py install for cffi: started\\n', \"" Running setup.py install for cffi: finished with status 'done'\\n\"", ' Found existing installation: wheel 0.34.2\\n', ' Uninstalling wheel-0.34.2:\\n', ' Successfully uninstalled wheel-0.34.2\\n', 'Successfully installed adal-1.2.2 apache-libcloud-2.5.0 appdirs-1.4.3 applicationinsights-0.11.9 argcomplete-1.10.3 azure-cli-core-2.0.35 azure-cli-nspkg-3.0.2 azure-common-1.1.11 azure-graphrbac-0.40.0 azure-keyvault-1.0.0a1 azure-mgmt-authorization-0.51.1 azure-mgmt-automation-0.1.1 azure-mgmt-batch-5.0.1 azure-mgmt-cdn-3.0.0 azure-mgmt-compute-4.4.0 azure-mgmt-containerinstance-1.4.0 azure-mgmt-containerregistry-2.0.0 azure-mgmt-containerservice-4.4.0 azure-mgmt-cosmosdb-0.5.2 azure-mgmt-devtestlabs-3.0.0 azure-mgmt-dns-2.1.0 azure-mgmt-hdinsight-0.1.0 azure-mgmt-iothub-0.7.0 azure-mgmt-keyvault-1.1.0 azure-mgmt-loganalytics-0.2.0 azure-mgmt-marketplaceordering-0.1.0 azure-mgmt-monitor-0.5.2 azure-mgmt-network-2.3.0 azure-mgmt-nspkg-2.0.0 azure-mgmt-rdbms-1.4.1 azure-mgmt-redis-5.0.0 azure-mgmt-resource-2.1.0 azure-mgmt-servicebus-0.5.3 azure-mgmt-sql-0.10.0 azure-mgmt-storage-3.1.0 azure-mgmt-trafficmanager-0.50.0 azure-mgmt-web-0.41.0 azure-nspkg-2.0.0 azure-storage-0.35.1 backports.ssl-match-hostname-3.5.0.1 bcrypt-3.1.7 boto-2.47.0 boto3-1.9.223 botocore-1.12.253 cachetools-3.1.1 certifi-2019.11.28 cffi-1.13.2 chardet-3.0.4 colorama-0.4.3 cryptography-2.8 decorator-4.4.1 docutils-0.15.2 dogpile.cache-0.9.0 google-auth-1.6.2 humanfriendly-4.18 idna-2.8 iso8601-0.1.12 isodate-0.6.0 jinja2-2.10.1 jmespath-0.9.4 jsonpatch-1.24 jsonpointer-2.0 keystoneauth1-3.18.0 knack-0.3.3 lxml-4.4.2 markupsafe-1.1.1 msrest-0.6.1 msrestazure-0.5.0 munch-2.5.0 ncclient-0.6.3 netaddr-0.7.19 netifaces-0.10.9 ntlm-auth-1.4.0 oauthlib-3.1.0 openstacksdk-0.31.1 os-service-types-1.7.0 ovirt-engine-sdk-python-4.3.0 packaging-19.2 paramiko-2.7.1 pbr-5.4.4 psutil-5.4.3 pyasn1-0.4.8 pyasn1-modules-0.2.7 pycparser-2.19 pycurl-7.43.0.1 pygments-2.5.2 pyjwt-1.7.1 pykerberos-1.2.1 pynacl-1.3.0 pyopenssl-19.1.0 pyparsing-2.4.5 python-dateutil-2.8.1 pyvmomi-6.7.3 pywinrm-0.3.0 pyyaml-5.2 requests-2.22.0 requests-credssp-1.0.2 requests-kerberos-0.12.0 requests-ntlm-1.1.0 requests-oauthlib-1.3.0 requestsexceptions-1.4.0 rsa-4.0 s3transfer-0.2.1 selectors2-2.0.1 six-1.13.0 stevedore-1.31.0 tabulate-0.8.2 urllib3-1.25.7 wheel-0.30.0 xmltodict-0.12.0\\n', \""\\x1b[91mWARNING: You are using pip version 19.3.1; however, version 20.0.2 is available.\\nYou should consider upgrading via the 'pip install --upgrade pip' command.\\n\\x1b[0m\"", '/var/lib/awx/venv/ansible/bin/pip3 uninstall --yes -r requirements/requirements_ansible_uninstall.txt\\n', 'Uninstalling pycurl-7.43.0.1:\\n', ' Successfully uninstalled pycurl-7.43.0.1\\n', 'Uninstalling rsa-4.0:\\n', ' Successfully uninstalled rsa-4.0\\n', '# Same effect as using --system-site-packages flag on venv creation\\n', 'rm /var/lib/awx/venv/ansible/lib/python3.6/no-global-site-packages.txt\\n', \""\\x1b[91mrm: cannot remove '/var/lib/awx/venv/ansible/lib/python3.6/no-global-site-packages.txt': No such file or directory\\n\\x1b[0m\"", '\\x1b[91mmake: *** [Makefile:190: requirements_ansible_py3] Error 1\\n\\x1b[0m', 'Removing intermediate container c94d5f8ec9fb\\n']""} PLAY RECAP ***************************************************************************************************************************************************************************** localhost : ok=26 changed=2 unreachable=0 failed=1 skipped=5 rescued=0 ignored=0 ``` other-file other-file",no-bug,0.9
11452,awx,https://github.com/ansible/awx/issues/11452,TypeError: Converting circular structure to JSON trying to relaunch Jobs,### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Trying to relaunch a job is causing `Failed to launch job.` `TypeError: Converting circular structure to JSON --> starting at object with constructor 'HTMLButtonElement'` ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Create a job template 2. Launch this JT 3. Go to jobs list 4. Relaunch the job ### Expected results The job to relaunch successfully and run ### Actual results ``` TypeError: Converting circular structure to JSON --> starting at object with constructor 'HTMLButtonElement' | property '__reactFiber$ufx73v3ec7m' -> object with constructor 'Bl' --- property 'stateNode' closes the circle at stringify (<anonymous>) at https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:912670 at Object.l.transformRequest (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:912674) at https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1450812 at Object.u [as forEach] (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:356646) at Object.e.exports (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1450785) at e.exports (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1450199) at u.request (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1449016) at u.r.forEach.u.<computed> [as post] (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1449469) at Function.post (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1059419) ``` ![image](https://user-images.githubusercontent.com/12464858/145837634-7227b6ae-d1e4-4553-9a74-c5bc68aa3569.png) ### Additional information _No response_,source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file,TypeError: Converting circular structure to JSON trying to relaunch Jobs ### Please confirm the following - [X] I agree to follow this project's [code of conduct](http://docs.ansible.com/ansible/latest/community/code_of_conduct.html). - [X] I have checked the [current issues](https://github.com/ansible/awx/issues) for duplicates. - [X] I understand that AWX is open source software provided for free and that I am not entitled to status updates or other assurances. ### Summary Trying to relaunch a job is causing `Failed to launch job.` `TypeError: Converting circular structure to JSON --> starting at object with constructor 'HTMLButtonElement'` ### AWX version devel ### Installation method docker on linux ### Modifications no ### Ansible version _No response_ ### Operating system _No response_ ### Web browser Chrome ### Steps to reproduce 1. Create a job template 2. Launch this JT 3. Go to jobs list 4. Relaunch the job ### Expected results The job to relaunch successfully and run ### Actual results ``` TypeError: Converting circular structure to JSON --> starting at object with constructor 'HTMLButtonElement' | property '__reactFiber$ufx73v3ec7m' -> object with constructor 'Bl' --- property 'stateNode' closes the circle at stringify (<anonymous>) at https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:912670 at Object.l.transformRequest (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:912674) at https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1450812 at Object.u [as forEach] (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:356646) at Object.e.exports (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1450785) at e.exports (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1450199) at u.request (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1449016) at u.r.forEach.u.<computed> [as post] (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1449469) at Function.post (https://localhost:8043/static/js/2.c2ae93d7.chunk.js:2:1059419) ``` ![image](https://user-images.githubusercontent.com/12464858/145837634-7227b6ae-d1e4-4553-9a74-c5bc68aa3569.png) ### Additional information _No response_ source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file,bug,0.9
10160,awx,https://github.com/ansible/awx/issues/10160,Convert Instance Groups --> Instances to tables view,##### ISSUE TYPE - Feature Idea ##### SUMMARY See https://github.com/ansible/awx/issues/6189,other-file | other-file | test-file,Convert Instance Groups --> Instances to tables view ##### ISSUE TYPE - Feature Idea ##### SUMMARY See https://github.com/ansible/awx/issues/6189 other-file other-file test-file,no-bug,0.9
5368,awx,https://github.com/ansible/awx/issues/5368,Increase psql pv size in kubernetes?,"<!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE - Documentation ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - Installer ##### SUMMARY Is there any way to set the size of the postgres partition > 5gb? The installer creates a 5gb PV but it's not possible to increase after the install. ##### ENVIRONMENT * AWX version: 6.1.0.0 * AWX install method: kubernetes * Ansible version: 2.8.2 * Operating System: CentOS 7",other-file,"Increase psql pv size in kubernetes? <!--- The Ansible community is highly committed to the security of our open source projects. Security concerns should be reported directly by email to security@ansible.com. For more information on the Ansible community's practices regarding responsible disclosure, see https://www.ansible.com/security --> ##### ISSUE TYPE - Documentation ##### COMPONENT NAME <!-- Pick the area of AWX for this issue, you can have multiple, delete the rest: --> - Installer ##### SUMMARY Is there any way to set the size of the postgres partition > 5gb? The installer creates a 5gb PV but it's not possible to increase after the install. ##### ENVIRONMENT * AWX version: 6.1.0.0 * AWX install method: kubernetes * Ansible version: 2.8.2 * Operating System: CentOS 7 other-file",no-bug,0.9
5684,awx,https://github.com/ansible/awx/issues/5684,Users List - Add Type column,"##### ISSUE TYPE - Feature Idea ##### SUMMARY Mockup: https://tower-mockups.testing.ansible.com/patternfly/users/users/ Add column for user ""type"" Normal User, System Administrator, System Auditor to the user list. <img width=""1197"" alt=""Screen Shot 2020-01-16 at 4 45 48 PM"" src=""https://user-images.githubusercontent.com/15881645/72565384-b9f40300-387f-11ea-9ab8-d0aeb1c198e2.png"">",other-file | test-file | other-file | test-file | other-file | test-file | documentation-file | other-file | other-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | source-file | config-file | source-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | source-file | other-file | test-file | other-file | other-file | test-file | source-file | test-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | test-file | other-file | other-file | test-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | documentation-file | other-file | test-file | source-file | other-file | other-file | test-file | other-file | source-file | other-file | test-file | source-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | source-file | other-file | test-file | source-file | source-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | other-file | test-file | other-file | test-file | other-file | test-file | other-file | test-file,"Users List - Add Type column ##### ISSUE TYPE - Feature Idea ##### SUMMARY Mockup: https://tower-mockups.testing.ansible.com/patternfly/users/users/ Add column for user ""type"" Normal User, System Administrator, System Auditor to the user list. <img width=""1197"" alt=""Screen Shot 2020-01-16 at 4 45 48 PM"" src=""https://user-images.githubusercontent.com/15881645/72565384-b9f40300-387f-11ea-9ab8-d0aeb1c198e2.png""> other-file test-file other-file test-file other-file test-file documentation-file other-file other-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file source-file config-file source-file documentation-file documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file source-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file source-file other-file test-file other-file other-file test-file test-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file other-file test-file source-file other-file test-file source-file other-file other-file source-file other-file test-file other-file other-file test-file source-file test-file test-file other-file other-file other-file test-file other-file other-file other-file other-file test-file other-file test-file other-file test-file other-file other-file other-file test-file other-file other-file other-file test-file other-file test-file other-file test-file other-file test-file test-file other-file other-file test-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file other-file test-file source-file other-file test-file documentation-file other-file test-file source-file other-file other-file test-file other-file source-file other-file test-file source-file other-file test-file other-file other-file other-file source-file other-file source-file other-file test-file other-file test-file source-file other-file test-file source-file other-file other-file other-file other-file other-file test-file other-file other-file test-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file source-file other-file test-file source-file source-file other-file test-file other-file test-file other-file test-file other-file other-file test-file other-file test-file other-file test-file other-file test-file",no-bug,0.95
8184,awx,https://github.com/ansible/awx/issues/8184,CredentialLookup does not enforce required prop,"##### ISSUE TYPE - Bug Report ##### SUMMARY CredentialLookup does not enforce required prop ##### STEPS TO REPRODUCE Go to any screen that uses the `CredentialLookup` component with `required` prop set, for instance, `https://localhost:3001/next/inventories/inventory/2/sources/add` and elect source `Ansible Tower`. Credential is required but no validation will be triggered if a credential is not provided. For that particular case, the validation that we have in place is provided by the API. ![image](https://user-images.githubusercontent.com/9053044/93636285-a75b3c00-f9c1-11ea-9ba6-0a2015e9200c.png)",other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file | other-file,"CredentialLookup does not enforce required prop ##### ISSUE TYPE - Bug Report ##### SUMMARY CredentialLookup does not enforce required prop ##### STEPS TO REPRODUCE Go to any screen that uses the `CredentialLookup` component with `required` prop set, for instance, `https://localhost:3001/next/inventories/inventory/2/sources/add` and elect source `Ansible Tower`. Credential is required but no validation will be triggered if a credential is not provided. For that particular case, the validation that we have in place is provided by the API. ![image](https://user-images.githubusercontent.com/9053044/93636285-a75b3c00-f9c1-11ea-9ba6-0a2015e9200c.png) other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file other-file test-file other-file other-file other-file other-file other-file other-file other-file other-file other-file",no-bug,0.9
8511,awx,https://github.com/ansible/awx/issues/8511,OpenSource AWX Webgui always redirect to AWX Subscription-Page,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> It its always a redirection to AWX Subscription page because /var/lib/awx/.tower_version always exists in awx_web container ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: Ubuntu 18.04.5 LTS * Web Browser: Firefox 82.0.2 ##### STEPS TO REPRODUCE awx/installer/inventory ``` #dockerhub_base=ansible use_container_for_build: True awx_official: False create_preload_data: False ``` ##### EXPECTED RESULTS Login to AWX-Webgui ##### ACTUAL RESULTS After successfully logged in, I was redirected to http://localhost:8083/#/license But I want to use OpenSource AWX ##### ADDITIONAL INFORMATION The misbehaviour comes from commit https://github.com/ansible/awx/commit/c139a998b82761cd5405ee1caa1847f3a23d89b9?_pjax=%23js-repo-pjax-container The condition in common.py line 207: `if os.path.exists('/var/lib/awx/.tower_version'):` is always true, because the file exist always in awx_web container. Ugly workaround: after starting all containers, remove `/var/lib/awx/.tower_version` in `awx_web` container.",source-file | source-file | source-file | source-file | source-file,"OpenSource AWX Webgui always redirect to AWX Subscription-Page ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> It its always a redirection to AWX Subscription page because /var/lib/awx/.tower_version always exists in awx_web container ##### ENVIRONMENT * AWX version: 15.0.1 * AWX install method: docker on linux * Ansible version: 2.9.13 * Operating System: Ubuntu 18.04.5 LTS * Web Browser: Firefox 82.0.2 ##### STEPS TO REPRODUCE awx/installer/inventory ``` #dockerhub_base=ansible use_container_for_build: True awx_official: False create_preload_data: False ``` ##### EXPECTED RESULTS Login to AWX-Webgui ##### ACTUAL RESULTS After successfully logged in, I was redirected to http://localhost:8083/#/license But I want to use OpenSource AWX ##### ADDITIONAL INFORMATION The misbehaviour comes from commit https://github.com/ansible/awx/commit/c139a998b82761cd5405ee1caa1847f3a23d89b9?_pjax=%23js-repo-pjax-container The condition in common.py line 207: `if os.path.exists('/var/lib/awx/.tower_version'):` is always true, because the file exist always in awx_web container. Ugly workaround: after starting all containers, remove `/var/lib/awx/.tower_version` in `awx_web` container. source-file source-file source-file source-file source-file",no-bug,0.9
5642,awx,https://github.com/ansible/awx/issues/5642,Search bar isn't visible at decent widths.,"##### ISSUE TYPE - Bug Report ##### SUMMARY The search bar behaves strangely at smaller widths (still decently wide). ##### ENVIRONMENT * AWX version: Latest * Operating System: Fedora 30 * Web Browser: Chrome ##### STEPS TO REPRODUCE Visit a page like the credentials list that has a searchbar, then shrink the width. ##### EXPECTED RESULTS The bar stays visible. ##### ACTUAL RESULTS (ignore weird gif compression in this clip) ![recording-_2_](https://user-images.githubusercontent.com/19942822/72288091-4b603c80-3616-11ea-9126-704602409c39.gif)",source-file | test-file | source-file,"Search bar isn't visible at decent widths. ##### ISSUE TYPE - Bug Report ##### SUMMARY The search bar behaves strangely at smaller widths (still decently wide). ##### ENVIRONMENT * AWX version: Latest * Operating System: Fedora 30 * Web Browser: Chrome ##### STEPS TO REPRODUCE Visit a page like the credentials list that has a searchbar, then shrink the width. ##### EXPECTED RESULTS The bar stays visible. ##### ACTUAL RESULTS (ignore weird gif compression in this clip) ![recording-_2_](https://user-images.githubusercontent.com/19942822/72288091-4b603c80-3616-11ea-9126-704602409c39.gif) source-file test-file source-file",no-bug,0.95
5410,awx,https://github.com/ansible/awx/issues/5410,Admin rights to install in openshift,##### ISSUE TYPE Suggestion ##### SUMMARY One of our customers suggest to avoid high privileges escalation in order to install Tower over Openshift. He desisted to install Tower for this reason.,source-file | test-file,Admin rights to install in openshift ##### ISSUE TYPE Suggestion ##### SUMMARY One of our customers suggest to avoid high privileges escalation in order to install Tower over Openshift. He desisted to install Tower for this reason. source-file test-file,no-bug,0.9
6324,awx,https://github.com/ansible/awx/issues/6324,tower_role not idempotent,"##### ISSUE TYPE - Bug Report ##### SUMMARY Granting a user a role with the AWX collection twice gives changed twice ##### ENVIRONMENT * AWX version: 9.3.0 ##### STEPS TO REPRODUCE ```yaml - name: Add Joe to workflow execute role tower_role: user: joe role: execute workflow: test-role-workflow state: present register: result - assert: that: - ""result is changed"" - name: Add Joe from the workflow execute role, no-op tower_role: user: joe role: execute workflow: test-role-workflow state: present register: result - assert: that: - ""result is not changed"" ``` ##### EXPECTED RESULTS passes ##### ACTUAL RESULTS fails, both tasks report changed ##### ADDITIONAL INFORMATION this is being refactored anyway, test again then https://github.com/ansible/awx/pull/6304",source-file | source-file | test-file,"tower_role not idempotent ##### ISSUE TYPE - Bug Report ##### SUMMARY Granting a user a role with the AWX collection twice gives changed twice ##### ENVIRONMENT * AWX version: 9.3.0 ##### STEPS TO REPRODUCE ```yaml - name: Add Joe to workflow execute role tower_role: user: joe role: execute workflow: test-role-workflow state: present register: result - assert: that: - ""result is changed"" - name: Add Joe from the workflow execute role, no-op tower_role: user: joe role: execute workflow: test-role-workflow state: present register: result - assert: that: - ""result is not changed"" ``` ##### EXPECTED RESULTS passes ##### ACTUAL RESULTS fails, both tasks report changed ##### ADDITIONAL INFORMATION this is being refactored anyway, test again then https://github.com/ansible/awx/pull/6304 source-file source-file test-file",bug,0.9
10515,awx,https://github.com/ansible/awx/issues/10515,Node Add Modal for Workflow Approval- Display Fix Needed,"In this screen of the modal where a user adds a Workflow Approval node, under Timeout, the min and sec characters are displaying in a stacked manner instead of left to right ![image](https://user-images.githubusercontent.com/63685497/123325913-9b7b4800-d506-11eb-81a6-96cc4a593bd4.png)",source-file,"Node Add Modal for Workflow Approval- Display Fix Needed In this screen of the modal where a user adds a Workflow Approval node, under Timeout, the min and sec characters are displaying in a stacked manner instead of left to right ![image](https://user-images.githubusercontent.com/63685497/123325913-9b7b4800-d506-11eb-81a6-96cc4a593bd4.png) source-file",no-bug,0.9
5785,awx,https://github.com/ansible/awx/issues/5785,"Clicking the ""Max Hosts"" tooltip when creating a new organization enables the field","##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Go to Organizations > Create New Organization 2. Two tooltips are present, one for Max Hosts and one for Instance Groups 3. Clicking the Instance Groups tooltip does nothing. However, clicking the Max Hosts tooltip enables the corresponding text field ##### ENVIRONMENT AWX Latest, Fedora, Google Chrome ##### EXPECTED RESULTS Clicking the tooltip does not enable the field. ##### ACTUAL RESULTS Clicking the tooltip enables the field.",source-file | source-file | test-file | source-file | source-file | test-file | documentation-file,"Clicking the ""Max Hosts"" tooltip when creating a new organization enables the field ##### ISSUE TYPE - Bug Report ##### SUMMARY 1. Go to Organizations > Create New Organization 2. Two tooltips are present, one for Max Hosts and one for Instance Groups 3. Clicking the Instance Groups tooltip does nothing. However, clicking the Max Hosts tooltip enables the corresponding text field ##### ENVIRONMENT AWX Latest, Fedora, Google Chrome ##### EXPECTED RESULTS Clicking the tooltip does not enable the field. ##### ACTUAL RESULTS Clicking the tooltip enables the field. source-file source-file test-file source-file source-file test-file documentation-file",no-bug,0.9
8921,awx,https://github.com/ansible/awx/issues/8921,Prevent users from selecting credentials that prompt for passwords on workflow nodes,"##### ISSUE TYPE - Feature Idea ##### SUMMARY This is residual work from #8399. If a Job Template references credentials that prompt for passwords then that template cannot be used in a workflow. Additionally, if the JT prompts for credentials a user should not be able to select a credential that prompts for password(s). Attempting to save this node will result in an error from the api. ![image (1)](https://user-images.githubusercontent.com/9889020/102362689-b16de600-3f82-11eb-9a23-2b06706a787f.png)",other-file | other-file | test-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | test-file | other-file | other-file | other-file | source-file | other-file | other-file | other-file | test-file | other-file | test-file | other-file | other-file | source-file,"Prevent users from selecting credentials that prompt for passwords on workflow nodes ##### ISSUE TYPE - Feature Idea ##### SUMMARY This is residual work from #8399. If a Job Template references credentials that prompt for passwords then that template cannot be used in a workflow. Additionally, if the JT prompts for credentials a user should not be able to select a credential that prompts for password(s). Attempting to save this node will result in an error from the api. ![image (1)](https://user-images.githubusercontent.com/9889020/102362689-b16de600-3f82-11eb-9a23-2b06706a787f.png) other-file other-file test-file other-file test-file other-file other-file other-file source-file other-file other-file other-file test-file other-file other-file other-file source-file other-file other-file other-file test-file other-file test-file other-file other-file source-file",no-bug,0.9
7924,awx,https://github.com/ansible/awx/issues/7924,tower_project should not check for credentials on state=absent,"<!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY awx.awx.tower_project checks for credential on state == absent, and it shouldn't care if we're removing it (eg credential gets removed before this is called) ##### ENVIRONMENT * AWX version: 3.7.1 * AWX install method: Ansible Tower 3.7.1 - setup.sh * Ansible version: 2.9.1 * Operating System: Red Hat 7.9 * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a project with a credential Remove the credential before removing the project ##### EXPECTED RESULTS Project should be removed ##### ACTUAL RESULTS Error is received when trying to remove it. fatal: [awx-node01]: FAILED! => {""changed"": false, ""msg"": ""The credentials git_creds was not found on the Tower server""} ##### ADDITIONAL INFORMATION",source-file,"tower_project should not check for credentials on state=absent <!-- Issues are for **concrete, actionable bugs and feature requests** only - if you're just asking for debugging help or technical support, please use: - http://webchat.freenode.net/?channels=ansible-awx - https://groups.google.com/forum/#!forum/awx-project We have to limit this because of limited volunteer time to respond to issues! --> ##### ISSUE TYPE - Bug Report ##### SUMMARY awx.awx.tower_project checks for credential on state == absent, and it shouldn't care if we're removing it (eg credential gets removed before this is called) ##### ENVIRONMENT * AWX version: 3.7.1 * AWX install method: Ansible Tower 3.7.1 - setup.sh * Ansible version: 2.9.1 * Operating System: Red Hat 7.9 * Web Browser: Chrome ##### STEPS TO REPRODUCE Create a project with a credential Remove the credential before removing the project ##### EXPECTED RESULTS Project should be removed ##### ACTUAL RESULTS Error is received when trying to remove it. fatal: [awx-node01]: FAILED! => {""changed"": false, ""msg"": ""The credentials git_creds was not found on the Tower server""} ##### ADDITIONAL INFORMATION source-file",no-bug,0.9
5256,awx,https://github.com/ansible/awx/issues/5256,AWX installation not working fine on ppc64le,"##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <Install AWX using the command ansible-playbook -i inventory install.yml in Red Hat Enterprise Linux of ppc64le --> ##### EXPECTED RESULTS < docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 93fc76f3645c ansible/awx_task:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Up Less than a second 8052/tcp awx_task <==== Port assigned e32459eeba39 ansible/awx_web:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Restarting (1) 21 seconds ago awx_web <=== No port 55051aa7c72f ansible/awx_rabbitmq:3.7.4 ""docker-entrypoint..."" About an hour ago Restarting (1) 19 seconds ago awx_rabbitmq 97cc4ea7291e postgres:10 ""docker-entrypoint..."" About an hour ago Up Less than a second 5432/tcp awx_postgres 6a695bc40235 memcached:alpine ""docker-entrypoint..."" About an hour ago Up 2 minutes 11211/tcp awx_memcached> ##### ACTUAL RESULTS <docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 93fc76f3645c ansible/awx_task:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Restarting (1) 4 minutes ago awx_task e32459eeba39 ansible/awx_web:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Restarting (1) 6 minutes ago awx_web 55051aa7c72f ansible/awx_rabbitmq:3.7.4 ""docker-entrypoint..."" About an hour ago Restarting (1) 5 minutes ago awx_rabbitmq 97cc4ea7291e postgres:10 ""docker-entrypoint..."" About an hour ago Restarting (1) 3 minutes ago awx_postgres 6a695bc40235 memcached:alpine ""docker-entrypoint..."" About an hour ago Up 14 minutes 11211/tcp awx_memcached> ##### ADDITIONAL INFORMATION <docker logs -f awx_task standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" docker logs -f awx_web standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"">",source-file,"AWX installation not working fine on ppc64le ##### ISSUE TYPE - Bug Report ##### SUMMARY <!-- Briefly describe the problem. --> ##### ENVIRONMENT * AWX version: X.Y.Z * AWX install method: openshift, minishift, docker on linux, docker for mac, boot2docker * Ansible version: X.Y.Z * Operating System: * Web Browser: ##### STEPS TO REPRODUCE <Install AWX using the command ansible-playbook -i inventory install.yml in Red Hat Enterprise Linux of ppc64le --> ##### EXPECTED RESULTS < docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 93fc76f3645c ansible/awx_task:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Up Less than a second 8052/tcp awx_task <==== Port assigned e32459eeba39 ansible/awx_web:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Restarting (1) 21 seconds ago awx_web <=== No port 55051aa7c72f ansible/awx_rabbitmq:3.7.4 ""docker-entrypoint..."" About an hour ago Restarting (1) 19 seconds ago awx_rabbitmq 97cc4ea7291e postgres:10 ""docker-entrypoint..."" About an hour ago Up Less than a second 5432/tcp awx_postgres 6a695bc40235 memcached:alpine ""docker-entrypoint..."" About an hour ago Up 2 minutes 11211/tcp awx_memcached> ##### ACTUAL RESULTS <docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 93fc76f3645c ansible/awx_task:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Restarting (1) 4 minutes ago awx_task e32459eeba39 ansible/awx_web:9.0.1 ""/tini -- /bin/sh ..."" About an hour ago Restarting (1) 6 minutes ago awx_web 55051aa7c72f ansible/awx_rabbitmq:3.7.4 ""docker-entrypoint..."" About an hour ago Restarting (1) 5 minutes ago awx_rabbitmq 97cc4ea7291e postgres:10 ""docker-entrypoint..."" About an hour ago Restarting (1) 3 minutes ago awx_postgres 6a695bc40235 memcached:alpine ""docker-entrypoint..."" About an hour ago Up 14 minutes 11211/tcp awx_memcached> ##### ADDITIONAL INFORMATION <docker logs -f awx_task standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" docker logs -f awx_web standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error"" standard_init_linux.go:178: exec user process caused ""exec format error""> source-file",no-bug,0.9
5021,awx,https://github.com/ansible/awx/issues/5021,Limit in template doest work with dynamic inventory,"##### ISSUE TYPE - Bug Report ##### SUMMARY When I use a dynamic inventory, the template limit doesnt work correctly. If I use a static inventory, everything is working fine ##### ENVIRONMENT * AWX version: 7.0.0.599-1.el7 * AWX install method: rpm from mrmeee * Ansible version: * Operating System: CentOS * Web Browser: Firefox ##### STEPS TO REPRODUCE Use a dynamic inventory in a template and use a limit (select a group) ##### EXPECTED RESULTS Be able to retrieve facts with a dynamic inventory. ##### ACTUAL RESULTS ansible-playbook 2.8.5 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /opt/rh/rh-python36/root/lib/python3.6/site-packages/ansible executable location = /opt/rh/rh-python36/root/bin/ansible-playbook python version = 3.6.3 (default, May 31 2019, 13:05:43) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)] Using /etc/ansible/ansible.cfg as config file SSH password: setting up inventory plugins host_list declined parsing /tmp/awx_4014_4mxv86b3/tmpztve1_ga as it did not pass it's verify_file() method Parsed /tmp/awx_4014_4mxv86b3/tmpztve1_ga inventory source with script plugin Loading callback plugin awx_display of type stdout, v2.0 from /opt/rh/rh-python36/root/usr/lib/python3.6/site-packages/ansible_runner/callbacks/awx_display.py PLAYBOOK: main.yml ************************************************************* Positional arguments: main.yml verbosity: 5 ask_pass: True remote_user: my_user connection: smart timeout: 10 become_method: sudo tags: ('all',) inventory: ('/tmp/awx_4014_4mxv86b3/tmpztve1_ga',) subset: cmk extra_vars: ('@/tmp/awx_4014_4mxv86b3/env/extravars',) forks: 22 1 plays in main.yml PLAY [all] ********************************************************************* TASK [Gathering Facts] ********************************************************* task path: /tmp/awx_4014_4mxv86b3/project/main.yml:2 fatal: [server01.example.com]: FAILED! => { ""msg"": ""the connection plugin '' was not found"" } fatal: [server02.example.com]: FAILED! => { ""msg"": ""the connection plugin '' was not found"" } PLAY RECAP ********************************************************************* server01.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 server02.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. -->",source-file,"Limit in template doest work with dynamic inventory ##### ISSUE TYPE - Bug Report ##### SUMMARY When I use a dynamic inventory, the template limit doesnt work correctly. If I use a static inventory, everything is working fine ##### ENVIRONMENT * AWX version: 7.0.0.599-1.el7 * AWX install method: rpm from mrmeee * Ansible version: * Operating System: CentOS * Web Browser: Firefox ##### STEPS TO REPRODUCE Use a dynamic inventory in a template and use a limit (select a group) ##### EXPECTED RESULTS Be able to retrieve facts with a dynamic inventory. ##### ACTUAL RESULTS ansible-playbook 2.8.5 config file = /etc/ansible/ansible.cfg configured module search path = ['/var/lib/awx/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /opt/rh/rh-python36/root/lib/python3.6/site-packages/ansible executable location = /opt/rh/rh-python36/root/bin/ansible-playbook python version = 3.6.3 (default, May 31 2019, 13:05:43) [GCC 4.8.5 20150623 (Red Hat 4.8.5-36)] Using /etc/ansible/ansible.cfg as config file SSH password: setting up inventory plugins host_list declined parsing /tmp/awx_4014_4mxv86b3/tmpztve1_ga as it did not pass it's verify_file() method Parsed /tmp/awx_4014_4mxv86b3/tmpztve1_ga inventory source with script plugin Loading callback plugin awx_display of type stdout, v2.0 from /opt/rh/rh-python36/root/usr/lib/python3.6/site-packages/ansible_runner/callbacks/awx_display.py PLAYBOOK: main.yml ************************************************************* Positional arguments: main.yml verbosity: 5 ask_pass: True remote_user: my_user connection: smart timeout: 10 become_method: sudo tags: ('all',) inventory: ('/tmp/awx_4014_4mxv86b3/tmpztve1_ga',) subset: cmk extra_vars: ('@/tmp/awx_4014_4mxv86b3/env/extravars',) forks: 22 1 plays in main.yml PLAY [all] ********************************************************************* TASK [Gathering Facts] ********************************************************* task path: /tmp/awx_4014_4mxv86b3/project/main.yml:2 fatal: [server01.example.com]: FAILED! => { ""msg"": ""the connection plugin '' was not found"" } fatal: [server02.example.com]: FAILED! => { ""msg"": ""the connection plugin '' was not found"" } PLAY RECAP ********************************************************************* server01.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 server02.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0 ##### ADDITIONAL INFORMATION <!-- Include any links to sosreport, database dumps, screenshots or other information. --> source-file",no-bug,0.8
10055,awx,https://github.com/ansible/awx/issues/10055,"Proposal, Add back Custom virtual env fields in modules","##### ISSUE TYPE - Feature Idea ##### SUMMARY Proposal: Return the code to have custom virtual environments in their applicable modules that were removed in the update to 17 -> 18. The reason being is that there are tower users that use awx.awx because it contains the latest updates and feature improvements, the vast majority still work on Tower 3.7.x,3.8.x. These would updated and noted in the docs that it is meant for older versions of awx, and will fail on newer. The expectation is that the options when used with the wrong version would fail, and it would be on the users to use the right one. I also thing putting depreciated on custom virtual environment options would be appropriate. The idea is to make it so that users can use the same features and upgrades done to the collection regardless of the version they are using, and put the onus on them to use the correct ones that correspond to their instance. I would do the PR for this, but wanted to gather feedback before submitting it.",source-file | source-file | source-file | source-file,"Proposal, Add back Custom virtual env fields in modules ##### ISSUE TYPE - Feature Idea ##### SUMMARY Proposal: Return the code to have custom virtual environments in their applicable modules that were removed in the update to 17 -> 18. The reason being is that there are tower users that use awx.awx because it contains the latest updates and feature improvements, the vast majority still work on Tower 3.7.x,3.8.x. These would updated and noted in the docs that it is meant for older versions of awx, and will fail on newer. The expectation is that the options when used with the wrong version would fail, and it would be on the users to use the right one. I also thing putting depreciated on custom virtual environment options would be appropriate. The idea is to make it so that users can use the same features and upgrades done to the collection regardless of the version they are using, and put the onus on them to use the correct ones that correspond to their instance. I would do the PR for this, but wanted to gather feedback before submitting it. source-file source-file source-file source-file",no-bug,0.9
9636,awx,https://github.com/ansible/awx/issues/9636,Editing a credential for moment will display the id of credential type,"##### ISSUE TYPE - Bug Report ##### SUMMARY Editing a credential for moment will display the id of credential type, then display the proper name. https://user-images.githubusercontent.com/9053044/111824737-f6285680-88bc-11eb-8b28-4693aeb125d1.mov",other-file | other-file,"Editing a credential for moment will display the id of credential type ##### ISSUE TYPE - Bug Report ##### SUMMARY Editing a credential for moment will display the id of credential type, then display the proper name. https://user-images.githubusercontent.com/9053044/111824737-f6285680-88bc-11eb-8b28-4693aeb125d1.mov other-file other-file",no-bug,0.8
