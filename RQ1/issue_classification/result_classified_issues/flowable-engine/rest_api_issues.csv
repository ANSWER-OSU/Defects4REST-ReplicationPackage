issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence
1915,flowable-engine,https://github.com/flowable/flowable-engine/issues/1915,Rest API - Error executing an action of a task if it includes a date variable,"There is an error trying to complete a task using the rest api. **Curl Request:** > curl -s -H ""Content-Type: application/json"" -d ""@data-1.json"" -X POST \ > 'http://admin:test@localhost:8080/flowable-rest/service/runtime/tasks/4e056411-cda3-11e9-9dac-0242ac110007' **data-1.json:** > { > ""action"": ""complete"", > ""formDefinitionId"": ""c0acd5f6-cd9e-11e9-913a-0242ac110006"", > ""variables"": [ > { > ""name"": ""ciudad"", > ""type"": ""string"", > ""value"": ""Cali"" > }, > { > ""name"": ""fecha"", > ""type"": ""date"", > ""value"": ""2018-12-21"" > }, > { > ""name"": ""cantidad"", > ""type"": ""string"", > ""value"": ""1"" > }, > { > ""name"": ""aprobado"", > ""type"": ""string"", > ""value"": ""SI"" > } > ] > } **Error** > Caused by: java.lang.ClassCastException: class java.util.Date cannot be cast to class java.lang.String (java.util.Date and java.lang.String are in module java.base of loader 'bootstrap') at org.flowable.form.engine.impl.cmd.GetVariablesFromFormSubmissionCmd.transformFormFieldValueToVariableValue(GetVariablesFromFormSubmissionCmd.java:101) ~[flowable-form-engine-6.4.2.1.jar!/:6.4.2.1] **Expected behavior** The task is completed **Additional context** Docker flowable-rest:6.4.2.1 Database: Postgresql",source-file | source-file | test-file | test-file | source-file | test-file | test-file,"Rest API - Error executing an action of a task if it includes a date variable There is an error trying to complete a task using the rest api. **Curl Request:** > curl -s -H ""Content-Type: application/json"" -d ""@data-1.json"" -X POST \ > 'http://admin:test@localhost:8080/flowable-rest/service/runtime/tasks/4e056411-cda3-11e9-9dac-0242ac110007' **data-1.json:** > { > ""action"": ""complete"", > ""formDefinitionId"": ""c0acd5f6-cd9e-11e9-913a-0242ac110006"", > ""variables"": [ > { > ""name"": ""ciudad"", > ""type"": ""string"", > ""value"": ""Cali"" > }, > { > ""name"": ""fecha"", > ""type"": ""date"", > ""value"": ""2018-12-21"" > }, > { > ""name"": ""cantidad"", > ""type"": ""string"", > ""value"": ""1"" > }, > { > ""name"": ""aprobado"", > ""type"": ""string"", > ""value"": ""SI"" > } > ] > } **Error** > Caused by: java.lang.ClassCastException: class java.util.Date cannot be cast to class java.lang.String (java.util.Date and java.lang.String are in module java.base of loader 'bootstrap') at org.flowable.form.engine.impl.cmd.GetVariablesFromFormSubmissionCmd.transformFormFieldValueToVariableValue(GetVariablesFromFormSubmissionCmd.java:101) ~[flowable-form-engine-6.4.2.1.jar!/:6.4.2.1] **Expected behavior** The task is completed **Additional context** Docker flowable-rest:6.4.2.1 Database: Postgresql source-file source-file test-file test-file source-file test-file test-file",bug,0.95
1028,flowable-engine,https://github.com/flowable/flowable-engine/issues/1028,Decision Table Editor; using expressions as outcomes,There is an issue when using expressions in an output entry with the type string. When transforming editor JSON to DMN model the expression is surrounded with quotes. This causes the expression not being resolved and should be fixed.,source-file | test-file | test-file | test-file,Decision Table Editor; using expressions as outcomes There is an issue when using expressions in an output entry with the type string. When transforming editor JSON to DMN model the expression is surrounded with quotes. This causes the expression not being resolved and should be fixed. source-file test-file test-file test-file,bug,0.85
3536,flowable-engine,https://github.com/flowable/flowable-engine/issues/3536,Historic variables API crashes after terminating process instance during multi-instance sub process or call activity,"**Describe the bug** Consulting the `GET /history/historic-variable-instances` API crashes for variables ""nrOfActiveInstances"" and ""nrOfCompletedInstances"" variables when you (prematurely) stop a process instance (with the `DELETE runtime/process-instances/{processInstanceId}` API) during a multi-instance execution (eg. using the `subProcess` or `callActivity` constructs). **Expected behavior** Loading the historic variables should never crash obviously. **Code** Deploy this model ([ModelWithSubProcess.bpmn20.xml.zip](https://github.com/flowable/flowable-engine/files/10114350/ModelWithSubProcess.bpmn20.xml.zip)) to a Flowable engine, start a new process instance using the `POST runtime/process-instances` API, retrieve the process instance id from the response body and stop it again using the `DELETE runtime/process-instances/{processInstanceId}` Then go and retrieve the historic variables using the `GET history/historic-variable-instances?processInstanceId={processInstanceId}&size=500` API. This will result in an HTTP 500 server error with content: <img width=""327"" alt=""image"" src=""https://user-images.githubusercontent.com/599538/204570166-958a29a5-a04f-4056-9752-79735b6ec847.png"">  and log the following exception: [flowable-exception.txt](https://github.com/flowable/flowable-engine/files/10114434/flowable-exception.txt) Notice that this does work if you query for a specific variableName as long as it is not ""nrOfActiveInstances"" or ""nrOfCompletedInstances"". If you look at the database, the most noticeable thing is that the `var_type_` in `act_hi_varinst` for both variables is ""bpmnParallelMultiInstanceCompleted"". This is also the case when the process is still running, but at that time the API does not ""crash"". If you complete the process instance in a normal manner (by submitting the 3 tasks until an end event is reached), the `var_type_` for both variables is changed to ""integer"" and the API also continues to work as expected. **Additional context** Tested in Flowable 6.7.2 Able to reproduce in our own production and UAT environments as well as in an empty spawned [docker flowable-ui container from docker hub](https://hub.docker.com/r/flowable/flowable-ui). The same bug occurred when we use a multi-instance `callActivity` (as opposed to a mutli-instance `subProcess` in the example model above).",source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file,"Historic variables API crashes after terminating process instance during multi-instance sub process or call activity **Describe the bug** Consulting the `GET /history/historic-variable-instances` API crashes for variables ""nrOfActiveInstances"" and ""nrOfCompletedInstances"" variables when you (prematurely) stop a process instance (with the `DELETE runtime/process-instances/{processInstanceId}` API) during a multi-instance execution (eg. using the `subProcess` or `callActivity` constructs). **Expected behavior** Loading the historic variables should never crash obviously. **Code** Deploy this model ([ModelWithSubProcess.bpmn20.xml.zip](https://github.com/flowable/flowable-engine/files/10114350/ModelWithSubProcess.bpmn20.xml.zip)) to a Flowable engine, start a new process instance using the `POST runtime/process-instances` API, retrieve the process instance id from the response body and stop it again using the `DELETE runtime/process-instances/{processInstanceId}` Then go and retrieve the historic variables using the `GET history/historic-variable-instances?processInstanceId={processInstanceId}&size=500` API. This will result in an HTTP 500 server error with content: <img width=""327"" alt=""image"" src=""https://user-images.githubusercontent.com/599538/204570166-958a29a5-a04f-4056-9752-79735b6ec847.png"">  and log the following exception: [flowable-exception.txt](https://github.com/flowable/flowable-engine/files/10114434/flowable-exception.txt) Notice that this does work if you query for a specific variableName as long as it is not ""nrOfActiveInstances"" or ""nrOfCompletedInstances"". If you look at the database, the most noticeable thing is that the `var_type_` in `act_hi_varinst` for both variables is ""bpmnParallelMultiInstanceCompleted"". This is also the case when the process is still running, but at that time the API does not ""crash"". If you complete the process instance in a normal manner (by submitting the 3 tasks until an end event is reached), the `var_type_` for both variables is changed to ""integer"" and the API also continues to work as expected. **Additional context** Tested in Flowable 6.7.2 Able to reproduce in our own production and UAT environments as well as in an empty spawned [docker flowable-ui container from docker hub](https://hub.docker.com/r/flowable/flowable-ui). The same bug occurred when we use a multi-instance `callActivity` (as opposed to a mutli-instance `subProcess` in the example model above). source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file source-file source-file source-file source-file source-file source-file test-file test-file test-file test-file",bug,0.95
1939,flowable-engine,https://github.com/flowable/flowable-engine/issues/1939,Inconsistant Variable Query API - Like Ignore Case,"**Describe the bug** The task query provides an inconsistant API for querying for tasks. When querying for process variables the `likeIgnoreCase` option is available, but when querying for task variables it is not. **Expected behavior** The same operations should be available for all variable querying APIs **Code** bash curl -X POST \ http://localhost:8080/process-api/query/tasks \ -H 'Accept: */*' \ -H 'Accept-Encoding: gzip, deflate' \ -H 'Cache-Control: no-cache' \ -H 'Connection: keep-alive' \ -H 'Content-Length: 191' \ -H 'Content-Type: application/json' \ -H 'Host: localhost:8080' \ -H 'Postman-Token: 9aa80127-a061-474a-be27-500aa41f355a,f524a54b-cad6-4c26-9b59-7bd46317529c' \ -H 'User-Agent: PostmanRuntime/7.16.3' \ -H 'cache-control: no-cache' \ -d '{ ""includeTaskLocalVariables"": true, ""includeProcessVariables"": true, ""taskVariables"": [ { ""name"": ""var_2"", ""value"": ""%Cd"", ""operation"": ""likeIgnoreCase"" } ] }'  returns  { ""message"": ""Bad request"", ""exception"": ""Unsupported variable query operation: LIKE_IGNORE_CASE"" } ",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | source-file | source-file | source-file | test-file | test-file | test-file,"Inconsistant Variable Query API - Like Ignore Case **Describe the bug** The task query provides an inconsistant API for querying for tasks. When querying for process variables the `likeIgnoreCase` option is available, but when querying for task variables it is not. **Expected behavior** The same operations should be available for all variable querying APIs **Code** bash curl -X POST \ http://localhost:8080/process-api/query/tasks \ -H 'Accept: */*' \ -H 'Accept-Encoding: gzip, deflate' \ -H 'Cache-Control: no-cache' \ -H 'Connection: keep-alive' \ -H 'Content-Length: 191' \ -H 'Content-Type: application/json' \ -H 'Host: localhost:8080' \ -H 'Postman-Token: 9aa80127-a061-474a-be27-500aa41f355a,f524a54b-cad6-4c26-9b59-7bd46317529c' \ -H 'User-Agent: PostmanRuntime/7.16.3' \ -H 'cache-control: no-cache' \ -d '{ ""includeTaskLocalVariables"": true, ""includeProcessVariables"": true, ""taskVariables"": [ { ""name"": ""var_2"", ""value"": ""%Cd"", ""operation"": ""likeIgnoreCase"" } ] }'  returns  { ""message"": ""Bad request"", ""exception"": ""Unsupported variable query operation: LIKE_IGNORE_CASE"" }  source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file source-file source-file source-file test-file test-file test-file",bug,0.95
3003,flowable-engine,https://github.com/flowable/flowable-engine/issues/3003,Wrong mediaType reported by REST API for forms,"**Describe the bug** The `app-repository/deployments/{id}/resources` REST API returns `mediaType` as `text/xml` for `.form` files. **Expected behavior** Return `application/json`, which is the correct media type for forms. **Additional context** Found in v6.6.0 and further verified in master branch of source [DefaultContentTypeResolver](https://github.com/flowable/flowable-engine/blob/master/modules/flowable-common-rest/src/main/java/org/flowable/common/rest/resolver/DefaultContentTypeResolver.java) Additionally found that `.app` files content type is not included in the common class but in [AppDeploymentResourceResource](https://github.com/flowable/flowable-engine/blob/master/modules/flowable-app-engine-rest/src/main/java/org/flowable/app/rest/service/api/repository/AppDeploymentResourceResource.java) so that should probably be centralised too.",source-file | source-file | source-file | source-file,"Wrong mediaType reported by REST API for forms **Describe the bug** The `app-repository/deployments/{id}/resources` REST API returns `mediaType` as `text/xml` for `.form` files. **Expected behavior** Return `application/json`, which is the correct media type for forms. **Additional context** Found in v6.6.0 and further verified in master branch of source [DefaultContentTypeResolver](https://github.com/flowable/flowable-engine/blob/master/modules/flowable-common-rest/src/main/java/org/flowable/common/rest/resolver/DefaultContentTypeResolver.java) Additionally found that `.app` files content type is not included in the common class but in [AppDeploymentResourceResource](https://github.com/flowable/flowable-engine/blob/master/modules/flowable-app-engine-rest/src/main/java/org/flowable/app/rest/service/api/repository/AppDeploymentResourceResource.java) so that should probably be centralised too. source-file source-file source-file source-file",bug,0.95
280,flowable-engine,https://github.com/flowable/flowable-engine/issues/280,includeTaskLocalVariables=true but task local variables are not returned,"includeTaskLocalVariables=true but task local variables are not returned Here is query URL /flowable-task/process-api/runtime/tasks?includeTaskLocalVariables=true&includeProcessVariables=true Thanks, --MG",config-file | test-file,"includeTaskLocalVariables=true but task local variables are not returned includeTaskLocalVariables=true but task local variables are not returned Here is query URL /flowable-task/process-api/runtime/tasks?includeTaskLocalVariables=true&includeProcessVariables=true Thanks, --MG config-file test-file",bug,0.9
1039,flowable-engine,https://github.com/flowable/flowable-engine/issues/1039,HttpTask URL not encoded when saved,"**Description** When using `HTTP Tasks` in the modeler, the `Request URL` is not correctly URL-Encoded when saving the process model. **Problem** This results in errors starting the process (HTTP 500) when there are e.g. not encoded query parameters in the `Request URL`. This can be found in the logs:  org.flowable.engine.common.api.FlowableException: Invalid URL exception occurred  Caused by: java.net.URISyntaxException: Illegal character in query at    **Linked Topics** [Process won't start with HTTP 500 error](https://forum.flowable.org/t/error-starting-new-process-instance-http-500/1956) [Correct URL Encoding for HTTP Task](https://forum.flowable.org/t/http-task-url-encoding/1982)",source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | source-file | test-file | test-file | config-file | source-file | test-file | test-file,"HttpTask URL not encoded when saved **Description** When using `HTTP Tasks` in the modeler, the `Request URL` is not correctly URL-Encoded when saving the process model. **Problem** This results in errors starting the process (HTTP 500) when there are e.g. not encoded query parameters in the `Request URL`. This can be found in the logs:  org.flowable.engine.common.api.FlowableException: Invalid URL exception occurred  Caused by: java.net.URISyntaxException: Illegal character in query at    **Linked Topics** [Process won't start with HTTP 500 error](https://forum.flowable.org/t/error-starting-new-process-instance-http-500/1956) [Correct URL Encoding for HTTP Task](https://forum.flowable.org/t/http-task-url-encoding/1982) source-file source-file source-file source-file source-file source-file source-file source-file config-file source-file test-file test-file config-file source-file test-file test-file",bug,0.9
3109,flowable-engine,https://github.com/flowable/flowable-engine/issues/3109,[DMN] COLLECT hit policy with `alwaysUseArraysForDmnMultiHitPolicies` returns null/value instead of array,"**Description** BPMN/CMMN dmn service task for `COLLECT` hit policy returns (`protected boolean alwaysUseArraysForDmnMultiHitPolicies = true;`): | hits | output| ||| | none hit | null | | one item hit | `itemValue` | | multiple hits | array of values | The issue is also related to #2286 test: https://github.com/martin-grofcik/flowable-engine/commit/704b6bb1bec7055c708c525880ab2097bc104a55 **Expected behavior** BPMN/CMMN dmn service task for `COLLECT` hit policy returns: | hits | output| ||| | none hit | empty json array `[]` | | one item hit | one item json array `[""itemValue""]` | | multiple hits | array of values `[""itemA"", ""ItemB""]`| **Code** `DmnActivityBehavior` java } else { boolean multipleResults = decisionExecutionAuditContainer.isMultipleResults() && processEngineConfiguration.isAlwaysUseArraysForDmnMultiHitPolicies(); ",test-file | test-file | source-file | source-file | source-file | test-file | test-file | source-file | source-file | source-file | test-file | source-file | source-file | test-file | test-file | source-file,"[DMN] COLLECT hit policy with `alwaysUseArraysForDmnMultiHitPolicies` returns null/value instead of array **Description** BPMN/CMMN dmn service task for `COLLECT` hit policy returns (`protected boolean alwaysUseArraysForDmnMultiHitPolicies = true;`): | hits | output|  | none hit | null | | one item hit | `itemValue` | | multiple hits | array of values | The issue is also related to #2286 test: https://github.com/martin-grofcik/flowable-engine/commit/704b6bb1bec7055c708c525880ab2097bc104a55 **Expected behavior** BPMN/CMMN dmn service task for `COLLECT` hit policy returns: | hits | output|  | none hit | empty json array `[]` | | one item hit | one item json array `[""itemValue""]` | | multiple hits | array of values `[""itemA"", ""ItemB""]`| **Code** `DmnActivityBehavior` java } else { boolean multipleResults = decisionExecutionAuditContainer.isMultipleResults() && processEngineConfiguration.isAlwaysUseArraysForDmnMultiHitPolicies();  test-file test-file source-file source-file source-file test-file test-file source-file source-file source-file test-file source-file source-file test-file test-file source-file",bug,0.9
575,flowable-engine,https://github.com/flowable/flowable-engine/issues/575,Unable to bind Headers to a Http task,"Unable to bind the http headers to an Http task with keys that have a : as a value. When we look at the exception stack (detailed below) and check line 264 of the code, it has a check that prevents values of http headers from having a colon in it (Code snippet also included below). HTTP_TASK_REQUEST_HEADERS_INVALID = requestHeaders are invalid Stack: org.flowable.engine.common.api.FlowableException: requestHeaders are invalid at org.flowable.http.impl.HttpActivityBehaviorImpl.setHeaders(HttpActivityBehaviorImpl.java:264) ~[flowable-http-6.1.2.jar:6.1.2] Code from HttpActivityBehaviorImpl protected void setHeaders(final HttpMessage base, final String headers) throws IOException { try (BufferedReader reader = new BufferedReader(new StringReader(headers { String line = reader.readLine(); while (line != null) { String[] header = line.split("":""); if (header.length == 2) { base.addHeader(header[0], header[1]); line = reader.readLine(); } else { throw new FlowableException(HTTP_TASK_REQUEST_HEADERS_INVALID); } } } } Sample Header that we are passing host:localhost:7000 connection:keep-alive content-length:48 postman-token:ffff44c7-e789-ba46-2f5a-8271b4dd7aba cache-control:no-cache origin:chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop user-agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36 content-type:application/json accept:/ accept-encoding:gzip, deflate, br accept-language:en-US,en;q=0.8",source-file | source-file | test-file,"Unable to bind Headers to a Http task Unable to bind the http headers to an Http task with keys that have a : as a value. When we look at the exception stack (detailed below) and check line 264 of the code, it has a check that prevents values of http headers from having a colon in it (Code snippet also included below). HTTP_TASK_REQUEST_HEADERS_INVALID = requestHeaders are invalid Stack: org.flowable.engine.common.api.FlowableException: requestHeaders are invalid at org.flowable.http.impl.HttpActivityBehaviorImpl.setHeaders(HttpActivityBehaviorImpl.java:264) ~[flowable-http-6.1.2.jar:6.1.2] Code from HttpActivityBehaviorImpl protected void setHeaders(final HttpMessage base, final String headers) throws IOException { try (BufferedReader reader = new BufferedReader(new StringReader(headers { String line = reader.readLine(); while (line != null) { String[] header = line.split("":""); if (header.length == 2) { base.addHeader(header[0], header[1]); line = reader.readLine(); } else { throw new FlowableException(HTTP_TASK_REQUEST_HEADERS_INVALID); } } } } Sample Header that we are passing host:localhost:7000 connection:keep-alive content-length:48 postman-token:ffff44c7-e789-ba46-2f5a-8271b4dd7aba cache-control:no-cache origin:chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop user-agent:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36 content-type:application/json accept:/ accept-encoding:gzip, deflate, br accept-language:en-US,en;q=0.8 source-file source-file test-file",bug,0.9
1300,flowable-engine,https://github.com/flowable/flowable-engine/issues/1300,No mapping found for HTTP request with URI [/flowable-task/cmmn-api/management/jobs/,"Using Flowable Admin (deployed using Docker Compose), in CMMN part: 1. list executable jobs through the tab `Jobs`, filter `Executable jobs` 2. select a job 3. execute the job using button `Execute job` The following error occurs:  No mapping found for HTTP request with URI [/flowable-task/cmmn-api/management/jobs/<job-id>] in DispatcherServlet with name 'Flowable CMMN Rest API' org.flowable.ui.admin.service.engine.exception.FlowableServiceException: An error occurred while calling Flowable: HTTP/1.1 404 at org.flowable.ui.admin.service.engine.FlowableClientService.executeRequestNoResponseBody(FlowableClientService.java:462) ~[flowable-ui-admin-logic-6.3.1.jar!/:6.3.1] at org.flowable.ui.admin.service.engine.CmmnJobService.executeJob(CmmnJobService.java:88) ~[flowable-ui-admin-logic-6.3.1.jar!/:6.3.1] at org.flowable.ui.admin.rest.client.CmmnJobClientResource.executeCmmnJob(CmmnJobClientResource.java:89) [flowable-ui-admin-rest-6.3.1.jar!/:6.3.1] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_102] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_102] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_102] at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_102] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) [spring-web-5.0.6.RELEASE.jar!/:5.0.6.RELEASE]  It seems to me that the REST API used to execute an executable job is not the right one. I think it should be `/flowable-task/cmmn-api/cmmn-management/jobs/<job-id>` No error occurs executing a timer job in the same way but using the filter `Timer jobs`.",source-file,"No mapping found for HTTP request with URI [/flowable-task/cmmn-api/management/jobs/ Using Flowable Admin (deployed using Docker Compose), in CMMN part: 1. list executable jobs through the tab `Jobs`, filter `Executable jobs` 2. select a job 3. execute the job using button `Execute job` The following error occurs:  No mapping found for HTTP request with URI [/flowable-task/cmmn-api/management/jobs/<job-id>] in DispatcherServlet with name 'Flowable CMMN Rest API' org.flowable.ui.admin.service.engine.exception.FlowableServiceException: An error occurred while calling Flowable: HTTP/1.1 404 at org.flowable.ui.admin.service.engine.FlowableClientService.executeRequestNoResponseBody(FlowableClientService.java:462) ~[flowable-ui-admin-logic-6.3.1.jar!/:6.3.1] at org.flowable.ui.admin.service.engine.CmmnJobService.executeJob(CmmnJobService.java:88) ~[flowable-ui-admin-logic-6.3.1.jar!/:6.3.1] at org.flowable.ui.admin.rest.client.CmmnJobClientResource.executeCmmnJob(CmmnJobClientResource.java:89) [flowable-ui-admin-rest-6.3.1.jar!/:6.3.1] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_102] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_102] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_102] at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_102] at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) [spring-web-5.0.6.RELEASE.jar!/:5.0.6.RELEASE]  It seems to me that the REST API used to execute an executable job is not the right one. I think it should be `/flowable-task/cmmn-api/cmmn-management/jobs/<job-id>` No error occurs executing a timer job in the same way but using the filter `Timer jobs`. source-file",bug,0.95
3121,flowable-engine,https://github.com/flowable/flowable-engine/issues/3121,HistoricProcessInstanceQuery also query task variable,"**Describe the bug** when use HistoricProcessInstanceQuery with variable value, it also query query task variable with the same name **Expected behavior** HistoricProcessInstanceQuery only query process variable **Code**  HistoricProcessInstanceQuery query = historyService .createHistoricProcessInstanceQuery() .processInstanceId(""abc"") .includeProcessVariables(); query.variableValueEquals(""process_variable"", ""process_variable_value""); query.count();  this query produce a sql :  select count(distinct RES.ID_) from ACT_HI_PROCINST RES left outer join ACT_RE_PROCDEF DEF on RES.PROC_DEF_ID_ = DEF.ID_ inner join ACT_HI_VARINST A0 on RES.PROC_INST_ID_ = A0.PROC_INST_ID_ WHERE RES.PROC_INST_ID_ = ? and A0.NAME_ = ? and A0.VAR_TYPE_ = ? and (A0.TEXT_ = ?)  the right sql should be  select count(distinct RES.ID_) from ACT_HI_PROCINST RES left outer join ACT_RE_PROCDEF DEF on RES.PROC_DEF_ID_ = DEF.ID_ inner join ACT_HI_VARINST A0 on RES.PROC_INST_ID_ = A0.PROC_INST_ID_ WHERE RES.PROC_INST_ID_ = ? and A0.NAME_ = ? and A0.VAR_TYPE_ = ? and (A0.TEXT_ = ?) and A0.TASK_ID_ IS NULL  **Additional context** flowable: 6.6.0 , 6.7.0 database: mysql",source-file | source-file | config-file | test-file | test-file | source-file,"HistoricProcessInstanceQuery also query task variable **Describe the bug** when use HistoricProcessInstanceQuery with variable value, it also query query task variable with the same name **Expected behavior** HistoricProcessInstanceQuery only query process variable **Code**  HistoricProcessInstanceQuery query = historyService .createHistoricProcessInstanceQuery() .processInstanceId(""abc"") .includeProcessVariables(); query.variableValueEquals(""process_variable"", ""process_variable_value""); query.count();  this query produce a sql :  select count(distinct RES.ID_) from ACT_HI_PROCINST RES left outer join ACT_RE_PROCDEF DEF on RES.PROC_DEF_ID_ = DEF.ID_ inner join ACT_HI_VARINST A0 on RES.PROC_INST_ID_ = A0.PROC_INST_ID_ WHERE RES.PROC_INST_ID_ = ? and A0.NAME_ = ? and A0.VAR_TYPE_ = ? and (A0.TEXT_ = ?)  the right sql should be  select count(distinct RES.ID_) from ACT_HI_PROCINST RES left outer join ACT_RE_PROCDEF DEF on RES.PROC_DEF_ID_ = DEF.ID_ inner join ACT_HI_VARINST A0 on RES.PROC_INST_ID_ = A0.PROC_INST_ID_ WHERE RES.PROC_INST_ID_ = ? and A0.NAME_ = ? and A0.VAR_TYPE_ = ? and (A0.TEXT_ = ?) and A0.TASK_ID_ IS NULL  **Additional context** flowable: 6.6.0 , 6.7.0 database: mysql source-file source-file config-file test-file test-file source-file",bug,0.9
3659,flowable-engine,https://github.com/flowable/flowable-engine/issues/3659,createHistoricProcessInstanceQuery().list() returns DefinitionCategory.," historyService.createHistoricProcessInstanceQuery().processDefinitionCategory(""test"").list();  This interface can use `processDefinitionCategory()` as the query condition, but the return value does not include `DefinitionCategory`.",source-file | source-file | source-file | config-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | config-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | config-file | test-file | test-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | config-file | config-file | test-file | test-file | source-file,"createHistoricProcessInstanceQuery().list() returns DefinitionCategory.  historyService.createHistoricProcessInstanceQuery().processDefinitionCategory(""test"").list();  This interface can use `processDefinitionCategory()` as the query condition, but the return value does not include `DefinitionCategory`. source-file source-file source-file config-file test-file source-file source-file source-file source-file source-file source-file source-file source-file config-file config-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file config-file test-file test-file source-file source-file source-file source-file source-file source-file source-file source-file source-file config-file config-file test-file test-file source-file",bug,0.9
249,flowable-engine,https://github.com/flowable/flowable-engine/issues/249,delete application and delete process fail in flowable-modeler," SEVERE: Servlet.service() for servlet [appDispatcher] in context with path [/flowable-modeler] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.executor.ExecutorException: No constructor found in org.flowable.app.domain.editor.ModelInformation matching [java.lang.String, java.lang.String, java.lang.Integer]] with root cause org.apache.ibatis.executor.ExecutorException: No constructor found in org.flowable.app.domain.editor.ModelInformation matching [java.lang.String, java.lang.String, java.lang.Integer] at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(DefaultResultSetHandler.java:650) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:599) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:574) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:379) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:338) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:313) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:286) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183) at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64) at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79) at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63) at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324) at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156) at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109) at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83) at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148) at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141) at sun.reflect.GeneratedMethodAccessor923.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:497) at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) at com.sun.proxy.$Proxy238.selectList(Unknown Source) at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231) at org.flowable.app.repository.editor.ModelRelationRepositoryImpl.findModelInformationByChildModelId(ModelRelationRepositoryImpl.java:52) at org.flowable.app.service.editor.ModelRelationService.findParentModels(ModelRelationService.java:49) at org.flowable.app.service.editor.ModelRelationService$$FastClassBySpringCGLIB$$317a450f.invoke(<generated>) at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655) at org.flowable.app.service.editor.ModelRelationService$$EnhancerBySpringCGLIB$$ca581901.findParentModels(<generated>) at org.flowable.app.rest.editor.ModelRelationResource.getModelRelations(ModelRelationResource.java:43) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:497) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)  Thanks",documentation-file | source-file,"delete application and delete process fail in flowable-modeler  SEVERE: Servlet.service() for servlet [appDispatcher] in context with path [/flowable-modeler] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.executor.ExecutorException: No constructor found in org.flowable.app.domain.editor.ModelInformation matching [java.lang.String, java.lang.String, java.lang.Integer]] with root cause org.apache.ibatis.executor.ExecutorException: No constructor found in org.flowable.app.domain.editor.ModelInformation matching [java.lang.String, java.lang.String, java.lang.Integer] at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(DefaultResultSetHandler.java:650) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:599) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:574) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:379) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:338) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:313) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:286) at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:183) at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64) at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79) at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63) at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324) at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156) at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109) at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83) at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148) at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141) at sun.reflect.GeneratedMethodAccessor923.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:497) at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:434) at com.sun.proxy.$Proxy238.selectList(Unknown Source) at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:231) at org.flowable.app.repository.editor.ModelRelationRepositoryImpl.findModelInformationByChildModelId(ModelRelationRepositoryImpl.java:52) at org.flowable.app.service.editor.ModelRelationService.findParentModels(ModelRelationService.java:49) at org.flowable.app.service.editor.ModelRelationService$$FastClassBySpringCGLIB$$317a450f.invoke(<generated>) at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655) at org.flowable.app.service.editor.ModelRelationService$$EnhancerBySpringCGLIB$$ca581901.findParentModels(<generated>) at org.flowable.app.rest.editor.ModelRelationResource.getModelRelations(ModelRelationResource.java:43) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:497) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)  Thanks documentation-file source-file",bug,0.85
2584,flowable-engine,https://github.com/flowable/flowable-engine/issues/2584,Can not execute 'move' and 'moveToHistoryJob' on BPMN and CMMN job resource,**Describe the bug** The JobResource (REST API) for BPMN and CMMN does not allow to execute the 'move' or 'moveToHistoryJob' action anymore **Expected behavior** Dead letter jobs should be movable through the rest api PR follows,source-file | source-file | source-file | source-file,Can not execute 'move' and 'moveToHistoryJob' on BPMN and CMMN job resource **Describe the bug** The JobResource (REST API) for BPMN and CMMN does not allow to execute the 'move' or 'moveToHistoryJob' action anymore **Expected behavior** Dead letter jobs should be movable through the rest api PR follows source-file source-file source-file source-file,bug,0.95
268,flowable-engine,https://github.com/flowable/flowable-engine/issues/268,BusinessKey is not set when starting a process instance by message,In Flowable-engine 6.0.0 when I start a new process instance by a message then the business key I send in is not set in the process instance. This is both when using the Java API and Rest API. I have attached a small unit test displaying the problem. I Think the problem occurs in org.flowable.engine.impl.cmd.StartProcessInstanceByMessageCmd#execute(CommandContext commandContext). The businessKey is set here but not actually passed on to the ProcessInstanceHelper when the process instance is created. Process instances created using a process definition key set the business key correctly. [BusinessKeyNotSetTest.zip](https://github.com/flowable/flowable-engine/files/799482/BusinessKeyNotSetTest.zip),source-file | source-file | test-file | test-file,BusinessKey is not set when starting a process instance by message In Flowable-engine 6.0.0 when I start a new process instance by a message then the business key I send in is not set in the process instance. This is both when using the Java API and Rest API. I have attached a small unit test displaying the problem. I Think the problem occurs in org.flowable.engine.impl.cmd.StartProcessInstanceByMessageCmd#execute(CommandContext commandContext). The businessKey is set here but not actually passed on to the ProcessInstanceHelper when the process instance is created. Process instances created using a process definition key set the business key correctly. [BusinessKeyNotSetTest.zip](https://github.com/flowable/flowable-engine/files/799482/BusinessKeyNotSetTest.zip) source-file source-file test-file test-file,bug,0.9
456,flowable-engine,https://github.com/flowable/flowable-engine/issues/456,Problem when reusing the group of people,"If there is more than 1 component of the Group of People type, only the second is returned with the reuse of the variable. Example: if to create a current field group (group of people) and another group intended and the Task to fill the 2 fields. When opening the filled form or already reutizar 2 variables from resort in another form, the second field just makes the value of the variables.",source-file | source-file | source-file,"Problem when reusing the group of people If there is more than 1 component of the Group of People type, only the second is returned with the reuse of the variable. Example: if to create a current field group (group of people) and another group intended and the Task to fill the 2 fields. When opening the filled form or already reutizar 2 variables from resort in another form, the second field just makes the value of the variables. source-file source-file source-file",bug,0.8
1532,flowable-engine,https://github.com/flowable/flowable-engine/issues/1532,Flowable IDM: No longer working with external LDAP after update from 6.4.0 to 6.4.1,"We use `flowable-ui-idm-app` configured to connect to an external LDAP provider. After updating from `6.4.0` to `6.4.1` all logins fail with `""status"":500, ""error"":""Internal Server Error"", ""message"":""There is no PasswordEncoder mapped for the id ""null"""", ""path"":""/flowable-idm/app/authentication""`. I guess this is a side effect of https://github.com/flowable/flowable-engine/commit/248de5aec346df61be4ccec603dfa58b5a97f6ae (Cleanup Flowable Spring Boot Security Auto configuration). I tried setting `flowable.idm.password-encoder` to `spring_delegating_noop` (or other values), but this property is not used if `flowable.idm.ldap.enabled` is `true`. see: https://github.com/flowable/flowable-engine/blob/eeebfd23af3571741b60e3f663f17c0ecc50a812/modules/flowable-ui-idm/flowable-ui-idm-conf/src/main/java/org/flowable/ui/idm/conf/SecurityConfiguration.java#L79 **Edit:** https://github.com/flowable/flowable-engine/commit/248de5aec346df61be4ccec603dfa58b5a97f6ae really seems to be the cause. I build `flowable-ui-idm-app` version `6.4.1` but replaced the `flowable-spring-boot-autoconfigure` dependency with version `6.4.0` and the error disappeared.",source-file | config-file | test-file | test-file | test-file | test-file,"Flowable IDM: No longer working with external LDAP after update from 6.4.0 to 6.4.1 We use `flowable-ui-idm-app` configured to connect to an external LDAP provider. After updating from `6.4.0` to `6.4.1` all logins fail with `""status"":500, ""error"":""Internal Server Error"", ""message"":""There is no PasswordEncoder mapped for the id ""null"""", ""path"":""/flowable-idm/app/authentication""`. I guess this is a side effect of https://github.com/flowable/flowable-engine/commit/248de5aec346df61be4ccec603dfa58b5a97f6ae (Cleanup Flowable Spring Boot Security Auto configuration). I tried setting `flowable.idm.password-encoder` to `spring_delegating_noop` (or other values), but this property is not used if `flowable.idm.ldap.enabled` is `true`. see: https://github.com/flowable/flowable-engine/blob/eeebfd23af3571741b60e3f663f17c0ecc50a812/modules/flowable-ui-idm/flowable-ui-idm-conf/src/main/java/org/flowable/ui/idm/conf/SecurityConfiguration.java#L79 **Edit:** https://github.com/flowable/flowable-engine/commit/248de5aec346df61be4ccec603dfa58b5a97f6ae really seems to be the cause. I build `flowable-ui-idm-app` version `6.4.1` but replaced the `flowable-spring-boot-autoconfigure` dependency with version `6.4.0` and the error disappeared. source-file config-file test-file test-file test-file test-file",bug,0.9
2223,flowable-engine,https://github.com/flowable/flowable-engine/issues/2223,TaskQuery: scope is not available when including variables,"Hi, I just found out that when calling .includeTaskLocalVariables() or .includeProcessVariables(), the response does not contain any of the scope attributes. It happens when using both ProcessEngine and CmmnEngine. Why does this happen? Example bellow: ![image](https://user-images.githubusercontent.com/8373746/76636323-c07dbe80-6540-11ea-87cb-8840a5b1caf5.png) ![image](https://user-images.githubusercontent.com/8373746/76636346-cbd0ea00-6540-11ea-89f4-de92b9757222.png)",test-file | config-file,"TaskQuery: scope is not available when including variables Hi, I just found out that when calling .includeTaskLocalVariables() or .includeProcessVariables(), the response does not contain any of the scope attributes. It happens when using both ProcessEngine and CmmnEngine. Why does this happen? Example bellow: ![image](https://user-images.githubusercontent.com/8373746/76636323-c07dbe80-6540-11ea-87cb-8840a5b1caf5.png) ![image](https://user-images.githubusercontent.com/8373746/76636346-cbd0ea00-6540-11ea-89f4-de92b9757222.png) test-file config-file",bug,0.9
133,flowable-engine,https://github.com/flowable/flowable-engine/issues/133,Inconsistent Handling of IdentityLinks for tasks,"**Scenario** When a user is involved in a task an ""IdentityLink"" is created and it points to the TaskEntity Identity Links are not handled consistently dough: - ""candidate"" identity link types are persisted in ""ACT_RU_IDENTITYLINK"" and point to a task ""ACT_RU_TASK"" - ""assignee"" and ""owner"" identity link types - are persisted in ""ACT_RU_IDENTITYLINK"" but have **TASK_ID** null - have a ""PROC_INSTANCE_ID"" value - have the type ""participant"" (in fact they refer to a process participant rather than a task owner or assignee) - the actual link between a **TaskEntity** and a User/Group is kept in the ""ACT_RU_TASK"" table in column OWNER_, ASSIGNEE_ - the **TaskService.getIdentityLinksForTask(String)** method executes **GetIdentityLinksForTaskCmd** command which adds the two links manually and appends them two whatever it found in the DB **Problems** - the API is not consistent. **TaskService.getIdentityLinksForTask(String)** and **IdentityLinkEntityManager.findIdentityLinksByTaskId(String)** can return different results (depending if the task has an owner or assignee) - it affects #123 by making it difficult to keep track (count) of task identity links - the Historic Identity Links are incomplete. The updates regarding task assignee and task ownership are not present in ACT_HI_IDENTITYLINK. Only the entries regarding process participation are kept.",source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | source-file | config-file | source-file | source-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | database-file | test-file,"Inconsistent Handling of IdentityLinks for tasks **Scenario** When a user is involved in a task an ""IdentityLink"" is created and it points to the TaskEntity Identity Links are not handled consistently dough: - ""candidate"" identity link types are persisted in ""ACT_RU_IDENTITYLINK"" and point to a task ""ACT_RU_TASK"" - ""assignee"" and ""owner"" identity link types - are persisted in ""ACT_RU_IDENTITYLINK"" but have **TASK_ID** null - have a ""PROC_INSTANCE_ID"" value - have the type ""participant"" (in fact they refer to a process participant rather than a task owner or assignee) - the actual link between a **TaskEntity** and a User/Group is kept in the ""ACT_RU_TASK"" table in column OWNER_, ASSIGNEE_ - the **TaskService.getIdentityLinksForTask(String)** method executes **GetIdentityLinksForTaskCmd** command which adds the two links manually and appends them two whatever it found in the DB **Problems** - the API is not consistent. **TaskService.getIdentityLinksForTask(String)** and **IdentityLinkEntityManager.findIdentityLinksByTaskId(String)** can return different results (depending if the task has an owner or assignee) - it affects #123 by making it difficult to keep track (count) of task identity links - the Historic Identity Links are incomplete. The updates regarding task assignee and task ownership are not present in ACT_HI_IDENTITYLINK. Only the entries regarding process participation are kept. source-file source-file test-file test-file test-file test-file source-file source-file test-file test-file test-file test-file source-file source-file source-file source-file config-file source-file source-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file database-file test-file",bug,0.9
1638,flowable-engine,https://github.com/flowable/flowable-engine/issues/1638,NullPointerException when saving response as JSON but the response returns no body,"When in the Flowable Modeler the field ""Save response as JSON"" is set to true and the response has no body content (e.g. with the DELETE request method), a NullPointerException is thrown:  Caused by: java.lang.NullPointerException at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:889) ~[jackson-core-2.9.8.jar:2.9.8] at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:2551) ~[jackson-databind-2.9.8.jar:2.9.8] at org.flowable.http.HttpActivityExecutor.execute(HttpActivityExecutor.java:117) ~[flowable-http-6.4.1.jar:6.4.1]  136 more  The error refers to [HttpActivityExecutor.java:117](https://github.com/flowable/flowable-engine/blob/fa3b90ac134e66dada89c521aab53681dd7174cf/modules/flowable-http/src/main/java/org/flowable/http/HttpActivityExecutor.java#L117):  Object varValue = request.isSaveResponseAsJson() ? objectMapper.readTree(response.getBody()) : response.getBody();  where `response.getBody()` returns `null` and pass it to `readTree()`.",source-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file | source-file | test-file | test-file | test-file,"NullPointerException when saving response as JSON but the response returns no body When in the Flowable Modeler the field ""Save response as JSON"" is set to true and the response has no body content (e.g. with the DELETE request method), a NullPointerException is thrown:  Caused by: java.lang.NullPointerException at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:889) ~[jackson-core-2.9.8.jar:2.9.8] at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:2551) ~[jackson-databind-2.9.8.jar:2.9.8] at org.flowable.http.HttpActivityExecutor.execute(HttpActivityExecutor.java:117) ~[flowable-http-6.4.1.jar:6.4.1]  136 more  The error refers to [HttpActivityExecutor.java:117](https://github.com/flowable/flowable-engine/blob/fa3b90ac134e66dada89c521aab53681dd7174cf/modules/flowable-http/src/main/java/org/flowable/http/HttpActivityExecutor.java#L117):  Object varValue = request.isSaveResponseAsJson() ? objectMapper.readTree(response.getBody()) : response.getBody();  where `response.getBody()` returns `null` and pass it to `readTree()`. source-file test-file test-file test-file source-file test-file test-file test-file source-file test-file test-file test-file",bug,0.9
1878,flowable-engine,https://github.com/flowable/flowable-engine/issues/1878,Cannot delete a privilege for a group using REST API,"I tried to delete a privilege for a group using below API and I got a response status of 200 OK, but when I list all groups for a given privilege, the group that is not supposed to be fetched is included on the list. Moreover, I even tried to set a wrong/non-existent groupId and I am expecting it to throw an exception but still I got a response status of 200 OK. `/privileges/{privilegeId}/group/{groupId}` Upon checking the PrivilegeCollectionResource.java, I noticed that it is invoking deleteUserPrivilegeMapping of identityService. Shouldn't it be invoking deleteGroupPrivilegeMapping instead?  @ApiOperation(value = ""Deletes a privilege for a group"", nickname = ""deleteGroupPrivilege"", tags = { ""Privileges"" }) @ApiResponses(value = { @ApiResponse(code = 200, message = ""Indicates the group privilege has been deleted"") }) @DeleteMapping(value = ""/privileges/{privilegeId}/group/{groupId}"") public void deleteGroupPrivilege(@PathVariable String privilegeId, @PathVariable String groupId) { Privilege privilege = getPrivilegeById(privilegeId); if (restApiInterceptor != null) { restApiInterceptor.deleteGroupPrivilege(privilege, groupId); } identityService.deleteUserPrivilegeMapping(privilegeId, groupId); } ",source-file,"Cannot delete a privilege for a group using REST API I tried to delete a privilege for a group using below API and I got a response status of 200 OK, but when I list all groups for a given privilege, the group that is not supposed to be fetched is included on the list. Moreover, I even tried to set a wrong/non-existent groupId and I am expecting it to throw an exception but still I got a response status of 200 OK. `/privileges/{privilegeId}/group/{groupId}` Upon checking the PrivilegeCollectionResource.java, I noticed that it is invoking deleteUserPrivilegeMapping of identityService. Shouldn't it be invoking deleteGroupPrivilegeMapping instead?  @ApiOperation(value = ""Deletes a privilege for a group"", nickname = ""deleteGroupPrivilege"", tags = { ""Privileges"" }) @ApiResponses(value = { @ApiResponse(code = 200, message = ""Indicates the group privilege has been deleted"") }) @DeleteMapping(value = ""/privileges/{privilegeId}/group/{groupId}"") public void deleteGroupPrivilege(@PathVariable String privilegeId, @PathVariable String groupId) { Privilege privilege = getPrivilegeById(privilegeId); if (restApiInterceptor != null) { restApiInterceptor.deleteGroupPrivilege(privilege, groupId); } identityService.deleteUserPrivilegeMapping(privilegeId, groupId); }  source-file",bug,0.95
2561,flowable-engine,https://github.com/flowable/flowable-engine/issues/2561,Flowable email task : Email to should not be mandatory if email cc or email bcc is provided,**Describe the bug** We are using flowable email task. We have one of the requirement where we are allowing user to provide only bcc options. How ever flowable is throwing error that email to is mandatory. **Expected behavior** Email to should not b mandatory if Email cc or Email bcc is provided.,source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file | source-file | source-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | test-file | source-file,Flowable email task : Email to should not be mandatory if email cc or email bcc is provided **Describe the bug** We are using flowable email task. We have one of the requirement where we are allowing user to provide only bcc options. How ever flowable is throwing error that email to is mandatory. **Expected behavior** Email to should not b mandatory if Email cc or Email bcc is provided. source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file source-file source-file test-file test-file test-file test-file test-file test-file test-file test-file test-file test-file source-file,bug,0.9
3856,flowable-engine,https://github.com/flowable/flowable-engine/issues/3856,REST API responses with null value for UUID variable types,"**Describe the bug** The REST API method `flowable-rest/service/query/historic-variable-instances` returns null as value of variable of type `uuid`  { ""id"": ""85077ed6-d62c-11ee-ae20-86c5a61b31b3"", ""processInstanceId"": ""827254fd-d62c-11ee-ae20-86c5a61b31b3"", ""processInstanceUrl"": ""http://test-server/flowable-rest/service/history/historic-process-instances/827254fd-d62c-11ee-ae20-86c5a61b31b3"", ""taskId"": null, ""executionId"": ""827254fd-d62c-11ee-ae20-86c5a61b31b3"", ""variable"": { ""name"": ""animalId"", ""type"": ""uuid"", ""value"": null, //< here is unexpected null ""scope"": ""global"" } },  **Expected behavior** The UUID variable value should be serialized as string like  ""value"": ""201d919d-9974-4813-8628-ae815f311678"",  **Code** /flowable-rest/src/main/java/org/flowable/rest/service/api/RestResponseFactory.java method `createRestVariable` is searching for a convertor list of `variableConverters`. But there is no variable converter for variable type `org.flowable.variable.service.impl.types.UUIDType` so the createRestVariable returns a RestVariable with null value. **Additional context** Problem was reproduced on Flowable 6.8.0, but I checked the sources and it exists on main branch too. Would be nice to have a fix in next 7.0.x release as we are going to upgrade to that version soon. I am going to provide a Pull request for the fix soon.",source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | test-file | source-file | source-file | source-file | test-file,"REST API responses with null value for UUID variable types **Describe the bug** The REST API method `flowable-rest/service/query/historic-variable-instances` returns null as value of variable of type `uuid`  { ""id"": ""85077ed6-d62c-11ee-ae20-86c5a61b31b3"", ""processInstanceId"": ""827254fd-d62c-11ee-ae20-86c5a61b31b3"", ""processInstanceUrl"": ""http://test-server/flowable-rest/service/history/historic-process-instances/827254fd-d62c-11ee-ae20-86c5a61b31b3"", ""taskId"": null, ""executionId"": ""827254fd-d62c-11ee-ae20-86c5a61b31b3"", ""variable"": { ""name"": ""animalId"", ""type"": ""uuid"", ""value"": null, //< here is unexpected null ""scope"": ""global"" } },  **Expected behavior** The UUID variable value should be serialized as string like  ""value"": ""201d919d-9974-4813-8628-ae815f311678"",  **Code** /flowable-rest/src/main/java/org/flowable/rest/service/api/RestResponseFactory.java method `createRestVariable` is searching for a convertor list of `variableConverters`. But there is no variable converter for variable type `org.flowable.variable.service.impl.types.UUIDType` so the createRestVariable returns a RestVariable with null value. **Additional context** Problem was reproduced on Flowable 6.8.0, but I checked the sources and it exists on main branch too. Would be nice to have a fix in next 7.0.x release as we are going to upgrade to that version soon. I am going to provide a Pull request for the fix soon. source-file source-file source-file source-file source-file source-file test-file source-file test-file test-file source-file source-file source-file test-file",bug,0.95
510,flowable-engine,https://github.com/flowable/flowable-engine/issues/510,Content REST API in flowable-task does not have a MultipartResolver bean defined,"I was trying to use the content API to upload a file to the content-engine in the flowable-task app - using `POST /content-service/content-items`. I sent a valid multipart/form-data HTTP request from the browser, however on the server it was not converted to a MultipartResolver in the controller in `org.flowable.rest.content.service.api.content.ContentItemCollectionResource#createContentItem(HttpServletRequest request, HttpServletResponse response)`. Instead the body is treated as JSON and the parsing of it fails. This means I cannot upload a file using this resource. The problem is that the content API does not have a `MultipartResolver` bean defined in the flowable-task Spring context. In the flowable-ui-task-conf the `MultipartResolver` is defined in `BaseDispatcherServletConfiguration` but the `ContentDispatcherServletConfiguration` does not inherit from this. Only the process API `ProcessDispatcherServletConfiguration` does. The Form and DMN APIs also have the same configuration - in `DmnDispatcherServletConfiguration` and `FormDispatcherServletConfiguration` - so can potentially have a similar problem. I have not tested this. A workaround is to add a `MultipartResolver` bean to the Content APIs Spring context in my own code. (by adding on the Component scanned path). I am using flowable-6.1.0.",source-file | source-file | source-file,"Content REST API in flowable-task does not have a MultipartResolver bean defined I was trying to use the content API to upload a file to the content-engine in the flowable-task app - using `POST /content-service/content-items`. I sent a valid multipart/form-data HTTP request from the browser, however on the server it was not converted to a MultipartResolver in the controller in `org.flowable.rest.content.service.api.content.ContentItemCollectionResource#createContentItem(HttpServletRequest request, HttpServletResponse response)`. Instead the body is treated as JSON and the parsing of it fails. This means I cannot upload a file using this resource. The problem is that the content API does not have a `MultipartResolver` bean defined in the flowable-task Spring context. In the flowable-ui-task-conf the `MultipartResolver` is defined in `BaseDispatcherServletConfiguration` but the `ContentDispatcherServletConfiguration` does not inherit from this. Only the process API `ProcessDispatcherServletConfiguration` does. The Form and DMN APIs also have the same configuration - in `DmnDispatcherServletConfiguration` and `FormDispatcherServletConfiguration` - so can potentially have a similar problem. I have not tested this. A workaround is to add a `MultipartResolver` bean to the Content APIs Spring context in my own code. (by adding on the Component scanned path). I am using flowable-6.1.0. source-file source-file source-file",bug,0.9
3827,flowable-engine,https://github.com/flowable/flowable-engine/issues/3827,Unexpected result when querying process instances in Flowable 7.0.1,"**Describe the bug** Hi all, I have found what it could be a bug in the recent `7.0.1` version. When using `HistoryService` to query process instances, it's using `or` instead of `and` for the query criteria. It was working well in `7.0.0`. **Expected behavior** Here is a test that, in my opinion, should be passing. I run a query with two criteria: * `createdAfter(yesterday)` (always true) * `processInstanceId == ""NONEXISTENT_ID""` (always false) I expect the `count()` to be `0`, as I expect the search to look for `criteria1 AND criteria2`  @Test @Deployment(resources = [""processes/simple_process.bpmn20.xml""]) fun `counts returns 0 when filtering by unknown process instance id`() { // Define the filter val yesterday = OffsetDateTime.now().minusDays(1).toDate() val tasksQuery = historyService.createHistoricTaskInstanceQuery() tasksQuery.taskCreatedAfter(yesterday) tasksQuery.processInstanceId(""NONEXISTENT_ID"") // Create an instance runtimeService.startProcessInstanceByKey(""simple_process"") // Count the instances that match the filter val total = tasksQuery.count() // No instances are expected to match with id ""NONEXISTENT_ID"") assertEquals(0, total) }  Looking at the logs, the SQL generated is as follows:  select count(distinct RES.ID_) from ACT_HI_TASKINST RES WHERE RES.PROC_INST_ID_ IN ( ? ) or RES.START_TIME_ > ?  In version `7.0.0` the SQL is as follows:  select count(distinct RES.ID_) from ACT_HI_TASKINST RES WHERE RES.PROC_INST_ID_ IN ( ? ) and RES.START_TIME_ > ?  (Notice `or` vs `and`) **Code** Looking at the [diff between 7.0.0 and 7.0.1](https://github.com/flowable/flowable-engine/compare/flowable-7.0.0flowable-7.0.1), I see that [there has been a change in the file `HistoricTaskInstance.xml`](https://github.com/flowable/flowable-engine/blame/9aecece6e4ecdaa3c5368b1d8fe34bd2032a9190/modules/flowable-task-service/src/main/resources/org/flowable/task/service/db/mapping/entity/HistoricTaskInstance.xml#L1338) in the commit [`8e2be39`](https://github.com/flowable/flowable-engine/commit/8e2be39dca356bde5949fb07c706f068a35735ac) that might be related (some `and`'s have been replaced by `or`'s). **Additional context** I am using Flowable 7.0.0 with Spring Boot 3.2.1",test-file | source-file | source-file | config-file | test-file | source-file | source-file | config-file,"Unexpected result when querying process instances in Flowable 7.0.1 **Describe the bug** Hi all, I have found what it could be a bug in the recent `7.0.1` version. When using `HistoryService` to query process instances, it's using `or` instead of `and` for the query criteria. It was working well in `7.0.0`. **Expected behavior** Here is a test that, in my opinion, should be passing. I run a query with two criteria: * `createdAfter(yesterday)` (always true) * `processInstanceId == ""NONEXISTENT_ID""` (always false) I expect the `count()` to be `0`, as I expect the search to look for `criteria1 AND criteria2`  @Test @Deployment(resources = [""processes/simple_process.bpmn20.xml""]) fun `counts returns 0 when filtering by unknown process instance id`() { // Define the filter val yesterday = OffsetDateTime.now().minusDays(1).toDate() val tasksQuery = historyService.createHistoricTaskInstanceQuery() tasksQuery.taskCreatedAfter(yesterday) tasksQuery.processInstanceId(""NONEXISTENT_ID"") // Create an instance runtimeService.startProcessInstanceByKey(""simple_process"") // Count the instances that match the filter val total = tasksQuery.count() // No instances are expected to match with id ""NONEXISTENT_ID"") assertEquals(0, total) }  Looking at the logs, the SQL generated is as follows:  select count(distinct RES.ID_) from ACT_HI_TASKINST RES WHERE RES.PROC_INST_ID_ IN ( ? ) or RES.START_TIME_ > ?  In version `7.0.0` the SQL is as follows:  select count(distinct RES.ID_) from ACT_HI_TASKINST RES WHERE RES.PROC_INST_ID_ IN ( ? ) and RES.START_TIME_ > ?  (Notice `or` vs `and`) **Code** Looking at the [diff between 7.0.0 and 7.0.1](https://github.com/flowable/flowable-engine/compare/flowable-7.0.0flowable-7.0.1), I see that [there has been a change in the file `HistoricTaskInstance.xml`](https://github.com/flowable/flowable-engine/blame/9aecece6e4ecdaa3c5368b1d8fe34bd2032a9190/modules/flowable-task-service/src/main/resources/org/flowable/task/service/db/mapping/entity/HistoricTaskInstance.xml#L1338) in the commit [`8e2be39`](https://github.com/flowable/flowable-engine/commit/8e2be39dca356bde5949fb07c706f068a35735ac) that might be related (some `and`'s have been replaced by `or`'s). **Additional context** I am using Flowable 7.0.0 with Spring Boot 3.2.1 test-file source-file source-file config-file test-file source-file source-file config-file",bug,0.95
1626,flowable-engine,https://github.com/flowable/flowable-engine/issues/1626,Flowable Admin: Terminate BPMN Process Instance does no longer work in 6.4.1,"Using flowable-admin `6.4.1` it is not longer possible to terminate a running BPMN Process Instance. (It was working in previous versions as far as I remember.) On the http://localhost:8080/flowable-admin/#/process-instance/$PROCESS_INSTANCE_ID screen I click on the ""Terminate process instance"" action. In the pop-up I click on ""Terminate process instance"". The pop-up closes but the instance is still running. If I open Firefox developer tools, I see that the following request (exported in curl format) is send:  curl http://localhost:8080/flowable-admin/app/rest/admin/process-instances/71edd854-34f7-11e9-9a21-d481d7bb0f15"" -H ""User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:65.0) Gecko/20100101 Firefox/65.0"" -H ""Accept: application/json, text/plain, */*"" -H ""Accept-Language: de,en-US;q=0.7,en;q=0.3"" --compressed -H ""Referer: http://localhost:8080/flowable-admin/"" -H ""Content-Type: application/json;charset=utf-8"" -H ""Connection: keep-alive"" -H ""Cookie: JSESSIONID=292D3D529731CB1CD1169EE960A978E5; FLOWABLE_REMEMBER_ME=TGJVcGNSQlhZQzVXRThXc3J1UEN3QSUzRCUzRDpyVDFRQVVzaWtNSGJSeGRTVFRyVXR3JTNEJTNE"" -H ""DNT: 1"" --data ""{}""  and that a HTTP 400 error with the following body is retured: `{""message"":""Action is missing in the request body or the given action is not supported."",""messageKey"":""GENERAL.ERROR.BAD-REQUEST""}` Looking into the `flowable-admin` code I noticed that the problem is the empty JSON Body send in the POST request. If I replay the request with the correct body `{""action"":""terminate""}` the instance is terminated.",source-file | source-file,"Flowable Admin: Terminate BPMN Process Instance does no longer work in 6.4.1 Using flowable-admin `6.4.1` it is not longer possible to terminate a running BPMN Process Instance. (It was working in previous versions as far as I remember.) On the http://localhost:8080/flowable-admin/#/process-instance/$PROCESS_INSTANCE_ID screen I click on the ""Terminate process instance"" action. In the pop-up I click on ""Terminate process instance"". The pop-up closes but the instance is still running. If I open Firefox developer tools, I see that the following request (exported in curl format) is send:  curl http://localhost:8080/flowable-admin/app/rest/admin/process-instances/71edd854-34f7-11e9-9a21-d481d7bb0f15"" -H ""User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:65.0) Gecko/20100101 Firefox/65.0"" -H ""Accept: application/json, text/plain, */*"" -H ""Accept-Language: de,en-US;q=0.7,en;q=0.3"" --compressed -H ""Referer: http://localhost:8080/flowable-admin/"" -H ""Content-Type: application/json;charset=utf-8"" -H ""Connection: keep-alive"" -H ""Cookie: JSESSIONID=292D3D529731CB1CD1169EE960A978E5; FLOWABLE_REMEMBER_ME=TGJVcGNSQlhZQzVXRThXc3J1UEN3QSUzRCUzRDpyVDFRQVVzaWtNSGJSeGRTVFRyVXR3JTNEJTNE"" -H ""DNT: 1"" --data ""{}""  and that a HTTP 400 error with the following body is retured: `{""message"":""Action is missing in the request body or the given action is not supported."",""messageKey"":""GENERAL.ERROR.BAD-REQUEST""}` Looking into the `flowable-admin` code I noticed that the problem is the empty JSON Body send in the POST request. If I replay the request with the correct body `{""action"":""terminate""}` the instance is terminated. source-file source-file",bug,0.95
1479,flowable-engine,https://github.com/flowable/flowable-engine/issues/1479,Tenant Id attribute not returned for REST API /identity/users,"Created User with tenantId using POST REST API call to localhost:9080/flowable-rest/service/identity/users BODY : { ""id"": ""user2"", ""firstName"": ""user"", ""lastName"": ""2"", ""displayName"": ""user 2"", ""email"": ""user2@example.com"", ""tenantId"": ""tenant2"", ""password"": ""something"" } A GET call on localhost:9080/flowable-rest/service/identity/users/user2 doesnot return tenantId Response : { ""id"": ""user2"", ""firstName"": ""user"", ""lastName"": ""2"", ""displayName"": ""user 2"", ""url"": ""http://localhost:9080/flowable-rest/service/identity/users/user2"", ""email"": ""user2@example.com"", ""pictureUrl"": null } ![image](https://user-images.githubusercontent.com/17848089/50560317-b699e200-0d25-11e9-9139-fed654ac6621.png) As per the swagger documentation, we should get the following { ""data"": [ { ""id"": ""testuser"", ""firstName"": ""Fred"", ""lastName"": ""Smith"", ""displayName"": ""Fred Smith"", ""url"": ""http://localhost:8182/identity/users/testuser"", ""email"": ""no-reply@flowable.org"", **""tenantId"": ""companyTenantId"",** ""pictureUrl"": ""http://localhost:8182/identity/users/testuser/picture"", ""password"": ""string"" } ], ""total"": 0, ""start"": 0, ""sort"": ""string"", ""order"": ""string"", ""size"": 0 }",source-file | source-file,"Tenant Id attribute not returned for REST API /identity/users Created User with tenantId using POST REST API call to localhost:9080/flowable-rest/service/identity/users BODY : { ""id"": ""user2"", ""firstName"": ""user"", ""lastName"": ""2"", ""displayName"": ""user 2"", ""email"": ""user2@example.com"", ""tenantId"": ""tenant2"", ""password"": ""something"" } A GET call on localhost:9080/flowable-rest/service/identity/users/user2 doesnot return tenantId Response : { ""id"": ""user2"", ""firstName"": ""user"", ""lastName"": ""2"", ""displayName"": ""user 2"", ""url"": ""http://localhost:9080/flowable-rest/service/identity/users/user2"", ""email"": ""user2@example.com"", ""pictureUrl"": null } ![image](https://user-images.githubusercontent.com/17848089/50560317-b699e200-0d25-11e9-9139-fed654ac6621.png) As per the swagger documentation, we should get the following { ""data"": [ { ""id"": ""testuser"", ""firstName"": ""Fred"", ""lastName"": ""Smith"", ""displayName"": ""Fred Smith"", ""url"": ""http://localhost:8182/identity/users/testuser"", ""email"": ""no-reply@flowable.org"", **""tenantId"": ""companyTenantId"",** ""pictureUrl"": ""http://localhost:8182/identity/users/testuser/picture"", ""password"": ""string"" } ], ""total"": 0, ""start"": 0, ""sort"": ""string"", ""order"": ""string"", ""size"": 0 } source-file source-file",bug,0.95
1511,flowable-engine,https://github.com/flowable/flowable-engine/issues/1511,Tenant id not returned,"Hi, When using Flowables REST API, if you specify either includeProcessVariables or includeTaskLocalVariables when querying for tasks, the response does not contain the tenant that is associated with that task, it always contains an empty string If you omit those query params (or set them to false), it works fine: the tenant is correctly set. This happens for both GET /runtime/tasks and POST /query/tasks. After some digging, I found that the SQL queries that are fired against the database are different when you want to include variables. It looks like one of them (for example, selectTasksWithRelatedEntitiesByQueryCriteria) is not including the tenant column. Is this an expected behavior? David Lamas.",test-file | test-file | test-file | config-file | test-file | test-file | config-file,"Tenant id not returned Hi, When using Flowables REST API, if you specify either includeProcessVariables or includeTaskLocalVariables when querying for tasks, the response does not contain the tenant that is associated with that task, it always contains an empty string If you omit those query params (or set them to false), it works fine: the tenant is correctly set. This happens for both GET /runtime/tasks and POST /query/tasks. After some digging, I found that the SQL queries that are fired against the database are different when you want to include variables. It looks like one of them (for example, selectTasksWithRelatedEntitiesByQueryCriteria) is not including the tenant column. Is this an expected behavior? David Lamas. test-file test-file test-file config-file test-file test-file config-file",bug,0.9
1437,flowable-engine,https://github.com/flowable/flowable-engine/issues/1437,Unsupported variable query operation: EQUALS,"flowable-rest.war 6.4.0 POST /query/historic-process-instances when the parameters like : { ""variables"": [ { ""name"": ""applyUserId"", ""operation"": ""EQUALS"", ""value"": {}, ""type"": ""string"", ""variableOperation"": ""EQUALS"" } ] } the respose is : { ""message"": ""Bad request"", ""exception"": ""Unsupported variable query operation: EQUALS"" }",documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | documentation-file | source-file | source-file | source-file | source-file,"Unsupported variable query operation: EQUALS flowable-rest.war 6.4.0 POST /query/historic-process-instances when the parameters like : { ""variables"": [ { ""name"": ""applyUserId"", ""operation"": ""EQUALS"", ""value"": {}, ""type"": ""string"", ""variableOperation"": ""EQUALS"" } ] } the respose is : { ""message"": ""Bad request"", ""exception"": ""Unsupported variable query operation: EQUALS"" } documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file documentation-file source-file source-file source-file source-file",bug,0.9
