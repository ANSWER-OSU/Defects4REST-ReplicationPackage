issue_no,repo,issue_url,title,description,patched_file_types,text_for_topic_modeling,prediction,confidence
120,apistar,https://github.com/encode/apistar/issues/120,Graceful handling of malformed RequestData,Invalid JSON or invalid form content should result in a 400 response. Also consider if we want to tweak the behavior around empty content at all (at the moment we return `None`),source-file | source-file | source-file | test-file,Graceful handling of malformed RequestData Invalid JSON or invalid form content should result in a 400 response. Also consider if we want to tweak the behavior around empty content at all (at the moment we return `None`) source-file source-file source-file test-file,bug,0.9
523,apistar,https://github.com/encode/apistar/issues/523,Docs/Guide give error: AttributeError: type object 'list' has no attribute '__args__',"[This](https://docs.apistar.com/api-guide/routing/) routing guide, give me error: > (apistar) ➜ test python app.py Traceback (most recent call last): File ""app.py"", line 39, in <module> Route('/users/', method='GET', handler=list_users), File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 17, in __init__ self.link = self.generate_link(url, method, handler, self.name) File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 21, in generate_link response = self.generate_response(handler) File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 83, in generate_response annotation = self.coerce_generics(annotation) File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 94, in coerce_generics annotation.__args__ and AttributeError: type object 'list' has no attribute '__args__' This is the 'list_users' function, same as the guide: > def list_users(app: App) -> list: return [ { 'username': username, 'url': app.reverse_url('get_user', user_id=user_id) } for user_id, username in USERS.items() ] This is my env: > (apistar) ➜ test python --version Python 3.6.4 (apistar) ➜ test pip freeze apistar==0.5.12 certifi==2018.4.16 chardet==3.0.4 idna==2.6 Jinja2==2.10 MarkupSafe==1.0 requests==2.18.4 urllib3==1.22 Werkzeug==0.14.1 whitenoise==3.3.1 Additional info: if I change this code: > def list_users(app: App) -> list: to: > def list_users(app: App) -> dict: Then there is no error anymore.",source-file | source-file | source-file,"Docs/Guide give error: AttributeError: type object 'list' has no attribute '__args__' [This](https://docs.apistar.com/api-guide/routing/) routing guide, give me error: > (apistar) ➜ test python app.py Traceback (most recent call last): File ""app.py"", line 39, in <module> Route('/users/', method='GET', handler=list_users), File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 17, in __init__ self.link = self.generate_link(url, method, handler, self.name) File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 21, in generate_link response = self.generate_response(handler) File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 83, in generate_response annotation = self.coerce_generics(annotation) File ""/Users/atmosuwiryo/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/server/core.py"", line 94, in coerce_generics annotation.__args__ and AttributeError: type object 'list' has no attribute '__args__' This is the 'list_users' function, same as the guide: > def list_users(app: App) -> list: return [ { 'username': username, 'url': app.reverse_url('get_user', user_id=user_id) } for user_id, username in USERS.items() ] This is my env: > (apistar) ➜ test python --version Python 3.6.4 (apistar) ➜ test pip freeze apistar==0.5.12 certifi==2018.4.16 chardet==3.0.4 idna==2.6 Jinja2==2.10 MarkupSafe==1.0 requests==2.18.4 urllib3==1.22 Werkzeug==0.14.1 whitenoise==3.3.1 Additional info: if I change this code: > def list_users(app: App) -> list: to: > def list_users(app: App) -> dict: Then there is no error anymore. source-file source-file source-file",no-bug,0.9
2,apistar,https://github.com/encode/apistar/issues/2,Tests on Travis CI,- [x] Tests running on Travis CI - [x] Badge,source-file | source-file | source-file | source-file,Tests on Travis CI - [x] Tests running on Travis CI - [x] Badge source-file source-file source-file source-file,no-bug,0.9
435,apistar,https://github.com/encode/apistar/issues/435,Type inheritance in 0.4.3,"Is Type inheritance supported in 0.4.3? For example, I have these two classes: ``` class NbnOrderFeasibilityRequest(types.Type): sqId = validators.String() nbnLocationId = validators.String() tc4DownloadSpeed = validators.Integer() tc4UploadSpeed = validators.Integer() cpiId = validators.String(default=None) ntdId = validators.String(default=None) potsInterconnectId = validators.String(default=None) transferType = NbnOrderTransferType(default=None) localNumberPorting = validators.String(enum=['Yes', 'No'], default=None) customerAuthorityDate = validators.Date(default=None), appointmentId = validators.String(default=None) installationWorkforce = NbnOrderInstallationWorkforceType(default=None) # TODO conditions installationCentralSplitter = validators.String(enum=['Yes', 'No'], default=None) exchangePairConnection = validators.String(enum=['No'], default=None) ntdPortId = validators.Integer(default=None) batteryBackup = validators.String(enum=['Yes', 'No'], default=None) class NbnOrderRequest(NbnOrderFeasibilityRequest): accessSeekerRef = AccessSeekerRef(default=None) ``` When I instantiate an NbnOrderRequest, only accessSeekerRef seems to be available. data = { 'sqId': 'SQ00001', 'nbnLocationId': 'LOC00001', 'tc4DownloadSpeed': 10, 'tc4UploadSpeed': 10 } request = NbnOrderRequest(data) assert {'accessSeekerRef': None) == dict(data) # Works, and it shouldn't I'm guessing there's something that needs to happen in the __new__ operation of TypeMetaclass to get fields/attributes from the parent class, but I just wanted to check if this is supposed to be possible.",test-file,"Type inheritance in 0.4.3 Is Type inheritance supported in 0.4.3? For example, I have these two classes: ``` class NbnOrderFeasibilityRequest(types.Type): sqId = validators.String() nbnLocationId = validators.String() tc4DownloadSpeed = validators.Integer() tc4UploadSpeed = validators.Integer() cpiId = validators.String(default=None) ntdId = validators.String(default=None) potsInterconnectId = validators.String(default=None) transferType = NbnOrderTransferType(default=None) localNumberPorting = validators.String(enum=['Yes', 'No'], default=None) customerAuthorityDate = validators.Date(default=None), appointmentId = validators.String(default=None) installationWorkforce = NbnOrderInstallationWorkforceType(default=None) # TODO conditions installationCentralSplitter = validators.String(enum=['Yes', 'No'], default=None) exchangePairConnection = validators.String(enum=['No'], default=None) ntdPortId = validators.Integer(default=None) batteryBackup = validators.String(enum=['Yes', 'No'], default=None) class NbnOrderRequest(NbnOrderFeasibilityRequest): accessSeekerRef = AccessSeekerRef(default=None) ``` When I instantiate an NbnOrderRequest, only accessSeekerRef seems to be available. data = { 'sqId': 'SQ00001', 'nbnLocationId': 'LOC00001', 'tc4DownloadSpeed': 10, 'tc4UploadSpeed': 10 } request = NbnOrderRequest(data) assert {'accessSeekerRef': None) == dict(data) # Works, and it shouldn't I'm guessing there's something that needs to happen in the __new__ operation of TypeMetaclass to get fields/attributes from the parent class, but I just wanted to check if this is supposed to be possible. test-file",no-bug,0.9
63,apistar,https://github.com/encode/apistar/issues/63,Refactoring / Renaming,"Currently considering: * `pipelines` -> `core` * `main` -> `cli` In particular `pipelines.ArgName` reads weirdly in the docs. Also considering renaming ""views"" to ""handlers"", given that they're more general purpose than a ""view"" onto some data.",documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | test-file | test-file | documentation-file | source-file | source-file | source-file | source-file | source-file | source-file | source-file | test-file | source-file | test-file | test-file | test-file,"Refactoring / Renaming Currently considering: * `pipelines` -> `core` * `main` -> `cli` In particular `pipelines.ArgName` reads weirdly in the docs. Also considering renaming ""views"" to ""handlers"", given that they're more general purpose than a ""view"" onto some data. documentation-file source-file source-file source-file source-file source-file source-file source-file source-file source-file source-file test-file test-file test-file documentation-file source-file source-file source-file source-file source-file source-file source-file test-file source-file test-file test-file test-file",no-bug,0.9
69,apistar,https://github.com/encode/apistar/issues/69,API Schemas & client libraries,"Some initial work for this is now in place, but there's plenty more still to do: - [ ] Add descriptions to fields and links. - [ ] Support direct usage of QueryParam, RequestData. - [ ] Include proper type information in the API Schemas. - [ ] Include response schemas. - [ ] Allow for API structure, using includes. - [ ] Allow for eg `_id` -> `id` in function arguments, to work around python keyword-clashes. - [ ] Allow for explicit naming in `Route` to override automatic function naming. - [ ] Figure out encodings on links. - [ ] API Name - [ ] API Description - [ ] API Base URL - [ ] Document usage of client libraries. - [ ] Figure out naming - `APISchema` vs `schema` module. - [ ] Returning a schema from a view.",source-file | test-file,"API Schemas & client libraries Some initial work for this is now in place, but there's plenty more still to do: - [ ] Add descriptions to fields and links. - [ ] Support direct usage of QueryParam, RequestData. - [ ] Include proper type information in the API Schemas. - [ ] Include response schemas. - [ ] Allow for API structure, using includes. - [ ] Allow for eg `_id` -> `id` in function arguments, to work around python keyword-clashes. - [ ] Allow for explicit naming in `Route` to override automatic function naming. - [ ] Figure out encodings on links. - [ ] API Name - [ ] API Description - [ ] API Base URL - [ ] Document usage of client libraries. - [ ] Figure out naming - `APISchema` vs `schema` module. - [ ] Returning a schema from a view. source-file test-file",no-bug,0.8
504,apistar,https://github.com/encode/apistar/issues/504,_start_response() got an unexpected keyword argument 'exc_info' on Heroku,"I'm getting a strange exception in production and can't trace to what is going on. can't reproduce locally, happening only on heroku, any idea of how to find it's cause? ``` │2018-05-02T16:20:05.126068+00:00 app[web.1]: [2018-05-02 16:20:05 +0000] [11] [ERROR] Error handling request /hooks/ │ │2018-05-02T16:20:05.126071+00:00 app[web.1]: Traceback (most recent call last): │ │2018-05-02T16:20:05.126074+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 215, in __call__ │ │2018-05-02T16:20:05.126075+00:00 app[web.1]: return self.injector.run(funcs, state) │ │2018-05-02T16:20:05.126077+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/injector.py"", line 106, in run │ │2018-05-02T16:20:05.126079+00:00 app[web.1]: state[output_name] = func(**func_kwargs) │ │2018-05-02T16:20:05.126080+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 206, in __call__ │ │2018-05-02T16:20:05.126082+00:00 app[web.1]: return self.injector.run(funcs, state) │ │2018-05-02T16:20:05.126083+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/injector.py"", line 106, in run │ │2018-05-02T16:20:05.126085+00:00 app[web.1]: state[output_name] = func(**func_kwargs) │ │2018-05-02T16:20:05.126086+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 171, in finalize_wsgi │ │2018-05-02T16:20:05.126088+00:00 app[web.1]: exc_info=response.exc_info │ │2018-05-02T16:20:05.126090+00:00 app[web.1]: TypeError: _start_response() got an unexpected keyword argument 'exc_info' │ │2018-05-02T16:20:05.126092+00:00 app[web.1]: │ │2018-05-02T16:20:05.126094+00:00 app[web.1]: During handling of the above exception, another exception occurred: │ │2018-05-02T16:20:05.126095+00:00 app[web.1]: │ │2018-05-02T16:20:05.126096+00:00 app[web.1]: Traceback (most recent call last): │ │2018-05-02T16:20:05.126098+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/sync.py"", line 135, in handle │ │2018-05-02T16:20:05.126100+00:00 app[web.1]: self.handle_request(listener, req, client, addr) │ │2018-05-02T16:20:05.126102+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/sync.py"", line 176, in handle_request │ │2018-05-02T16:20:05.126103+00:00 app[web.1]: respiter = self.wsgi(environ, resp.start_response) │ │2018-05-02T16:20:05.126105+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/newrelic/api/web_transaction.py"", line 1282, in _nr_wsgi_application_wrapper_ │ │2018-05-02T16:20:05.126107+00:00 app[web.1]: result = wrapped(environ, _start_response) │ │2018-05-02T16:20:05.126109+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 222, in __call__ │ │2018-05-02T16:20:05.126110+00:00 app[web.1]: return self.injector.run(funcs, state) │ │2018-05-02T16:20:05.126112+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/injector.py"", line 106, in run │ │2018-05-02T16:20:05.126114+00:00 app[web.1]: state[output_name] = func(**func_kwargs) │ │2018-05-02T16:20:05.126115+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 171, in finalize_wsgi │ │2018-05-02T16:20:05.126116+00:00 app[web.1]: exc_info=response.exc_info │ │2018-05-02T16:20:05.127241+00:00 app[web.1]: TypeError: _start_response() got an unexpected keyword argument 'exc_info' │ │2018-05-02T16:20:05.127751+00:00 app[web.1]: 10.79.192.24 - - [02/May/2018:16:20:05 +0000] ""POST /hooks/ HTTP/1.1"" 500 - ""-"" ""-"" │ ```",source-file | source-file,"_start_response() got an unexpected keyword argument 'exc_info' on Heroku I'm getting a strange exception in production and can't trace to what is going on. can't reproduce locally, happening only on heroku, any idea of how to find it's cause? ``` │2018-05-02T16:20:05.126068+00:00 app[web.1]: [2018-05-02 16:20:05 +0000] [11] [ERROR] Error handling request /hooks/ │ │2018-05-02T16:20:05.126071+00:00 app[web.1]: Traceback (most recent call last): │ │2018-05-02T16:20:05.126074+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 215, in __call__ │ │2018-05-02T16:20:05.126075+00:00 app[web.1]: return self.injector.run(funcs, state) │ │2018-05-02T16:20:05.126077+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/injector.py"", line 106, in run │ │2018-05-02T16:20:05.126079+00:00 app[web.1]: state[output_name] = func(**func_kwargs) │ │2018-05-02T16:20:05.126080+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 206, in __call__ │ │2018-05-02T16:20:05.126082+00:00 app[web.1]: return self.injector.run(funcs, state) │ │2018-05-02T16:20:05.126083+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/injector.py"", line 106, in run │ │2018-05-02T16:20:05.126085+00:00 app[web.1]: state[output_name] = func(**func_kwargs) │ │2018-05-02T16:20:05.126086+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 171, in finalize_wsgi │ │2018-05-02T16:20:05.126088+00:00 app[web.1]: exc_info=response.exc_info │ │2018-05-02T16:20:05.126090+00:00 app[web.1]: TypeError: _start_response() got an unexpected keyword argument 'exc_info' │ │2018-05-02T16:20:05.126092+00:00 app[web.1]: │ │2018-05-02T16:20:05.126094+00:00 app[web.1]: During handling of the above exception, another exception occurred: │ │2018-05-02T16:20:05.126095+00:00 app[web.1]: │ │2018-05-02T16:20:05.126096+00:00 app[web.1]: Traceback (most recent call last): │ │2018-05-02T16:20:05.126098+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/sync.py"", line 135, in handle │ │2018-05-02T16:20:05.126100+00:00 app[web.1]: self.handle_request(listener, req, client, addr) │ │2018-05-02T16:20:05.126102+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/gunicorn/workers/sync.py"", line 176, in handle_request │ │2018-05-02T16:20:05.126103+00:00 app[web.1]: respiter = self.wsgi(environ, resp.start_response) │ │2018-05-02T16:20:05.126105+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/newrelic/api/web_transaction.py"", line 1282, in _nr_wsgi_application_wrapper_ │ │2018-05-02T16:20:05.126107+00:00 app[web.1]: result = wrapped(environ, _start_response) │ │2018-05-02T16:20:05.126109+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 222, in __call__ │ │2018-05-02T16:20:05.126110+00:00 app[web.1]: return self.injector.run(funcs, state) │ │2018-05-02T16:20:05.126112+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/injector.py"", line 106, in run │ │2018-05-02T16:20:05.126114+00:00 app[web.1]: state[output_name] = func(**func_kwargs) │ │2018-05-02T16:20:05.126115+00:00 app[web.1]: File ""/app/.heroku/python/lib/python3.6/site-packages/apistar/server/app.py"", line 171, in finalize_wsgi │ │2018-05-02T16:20:05.126116+00:00 app[web.1]: exc_info=response.exc_info │ │2018-05-02T16:20:05.127241+00:00 app[web.1]: TypeError: _start_response() got an unexpected keyword argument 'exc_info' │ │2018-05-02T16:20:05.127751+00:00 app[web.1]: 10.79.192.24 - - [02/May/2018:16:20:05 +0000] ""POST /hooks/ HTTP/1.1"" 500 - ""-"" ""-"" │ ``` source-file source-file",no-bug,0.7
122,apistar,https://github.com/encode/apistar/issues/122,Issue after upgrading to 0.1.13,"After upgrading this happend. Python 3.5.1 ``` >>> from typing import Type Traceback (most recent call last): File ""<stdin>"", line 1, in <module> ImportError: cannot import name 'Type' ``` ```bash $ apistar run Traceback (most recent call last): File ""/usr/local/bin/apistar"", line 7, in <module> from apistar.main import main File ""/usr/local/lib/python3.5/site-packages/apistar/__init__.py"", line 8, in <module> from apistar.app import App File ""/usr/local/lib/python3.5/site-packages/apistar/app.py"", line 7, in <module> from apistar import commands as cmd File ""/usr/local/lib/python3.5/site-packages/apistar/commands/__init__.py"", line 2, in <module> from apistar.commands.new import new File ""/usr/local/lib/python3.5/site-packages/apistar/commands/new.py"", line 8, in <module> from apistar import schema File ""/usr/local/lib/python3.5/site-packages/apistar/schema.py"", line 2, in <module> from typing import Any, Dict, List, Tuple, Type, Union # noqa ImportError: cannot import name 'Type' ```",source-file,"Issue after upgrading to 0.1.13 After upgrading this happend. Python 3.5.1 ``` >>> from typing import Type Traceback (most recent call last): File ""<stdin>"", line 1, in <module> ImportError: cannot import name 'Type' ``` ```bash $ apistar run Traceback (most recent call last): File ""/usr/local/bin/apistar"", line 7, in <module> from apistar.main import main File ""/usr/local/lib/python3.5/site-packages/apistar/__init__.py"", line 8, in <module> from apistar.app import App File ""/usr/local/lib/python3.5/site-packages/apistar/app.py"", line 7, in <module> from apistar import commands as cmd File ""/usr/local/lib/python3.5/site-packages/apistar/commands/__init__.py"", line 2, in <module> from apistar.commands.new import new File ""/usr/local/lib/python3.5/site-packages/apistar/commands/new.py"", line 8, in <module> from apistar import schema File ""/usr/local/lib/python3.5/site-packages/apistar/schema.py"", line 2, in <module> from typing import Any, Dict, List, Tuple, Type, Union # noqa ImportError: cannot import name 'Type' ``` source-file",no-bug,0.9
237,apistar,https://github.com/encode/apistar/issues/237,mysql-python is not python3 compatible,"In the readme, mysql-python is suggested as a mysql driver. However, it's not ported to python 3 yet ([reference](https://pypi.python.org/pypi/MySQL-python/1.2.5)). I installed `pymysql` instead, changed the prefix to `mysql+pymysql://...` and it worked well. At least I could create the table given in example. I guess the readme could be updated with this suggestion ?",documentation-file,"mysql-python is not python3 compatible In the readme, mysql-python is suggested as a mysql driver. However, it's not ported to python 3 yet ([reference](https://pypi.python.org/pypi/MySQL-python/1.2.5)). I installed `pymysql` instead, changed the prefix to `mysql+pymysql://...` and it worked well. At least I could create the table given in example. I guess the readme could be updated with this suggestion ? documentation-file",no-bug,0.9
94,apistar,https://github.com/encode/apistar/issues/94,Injecting `http.Body` freezes `apistar run`,"Decided to play around with the framework, have the following thing: ```python from apistar import http def welcome(body: http.Body): return {'message': 'Welcome to API Star!'} ``` Making a request: ```bash $ curl -X POST -d """" http://localhost:8080/ ``` Everything hangs. Nothing happens until I stop the `apistar run` server. Added a breakpoint inside `Body.build` - the `environ['wsgi.input'].read()` actually hangs. Using Python `3.5.2`.",source-file,"Injecting `http.Body` freezes `apistar run` Decided to play around with the framework, have the following thing: ```python from apistar import http def welcome(body: http.Body): return {'message': 'Welcome to API Star!'} ``` Making a request: ```bash $ curl -X POST -d """" http://localhost:8080/ ``` Everything hangs. Nothing happens until I stop the `apistar run` server. Added a breakpoint inside `Body.build` - the `environ['wsgi.input'].read()` actually hangs. Using Python `3.5.2`. source-file",bug,0.8
555,apistar,https://github.com/encode/apistar/issues/555,Missing str check in types.Type,"`str` check is missing here: ```python if args[0] is None or isinstance(args[0], (bool, int, float, list)): raise ValidationError('Must be an object.') ```",source-file | source-file | source-file | source-file,"Missing str check in types.Type `str` check is missing here: ```python if args[0] is None or isinstance(args[0], (bool, int, float, list)): raise ValidationError('Must be an object.') ``` source-file source-file source-file source-file",no-bug,0.7
332,apistar,https://github.com/encode/apistar/issues/332,AttributeError: 'Headers' object has no attribute 'get',"`Python 3.5.2` `apistar==0.3.9` I'm getting `AttributeError: 'Headers' object has no attribute 'get'` from `apistar/components/wsgi.py` in get_header. This works on a few environments but it error out on others. I compare `pip freeze` output and all environment are identical. On working instances, python versions are 3.5.3 or 3.5.4. and when I change the line from `.get` to `.__getitem__` all works. ``` def get_header(name: ParamName, headers: http.Headers): return headers.__getitem__(name.replace('_', '-')) ``` Any advice would be appreciated. UPDATE: I've try to run on other system that has python 3.5.2 and got the same error. Now I'm convinced that this is issue on 3.5.2. Can we test with `hasattr`",source-file | source-file | source-file | source-file | source-file | source-file,"AttributeError: 'Headers' object has no attribute 'get' `Python 3.5.2` `apistar==0.3.9` I'm getting `AttributeError: 'Headers' object has no attribute 'get'` from `apistar/components/wsgi.py` in get_header. This works on a few environments but it error out on others. I compare `pip freeze` output and all environment are identical. On working instances, python versions are 3.5.3 or 3.5.4. and when I change the line from `.get` to `.__getitem__` all works. ``` def get_header(name: ParamName, headers: http.Headers): return headers.__getitem__(name.replace('_', '-')) ``` Any advice would be appreciated. UPDATE: I've try to run on other system that has python 3.5.2 and got the same error. Now I'm convinced that this is issue on 3.5.2. Can we test with `hasattr` source-file source-file source-file source-file source-file source-file",no-bug,0.9
17,apistar,https://github.com/encode/apistar/issues/17,Redirect handling,"Werkzeug can raise a `RequestRedirect` if eg. view is routed to `/foo/`, and a GET request is made to `/foo` (without the trailing slash). We ought to be dealing with those in our [exception handler function](https://github.com/tomchristie/apistar/blob/master/apistar/routing.py#L139), and returning an appropriate response.",source-file | test-file,"Redirect handling Werkzeug can raise a `RequestRedirect` if eg. view is routed to `/foo/`, and a GET request is made to `/foo` (without the trailing slash). We ought to be dealing with those in our [exception handler function](https://github.com/tomchristie/apistar/blob/master/apistar/routing.py#L139), and returning an appropriate response. source-file test-file",bug,0.8
70,apistar,https://github.com/encode/apistar/issues/70,Schema validation & annotation,"We have some of this in place at the moment, but we still need: - [x] Object - [x] Array - [x] Enum - [x] Documentation - [x] Defaults on schema types. - [x] Nullable Plus a whole bunch of finessing around things like: * Keyword defaults on handler functions. * Support `List` in handler input types. * Coerce primitive types to schema types? (eg. `bool` then handles ""True""/""False"" string literals, `str` then trims whitespace by default.) * Returning aggregated validation errors for multiple parameters. * Which typing annotations we support in views. * Native formats such as `datetime` that have a string serialization. * If we want to constrain the typing system against GraphQL, eg. no general ""Map"" type.",source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file | source-file | source-file | test-file,"Schema validation & annotation We have some of this in place at the moment, but we still need: - [x] Object - [x] Array - [x] Enum - [x] Documentation - [x] Defaults on schema types. - [x] Nullable Plus a whole bunch of finessing around things like: * Keyword defaults on handler functions. * Support `List` in handler input types. * Coerce primitive types to schema types? (eg. `bool` then handles ""True""/""False"" string literals, `str` then trims whitespace by default.) * Returning aggregated validation errors for multiple parameters. * Which typing annotations we support in views. * Native formats such as `datetime` that have a string serialization. * If we want to constrain the typing system against GraphQL, eg. no general ""Map"" type. source-file source-file test-file source-file source-file test-file source-file source-file test-file source-file source-file test-file",no-bug,0.7
158,apistar,https://github.com/encode/apistar/issues/158,Url encoding on TestClient requests,"I'm adding tests and I have some urls with spaces in it. the tests fail because the url parameters are not properly encoded in the handler function. For example I have a handler function that recieves one parameter ""time"" `routes.py` ```python Route('/{time}', 'GET', timestamp) ``` `views.py` ```python def timestamp(time): print(time) .... code here ``` `test` ```python def test_http_request(): """""" Testing a view, using the test client. """""" client = TestClient() response = client.get(""/December 15, 2015"") ``` `time` in `timestamp` function is now `December%2015,%202015` instead of `December 15, 2015` I've also tried with `client.get(""/December%2015,%202015"")` Am I doing something wrong or is this a bug? Thanks",test-file | test-file | test-file | test-file,"Url encoding on TestClient requests I'm adding tests and I have some urls with spaces in it. the tests fail because the url parameters are not properly encoded in the handler function. For example I have a handler function that recieves one parameter ""time"" `routes.py` ```python Route('/{time}', 'GET', timestamp) ``` `views.py` ```python def timestamp(time): print(time) .... code here ``` `test` ```python def test_http_request(): """""" Testing a view, using the test client. """""" client = TestClient() response = client.get(""/December 15, 2015"") ``` `time` in `timestamp` function is now `December%2015,%202015` instead of `December 15, 2015` I've also tried with `client.get(""/December%2015,%202015"")` Am I doing something wrong or is this a bug? Thanks test-file test-file test-file test-file",no-bug,0.9
433,apistar,https://github.com/encode/apistar/issues/433,Compiled regex for String patterns,"The 0.4.3 API documentation at http://www.encode.io/apistar/api-guide/type-system/#serialization suggests that a String pattern can be a string or a compiled regex, as it was in 0.3.9. However, the pattern is currently on validated as being None or being a `str`. It seems easy enough to work around by simply making the pattern not a compiled regex. Below is my modified code that I haven't quite got to the end of testing yet because I'm still converting my app to 0.4.3. ``` class AccessSeekerRef(String): def __init__(self, **kwargs): kwargs['max_length'] = 64 #kwargs['pattern'] = re.compile('^[0-9a-zA-Z_-]+$') kwargs['pattern'] = r'^[0-9a-zA-Z_-]+$' super(AccessSeekerRef, self).__init__(**kwargs) ```",documentation-file | documentation-file,"Compiled regex for String patterns The 0.4.3 API documentation at http://www.encode.io/apistar/api-guide/type-system/#serialization suggests that a String pattern can be a string or a compiled regex, as it was in 0.3.9. However, the pattern is currently on validated as being None or being a `str`. It seems easy enough to work around by simply making the pattern not a compiled regex. Below is my modified code that I haven't quite got to the end of testing yet because I'm still converting my app to 0.4.3. ``` class AccessSeekerRef(String): def __init__(self, **kwargs): kwargs['max_length'] = 64 #kwargs['pattern'] = re.compile('^[0-9a-zA-Z_-]+$') kwargs['pattern'] = r'^[0-9a-zA-Z_-]+$' super(AccessSeekerRef, self).__init__(**kwargs) ``` documentation-file documentation-file",no-bug,0.9
27,apistar,https://github.com/encode/apistar/issues/27,Allow to specify host and port in run command,It should be possible to specify the host and port command for the run command. I would suggest `--host` and `-h` option for host and `--port` and `-p` option for port.,source-file,Allow to specify host and port in run command It should be possible to specify the host and port command for the run command. I would suggest `--host` and `-h` option for host and `--port` and `-p` option for port. source-file,no-bug,0.9
5,apistar,https://github.com/encode/apistar/issues/5,405 Handling,,source-file | source-file | test-file,405 Handling  source-file source-file test-file,no-bug,0.3
246,apistar,https://github.com/encode/apistar/issues/246,Using `ParamName` in component can crash App,"Hey @tomchristie, love this framework and am quickly trying to get up to speed. I've discovered that there is an implicit assumption that `ParamName` annotations are always used in conjunction with a `parent_param`, but it's easy to violate that assumption. Here is a contrived but illustrative example: ```python import base64 import typing import apistar from apistar import Component, Route from apistar.frameworks.wsgi import WSGIApp as App values = { 'a': 'foo', 'b': 'bar', } def get_value(name: apistar.types.ParamName): return values.get(name) GetValue = typing.NewType('GetValue', str) def print_value(a: GetValue, b: GetValue): """""" Contrived function that retrievs a value based on the parameter name """""" return 'The value of a is {} and the value of b is {}'.format(a, b) app = App( routes=[Route('/', 'GET', print_value)], components=[Component(GetValue, init=get_value)]) if __name__ == '__main__': app.main() ``` This results in: ``` ❯ apistar run * Running on http://127.0.0.1:8080/ (Press CTRL+C to quit) * Restarting with stat * Debugger is active! * Debugger PIN: 211-517-262 127.0.0.1 - - [20/Aug/2017 09:18:45] ""GET / HTTP/1.1"" 200 - * Detected change in '/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py', reloading * Restarting with stat Traceback (most recent call last): File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py"", line 88, in run steps = self._steps_cache[func] KeyError: <function get_value at 0x10ca09e18> During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/Users/jlowin/miniconda3/bin/apistar"", line 11, in <module> sys.exit(main()) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/main.py"", line 34, in main app = load_app() File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/main.py"", line 17, in load_app spec.loader.exec_module(module) File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 205, in _call_with_frames_removed File ""app.py"", line 31, in <module> components=[Component(GetValue, init=get_value)] File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/frameworks/wsgi.py"", line 62, in __init__ super().__init__(**kwargs) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/frameworks/cli.py"", line 49, in __init__ initial_state=initial_state File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/frameworks/cli.py"", line 91, in preload_components component = injector.run(func) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py"", line 90, in run steps = self._create_steps(func) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py"", line 197, in _create_steps input_values[param.name] = parent_param.name AttributeError: 'NoneType' object has no attribute 'name' ``` I'm not 100% clear on the internals yet but I think the solution is to simply change [this line](https://github.com/encode/apistar/blob/1a2519c66aa1bd9a304e040a60d02e644d045fcc/apistar/components/dependency.py#L196) from ```python if param.annotation is ParamName: ``` to ```python if param.annotation is ParamName and parent_param: ``` If so, I'm happy to submit a PR to that effect (the following if statement would also need to be adjusted). In case you're wondering why this came up: I wanted to use `ParamName` directives to pull information out of a `dict` describing an authenticated user, in exactly the same way that API Star retrieves `Headers` based on the param name (like `authorization`).",source-file | test-file | source-file | test-file,"Using `ParamName` in component can crash App Hey @tomchristie, love this framework and am quickly trying to get up to speed. I've discovered that there is an implicit assumption that `ParamName` annotations are always used in conjunction with a `parent_param`, but it's easy to violate that assumption. Here is a contrived but illustrative example: ```python import base64 import typing import apistar from apistar import Component, Route from apistar.frameworks.wsgi import WSGIApp as App values = { 'a': 'foo', 'b': 'bar', } def get_value(name: apistar.types.ParamName): return values.get(name) GetValue = typing.NewType('GetValue', str) def print_value(a: GetValue, b: GetValue): """""" Contrived function that retrievs a value based on the parameter name """""" return 'The value of a is {} and the value of b is {}'.format(a, b) app = App( routes=[Route('/', 'GET', print_value)], components=[Component(GetValue, init=get_value)]) if __name__ == '__main__': app.main() ``` This results in: ``` ❯ apistar run * Running on http://127.0.0.1:8080/ (Press CTRL+C to quit) * Restarting with stat * Debugger is active! * Debugger PIN: 211-517-262 127.0.0.1 - - [20/Aug/2017 09:18:45] ""GET / HTTP/1.1"" 200 - * Detected change in '/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py', reloading * Restarting with stat Traceback (most recent call last): File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py"", line 88, in run steps = self._steps_cache[func] KeyError: <function get_value at 0x10ca09e18> During handling of the above exception, another exception occurred: Traceback (most recent call last): File ""/Users/jlowin/miniconda3/bin/apistar"", line 11, in <module> sys.exit(main()) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/main.py"", line 34, in main app = load_app() File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/main.py"", line 17, in load_app spec.loader.exec_module(module) File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module File ""<frozen importlib._bootstrap>"", line 205, in _call_with_frames_removed File ""app.py"", line 31, in <module> components=[Component(GetValue, init=get_value)] File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/frameworks/wsgi.py"", line 62, in __init__ super().__init__(**kwargs) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/frameworks/cli.py"", line 49, in __init__ initial_state=initial_state File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/frameworks/cli.py"", line 91, in preload_components component = injector.run(func) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py"", line 90, in run steps = self._create_steps(func) File ""/users/jlowin/miniconda3/lib/python3.6/site-packages/apistar/components/dependency.py"", line 197, in _create_steps input_values[param.name] = parent_param.name AttributeError: 'NoneType' object has no attribute 'name' ``` I'm not 100% clear on the internals yet but I think the solution is to simply change [this line](https://github.com/encode/apistar/blob/1a2519c66aa1bd9a304e040a60d02e644d045fcc/apistar/components/dependency.py#L196) from ```python if param.annotation is ParamName: ``` to ```python if param.annotation is ParamName and parent_param: ``` If so, I'm happy to submit a PR to that effect (the following if statement would also need to be adjusted). In case you're wondering why this came up: I wanted to use `ParamName` directives to pull information out of a `dict` describing an authenticated user, in exactly the same way that API Star retrieves `Headers` based on the param name (like `authorization`). source-file test-file source-file test-file",no-bug,0.8
247,apistar,https://github.com/encode/apistar/issues/247,flatten_routes() is order-sensitive and gets the wrong path when Include precedes Route,"When a list of routes that contains an `Includes` object before a `Route` object is passed to `apistar.core.flatten_routes`, the path of the Includes object is assigned to the Route object. For example: ```python import apistar from apistar import Include, Route routes = [ Include('/nested', [Route('/a', 'GET', lambda: 'a', name='a')]), Route('/x', 'GET', lambda: 'x', name='x'), ] flat_routes = apistar.core.flatten_routes(routes) assert flat_routes[0].path == '/nested/a' # This check fails; the path picked up the parent route of the preceding Include assert flat_routes[1].path == '/x' ``` The cause of the bug is an inplace assignment to `prefix_path` in the `Include` branch of `flatten_routes()` [here](https://github.com/encode/apistar/blame/master/apistar/core.py#L75); `prefix_path` is then reused by any subsequent `Route` objects.",source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file | source-file | test-file,"flatten_routes() is order-sensitive and gets the wrong path when Include precedes Route When a list of routes that contains an `Includes` object before a `Route` object is passed to `apistar.core.flatten_routes`, the path of the Includes object is assigned to the Route object. For example: ```python import apistar from apistar import Include, Route routes = [ Include('/nested', [Route('/a', 'GET', lambda: 'a', name='a')]), Route('/x', 'GET', lambda: 'x', name='x'), ] flat_routes = apistar.core.flatten_routes(routes) assert flat_routes[0].path == '/nested/a' # This check fails; the path picked up the parent route of the preceding Include assert flat_routes[1].path == '/x' ``` The cause of the bug is an inplace assignment to `prefix_path` in the `Include` branch of `flatten_routes()` [here](https://github.com/encode/apistar/blame/master/apistar/core.py#L75); `prefix_path` is then reused by any subsequent `Route` objects. source-file test-file source-file test-file source-file test-file source-file test-file source-file test-file",no-bug,0.7
671,apistar,https://github.com/encode/apistar/issues/671,Fix simple typo: agnositic -> agnostic,There is a small typo in README.md. Should read `agnostic` rather than `agnositic`.,documentation-file,Fix simple typo: agnositic -> agnostic There is a small typo in README.md. Should read `agnostic` rather than `agnositic`. documentation-file,no-bug,0.95
123,apistar,https://github.com/encode/apistar/issues/123,Improve Zappa integration,See https://github.com/Miserlou/Zappa/issues/801 * Probably want to add `__call__` to App class. * Autodetection in Zappa. * Documentation in Zappa.,documentation-file | documentation-file | documentation-file | documentation-file,Improve Zappa integration See https://github.com/Miserlou/Zappa/issues/801 * Probably want to add `__call__` to App class. * Autodetection in Zappa. * Documentation in Zappa. documentation-file documentation-file documentation-file documentation-file,no-bug,0.8
552,apistar,https://github.com/encode/apistar/issues/552,Schema generation fails with Exception: Cannot encode item <apistar.validators.Any object>,"Not generating schema on `validators.Any` Type? **apistar:** 0.5.21 using ASYncApp This is the piece of code (that works like a charm BTW): ```python from apistar import types, validators class ClientQueryType(types.Type): sql = validators.String() args = validators.Array(validators.Any(), allow_null=True, default=[]) class ModelQueryType(types.Type): filters = validators.Object(allow_null=True, default={}) columns = validators.Array(validators.String(), allow_null=True, default=[""*""]) ``` ```python ➜ /app git:(dev) ✗ curl -i http://localhost:8000/schema/ [04:15:12][CRITICAL] robbie.http_.microservice.hooks.error injector.py:run:106 | Error(Unknown): Request (GET http://127.0.0.1:8000/schema/) Headers ({'host': 'localhost:8000', 'user-agent': 'curl/7.59.0', 'accept': '*/*'}) Traceback (most recent call last): File ""/usr/local/lib/python3.6/site-packages/apistar/server/app.py"", line 334, in asgi_callable await self.injector.run_async(funcs, state) File ""/usr/local/lib/python3.6/site-packages/apistar/server/injector.py"", line 132, in run_async state[output_name] = func(**func_kwargs) File ""/usr/local/lib/python3.6/site-packages/apistar/server/app.py"", line 325, in asgi_callable await self.injector.run_async(funcs, state) File ""/usr/local/lib/python3.6/site-packages/apistar/server/injector.py"", line 132, in run_async state[output_name] = func(**func_kwargs) File ""/usr/local/lib/python3.6/site-packages/apistar/server/handlers.py"", line 10, in serve_schema content = codec.encode(app.document) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/openapi.py"", line 506, in encode paths = self.get_paths(document, schema_defs=schema_defs) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/openapi.py"", line 544, in get_paths paths[path][method] = self.get_operation(link, operation_id, tag=tag, schema_defs=schema_defs) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/openapi.py"", line 572, in get_operation '#/components/schemas/' File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 229, in encode_to_data_structure item, defs, def_prefix, is_def=True File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 284, in encode_to_data_structure for key, value in item.properties.items() File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 284, in <listcomp> for key, value in item.properties.items() File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 293, in encode_to_data_structure value['items'] = self.encode_to_data_structure(item.items, defs, def_prefix) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 304, in encode_to_data_structure raise Exception('Cannot encode item %s' % item) Exception: Cannot encode item <apistar.validators.Any object at 0x7f64f0a7e470> ```",source-file | source-file | source-file | source-file,"Schema generation fails with Exception: Cannot encode item <apistar.validators.Any object> Not generating schema on `validators.Any` Type? **apistar:** 0.5.21 using ASYncApp This is the piece of code (that works like a charm BTW): ```python from apistar import types, validators class ClientQueryType(types.Type): sql = validators.String() args = validators.Array(validators.Any(), allow_null=True, default=[]) class ModelQueryType(types.Type): filters = validators.Object(allow_null=True, default={}) columns = validators.Array(validators.String(), allow_null=True, default=[""*""]) ``` ```python ➜ /app git:(dev) ✗ curl -i http://localhost:8000/schema/ [04:15:12][CRITICAL] robbie.http_.microservice.hooks.error injector.py:run:106 | Error(Unknown): Request (GET http://127.0.0.1:8000/schema/) Headers ({'host': 'localhost:8000', 'user-agent': 'curl/7.59.0', 'accept': '*/*'}) Traceback (most recent call last): File ""/usr/local/lib/python3.6/site-packages/apistar/server/app.py"", line 334, in asgi_callable await self.injector.run_async(funcs, state) File ""/usr/local/lib/python3.6/site-packages/apistar/server/injector.py"", line 132, in run_async state[output_name] = func(**func_kwargs) File ""/usr/local/lib/python3.6/site-packages/apistar/server/app.py"", line 325, in asgi_callable await self.injector.run_async(funcs, state) File ""/usr/local/lib/python3.6/site-packages/apistar/server/injector.py"", line 132, in run_async state[output_name] = func(**func_kwargs) File ""/usr/local/lib/python3.6/site-packages/apistar/server/handlers.py"", line 10, in serve_schema content = codec.encode(app.document) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/openapi.py"", line 506, in encode paths = self.get_paths(document, schema_defs=schema_defs) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/openapi.py"", line 544, in get_paths paths[path][method] = self.get_operation(link, operation_id, tag=tag, schema_defs=schema_defs) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/openapi.py"", line 572, in get_operation '#/components/schemas/' File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 229, in encode_to_data_structure item, defs, def_prefix, is_def=True File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 284, in encode_to_data_structure for key, value in item.properties.items() File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 284, in <listcomp> for key, value in item.properties.items() File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 293, in encode_to_data_structure value['items'] = self.encode_to_data_structure(item.items, defs, def_prefix) File ""/usr/local/lib/python3.6/site-packages/apistar/codecs/jsonschema.py"", line 304, in encode_to_data_structure raise Exception('Cannot encode item %s' % item) Exception: Cannot encode item <apistar.validators.Any object at 0x7f64f0a7e470> ``` source-file source-file source-file source-file",no-bug,0.8
75,apistar,https://github.com/encode/apistar/issues/75,Django ORM backend,"At some point I'd like to see us bring in a Django ORM backend that provides the functionality of the ORM and migrations framework. The developer productivity that Django brings there is pretty awesome, and I'd really like to see both this *and* SQLAlchemy be valid options.",source-file | source-file | other-file,"Django ORM backend At some point I'd like to see us bring in a Django ORM backend that provides the functionality of the ORM and migrations framework. The developer productivity that Django brings there is pretty awesome, and I'd really like to see both this *and* SQLAlchemy be valid options. source-file source-file other-file",no-bug,0.9
38,apistar,https://github.com/encode/apistar/issues/38,Apistar requires ujson which is not listed in setup.py,"command `apistar new --template minimal` returns: ```bash ~/devment/apistar » apistar new --template minimal [apistar]sylwesterbrzeczkowski@Sylwesters-MacBook-Pro Traceback (most recent call last): File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/bin/apistar"", line 7, in <module> from apistar.main import main File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/__init__.py"", line 8, in <module> from apistar.app import App File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/app.py"", line 5, in <module> from apistar import commands, routing File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/routing.py"", line 9, in <module> from apistar import app, http, pipelines, schema, wsgi File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/http.py"", line 10, in <module> import ujson as json ModuleNotFoundError: No module named 'ujson' ```",source-file | source-file,"Apistar requires ujson which is not listed in setup.py command `apistar new --template minimal` returns: ```bash ~/devment/apistar » apistar new --template minimal [apistar]sylwesterbrzeczkowski@Sylwesters-MacBook-Pro Traceback (most recent call last): File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/bin/apistar"", line 7, in <module> from apistar.main import main File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/__init__.py"", line 8, in <module> from apistar.app import App File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/app.py"", line 5, in <module> from apistar import commands, routing File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/routing.py"", line 9, in <module> from apistar import app, http, pipelines, schema, wsgi File ""/Users/sylwesterbrzeczkowski/.virtualenvs/apistar/lib/python3.6/site-packages/apistar/http.py"", line 10, in <module> import ujson as json ModuleNotFoundError: No module named 'ujson' ``` source-file source-file",no-bug,0.9
486,apistar,https://github.com/encode/apistar/issues/486,Add description to PyPI,"Should essentially match what we have in the README, using markdown formatting.",source-file,"Add description to PyPI Should essentially match what we have in the README, using markdown formatting. source-file",no-bug,0.9
87,apistar,https://github.com/encode/apistar/issues/87,Add missing type annotations,"This would be a great area for contributions. Ie. if you're looking to just start getting involved in the project, then... * Run `venv/bin/mypy apistar tests --ignore-missing-imports --disallow-untyped-defs` * Pick one of the modules (in `apistar`, rather than in the `tests` directory, at least for now) * Go through and see if you can add all the missing type annotations for that module. * Make a pull request! If you do want to take this on, then only add type annotations for a single module in any one pull request. (Rather than making a big pull request which affects multiple modules) <p align=""center"">&mdash; ⭐️ &mdash;</p> In due course we *could* consider adding `--disallow-untyped-defs` to our mypy checking of the project. This'd give us: `venv/bin/mypy apistar tests --ignore-missing-imports --disallow-untyped-defs` Doing so would force us to add type annotations *everywhere* within `apistar` itself. There are some test cases where we deliberately *don't* want to use this, as we're eg. checking functionality that occurs when eg. an untyped view is used, so we'd want to turn it off in those cases. (Or alternatively that might not be something we want to support anyways, and we *enforce* that handled views in API Star are *always* typed?) So, question: * What's the comment directive for turning that functionality off on a line-by-line basis? Is there one?",source-file | source-file | test-file | source-file | source-file | source-file | source-file | test-file | source-file,"Add missing type annotations This would be a great area for contributions. Ie. if you're looking to just start getting involved in the project, then... * Run `venv/bin/mypy apistar tests --ignore-missing-imports --disallow-untyped-defs` * Pick one of the modules (in `apistar`, rather than in the `tests` directory, at least for now) * Go through and see if you can add all the missing type annotations for that module. * Make a pull request! If you do want to take this on, then only add type annotations for a single module in any one pull request. (Rather than making a big pull request which affects multiple modules) <p align=""center"">&mdash; ⭐️ &mdash;</p> In due course we *could* consider adding `--disallow-untyped-defs` to our mypy checking of the project. This'd give us: `venv/bin/mypy apistar tests --ignore-missing-imports --disallow-untyped-defs` Doing so would force us to add type annotations *everywhere* within `apistar` itself. There are some test cases where we deliberately *don't* want to use this, as we're eg. checking functionality that occurs when eg. an untyped view is used, so we'd want to turn it off in those cases. (Or alternatively that might not be something we want to support anyways, and we *enforce* that handled views in API Star are *always* typed?) So, question: * What's the comment directive for turning that functionality off on a line-by-line basis? Is there one? source-file source-file test-file source-file source-file source-file source-file test-file source-file",no-bug,0.9
