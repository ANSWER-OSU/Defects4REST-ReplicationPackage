issue_no,repo,issue_url,title,description,patched_file_types
5347,cgm-remote-monitor,https://github.com/nightscout/cgm-remote-monitor/issues/5347,Alexa and Authentication Roles,"Following the set up guide fully, it appears Alexa will not connect to a nightscout site that has authentication roles set up. She will read out the BG and connect fine when the endpoint is set to ''https://mynightscoutsite.herokuapp.com/api/v1/alexa'' and no auth roles are active. However, Alexa will not come back with a response if I have authentication roles enabled within nightscout. Even if I add a valid auth role token into the endpoint URL. I'd prefer my nightscout site to remain password protected so if this can be adjusted to allow for token access that would be fantastic. Thanks for all of your development work!",other-file | ui-file | documentation-file | config-file | source-file | data-file | test-file
7910,cgm-remote-monitor,https://github.com/nightscout/cgm-remote-monitor/issues/7910,Issue with api v1 returning stale data,"I have a Mac OS X app that I made that pulls the latest CGM values from Nightscout using v1/entries - a user recently reported that their values are all showing as stale / old. When I looked into it, I can see that he's on the DEV branch of cgm-remote-monitor, and when I hit his v1/entries endpoint and compare to v2/properties it's clear that the v1 endpoint is no longer reporting up-to-date values. I have since upgraded my own instance and I can see the same behaviour. **To Reproduce** Steps to reproduce the behavior: 1. Go to api/v1/entries on a NS instance running 15.0 2. Look at the timestamps / epoc times and you will see they are multiple hours old versus the latest bgnow readings at api/v2/properties **Expected behavior** api/v1/entries should be up to date. - NS version 15.0 - My data comes from loop://iPhone but the other user's data comes from xDrip-DexcomG5 G6 Native - Not specific to a browser or device",other-file | ui-file | documentation-file | config-file | source-file | data-file | test-file
3468,cgm-remote-monitor,https://github.com/nightscout/cgm-remote-monitor/issues/3468,[API] Treatments with invalid IDs can be uploaded successfully,"I'm working on a Swift wrapper around the Nightscout API and have encountered a bug with some odd consequences: a treatment can be uploaded with an invalid ID. However, upon querying the API to modify/delete by this ID, the API will return an error response, so the invalid treatment is effectively untouchable. I haven't tested uploading an entry/profile record/device status/etc. with an invalid ID, but I suspect that this issue persists in those cases. Here's a sample of some data that uploaded successfully. Note that the ID is most definitely not a 24-character-long string of hex digits.  { ""_id"": ""-5"", ""notes"": ""NOT VALID"", ""eventType"": ""Note"", ""duration"": 0, ""created_at"": ""2018-03-24T03:15:38"", ""carbs"": null, ""insulin"": null }",source-file
6843,cgm-remote-monitor,https://github.com/nightscout/cgm-remote-monitor/issues/6843,Invalid request causes crash of nightscout (potencial DoS),"version of socketio client 2.3.0, nightscout 14.1.0 Sample code: const io = require(""socket.io-client""); const socket = io.connect('ws://url-of-nightscout/'); socket.emit(""authorize""); Log of NS: /opt/app/lib/server/websocket.js:87 ctx.authorization.resolve({ api_secret: message.secret, token: message.token, ip: ip }, function resolved (err, result) { ^ TypeError: Cannot read property 'secret' of undefined at verifyAuthorization (/opt/app/lib/server/websocket.js:87:53) at Socket.authorize (/opt/app/lib/server/websocket.js:503:9) at Socket.emit (events.js:315:20) at /opt/app/node_modules/socket.io/lib/socket.js:528:12 at processTicksAndRejections (internal/process/task_queues.js:75:11)",other-file | ui-file | documentation-file | container-file | config-file | source-file | data-file | test-file
